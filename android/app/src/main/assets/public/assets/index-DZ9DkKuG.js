var Hbe=Object.defineProperty;var LU=t=>{throw TypeError(t)};var Wbe=(t,e,r)=>e in t?Hbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>Wbe(t,typeof e!="symbol"?e+"":e,r),nN=(t,e,r)=>e.has(t)||LU("Cannot "+r);var K=(t,e,r)=>(nN(t,e,"read from private field"),r?r.call(t):e.get(t)),Ne=(t,e,r)=>e.has(t)?LU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),oe=(t,e,r,n)=>(nN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ye=(t,e,r)=>(nN(t,e,"access private method"),r);var Xh=(t,e,r,n)=>({set _(s){oe(t,e,s,r)},get _(){return K(t,e,n)}});function RY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var DY={exports:{}},cP={},UY={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4=Symbol.for("react.element"),qbe=Symbol.for("react.portal"),Kbe=Symbol.for("react.fragment"),Xbe=Symbol.for("react.strict_mode"),Zbe=Symbol.for("react.profiler"),Jbe=Symbol.for("react.provider"),Qbe=Symbol.for("react.context"),Ybe=Symbol.for("react.forward_ref"),Gbe=Symbol.for("react.suspense"),eye=Symbol.for("react.memo"),tye=Symbol.for("react.lazy"),VU=Symbol.iterator;function rye(t){return t===null||typeof t!="object"?null:(t=VU&&t[VU]||t["@@iterator"],typeof t=="function"?t:null)}var zY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LY=Object.assign,VY={};function qx(t,e,r){this.props=t,this.context=e,this.refs=VY,this.updater=r||zY}qx.prototype.isReactComponent={};qx.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qx.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HY(){}HY.prototype=qx.prototype;function PO(t,e,r){this.props=t,this.context=e,this.refs=VY,this.updater=r||zY}var kO=PO.prototype=new HY;kO.constructor=PO;LY(kO,qx.prototype);kO.isPureReactComponent=!0;var HU=Array.isArray,WY=Object.prototype.hasOwnProperty,IO={current:null},qY={key:!0,ref:!0,__self:!0,__source:!0};function KY(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)WY.call(e,n)&&!qY.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:P4,type:t,key:i,ref:a,props:s,_owner:IO.current}}function nye(t,e){return{$$typeof:P4,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NO(t){return typeof t=="object"&&t!==null&&t.$$typeof===P4}function sye(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var WU=/\/+/g;function sN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sye(""+t.key):e.toString(36)}function I9(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case P4:case qbe:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+sN(a,0):n,HU(s)?(r="",t!=null&&(r=t.replace(WU,"$&/")+"/"),I9(s,e,r,"",function(l){return l})):s!=null&&(NO(s)&&(s=nye(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(WU,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",HU(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+sN(i,o);a+=I9(i,e,r,c,s)}else if(c=rye(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+sN(i,o++),a+=I9(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function L5(t,e,r){if(t==null)return t;var n=[],s=0;return I9(t,n,"","",function(i){return e.call(r,i,s++)}),n}function iye(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var io={current:null},N9={transition:null},aye={ReactCurrentDispatcher:io,ReactCurrentBatchConfig:N9,ReactCurrentOwner:IO};function XY(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:L5,forEach:function(t,e,r){L5(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return L5(t,function(){e++}),e},toArray:function(t){return L5(t,function(e){return e})||[]},only:function(t){if(!NO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fr.Component=qx;Fr.Fragment=Kbe;Fr.Profiler=Zbe;Fr.PureComponent=PO;Fr.StrictMode=Xbe;Fr.Suspense=Gbe;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aye;Fr.act=XY;Fr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=LY({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=IO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)WY.call(e,c)&&!qY.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:P4,type:t.type,key:s,ref:i,props:n,_owner:a}};Fr.createContext=function(t){return t={$$typeof:Qbe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jbe,_context:t},t.Consumer=t};Fr.createElement=KY;Fr.createFactory=function(t){var e=KY.bind(null,t);return e.type=t,e};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(t){return{$$typeof:Ybe,render:t}};Fr.isValidElement=NO;Fr.lazy=function(t){return{$$typeof:tye,_payload:{_status:-1,_result:t},_init:iye}};Fr.memo=function(t,e){return{$$typeof:eye,type:t,compare:e===void 0?null:e}};Fr.startTransition=function(t){var e=N9.transition;N9.transition={};try{t()}finally{N9.transition=e}};Fr.unstable_act=XY;Fr.useCallback=function(t,e){return io.current.useCallback(t,e)};Fr.useContext=function(t){return io.current.useContext(t)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(t){return io.current.useDeferredValue(t)};Fr.useEffect=function(t,e){return io.current.useEffect(t,e)};Fr.useId=function(){return io.current.useId()};Fr.useImperativeHandle=function(t,e,r){return io.current.useImperativeHandle(t,e,r)};Fr.useInsertionEffect=function(t,e){return io.current.useInsertionEffect(t,e)};Fr.useLayoutEffect=function(t,e){return io.current.useLayoutEffect(t,e)};Fr.useMemo=function(t,e){return io.current.useMemo(t,e)};Fr.useReducer=function(t,e,r){return io.current.useReducer(t,e,r)};Fr.useRef=function(t){return io.current.useRef(t)};Fr.useState=function(t){return io.current.useState(t)};Fr.useSyncExternalStore=function(t,e,r){return io.current.useSyncExternalStore(t,e,r)};Fr.useTransition=function(){return io.current.useTransition()};Fr.version="18.3.1";UY.exports=Fr;var F=UY.exports;const Qr=Ua(F),ZY=RY({__proto__:null,default:Qr},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oye=F,cye=Symbol.for("react.element"),lye=Symbol.for("react.fragment"),uye=Object.prototype.hasOwnProperty,dye=oye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fye={key:!0,ref:!0,__self:!0,__source:!0};function JY(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)uye.call(e,n)&&!fye.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:cye,type:t,key:i,ref:a,props:s,_owner:dye.current}}cP.Fragment=lye;cP.jsx=JY;cP.jsxs=JY;DY.exports=cP;var d=DY.exports,QY={exports:{}},wc={},YY={exports:{}},GY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,A){var y=I.length;I.push(A);e:for(;0<y;){var C=y-1>>>1,$=I[C];if(0<s($,A))I[C]=A,I[y]=$,y=C;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],y=I.pop();if(y!==A){I[0]=y;e:for(var C=0,$=I.length,L=$>>>1;C<L;){var Q=2*(C+1)-1,U=I[Q],J=Q+1,Z=I[J];if(0>s(U,y))J<$&&0>s(Z,U)?(I[C]=Z,I[J]=y,C=J):(I[C]=U,I[Q]=y,C=Q);else if(J<$&&0>s(Z,y))I[C]=Z,I[J]=y,C=J;else break e}}return A}function s(I,A){var y=I.sortIndex-A.sortIndex;return y!==0?y:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,f=null,h=3,m=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var A=r(l);A!==null;){if(A.callback===null)n(l);else if(A.startTime<=I)n(l),A.sortIndex=A.expirationTime,e(c,A);else break;A=r(l)}}function M(I){if(x=!1,_(I),!v)if(r(c)!==null)v=!0,S(B);else{var A=r(l);A!==null&&N(M,A.startTime-I)}}function B(I,A){v=!1,x&&(x=!1,E(T),T=-1),m=!0;var y=h;try{for(_(A),f=r(c);f!==null&&(!(f.expirationTime>A)||I&&!O());){var C=f.callback;if(typeof C=="function"){f.callback=null,h=f.priorityLevel;var $=C(f.expirationTime<=A);A=t.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),_(A)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var Q=r(l);Q!==null&&N(M,Q.startTime-A),L=!1}return L}finally{f=null,h=y,m=!1}}var D=!1,j=null,T=-1,R=5,H=-1;function O(){return!(t.unstable_now()-H<R)}function b(){if(j!==null){var I=t.unstable_now();H=I;var A=!0;try{A=j(!0,I)}finally{A?w():(D=!1,j=null)}}else D=!1}var w;if(typeof P=="function")w=function(){P(b)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,g=p.port2;p.port1.onmessage=b,w=function(){g.postMessage(null)}}else w=function(){k(b,0)};function S(I){j=I,D||(D=!0,w())}function N(I,A){T=k(function(){I(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,S(B))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var y=h;h=A;try{return I()}finally{h=y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var y=h;h=I;try{return A()}finally{h=y}},t.unstable_scheduleCallback=function(I,A,y){var C=t.unstable_now();switch(typeof y=="object"&&y!==null?(y=y.delay,y=typeof y=="number"&&0<y?C+y:C):y=C,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=y+$,I={id:u++,callback:A,priorityLevel:I,startTime:y,expirationTime:$,sortIndex:-1},y>C?(I.sortIndex=y,e(l,I),r(c)===null&&I===r(l)&&(x?(E(T),T=-1):x=!0,N(M,y-C))):(I.sortIndex=$,e(c,I),v||m||(v=!0,S(B))),I},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(I){var A=h;return function(){var y=h;h=A;try{return I.apply(this,arguments)}finally{h=y}}}})(GY);YY.exports=GY;var hye=YY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pye=F,gc=hye;function Et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eG=new Set,$3={};function j1(t,e){Jv(t,e),Jv(t+"Capture",e)}function Jv(t,e){for($3[t]=e,t=0;t<e.length;t++)eG.add(e[t])}var wh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TC=Object.prototype.hasOwnProperty,mye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qU={},KU={};function gye(t){return TC.call(KU,t)?!0:TC.call(qU,t)?!1:mye.test(t)?KU[t]=!0:(qU[t]=!0,!1)}function bye(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yye(t,e,r,n){if(e===null||typeof e>"u"||bye(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ao(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ki[t]=new ao(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ki[e]=new ao(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ki[t]=new ao(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ki[t]=new ao(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ki[t]=new ao(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ki[t]=new ao(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ki[t]=new ao(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ki[t]=new ao(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ki[t]=new ao(t,5,!1,t.toLowerCase(),null,!1,!1)});var EO=/[\-:]([a-z])/g;function _O(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(EO,_O);Ki[e]=new ao(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(EO,_O);Ki[e]=new ao(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(EO,_O);Ki[e]=new ao(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ki[t]=new ao(t,1,!1,t.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ki[t]=new ao(t,1,!1,t.toLowerCase(),null,!0,!0)});function CO(t,e,r,n){var s=Ki.hasOwnProperty(e)?Ki[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yye(e,r,s,n)&&(r=null),n||s===null?gye(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Rh=pye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V5=Symbol.for("react.element"),zb=Symbol.for("react.portal"),Lb=Symbol.for("react.fragment"),TO=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),tG=Symbol.for("react.provider"),rG=Symbol.for("react.context"),jO=Symbol.for("react.forward_ref"),$C=Symbol.for("react.suspense"),MC=Symbol.for("react.suspense_list"),$O=Symbol.for("react.memo"),E0=Symbol.for("react.lazy"),nG=Symbol.for("react.offscreen"),XU=Symbol.iterator;function B2(t){return t===null||typeof t!="object"?null:(t=XU&&t[XU]||t["@@iterator"],typeof t=="function"?t:null)}var ps=Object.assign,iN;function _w(t){if(iN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);iN=e&&e[1]||""}return`
`+iN+t}var aN=!1;function oN(t,e){if(!t||aN)return"";aN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{aN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_w(t):""}function vye(t){switch(t.tag){case 5:return _w(t.type);case 16:return _w("Lazy");case 13:return _w("Suspense");case 19:return _w("SuspenseList");case 0:case 2:case 15:return t=oN(t.type,!1),t;case 11:return t=oN(t.type.render,!1),t;case 1:return t=oN(t.type,!0),t;default:return""}}function OC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lb:return"Fragment";case zb:return"Portal";case jC:return"Profiler";case TO:return"StrictMode";case $C:return"Suspense";case MC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rG:return(t.displayName||"Context")+".Consumer";case tG:return(t._context.displayName||"Context")+".Provider";case jO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $O:return e=t.displayName||null,e!==null?e:OC(t.type)||"Memo";case E0:e=t._payload,t=t._init;try{return OC(t(e))}catch{}}return null}function xye(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OC(e);case 8:return e===TO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sG(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wye(t){var e=sG(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function H5(t){t._valueTracker||(t._valueTracker=wye(t))}function iG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sG(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function R7(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function FC(t,e){var r=e.checked;return ps({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ZU(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fp(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aG(t,e){e=e.checked,e!=null&&CO(t,"checked",e,!1)}function BC(t,e){aG(t,e);var r=Fp(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RC(t,e.type,r):e.hasOwnProperty("defaultValue")&&RC(t,e.type,Fp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JU(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RC(t,e,r){(e!=="number"||R7(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cw=Array.isArray;function by(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fp(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function DC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Et(91));return ps({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QU(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Et(92));if(Cw(r)){if(1<r.length)throw Error(Et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fp(r)}}function oG(t,e){var r=Fp(e.value),n=Fp(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function YU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var W5,lG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(W5=W5||document.createElement("div"),W5.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=W5.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function M3(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var i3={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aye=["Webkit","ms","Moz","O"];Object.keys(i3).forEach(function(t){Aye.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),i3[e]=i3[t]})});function uG(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||i3.hasOwnProperty(t)&&i3[t]?(""+e).trim():e+"px"}function dG(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uG(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Sye=ps({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zC(t,e){if(e){if(Sye[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Et(62))}}function LC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VC=null;function MO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var HC=null,yy=null,vy=null;function GU(t){if(t=N4(t)){if(typeof HC!="function")throw Error(Et(280));var e=t.stateNode;e&&(e=hP(e),HC(t.stateNode,t.type,e))}}function fG(t){yy?vy?vy.push(t):vy=[t]:yy=t}function hG(){if(yy){var t=yy,e=vy;if(vy=yy=null,GU(t),e)for(t=0;t<e.length;t++)GU(e[t])}}function pG(t,e){return t(e)}function mG(){}var cN=!1;function gG(t,e,r){if(cN)return t(e,r);cN=!0;try{return pG(t,e,r)}finally{cN=!1,(yy!==null||vy!==null)&&(mG(),hG())}}function O3(t,e){var r=t.stateNode;if(r===null)return null;var n=hP(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Et(231,e,typeof r));return r}var WC=!1;if(wh)try{var R2={};Object.defineProperty(R2,"passive",{get:function(){WC=!0}}),window.addEventListener("test",R2,R2),window.removeEventListener("test",R2,R2)}catch{WC=!1}function Pye(t,e,r,n,s,i,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var a3=!1,D7=null,U7=!1,qC=null,kye={onError:function(t){a3=!0,D7=t}};function Iye(t,e,r,n,s,i,a,o,c){a3=!1,D7=null,Pye.apply(kye,arguments)}function Nye(t,e,r,n,s,i,a,o,c){if(Iye.apply(this,arguments),a3){if(a3){var l=D7;a3=!1,D7=null}else throw Error(Et(198));U7||(U7=!0,qC=l)}}function $1(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ez(t){if($1(t)!==t)throw Error(Et(188))}function Eye(t){var e=t.alternate;if(!e){if(e=$1(t),e===null)throw Error(Et(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ez(s),t;if(i===n)return ez(s),e;i=i.sibling}throw Error(Et(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Et(189))}}if(r.alternate!==n)throw Error(Et(190))}if(r.tag!==3)throw Error(Et(188));return r.stateNode.current===r?t:e}function yG(t){return t=Eye(t),t!==null?vG(t):null}function vG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vG(t);if(e!==null)return e;t=t.sibling}return null}var xG=gc.unstable_scheduleCallback,tz=gc.unstable_cancelCallback,_ye=gc.unstable_shouldYield,Cye=gc.unstable_requestPaint,Cs=gc.unstable_now,Tye=gc.unstable_getCurrentPriorityLevel,OO=gc.unstable_ImmediatePriority,wG=gc.unstable_UserBlockingPriority,z7=gc.unstable_NormalPriority,jye=gc.unstable_LowPriority,AG=gc.unstable_IdlePriority,lP=null,jd=null;function $ye(t){if(jd&&typeof jd.onCommitFiberRoot=="function")try{jd.onCommitFiberRoot(lP,t,void 0,(t.current.flags&128)===128)}catch{}}var xu=Math.clz32?Math.clz32:Fye,Mye=Math.log,Oye=Math.LN2;function Fye(t){return t>>>=0,t===0?32:31-(Mye(t)/Oye|0)|0}var q5=64,K5=4194304;function Tw(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L7(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Tw(o):(i&=a,i!==0&&(n=Tw(i)))}else a=r&~s,a!==0?n=Tw(a):i!==0&&(n=Tw(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xu(e),s=1<<r,n|=t[r],e&=~s;return n}function Bye(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rye(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-xu(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Bye(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function KC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SG(){var t=q5;return q5<<=1,!(q5&4194240)&&(q5=64),t}function lN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function k4(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xu(e),t[e]=r}function Dye(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-xu(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function FO(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xu(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var yn=0;function PG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kG,BO,IG,NG,EG,XC=!1,X5=[],wp=null,Ap=null,Sp=null,F3=new Map,B3=new Map,D0=[],Uye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rz(t,e){switch(t){case"focusin":case"focusout":wp=null;break;case"dragenter":case"dragleave":Ap=null;break;case"mouseover":case"mouseout":Sp=null;break;case"pointerover":case"pointerout":F3.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":B3.delete(e.pointerId)}}function D2(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=N4(e),e!==null&&BO(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zye(t,e,r,n,s){switch(e){case"focusin":return wp=D2(wp,t,e,r,n,s),!0;case"dragenter":return Ap=D2(Ap,t,e,r,n,s),!0;case"mouseover":return Sp=D2(Sp,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return F3.set(i,D2(F3.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,B3.set(i,D2(B3.get(i)||null,t,e,r,n,s)),!0}return!1}function _G(t){var e=Ym(t.target);if(e!==null){var r=$1(e);if(r!==null){if(e=r.tag,e===13){if(e=bG(r),e!==null){t.blockedOn=e,EG(t.priority,function(){IG(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function E9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ZC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);VC=n,r.target.dispatchEvent(n),VC=null}else return e=N4(r),e!==null&&BO(e),t.blockedOn=r,!1;e.shift()}return!0}function nz(t,e,r){E9(t)&&r.delete(e)}function Lye(){XC=!1,wp!==null&&E9(wp)&&(wp=null),Ap!==null&&E9(Ap)&&(Ap=null),Sp!==null&&E9(Sp)&&(Sp=null),F3.forEach(nz),B3.forEach(nz)}function U2(t,e){t.blockedOn===e&&(t.blockedOn=null,XC||(XC=!0,gc.unstable_scheduleCallback(gc.unstable_NormalPriority,Lye)))}function R3(t){function e(s){return U2(s,t)}if(0<X5.length){U2(X5[0],t);for(var r=1;r<X5.length;r++){var n=X5[r];n.blockedOn===t&&(n.blockedOn=null)}}for(wp!==null&&U2(wp,t),Ap!==null&&U2(Ap,t),Sp!==null&&U2(Sp,t),F3.forEach(e),B3.forEach(e),r=0;r<D0.length;r++)n=D0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<D0.length&&(r=D0[0],r.blockedOn===null);)_G(r),r.blockedOn===null&&D0.shift()}var xy=Rh.ReactCurrentBatchConfig,V7=!0;function Vye(t,e,r,n){var s=yn,i=xy.transition;xy.transition=null;try{yn=1,RO(t,e,r,n)}finally{yn=s,xy.transition=i}}function Hye(t,e,r,n){var s=yn,i=xy.transition;xy.transition=null;try{yn=4,RO(t,e,r,n)}finally{yn=s,xy.transition=i}}function RO(t,e,r,n){if(V7){var s=ZC(t,e,r,n);if(s===null)vN(t,e,n,H7,r),rz(t,n);else if(zye(s,t,e,r,n))n.stopPropagation();else if(rz(t,n),e&4&&-1<Uye.indexOf(t)){for(;s!==null;){var i=N4(s);if(i!==null&&kG(i),i=ZC(t,e,r,n),i===null&&vN(t,e,n,H7,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vN(t,e,n,null,r)}}var H7=null;function ZC(t,e,r,n){if(H7=null,t=MO(n),t=Ym(t),t!==null)if(e=$1(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bG(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return H7=t,null}function CG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tye()){case OO:return 1;case wG:return 4;case z7:case jye:return 16;case AG:return 536870912;default:return 16}default:return 16}}var pp=null,DO=null,_9=null;function TG(){if(_9)return _9;var t,e=DO,r=e.length,n,s="value"in pp?pp.value:pp.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return _9=s.slice(t,1<n?1-n:void 0)}function C9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Z5(){return!0}function sz(){return!1}function Ac(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Z5:sz,this.isPropagationStopped=sz,this}return ps(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Z5)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Z5)},persist:function(){},isPersistent:Z5}),e}var Kx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UO=Ac(Kx),I4=ps({},Kx,{view:0,detail:0}),Wye=Ac(I4),uN,dN,z2,uP=ps({},I4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==z2&&(z2&&t.type==="mousemove"?(uN=t.screenX-z2.screenX,dN=t.screenY-z2.screenY):dN=uN=0,z2=t),uN)},movementY:function(t){return"movementY"in t?t.movementY:dN}}),iz=Ac(uP),qye=ps({},uP,{dataTransfer:0}),Kye=Ac(qye),Xye=ps({},I4,{relatedTarget:0}),fN=Ac(Xye),Zye=ps({},Kx,{animationName:0,elapsedTime:0,pseudoElement:0}),Jye=Ac(Zye),Qye=ps({},Kx,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yye=Ac(Qye),Gye=ps({},Kx,{data:0}),az=Ac(Gye),eve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rve[t])?!!e[t]:!1}function zO(){return nve}var sve=ps({},I4,{key:function(t){if(t.key){var e=eve[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=C9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tve[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zO,charCode:function(t){return t.type==="keypress"?C9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?C9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ive=Ac(sve),ave=ps({},uP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oz=Ac(ave),ove=ps({},I4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zO}),cve=Ac(ove),lve=ps({},Kx,{propertyName:0,elapsedTime:0,pseudoElement:0}),uve=Ac(lve),dve=ps({},uP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fve=Ac(dve),hve=[9,13,27,32],LO=wh&&"CompositionEvent"in window,o3=null;wh&&"documentMode"in document&&(o3=document.documentMode);var pve=wh&&"TextEvent"in window&&!o3,jG=wh&&(!LO||o3&&8<o3&&11>=o3),cz=" ",lz=!1;function $G(t,e){switch(t){case"keyup":return hve.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vb=!1;function mve(t,e){switch(t){case"compositionend":return MG(e);case"keypress":return e.which!==32?null:(lz=!0,cz);case"textInput":return t=e.data,t===cz&&lz?null:t;default:return null}}function gve(t,e){if(Vb)return t==="compositionend"||!LO&&$G(t,e)?(t=TG(),_9=DO=pp=null,Vb=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jG&&e.locale!=="ko"?null:e.data;default:return null}}var bve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bve[t.type]:e==="textarea"}function OG(t,e,r,n){fG(n),e=W7(e,"onChange"),0<e.length&&(r=new UO("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var c3=null,D3=null;function yve(t){qG(t,0)}function dP(t){var e=qb(t);if(iG(e))return t}function vve(t,e){if(t==="change")return e}var FG=!1;if(wh){var hN;if(wh){var pN="oninput"in document;if(!pN){var dz=document.createElement("div");dz.setAttribute("oninput","return;"),pN=typeof dz.oninput=="function"}hN=pN}else hN=!1;FG=hN&&(!document.documentMode||9<document.documentMode)}function fz(){c3&&(c3.detachEvent("onpropertychange",BG),D3=c3=null)}function BG(t){if(t.propertyName==="value"&&dP(D3)){var e=[];OG(e,D3,t,MO(t)),gG(yve,e)}}function xve(t,e,r){t==="focusin"?(fz(),c3=e,D3=r,c3.attachEvent("onpropertychange",BG)):t==="focusout"&&fz()}function wve(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dP(D3)}function Ave(t,e){if(t==="click")return dP(e)}function Sve(t,e){if(t==="input"||t==="change")return dP(e)}function Pve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ku=typeof Object.is=="function"?Object.is:Pve;function U3(t,e){if(ku(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!TC.call(e,s)||!ku(t[s],e[s]))return!1}return!0}function hz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pz(t,e){var r=hz(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hz(r)}}function RG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DG(){for(var t=window,e=R7();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=R7(t.document)}return e}function VO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kve(t){var e=DG(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&RG(r.ownerDocument.documentElement,r)){if(n!==null&&VO(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=pz(r,i);var a=pz(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ive=wh&&"documentMode"in document&&11>=document.documentMode,Hb=null,JC=null,l3=null,QC=!1;function mz(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QC||Hb==null||Hb!==R7(n)||(n=Hb,"selectionStart"in n&&VO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),l3&&U3(l3,n)||(l3=n,n=W7(JC,"onSelect"),0<n.length&&(e=new UO("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Hb)))}function J5(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wb={animationend:J5("Animation","AnimationEnd"),animationiteration:J5("Animation","AnimationIteration"),animationstart:J5("Animation","AnimationStart"),transitionend:J5("Transition","TransitionEnd")},mN={},UG={};wh&&(UG=document.createElement("div").style,"AnimationEvent"in window||(delete Wb.animationend.animation,delete Wb.animationiteration.animation,delete Wb.animationstart.animation),"TransitionEvent"in window||delete Wb.transitionend.transition);function fP(t){if(mN[t])return mN[t];if(!Wb[t])return t;var e=Wb[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in UG)return mN[t]=e[r];return t}var zG=fP("animationend"),LG=fP("animationiteration"),VG=fP("animationstart"),HG=fP("transitionend"),WG=new Map,gz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tm(t,e){WG.set(t,e),j1(e,[t])}for(var gN=0;gN<gz.length;gN++){var bN=gz[gN],Nve=bN.toLowerCase(),Eve=bN[0].toUpperCase()+bN.slice(1);tm(Nve,"on"+Eve)}tm(zG,"onAnimationEnd");tm(LG,"onAnimationIteration");tm(VG,"onAnimationStart");tm("dblclick","onDoubleClick");tm("focusin","onFocus");tm("focusout","onBlur");tm(HG,"onTransitionEnd");Jv("onMouseEnter",["mouseout","mouseover"]);Jv("onMouseLeave",["mouseout","mouseover"]);Jv("onPointerEnter",["pointerout","pointerover"]);Jv("onPointerLeave",["pointerout","pointerover"]);j1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));j1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));j1("onBeforeInput",["compositionend","keypress","textInput","paste"]);j1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));j1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));j1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_ve=new Set("cancel close invalid load scroll toggle".split(" ").concat(jw));function bz(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Nye(n,e,void 0,t),t.currentTarget=null}function qG(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;bz(s,o,l),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,l=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;bz(s,o,l),i=c}}}if(U7)throw t=qC,U7=!1,qC=null,t}function Vn(t,e){var r=e[rT];r===void 0&&(r=e[rT]=new Set);var n=t+"__bubble";r.has(n)||(KG(e,t,2,!1),r.add(n))}function yN(t,e,r){var n=0;e&&(n|=4),KG(r,t,n,e)}var Q5="_reactListening"+Math.random().toString(36).slice(2);function z3(t){if(!t[Q5]){t[Q5]=!0,eG.forEach(function(r){r!=="selectionchange"&&(_ve.has(r)||yN(r,!1,t),yN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Q5]||(e[Q5]=!0,yN("selectionchange",!1,e))}}function KG(t,e,r,n){switch(CG(e)){case 1:var s=Vye;break;case 4:s=Hye;break;default:s=RO}r=s.bind(null,e,r,t),s=void 0,!WC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function vN(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ym(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}gG(function(){var l=i,u=MO(r),f=[];e:{var h=WG.get(t);if(h!==void 0){var m=UO,v=t;switch(t){case"keypress":if(C9(r)===0)break e;case"keydown":case"keyup":m=ive;break;case"focusin":v="focus",m=fN;break;case"focusout":v="blur",m=fN;break;case"beforeblur":case"afterblur":m=fN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=iz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Kye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cve;break;case zG:case LG:case VG:m=Jye;break;case HG:m=uve;break;case"scroll":m=Wye;break;case"wheel":m=fve;break;case"copy":case"cut":case"paste":m=Yye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oz}var x=(e&4)!==0,k=!x&&t==="scroll",E=x?h!==null?h+"Capture":null:h;x=[];for(var P=l,_;P!==null;){_=P;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,E!==null&&(M=O3(P,E),M!=null&&x.push(L3(P,M,_)))),k)break;P=P.return}0<x.length&&(h=new m(h,v,null,r,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==VC&&(v=r.relatedTarget||r.fromElement)&&(Ym(v)||v[Ah]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=l,v=v?Ym(v):null,v!==null&&(k=$1(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=l),m!==v)){if(x=iz,M="onMouseLeave",E="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(x=oz,M="onPointerLeave",E="onPointerEnter",P="pointer"),k=m==null?h:qb(m),_=v==null?h:qb(v),h=new x(M,P+"leave",m,r,u),h.target=k,h.relatedTarget=_,M=null,Ym(u)===l&&(x=new x(E,P+"enter",v,r,u),x.target=_,x.relatedTarget=k,M=x),k=M,m&&v)t:{for(x=m,E=v,P=0,_=x;_;_=nb(_))P++;for(_=0,M=E;M;M=nb(M))_++;for(;0<P-_;)x=nb(x),P--;for(;0<_-P;)E=nb(E),_--;for(;P--;){if(x===E||E!==null&&x===E.alternate)break t;x=nb(x),E=nb(E)}x=null}else x=null;m!==null&&yz(f,h,m,x,!1),v!==null&&k!==null&&yz(f,k,v,x,!0)}}e:{if(h=l?qb(l):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var B=vve;else if(uz(h))if(FG)B=Sve;else{B=wve;var D=xve}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(B=Ave);if(B&&(B=B(t,l))){OG(f,B,r,u);break e}D&&D(t,h,l),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&RC(h,"number",h.value)}switch(D=l?qb(l):window,t){case"focusin":(uz(D)||D.contentEditable==="true")&&(Hb=D,JC=l,l3=null);break;case"focusout":l3=JC=Hb=null;break;case"mousedown":QC=!0;break;case"contextmenu":case"mouseup":case"dragend":QC=!1,mz(f,r,u);break;case"selectionchange":if(Ive)break;case"keydown":case"keyup":mz(f,r,u)}var j;if(LO)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Vb?$G(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(jG&&r.locale!=="ko"&&(Vb||T!=="onCompositionStart"?T==="onCompositionEnd"&&Vb&&(j=TG()):(pp=u,DO="value"in pp?pp.value:pp.textContent,Vb=!0)),D=W7(l,T),0<D.length&&(T=new az(T,t,null,r,u),f.push({event:T,listeners:D}),j?T.data=j:(j=MG(r),j!==null&&(T.data=j)))),(j=pve?mve(t,r):gve(t,r))&&(l=W7(l,"onBeforeInput"),0<l.length&&(u=new az("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=j))}qG(f,e)})}function L3(t,e,r){return{instance:t,listener:e,currentTarget:r}}function W7(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=O3(t,r),i!=null&&n.unshift(L3(t,i,s)),i=O3(t,e),i!=null&&n.push(L3(t,i,s))),t=t.return}return n}function nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yz(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&l!==null&&(o=l,s?(c=O3(r,i),c!=null&&a.unshift(L3(r,c,o))):s||(c=O3(r,i),c!=null&&a.push(L3(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Cve=/\r\n?/g,Tve=/\u0000|\uFFFD/g;function vz(t){return(typeof t=="string"?t:""+t).replace(Cve,`
`).replace(Tve,"")}function Y5(t,e,r){if(e=vz(e),vz(t)!==e&&r)throw Error(Et(425))}function q7(){}var YC=null,GC=null;function eT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tT=typeof setTimeout=="function"?setTimeout:void 0,jve=typeof clearTimeout=="function"?clearTimeout:void 0,xz=typeof Promise=="function"?Promise:void 0,$ve=typeof queueMicrotask=="function"?queueMicrotask:typeof xz<"u"?function(t){return xz.resolve(null).then(t).catch(Mve)}:tT;function Mve(t){setTimeout(function(){throw t})}function xN(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),R3(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);R3(e)}function Pp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xx=Math.random().toString(36).slice(2),wd="__reactFiber$"+Xx,V3="__reactProps$"+Xx,Ah="__reactContainer$"+Xx,rT="__reactEvents$"+Xx,Ove="__reactListeners$"+Xx,Fve="__reactHandles$"+Xx;function Ym(t){var e=t[wd];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ah]||r[wd]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wz(t);t!==null;){if(r=t[wd])return r;t=wz(t)}return e}t=r,r=t.parentNode}return null}function N4(t){return t=t[wd]||t[Ah],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qb(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Et(33))}function hP(t){return t[V3]||null}var nT=[],Kb=-1;function rm(t){return{current:t}}function Xn(t){0>Kb||(t.current=nT[Kb],nT[Kb]=null,Kb--)}function Mn(t,e){Kb++,nT[Kb]=t.current,t.current=e}var Bp={},Ra=rm(Bp),jo=rm(!1),r1=Bp;function Qv(t,e){var r=t.type.contextTypes;if(!r)return Bp;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $o(t){return t=t.childContextTypes,t!=null}function K7(){Xn(jo),Xn(Ra)}function Az(t,e,r){if(Ra.current!==Bp)throw Error(Et(168));Mn(Ra,e),Mn(jo,r)}function XG(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Et(108,xye(t)||"Unknown",s));return ps({},r,n)}function X7(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bp,r1=Ra.current,Mn(Ra,t),Mn(jo,jo.current),!0}function Sz(t,e,r){var n=t.stateNode;if(!n)throw Error(Et(169));r?(t=XG(t,e,r1),n.__reactInternalMemoizedMergedChildContext=t,Xn(jo),Xn(Ra),Mn(Ra,t)):Xn(jo),Mn(jo,r)}var Uf=null,pP=!1,wN=!1;function ZG(t){Uf===null?Uf=[t]:Uf.push(t)}function Bve(t){pP=!0,ZG(t)}function nm(){if(!wN&&Uf!==null){wN=!0;var t=0,e=yn;try{var r=Uf;for(yn=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Uf=null,pP=!1}catch(s){throw Uf!==null&&(Uf=Uf.slice(t+1)),xG(OO,nm),s}finally{yn=e,wN=!1}}return null}var Xb=[],Zb=0,Z7=null,J7=0,ol=[],cl=0,n1=null,sh=1,ih="";function Mm(t,e){Xb[Zb++]=J7,Xb[Zb++]=Z7,Z7=t,J7=e}function JG(t,e,r){ol[cl++]=sh,ol[cl++]=ih,ol[cl++]=n1,n1=t;var n=sh;t=ih;var s=32-xu(n)-1;n&=~(1<<s),r+=1;var i=32-xu(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,sh=1<<32-xu(e)+s|r<<s|n,ih=i+t}else sh=1<<i|r<<s|n,ih=t}function HO(t){t.return!==null&&(Mm(t,1),JG(t,1,0))}function WO(t){for(;t===Z7;)Z7=Xb[--Zb],Xb[Zb]=null,J7=Xb[--Zb],Xb[Zb]=null;for(;t===n1;)n1=ol[--cl],ol[cl]=null,ih=ol[--cl],ol[cl]=null,sh=ol[--cl],ol[cl]=null}var fc=null,uc=null,Gn=!1,du=null;function QG(t,e){var r=ul(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Pz(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fc=t,uc=Pp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fc=t,uc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=n1!==null?{id:sh,overflow:ih}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ul(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fc=t,uc=null,!0):!1;default:return!1}}function sT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iT(t){if(Gn){var e=uc;if(e){var r=e;if(!Pz(t,e)){if(sT(t))throw Error(Et(418));e=Pp(r.nextSibling);var n=fc;e&&Pz(t,e)?QG(n,r):(t.flags=t.flags&-4097|2,Gn=!1,fc=t)}}else{if(sT(t))throw Error(Et(418));t.flags=t.flags&-4097|2,Gn=!1,fc=t}}}function kz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fc=t}function G5(t){if(t!==fc)return!1;if(!Gn)return kz(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eT(t.type,t.memoizedProps)),e&&(e=uc)){if(sT(t))throw YG(),Error(Et(418));for(;e;)QG(t,e),e=Pp(e.nextSibling)}if(kz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){uc=Pp(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}uc=null}}else uc=fc?Pp(t.stateNode.nextSibling):null;return!0}function YG(){for(var t=uc;t;)t=Pp(t.nextSibling)}function Yv(){uc=fc=null,Gn=!1}function qO(t){du===null?du=[t]:du.push(t)}var Rve=Rh.ReactCurrentBatchConfig;function L2(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Et(309));var n=r.stateNode}if(!n)throw Error(Et(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Et(284));if(!r._owner)throw Error(Et(290,t))}return t}function e8(t,e){throw t=Object.prototype.toString.call(e),Error(Et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iz(t){var e=t._init;return e(t._payload)}function GG(t){function e(E,P){if(t){var _=E.deletions;_===null?(E.deletions=[P],E.flags|=16):_.push(P)}}function r(E,P){if(!t)return null;for(;P!==null;)e(E,P),P=P.sibling;return null}function n(E,P){for(E=new Map;P!==null;)P.key!==null?E.set(P.key,P):E.set(P.index,P),P=P.sibling;return E}function s(E,P){return E=Ep(E,P),E.index=0,E.sibling=null,E}function i(E,P,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<P?(E.flags|=2,P):_):(E.flags|=2,P)):(E.flags|=1048576,P)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function o(E,P,_,M){return P===null||P.tag!==6?(P=EN(_,E.mode,M),P.return=E,P):(P=s(P,_),P.return=E,P)}function c(E,P,_,M){var B=_.type;return B===Lb?u(E,P,_.props.children,M,_.key):P!==null&&(P.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===E0&&Iz(B)===P.type)?(M=s(P,_.props),M.ref=L2(E,P,_),M.return=E,M):(M=B9(_.type,_.key,_.props,null,E.mode,M),M.ref=L2(E,P,_),M.return=E,M)}function l(E,P,_,M){return P===null||P.tag!==4||P.stateNode.containerInfo!==_.containerInfo||P.stateNode.implementation!==_.implementation?(P=_N(_,E.mode,M),P.return=E,P):(P=s(P,_.children||[]),P.return=E,P)}function u(E,P,_,M,B){return P===null||P.tag!==7?(P=Vg(_,E.mode,M,B),P.return=E,P):(P=s(P,_),P.return=E,P)}function f(E,P,_){if(typeof P=="string"&&P!==""||typeof P=="number")return P=EN(""+P,E.mode,_),P.return=E,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V5:return _=B9(P.type,P.key,P.props,null,E.mode,_),_.ref=L2(E,null,P),_.return=E,_;case zb:return P=_N(P,E.mode,_),P.return=E,P;case E0:var M=P._init;return f(E,M(P._payload),_)}if(Cw(P)||B2(P))return P=Vg(P,E.mode,_,null),P.return=E,P;e8(E,P)}return null}function h(E,P,_,M){var B=P!==null?P.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return B!==null?null:o(E,P,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case V5:return _.key===B?c(E,P,_,M):null;case zb:return _.key===B?l(E,P,_,M):null;case E0:return B=_._init,h(E,P,B(_._payload),M)}if(Cw(_)||B2(_))return B!==null?null:u(E,P,_,M,null);e8(E,_)}return null}function m(E,P,_,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(_)||null,o(P,E,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V5:return E=E.get(M.key===null?_:M.key)||null,c(P,E,M,B);case zb:return E=E.get(M.key===null?_:M.key)||null,l(P,E,M,B);case E0:var D=M._init;return m(E,P,_,D(M._payload),B)}if(Cw(M)||B2(M))return E=E.get(_)||null,u(P,E,M,B,null);e8(P,M)}return null}function v(E,P,_,M){for(var B=null,D=null,j=P,T=P=0,R=null;j!==null&&T<_.length;T++){j.index>T?(R=j,j=null):R=j.sibling;var H=h(E,j,_[T],M);if(H===null){j===null&&(j=R);break}t&&j&&H.alternate===null&&e(E,j),P=i(H,P,T),D===null?B=H:D.sibling=H,D=H,j=R}if(T===_.length)return r(E,j),Gn&&Mm(E,T),B;if(j===null){for(;T<_.length;T++)j=f(E,_[T],M),j!==null&&(P=i(j,P,T),D===null?B=j:D.sibling=j,D=j);return Gn&&Mm(E,T),B}for(j=n(E,j);T<_.length;T++)R=m(j,E,T,_[T],M),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?T:R.key),P=i(R,P,T),D===null?B=R:D.sibling=R,D=R);return t&&j.forEach(function(O){return e(E,O)}),Gn&&Mm(E,T),B}function x(E,P,_,M){var B=B2(_);if(typeof B!="function")throw Error(Et(150));if(_=B.call(_),_==null)throw Error(Et(151));for(var D=B=null,j=P,T=P=0,R=null,H=_.next();j!==null&&!H.done;T++,H=_.next()){j.index>T?(R=j,j=null):R=j.sibling;var O=h(E,j,H.value,M);if(O===null){j===null&&(j=R);break}t&&j&&O.alternate===null&&e(E,j),P=i(O,P,T),D===null?B=O:D.sibling=O,D=O,j=R}if(H.done)return r(E,j),Gn&&Mm(E,T),B;if(j===null){for(;!H.done;T++,H=_.next())H=f(E,H.value,M),H!==null&&(P=i(H,P,T),D===null?B=H:D.sibling=H,D=H);return Gn&&Mm(E,T),B}for(j=n(E,j);!H.done;T++,H=_.next())H=m(j,E,T,H.value,M),H!==null&&(t&&H.alternate!==null&&j.delete(H.key===null?T:H.key),P=i(H,P,T),D===null?B=H:D.sibling=H,D=H);return t&&j.forEach(function(b){return e(E,b)}),Gn&&Mm(E,T),B}function k(E,P,_,M){if(typeof _=="object"&&_!==null&&_.type===Lb&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case V5:e:{for(var B=_.key,D=P;D!==null;){if(D.key===B){if(B=_.type,B===Lb){if(D.tag===7){r(E,D.sibling),P=s(D,_.props.children),P.return=E,E=P;break e}}else if(D.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===E0&&Iz(B)===D.type){r(E,D.sibling),P=s(D,_.props),P.ref=L2(E,D,_),P.return=E,E=P;break e}r(E,D);break}else e(E,D);D=D.sibling}_.type===Lb?(P=Vg(_.props.children,E.mode,M,_.key),P.return=E,E=P):(M=B9(_.type,_.key,_.props,null,E.mode,M),M.ref=L2(E,P,_),M.return=E,E=M)}return a(E);case zb:e:{for(D=_.key;P!==null;){if(P.key===D)if(P.tag===4&&P.stateNode.containerInfo===_.containerInfo&&P.stateNode.implementation===_.implementation){r(E,P.sibling),P=s(P,_.children||[]),P.return=E,E=P;break e}else{r(E,P);break}else e(E,P);P=P.sibling}P=_N(_,E.mode,M),P.return=E,E=P}return a(E);case E0:return D=_._init,k(E,P,D(_._payload),M)}if(Cw(_))return v(E,P,_,M);if(B2(_))return x(E,P,_,M);e8(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,P!==null&&P.tag===6?(r(E,P.sibling),P=s(P,_),P.return=E,E=P):(r(E,P),P=EN(_,E.mode,M),P.return=E,E=P),a(E)):r(E,P)}return k}var Gv=GG(!0),eee=GG(!1),Q7=rm(null),Y7=null,Jb=null,KO=null;function XO(){KO=Jb=Y7=null}function ZO(t){var e=Q7.current;Xn(Q7),t._currentValue=e}function aT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function wy(t,e){Y7=t,KO=Jb=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Co=!0),t.firstContext=null)}function wl(t){var e=t._currentValue;if(KO!==t)if(t={context:t,memoizedValue:e,next:null},Jb===null){if(Y7===null)throw Error(Et(308));Jb=t,Y7.dependencies={lanes:0,firstContext:t}}else Jb=Jb.next=t;return e}var Gm=null;function JO(t){Gm===null?Gm=[t]:Gm.push(t)}function tee(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,JO(e)):(r.next=s.next,s.next=r),e.interleaved=r,Sh(t,n)}function Sh(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _0=!1;function QO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ree(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fh(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kp(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,en&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Sh(t,r)}return s=n.interleaved,s===null?(e.next=e,JO(n)):(e.next=s.next,s.next=e),n.interleaved=e,Sh(t,r)}function T9(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,FO(t,r)}}function Nz(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function G7(t,e,r,n){var s=t.updateQueue;_0=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,l=c.next;c.next=null,a===null?i=l:a.next=l,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,u=l=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,x=o;switch(h=e,m=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=ps({},f,h);break e;case 2:_0=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=m,c=f):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);i1|=a,t.lanes=a,t.memoizedState=f}}function Ez(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Et(191,s));s.call(n)}}}var E4={},$d=rm(E4),H3=rm(E4),W3=rm(E4);function eg(t){if(t===E4)throw Error(Et(174));return t}function YO(t,e){switch(Mn(W3,e),Mn(H3,t),Mn($d,E4),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:UC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=UC(e,t)}Xn($d),Mn($d,e)}function ex(){Xn($d),Xn(H3),Xn(W3)}function nee(t){eg(W3.current);var e=eg($d.current),r=UC(e,t.type);e!==r&&(Mn(H3,t),Mn($d,r))}function GO(t){H3.current===t&&(Xn($d),Xn(H3))}var os=rm(0);function eA(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var AN=[];function eF(){for(var t=0;t<AN.length;t++)AN[t]._workInProgressVersionPrimary=null;AN.length=0}var j9=Rh.ReactCurrentDispatcher,SN=Rh.ReactCurrentBatchConfig,s1=0,fs=null,Ws=null,ci=null,tA=!1,u3=!1,q3=0,Dve=0;function la(){throw Error(Et(321))}function tF(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ku(t[r],e[r]))return!1;return!0}function rF(t,e,r,n,s,i){if(s1=i,fs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,j9.current=t===null||t.memoizedState===null?Vve:Hve,t=r(n,s),u3){i=0;do{if(u3=!1,q3=0,25<=i)throw Error(Et(301));i+=1,ci=Ws=null,e.updateQueue=null,j9.current=Wve,t=r(n,s)}while(u3)}if(j9.current=rA,e=Ws!==null&&Ws.next!==null,s1=0,ci=Ws=fs=null,tA=!1,e)throw Error(Et(300));return t}function nF(){var t=q3!==0;return q3=0,t}function Gu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?fs.memoizedState=ci=t:ci=ci.next=t,ci}function Al(){if(Ws===null){var t=fs.alternate;t=t!==null?t.memoizedState:null}else t=Ws.next;var e=ci===null?fs.memoizedState:ci.next;if(e!==null)ci=e,Ws=t;else{if(t===null)throw Error(Et(310));Ws=t,t={memoizedState:Ws.memoizedState,baseState:Ws.baseState,baseQueue:Ws.baseQueue,queue:Ws.queue,next:null},ci===null?fs.memoizedState=ci=t:ci=ci.next=t}return ci}function K3(t,e){return typeof e=="function"?e(t):e}function PN(t){var e=Al(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=Ws,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,l=i;do{var u=l.lane;if((s1&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,fs.lanes|=u,i1|=u}l=l.next}while(l!==null&&l!==i);c===null?a=n:c.next=o,ku(n,e.memoizedState)||(Co=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,fs.lanes|=i,i1|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kN(t){var e=Al(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ku(i,e.memoizedState)||(Co=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function see(){}function iee(t,e){var r=fs,n=Al(),s=e(),i=!ku(n.memoizedState,s);if(i&&(n.memoizedState=s,Co=!0),n=n.queue,sF(cee.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ci!==null&&ci.memoizedState.tag&1){if(r.flags|=2048,X3(9,oee.bind(null,r,n,s,e),void 0,null),bi===null)throw Error(Et(349));s1&30||aee(r,e,s)}return s}function aee(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fs.updateQueue,e===null?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function oee(t,e,r,n){e.value=r,e.getSnapshot=n,lee(e)&&uee(t)}function cee(t,e,r){return r(function(){lee(e)&&uee(t)})}function lee(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ku(t,r)}catch{return!0}}function uee(t){var e=Sh(t,1);e!==null&&wu(e,t,1,-1)}function _z(t){var e=Gu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:K3,lastRenderedState:t},e.queue=t,t=t.dispatch=Lve.bind(null,fs,t),[e.memoizedState,t]}function X3(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fs.updateQueue,e===null?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dee(){return Al().memoizedState}function $9(t,e,r,n){var s=Gu();fs.flags|=t,s.memoizedState=X3(1|e,r,void 0,n===void 0?null:n)}function mP(t,e,r,n){var s=Al();n=n===void 0?null:n;var i=void 0;if(Ws!==null){var a=Ws.memoizedState;if(i=a.destroy,n!==null&&tF(n,a.deps)){s.memoizedState=X3(e,r,i,n);return}}fs.flags|=t,s.memoizedState=X3(1|e,r,i,n)}function Cz(t,e){return $9(8390656,8,t,e)}function sF(t,e){return mP(2048,8,t,e)}function fee(t,e){return mP(4,2,t,e)}function hee(t,e){return mP(4,4,t,e)}function pee(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mee(t,e,r){return r=r!=null?r.concat([t]):null,mP(4,4,pee.bind(null,e,t),r)}function iF(){}function gee(t,e){var r=Al();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tF(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bee(t,e){var r=Al();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tF(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yee(t,e,r){return s1&21?(ku(r,e)||(r=SG(),fs.lanes|=r,i1|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Co=!0),t.memoizedState=r)}function Uve(t,e){var r=yn;yn=r!==0&&4>r?r:4,t(!0);var n=SN.transition;SN.transition={};try{t(!1),e()}finally{yn=r,SN.transition=n}}function vee(){return Al().memoizedState}function zve(t,e,r){var n=Np(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xee(t))wee(e,r);else if(r=tee(t,e,r,n),r!==null){var s=Ya();wu(r,t,n,s),Aee(r,e,n)}}function Lve(t,e,r){var n=Np(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xee(t))wee(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ku(o,a)){var c=e.interleaved;c===null?(s.next=s,JO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=tee(t,e,s,n),r!==null&&(s=Ya(),wu(r,t,n,s),Aee(r,e,n))}}function xee(t){var e=t.alternate;return t===fs||e!==null&&e===fs}function wee(t,e){u3=tA=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Aee(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,FO(t,r)}}var rA={readContext:wl,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},Vve={readContext:wl,useCallback:function(t,e){return Gu().memoizedState=[t,e===void 0?null:e],t},useContext:wl,useEffect:Cz,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$9(4194308,4,pee.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $9(4194308,4,t,e)},useInsertionEffect:function(t,e){return $9(4,2,t,e)},useMemo:function(t,e){var r=Gu();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Gu();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zve.bind(null,fs,t),[n.memoizedState,t]},useRef:function(t){var e=Gu();return t={current:t},e.memoizedState=t},useState:_z,useDebugValue:iF,useDeferredValue:function(t){return Gu().memoizedState=t},useTransition:function(){var t=_z(!1),e=t[0];return t=Uve.bind(null,t[1]),Gu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fs,s=Gu();if(Gn){if(r===void 0)throw Error(Et(407));r=r()}else{if(r=e(),bi===null)throw Error(Et(349));s1&30||aee(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Cz(cee.bind(null,n,i,t),[t]),n.flags|=2048,X3(9,oee.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Gu(),e=bi.identifierPrefix;if(Gn){var r=ih,n=sh;r=(n&~(1<<32-xu(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=q3++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dve++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hve={readContext:wl,useCallback:gee,useContext:wl,useEffect:sF,useImperativeHandle:mee,useInsertionEffect:fee,useLayoutEffect:hee,useMemo:bee,useReducer:PN,useRef:dee,useState:function(){return PN(K3)},useDebugValue:iF,useDeferredValue:function(t){var e=Al();return yee(e,Ws.memoizedState,t)},useTransition:function(){var t=PN(K3)[0],e=Al().memoizedState;return[t,e]},useMutableSource:see,useSyncExternalStore:iee,useId:vee,unstable_isNewReconciler:!1},Wve={readContext:wl,useCallback:gee,useContext:wl,useEffect:sF,useImperativeHandle:mee,useInsertionEffect:fee,useLayoutEffect:hee,useMemo:bee,useReducer:kN,useRef:dee,useState:function(){return kN(K3)},useDebugValue:iF,useDeferredValue:function(t){var e=Al();return Ws===null?e.memoizedState=t:yee(e,Ws.memoizedState,t)},useTransition:function(){var t=kN(K3)[0],e=Al().memoizedState;return[t,e]},useMutableSource:see,useSyncExternalStore:iee,useId:vee,unstable_isNewReconciler:!1};function Gl(t,e){if(t&&t.defaultProps){e=ps({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function oT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ps({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gP={isMounted:function(t){return(t=t._reactInternals)?$1(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ya(),s=Np(t),i=fh(n,s);i.payload=e,r!=null&&(i.callback=r),e=kp(t,i,s),e!==null&&(wu(e,t,s,n),T9(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ya(),s=Np(t),i=fh(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=kp(t,i,s),e!==null&&(wu(e,t,s,n),T9(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ya(),n=Np(t),s=fh(r,n);s.tag=2,e!=null&&(s.callback=e),e=kp(t,s,n),e!==null&&(wu(e,t,n,r),T9(e,t,n))}};function Tz(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!U3(r,n)||!U3(s,i):!0}function See(t,e,r){var n=!1,s=Bp,i=e.contextType;return typeof i=="object"&&i!==null?i=wl(i):(s=$o(e)?r1:Ra.current,n=e.contextTypes,i=(n=n!=null)?Qv(t,s):Bp),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gP,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jz(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gP.enqueueReplaceState(e,e.state,null)}function cT(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},QO(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wl(i):(i=$o(e)?r1:Ra.current,s.context=Qv(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(oT(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gP.enqueueReplaceState(s,s.state,null),G7(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tx(t,e){try{var r="",n=e;do r+=vye(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function IN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function lT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var qve=typeof WeakMap=="function"?WeakMap:Map;function Pee(t,e,r){r=fh(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sA||(sA=!0,vT=n),lT(t,e)},r}function kee(t,e,r){r=fh(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){lT(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lT(t,e),typeof n!="function"&&(Ip===null?Ip=new Set([this]):Ip.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function $z(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new qve;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=axe.bind(null,t,e,r),e.then(t,t))}function Mz(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Oz(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fh(-1,1),e.tag=2,kp(r,e,1))),r.lanes|=1),t)}var Kve=Rh.ReactCurrentOwner,Co=!1;function qa(t,e,r,n){e.child=t===null?eee(e,null,r,n):Gv(e,t.child,r,n)}function Fz(t,e,r,n,s){r=r.render;var i=e.ref;return wy(e,s),n=rF(t,e,r,n,i,s),r=nF(),t!==null&&!Co?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ph(t,e,s)):(Gn&&r&&HO(e),e.flags|=1,qa(t,e,n,s),e.child)}function Bz(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!hF(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Iee(t,e,i,n,s)):(t=B9(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:U3,r(a,n)&&t.ref===e.ref)return Ph(t,e,s)}return e.flags|=1,t=Ep(i,n),t.ref=e.ref,t.return=e,e.child=t}function Iee(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(U3(i,n)&&t.ref===e.ref)if(Co=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Co=!0);else return e.lanes=t.lanes,Ph(t,e,s)}return uT(t,e,r,n,s)}function Nee(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(Yb,rc),rc|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mn(Yb,rc),rc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Mn(Yb,rc),rc|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Mn(Yb,rc),rc|=n;return qa(t,e,s,r),e.child}function Eee(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function uT(t,e,r,n,s){var i=$o(r)?r1:Ra.current;return i=Qv(e,i),wy(e,s),r=rF(t,e,r,n,i,s),n=nF(),t!==null&&!Co?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ph(t,e,s)):(Gn&&n&&HO(e),e.flags|=1,qa(t,e,r,s),e.child)}function Rz(t,e,r,n,s){if($o(r)){var i=!0;X7(e)}else i=!1;if(wy(e,s),e.stateNode===null)M9(t,e),See(e,r,n),cT(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=wl(l):(l=$o(r)?r1:Ra.current,l=Qv(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==l)&&jz(e,a,n,l),_0=!1;var h=e.memoizedState;a.state=h,G7(e,n,a,s),c=e.memoizedState,o!==n||h!==c||jo.current||_0?(typeof u=="function"&&(oT(e,r,u,n),c=e.memoizedState),(o=_0||Tz(e,r,o,n,h,c,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ree(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Gl(e.type,o),a.props=l,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=wl(c):(c=$o(r)?r1:Ra.current,c=Qv(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&jz(e,a,n,c),_0=!1,h=e.memoizedState,a.state=h,G7(e,n,a,s);var v=e.memoizedState;o!==f||h!==v||jo.current||_0?(typeof m=="function"&&(oT(e,r,m,n),v=e.memoizedState),(l=_0||Tz(e,r,l,n,h,v,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=c,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return dT(t,e,r,n,i,s)}function dT(t,e,r,n,s,i){Eee(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Sz(e,r,!1),Ph(t,e,i);n=e.stateNode,Kve.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Gv(e,t.child,null,i),e.child=Gv(e,null,o,i)):qa(t,e,o,i),e.memoizedState=n.state,s&&Sz(e,r,!0),e.child}function _ee(t){var e=t.stateNode;e.pendingContext?Az(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Az(t,e.context,!1),YO(t,e.containerInfo)}function Dz(t,e,r,n,s){return Yv(),qO(s),e.flags|=256,qa(t,e,r,n),e.child}var fT={dehydrated:null,treeContext:null,retryLane:0};function hT(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cee(t,e,r){var n=e.pendingProps,s=os.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Mn(os,s&1),t===null)return iT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=vP(a,n,0,null),t=Vg(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hT(r),e.memoizedState=fT,t):aF(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Xve(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ep(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ep(o,i):(i=Vg(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?hT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=fT,n}return i=t.child,t=i.sibling,n=Ep(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function aF(t,e){return e=vP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function t8(t,e,r,n){return n!==null&&qO(n),Gv(e,t.child,null,r),t=aF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xve(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=IN(Error(Et(422))),t8(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vP({mode:"visible",children:n.children},s,0,null),i=Vg(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gv(e,t.child,null,a),e.child.memoizedState=hT(a),e.memoizedState=fT,i);if(!(e.mode&1))return t8(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Et(419)),n=IN(i,n,void 0),t8(t,e,a,n)}if(o=(a&t.childLanes)!==0,Co||o){if(n=bi,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sh(t,s),wu(n,t,s,-1))}return fF(),n=IN(Error(Et(421))),t8(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oxe.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,uc=Pp(s.nextSibling),fc=e,Gn=!0,du=null,t!==null&&(ol[cl++]=sh,ol[cl++]=ih,ol[cl++]=n1,sh=t.id,ih=t.overflow,n1=e),e=aF(e,n.children),e.flags|=4096,e)}function Uz(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aT(t.return,e,r)}function NN(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Tee(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(qa(t,e,n.children,r),n=os.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uz(t,r,e);else if(t.tag===19)Uz(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mn(os,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&eA(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),NN(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&eA(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}NN(e,!0,r,null,i);break;case"together":NN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function M9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ph(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),i1|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Et(153));if(e.child!==null){for(t=e.child,r=Ep(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ep(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Zve(t,e,r){switch(e.tag){case 3:_ee(e),Yv();break;case 5:nee(e);break;case 1:$o(e.type)&&X7(e);break;case 4:YO(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Mn(Q7,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mn(os,os.current&1),e.flags|=128,null):r&e.child.childLanes?Cee(t,e,r):(Mn(os,os.current&1),t=Ph(t,e,r),t!==null?t.sibling:null);Mn(os,os.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Tee(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mn(os,os.current),n)break;return null;case 22:case 23:return e.lanes=0,Nee(t,e,r)}return Ph(t,e,r)}var jee,pT,$ee,Mee;jee=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pT=function(){};$ee=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,eg($d.current);var i=null;switch(r){case"input":s=FC(t,s),n=FC(t,n),i=[];break;case"select":s=ps({},s,{value:void 0}),n=ps({},n,{value:void 0}),i=[];break;case"textarea":s=DC(t,s),n=DC(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=q7)}zC(r,n);var a;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var o=s[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&($3.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(o=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&($3.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Vn("scroll",t),i||o===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};Mee=function(t,e,r,n){r!==n&&(e.flags|=4)};function V2(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ua(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Jve(t,e,r){var n=e.pendingProps;switch(WO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(e),null;case 1:return $o(e.type)&&K7(),ua(e),null;case 3:return n=e.stateNode,ex(),Xn(jo),Xn(Ra),eF(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(G5(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,du!==null&&(AT(du),du=null))),pT(t,e),ua(e),null;case 5:GO(e);var s=eg(W3.current);if(r=e.type,t!==null&&e.stateNode!=null)$ee(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Et(166));return ua(e),null}if(t=eg($d.current),G5(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[wd]=e,n[V3]=i,t=(e.mode&1)!==0,r){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(s=0;s<jw.length;s++)Vn(jw[s],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":ZU(n,i),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vn("invalid",n);break;case"textarea":QU(n,i),Vn("invalid",n)}zC(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Y5(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Y5(n.textContent,o,t),s=["children",""+o]):$3.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vn("scroll",n)}switch(r){case"input":H5(n),JU(n,i,!0);break;case"textarea":H5(n),YU(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=q7)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cG(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[wd]=e,t[V3]=n,jee(t,e,!1,!1),e.stateNode=t;e:{switch(a=LC(r,n),r){case"dialog":Vn("cancel",t),Vn("close",t),s=n;break;case"iframe":case"object":case"embed":Vn("load",t),s=n;break;case"video":case"audio":for(s=0;s<jw.length;s++)Vn(jw[s],t);s=n;break;case"source":Vn("error",t),s=n;break;case"img":case"image":case"link":Vn("error",t),Vn("load",t),s=n;break;case"details":Vn("toggle",t),s=n;break;case"input":ZU(t,n),s=FC(t,n),Vn("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ps({},n,{value:void 0}),Vn("invalid",t);break;case"textarea":QU(t,n),s=DC(t,n),Vn("invalid",t);break;default:s=n}zC(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?dG(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lG(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&M3(t,c):typeof c=="number"&&M3(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($3.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vn("scroll",t):c!=null&&CO(t,i,c,a))}switch(r){case"input":H5(t),JU(t,n,!1);break;case"textarea":H5(t),YU(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fp(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?by(t,!!n.multiple,i,!1):n.defaultValue!=null&&by(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=q7)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ua(e),null;case 6:if(t&&e.stateNode!=null)Mee(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Et(166));if(r=eg(W3.current),eg($d.current),G5(e)){if(n=e.stateNode,r=e.memoizedProps,n[wd]=e,(i=n.nodeValue!==r)&&(t=fc,t!==null))switch(t.tag){case 3:Y5(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Y5(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wd]=e,e.stateNode=n}return ua(e),null;case 13:if(Xn(os),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&uc!==null&&e.mode&1&&!(e.flags&128))YG(),Yv(),e.flags|=98560,i=!1;else if(i=G5(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Et(317));i[wd]=e}else Yv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ua(e),i=!1}else du!==null&&(AT(du),du=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||os.current&1?Ks===0&&(Ks=3):fF())),e.updateQueue!==null&&(e.flags|=4),ua(e),null);case 4:return ex(),pT(t,e),t===null&&z3(e.stateNode.containerInfo),ua(e),null;case 10:return ZO(e.type._context),ua(e),null;case 17:return $o(e.type)&&K7(),ua(e),null;case 19:if(Xn(os),i=e.memoizedState,i===null)return ua(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)V2(i,!1);else{if(Ks!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eA(t),a!==null){for(e.flags|=128,V2(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mn(os,os.current&1|2),e.child}t=t.sibling}i.tail!==null&&Cs()>rx&&(e.flags|=128,n=!0,V2(i,!1),e.lanes=4194304)}else{if(!n)if(t=eA(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),V2(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Gn)return ua(e),null}else 2*Cs()-i.renderingStartTime>rx&&r!==1073741824&&(e.flags|=128,n=!0,V2(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Cs(),e.sibling=null,r=os.current,Mn(os,n?r&1|2:r&1),e):(ua(e),null);case 22:case 23:return dF(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rc&1073741824&&(ua(e),e.subtreeFlags&6&&(e.flags|=8192)):ua(e),null;case 24:return null;case 25:return null}throw Error(Et(156,e.tag))}function Qve(t,e){switch(WO(e),e.tag){case 1:return $o(e.type)&&K7(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ex(),Xn(jo),Xn(Ra),eF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GO(e),null;case 13:if(Xn(os),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Et(340));Yv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(os),null;case 4:return ex(),null;case 10:return ZO(e.type._context),null;case 22:case 23:return dF(),null;case 24:return null;default:return null}}var r8=!1,Na=!1,Yve=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Qb(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ws(t,e,n)}else r.current=null}function mT(t,e,r){try{r()}catch(n){ws(t,e,n)}}var zz=!1;function Gve(t,e){if(YC=V7,t=DG(),VO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,l=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++l===s&&(o=a),h===i&&++u===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GC={focusedElem:t,selectionRange:r},V7=!1,Wt=e;Wt!==null;)if(e=Wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Wt=t;else for(;Wt!==null;){e=Wt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,E=e.stateNode,P=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:Gl(e.type,x),k);E.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Et(163))}}catch(M){ws(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Wt=t;break}Wt=e.return}return v=zz,zz=!1,v}function d3(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mT(e,r,i)}s=s.next}while(s!==n)}}function bP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function gT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Oee(t){var e=t.alternate;e!==null&&(t.alternate=null,Oee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wd],delete e[V3],delete e[rT],delete e[Ove],delete e[Fve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fee(t){return t.tag===5||t.tag===3||t.tag===4}function Lz(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=q7));else if(n!==4&&(t=t.child,t!==null))for(bT(t,e,r),t=t.sibling;t!==null;)bT(t,e,r),t=t.sibling}function yT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(yT(t,e,r),t=t.sibling;t!==null;)yT(t,e,r),t=t.sibling}var Fi=null,lu=!1;function Zh(t,e,r){for(r=r.child;r!==null;)Bee(t,e,r),r=r.sibling}function Bee(t,e,r){if(jd&&typeof jd.onCommitFiberUnmount=="function")try{jd.onCommitFiberUnmount(lP,r)}catch{}switch(r.tag){case 5:Na||Qb(r,e);case 6:var n=Fi,s=lu;Fi=null,Zh(t,e,r),Fi=n,lu=s,Fi!==null&&(lu?(t=Fi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fi.removeChild(r.stateNode));break;case 18:Fi!==null&&(lu?(t=Fi,r=r.stateNode,t.nodeType===8?xN(t.parentNode,r):t.nodeType===1&&xN(t,r),R3(t)):xN(Fi,r.stateNode));break;case 4:n=Fi,s=lu,Fi=r.stateNode.containerInfo,lu=!0,Zh(t,e,r),Fi=n,lu=s;break;case 0:case 11:case 14:case 15:if(!Na&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mT(r,e,a),s=s.next}while(s!==n)}Zh(t,e,r);break;case 1:if(!Na&&(Qb(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ws(r,e,o)}Zh(t,e,r);break;case 21:Zh(t,e,r);break;case 22:r.mode&1?(Na=(n=Na)||r.memoizedState!==null,Zh(t,e,r),Na=n):Zh(t,e,r);break;default:Zh(t,e,r)}}function Vz(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Yve),e.forEach(function(n){var s=cxe.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ol(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Fi=o.stateNode,lu=!1;break e;case 3:Fi=o.stateNode.containerInfo,lu=!0;break e;case 4:Fi=o.stateNode.containerInfo,lu=!0;break e}o=o.return}if(Fi===null)throw Error(Et(160));Bee(i,a,s),Fi=null,lu=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){ws(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ree(e,t),e=e.sibling}function Ree(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ol(e,t),Uu(t),n&4){try{d3(3,t,t.return),bP(3,t)}catch(x){ws(t,t.return,x)}try{d3(5,t,t.return)}catch(x){ws(t,t.return,x)}}break;case 1:Ol(e,t),Uu(t),n&512&&r!==null&&Qb(r,r.return);break;case 5:if(Ol(e,t),Uu(t),n&512&&r!==null&&Qb(r,r.return),t.flags&32){var s=t.stateNode;try{M3(s,"")}catch(x){ws(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&aG(s,i),LC(o,a);var l=LC(o,i);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?dG(s,f):u==="dangerouslySetInnerHTML"?lG(s,f):u==="children"?M3(s,f):CO(s,u,f,l)}switch(o){case"input":BC(s,i);break;case"textarea":oG(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?by(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?by(s,!!i.multiple,i.defaultValue,!0):by(s,!!i.multiple,i.multiple?[]:"",!1))}s[V3]=i}catch(x){ws(t,t.return,x)}}break;case 6:if(Ol(e,t),Uu(t),n&4){if(t.stateNode===null)throw Error(Et(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ws(t,t.return,x)}}break;case 3:if(Ol(e,t),Uu(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{R3(e.containerInfo)}catch(x){ws(t,t.return,x)}break;case 4:Ol(e,t),Uu(t);break;case 13:Ol(e,t),Uu(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lF=Cs())),n&4&&Vz(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Na=(l=Na)||u,Ol(e,t),Na=l):Ol(e,t),Uu(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Wt=t,u=t.child;u!==null;){for(f=Wt=u;Wt!==null;){switch(h=Wt,m=h.child,h.tag){case 0:case 11:case 14:case 15:d3(4,h,h.return);break;case 1:Qb(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ws(n,r,x)}}break;case 5:Qb(h,h.return);break;case 22:if(h.memoizedState!==null){Wz(f);continue}}m!==null?(m.return=h,Wt=m):Wz(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=uG("display",a))}catch(x){ws(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(x){ws(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ol(e,t),Uu(t),n&4&&Vz(t);break;case 21:break;default:Ol(e,t),Uu(t)}}function Uu(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Fee(r)){var n=r;break e}r=r.return}throw Error(Et(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(M3(s,""),n.flags&=-33);var i=Lz(t);yT(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Lz(t);bT(t,o,a);break;default:throw Error(Et(161))}}catch(c){ws(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function exe(t,e,r){Wt=t,Dee(t)}function Dee(t,e,r){for(var n=(t.mode&1)!==0;Wt!==null;){var s=Wt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||r8;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Na;o=r8;var l=Na;if(r8=a,(Na=c)&&!l)for(Wt=s;Wt!==null;)a=Wt,c=a.child,a.tag===22&&a.memoizedState!==null?qz(s):c!==null?(c.return=a,Wt=c):qz(s);for(;i!==null;)Wt=i,Dee(i),i=i.sibling;Wt=s,r8=o,Na=l}Hz(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Wt=i):Hz(t)}}function Hz(t){for(;Wt!==null;){var e=Wt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Na||bP(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Na)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Gl(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ez(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ez(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&R3(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Et(163))}Na||e.flags&512&&gT(e)}catch(h){ws(e,e.return,h)}}if(e===t){Wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Wt=r;break}Wt=e.return}}function Wz(t){for(;Wt!==null;){var e=Wt;if(e===t){Wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Wt=r;break}Wt=e.return}}function qz(t){for(;Wt!==null;){var e=Wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bP(4,e)}catch(c){ws(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ws(e,s,c)}}var i=e.return;try{gT(e)}catch(c){ws(e,i,c)}break;case 5:var a=e.return;try{gT(e)}catch(c){ws(e,a,c)}}}catch(c){ws(e,e.return,c)}if(e===t){Wt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Wt=o;break}Wt=e.return}}var txe=Math.ceil,nA=Rh.ReactCurrentDispatcher,oF=Rh.ReactCurrentOwner,bl=Rh.ReactCurrentBatchConfig,en=0,bi=null,Ds=null,Wi=0,rc=0,Yb=rm(0),Ks=0,Z3=null,i1=0,yP=0,cF=0,f3=null,ko=null,lF=0,rx=1/0,Ff=null,sA=!1,vT=null,Ip=null,n8=!1,mp=null,iA=0,h3=0,xT=null,O9=-1,F9=0;function Ya(){return en&6?Cs():O9!==-1?O9:O9=Cs()}function Np(t){return t.mode&1?en&2&&Wi!==0?Wi&-Wi:Rve.transition!==null?(F9===0&&(F9=SG()),F9):(t=yn,t!==0||(t=window.event,t=t===void 0?16:CG(t.type)),t):1}function wu(t,e,r,n){if(50<h3)throw h3=0,xT=null,Error(Et(185));k4(t,r,n),(!(en&2)||t!==bi)&&(t===bi&&(!(en&2)&&(yP|=r),Ks===4&&U0(t,Wi)),Mo(t,n),r===1&&en===0&&!(e.mode&1)&&(rx=Cs()+500,pP&&nm()))}function Mo(t,e){var r=t.callbackNode;Rye(t,e);var n=L7(t,t===bi?Wi:0);if(n===0)r!==null&&tz(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&tz(r),e===1)t.tag===0?Bve(Kz.bind(null,t)):ZG(Kz.bind(null,t)),$ve(function(){!(en&6)&&nm()}),r=null;else{switch(PG(n)){case 1:r=OO;break;case 4:r=wG;break;case 16:r=z7;break;case 536870912:r=AG;break;default:r=z7}r=Kee(r,Uee.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Uee(t,e){if(O9=-1,F9=0,en&6)throw Error(Et(327));var r=t.callbackNode;if(Ay()&&t.callbackNode!==r)return null;var n=L7(t,t===bi?Wi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=aA(t,n);else{e=n;var s=en;en|=2;var i=Lee();(bi!==t||Wi!==e)&&(Ff=null,rx=Cs()+500,Lg(t,e));do try{sxe();break}catch(o){zee(t,o)}while(!0);XO(),nA.current=i,en=s,Ds!==null?e=0:(bi=null,Wi=0,e=Ks)}if(e!==0){if(e===2&&(s=KC(t),s!==0&&(n=s,e=wT(t,s))),e===1)throw r=Z3,Lg(t,0),U0(t,n),Mo(t,Cs()),r;if(e===6)U0(t,n);else{if(s=t.current.alternate,!(n&30)&&!rxe(s)&&(e=aA(t,n),e===2&&(i=KC(t),i!==0&&(n=i,e=wT(t,i))),e===1))throw r=Z3,Lg(t,0),U0(t,n),Mo(t,Cs()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Et(345));case 2:Om(t,ko,Ff);break;case 3:if(U0(t,n),(n&130023424)===n&&(e=lF+500-Cs(),10<e)){if(L7(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ya(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tT(Om.bind(null,t,ko,Ff),e);break}Om(t,ko,Ff);break;case 4:if(U0(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-xu(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Cs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*txe(n/1960))-n,10<n){t.timeoutHandle=tT(Om.bind(null,t,ko,Ff),n);break}Om(t,ko,Ff);break;case 5:Om(t,ko,Ff);break;default:throw Error(Et(329))}}}return Mo(t,Cs()),t.callbackNode===r?Uee.bind(null,t):null}function wT(t,e){var r=f3;return t.current.memoizedState.isDehydrated&&(Lg(t,e).flags|=256),t=aA(t,e),t!==2&&(e=ko,ko=r,e!==null&&AT(e)),t}function AT(t){ko===null?ko=t:ko.push.apply(ko,t)}function rxe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ku(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function U0(t,e){for(e&=~cF,e&=~yP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xu(e),n=1<<r;t[r]=-1,e&=~n}}function Kz(t){if(en&6)throw Error(Et(327));Ay();var e=L7(t,0);if(!(e&1))return Mo(t,Cs()),null;var r=aA(t,e);if(t.tag!==0&&r===2){var n=KC(t);n!==0&&(e=n,r=wT(t,n))}if(r===1)throw r=Z3,Lg(t,0),U0(t,e),Mo(t,Cs()),r;if(r===6)throw Error(Et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Om(t,ko,Ff),Mo(t,Cs()),null}function uF(t,e){var r=en;en|=1;try{return t(e)}finally{en=r,en===0&&(rx=Cs()+500,pP&&nm())}}function a1(t){mp!==null&&mp.tag===0&&!(en&6)&&Ay();var e=en;en|=1;var r=bl.transition,n=yn;try{if(bl.transition=null,yn=1,t)return t()}finally{yn=n,bl.transition=r,en=e,!(en&6)&&nm()}}function dF(){rc=Yb.current,Xn(Yb)}function Lg(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,jve(r)),Ds!==null)for(r=Ds.return;r!==null;){var n=r;switch(WO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&K7();break;case 3:ex(),Xn(jo),Xn(Ra),eF();break;case 5:GO(n);break;case 4:ex();break;case 13:Xn(os);break;case 19:Xn(os);break;case 10:ZO(n.type._context);break;case 22:case 23:dF()}r=r.return}if(bi=t,Ds=t=Ep(t.current,null),Wi=rc=e,Ks=0,Z3=null,cF=yP=i1=0,ko=f3=null,Gm!==null){for(e=0;e<Gm.length;e++)if(r=Gm[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Gm=null}return t}function zee(t,e){do{var r=Ds;try{if(XO(),j9.current=rA,tA){for(var n=fs.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tA=!1}if(s1=0,ci=Ws=fs=null,u3=!1,q3=0,oF.current=null,r===null||r.return===null){Ks=1,Z3=e,Ds=null;break}e:{var i=t,a=r.return,o=r,c=e;if(e=Wi,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Mz(a);if(m!==null){m.flags&=-257,Oz(m,a,o,i,e),m.mode&1&&$z(i,l,e),e=m,c=l;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){$z(i,l,e),fF();break e}c=Error(Et(426))}}else if(Gn&&o.mode&1){var k=Mz(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Oz(k,a,o,i,e),qO(tx(c,o));break e}}i=c=tx(c,o),Ks!==4&&(Ks=2),f3===null?f3=[i]:f3.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=Pee(i,c,e);Nz(i,E);break e;case 1:o=c;var P=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof P.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ip===null||!Ip.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=kee(i,o,e);Nz(i,M);break e}}i=i.return}while(i!==null)}Hee(r)}catch(B){e=B,Ds===r&&r!==null&&(Ds=r=r.return);continue}break}while(!0)}function Lee(){var t=nA.current;return nA.current=rA,t===null?rA:t}function fF(){(Ks===0||Ks===3||Ks===2)&&(Ks=4),bi===null||!(i1&268435455)&&!(yP&268435455)||U0(bi,Wi)}function aA(t,e){var r=en;en|=2;var n=Lee();(bi!==t||Wi!==e)&&(Ff=null,Lg(t,e));do try{nxe();break}catch(s){zee(t,s)}while(!0);if(XO(),en=r,nA.current=n,Ds!==null)throw Error(Et(261));return bi=null,Wi=0,Ks}function nxe(){for(;Ds!==null;)Vee(Ds)}function sxe(){for(;Ds!==null&&!_ye();)Vee(Ds)}function Vee(t){var e=qee(t.alternate,t,rc);t.memoizedProps=t.pendingProps,e===null?Hee(t):Ds=e,oF.current=null}function Hee(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Qve(r,e),r!==null){r.flags&=32767,Ds=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ks=6,Ds=null;return}}else if(r=Jve(r,e,rc),r!==null){Ds=r;return}if(e=e.sibling,e!==null){Ds=e;return}Ds=e=t}while(e!==null);Ks===0&&(Ks=5)}function Om(t,e,r){var n=yn,s=bl.transition;try{bl.transition=null,yn=1,ixe(t,e,r,n)}finally{bl.transition=s,yn=n}return null}function ixe(t,e,r,n){do Ay();while(mp!==null);if(en&6)throw Error(Et(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Et(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Dye(t,i),t===bi&&(Ds=bi=null,Wi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n8||(n8=!0,Kee(z7,function(){return Ay(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=bl.transition,bl.transition=null;var a=yn;yn=1;var o=en;en|=4,oF.current=null,Gve(t,r),Ree(r,t),kve(GC),V7=!!YC,GC=YC=null,t.current=r,exe(r),Cye(),en=o,yn=a,bl.transition=i}else t.current=r;if(n8&&(n8=!1,mp=t,iA=s),i=t.pendingLanes,i===0&&(Ip=null),$ye(r.stateNode),Mo(t,Cs()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(sA)throw sA=!1,t=vT,vT=null,t;return iA&1&&t.tag!==0&&Ay(),i=t.pendingLanes,i&1?t===xT?h3++:(h3=0,xT=t):h3=0,nm(),null}function Ay(){if(mp!==null){var t=PG(iA),e=bl.transition,r=yn;try{if(bl.transition=null,yn=16>t?16:t,mp===null)var n=!1;else{if(t=mp,mp=null,iA=0,en&6)throw Error(Et(331));var s=en;for(en|=4,Wt=t.current;Wt!==null;){var i=Wt,a=i.child;if(Wt.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var l=o[c];for(Wt=l;Wt!==null;){var u=Wt;switch(u.tag){case 0:case 11:case 15:d3(8,u,i)}var f=u.child;if(f!==null)f.return=u,Wt=f;else for(;Wt!==null;){u=Wt;var h=u.sibling,m=u.return;if(Oee(u),u===l){Wt=null;break}if(h!==null){h.return=m,Wt=h;break}Wt=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}Wt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Wt=a;else e:for(;Wt!==null;){if(i=Wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:d3(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Wt=E;break e}Wt=i.return}}var P=t.current;for(Wt=P;Wt!==null;){a=Wt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Wt=_;else e:for(a=P;Wt!==null;){if(o=Wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bP(9,o)}}catch(B){ws(o,o.return,B)}if(o===a){Wt=null;break e}var M=o.sibling;if(M!==null){M.return=o.return,Wt=M;break e}Wt=o.return}}if(en=s,nm(),jd&&typeof jd.onPostCommitFiberRoot=="function")try{jd.onPostCommitFiberRoot(lP,t)}catch{}n=!0}return n}finally{yn=r,bl.transition=e}}return!1}function Xz(t,e,r){e=tx(r,e),e=Pee(t,e,1),t=kp(t,e,1),e=Ya(),t!==null&&(k4(t,1,e),Mo(t,e))}function ws(t,e,r){if(t.tag===3)Xz(t,t,r);else for(;e!==null;){if(e.tag===3){Xz(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ip===null||!Ip.has(n))){t=tx(r,t),t=kee(e,t,1),e=kp(e,t,1),t=Ya(),e!==null&&(k4(e,1,t),Mo(e,t));break}}e=e.return}}function axe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ya(),t.pingedLanes|=t.suspendedLanes&r,bi===t&&(Wi&r)===r&&(Ks===4||Ks===3&&(Wi&130023424)===Wi&&500>Cs()-lF?Lg(t,0):cF|=r),Mo(t,e)}function Wee(t,e){e===0&&(t.mode&1?(e=K5,K5<<=1,!(K5&130023424)&&(K5=4194304)):e=1);var r=Ya();t=Sh(t,e),t!==null&&(k4(t,e,r),Mo(t,r))}function oxe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Wee(t,r)}function cxe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Et(314))}n!==null&&n.delete(e),Wee(t,r)}var qee;qee=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||jo.current)Co=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Co=!1,Zve(t,e,r);Co=!!(t.flags&131072)}else Co=!1,Gn&&e.flags&1048576&&JG(e,J7,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;M9(t,e),t=e.pendingProps;var s=Qv(e,Ra.current);wy(e,r),s=rF(null,e,n,t,s,r);var i=nF();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$o(n)?(i=!0,X7(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,QO(e),s.updater=gP,e.stateNode=s,s._reactInternals=e,cT(e,n,t,r),e=dT(null,e,n,!0,i,r)):(e.tag=0,Gn&&i&&HO(e),qa(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(M9(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=uxe(n),t=Gl(n,t),s){case 0:e=uT(null,e,n,t,r);break e;case 1:e=Rz(null,e,n,t,r);break e;case 11:e=Fz(null,e,n,t,r);break e;case 14:e=Bz(null,e,n,Gl(n.type,t),r);break e}throw Error(Et(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),uT(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),Rz(t,e,n,s,r);case 3:e:{if(_ee(e),t===null)throw Error(Et(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ree(t,e),G7(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tx(Error(Et(423)),e),e=Dz(t,e,n,r,s);break e}else if(n!==s){s=tx(Error(Et(424)),e),e=Dz(t,e,n,r,s);break e}else for(uc=Pp(e.stateNode.containerInfo.firstChild),fc=e,Gn=!0,du=null,r=eee(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yv(),n===s){e=Ph(t,e,r);break e}qa(t,e,n,r)}e=e.child}return e;case 5:return nee(e),t===null&&iT(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,eT(n,s)?a=null:i!==null&&eT(n,i)&&(e.flags|=32),Eee(t,e),qa(t,e,a,r),e.child;case 6:return t===null&&iT(e),null;case 13:return Cee(t,e,r);case 4:return YO(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gv(e,null,n,r):qa(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),Fz(t,e,n,s,r);case 7:return qa(t,e,e.pendingProps,r),e.child;case 8:return qa(t,e,e.pendingProps.children,r),e.child;case 12:return qa(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Mn(Q7,n._currentValue),n._currentValue=a,i!==null)if(ku(i.value,a)){if(i.children===s.children&&!jo.current){e=Ph(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fh(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),aT(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Et(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),aT(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}qa(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,wy(e,r),s=wl(s),n=n(s),e.flags|=1,qa(t,e,n,r),e.child;case 14:return n=e.type,s=Gl(n,e.pendingProps),s=Gl(n.type,s),Bz(t,e,n,s,r);case 15:return Iee(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),M9(t,e),e.tag=1,$o(n)?(t=!0,X7(e)):t=!1,wy(e,r),See(e,n,s),cT(e,n,s,r),dT(null,e,n,!0,t,r);case 19:return Tee(t,e,r);case 22:return Nee(t,e,r)}throw Error(Et(156,e.tag))};function Kee(t,e){return xG(t,e)}function lxe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(t,e,r,n){return new lxe(t,e,r,n)}function hF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uxe(t){if(typeof t=="function")return hF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jO)return 11;if(t===$O)return 14}return 2}function Ep(t,e){var r=t.alternate;return r===null?(r=ul(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function B9(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")hF(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Lb:return Vg(r.children,s,i,e);case TO:a=8,s|=8;break;case jC:return t=ul(12,r,e,s|2),t.elementType=jC,t.lanes=i,t;case $C:return t=ul(13,r,e,s),t.elementType=$C,t.lanes=i,t;case MC:return t=ul(19,r,e,s),t.elementType=MC,t.lanes=i,t;case nG:return vP(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tG:a=10;break e;case rG:a=9;break e;case jO:a=11;break e;case $O:a=14;break e;case E0:a=16,n=null;break e}throw Error(Et(130,t==null?t:typeof t,""))}return e=ul(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Vg(t,e,r,n){return t=ul(7,t,n,e),t.lanes=r,t}function vP(t,e,r,n){return t=ul(22,t,n,e),t.elementType=nG,t.lanes=r,t.stateNode={isHidden:!1},t}function EN(t,e,r){return t=ul(6,t,null,e),t.lanes=r,t}function _N(t,e,r){return e=ul(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dxe(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lN(0),this.expirationTimes=lN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lN(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pF(t,e,r,n,s,i,a,o,c){return t=new dxe(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ul(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QO(i),t}function fxe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zb,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xee(t){if(!t)return Bp;t=t._reactInternals;e:{if($1(t)!==t||t.tag!==1)throw Error(Et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($o(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Et(171))}if(t.tag===1){var r=t.type;if($o(r))return XG(t,r,e)}return e}function Zee(t,e,r,n,s,i,a,o,c){return t=pF(r,n,!0,t,s,i,a,o,c),t.context=Xee(null),r=t.current,n=Ya(),s=Np(r),i=fh(n,s),i.callback=e??null,kp(r,i,s),t.current.lanes=s,k4(t,s,n),Mo(t,n),t}function xP(t,e,r,n){var s=e.current,i=Ya(),a=Np(s);return r=Xee(r),e.context===null?e.context=r:e.pendingContext=r,e=fh(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=kp(s,e,a),t!==null&&(wu(t,s,a,i),T9(t,s,a)),a}function oA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zz(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mF(t,e){Zz(t,e),(t=t.alternate)&&Zz(t,e)}function hxe(){return null}var Jee=typeof reportError=="function"?reportError:function(t){console.error(t)};function gF(t){this._internalRoot=t}wP.prototype.render=gF.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Et(409));xP(t,e,null,null)};wP.prototype.unmount=gF.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;a1(function(){xP(null,t,null,null)}),e[Ah]=null}};function wP(t){this._internalRoot=t}wP.prototype.unstable_scheduleHydration=function(t){if(t){var e=NG();t={blockedOn:null,target:t,priority:e};for(var r=0;r<D0.length&&e!==0&&e<D0[r].priority;r++);D0.splice(r,0,t),r===0&&_G(t)}};function bF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function AP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jz(){}function pxe(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=oA(a);i.call(l)}}var a=Zee(e,n,t,0,null,!1,!1,"",Jz);return t._reactRootContainer=a,t[Ah]=a.current,z3(t.nodeType===8?t.parentNode:t),a1(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var l=oA(c);o.call(l)}}var c=pF(t,0,!1,null,null,!1,!1,"",Jz);return t._reactRootContainer=c,t[Ah]=c.current,z3(t.nodeType===8?t.parentNode:t),a1(function(){xP(e,c,r,n)}),c}function SP(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=oA(a);o.call(c)}}xP(e,a,t,s)}else a=pxe(r,e,t,s,n);return oA(a)}kG=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tw(e.pendingLanes);r!==0&&(FO(e,r|1),Mo(e,Cs()),!(en&6)&&(rx=Cs()+500,nm()))}break;case 13:a1(function(){var n=Sh(t,1);if(n!==null){var s=Ya();wu(n,t,1,s)}}),mF(t,1)}};BO=function(t){if(t.tag===13){var e=Sh(t,134217728);if(e!==null){var r=Ya();wu(e,t,134217728,r)}mF(t,134217728)}};IG=function(t){if(t.tag===13){var e=Np(t),r=Sh(t,e);if(r!==null){var n=Ya();wu(r,t,e,n)}mF(t,e)}};NG=function(){return yn};EG=function(t,e){var r=yn;try{return yn=t,e()}finally{yn=r}};HC=function(t,e,r){switch(e){case"input":if(BC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=hP(n);if(!s)throw Error(Et(90));iG(n),BC(n,s)}}}break;case"textarea":oG(t,r);break;case"select":e=r.value,e!=null&&by(t,!!r.multiple,e,!1)}};pG=uF;mG=a1;var mxe={usingClientEntryPoint:!1,Events:[N4,qb,hP,fG,hG,uF]},H2={findFiberByHostInstance:Ym,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gxe={bundleType:H2.bundleType,version:H2.version,rendererPackageName:H2.rendererPackageName,rendererConfig:H2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yG(t),t===null?null:t.stateNode},findFiberByHostInstance:H2.findFiberByHostInstance||hxe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s8=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s8.isDisabled&&s8.supportsFiber)try{lP=s8.inject(gxe),jd=s8}catch{}}wc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mxe;wc.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bF(e))throw Error(Et(200));return fxe(t,e,null,r)};wc.createRoot=function(t,e){if(!bF(t))throw Error(Et(299));var r=!1,n="",s=Jee;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pF(t,1,!1,null,null,r,!1,n,s),t[Ah]=e.current,z3(t.nodeType===8?t.parentNode:t),new gF(e)};wc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Et(188)):(t=Object.keys(t).join(","),Error(Et(268,t)));return t=yG(e),t=t===null?null:t.stateNode,t};wc.flushSync=function(t){return a1(t)};wc.hydrate=function(t,e,r){if(!AP(e))throw Error(Et(200));return SP(null,t,e,!0,r)};wc.hydrateRoot=function(t,e,r){if(!bF(t))throw Error(Et(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Jee;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Zee(e,null,t,1,r??null,s,!1,i,a),t[Ah]=e.current,z3(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new wP(e)};wc.render=function(t,e,r){if(!AP(e))throw Error(Et(200));return SP(null,t,e,!1,r)};wc.unmountComponentAtNode=function(t){if(!AP(t))throw Error(Et(40));return t._reactRootContainer?(a1(function(){SP(null,null,t,!1,function(){t._reactRootContainer=null,t[Ah]=null})}),!0):!1};wc.unstable_batchedUpdates=uF;wc.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!AP(r))throw Error(Et(200));if(t==null||t._reactInternals===void 0)throw Error(Et(38));return SP(t,e,r,!1,n)};wc.version="18.3.1-next-f1338f8080-20240426";function Qee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qee)}catch(t){console.error(t)}}Qee(),QY.exports=wc;var M1=QY.exports;const bxe=Ua(M1);var Yee,Qz=M1;Yee=Qz.createRoot,Qz.hydrateRoot;function yxe(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,a=[],o="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(a.push(r),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var Gee={exports:{}},ete={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=F;function vxe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xxe=typeof Object.is=="function"?Object.is:vxe,wxe=nx.useState,Axe=nx.useEffect,Sxe=nx.useLayoutEffect,Pxe=nx.useDebugValue;function kxe(t,e){var r=e(),n=wxe({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Sxe(function(){s.value=r,s.getSnapshot=e,CN(s)&&i({inst:s})},[t,r,e]),Axe(function(){return CN(s)&&i({inst:s}),t(function(){CN(s)&&i({inst:s})})},[t]),Pxe(r),r}function CN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xxe(t,r)}catch{return!0}}function Ixe(t,e){return e()}var Nxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ixe:kxe;ete.useSyncExternalStore=nx.useSyncExternalStore!==void 0?nx.useSyncExternalStore:Nxe;Gee.exports=ete;var Exe=Gee.exports;const _xe=ZY.useInsertionEffect,Cxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Txe=Cxe?F.useLayoutEffect:F.useEffect,jxe=_xe||Txe,tte=t=>{const e=F.useRef([t,(...r)=>e[0](...r)]).current;return jxe(()=>{e[0]=t}),e[1]},$xe="popstate",yF="pushState",vF="replaceState",Mxe="hashchange",Yz=[$xe,yF,vF,Mxe],Oxe=t=>{for(const e of Yz)addEventListener(e,t);return()=>{for(const e of Yz)removeEventListener(e,t)}},rte=(t,e)=>Exe.useSyncExternalStore(Oxe,t,e),Fxe=()=>location.search,Bxe=({ssrSearch:t=""}={})=>rte(Fxe,()=>t),Gz=()=>location.pathname,Rxe=({ssrPath:t}={})=>rte(Gz,t?()=>t:Gz),Dxe=(t,{replace:e=!1,state:r=null}={})=>history[e?vF:yF](r,"",t),Uxe=(t={})=>[Rxe(t),Dxe],eL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[eL]>"u"){for(const t of[yF,vF]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,eL,{value:!0})}const zxe=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nte=(t="")=>t==="/"?"":t,Lxe=(t,e)=>t[0]==="~"?t.slice(1):nte(e)+t,Vxe=(t="",e)=>zxe(ST(nte(t)),ST(e)),Hxe=t=>t[0]==="?"?t.slice(1):t,ST=t=>{try{return decodeURI(t)}catch{return t}},Wxe=t=>ST(Hxe(t)),ste={hook:Uxe,searchHook:Bxe,parser:yxe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},ite=F.createContext(ste),Zx=()=>F.useContext(ite),ate={},ote=F.createContext(ate),cte=()=>F.useContext(ote),PP=t=>{const[e,r]=t.hook(t);return[Vxe(t.base,e),tte((n,s)=>r(Lxe(n,t.base),s))]},sf=()=>PP(Zx()),lte=()=>{const t=Zx();return Wxe(t.searchHook(t))},ute=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=s.exec(r)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):a.groups;let u={...c};return l&&Object.assign(u,l),u})(),...n?[o]:[]]:[!1,null]},qxe=({children:t,...e})=>{var u,f;const r=Zx(),n=e.hook?ste:r;let s=n;const[i,a]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=F.useRef({}),c=o.current,l=c;for(let h in n){const m=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===l&&m!==l[h]&&(o.current=l={...l}),l[h]=m,m!==n[h]&&(s=l)}return F.createElement(ite.Provider,{value:s,children:t})},tL=({children:t,component:e},r)=>e?F.createElement(e,{params:r}):typeof t=="function"?t(r):t,Kxe=t=>{let e=F.useRef(ate),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},$c=({path:t,nest:e,match:r,...n})=>{const s=Zx(),[i]=PP(s),[a,o,c]=r??ute(s.parser,t,i,e),l=Kxe({...cte(),...o});if(!a)return null;const u=c?F.createElement(qxe,{base:c},tL(n,l)):tL(n,l);return F.createElement(ote.Provider,{value:l,children:u})},dl=F.forwardRef((t,e)=>{const r=Zx(),[n,s]=PP(r),{to:i="",href:a=i,onClick:o,asChild:c,children:l,className:u,replace:f,state:h,...m}=t,v=tte(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(o==null||o(k),k.defaultPrevented||(k.preventDefault(),s(a,t)))}),x=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&F.isValidElement(l)?F.cloneElement(l,{onClick:v,href:x}):F.createElement("a",{...m,onClick:v,href:x,className:u!=null&&u.call?u(n===a):u,children:l,ref:e})}),dte=t=>Array.isArray(t)?t.flatMap(e=>dte(e&&e.type===F.Fragment?e.props.children:e)):[t],Xxe=({children:t,location:e})=>{const r=Zx(),[n]=PP(r);for(const s of dte(t)){let i=0;if(F.isValidElement(s)&&(i=ute(r.parser,s.props.path,e||n,s.props.nest))[0])return F.cloneElement(s,{match:i})}return null};var _4=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},o1=typeof window>"u"||"Deno"in globalThis;function il(){}function Zxe(t,e){return typeof t=="function"?t(e):t}function PT(t){return typeof t=="number"&&t>=0&&t!==1/0}function fte(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sy(t,e){return typeof t=="function"?t(e):t}function fu(t,e){return typeof t=="function"?t(e):t}function rL(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==xF(a,e.options))return!1}else if(!Q3(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function nL(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(J3(e.options.mutationKey)!==J3(i))return!1}else if(!Q3(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function xF(t,e){return((e==null?void 0:e.queryKeyHashFn)||J3)(t)}function J3(t){return JSON.stringify(t,(e,r)=>IT(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Q3(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Q3(t[r],e[r])):!1}function hte(t,e){if(t===e)return t;const r=sL(t)&&sL(e);if(r||IT(t)&&IT(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let c=0;for(let l=0;l<a;l++){const u=r?l:i[l];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,c++):(o[u]=hte(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return s===a&&c===s?t:o}return e}function kT(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function sL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function IT(t){if(!iL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!iL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Jxe(t){return new Promise(e=>{setTimeout(e,t)})}function NT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?hte(t,e):e}function Qxe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Yxe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var wF=Symbol();function pte(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wF?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var hg,V0,Xy,EY,Gxe=(EY=class extends _4{constructor(){super();Ne(this,hg);Ne(this,V0);Ne(this,Xy);oe(this,Xy,e=>{if(!o1&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,V0)||this.setEventListener(K(this,Xy))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,V0))==null||e.call(this),oe(this,V0,void 0))}setEventListener(e){var r;oe(this,Xy,e),(r=K(this,V0))==null||r.call(this),oe(this,V0,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){K(this,hg)!==e&&(oe(this,hg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof K(this,hg)=="boolean"?K(this,hg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hg=new WeakMap,V0=new WeakMap,Xy=new WeakMap,EY),AF=new Gxe,Zy,H0,Jy,_Y,e2e=(_Y=class extends _4{constructor(){super();Ne(this,Zy,!0);Ne(this,H0);Ne(this,Jy);oe(this,Jy,e=>{if(!o1&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,H0)||this.setEventListener(K(this,Jy))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,H0))==null||e.call(this),oe(this,H0,void 0))}setEventListener(e){var r;oe(this,Jy,e),(r=K(this,H0))==null||r.call(this),oe(this,H0,e(this.setOnline.bind(this)))}setOnline(e){K(this,Zy)!==e&&(oe(this,Zy,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return K(this,Zy)}},Zy=new WeakMap,H0=new WeakMap,Jy=new WeakMap,_Y),cA=new e2e;function ET(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function t2e(t){return Math.min(1e3*2**t,3e4)}function mte(t){return(t??"online")==="online"?cA.isOnline():!0}var gte=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function TN(t){return t instanceof gte}function bte(t){let e=!1,r=0,n=!1,s;const i=ET(),a=x=>{var k;n||(h(new gte(x)),(k=t.abort)==null||k.call(t))},o=()=>{e=!0},c=()=>{e=!1},l=()=>AF.isFocused()&&(t.networkMode==="always"||cA.isOnline())&&t.canRun(),u=()=>mte(t.networkMode)&&t.canRun(),f=x=>{var k;n||(n=!0,(k=t.onSuccess)==null||k.call(t,x),s==null||s(),i.resolve(x))},h=x=>{var k;n||(n=!0,(k=t.onError)==null||k.call(t,x),s==null||s(),i.reject(x))},m=()=>new Promise(x=>{var k;s=E=>{(n||l())&&x(E)},(k=t.onPause)==null||k.call(t)}).then(()=>{var x;s=void 0,n||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(n)return;let x;const k=r===0?t.initialPromise:void 0;try{x=k??t.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(f).catch(E=>{var D;if(n)return;const P=t.retry??(o1?0:3),_=t.retryDelay??t2e,M=typeof _=="function"?_(r,E):_,B=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,E);if(e||!B){h(E);return}r++,(D=t.onFail)==null||D.call(t,r,E),Jxe(M).then(()=>l()?void 0:m()).then(()=>{e?h(E):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),i)}}function r2e(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Di=r2e(),pg,CY,yte=(CY=class{constructor(){Ne(this,pg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PT(this.gcTime)&&oe(this,pg,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(o1?1/0:5*60*1e3))}clearGcTimeout(){K(this,pg)&&(clearTimeout(K(this,pg)),oe(this,pg,void 0))}},pg=new WeakMap,CY),Qy,Yy,el,xa,i4,mg,ru,Cf,TY,n2e=(TY=class extends yte{constructor(e){super();Ne(this,ru);Ne(this,Qy);Ne(this,Yy);Ne(this,el);Ne(this,xa);Ne(this,i4);Ne(this,mg);oe(this,mg,!1),oe(this,i4,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,el,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,Qy,s2e(this.options)),this.state=e.state??K(this,Qy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,xa))==null?void 0:e.promise}setOptions(e){this.options={...K(this,i4),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,el).remove(this)}setData(e,r){const n=NT(this.state.data,e,this.options);return Ye(this,ru,Cf).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ye(this,ru,Cf).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=K(this,xa))==null?void 0:n.promise;return(s=K(this,xa))==null||s.cancel(e),r?r.then(il).catch(il):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Qy))}isActive(){return this.observers.some(e=>fu(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wF||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fte(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,xa))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,xa))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,el).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(K(this,xa)&&(K(this,mg)?K(this,xa).cancel({revert:!0}):K(this,xa).cancelRetry()),this.scheduleGc()),K(this,el).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,ru,Cf).call(this,{type:"invalidate"})}fetch(e,r){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,xa))return K(this,xa).continueRetry(),K(this,xa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(oe(this,mg,!0),n.signal)})},i=()=>{const f=pte(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),oe(this,mg,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),oe(this,Yy,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&Ye(this,ru,Cf).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const o=f=>{var h,m,v,x;TN(f)&&f.silent||Ye(this,ru,Cf).call(this,{type:"error",error:f}),TN(f)||((m=(h=K(this,el).config).onError)==null||m.call(h,f,this),(x=(v=K(this,el).config).onSettled)==null||x.call(v,this.state.data,f,this)),this.scheduleGc()};return oe(this,xa,bte({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,v,x;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(k){o(k);return}(m=(h=K(this,el).config).onSuccess)==null||m.call(h,f,this),(x=(v=K(this,el).config).onSettled)==null||x.call(v,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Ye(this,ru,Cf).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ye(this,ru,Cf).call(this,{type:"pause"})},onContinue:()=>{Ye(this,ru,Cf).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,xa).start()}},Qy=new WeakMap,Yy=new WeakMap,el=new WeakMap,xa=new WeakMap,i4=new WeakMap,mg=new WeakMap,ru=new WeakSet,Cf=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vte(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return TN(s)&&s.revert&&K(this,Yy)?{...K(this,Yy),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Di.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,el).notify({query:this,type:"updated",action:e})})},TY);function vte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mte(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s2e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var od,jY,i2e=(jY=class extends _4{constructor(e={}){super();Ne(this,od);this.config=e,oe(this,od,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??xF(s,r);let a=this.get(i);return a||(a=new n2e({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){K(this,od).has(e.queryHash)||(K(this,od).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=K(this,od).get(e.queryHash);r&&(e.destroy(),r===e&&K(this,od).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,od).get(e)}getAll(){return[...K(this,od).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>rL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>rL(e,n)):r}notify(e){Di.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Di.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Di.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},od=new WeakMap,jY),cd,za,gg,ld,A0,$Y,a2e=($Y=class extends yte{constructor(e){super();Ne(this,ld);Ne(this,cd);Ne(this,za);Ne(this,gg);this.mutationId=e.mutationId,oe(this,za,e.mutationCache),oe(this,cd,[]),this.state=e.state||o2e(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,cd).includes(e)||(K(this,cd).push(e),this.clearGcTimeout(),K(this,za).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,cd,K(this,cd).filter(r=>r!==e)),this.scheduleGc(),K(this,za).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,cd).length||(this.state.status==="pending"?this.scheduleGc():K(this,za).remove(this))}continue(){var e;return((e=K(this,gg))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,o,c,l,u,f,h,m,v,x,k,E,P,_,M,B,D,j;oe(this,gg,bte({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Ye(this,ld,A0).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Ye(this,ld,A0).call(this,{type:"pause"})},onContinue:()=>{Ye(this,ld,A0).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,za).canRun(this)}));const r=this.state.status==="pending",n=!K(this,gg).canStart();try{if(!r){Ye(this,ld,A0).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=K(this,za).config).onMutate)==null?void 0:i.call(s,e,this));const R=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));R!==this.state.context&&Ye(this,ld,A0).call(this,{type:"pending",context:R,variables:e,isPaused:n})}const T=await K(this,gg).start();return await((l=(c=K(this,za).config).onSuccess)==null?void 0:l.call(c,T,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,T,e,this.state.context)),await((m=(h=K(this,za).config).onSettled)==null?void 0:m.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,T,null,e,this.state.context)),Ye(this,ld,A0).call(this,{type:"success",data:T}),T}catch(T){try{throw await((E=(k=K(this,za).config).onError)==null?void 0:E.call(k,T,e,this.state.context,this)),await((_=(P=this.options).onError)==null?void 0:_.call(P,T,e,this.state.context)),await((B=(M=K(this,za).config).onSettled)==null?void 0:B.call(M,void 0,T,this.state.variables,this.state.context,this)),await((j=(D=this.options).onSettled)==null?void 0:j.call(D,void 0,T,e,this.state.context)),T}finally{Ye(this,ld,A0).call(this,{type:"error",error:T})}}finally{K(this,za).runNext(this)}}},cd=new WeakMap,za=new WeakMap,gg=new WeakMap,ld=new WeakSet,A0=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Di.batch(()=>{K(this,cd).forEach(n=>{n.onMutationUpdate(e)}),K(this,za).notify({mutation:this,type:"updated",action:e})})},$Y);function o2e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qo,a4,MY,c2e=(MY=class extends _4{constructor(e={}){super();Ne(this,Qo);Ne(this,a4);this.config=e,oe(this,Qo,new Map),oe(this,a4,Date.now())}build(e,r,n){const s=new a2e({mutationCache:this,mutationId:++Xh(this,a4)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=i8(e),n=K(this,Qo).get(r)??[];n.push(e),K(this,Qo).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=i8(e);if(K(this,Qo).has(r)){const s=(n=K(this,Qo).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?K(this,Qo).delete(r):K(this,Qo).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=K(this,Qo).get(i8(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=K(this,Qo).get(i8(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...K(this,Qo).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>nL(r,n))}findAll(e={}){return this.getAll().filter(r=>nL(e,r))}notify(e){Di.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Di.batch(()=>Promise.all(e.map(r=>r.continue().catch(il))))}},Qo=new WeakMap,a4=new WeakMap,MY);function i8(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function aL(t){return{onFetch:(e,r)=>{var u,f,h,m,v;const n=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const l=async()=>{let x=!1;const k=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},E=pte(e.options,e.fetchOptions),P=async(_,M,B)=>{if(x)return Promise.reject();if(M==null&&_.pages.length)return Promise.resolve(_);const D={queryKey:e.queryKey,pageParam:M,direction:B?"backward":"forward",meta:e.options.meta};k(D);const j=await E(D),{maxPages:T}=e.options,R=B?Yxe:Qxe;return{pages:R(_.pages,j,T),pageParams:R(_.pageParams,M,T)}};if(s&&i.length){const _=s==="backward",M=_?l2e:oL,B={pages:i,pageParams:a},D=M(n,B);o=await P(B,D,_)}else{const _=t??i.length;do{const M=c===0?a[0]??n.initialPageParam:oL(n,o);if(c>0&&M==null)break;o=await P(o,M),c++}while(c<_)}return o};e.options.persister?e.fetchFn=()=>{var x,k;return(k=(x=e.options).persister)==null?void 0:k.call(x,l,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function oL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function l2e(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ys,W0,q0,Gy,ev,K0,tv,rv,OY,u2e=(OY=class{constructor(t={}){Ne(this,ys);Ne(this,W0);Ne(this,q0);Ne(this,Gy);Ne(this,ev);Ne(this,K0);Ne(this,tv);Ne(this,rv);oe(this,ys,t.queryCache||new i2e),oe(this,W0,t.mutationCache||new c2e),oe(this,q0,t.defaultOptions||{}),oe(this,Gy,new Map),oe(this,ev,new Map),oe(this,K0,0)}mount(){Xh(this,K0)._++,K(this,K0)===1&&(oe(this,tv,AF.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,ys).onFocus())})),oe(this,rv,cA.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,ys).onOnline())})))}unmount(){var t,e;Xh(this,K0)._--,K(this,K0)===0&&((t=K(this,tv))==null||t.call(this),oe(this,tv,void 0),(e=K(this,rv))==null||e.call(this),oe(this,rv,void 0))}isFetching(t){return K(this,ys).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,W0).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,ys).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=K(this,ys).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Sy(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return K(this,ys).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=K(this,ys).get(n.queryHash),i=s==null?void 0:s.state.data,a=Zxe(e,i);if(a!==void 0)return K(this,ys).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Di.batch(()=>K(this,ys).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,ys).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=K(this,ys);Di.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=K(this,ys),n={type:"active",...t};return Di.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Di.batch(()=>K(this,ys).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(il).catch(il)}invalidateQueries(t={},e={}){return Di.batch(()=>{if(K(this,ys).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Di.batch(()=>K(this,ys).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(il)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(il)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=K(this,ys).build(this,e);return r.isStaleByTime(Sy(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(il).catch(il)}fetchInfiniteQuery(t){return t.behavior=aL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(il).catch(il)}ensureInfiniteQueryData(t){return t.behavior=aL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cA.isOnline()?K(this,W0).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,ys)}getMutationCache(){return K(this,W0)}getDefaultOptions(){return K(this,q0)}setDefaultOptions(t){oe(this,q0,t)}setQueryDefaults(t,e){K(this,Gy).set(J3(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,Gy).values()];let r={};return e.forEach(n=>{Q3(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){K(this,ev).set(J3(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,ev).values()];let r={};return e.forEach(n=>{Q3(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,q0).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xF(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wF&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,q0).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,ys).clear(),K(this,W0).clear()}},ys=new WeakMap,W0=new WeakMap,q0=new WeakMap,Gy=new WeakMap,ev=new WeakMap,K0=new WeakMap,tv=new WeakMap,rv=new WeakMap,OY),xo,Hr,o4,La,bg,nv,X0,ud,c4,sv,iv,yg,vg,Z0,av,gn,$w,_T,CT,TT,jT,$T,MT,OT,xte,FY,d2e=(FY=class extends _4{constructor(e,r){super();Ne(this,gn);Ne(this,xo);Ne(this,Hr);Ne(this,o4);Ne(this,La);Ne(this,bg);Ne(this,nv);Ne(this,X0);Ne(this,ud);Ne(this,c4);Ne(this,sv);Ne(this,iv);Ne(this,yg);Ne(this,vg);Ne(this,Z0);Ne(this,av,new Set);this.options=r,oe(this,xo,e),oe(this,ud,null),oe(this,X0,ET()),this.options.experimental_prefetchInRender||K(this,X0).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,Hr).addObserver(this),cL(K(this,Hr),this.options)?Ye(this,gn,$w).call(this):this.updateResult(),Ye(this,gn,jT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FT(K(this,Hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FT(K(this,Hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,gn,$T).call(this),Ye(this,gn,MT).call(this),K(this,Hr).removeObserver(this)}setOptions(e,r){const n=this.options,s=K(this,Hr);if(this.options=K(this,xo).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fu(this.options.enabled,K(this,Hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,gn,OT).call(this),K(this,Hr).setOptions(this.options),n._defaulted&&!kT(this.options,n)&&K(this,xo).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,Hr),observer:this});const i=this.hasListeners();i&&lL(K(this,Hr),s,this.options,n)&&Ye(this,gn,$w).call(this),this.updateResult(r),i&&(K(this,Hr)!==s||fu(this.options.enabled,K(this,Hr))!==fu(n.enabled,K(this,Hr))||Sy(this.options.staleTime,K(this,Hr))!==Sy(n.staleTime,K(this,Hr)))&&Ye(this,gn,_T).call(this);const a=Ye(this,gn,CT).call(this);i&&(K(this,Hr)!==s||fu(this.options.enabled,K(this,Hr))!==fu(n.enabled,K(this,Hr))||a!==K(this,Z0))&&Ye(this,gn,TT).call(this,a)}getOptimisticResult(e){const r=K(this,xo).getQueryCache().build(K(this,xo),e),n=this.createResult(r,e);return h2e(this,n)&&(oe(this,La,n),oe(this,nv,this.options),oe(this,bg,K(this,Hr).state)),n}getCurrentResult(){return K(this,La)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){K(this,av).add(e)}getCurrentQuery(){return K(this,Hr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=K(this,xo).defaultQueryOptions(e),n=K(this,xo).getQueryCache().build(K(this,xo),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ye(this,gn,$w).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,La)))}createResult(e,r){var T;const n=K(this,Hr),s=this.options,i=K(this,La),a=K(this,bg),o=K(this,nv),l=e!==n?e.state:K(this,o4),{state:u}=e;let f={...u},h=!1,m;if(r._optimisticResults){const R=this.hasListeners(),H=!R&&cL(e,r),O=R&&lL(e,n,r,s);(H||O)&&(f={...f,...vte(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:k}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&r.select===K(this,c4))m=K(this,sv);else try{oe(this,c4,r.select),m=r.select(f.data),m=NT(i==null?void 0:i.data,m,r),oe(this,sv,m),oe(this,ud,null)}catch(R){oe(this,ud,R)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&k==="pending"){let R;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))R=i.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((T=K(this,iv))==null?void 0:T.state.data,K(this,iv)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),oe(this,ud,null)}catch(H){oe(this,ud,H)}R!==void 0&&(k="success",m=NT(i==null?void 0:i.data,R,r),h=!0)}K(this,ud)&&(v=K(this,ud),m=K(this,sv),x=Date.now(),k="error");const E=f.fetchStatus==="fetching",P=k==="pending",_=k==="error",M=P&&E,B=m!==void 0,j={status:k,fetchStatus:f.fetchStatus,isPending:P,isSuccess:k==="success",isError:_,isInitialLoading:M,isLoading:M,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:_&&!B,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&B,isStale:SF(e,r),refetch:this.refetch,promise:K(this,X0)};if(this.options.experimental_prefetchInRender){const R=b=>{j.status==="error"?b.reject(j.error):j.data!==void 0&&b.resolve(j.data)},H=()=>{const b=oe(this,X0,j.promise=ET());R(b)},O=K(this,X0);switch(O.status){case"pending":e.queryHash===n.queryHash&&R(O);break;case"fulfilled":(j.status==="error"||j.data!==O.value)&&H();break;case"rejected":(j.status!=="error"||j.error!==O.reason)&&H();break}}return j}updateResult(e){const r=K(this,La),n=this.createResult(K(this,Hr),this.options);if(oe(this,bg,K(this,Hr).state),oe(this,nv,this.options),K(this,bg).data!==void 0&&oe(this,iv,K(this,Hr)),kT(n,r))return;oe(this,La,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!K(this,av).size)return!0;const c=new Set(o??K(this,av));return this.options.throwOnError&&c.add("error"),Object.keys(K(this,La)).some(l=>{const u=l;return K(this,La)[u]!==r[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,gn,xte).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,gn,jT).call(this)}},xo=new WeakMap,Hr=new WeakMap,o4=new WeakMap,La=new WeakMap,bg=new WeakMap,nv=new WeakMap,X0=new WeakMap,ud=new WeakMap,c4=new WeakMap,sv=new WeakMap,iv=new WeakMap,yg=new WeakMap,vg=new WeakMap,Z0=new WeakMap,av=new WeakMap,gn=new WeakSet,$w=function(e){Ye(this,gn,OT).call(this);let r=K(this,Hr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(il)),r},_T=function(){Ye(this,gn,$T).call(this);const e=Sy(this.options.staleTime,K(this,Hr));if(o1||K(this,La).isStale||!PT(e))return;const n=fte(K(this,La).dataUpdatedAt,e)+1;oe(this,yg,setTimeout(()=>{K(this,La).isStale||this.updateResult()},n))},CT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,Hr)):this.options.refetchInterval)??!1},TT=function(e){Ye(this,gn,MT).call(this),oe(this,Z0,e),!(o1||fu(this.options.enabled,K(this,Hr))===!1||!PT(K(this,Z0))||K(this,Z0)===0)&&oe(this,vg,setInterval(()=>{(this.options.refetchIntervalInBackground||AF.isFocused())&&Ye(this,gn,$w).call(this)},K(this,Z0)))},jT=function(){Ye(this,gn,_T).call(this),Ye(this,gn,TT).call(this,Ye(this,gn,CT).call(this))},$T=function(){K(this,yg)&&(clearTimeout(K(this,yg)),oe(this,yg,void 0))},MT=function(){K(this,vg)&&(clearInterval(K(this,vg)),oe(this,vg,void 0))},OT=function(){const e=K(this,xo).getQueryCache().build(K(this,xo),this.options);if(e===K(this,Hr))return;const r=K(this,Hr);oe(this,Hr,e),oe(this,o4,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xte=function(e){Di.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(K(this,La))}),K(this,xo).getQueryCache().notify({query:K(this,Hr),type:"observerResultsUpdated"})})},FY);function f2e(t,e){return fu(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cL(t,e){return f2e(t,e)||t.state.data!==void 0&&FT(t,e,e.refetchOnMount)}function FT(t,e,r){if(fu(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&SF(t,e)}return!1}function lL(t,e,r,n){return(t!==e||fu(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&SF(t,r)}function SF(t,e){return fu(e.enabled,t)!==!1&&t.isStaleByTime(Sy(e.staleTime,t))}function h2e(t,e){return!kT(t.getCurrentResult(),e)}var wte=F.createContext(void 0),p2e=t=>{const e=F.useContext(wte);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},m2e=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(wte.Provider,{value:t,children:e})),Ate=F.createContext(!1),g2e=()=>F.useContext(Ate);Ate.Provider;function b2e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var y2e=F.createContext(b2e()),v2e=()=>F.useContext(y2e);function x2e(t,e){return typeof t=="function"?t(...e):!!t}function uL(){}var w2e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},A2e=t=>{F.useEffect(()=>{t.clearReset()},[t])},S2e=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&x2e(r,[t.error,n]),P2e=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},k2e=(t,e)=>t.isLoading&&t.isFetching&&!e,I2e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,dL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function N2e(t,e,r){var u,f,h,m,v;const n=p2e(),s=g2e(),i=v2e(),a=n.defaultQueryOptions(t);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,a),a._optimisticResults=s?"isRestoring":"optimistic",P2e(a),w2e(a,i),A2e(i);const o=!n.getQueryCache().get(a.queryHash),[c]=F.useState(()=>new e(n,a)),l=c.getOptimisticResult(a);if(F.useSyncExternalStore(F.useCallback(x=>{const k=s?uL:c.subscribe(Di.batchCalls(x));return c.updateResult(),k},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),F.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),I2e(a,l))throw dL(a,c,i);if(S2e({result:l,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw l.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,a,l),a.experimental_prefetchInRender&&!o1&&k2e(l,s)){const x=o?dL(a,c,i):(v=n.getQueryCache().get(a.queryHash))==null?void 0:v.promise;x==null||x.catch(uL).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?l:c.trackResult(l)}function E2e(t,e){return N2e(t,d2e)}async function _2e(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const C2e=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await _2e(r),await r.json())},T2e=new u2e({defaultOptions:{queries:{queryFn:C2e({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),j2e=1,$2e=1e6;let jN=0;function M2e(){return jN=(jN+1)%Number.MAX_SAFE_INTEGER,jN.toString()}const $N=new Map,fL=t=>{if($N.has(t))return;const e=setTimeout(()=>{$N.delete(t),p3({type:"REMOVE_TOAST",toastId:t})},$2e);$N.set(t,e)},O2e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,j2e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?fL(r):t.toasts.forEach(n=>{fL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},R9=[];let D9={toasts:[]};function p3(t){D9=O2e(D9,t),R9.forEach(e=>{e(D9)})}function F2e({...t}){const e=M2e(),r=s=>p3({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>p3({type:"DISMISS_TOAST",toastId:e});return p3({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function ki(){const[t,e]=F.useState(D9);return F.useEffect(()=>(R9.push(e),()=>{const r=R9.indexOf(e);r>-1&&R9.splice(r,1)}),[t]),{...t,toast:F2e,dismiss:r=>p3({type:"DISMISS_TOAST",toastId:r})}}function _t(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kP(...t){return e=>{let r=!1;const n=t.map(s=>{const i=hL(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():hL(t[s],null)}}}}function yr(...t){return F.useCallback(kP(...t),t)}function B2e(t,e){const r=F.createContext(e),n=i=>{const{children:a,...o}=i,c=F.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(i){const a=F.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Zi(t,e=[]){let r=[];function n(i,a){const o=F.createContext(a),c=r.length;r=[...r,a];const l=f=>{var E;const{scope:h,children:m,...v}=f,x=((E=h==null?void 0:h[t])==null?void 0:E[c])||o,k=F.useMemo(()=>v,Object.values(v));return d.jsx(x.Provider,{value:k,children:m})};l.displayName=i+"Provider";function u(f,h){var x;const m=((x=h==null?void 0:h[t])==null?void 0:x[c])||o,v=F.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=r.map(a=>F.createContext(a));return function(o){const c=(o==null?void 0:o[t])||i;return F.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return s.scopeName=t,[n,R2e(s,...e)]}function R2e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...o,...f}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function c1(t){const e=D2e(t),r=F.forwardRef((n,s)=>{const{children:i,...a}=n,o=F.Children.toArray(i),c=o.find(U2e);if(c){const l=c.props.children,u=o.map(f=>f===c?F.Children.count(l)>1?F.Children.only(null):F.isValidElement(l)?l.props.children:null:f);return d.jsx(e,{...a,ref:s,children:F.isValidElement(l)?F.cloneElement(l,void 0,u):null})}return d.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var Ste=c1("Slot");function D2e(t){const e=F.forwardRef((r,n)=>{const{children:s,...i}=r;if(F.isValidElement(s)){const a=L2e(s),o=z2e(i,s.props);return s.type!==F.Fragment&&(o.ref=n?kP(n,a):a),F.cloneElement(s,o)}return F.Children.count(s)>1?F.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pte=Symbol("radix.slottable");function kte(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Pte,e}function U2e(t){return F.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pte}function z2e(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function L2e(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function IP(t){const e=t+"CollectionProvider",[r,n]=Zi(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:k,children:E}=x,P=Qr.useRef(null),_=Qr.useRef(new Map).current;return d.jsx(s,{scope:k,itemMap:_,collectionRef:P,children:E})};a.displayName=e;const o=t+"CollectionSlot",c=c1(o),l=Qr.forwardRef((x,k)=>{const{scope:E,children:P}=x,_=i(o,E),M=yr(k,_.collectionRef);return d.jsx(c,{ref:M,children:P})});l.displayName=o;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=c1(u),m=Qr.forwardRef((x,k)=>{const{scope:E,children:P,..._}=x,M=Qr.useRef(null),B=yr(k,M),D=i(u,E);return Qr.useEffect(()=>(D.itemMap.set(M,{ref:M,..._}),()=>void D.itemMap.delete(M))),d.jsx(h,{[f]:"",ref:B,children:P})});m.displayName=u;function v(x){const k=i(t+"CollectionConsumer",x);return Qr.useCallback(()=>{const P=k.collectionRef.current;if(!P)return[];const _=Array.from(P.querySelectorAll(`[${f}]`));return Array.from(k.itemMap.values()).sort((D,j)=>_.indexOf(D.ref.current)-_.indexOf(j.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:a,Slot:l,ItemSlot:m},v,n]}var V2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qt=V2e.reduce((t,e)=>{const r=c1(`Primitive.${e}`),n=F.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function PF(t,e){t&&M1.flushSync(()=>t.dispatchEvent(e))}function ls(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function H2e(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t);F.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var W2e="DismissableLayer",BT="dismissableLayer.update",q2e="dismissableLayer.pointerDownOutside",K2e="dismissableLayer.focusOutside",pL,Ite=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jx=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=t,l=F.useContext(Ite),[u,f]=F.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=F.useState({}),v=yr(e,j=>f(j)),x=Array.from(l.layers),[k]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(k),P=u?x.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,M=P>=E,B=Z2e(j=>{const T=j.target,R=[...l.branches].some(H=>H.contains(T));!M||R||(s==null||s(j),a==null||a(j),j.defaultPrevented||o==null||o())},h),D=J2e(j=>{const T=j.target;[...l.branches].some(H=>H.contains(T))||(i==null||i(j),a==null||a(j),j.defaultPrevented||o==null||o())},h);return H2e(j=>{P===l.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},h),F.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(pL=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),mL(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pL)}},[u,h,r,l]),F.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),mL())},[u,l]),F.useEffect(()=>{const j=()=>m({});return document.addEventListener(BT,j),()=>document.removeEventListener(BT,j)},[]),d.jsx(Qt.div,{...c,ref:v,style:{pointerEvents:_?M?"auto":"none":void 0,...t.style},onFocusCapture:_t(t.onFocusCapture,D.onFocusCapture),onBlurCapture:_t(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:_t(t.onPointerDownCapture,B.onPointerDownCapture)})});Jx.displayName=W2e;var X2e="DismissableLayerBranch",Nte=F.forwardRef((t,e)=>{const r=F.useContext(Ite),n=F.useRef(null),s=yr(e,n);return F.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(Qt.div,{...t,ref:s})});Nte.displayName=X2e;function Z2e(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t),n=F.useRef(!1),s=F.useRef(()=>{});return F.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){Ete(q2e,r,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function J2e(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t),n=F.useRef(!1);return F.useEffect(()=>{const s=i=>{i.target&&!n.current&&Ete(K2e,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mL(){const t=new CustomEvent(BT);document.dispatchEvent(t)}function Ete(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?PF(s,i):s.dispatchEvent(i)}var Q2e=Jx,Y2e=Nte,Xi=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},G2e="Portal",C4=F.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[s,i]=F.useState(!1);Xi(()=>i(!0),[]);const a=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?bxe.createPortal(d.jsx(Qt.div,{...n,ref:e}),a):null});C4.displayName=G2e;function ewe(t,e){return F.useReducer((r,n)=>e[r][n]??r,t)}var Ji=t=>{const{present:e,children:r}=t,n=twe(e),s=typeof r=="function"?r({present:n.isPresent}):F.Children.only(r),i=yr(n.ref,rwe(s));return typeof r=="function"||n.isPresent?F.cloneElement(s,{ref:i}):null};Ji.displayName="Presence";function twe(t){const[e,r]=F.useState(),n=F.useRef({}),s=F.useRef(t),i=F.useRef("none"),a=t?"mounted":"unmounted",[o,c]=ewe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const l=a8(n.current);i.current=o==="mounted"?l:"none"},[o]),Xi(()=>{const l=n.current,u=s.current;if(u!==t){const h=i.current,m=a8(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Xi(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=m=>{const x=a8(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},h=m=>{m.target===e&&(i.current=a8(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:F.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function a8(t){return(t==null?void 0:t.animationName)||"none"}function rwe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Iu({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=nwe({defaultProp:e,onChange:r}),i=t!==void 0,a=i?t:n,o=ls(r),c=F.useCallback(l=>{if(i){const f=typeof l=="function"?l(t):l;f!==t&&o(f)}else s(l)},[i,t,s,o]);return[a,c]}function nwe({defaultProp:t,onChange:e}){const r=F.useState(t),[n]=r,s=F.useRef(n),i=ls(e);return F.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var swe="VisuallyHidden",T4=F.forwardRef((t,e)=>d.jsx(Qt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));T4.displayName=swe;var iwe=T4,kF="ToastProvider",[IF,awe,owe]=IP("Toast"),[_te,p3t]=Zi("Toast",[owe]),[cwe,NP]=_te(kF),Cte=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[o,c]=F.useState(null),[l,u]=F.useState(0),f=F.useRef(!1),h=F.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${kF}\`. Expected non-empty \`string\`.`),d.jsx(IF.Provider,{scope:e,children:d.jsx(cwe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:o,onViewportChange:c,onToastAdd:F.useCallback(()=>u(m=>m+1),[]),onToastRemove:F.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Cte.displayName=kF;var Tte="ToastViewport",lwe=["F8"],RT="toast.viewportPause",DT="toast.viewportResume",jte=F.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=lwe,label:s="Notifications ({hotkey})",...i}=t,a=NP(Tte,r),o=awe(r),c=F.useRef(null),l=F.useRef(null),u=F.useRef(null),f=F.useRef(null),h=yr(e,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;F.useEffect(()=>{const k=E=>{var _;n.length!==0&&n.every(M=>E[M]||E.code===M)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]),F.useEffect(()=>{const k=c.current,E=f.current;if(v&&k&&E){const P=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(RT);E.dispatchEvent(D),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(DT);E.dispatchEvent(D),a.isClosePausedRef.current=!1}},M=D=>{!k.contains(D.relatedTarget)&&_()},B=()=>{k.contains(document.activeElement)||_()};return k.addEventListener("focusin",P),k.addEventListener("focusout",M),k.addEventListener("pointermove",P),k.addEventListener("pointerleave",B),window.addEventListener("blur",P),window.addEventListener("focus",_),()=>{k.removeEventListener("focusin",P),k.removeEventListener("focusout",M),k.removeEventListener("pointermove",P),k.removeEventListener("pointerleave",B),window.removeEventListener("blur",P),window.removeEventListener("focus",_)}}},[v,a.isClosePausedRef]);const x=F.useCallback(({tabbingDirection:k})=>{const P=o().map(_=>{const M=_.ref.current,B=[M,...Awe(M)];return k==="forwards"?B:B.reverse()});return(k==="forwards"?P.reverse():P).flat()},[o]);return F.useEffect(()=>{const k=f.current;if(k){const E=P=>{var B,D,j;const _=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!_){const T=document.activeElement,R=P.shiftKey;if(P.target===k&&R){(B=l.current)==null||B.focus();return}const b=x({tabbingDirection:R?"backwards":"forwards"}),w=b.findIndex(p=>p===T);MN(b.slice(w+1))?P.preventDefault():R?(D=l.current)==null||D.focus():(j=u.current)==null||j.focus()}};return k.addEventListener("keydown",E),()=>k.removeEventListener("keydown",E)}},[o,x]),d.jsxs(Y2e,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(UT,{ref:l,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"forwards"});MN(k)}}),d.jsx(IF.Slot,{scope:r,children:d.jsx(Qt.ol,{tabIndex:-1,...i,ref:h})}),v&&d.jsx(UT,{ref:u,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"backwards"});MN(k)}})]})});jte.displayName=Tte;var $te="ToastFocusProxy",UT=F.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=NP($te,r);return d.jsx(T4,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var l;const o=a.relatedTarget;!((l=i.viewport)!=null&&l.contains(o))&&n()}})});UT.displayName=$te;var EP="Toast",uwe="toast.swipeStart",dwe="toast.swipeMove",fwe="toast.swipeCancel",hwe="toast.swipeEnd",Mte=F.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=t,[o=!0,c]=Iu({prop:n,defaultProp:s,onChange:i});return d.jsx(Ji,{present:r||o,children:d.jsx(gwe,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:ls(t.onPause),onResume:ls(t.onResume),onSwipeStart:_t(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_t(t.onSwipeMove,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_t(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_t(t.onSwipeEnd,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Mte.displayName=EP;var[pwe,mwe]=_te(EP,{onClose(){}}),gwe=F.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,x=NP(EP,r),[k,E]=F.useState(null),P=yr(e,p=>E(p)),_=F.useRef(null),M=F.useRef(null),B=s||x.duration,D=F.useRef(0),j=F.useRef(B),T=F.useRef(0),{onToastAdd:R,onToastRemove:H}=x,O=ls(()=>{var g;(k==null?void 0:k.contains(document.activeElement))&&((g=x.viewport)==null||g.focus()),a()}),b=F.useCallback(p=>{!p||p===1/0||(window.clearTimeout(T.current),D.current=new Date().getTime(),T.current=window.setTimeout(O,p))},[O]);F.useEffect(()=>{const p=x.viewport;if(p){const g=()=>{b(j.current),l==null||l()},S=()=>{const N=new Date().getTime()-D.current;j.current=j.current-N,window.clearTimeout(T.current),c==null||c()};return p.addEventListener(RT,S),p.addEventListener(DT,g),()=>{p.removeEventListener(RT,S),p.removeEventListener(DT,g)}}},[x.viewport,B,c,l,b]),F.useEffect(()=>{i&&!x.isClosePausedRef.current&&b(B)},[i,B,x.isClosePausedRef,b]),F.useEffect(()=>(R(),()=>H()),[R,H]);const w=F.useMemo(()=>k?zte(k):null,[k]);return x.viewport?d.jsxs(d.Fragment,{children:[w&&d.jsx(bwe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:w}),d.jsx(pwe,{scope:r,onClose:O,children:M1.createPortal(d.jsx(IF.ItemSlot,{scope:r,children:d.jsx(Q2e,{asChild:!0,onEscapeKeyDown:_t(o,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:P,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_t(t.onKeyDown,p=>{p.key==="Escape"&&(o==null||o(p.nativeEvent),p.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:_t(t.onPointerDown,p=>{p.button===0&&(_.current={x:p.clientX,y:p.clientY})}),onPointerMove:_t(t.onPointerMove,p=>{if(!_.current)return;const g=p.clientX-_.current.x,S=p.clientY-_.current.y,N=!!M.current,I=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,y=I?A(0,g):0,C=I?0:A(0,S),$=p.pointerType==="touch"?10:2,L={x:y,y:C},Q={originalEvent:p,delta:L};N?(M.current=L,o8(dwe,f,Q,{discrete:!1})):gL(L,x.swipeDirection,$)?(M.current=L,o8(uwe,u,Q,{discrete:!1}),p.target.setPointerCapture(p.pointerId)):(Math.abs(g)>$||Math.abs(S)>$)&&(_.current=null)}),onPointerUp:_t(t.onPointerUp,p=>{const g=M.current,S=p.target;if(S.hasPointerCapture(p.pointerId)&&S.releasePointerCapture(p.pointerId),M.current=null,_.current=null,g){const N=p.currentTarget,I={originalEvent:p,delta:g};gL(g,x.swipeDirection,x.swipeThreshold)?o8(hwe,m,I,{discrete:!0}):o8(fwe,h,I,{discrete:!0}),N.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),bwe=t=>{const{__scopeToast:e,children:r,...n}=t,s=NP(EP,e),[i,a]=F.useState(!1),[o,c]=F.useState(!1);return xwe(()=>a(!0)),F.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:d.jsx(C4,{asChild:!0,children:d.jsx(T4,{...n,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},ywe="ToastTitle",Ote=F.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});Ote.displayName=ywe;var vwe="ToastDescription",Fte=F.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});Fte.displayName=vwe;var Bte="ToastAction",Rte=F.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(Ute,{altText:r,asChild:!0,children:d.jsx(NF,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Bte}\`. Expected non-empty \`string\`.`),null)});Rte.displayName=Bte;var Dte="ToastClose",NF=F.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=mwe(Dte,r);return d.jsx(Ute,{asChild:!0,children:d.jsx(Qt.button,{type:"button",...n,ref:e,onClick:_t(t.onClick,s.onClose)})})});NF.displayName=Dte;var Ute=F.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return d.jsx(Qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function zte(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wwe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...zte(n))}}),e}function o8(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?PF(s,i):s.dispatchEvent(i)}var gL=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function xwe(t=()=>{}){const e=ls(t);Xi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wwe(t){return t.nodeType===t.ELEMENT_NODE}function Awe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function MN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Swe=Cte,Lte=jte,Vte=Mte,Hte=Ote,Wte=Fte,qte=Rte,Kte=NF;function Xte(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Xte(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Zte(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Xte(t))&&(n&&(n+=" "),n+=e);return n}const bL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yL=Zte,O1=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return yL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(l=>{const u=r==null?void 0:r[l],f=i==null?void 0:i[l];if(u===null)return null;const h=bL(u)||bL(f);return s[l][h]}),o=r&&Object.entries(r).reduce((l,u)=>{let[f,h]=u;return h===void 0||(l[f]=h),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(v=>{let[x,k]=v;return Array.isArray(k)?k.includes({...i,...o}[x]):{...i,...o}[x]===k})?[...l,f,h]:l},[]);return yL(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pwe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jte=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kwe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iwe=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>F.createElement("svg",{ref:c,...kwe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Jte("lucide",s),...o},[...a.map(([l,u])=>F.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const r=F.forwardRef(({className:n,...s},i)=>F.createElement(Iwe,{ref:i,iconNode:e,className:Jte(`lucide-${Pwe(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=qt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nwe=qt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ewe=qt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=qt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _we=qt("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cwe=qt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=qt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twe=qt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=qt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jwe=qt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=qt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=qt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=qt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=qt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=qt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $we=qt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=qt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=qt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=qt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mwe=qt("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=qt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=qt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=qt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=qt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=qt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=qt("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=qt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=qt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=qt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=qt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=qt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=qt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Owe=qt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fwe=qt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=qt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=qt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=qt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=qt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=qt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=qt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=qt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bwe=qt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rwe=qt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dwe=qt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uwe=qt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=qt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zwe=qt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lwe=qt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=qt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vwe=qt("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hwe=qt("Unplug",[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=qt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wwe=qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=qt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qwe=qt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=qt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_F="-",Kwe=t=>{const e=Zwe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(_F);return o[0]===""&&o.length!==1&&o.shift(),ore(o,e)||Xwe(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},ore=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?ore(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_F);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},AL=/^\[(.+)\]$/,Xwe=t=>{if(AL.test(t)){const e=AL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Zwe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Qwe(Object.entries(t.classGroups),r).forEach(([i,a])=>{VT(a,n,i,e)}),n},VT=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:SL(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Jwe(s)){VT(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{VT(a,SL(e,i),r,n)})})},SL=(t,e)=>{let r=t;return e.split(_F).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jwe=t=>t.isThemeGetter,Qwe=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[r,s]}):t,Ywe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},cre="!",Gwe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,a=o=>{const c=[];let l=0,u=0,f;for(let k=0;k<o.length;k++){let E=o[k];if(l===0){if(E===s&&(n||o.slice(k,k+i)===e)){c.push(o.slice(u,k)),u=k+i;continue}if(E==="/"){f=k;continue}}E==="["?l++:E==="]"&&l--}const h=c.length===0?o:o.substring(u),m=h.startsWith(cre),v=m?h.substring(1):h,x=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:a}):a},e3e=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},t3e=t=>({cache:Ywe(t.cacheSize),parseClassName:Gwe(t),...Kwe(t)}),r3e=/\s+/,n3e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(r3e);let o="";for(let c=a.length-1;c>=0;c-=1){const l=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(l);let v=!!m,x=n(v?h.substring(0,m):h);if(!x){if(!v){o=l+(o.length>0?" "+o:o);continue}if(x=n(h),!x){o=l+(o.length>0?" "+o:o);continue}v=!1}const k=e3e(u).join(":"),E=f?k+cre:k,P=E+x;if(i.includes(P))continue;i.push(P);const _=s(x,v);for(let M=0;M<_.length;++M){const B=_[M];i.push(E+B)}o=l+(o.length>0?" "+o:o)}return o};function s3e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=lre(e))&&(n&&(n+=" "),n+=r);return n}const lre=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=lre(t[n]))&&(r&&(r+=" "),r+=e);return r};function i3e(t,...e){let r,n,s,i=a;function a(c){const l=e.reduce((u,f)=>f(u),t());return r=t3e(l),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const l=n(c);if(l)return l;const u=n3e(c,r);return s(c,u),u}return function(){return i(s3e.apply(null,arguments))}}const Ln=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ure=/^\[(?:([a-z-]+):)?(.+)\]$/i,a3e=/^\d+\/\d+$/,o3e=new Set(["px","full","screen"]),c3e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l3e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u3e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d3e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f3e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bf=t=>ky(t)||o3e.has(t)||a3e.test(t),Jh=t=>Qx(t,"length",x3e),ky=t=>!!t&&!Number.isNaN(Number(t)),ON=t=>Qx(t,"number",ky),W2=t=>!!t&&Number.isInteger(Number(t)),h3e=t=>t.endsWith("%")&&ky(t.slice(0,-1)),kr=t=>ure.test(t),Qh=t=>c3e.test(t),p3e=new Set(["length","size","percentage"]),m3e=t=>Qx(t,p3e,dre),g3e=t=>Qx(t,"position",dre),b3e=new Set(["image","url"]),y3e=t=>Qx(t,b3e,A3e),v3e=t=>Qx(t,"",w3e),q2=()=>!0,Qx=(t,e,r)=>{const n=ure.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},x3e=t=>l3e.test(t)&&!u3e.test(t),dre=()=>!1,w3e=t=>d3e.test(t),A3e=t=>f3e.test(t),S3e=()=>{const t=Ln("colors"),e=Ln("spacing"),r=Ln("blur"),n=Ln("brightness"),s=Ln("borderColor"),i=Ln("borderRadius"),a=Ln("borderSpacing"),o=Ln("borderWidth"),c=Ln("contrast"),l=Ln("grayscale"),u=Ln("hueRotate"),f=Ln("invert"),h=Ln("gap"),m=Ln("gradientColorStops"),v=Ln("gradientColorStopPositions"),x=Ln("inset"),k=Ln("margin"),E=Ln("opacity"),P=Ln("padding"),_=Ln("saturate"),M=Ln("scale"),B=Ln("sepia"),D=Ln("skew"),j=Ln("space"),T=Ln("translate"),R=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",kr,e],b=()=>[kr,e],w=()=>["",bf,Jh],p=()=>["auto",ky,kr],g=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",kr],y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[ky,kr];return{cacheSize:500,separator:":",theme:{colors:[q2],spacing:[bf,Jh],blur:["none","",Qh,kr],brightness:C(),borderColor:[t],borderRadius:["none","","full",Qh,kr],borderSpacing:b(),borderWidth:w(),contrast:C(),grayscale:A(),hueRotate:C(),invert:A(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[h3e,Jh],inset:O(),margin:O(),opacity:C(),padding:b(),saturate:C(),scale:C(),sepia:A(),skew:C(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",kr]}],container:["container"],columns:[{columns:[Qh]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...g(),kr]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",W2,kr]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kr]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",W2,kr]}],"grid-cols":[{"grid-cols":[q2]}],"col-start-end":[{col:["auto",{span:["full",W2,kr]},kr]}],"col-start":[{"col-start":p()}],"col-end":[{"col-end":p()}],"grid-rows":[{"grid-rows":[q2]}],"row-start-end":[{row:["auto",{span:[W2,kr]},kr]}],"row-start":[{"row-start":p()}],"row-end":[{"row-end":p()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kr,e]}],"min-w":[{"min-w":[kr,e,"min","max","fit"]}],"max-w":[{"max-w":[kr,e,"none","full","min","max","fit","prose",{screen:[Qh]},Qh]}],h:[{h:[kr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qh,Jh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ON]}],"font-family":[{font:[q2]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kr]}],"line-clamp":[{"line-clamp":["none",ky,ON]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bf,kr]}],"list-image":[{"list-image":["none",kr]}],"list-style-type":[{list:["none","disc","decimal",kr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bf,Jh]}],"underline-offset":[{"underline-offset":["auto",bf,kr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...g(),g3e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m3e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y3e]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:S()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[bf,kr]}],"outline-w":[{outline:[bf,Jh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:w()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[bf,Jh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qh,v3e]}],"shadow-color":[{shadow:[q2]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...N(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qh,kr]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kr]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",kr]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",kr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[W2,kr]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bf,Jh,ON]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P3e=i3e(S3e);function jt(...t){return P3e(Zte(t))}const k3e=Swe,fre=F.forwardRef(({className:t,...e},r)=>d.jsx(Lte,{ref:r,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fre.displayName=Lte.displayName;const I3e=O1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hre=F.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(Vte,{ref:n,className:jt(I3e({variant:e}),t),...r}));hre.displayName=Vte.displayName;const N3e=F.forwardRef(({className:t,...e},r)=>d.jsx(qte,{ref:r,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));N3e.displayName=qte.displayName;const pre=F.forwardRef(({className:t,...e},r)=>d.jsx(Kte,{ref:r,className:jt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(F1,{className:"h-4 w-4"})}));pre.displayName=Kte.displayName;const mre=F.forwardRef(({className:t,...e},r)=>d.jsx(Hte,{ref:r,className:jt("text-sm font-semibold",t),...e}));mre.displayName=Hte.displayName;const gre=F.forwardRef(({className:t,...e},r)=>d.jsx(Wte,{ref:r,className:jt("text-sm opacity-90",t),...e}));gre.displayName=Wte.displayName;function E3e(){const{toasts:t}=ki();return d.jsxs(k3e,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return d.jsxs(hre,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(mre,{children:r}),n&&d.jsx(gre,{children:n})]}),s,d.jsx(pre,{})]},e)}),d.jsx(fre,{})]})}var _3e=ZY[" useId ".trim().toString()]||(()=>{}),C3e=0;function Au(t){const[e,r]=F.useState(_3e());return Xi(()=>{t||r(n=>n??String(C3e++))},[t]),t||(e?`radix-${e}`:"")}const T3e=["top","right","bottom","left"],Rp=Math.min,oc=Math.max,hA=Math.round,l8=Math.floor,Md=t=>({x:t,y:t}),j3e={left:"right",right:"left",bottom:"top",top:"bottom"},$3e={start:"end",end:"start"};function HT(t,e,r){return oc(t,Rp(e,r))}function kh(t,e){return typeof t=="function"?t(e):t}function Ih(t){return t.split("-")[0]}function Yx(t){return t.split("-")[1]}function CF(t){return t==="x"?"y":"x"}function TF(t){return t==="y"?"height":"width"}function Dp(t){return["top","bottom"].includes(Ih(t))?"y":"x"}function jF(t){return CF(Dp(t))}function M3e(t,e,r){r===void 0&&(r=!1);const n=Yx(t),s=jF(t),i=TF(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=pA(a)),[a,pA(a)]}function O3e(t){const e=pA(t);return[WT(t),e,WT(e)]}function WT(t){return t.replace(/start|end/g,e=>$3e[e])}function F3e(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:a;default:return[]}}function B3e(t,e,r,n){const s=Yx(t);let i=F3e(Ih(t),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(WT)))),i}function pA(t){return t.replace(/left|right|bottom|top/g,e=>j3e[e])}function R3e(t){return{top:0,right:0,bottom:0,left:0,...t}}function bre(t){return typeof t!="number"?R3e(t):{top:t,right:t,bottom:t,left:t}}function mA(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function PL(t,e,r){let{reference:n,floating:s}=t;const i=Dp(e),a=jF(e),o=TF(a),c=Ih(e),l=i==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[o]/2-s[o]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Yx(e)){case"start":m[a]-=h*(r&&l?-1:1);break;case"end":m[a]+=h*(r&&l?-1:1);break}return m}const D3e=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=PL(l,n,c),h=n,m={},v=0;for(let x=0;x<o.length;x++){const{name:k,fn:E}=o[x],{x:P,y:_,data:M,reset:B}=await E({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:l,platform:a,elements:{reference:t,floating:e}});u=P??u,f=_??f,m={...m,[k]:{...m[k],...M}},B&&v<=50&&(v++,typeof B=="object"&&(B.placement&&(h=B.placement),B.rects&&(l=B.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:u,y:f}=PL(l,h,c)),x=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function r6(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=kh(e,t),v=bre(m),k=o[h?f==="floating"?"reference":"floating":f],E=mA(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(k)))==null||r?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),P=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),M=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},B=mA(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:P,offsetParent:_,strategy:c}):P);return{top:(E.top-B.top+v.top)/M.y,bottom:(B.bottom-E.bottom+v.bottom)/M.y,left:(E.left-B.left+v.left)/M.x,right:(B.right-E.right+v.right)/M.x}}const U3e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=e,{element:l,padding:u=0}=kh(t,e)||{};if(l==null)return{};const f=bre(u),h={x:r,y:n},m=jF(s),v=TF(m),x=await a.getDimensions(l),k=m==="y",E=k?"top":"left",P=k?"bottom":"right",_=k?"clientHeight":"clientWidth",M=i.reference[v]+i.reference[m]-h[m]-i.floating[v],B=h[m]-i.reference[m],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let j=D?D[_]:0;(!j||!await(a.isElement==null?void 0:a.isElement(D)))&&(j=o.floating[_]||i.floating[v]);const T=M/2-B/2,R=j/2-x[v]/2-1,H=Rp(f[E],R),O=Rp(f[P],R),b=H,w=j-x[v]-O,p=j/2-x[v]/2+T,g=HT(b,p,w),S=!c.arrow&&Yx(s)!=null&&p!==g&&i.reference[v]/2-(p<b?H:O)-x[v]/2<0,N=S?p<b?p-b:p-w:0;return{[m]:h[m]+N,data:{[m]:g,centerOffset:p-g-N,...S&&{alignmentOffset:N}},reset:S}}}),z3e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...k}=kh(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const E=Ih(s),P=Dp(o),_=Ih(o)===o,M=await(c.isRTL==null?void 0:c.isRTL(l.floating)),B=h||(_||!x?[pA(o)]:O3e(o)),D=v!=="none";!h&&D&&B.push(...B3e(o,x,v,M));const j=[o,...B],T=await r6(e,k),R=[];let H=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&R.push(T[E]),f){const p=M3e(s,a,M);R.push(T[p[0]],T[p[1]])}if(H=[...H,{placement:s,overflows:R}],!R.every(p=>p<=0)){var O,b;const p=(((O=i.flip)==null?void 0:O.index)||0)+1,g=j[p];if(g)return{data:{index:p,overflows:H},reset:{placement:g}};let S=(b=H.filter(N=>N.overflows[0]<=0).sort((N,I)=>N.overflows[1]-I.overflows[1])[0])==null?void 0:b.placement;if(!S)switch(m){case"bestFit":{var w;const N=(w=H.filter(I=>{if(D){const A=Dp(I.placement);return A===P||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,y)=>A+y,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:w[0];N&&(S=N);break}case"initialPlacement":S=o;break}if(s!==S)return{reset:{placement:S}}}return{}}}};function kL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IL(t){return T3e.some(e=>t[e]>=0)}const L3e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=kh(t,e);switch(n){case"referenceHidden":{const i=await r6(e,{...s,elementContext:"reference"}),a=kL(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:IL(a)}}}case"escaped":{const i=await r6(e,{...s,altBoundary:!0}),a=kL(i,r.floating);return{data:{escapedOffsets:a,escaped:IL(a)}}}default:return{}}}}};async function V3e(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ih(r),o=Yx(r),c=Dp(r)==="y",l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,f=kh(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),c?{x:m*u,y:h*l}:{x:h*l,y:m*u}}const H3e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=e,c=await V3e(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},W3e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:k=>{let{x:E,y:P}=k;return{x:E,y:P}}},...c}=kh(t,e),l={x:r,y:n},u=await r6(e,c),f=Dp(Ih(s)),h=CF(f);let m=l[h],v=l[f];if(i){const k=h==="y"?"top":"left",E=h==="y"?"bottom":"right",P=m+u[k],_=m-u[E];m=HT(P,m,_)}if(a){const k=f==="y"?"top":"left",E=f==="y"?"bottom":"right",P=v+u[k],_=v-u[E];v=HT(P,v,_)}const x=o.fn({...e,[h]:m,[f]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:i,[f]:a}}}}}},q3e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=kh(t,e),u={x:r,y:n},f=Dp(s),h=CF(f);let m=u[h],v=u[f];const x=kh(o,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const _=h==="y"?"height":"width",M=i.reference[h]-i.floating[_]+k.mainAxis,B=i.reference[h]+i.reference[_]-k.mainAxis;m<M?m=M:m>B&&(m=B)}if(l){var E,P;const _=h==="y"?"width":"height",M=["top","left"].includes(Ih(s)),B=i.reference[f]-i.floating[_]+(M&&((E=a.offset)==null?void 0:E[f])||0)+(M?0:k.crossAxis),D=i.reference[f]+i.reference[_]+(M?0:((P=a.offset)==null?void 0:P[f])||0)-(M?k.crossAxis:0);v<B?v=B:v>D&&(v=D)}return{[h]:m,[f]:v}}}},K3e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:c=()=>{},...l}=kh(t,e),u=await r6(e,l),f=Ih(s),h=Yx(s),m=Dp(s)==="y",{width:v,height:x}=i.floating;let k,E;f==="top"||f==="bottom"?(k=f,E=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=f,k=h==="end"?"top":"bottom");const P=x-u.top-u.bottom,_=v-u.left-u.right,M=Rp(x-u[k],P),B=Rp(v-u[E],_),D=!e.middlewareData.shift;let j=M,T=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=P),D&&!h){const H=oc(u.left,0),O=oc(u.right,0),b=oc(u.top,0),w=oc(u.bottom,0);m?T=v-2*(H!==0||O!==0?H+O:oc(u.left,u.right)):j=x-2*(b!==0||w!==0?b+w:oc(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:j});const R=await a.getDimensions(o.floating);return v!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function _P(){return typeof window<"u"}function Gx(t){return yre(t)?(t.nodeName||"").toLowerCase():"#document"}function hc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function af(t){var e;return(e=(yre(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yre(t){return _P()?t instanceof Node||t instanceof hc(t).Node:!1}function Nu(t){return _P()?t instanceof Element||t instanceof hc(t).Element:!1}function Zd(t){return _P()?t instanceof HTMLElement||t instanceof hc(t).HTMLElement:!1}function NL(t){return!_P()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hc(t).ShadowRoot}function $4(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Eu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function X3e(t){return["table","td","th"].includes(Gx(t))}function CP(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $F(t){const e=MF(),r=Nu(t)?Eu(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Z3e(t){let e=Up(t);for(;Zd(e)&&!cx(e);){if($F(e))return e;if(CP(e))return null;e=Up(e)}return null}function MF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cx(t){return["html","body","#document"].includes(Gx(t))}function Eu(t){return hc(t).getComputedStyle(t)}function TP(t){return Nu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Up(t){if(Gx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NL(t)&&t.host||af(t);return NL(e)?e.host:e}function vre(t){const e=Up(t);return cx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zd(e)&&$4(e)?e:vre(e)}function n6(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=vre(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),a=hc(s);if(i){const o=qT(a);return e.concat(a,a.visualViewport||[],$4(s)?s:[],o&&r?n6(o):[])}return e.concat(s,n6(s,[],r))}function qT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xre(t){const e=Eu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Zd(t),i=s?t.offsetWidth:r,a=s?t.offsetHeight:n,o=hA(r)!==i||hA(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function OF(t){return Nu(t)?t:t.contextElement}function Iy(t){const e=OF(t);if(!Zd(e))return Md(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=xre(e);let a=(i?hA(r.width):r.width)/n,o=(i?hA(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const J3e=Md(0);function wre(t){const e=hc(t);return!MF()||!e.visualViewport?J3e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q3e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hc(t)?!1:e}function u1(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=OF(t);let a=Md(1);e&&(n?Nu(n)&&(a=Iy(n)):a=Iy(t));const o=Q3e(i,r,n)?wre(i):Md(0);let c=(s.left+o.x)/a.x,l=(s.top+o.y)/a.y,u=s.width/a.x,f=s.height/a.y;if(i){const h=hc(i),m=n&&Nu(n)?hc(n):n;let v=h,x=qT(v);for(;x&&n&&m!==v;){const k=Iy(x),E=x.getBoundingClientRect(),P=Eu(x),_=E.left+(x.clientLeft+parseFloat(P.paddingLeft))*k.x,M=E.top+(x.clientTop+parseFloat(P.paddingTop))*k.y;c*=k.x,l*=k.y,u*=k.x,f*=k.y,c+=_,l+=M,v=hc(x),x=qT(v)}}return mA({width:u,height:f,x:c,y:l})}function FF(t,e){const r=TP(t).scrollLeft;return e?e.left+r:u1(af(t)).left+r}function Are(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:FF(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function Y3e(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",a=af(n),o=e?CP(e.floating):!1;if(n===a||o&&i)return r;let c={scrollLeft:0,scrollTop:0},l=Md(1);const u=Md(0),f=Zd(n);if((f||!f&&!i)&&((Gx(n)!=="body"||$4(a))&&(c=TP(n)),Zd(n))){const m=u1(n);l=Iy(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const h=a&&!f&&!i?Are(a,c,!0):Md(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:r.y*l.y-c.scrollTop*l.y+u.y+h.y}}function G3e(t){return Array.from(t.getClientRects())}function e6e(t){const e=af(t),r=TP(t),n=t.ownerDocument.body,s=oc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=oc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+FF(t);const o=-r.scrollTop;return Eu(n).direction==="rtl"&&(a+=oc(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}function t6e(t,e){const r=hc(t),n=af(t),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const l=MF();(!l||l&&e==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}function r6e(t,e){const r=u1(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Zd(t)?Iy(t):Md(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:a,height:o,x:c,y:l}}function EL(t,e,r){let n;if(e==="viewport")n=t6e(t,r);else if(e==="document")n=e6e(af(t));else if(Nu(e))n=r6e(e,r);else{const s=wre(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return mA(n)}function Sre(t,e){const r=Up(t);return r===e||!Nu(r)||cx(r)?!1:Eu(r).position==="fixed"||Sre(r,e)}function n6e(t,e){const r=e.get(t);if(r)return r;let n=n6(t,[],!1).filter(o=>Nu(o)&&Gx(o)!=="body"),s=null;const i=Eu(t).position==="fixed";let a=i?Up(t):t;for(;Nu(a)&&!cx(a);){const o=Eu(a),c=$F(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$4(a)&&!c&&Sre(t,a))?n=n.filter(u=>u!==a):s=o,a=Up(a)}return e.set(t,n),n}function s6e(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?CP(e)?[]:n6e(e,this._c):[].concat(r),n],o=a[0],c=a.reduce((l,u)=>{const f=EL(e,u,s);return l.top=oc(f.top,l.top),l.right=Rp(f.right,l.right),l.bottom=Rp(f.bottom,l.bottom),l.left=oc(f.left,l.left),l},EL(e,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function i6e(t){const{width:e,height:r}=xre(t);return{width:e,height:r}}function a6e(t,e,r){const n=Zd(e),s=af(e),i=r==="fixed",a=u1(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=Md(0);if(n||!n&&!i)if((Gx(e)!=="body"||$4(s))&&(o=TP(e)),n){const h=u1(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=FF(s));const l=s&&!n&&!i?Are(s,o):Md(0),u=a.left+o.scrollLeft-c.x-l.x,f=a.top+o.scrollTop-c.y-l.y;return{x:u,y:f,width:a.width,height:a.height}}function FN(t){return Eu(t).position==="static"}function _L(t,e){if(!Zd(t)||Eu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return af(t)===r&&(r=r.ownerDocument.body),r}function Pre(t,e){const r=hc(t);if(CP(t))return r;if(!Zd(t)){let s=Up(t);for(;s&&!cx(s);){if(Nu(s)&&!FN(s))return s;s=Up(s)}return r}let n=_L(t,e);for(;n&&X3e(n)&&FN(n);)n=_L(n,e);return n&&cx(n)&&FN(n)&&!$F(n)?r:n||Z3e(t)||r}const o6e=async function(t){const e=this.getOffsetParent||Pre,r=this.getDimensions,n=await r(t.floating);return{reference:a6e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function c6e(t){return Eu(t).direction==="rtl"}const l6e={convertOffsetParentRelativeRectToViewportRelativeRect:Y3e,getDocumentElement:af,getClippingRect:s6e,getOffsetParent:Pre,getElementRects:o6e,getClientRects:G3e,getDimensions:i6e,getScale:Iy,isElement:Nu,isRTL:c6e};function kre(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u6e(t,e){let r=null,n;const s=af(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=l;if(o||e(),!h||!m)return;const v=l8(f),x=l8(s.clientWidth-(u+h)),k=l8(s.clientHeight-(f+m)),E=l8(u),_={rootMargin:-v+"px "+-x+"px "+-k+"px "+-E+"px",threshold:oc(0,Rp(1,c))||1};let M=!0;function B(D){const j=D[0].intersectionRatio;if(j!==c){if(!M)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!kre(l,t.getBoundingClientRect())&&a(),M=!1}try{r=new IntersectionObserver(B,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(B,_)}r.observe(t)}return a(!0),i}function d6e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=OF(t),u=s||i?[...l?n6(l):[],...n6(e)]:[];u.forEach(E=>{s&&E.addEventListener("scroll",r,{passive:!0}),i&&E.addEventListener("resize",r)});const f=l&&o?u6e(l,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(E=>{let[P]=E;P&&P.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),r()}),l&&!c&&m.observe(l),m.observe(e));let v,x=c?u1(t):null;c&&k();function k(){const E=u1(t);x&&!kre(x,E)&&r(),x=E,v=requestAnimationFrame(k)}return r(),()=>{var E;u.forEach(P=>{s&&P.removeEventListener("scroll",r),i&&P.removeEventListener("resize",r)}),f==null||f(),(E=m)==null||E.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const f6e=H3e,h6e=W3e,p6e=z3e,m6e=K3e,g6e=L3e,CL=U3e,b6e=q3e,y6e=(t,e,r)=>{const n=new Map,s={platform:l6e,...r},i={...s.platform,_c:n};return D3e(t,e,{...s,platform:i})};var U9=typeof document<"u"?F.useLayoutEffect:F.useEffect;function gA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gA(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!gA(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ire(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TL(t,e){const r=Ire(t);return Math.round(e*r)/r}function BN(t){const e=F.useRef(t);return U9(()=>{e.current=t}),e}function v6e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:l}=t,[u,f]=F.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=F.useState(n);gA(h,n)||m(n);const[v,x]=F.useState(null),[k,E]=F.useState(null),P=F.useCallback(I=>{I!==D.current&&(D.current=I,x(I))},[]),_=F.useCallback(I=>{I!==j.current&&(j.current=I,E(I))},[]),M=i||v,B=a||k,D=F.useRef(null),j=F.useRef(null),T=F.useRef(u),R=c!=null,H=BN(c),O=BN(s),b=BN(l),w=F.useCallback(()=>{if(!D.current||!j.current)return;const I={placement:e,strategy:r,middleware:h};O.current&&(I.platform=O.current),y6e(D.current,j.current,I).then(A=>{const y={...A,isPositioned:b.current!==!1};p.current&&!gA(T.current,y)&&(T.current=y,M1.flushSync(()=>{f(y)}))})},[h,e,r,O,b]);U9(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[l]);const p=F.useRef(!1);U9(()=>(p.current=!0,()=>{p.current=!1}),[]),U9(()=>{if(M&&(D.current=M),B&&(j.current=B),M&&B){if(H.current)return H.current(M,B,w);w()}},[M,B,w,H,R]);const g=F.useMemo(()=>({reference:D,floating:j,setReference:P,setFloating:_}),[P,_]),S=F.useMemo(()=>({reference:M,floating:B}),[M,B]),N=F.useMemo(()=>{const I={position:r,left:0,top:0};if(!S.floating)return I;const A=TL(S.floating,u.x),y=TL(S.floating,u.y);return o?{...I,transform:"translate("+A+"px, "+y+"px)",...Ire(S.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:y}},[r,o,S.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:w,refs:g,elements:S,floatingStyles:N}),[u,w,g,S,N])}const x6e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?CL({element:n.current,padding:s}).fn(r):{}:n?CL({element:n,padding:s}).fn(r):{}}}},w6e=(t,e)=>({...f6e(t),options:[t,e]}),A6e=(t,e)=>({...h6e(t),options:[t,e]}),S6e=(t,e)=>({...b6e(t),options:[t,e]}),P6e=(t,e)=>({...p6e(t),options:[t,e]}),k6e=(t,e)=>({...m6e(t),options:[t,e]}),I6e=(t,e)=>({...g6e(t),options:[t,e]}),N6e=(t,e)=>({...x6e(t),options:[t,e]});var E6e="Arrow",Nre=F.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return d.jsx(Qt.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nre.displayName=E6e;var _6e=Nre;function jP(t){const[e,r]=F.useState(void 0);return Xi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;a=l.inlineSize,o=l.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var BF="Popper",[Ere,e2]=Zi(BF),[C6e,_re]=Ere(BF),Cre=t=>{const{__scopePopper:e,children:r}=t,[n,s]=F.useState(null);return d.jsx(C6e,{scope:e,anchor:n,onAnchorChange:s,children:r})};Cre.displayName=BF;var Tre="PopperAnchor",jre=F.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=_re(Tre,r),a=F.useRef(null),o=yr(e,a);return F.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:d.jsx(Qt.div,{...s,ref:o})});jre.displayName=Tre;var RF="PopperContent",[T6e,j6e]=Ere(RF),$re=F.forwardRef((t,e)=>{var Z,re,G,z,se,ce;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,k=_re(RF,r),[E,P]=F.useState(null),_=yr(e,pe=>P(pe)),[M,B]=F.useState(null),D=jP(M),j=(D==null?void 0:D.width)??0,T=(D==null?void 0:D.height)??0,R=n+(i!=="center"?"-"+i:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(l)?l:[l],b=O.length>0,w={padding:H,boundary:O.filter(M6e),altBoundary:b},{refs:p,floatingStyles:g,placement:S,isPositioned:N,middlewareData:I}=v6e({strategy:"fixed",placement:R,whileElementsMounted:(...pe)=>d6e(...pe,{animationFrame:m==="always"}),elements:{reference:k.anchor},middleware:[w6e({mainAxis:s+T,alignmentAxis:a}),c&&A6e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?S6e():void 0,...w}),c&&P6e({...w}),k6e({...w,apply:({elements:pe,rects:Ce,availableWidth:ke,availableHeight:tt})=>{const{width:mt,height:we}=Ce.reference,qe=pe.floating.style;qe.setProperty("--radix-popper-available-width",`${ke}px`),qe.setProperty("--radix-popper-available-height",`${tt}px`),qe.setProperty("--radix-popper-anchor-width",`${mt}px`),qe.setProperty("--radix-popper-anchor-height",`${we}px`)}}),M&&N6e({element:M,padding:o}),O6e({arrowWidth:j,arrowHeight:T}),h&&I6e({strategy:"referenceHidden",...w})]}),[A,y]=Fre(S),C=ls(v);Xi(()=>{N&&(C==null||C())},[N,C]);const $=(Z=I.arrow)==null?void 0:Z.x,L=(re=I.arrow)==null?void 0:re.y,Q=((G=I.arrow)==null?void 0:G.centerOffset)!==0,[U,J]=F.useState();return Xi(()=>{E&&J(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:p.setFloating,"data-radix-popper-content-wrapper":"",style:{...g,transform:N?g.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(z=I.transformOrigin)==null?void 0:z.x,(se=I.transformOrigin)==null?void 0:se.y].join(" "),...((ce=I.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(T6e,{scope:r,placedSide:A,onArrowChange:B,arrowX:$,arrowY:L,shouldHideArrow:Q,children:d.jsx(Qt.div,{"data-side":A,"data-align":y,...x,ref:_,style:{...x.style,animation:N?void 0:"none"}})})})});$re.displayName=RF;var Mre="PopperArrow",$6e={top:"bottom",right:"left",bottom:"top",left:"right"},Ore=F.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=j6e(Mre,n),a=$6e[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(_6e,{...s,ref:r,style:{...s.style,display:"block"}})})});Ore.displayName=Mre;function M6e(t){return t!==null}var O6e=t=>({name:"transformOrigin",options:t,fn(e){var k,E,P;const{placement:r,rects:n,middlewareData:s}=e,a=((k=s.arrow)==null?void 0:k.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[l,u]=Fre(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((E=s.arrow)==null?void 0:E.x)??0)+o/2,m=(((P=s.arrow)==null?void 0:P.y)??0)+c/2;let v="",x="";return l==="bottom"?(v=a?f:`${h}px`,x=`${-c}px`):l==="top"?(v=a?f:`${h}px`,x=`${n.floating.height+c}px`):l==="right"?(v=`${-c}px`,x=a?f:`${m}px`):l==="left"&&(v=`${n.floating.width+c}px`,x=a?f:`${m}px`),{data:{x:v,y:x}}}});function Fre(t){const[e,r="center"]=t.split("-");return[e,r]}var DF=Cre,UF=jre,zF=$re,LF=Ore,[$P,m3t]=Zi("Tooltip",[e2]),MP=e2(),Bre="TooltipProvider",F6e=700,KT="tooltip.open",[B6e,VF]=$P(Bre),Rre=t=>{const{__scopeTooltip:e,delayDuration:r=F6e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,a=F.useRef(!0),o=F.useRef(!1),c=F.useRef(0);return F.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),d.jsx(B6e,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:F.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:F.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:F.useCallback(l=>{o.current=l},[]),disableHoverableContent:s,children:i})};Rre.displayName=Bre;var OP="Tooltip",[R6e,FP]=$P(OP),Dre=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=t,c=VF(OP,t.__scopeTooltip),l=MP(e),[u,f]=F.useState(null),h=Au(),m=F.useRef(0),v=a??c.disableHoverableContent,x=o??c.delayDuration,k=F.useRef(!1),[E=!1,P]=Iu({prop:n,defaultProp:s,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(KT))):c.onClose(),i==null||i(j)}}),_=F.useMemo(()=>E?k.current?"delayed-open":"instant-open":"closed",[E]),M=F.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k.current=!1,P(!0)},[P]),B=F.useCallback(()=>{window.clearTimeout(m.current),m.current=0,P(!1)},[P]),D=F.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{k.current=!0,P(!0),m.current=0},x)},[x,P]);return F.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),d.jsx(DF,{...l,children:d.jsx(R6e,{scope:e,contentId:h,open:E,stateAttribute:_,trigger:u,onTriggerChange:f,onTriggerEnter:F.useCallback(()=>{c.isOpenDelayedRef.current?D():M()},[c.isOpenDelayedRef,D,M]),onTriggerLeave:F.useCallback(()=>{v?B():(window.clearTimeout(m.current),m.current=0)},[B,v]),onOpen:M,onClose:B,disableHoverableContent:v,children:r})})};Dre.displayName=OP;var XT="TooltipTrigger",Ure=F.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=FP(XT,r),i=VF(XT,r),a=MP(r),o=F.useRef(null),c=yr(e,o,s.onTriggerChange),l=F.useRef(!1),u=F.useRef(!1),f=F.useCallback(()=>l.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(UF,{asChild:!0,...a,children:d.jsx(Qt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:_t(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:_t(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:_t(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_t(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:_t(t.onBlur,s.onClose),onClick:_t(t.onClick,s.onClose)})})});Ure.displayName=XT;var D6e="TooltipPortal",[g3t,U6e]=$P(D6e,{forceMount:void 0}),lx="TooltipContent",zre=F.forwardRef((t,e)=>{const r=U6e(lx,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,a=FP(lx,t.__scopeTooltip);return d.jsx(Ji,{present:n||a.open,children:a.disableHoverableContent?d.jsx(Lre,{side:s,...i,ref:e}):d.jsx(z6e,{side:s,...i,ref:e})})}),z6e=F.forwardRef((t,e)=>{const r=FP(lx,t.__scopeTooltip),n=VF(lx,t.__scopeTooltip),s=F.useRef(null),i=yr(e,s),[a,o]=F.useState(null),{trigger:c,onClose:l}=r,u=s.current,{onPointerInTransitChange:f}=n,h=F.useCallback(()=>{o(null),f(!1)},[f]),m=F.useCallback((v,x)=>{const k=v.currentTarget,E={x:v.clientX,y:v.clientY},P=q6e(E,k.getBoundingClientRect()),_=K6e(E,P),M=X6e(x.getBoundingClientRect()),B=J6e([..._,...M]);o(B),f(!0)},[f]);return F.useEffect(()=>()=>h(),[h]),F.useEffect(()=>{if(c&&u){const v=k=>m(k,u),x=k=>m(k,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[c,u,m,h]),F.useEffect(()=>{if(a){const v=x=>{const k=x.target,E={x:x.clientX,y:x.clientY},P=(c==null?void 0:c.contains(k))||(u==null?void 0:u.contains(k)),_=!Z6e(E,a);P?h():_&&(h(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,a,l,h]),d.jsx(Lre,{...t,ref:i})}),[L6e,V6e]=$P(OP,{isInside:!1}),H6e=kte("TooltipContent"),Lre=F.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,c=FP(lx,r),l=MP(r),{onClose:u}=c;return F.useEffect(()=>(document.addEventListener(KT,u),()=>document.removeEventListener(KT,u)),[u]),F.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),d.jsx(Jx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(zF,{"data-state":c.stateAttribute,...l,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(H6e,{children:n}),d.jsx(L6e,{scope:r,isInside:!0,children:d.jsx(iwe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});zre.displayName=lx;var Vre="TooltipArrow",W6e=F.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=MP(r);return V6e(Vre,r).isInside?null:d.jsx(LF,{...s,...n,ref:e})});W6e.displayName=Vre;function q6e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function K6e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function X6e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Z6e(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,c=e[i].y,l=e[a].x,u=e[a].y;c>n!=u>n&&r<(l-o)*(n-c)/(u-c)+o&&(s=!s)}return s}function J6e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Q6e(e)}function Q6e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Y6e=Rre,G6e=Dre,e4e=Ure,Hre=zre;const Wre=Y6e,t4e=G6e,r4e=e4e,qre=F.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(Hre,{ref:n,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));qre.displayName=Hre.displayName;const RN=768;function n4e(){const[t,e]=F.useState(void 0);return F.useEffect(()=>{const r=window.matchMedia(`(max-width: ${RN-1}px)`),n=()=>{e(window.innerWidth<RN)};return r.addEventListener("change",n),e(window.innerWidth<RN),()=>r.removeEventListener("change",n)},[]),!!t}const HF=O1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Te=F.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const a=n?Ste:"button";return d.jsx(a,{className:jt(HF({variant:e,size:r,className:t})),ref:i,...s})});Te.displayName="Button";const ir=F.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:jt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ir.displayName="Input";var s4e="Separator",jL="horizontal",i4e=["horizontal","vertical"],Kre=F.forwardRef((t,e)=>{const{decorative:r,orientation:n=jL,...s}=t,i=a4e(n)?n:jL,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Qt.div,{"data-orientation":i,...o,...s,ref:e})});Kre.displayName=s4e;function a4e(t){return i4e.includes(t)}var Xre=Kre;const Ib=F.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>d.jsx(Xre,{ref:s,decorative:r,orientation:e,className:jt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ib.displayName=Xre.displayName;var DN="focusScope.autoFocusOnMount",UN="focusScope.autoFocusOnUnmount",$L={bubbles:!1,cancelable:!0},o4e="FocusScope",BP=F.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,c]=F.useState(null),l=ls(s),u=ls(i),f=F.useRef(null),h=yr(e,x=>c(x)),m=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let x=function(_){if(m.paused||!o)return;const M=_.target;o.contains(M)?f.current=M:P0(f.current,{select:!0})},k=function(_){if(m.paused||!o)return;const M=_.relatedTarget;M!==null&&(o.contains(M)||P0(f.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const B of _)B.removedNodes.length>0&&P0(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const P=new MutationObserver(E);return o&&P.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),P.disconnect()}}},[n,o,m.paused]),F.useEffect(()=>{if(o){OL.add(m);const x=document.activeElement;if(!o.contains(x)){const E=new CustomEvent(DN,$L);o.addEventListener(DN,l),o.dispatchEvent(E),E.defaultPrevented||(c4e(h4e(Zre(o)),{select:!0}),document.activeElement===x&&P0(o))}return()=>{o.removeEventListener(DN,l),setTimeout(()=>{const E=new CustomEvent(UN,$L);o.addEventListener(UN,u),o.dispatchEvent(E),E.defaultPrevented||P0(x??document.body,{select:!0}),o.removeEventListener(UN,u),OL.remove(m)},0)}}},[o,l,u,m]);const v=F.useCallback(x=>{if(!r&&!n||m.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(k&&E){const P=x.currentTarget,[_,M]=l4e(P);_&&M?!x.shiftKey&&E===M?(x.preventDefault(),r&&P0(_,{select:!0})):x.shiftKey&&E===_&&(x.preventDefault(),r&&P0(M,{select:!0})):E===P&&x.preventDefault()}},[r,n,m.paused]);return d.jsx(Qt.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});BP.displayName=o4e;function c4e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(P0(n,{select:e}),document.activeElement!==r)return}function l4e(t){const e=Zre(t),r=ML(e,t),n=ML(e.reverse(),t);return[r,n]}function Zre(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ML(t,e){for(const r of t)if(!u4e(r,{upTo:e}))return r}function u4e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function d4e(t){return t instanceof HTMLInputElement&&"select"in t}function P0(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&d4e(t)&&e&&t.select()}}var OL=f4e();function f4e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=FL(t,e),t.unshift(e)},remove(e){var r;t=FL(t,e),(r=t[0])==null||r.resume()}}}function FL(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function h4e(t){return t.filter(e=>e.tagName!=="A")}var zN=0;function WF(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??BL()),document.body.insertAdjacentElement("beforeend",t[1]??BL()),zN++,()=>{zN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zN--}},[])}function BL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ZT=function(t,e){return ZT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ZT(t,e)};function RP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ad=function(){return Ad=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ad.apply(this,arguments)};function Jre(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function JT(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function QT(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function bA(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var z9="right-scroll-bar-position",L9="width-before-scroll-bar",p4e="with-scroll-bars-hidden",m4e="--removed-body-scroll-bar-size";function LN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function g4e(t,e){var r=F.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var b4e=typeof window<"u"?F.useLayoutEffect:F.useEffect,RL=new WeakMap;function y4e(t,e){var r=g4e(null,function(n){return t.forEach(function(s){return LN(s,n)})});return b4e(function(){var n=RL.get(r);if(n){var s=new Set(n),i=new Set(t),a=r.current;s.forEach(function(o){i.has(o)||LN(o,null)}),i.forEach(function(o){s.has(o)||LN(o,a)})}RL.set(r,t)},[t]),r}function v4e(t){return t}function x4e(t,e){e===void 0&&(e=v4e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var c=function(){var u=a;a=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){a.push(u),l()},filter:function(u){return a=a.filter(u),r}}}};return s}function w4e(t){t===void 0&&(t={});var e=x4e(null);return e.options=Ad({async:!0,ssr:!1},t),e}var Qre=function(t){var e=t.sideCar,r=Jre(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return F.createElement(n,Ad({},r))};Qre.isSideCarExport=!0;function A4e(t,e){return t.useMedium(e),Qre}var Yre=w4e(),VN=function(){},DP=F.forwardRef(function(t,e){var r=F.useRef(null),n=F.useState({onScrollCapture:VN,onWheelCapture:VN,onTouchMoveCapture:VN}),s=n[0],i=n[1],a=t.forwardProps,o=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,x=t.allowPinchZoom,k=t.as,E=k===void 0?"div":k,P=t.gapMode,_=Jre(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=h,B=y4e([r,e]),D=Ad(Ad({},_),s);return F.createElement(F.Fragment,null,u&&F.createElement(M,{sideCar:Yre,removeScrollBar:l,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:P}),a?F.cloneElement(F.Children.only(o),Ad(Ad({},D),{ref:B})):F.createElement(E,Ad({},D,{className:c,ref:B}),o))});DP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DP.classNames={fullWidth:L9,zeroRight:z9};var S4e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P4e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=S4e();return e&&t.setAttribute("nonce",e),t}function k4e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function I4e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var N4e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=P4e())&&(k4e(e,r),I4e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E4e=function(){var t=N4e();return function(e,r){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Gre=function(){var t=E4e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},_4e={left:0,top:0,right:0,gap:0},HN=function(t){return parseInt(t||"",10)||0},C4e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[HN(r),HN(n),HN(s)]},T4e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _4e;var e=C4e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},j4e=Gre(),Ny="data-scroll-locked",$4e=function(t,e,r,n){var s=t.left,i=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(p4e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ny,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(z9,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(L9,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(z9," .").concat(z9,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(L9," .").concat(L9,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ny,`] {
    `).concat(m4e,": ").concat(o,`px;
  }
`)},DL=function(){var t=parseInt(document.body.getAttribute(Ny)||"0",10);return isFinite(t)?t:0},M4e=function(){F.useEffect(function(){return document.body.setAttribute(Ny,(DL()+1).toString()),function(){var t=DL()-1;t<=0?document.body.removeAttribute(Ny):document.body.setAttribute(Ny,t.toString())}},[])},O4e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;M4e();var i=F.useMemo(function(){return T4e(s)},[s]);return F.createElement(j4e,{styles:$4e(i,!e,s,r?"":"!important")})},YT=!1;if(typeof window<"u")try{var u8=Object.defineProperty({},"passive",{get:function(){return YT=!0,!0}});window.addEventListener("test",u8,u8),window.removeEventListener("test",u8,u8)}catch{YT=!1}var sb=YT?{passive:!1}:!1,F4e=function(t){return t.tagName==="TEXTAREA"},ene=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!F4e(t)&&r[e]==="visible")},B4e=function(t){return ene(t,"overflowY")},R4e=function(t){return ene(t,"overflowX")},UL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=tne(t,n);if(s){var i=rne(t,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},D4e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},U4e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},tne=function(t,e){return t==="v"?B4e(e):R4e(e)},rne=function(t,e){return t==="v"?D4e(e):U4e(e)},z4e=function(t,e){return t==="h"&&e==="rtl"?-1:1},L4e=function(t,e,r,n,s){var i=z4e(t,window.getComputedStyle(e).direction),a=i*n,o=r.target,c=e.contains(o),l=!1,u=a>0,f=0,h=0;do{var m=rne(t,o),v=m[0],x=m[1],k=m[2],E=x-k-i*v;(v||E)&&tne(t,o)&&(f+=E,h+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(l=!0),l},d8=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zL=function(t){return[t.deltaX,t.deltaY]},LL=function(t){return t&&"current"in t?t.current:t},V4e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},H4e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},W4e=0,ib=[];function q4e(t){var e=F.useRef([]),r=F.useRef([0,0]),n=F.useRef(),s=F.useState(W4e++)[0],i=F.useState(Gre)[0],a=F.useRef(t);F.useEffect(function(){a.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=bA([t.lockRef.current],(t.shards||[]).map(LL),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=F.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var E=d8(x),P=r.current,_="deltaX"in x?x.deltaX:P[0]-E[0],M="deltaY"in x?x.deltaY:P[1]-E[1],B,D=x.target,j=Math.abs(_)>Math.abs(M)?"h":"v";if("touches"in x&&j==="h"&&D.type==="range")return!1;var T=UL(j,D);if(!T)return!0;if(T?B=j:(B=j==="v"?"h":"v",T=UL(j,D)),!T)return!1;if(!n.current&&"changedTouches"in x&&(_||M)&&(n.current=B),!B)return!0;var R=n.current||B;return L4e(R,k,x,R==="h"?_:M,!0)},[]),c=F.useCallback(function(x){var k=x;if(!(!ib.length||ib[ib.length-1]!==i)){var E="deltaY"in k?zL(k):d8(k),P=e.current.filter(function(B){return B.name===k.type&&(B.target===k.target||k.target===B.shadowParent)&&V4e(B.delta,E)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var _=(a.current.shards||[]).map(LL).filter(Boolean).filter(function(B){return B.contains(k.target)}),M=_.length>0?o(k,_[0]):!a.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),l=F.useCallback(function(x,k,E,P){var _={name:x,delta:k,target:E,should:P,shadowParent:K4e(E)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(M){return M!==_})},1)},[]),u=F.useCallback(function(x){r.current=d8(x),n.current=void 0},[]),f=F.useCallback(function(x){l(x.type,zL(x),x.target,o(x,t.lockRef.current))},[]),h=F.useCallback(function(x){l(x.type,d8(x),x.target,o(x,t.lockRef.current))},[]);F.useEffect(function(){return ib.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,sb),document.addEventListener("touchmove",c,sb),document.addEventListener("touchstart",u,sb),function(){ib=ib.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,sb),document.removeEventListener("touchmove",c,sb),document.removeEventListener("touchstart",u,sb)}},[]);var m=t.removeScrollBar,v=t.inert;return F.createElement(F.Fragment,null,v?F.createElement(i,{styles:H4e(s)}):null,m?F.createElement(O4e,{gapMode:t.gapMode}):null)}function K4e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const X4e=A4e(Yre,q4e);var UP=F.forwardRef(function(t,e){return F.createElement(DP,Ad({},t,{ref:e,sideCar:X4e}))});UP.classNames=DP.classNames;var Z4e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ab=new WeakMap,f8=new WeakMap,h8={},WN=0,nne=function(t){return t&&(t.host||nne(t.parentNode))},J4e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=nne(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Q4e=function(t,e,r,n){var s=J4e(e,Array.isArray(t)?t:[t]);h8[r]||(h8[r]=new WeakMap);var i=h8[r],a=[],o=new Set,c=new Set(s),l=function(f){!f||o.has(f)||(o.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))u(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",x=(ab.get(h)||0)+1,k=(i.get(h)||0)+1;ab.set(h,x),i.set(h,k),a.push(h),x===1&&v&&f8.set(h,!0),k===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return u(e),o.clear(),WN++,function(){a.forEach(function(f){var h=ab.get(f)-1,m=i.get(f)-1;ab.set(f,h),i.set(f,m),h||(f8.has(f)||f.removeAttribute(n),f8.delete(f)),m||f.removeAttribute(r)}),WN--,WN||(ab=new WeakMap,ab=new WeakMap,f8=new WeakMap,h8={})}},qF=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Z4e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Q4e(n,s,r,"aria-hidden")):function(){return null}},KF="Dialog",[sne,ine]=Zi(KF),[Y4e,$u]=sne(KF),ane=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,o=F.useRef(null),c=F.useRef(null),[l=!1,u]=Iu({prop:n,defaultProp:s,onChange:i});return d.jsx(Y4e,{scope:e,triggerRef:o,contentRef:c,contentId:Au(),titleId:Au(),descriptionId:Au(),open:l,onOpenChange:u,onOpenToggle:F.useCallback(()=>u(f=>!f),[u]),modal:a,children:r})};ane.displayName=KF;var one="DialogTrigger",cne=F.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$u(one,r),i=yr(e,s.triggerRef);return d.jsx(Qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":JF(s.open),...n,ref:i,onClick:_t(t.onClick,s.onOpenToggle)})});cne.displayName=one;var XF="DialogPortal",[G4e,lne]=sne(XF,{forceMount:void 0}),une=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=$u(XF,e);return d.jsx(G4e,{scope:e,forceMount:r,children:F.Children.map(n,a=>d.jsx(Ji,{present:r||i.open,children:d.jsx(C4,{asChild:!0,container:s,children:a})}))})};une.displayName=XF;var yA="DialogOverlay",dne=F.forwardRef((t,e)=>{const r=lne(yA,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=$u(yA,t.__scopeDialog);return i.modal?d.jsx(Ji,{present:n||i.open,children:d.jsx(t5e,{...s,ref:e})}):null});dne.displayName=yA;var e5e=c1("DialogOverlay.RemoveScroll"),t5e=F.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$u(yA,r);return d.jsx(UP,{as:e5e,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Qt.div,{"data-state":JF(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),d1="DialogContent",fne=F.forwardRef((t,e)=>{const r=lne(d1,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=$u(d1,t.__scopeDialog);return d.jsx(Ji,{present:n||i.open,children:i.modal?d.jsx(r5e,{...s,ref:e}):d.jsx(n5e,{...s,ref:e})})});fne.displayName=d1;var r5e=F.forwardRef((t,e)=>{const r=$u(d1,t.__scopeDialog),n=F.useRef(null),s=yr(e,r.contentRef,n);return F.useEffect(()=>{const i=n.current;if(i)return qF(i)},[]),d.jsx(hne,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_t(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:_t(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:_t(t.onFocusOutside,i=>i.preventDefault())})}),n5e=F.forwardRef((t,e)=>{const r=$u(d1,t.__scopeDialog),n=F.useRef(!1),s=F.useRef(!1);return d.jsx(hne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((l=r.triggerRef.current)==null?void 0:l.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),hne=F.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,o=$u(d1,r),c=F.useRef(null),l=yr(e,c);return WF(),d.jsxs(d.Fragment,{children:[d.jsx(BP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Jx,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":JF(o.open),...a,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(i5e,{titleId:o.titleId}),d.jsx(o5e,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ZF="DialogTitle",pne=F.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$u(ZF,r);return d.jsx(Qt.h2,{id:s.titleId,...n,ref:e})});pne.displayName=ZF;var mne="DialogDescription",gne=F.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$u(mne,r);return d.jsx(Qt.p,{id:s.descriptionId,...n,ref:e})});gne.displayName=mne;var bne="DialogClose",yne=F.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=$u(bne,r);return d.jsx(Qt.button,{type:"button",...n,ref:e,onClick:_t(t.onClick,()=>s.onOpenChange(!1))})});yne.displayName=bne;function JF(t){return t?"open":"closed"}var vne="DialogTitleWarning",[s5e,xne]=B2e(vne,{contentName:d1,titleName:ZF,docsSlug:"dialog"}),i5e=({titleId:t})=>{const e=xne(vne),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},a5e="DialogDescriptionWarning",o5e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xne(a5e).contentName}}.`;return F.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},QF=ane,wne=cne,YF=une,M4=dne,O4=fne,F4=pne,B4=gne,zP=yne;const c5e=QF,l5e=YF,Ane=F.forwardRef(({className:t,...e},r)=>d.jsx(M4,{className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Ane.displayName=M4.displayName;const u5e=O1("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Sne=F.forwardRef(({side:t="right",className:e,children:r,...n},s)=>d.jsxs(l5e,{children:[d.jsx(Ane,{}),d.jsxs(O4,{ref:s,className:jt(u5e({side:t}),e),...n,children:[r,d.jsxs(zP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(F1,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sne.displayName=O4.displayName;const Pne=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Pne.displayName="SheetHeader";const kne=F.forwardRef(({className:t,...e},r)=>d.jsx(F4,{ref:r,className:jt("text-lg font-semibold text-foreground",t),...e}));kne.displayName=F4.displayName;const Ine=F.forwardRef(({className:t,...e},r)=>d.jsx(B4,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Ine.displayName=B4.displayName;function Yc({className:t,...e}){return d.jsx("div",{className:jt("animate-pulse rounded-md bg-muted",t),...e})}const d5e="sidebar_state",f5e=60*60*24*7,h5e="16rem",p5e="18rem",m5e="3rem",g5e="b",Nne=F.createContext(null);function Ene(){const t=F.useContext(Nne);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function b5e({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:s,children:i,...a}){const o=n4e(),[c,l]=F.useState(!1),[u,f]=F.useState(t),h=e??u,m=F.useCallback(E=>{const P=typeof E=="function"?E(h):E;r?r(P):f(P),document.cookie=`${d5e}=${P}; path=/; max-age=${f5e}`},[r,h]),v=F.useCallback(()=>o?l(E=>!E):m(E=>!E),[o,m,l]);F.useEffect(()=>{const E=P=>{P.key===g5e&&(P.metaKey||P.ctrlKey)&&(P.preventDefault(),v())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[v]);const x=h?"expanded":"collapsed",k=F.useMemo(()=>({state:x,open:h,setOpen:m,isMobile:o,openMobile:c,setOpenMobile:l,toggleSidebar:v}),[x,h,m,o,c,l,v]);return d.jsx(Nne.Provider,{value:k,children:d.jsx(Wre,{delayDuration:0,children:d.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":h5e,"--sidebar-width-icon":m5e,...s},className:jt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...a,children:i})})})}function y5e({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:s,...i}){const{isMobile:a,state:o,openMobile:c,setOpenMobile:l}=Ene();return r==="none"?d.jsx("div",{"data-slot":"sidebar",className:jt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...i,children:s}):a?d.jsx(c5e,{open:c,onOpenChange:l,...i,children:d.jsxs(Sne,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":p5e},side:t,children:[d.jsxs(Pne,{className:"sr-only",children:[d.jsx(kne,{children:"Sidebar"}),d.jsx(Ine,{children:"Displays the mobile sidebar."})]}),d.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):d.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":o==="collapsed"?r:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[d.jsx("div",{"data-slot":"sidebar-gap",className:jt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),d.jsx("div",{"data-slot":"sidebar-container",className:jt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:d.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function v5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:jt("flex flex-col gap-2 p-2",t),...e})}function x5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:jt("flex flex-col gap-2 p-2",t),...e})}function w5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:jt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function A5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:jt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function S5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:jt("w-full text-sm",t),...e})}function P5e({className:t,...e}){return d.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:jt("flex w-full min-w-0 flex-col gap-1",t),...e})}function k5e({className:t,...e}){return d.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:jt("group/menu-item relative",t),...e})}const I5e=O1("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function N5e({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:s,className:i,...a}){const o=t?Ste:"button",{isMobile:c,state:l}=Ene(),u=d.jsx(o,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":e,className:jt(I5e({variant:r,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(t4e,{children:[d.jsx(r4e,{asChild:!0,children:u}),d.jsx(qre,{side:"right",align:"center",hidden:l!=="collapsed"||c,...s})]})):u}const _ne=F.createContext(void 0);function E5e({children:t}){const[e,r]=F.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");if(i)return i}return"light"});F.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=()=>{r(i=>i==="light"?"dark":"light")},s=i=>{r(i)};return d.jsx(_ne.Provider,{value:{theme:e,toggleTheme:n,setTheme:s},children:t})}function _5e(){const t=F.useContext(_ne);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}var Yr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Yr||(Yr={}));var GT;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(GT||(GT={}));const zt=Yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zf=t=>{switch(typeof t){case"undefined":return zt.undefined;case"string":return zt.string;case"number":return isNaN(t)?zt.nan:zt.number;case"boolean":return zt.boolean;case"function":return zt.function;case"bigint":return zt.bigint;case"symbol":return zt.symbol;case"object":return Array.isArray(t)?zt.array:t===null?zt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?zt.promise:typeof Map<"u"&&t instanceof Map?zt.map:typeof Set<"u"&&t instanceof Set?zt.set:typeof Date<"u"&&t instanceof Date?zt.date:zt.object;default:return zt.unknown}},Nt=Yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),C5e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return s(this),n}static assert(e){if(!(e instanceof pc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pc.create=t=>new pc(t);const ux=(t,e)=>{let r;switch(t.code){case Nt.invalid_type:t.received===zt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Nt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Yr.jsonStringifyReplacer)}`;break;case Nt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Yr.joinValues(t.keys,", ")}`;break;case Nt.invalid_union:r="Invalid input";break;case Nt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Yr.joinValues(t.options)}`;break;case Nt.invalid_enum_value:r=`Invalid enum value. Expected ${Yr.joinValues(t.options)}, received '${t.received}'`;break;case Nt.invalid_arguments:r="Invalid function arguments";break;case Nt.invalid_return_type:r="Invalid function return type";break;case Nt.invalid_date:r="Invalid date";break;case Nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Yr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Nt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Nt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Nt.custom:r="Invalid input";break;case Nt.invalid_intersection_types:r="Intersection results could not be merged";break;case Nt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Nt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Yr.assertNever(t)}return{message:r}};let Cne=ux;function T5e(t){Cne=t}function vA(){return Cne}const xA=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},j5e=[];function Bt(t,e){const r=vA(),n=xA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ux?void 0:ux].filter(s=>!!s)});t.common.issues.push(n)}class Da{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return cr;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Da.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return cr;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const cr=Object.freeze({status:"aborted"}),Gb=t=>({status:"dirty",value:t}),so=t=>({status:"valid",value:t}),ej=t=>t.status==="aborted",tj=t=>t.status==="dirty",f1=t=>t.status==="valid",s6=t=>typeof Promise<"u"&&t instanceof Promise;function wA(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Tne(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Xt||(Xt={}));var Mw,Ow;class Jd{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VL=(t,e)=>{if(f1(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pc(t.common.issues);return this._error=r,this._error}}};function wr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,l;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}},description:s}}class _r{get description(){return this._def.description}_getType(e){return zf(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:zf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Da,ctx:{common:e.parent.common,data:e.data,parsedType:zf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(s6(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zf(e)},i=this._parseSync({data:e,path:s.path,parent:s});return VL(s,i)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zf(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return f1(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>f1(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zf(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(s6(s)?s:Promise.resolve(s));return VL(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:Nt.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new _u({schema:this,typeName:ar.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Od.create(this,this._def)}nullable(){return Hp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Su.create(this)}promise(){return fx.create(this,this._def)}or(e){return c6.create([this,e],this._def)}and(e){return l6.create(this,e,this._def)}transform(e){return new _u({...wr(this._def),schema:this,typeName:ar.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new p6({...wr(this._def),innerType:this,defaultValue:r,typeName:ar.ZodDefault})}brand(){return new GF({typeName:ar.ZodBranded,type:this,...wr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new m6({...wr(this._def),innerType:this,catchValue:r,typeName:ar.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return R4.create(this,e)}readonly(){return g6.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $5e=/^c[^\s-]{8,}$/i,M5e=/^[0-9a-z]+$/,O5e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,F5e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,B5e=/^[a-z0-9_-]{21}$/i,R5e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D5e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U5e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,z5e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qN;const L5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,H5e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W5e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q5e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K5e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X5e=new RegExp(`^${jne}$`);function $ne(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Z5e(t){return new RegExp(`^${$ne(t)}$`)}function Mne(t){let e=`${jne}T${$ne(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function J5e(t,e){return!!((e==="v4"||!e)&&L5e.test(t)||(e==="v6"||!e)&&H5e.test(t))}function Q5e(t,e){if(!R5e.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Y5e(t,e){return!!((e==="v4"||!e)&&V5e.test(t)||(e==="v6"||!e)&&W5e.test(t))}class mu extends _r{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==zt.string){const i=this._getOrReturnCtx(e);return Bt(i,{code:Nt.invalid_type,expected:zt.string,received:i.parsedType}),cr}const n=new Da;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?Bt(s,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Bt(s,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")U5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"email",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")qN||(qN=new RegExp(z5e,"u")),qN.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"emoji",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")F5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"uuid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")B5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"nanoid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")$5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"cuid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")M5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"cuid2",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")O5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"ulid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Bt(s,{validation:"url",code:Nt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"regex",code:Nt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Mne(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?X5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Z5e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?D5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"duration",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?J5e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"ip",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Q5e(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"jwt",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Y5e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"cidr",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?q5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"base64",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?K5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Bt(s,{validation:"base64url",code:Nt.invalid_string,message:i.message}),n.dirty()):Yr.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Nt.invalid_string,...Xt.errToObj(n)})}_addCheck(e){return new mu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Xt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Xt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Xt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Xt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Xt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Xt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Xt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Xt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Xt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Xt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Xt.errToObj(r)})}nonempty(e){return this.min(1,Xt.errToObj(e))}trim(){return new mu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}mu.create=t=>{var e;return new mu({checks:[],typeName:ar.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...wr(t)})};function G5e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class zp extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==zt.number){const i=this._getOrReturnCtx(e);return Bt(i,{code:Nt.invalid_type,expected:zt.number,received:i.parsedType}),cr}let n;const s=new Da;for(const i of this._def.checks)i.kind==="int"?Yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?G5e(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.not_finite,message:i.message}),s.dirty()):Yr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,s){return new zp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(s)}]})}_addCheck(e){return new zp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}zp.create=t=>new zp({checks:[],typeName:ar.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...wr(t)});class Lp extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==zt.bigint)return this._getInvalidInput(e);let n;const s=new Da;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Yr.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Bt(r,{code:Nt.invalid_type,expected:zt.bigint,received:r.parsedType}),cr}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,s){return new Lp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(s)}]})}_addCheck(e){return new Lp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Lp.create=t=>{var e;return new Lp({checks:[],typeName:ar.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...wr(t)})};class i6 extends _r{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==zt.boolean){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.boolean,received:n.parsedType}),cr}return so(e.data)}}i6.create=t=>new i6({typeName:ar.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...wr(t)});class h1 extends _r{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==zt.date){const i=this._getOrReturnCtx(e);return Bt(i,{code:Nt.invalid_type,expected:zt.date,received:i.parsedType}),cr}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Bt(i,{code:Nt.invalid_date}),cr}const n=new Da;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Bt(s,{code:Nt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Yr.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new h1({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Xt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Xt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}h1.create=t=>new h1({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ar.ZodDate,...wr(t)});class AA extends _r{_parse(e){if(this._getType(e)!==zt.symbol){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.symbol,received:n.parsedType}),cr}return so(e.data)}}AA.create=t=>new AA({typeName:ar.ZodSymbol,...wr(t)});class a6 extends _r{_parse(e){if(this._getType(e)!==zt.undefined){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.undefined,received:n.parsedType}),cr}return so(e.data)}}a6.create=t=>new a6({typeName:ar.ZodUndefined,...wr(t)});class o6 extends _r{_parse(e){if(this._getType(e)!==zt.null){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.null,received:n.parsedType}),cr}return so(e.data)}}o6.create=t=>new o6({typeName:ar.ZodNull,...wr(t)});class dx extends _r{constructor(){super(...arguments),this._any=!0}_parse(e){return so(e.data)}}dx.create=t=>new dx({typeName:ar.ZodAny,...wr(t)});class Hg extends _r{constructor(){super(...arguments),this._unknown=!0}_parse(e){return so(e.data)}}Hg.create=t=>new Hg({typeName:ar.ZodUnknown,...wr(t)});class Nh extends _r{_parse(e){const r=this._getOrReturnCtx(e);return Bt(r,{code:Nt.invalid_type,expected:zt.never,received:r.parsedType}),cr}}Nh.create=t=>new Nh({typeName:ar.ZodNever,...wr(t)});class SA extends _r{_parse(e){if(this._getType(e)!==zt.undefined){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.void,received:n.parsedType}),cr}return so(e.data)}}SA.create=t=>new SA({typeName:ar.ZodVoid,...wr(t)});class Su extends _r{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==zt.array)return Bt(r,{code:Nt.invalid_type,expected:zt.array,received:r.parsedType}),cr;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(Bt(r,{code:a?Nt.too_big:Nt.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Bt(r,{code:Nt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Bt(r,{code:Nt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new Jd(r,a,r.path,o)))).then(a=>Da.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new Jd(r,a,r.path,o)));return Da.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Su({...this._def,minLength:{value:e,message:Xt.toString(r)}})}max(e,r){return new Su({...this._def,maxLength:{value:e,message:Xt.toString(r)}})}length(e,r){return new Su({...this._def,exactLength:{value:e,message:Xt.toString(r)}})}nonempty(e){return this.min(1,e)}}Su.create=(t,e)=>new Su({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ar.ZodArray,...wr(e)});function Nb(t){if(t instanceof as){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Od.create(Nb(n))}return new as({...t._def,shape:()=>e})}else return t instanceof Su?new Su({...t._def,type:Nb(t.element)}):t instanceof Od?Od.create(Nb(t.unwrap())):t instanceof Hp?Hp.create(Nb(t.unwrap())):t instanceof Qd?Qd.create(t.items.map(e=>Nb(e))):t}class as extends _r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Yr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==zt.object){const l=this._getOrReturnCtx(e);return Bt(l,{code:Nt.invalid_type,expected:zt.object,received:l.parsedType}),cr}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Nh&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=i[l],f=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Jd(s,f,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Nh){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")o.length>0&&(Bt(s,{code:Nt.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const f=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Jd(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key,h=await u.value;l.push({key:f,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>Da.mergeObjectSync(n,l)):Da.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Xt.errToObj,new as({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Xt.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new as({...this._def,unknownKeys:"strip"})}passthrough(){return new as({...this._def,unknownKeys:"passthrough"})}extend(e){return new as({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new as({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ar.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new as({...this._def,catchall:e})}pick(e){const r={};return Yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new as({...this._def,shape:()=>r})}omit(e){const r={};return Yr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new as({...this._def,shape:()=>r})}deepPartial(){return Nb(this)}partial(e){const r={};return Yr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new as({...this._def,shape:()=>r})}required(e){const r={};return Yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Od;)i=i._def.innerType;r[n]=i}}),new as({...this._def,shape:()=>r})}keyof(){return One(Yr.objectKeys(this.shape))}}as.create=(t,e)=>new as({shape:()=>t,unknownKeys:"strip",catchall:Nh.create(),typeName:ar.ZodObject,...wr(e)});as.strictCreate=(t,e)=>new as({shape:()=>t,unknownKeys:"strict",catchall:Nh.create(),typeName:ar.ZodObject,...wr(e)});as.lazycreate=(t,e)=>new as({shape:t,unknownKeys:"strip",catchall:Nh.create(),typeName:ar.ZodObject,...wr(e)});class c6 extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new pc(o.ctx.common.issues));return Bt(r,{code:Nt.invalid_union,unionErrors:a}),cr}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new pc(c));return Bt(r,{code:Nt.invalid_union,unionErrors:o}),cr}}get options(){return this._def.options}}c6.create=(t,e)=>new c6({options:t,typeName:ar.ZodUnion,...wr(e)});const Tf=t=>t instanceof d6?Tf(t.schema):t instanceof _u?Tf(t.innerType()):t instanceof f6?[t.value]:t instanceof Vp?t.options:t instanceof h6?Yr.objectValues(t.enum):t instanceof p6?Tf(t._def.innerType):t instanceof a6?[void 0]:t instanceof o6?[null]:t instanceof Od?[void 0,...Tf(t.unwrap())]:t instanceof Hp?[null,...Tf(t.unwrap())]:t instanceof GF||t instanceof g6?Tf(t.unwrap()):t instanceof m6?Tf(t._def.innerType):[];class LP extends _r{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.object)return Bt(r,{code:Nt.invalid_type,expected:zt.object,received:r.parsedType}),cr;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Bt(r,{code:Nt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),cr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=Tf(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new LP({typeName:ar.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...wr(n)})}}function rj(t,e){const r=zf(t),n=zf(e);if(t===e)return{valid:!0,data:t};if(r===zt.object&&n===zt.object){const s=Yr.objectKeys(e),i=Yr.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=rj(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===zt.array&&n===zt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=rj(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===zt.date&&n===zt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class l6 extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(ej(i)||ej(a))return cr;const o=rj(i.value,a.value);return o.valid?((tj(i)||tj(a))&&r.dirty(),{status:r.value,value:o.data}):(Bt(n,{code:Nt.invalid_intersection_types}),cr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}l6.create=(t,e,r)=>new l6({left:t,right:e,typeName:ar.ZodIntersection,...wr(r)});class Qd extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.array)return Bt(n,{code:Nt.invalid_type,expected:zt.array,received:n.parsedType}),cr;if(n.data.length<this._def.items.length)return Bt(n,{code:Nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cr;!this._def.rest&&n.data.length>this._def.items.length&&(Bt(n,{code:Nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Jd(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Da.mergeArray(r,a)):Da.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Qd({...this._def,rest:e})}}Qd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qd({items:t,typeName:ar.ZodTuple,rest:null,...wr(e)})};class u6 extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.object)return Bt(n,{code:Nt.invalid_type,expected:zt.object,received:n.parsedType}),cr;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new Jd(n,o,n.path,o)),value:a._parse(new Jd(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Da.mergeObjectAsync(r,s):Da.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof _r?new u6({keyType:e,valueType:r,typeName:ar.ZodRecord,...wr(n)}):new u6({keyType:mu.create(),valueType:e,typeName:ar.ZodRecord,...wr(r)})}}class PA extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.map)return Bt(n,{code:Nt.invalid_type,expected:zt.map,received:n.parsedType}),cr;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],l)=>({key:s._parse(new Jd(n,o,n.path,[l,"key"])),value:i._parse(new Jd(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return cr;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return cr;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}}}}PA.create=(t,e,r)=>new PA({valueType:e,keyType:t,typeName:ar.ZodMap,...wr(r)});class p1 extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.set)return Bt(n,{code:Nt.invalid_type,expected:zt.set,received:n.parsedType}),cr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Bt(n,{code:Nt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Bt(n,{code:Nt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return cr;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const o=[...n.data.values()].map((c,l)=>i._parse(new Jd(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new p1({...this._def,minSize:{value:e,message:Xt.toString(r)}})}max(e,r){return new p1({...this._def,maxSize:{value:e,message:Xt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}p1.create=(t,e)=>new p1({valueType:t,minSize:null,maxSize:null,typeName:ar.ZodSet,...wr(e)});class Ey extends _r{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.function)return Bt(r,{code:Nt.invalid_type,expected:zt.function,received:r.parsedType}),cr;function n(o,c){return xA({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vA(),ux].filter(l=>!!l),issueData:{code:Nt.invalid_arguments,argumentsError:c}})}function s(o,c){return xA({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vA(),ux].filter(l=>!!l),issueData:{code:Nt.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof fx){const o=this;return so(async function(...c){const l=new pc([]),u=await o._def.args.parseAsync(c,i).catch(m=>{throw l.addIssue(n(c,m)),l}),f=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw l.addIssue(s(f,m)),l})})}else{const o=this;return so(function(...c){const l=o._def.args.safeParse(c,i);if(!l.success)throw new pc([n(c,l.error)]);const u=Reflect.apply(a,this,l.data),f=o._def.returns.safeParse(u,i);if(!f.success)throw new pc([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ey({...this._def,args:Qd.create(e).rest(Hg.create())})}returns(e){return new Ey({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ey({args:e||Qd.create([]).rest(Hg.create()),returns:r||Hg.create(),typeName:ar.ZodFunction,...wr(n)})}}class d6 extends _r{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}d6.create=(t,e)=>new d6({getter:t,typeName:ar.ZodLazy,...wr(e)});class f6 extends _r{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Bt(r,{received:r.data,code:Nt.invalid_literal,expected:this._def.value}),cr}return{status:"valid",value:e.data}}get value(){return this._def.value}}f6.create=(t,e)=>new f6({value:t,typeName:ar.ZodLiteral,...wr(e)});function One(t,e){return new Vp({values:t,typeName:ar.ZodEnum,...wr(e)})}class Vp extends _r{constructor(){super(...arguments),Mw.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Bt(r,{expected:Yr.joinValues(n),received:r.parsedType,code:Nt.invalid_type}),cr}if(wA(this,Mw)||Tne(this,Mw,new Set(this._def.values)),!wA(this,Mw).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Bt(r,{received:r.data,code:Nt.invalid_enum_value,options:n}),cr}return so(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Vp.create(e,{...this._def,...r})}exclude(e,r=this._def){return Vp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Mw=new WeakMap;Vp.create=One;class h6 extends _r{constructor(){super(...arguments),Ow.set(this,void 0)}_parse(e){const r=Yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==zt.string&&n.parsedType!==zt.number){const s=Yr.objectValues(r);return Bt(n,{expected:Yr.joinValues(s),received:n.parsedType,code:Nt.invalid_type}),cr}if(wA(this,Ow)||Tne(this,Ow,new Set(Yr.getValidEnumValues(this._def.values))),!wA(this,Ow).has(e.data)){const s=Yr.objectValues(r);return Bt(n,{received:n.data,code:Nt.invalid_enum_value,options:s}),cr}return so(e.data)}get enum(){return this._def.values}}Ow=new WeakMap;h6.create=(t,e)=>new h6({values:t,typeName:ar.ZodNativeEnum,...wr(e)});class fx extends _r{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.promise&&r.common.async===!1)return Bt(r,{code:Nt.invalid_type,expected:zt.promise,received:r.parsedType}),cr;const n=r.parsedType===zt.promise?r.data:Promise.resolve(r.data);return so(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fx.create=(t,e)=>new fx({type:t,typeName:ar.ZodPromise,...wr(e)});class _u extends _r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ar.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Bt(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return cr;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?cr:c.status==="dirty"||r.value==="dirty"?Gb(c.value):c});{if(r.value==="aborted")return cr;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?cr:o.status==="dirty"||r.value==="dirty"?Gb(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?cr:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?cr:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!f1(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>f1(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Yr.assertNever(s)}}_u.create=(t,e,r)=>new _u({schema:t,typeName:ar.ZodEffects,effect:e,...wr(r)});_u.createWithPreprocess=(t,e,r)=>new _u({schema:e,effect:{type:"preprocess",transform:t},typeName:ar.ZodEffects,...wr(r)});class Od extends _r{_parse(e){return this._getType(e)===zt.undefined?so(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:ar.ZodOptional,...wr(e)});class Hp extends _r{_parse(e){return this._getType(e)===zt.null?so(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hp.create=(t,e)=>new Hp({innerType:t,typeName:ar.ZodNullable,...wr(e)});class p6 extends _r{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===zt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}p6.create=(t,e)=>new p6({innerType:t,typeName:ar.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...wr(e)});class m6 extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return s6(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}m6.create=(t,e)=>new m6({innerType:t,typeName:ar.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...wr(e)});class kA extends _r{_parse(e){if(this._getType(e)!==zt.nan){const n=this._getOrReturnCtx(e);return Bt(n,{code:Nt.invalid_type,expected:zt.nan,received:n.parsedType}),cr}return{status:"valid",value:e.data}}}kA.create=t=>new kA({typeName:ar.ZodNaN,...wr(t)});const e8e=Symbol("zod_brand");class GF extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class R4 extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?cr:i.status==="dirty"?(r.dirty(),Gb(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?cr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new R4({in:e,out:r,typeName:ar.ZodPipeline})}}class g6 extends _r{_parse(e){const r=this._def.innerType._parse(e),n=s=>(f1(s)&&(s.value=Object.freeze(s.value)),s);return s6(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}g6.create=(t,e)=>new g6({innerType:t,typeName:ar.ZodReadonly,...wr(e)});function HL(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Fne(t,e={},r){return t?dx.create().superRefine((n,s)=>{var i,a;const o=t(n);if(o instanceof Promise)return o.then(c=>{var l,u;if(!c){const f=HL(e,n),h=(u=(l=f.fatal)!==null&&l!==void 0?l:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!o){const c=HL(e,n),l=(a=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:l})}}):dx.create()}const t8e={object:as.lazycreate};var ar;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ar||(ar={}));const r8e=(t,e={message:`Input not instance of ${t.name}`})=>Fne(r=>r instanceof t,e),Bne=mu.create,Rne=zp.create,n8e=kA.create,s8e=Lp.create,Dne=i6.create,i8e=h1.create,a8e=AA.create,o8e=a6.create,c8e=o6.create,l8e=dx.create,u8e=Hg.create,d8e=Nh.create,f8e=SA.create,h8e=Su.create,p8e=as.create,m8e=as.strictCreate,g8e=c6.create,b8e=LP.create,y8e=l6.create,v8e=Qd.create,x8e=u6.create,w8e=PA.create,A8e=p1.create,S8e=Ey.create,P8e=d6.create,k8e=f6.create,I8e=Vp.create,N8e=h6.create,E8e=fx.create,WL=_u.create,_8e=Od.create,C8e=Hp.create,T8e=_u.createWithPreprocess,j8e=R4.create,$8e=()=>Bne().optional(),M8e=()=>Rne().optional(),O8e=()=>Dne().optional(),F8e={string:t=>mu.create({...t,coerce:!0}),number:t=>zp.create({...t,coerce:!0}),boolean:t=>i6.create({...t,coerce:!0}),bigint:t=>Lp.create({...t,coerce:!0}),date:t=>h1.create({...t,coerce:!0})},B8e=cr;var Ft=Object.freeze({__proto__:null,defaultErrorMap:ux,setErrorMap:T5e,getErrorMap:vA,makeIssue:xA,EMPTY_PATH:j5e,addIssueToContext:Bt,ParseStatus:Da,INVALID:cr,DIRTY:Gb,OK:so,isAborted:ej,isDirty:tj,isValid:f1,isAsync:s6,get util(){return Yr},get objectUtil(){return GT},ZodParsedType:zt,getParsedType:zf,ZodType:_r,datetimeRegex:Mne,ZodString:mu,ZodNumber:zp,ZodBigInt:Lp,ZodBoolean:i6,ZodDate:h1,ZodSymbol:AA,ZodUndefined:a6,ZodNull:o6,ZodAny:dx,ZodUnknown:Hg,ZodNever:Nh,ZodVoid:SA,ZodArray:Su,ZodObject:as,ZodUnion:c6,ZodDiscriminatedUnion:LP,ZodIntersection:l6,ZodTuple:Qd,ZodRecord:u6,ZodMap:PA,ZodSet:p1,ZodFunction:Ey,ZodLazy:d6,ZodLiteral:f6,ZodEnum:Vp,ZodNativeEnum:h6,ZodPromise:fx,ZodEffects:_u,ZodTransformer:_u,ZodOptional:Od,ZodNullable:Hp,ZodDefault:p6,ZodCatch:m6,ZodNaN:kA,BRAND:e8e,ZodBranded:GF,ZodPipeline:R4,ZodReadonly:g6,custom:Fne,Schema:_r,ZodSchema:_r,late:t8e,get ZodFirstPartyTypeKind(){return ar},coerce:F8e,any:l8e,array:h8e,bigint:s8e,boolean:Dne,date:i8e,discriminatedUnion:b8e,effect:WL,enum:I8e,function:S8e,instanceof:r8e,intersection:y8e,lazy:P8e,literal:k8e,map:w8e,nan:n8e,nativeEnum:N8e,never:d8e,null:c8e,nullable:C8e,number:Rne,object:p8e,oboolean:O8e,onumber:M8e,optional:_8e,ostring:$8e,pipeline:j8e,preprocess:T8e,promise:E8e,record:x8e,set:A8e,strictObject:m8e,string:Bne,symbol:a8e,transformer:WL,tuple:v8e,undefined:o8e,union:g8e,unknown:u8e,void:f8e,NEVER:B8e,ZodIssueCode:Nt,quotelessJson:C5e,ZodError:pc});const R8e=Ft.object({id:Ft.string(),name:Ft.string(),pinHash:Ft.string(),pinLength:Ft.number().min(4).max(6),seedPhrase:Ft.string(),isConnected:Ft.boolean(),lastConnected:Ft.string().optional(),createdAt:Ft.string()});R8e.omit({id:!0,createdAt:!0});const D8e=Ft.object({id:Ft.string(),name:Ft.string(),symbol:Ft.string(),rpcUrl:Ft.string(),chainId:Ft.number(),blockExplorer:Ft.string().optional(),iconColor:Ft.string(),isDefault:Ft.boolean(),decimals:Ft.number().default(18)});D8e.omit({id:!0});const U8e=Ft.object({id:Ft.string(),chainId:Ft.string(),name:Ft.string(),symbol:Ft.string(),contractAddress:Ft.string(),decimals:Ft.number().default(18),iconColor:Ft.string().optional()});U8e.omit({id:!0});const z8e=Ft.object({id:Ft.string(),deviceId:Ft.string(),chainId:Ft.string(),address:Ft.string(),balance:Ft.string(),isActive:Ft.boolean(),accountIndex:Ft.number().default(0),label:Ft.string().optional(),walletGroupId:Ft.string().optional()});z8e.omit({id:!0});const L8e=Ft.object({id:Ft.string(),walletId:Ft.string(),chainId:Ft.string(),type:Ft.enum(["send","receive"]),status:Ft.enum(["pending","confirmed","failed"]),amount:Ft.string(),tokenSymbol:Ft.string(),toAddress:Ft.string(),fromAddress:Ft.string(),txHash:Ft.string().optional(),gasUsed:Ft.string().optional(),timestamp:Ft.string()});L8e.omit({id:!0});Ft.object({deviceId:Ft.string(),pin:Ft.string().min(4).max(6)});Ft.object({deviceId:Ft.string(),walletId:Ft.string(),toAddress:Ft.string(),amount:Ft.string(),tokenSymbol:Ft.string().optional(),pin:Ft.string().min(4).max(6)});Ft.object({deviceId:Ft.string().optional(),isUnlocked:Ft.boolean(),unlockExpiry:Ft.string().optional()});const Ui=[{name:"Ethereum",symbol:"ETH",rpcUrl:"https://eth.llamarpc.com",chainId:1,blockExplorer:"https://etherscan.io",iconColor:"#627EEA",isDefault:!0,decimals:18},{name:"Bitcoin",symbol:"BTC",rpcUrl:"",chainId:0,blockExplorer:"https://blockchain.com",iconColor:"#F7931A",isDefault:!0,decimals:8},{name:"BNB Smart Chain",symbol:"BNB",rpcUrl:"https://bsc-dataseed.binance.org",chainId:56,blockExplorer:"https://bscscan.com",iconColor:"#F3BA2F",isDefault:!0,decimals:18},{name:"Polygon",symbol:"MATIC",rpcUrl:"https://polygon-rpc.com",chainId:137,blockExplorer:"https://polygonscan.com",iconColor:"#8247E5",isDefault:!0,decimals:18},{name:"Avalanche",symbol:"AVAX",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:43114,blockExplorer:"https://snowtrace.io",iconColor:"#E84142",isDefault:!0,decimals:18},{name:"Arbitrum",symbol:"ARB",rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:42161,blockExplorer:"https://arbiscan.io",iconColor:"#28A0F0",isDefault:!0,decimals:18},{name:"XRP",symbol:"XRP",rpcUrl:"",chainId:-2,blockExplorer:"https://xrpscan.com",iconColor:"#23292F",isDefault:!0,decimals:6},{name:"Dogecoin",symbol:"DOGE",rpcUrl:"",chainId:-3,blockExplorer:"https://dogechain.info",iconColor:"#C2A633",isDefault:!0,decimals:8},{name:"TRON",symbol:"TRX",rpcUrl:"",chainId:-5,blockExplorer:"https://tronscan.org",iconColor:"#FF0013",isDefault:!0,decimals:6},{name:"Litecoin",symbol:"LTC",rpcUrl:"",chainId:-7,blockExplorer:"https://blockchair.com/litecoin",iconColor:"#345D9D",isDefault:!0,decimals:8},{name:"Bitcoin Cash",symbol:"BCH",rpcUrl:"",chainId:-8,blockExplorer:"https://blockchair.com/bitcoin-cash",iconColor:"#8DC351",isDefault:!0,decimals:8},{name:"Solana",symbol:"SOL",rpcUrl:"https://api.mainnet-beta.solana.com",chainId:-9,blockExplorer:"https://solscan.io",iconColor:"#9945FF",isDefault:!0,decimals:9},{name:"Cardano",symbol:"ADA",rpcUrl:"",chainId:-10,blockExplorer:"https://cardanoscan.io",iconColor:"#0033AD",isDefault:!0,decimals:6},{name:"Cosmos",symbol:"ATOM",rpcUrl:"https://cosmos-rpc.polkachu.com",chainId:-11,blockExplorer:"https://www.mintscan.io/cosmos",iconColor:"#2E3148",isDefault:!0,decimals:6},{name:"Osmosis",symbol:"OSMO",rpcUrl:"https://osmosis-rpc.polkachu.com",chainId:-12,blockExplorer:"https://www.mintscan.io/osmosis",iconColor:"#750BBB",isDefault:!0,decimals:6},{name:"Polkadot",symbol:"DOT",rpcUrl:"https://rpc.polkadot.io",chainId:-13,blockExplorer:"https://polkadot.subscan.io",iconColor:"#E6007A",isDefault:!0,decimals:10}];Ft.object({username:Ft.string(),password:Ft.string()});Ft.object({id:Ft.string(),symbol:Ft.string(),name:Ft.string(),image:Ft.string().optional(),currentPrice:Ft.number().optional(),marketCap:Ft.number().optional(),marketCapRank:Ft.number().optional(),priceChangePercentage24h:Ft.number().optional()});const Fd=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin",marketCapRank:1,image:"https://assets.coingecko.com/coins/images/1/small/bitcoin.png"},{id:"ethereum",symbol:"ETH",name:"Ethereum",marketCapRank:2,image:"https://assets.coingecko.com/coins/images/279/small/ethereum.png"},{id:"tether",symbol:"USDT",name:"USDT (Ethereum)",marketCapRank:3,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"tether-bsc",symbol:"USDT",name:"USDT (BNB Chain)",marketCapRank:4,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"tether-tron",symbol:"USDT",name:"USDT (TRON)",marketCapRank:5,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"binancecoin",symbol:"BNB",name:"BNB",marketCapRank:6,image:"https://assets.coingecko.com/coins/images/825/small/bnb-icon2_2x.png"},{id:"solana",symbol:"SOL",name:"Solana",marketCapRank:7,image:"https://assets.coingecko.com/coins/images/4128/small/solana.png"},{id:"usd-coin",symbol:"USDC",name:"USDC (Ethereum)",marketCapRank:8,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"usd-coin-bsc",symbol:"USDC",name:"USDC (BNB Chain)",marketCapRank:9,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"usd-coin-tron",symbol:"USDC",name:"USDC (TRON)",marketCapRank:10,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"ripple",symbol:"XRP",name:"XRP",marketCapRank:11,image:"https://assets.coingecko.com/coins/images/44/small/xrp-symbol-white-128.png"},{id:"staked-ether",symbol:"STETH",name:"Lido Staked Ether",marketCapRank:12,image:"https://assets.coingecko.com/coins/images/13442/small/steth_logo.png"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",marketCapRank:13,image:"https://assets.coingecko.com/coins/images/5/small/dogecoin.png"},{id:"cardano",symbol:"ADA",name:"Cardano",marketCapRank:14,image:"https://assets.coingecko.com/coins/images/975/small/cardano.png"},{id:"tron",symbol:"TRX",name:"TRON",marketCapRank:15,image:"https://assets.coingecko.com/coins/images/1094/small/tron-logo.png"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche",marketCapRank:16,image:"https://assets.coingecko.com/coins/images/12559/small/Avalanche_Circle_RedWhite_Trans.png"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu",marketCapRank:17,image:"https://assets.coingecko.com/coins/images/11939/small/shiba.png"},{id:"chainlink",symbol:"LINK",name:"Chainlink",marketCapRank:18,image:"https://assets.coingecko.com/coins/images/877/small/chainlink-new-logo.png"},{id:"wrapped-bitcoin",symbol:"WBTC",name:"Wrapped Bitcoin",marketCapRank:19,image:"https://assets.coingecko.com/coins/images/7598/small/wrapped_bitcoin_wbtc.png"},{id:"polkadot",symbol:"DOT",name:"Polkadot",marketCapRank:20,image:"https://assets.coingecko.com/coins/images/12171/small/polkadot.png"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash",marketCapRank:21,image:"https://assets.coingecko.com/coins/images/780/small/bitcoin-cash-circle.png"},{id:"matic-network",symbol:"MATIC",name:"Polygon",marketCapRank:22,image:"https://assets.coingecko.com/coins/images/4713/small/polygon.png"},{id:"litecoin",symbol:"LTC",name:"Litecoin",marketCapRank:23,image:"https://assets.coingecko.com/coins/images/2/small/litecoin.png"},{id:"uniswap",symbol:"UNI",name:"Uniswap",marketCapRank:24,image:"https://assets.coingecko.com/coins/images/12504/small/uniswap-logo.png"},{id:"cosmos",symbol:"ATOM",name:"Cosmos",marketCapRank:25,image:"https://assets.coingecko.com/coins/images/1481/small/cosmos_hub.png"},{id:"osmosis",symbol:"OSMO",name:"Osmosis",marketCapRank:26,image:"https://assets.coingecko.com/coins/images/16724/small/osmo.png"},{id:"dai",symbol:"DAI",name:"DAI",marketCapRank:27,image:"https://assets.coingecko.com/coins/images/9956/small/Badge_Dai.png"},{id:"aave",symbol:"AAVE",name:"Aave",marketCapRank:28,image:"https://assets.coingecko.com/coins/images/12645/small/AAVE.png"},{id:"maker",symbol:"MKR",name:"Maker",marketCapRank:29,image:"https://assets.coingecko.com/coins/images/1364/small/maker.png"},{id:"the-graph",symbol:"GRT",name:"The Graph",marketCapRank:30,image:"https://assets.coingecko.com/coins/images/13397/small/Graph_Token.png"},{id:"pancakeswap-token",symbol:"CAKE",name:"PancakeSwap",marketCapRank:31,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png"},{id:"venus",symbol:"XVS",name:"Venus",marketCapRank:32,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png"},{id:"trust-wallet-token",symbol:"TWT",name:"Trust Wallet Token",marketCapRank:33,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png"},{id:"baby-doge-coin",symbol:"BABY",name:"Baby Doge Coin",marketCapRank:34,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png"},{id:"binance-usd",symbol:"BUSD",name:"BUSD (BNB Chain)",marketCapRank:35,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56/logo.png"},{id:"wbnb",symbol:"WBNB",name:"Wrapped BNB",marketCapRank:36,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c/logo.png"},{id:"floki",symbol:"FLOKI",name:"Floki Inu",marketCapRank:37,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xfb5B838b6cfEEdC2873aB27866079AC55363D37E/logo.png"},{id:"safemoon-2",symbol:"SFM",name:"SafeMoon",marketCapRank:38,image:"https://assets.coingecko.com/coins/images/14362/small/174x174-white.png"},{id:"alpaca-finance",symbol:"ALPACA",name:"Alpaca Finance",marketCapRank:39,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x8F0528cE5eF7B51152A59745bEfDD91D97091d2F/logo.png"},{id:"biswap",symbol:"BSW",name:"Biswap",marketCapRank:40,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x965F527D9159dCe6288a2219DB51fc6Eef120dD1/logo.png"}];var IA={},VP={};VP.byteLength=W8e;VP.toByteArray=K8e;VP.fromByteArray=J8e;var Sd=[],Gc=[],V8e=typeof Uint8Array<"u"?Uint8Array:Array,KN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ob=0,H8e=KN.length;ob<H8e;++ob)Sd[ob]=KN[ob],Gc[KN.charCodeAt(ob)]=ob;Gc[45]=62;Gc[95]=63;function Une(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function W8e(t){var e=Une(t),r=e[0],n=e[1];return(r+n)*3/4-n}function q8e(t,e,r){return(e+r)*3/4-r}function K8e(t){var e,r=Une(t),n=r[0],s=r[1],i=new V8e(q8e(t,n,s)),a=0,o=s>0?n-4:n,c;for(c=0;c<o;c+=4)e=Gc[t.charCodeAt(c)]<<18|Gc[t.charCodeAt(c+1)]<<12|Gc[t.charCodeAt(c+2)]<<6|Gc[t.charCodeAt(c+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return s===2&&(e=Gc[t.charCodeAt(c)]<<2|Gc[t.charCodeAt(c+1)]>>4,i[a++]=e&255),s===1&&(e=Gc[t.charCodeAt(c)]<<10|Gc[t.charCodeAt(c+1)]<<4|Gc[t.charCodeAt(c+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function X8e(t){return Sd[t>>18&63]+Sd[t>>12&63]+Sd[t>>6&63]+Sd[t&63]}function Z8e(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(X8e(n));return s.join("")}function J8e(t){for(var e,r=t.length,n=r%3,s=[],i=16383,a=0,o=r-n;a<o;a+=i)s.push(Z8e(t,a,a+i>o?o:a+i));return n===1?(e=t[r-1],s.push(Sd[e>>2]+Sd[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(Sd[e>>10]+Sd[e>>4&63]+Sd[e<<2&63]+"=")),s.join("")}var eB={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */eB.read=function(t,e,r,n,s){var i,a,o=s*8-n-1,c=(1<<o)-1,l=c>>1,u=-7,f=r?s-1:0,h=r?-1:1,m=t[e+f];for(f+=h,i=m&(1<<-u)-1,m>>=-u,u+=o;u>0;i=i*256+t[e+f],f+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=a*256+t[e+f],f+=h,u-=8);if(i===0)i=1-l;else{if(i===c)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-l}return(m?-1:1)*a*Math.pow(2,i-n)};eB.write=function(t,e,r,n,s,i){var a,o,c,l=i*8-s-1,u=(1<<l)-1,f=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:i-1,v=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(a++,c/=2),a+f>=u?(o=0,a=u):a+f>=1?(o=(e*c-1)*Math.pow(2,s),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),a=0));s>=8;t[r+m]=o&255,m+=v,o/=256,s-=8);for(a=a<<s|o,l+=s;l>0;t[r+m]=a&255,m+=v,a/=256,l-=8);t[r+m-v]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=VP,r=eB,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=P,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const Y=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(Y,V),Y.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(Y){if(Y>s)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const V=new Uint8Array(Y);return Object.setPrototypeOf(V,o.prototype),V}function o(Y,V,q){if(typeof Y=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Y)}return c(Y,V,q)}o.poolSize=8192;function c(Y,V,q){if(typeof Y=="string")return h(Y,V);if(ArrayBuffer.isView(Y))return v(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(We(Y,ArrayBuffer)||Y&&We(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(Y,SharedArrayBuffer)||Y&&We(Y.buffer,SharedArrayBuffer)))return x(Y,V,q);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=Y.valueOf&&Y.valueOf();if(ne!=null&&ne!==Y)return o.from(ne,V,q);const le=k(Y);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return o.from(Y[Symbol.toPrimitive]("string"),V,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}o.from=function(Y,V,q){return c(Y,V,q)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function u(Y,V,q){return l(Y),Y<=0?a(Y):V!==void 0?typeof q=="string"?a(Y).fill(V,q):a(Y).fill(V):a(Y)}o.alloc=function(Y,V,q){return u(Y,V,q)};function f(Y){return l(Y),a(Y<0?0:E(Y)|0)}o.allocUnsafe=function(Y){return f(Y)},o.allocUnsafeSlow=function(Y){return f(Y)};function h(Y,V){if((typeof V!="string"||V==="")&&(V="utf8"),!o.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const q=_(Y,V)|0;let ne=a(q);const le=ne.write(Y,V);return le!==q&&(ne=ne.slice(0,le)),ne}function m(Y){const V=Y.length<0?0:E(Y.length)|0,q=a(V);for(let ne=0;ne<V;ne+=1)q[ne]=Y[ne]&255;return q}function v(Y){if(We(Y,Uint8Array)){const V=new Uint8Array(Y);return x(V.buffer,V.byteOffset,V.byteLength)}return m(Y)}function x(Y,V,q){if(V<0||Y.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<V+(q||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return V===void 0&&q===void 0?ne=new Uint8Array(Y):q===void 0?ne=new Uint8Array(Y,V):ne=new Uint8Array(Y,V,q),Object.setPrototypeOf(ne,o.prototype),ne}function k(Y){if(o.isBuffer(Y)){const V=E(Y.length)|0,q=a(V);return q.length===0||Y.copy(q,0,0,V),q}if(Y.length!==void 0)return typeof Y.length!="number"||Be(Y.length)?a(0):m(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return m(Y.data)}function E(Y){if(Y>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return Y|0}function P(Y){return+Y!=Y&&(Y=0),o.alloc(+Y)}o.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==o.prototype},o.compare=function(V,q){if(We(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),We(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),!o.isBuffer(V)||!o.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===q)return 0;let ne=V.length,le=q.length;for(let de=0,me=Math.min(ne,le);de<me;++de)if(V[de]!==q[de]){ne=V[de],le=q[de];break}return ne<le?-1:le<ne?1:0},o.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(V,q){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return o.alloc(0);let ne;if(q===void 0)for(q=0,ne=0;ne<V.length;++ne)q+=V[ne].length;const le=o.allocUnsafe(q);let de=0;for(ne=0;ne<V.length;++ne){let me=V[ne];if(We(me,Uint8Array))de+me.length>le.length?(o.isBuffer(me)||(me=o.from(me)),me.copy(le,de)):Uint8Array.prototype.set.call(le,me,de);else if(o.isBuffer(me))me.copy(le,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=me.length}return le};function _(Y,V){if(o.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||We(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const q=Y.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&q===0)return 0;let le=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return mt(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return Ae(Y).length;default:if(le)return ne?-1:mt(Y).length;V=(""+V).toLowerCase(),le=!0}}o.byteLength=_;function M(Y,V,q){let ne=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,V>>>=0,q<=V))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return A(this,V,q);case"utf8":case"utf-8":return p(this,V,q);case"ascii":return N(this,V,q);case"latin1":case"binary":return I(this,V,q);case"base64":return w(this,V,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,V,q);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ne=!0}}o.prototype._isBuffer=!0;function B(Y,V,q){const ne=Y[V];Y[V]=Y[q],Y[q]=ne}o.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<V;q+=2)B(this,q,q+1);return this},o.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<V;q+=4)B(this,q,q+3),B(this,q+1,q+2);return this},o.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<V;q+=8)B(this,q,q+7),B(this,q+1,q+6),B(this,q+2,q+5),B(this,q+3,q+4);return this},o.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?p(this,0,V):M.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(V){if(!o.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:o.compare(this,V)===0},o.prototype.inspect=function(){let V="";const q=t.INSPECT_MAX_BYTES;return V=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(V+=" ... "),"<Buffer "+V+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(V,q,ne,le,de){if(We(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(q===void 0&&(q=0),ne===void 0&&(ne=V?V.length:0),le===void 0&&(le=0),de===void 0&&(de=this.length),q<0||ne>V.length||le<0||de>this.length)throw new RangeError("out of range index");if(le>=de&&q>=ne)return 0;if(le>=de)return-1;if(q>=ne)return 1;if(q>>>=0,ne>>>=0,le>>>=0,de>>>=0,this===V)return 0;let me=de-le,rt=ne-q;const ht=Math.min(me,rt),ot=this.slice(le,de),pt=V.slice(q,ne);for(let Ct=0;Ct<ht;++Ct)if(ot[Ct]!==pt[Ct]){me=ot[Ct],rt=pt[Ct];break}return me<rt?-1:rt<me?1:0};function D(Y,V,q,ne,le){if(Y.length===0)return-1;if(typeof q=="string"?(ne=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Be(q)&&(q=le?0:Y.length-1),q<0&&(q=Y.length+q),q>=Y.length){if(le)return-1;q=Y.length-1}else if(q<0)if(le)q=0;else return-1;if(typeof V=="string"&&(V=o.from(V,ne)),o.isBuffer(V))return V.length===0?-1:j(Y,V,q,ne,le);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(Y,V,q):Uint8Array.prototype.lastIndexOf.call(Y,V,q):j(Y,[V],q,ne,le);throw new TypeError("val must be string, number or Buffer")}function j(Y,V,q,ne,le){let de=1,me=Y.length,rt=V.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(Y.length<2||V.length<2)return-1;de=2,me/=2,rt/=2,q/=2}function ht(pt,Ct){return de===1?pt[Ct]:pt.readUInt16BE(Ct*de)}let ot;if(le){let pt=-1;for(ot=q;ot<me;ot++)if(ht(Y,ot)===ht(V,pt===-1?0:ot-pt)){if(pt===-1&&(pt=ot),ot-pt+1===rt)return pt*de}else pt!==-1&&(ot-=ot-pt),pt=-1}else for(q+rt>me&&(q=me-rt),ot=q;ot>=0;ot--){let pt=!0;for(let Ct=0;Ct<rt;Ct++)if(ht(Y,ot+Ct)!==ht(V,Ct)){pt=!1;break}if(pt)return ot}return-1}o.prototype.includes=function(V,q,ne){return this.indexOf(V,q,ne)!==-1},o.prototype.indexOf=function(V,q,ne){return D(this,V,q,ne,!0)},o.prototype.lastIndexOf=function(V,q,ne){return D(this,V,q,ne,!1)};function T(Y,V,q,ne){q=Number(q)||0;const le=Y.length-q;ne?(ne=Number(ne),ne>le&&(ne=le)):ne=le;const de=V.length;ne>de/2&&(ne=de/2);let me;for(me=0;me<ne;++me){const rt=parseInt(V.substr(me*2,2),16);if(Be(rt))return me;Y[q+me]=rt}return me}function R(Y,V,q,ne){return Oe(mt(V,Y.length-q),Y,q,ne)}function H(Y,V,q,ne){return Oe(we(V),Y,q,ne)}function O(Y,V,q,ne){return Oe(Ae(V),Y,q,ne)}function b(Y,V,q,ne){return Oe(qe(V,Y.length-q),Y,q,ne)}o.prototype.write=function(V,q,ne,le){if(q===void 0)le="utf8",ne=this.length,q=0;else if(ne===void 0&&typeof q=="string")le=q,ne=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(ne)?(ne=ne>>>0,le===void 0&&(le="utf8")):(le=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-q;if((ne===void 0||ne>de)&&(ne=de),V.length>0&&(ne<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let me=!1;for(;;)switch(le){case"hex":return T(this,V,q,ne);case"utf8":case"utf-8":return R(this,V,q,ne);case"ascii":case"latin1":case"binary":return H(this,V,q,ne);case"base64":return O(this,V,q,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,V,q,ne);default:if(me)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),me=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(Y,V,q){return V===0&&q===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(V,q))}function p(Y,V,q){q=Math.min(Y.length,q);const ne=[];let le=V;for(;le<q;){const de=Y[le];let me=null,rt=de>239?4:de>223?3:de>191?2:1;if(le+rt<=q){let ht,ot,pt,Ct;switch(rt){case 1:de<128&&(me=de);break;case 2:ht=Y[le+1],(ht&192)===128&&(Ct=(de&31)<<6|ht&63,Ct>127&&(me=Ct));break;case 3:ht=Y[le+1],ot=Y[le+2],(ht&192)===128&&(ot&192)===128&&(Ct=(de&15)<<12|(ht&63)<<6|ot&63,Ct>2047&&(Ct<55296||Ct>57343)&&(me=Ct));break;case 4:ht=Y[le+1],ot=Y[le+2],pt=Y[le+3],(ht&192)===128&&(ot&192)===128&&(pt&192)===128&&(Ct=(de&15)<<18|(ht&63)<<12|(ot&63)<<6|pt&63,Ct>65535&&Ct<1114112&&(me=Ct))}}me===null?(me=65533,rt=1):me>65535&&(me-=65536,ne.push(me>>>10&1023|55296),me=56320|me&1023),ne.push(me),le+=rt}return S(ne)}const g=4096;function S(Y){const V=Y.length;if(V<=g)return String.fromCharCode.apply(String,Y);let q="",ne=0;for(;ne<V;)q+=String.fromCharCode.apply(String,Y.slice(ne,ne+=g));return q}function N(Y,V,q){let ne="";q=Math.min(Y.length,q);for(let le=V;le<q;++le)ne+=String.fromCharCode(Y[le]&127);return ne}function I(Y,V,q){let ne="";q=Math.min(Y.length,q);for(let le=V;le<q;++le)ne+=String.fromCharCode(Y[le]);return ne}function A(Y,V,q){const ne=Y.length;(!V||V<0)&&(V=0),(!q||q<0||q>ne)&&(q=ne);let le="";for(let de=V;de<q;++de)le+=ze[Y[de]];return le}function y(Y,V,q){const ne=Y.slice(V,q);let le="";for(let de=0;de<ne.length-1;de+=2)le+=String.fromCharCode(ne[de]+ne[de+1]*256);return le}o.prototype.slice=function(V,q){const ne=this.length;V=~~V,q=q===void 0?ne:~~q,V<0?(V+=ne,V<0&&(V=0)):V>ne&&(V=ne),q<0?(q+=ne,q<0&&(q=0)):q>ne&&(q=ne),q<V&&(q=V);const le=this.subarray(V,q);return Object.setPrototypeOf(le,o.prototype),le};function C(Y,V,q){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+V>q)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(V,q,ne){V=V>>>0,q=q>>>0,ne||C(V,q,this.length);let le=this[V],de=1,me=0;for(;++me<q&&(de*=256);)le+=this[V+me]*de;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(V,q,ne){V=V>>>0,q=q>>>0,ne||C(V,q,this.length);let le=this[V+--q],de=1;for(;q>0&&(de*=256);)le+=this[V+--q]*de;return le},o.prototype.readUint8=o.prototype.readUInt8=function(V,q){return V=V>>>0,q||C(V,1,this.length),this[V]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(V,q){return V=V>>>0,q||C(V,2,this.length),this[V]|this[V+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(V,q){return V=V>>>0,q||C(V,2,this.length),this[V]<<8|this[V+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(V,q){return V=V>>>0,q||C(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(V,q){return V=V>>>0,q||C(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},o.prototype.readBigUInt64LE=Ke(function(V){V=V>>>0,pe(V,"offset");const q=this[V],ne=this[V+7];(q===void 0||ne===void 0)&&Ce(V,this.length-8);const le=q+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,de=this[++V]+this[++V]*2**8+this[++V]*2**16+ne*2**24;return BigInt(le)+(BigInt(de)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ke(function(V){V=V>>>0,pe(V,"offset");const q=this[V],ne=this[V+7];(q===void 0||ne===void 0)&&Ce(V,this.length-8);const le=q*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],de=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ne;return(BigInt(le)<<BigInt(32))+BigInt(de)}),o.prototype.readIntLE=function(V,q,ne){V=V>>>0,q=q>>>0,ne||C(V,q,this.length);let le=this[V],de=1,me=0;for(;++me<q&&(de*=256);)le+=this[V+me]*de;return de*=128,le>=de&&(le-=Math.pow(2,8*q)),le},o.prototype.readIntBE=function(V,q,ne){V=V>>>0,q=q>>>0,ne||C(V,q,this.length);let le=q,de=1,me=this[V+--le];for(;le>0&&(de*=256);)me+=this[V+--le]*de;return de*=128,me>=de&&(me-=Math.pow(2,8*q)),me},o.prototype.readInt8=function(V,q){return V=V>>>0,q||C(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},o.prototype.readInt16LE=function(V,q){V=V>>>0,q||C(V,2,this.length);const ne=this[V]|this[V+1]<<8;return ne&32768?ne|4294901760:ne},o.prototype.readInt16BE=function(V,q){V=V>>>0,q||C(V,2,this.length);const ne=this[V+1]|this[V]<<8;return ne&32768?ne|4294901760:ne},o.prototype.readInt32LE=function(V,q){return V=V>>>0,q||C(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},o.prototype.readInt32BE=function(V,q){return V=V>>>0,q||C(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},o.prototype.readBigInt64LE=Ke(function(V){V=V>>>0,pe(V,"offset");const q=this[V],ne=this[V+7];(q===void 0||ne===void 0)&&Ce(V,this.length-8);const le=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(ne<<24);return(BigInt(le)<<BigInt(32))+BigInt(q+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),o.prototype.readBigInt64BE=Ke(function(V){V=V>>>0,pe(V,"offset");const q=this[V],ne=this[V+7];(q===void 0||ne===void 0)&&Ce(V,this.length-8);const le=(q<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(le)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ne)}),o.prototype.readFloatLE=function(V,q){return V=V>>>0,q||C(V,4,this.length),r.read(this,V,!0,23,4)},o.prototype.readFloatBE=function(V,q){return V=V>>>0,q||C(V,4,this.length),r.read(this,V,!1,23,4)},o.prototype.readDoubleLE=function(V,q){return V=V>>>0,q||C(V,8,this.length),r.read(this,V,!0,52,8)},o.prototype.readDoubleBE=function(V,q){return V=V>>>0,q||C(V,8,this.length),r.read(this,V,!1,52,8)};function $(Y,V,q,ne,le,de){if(!o.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>le||V<de)throw new RangeError('"value" argument is out of bounds');if(q+ne>Y.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(V,q,ne,le){if(V=+V,q=q>>>0,ne=ne>>>0,!le){const rt=Math.pow(2,8*ne)-1;$(this,V,q,ne,rt,0)}let de=1,me=0;for(this[q]=V&255;++me<ne&&(de*=256);)this[q+me]=V/de&255;return q+ne},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(V,q,ne,le){if(V=+V,q=q>>>0,ne=ne>>>0,!le){const rt=Math.pow(2,8*ne)-1;$(this,V,q,ne,rt,0)}let de=ne-1,me=1;for(this[q+de]=V&255;--de>=0&&(me*=256);)this[q+de]=V/me&255;return q+ne},o.prototype.writeUint8=o.prototype.writeUInt8=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,1,255,0),this[q]=V&255,q+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,2,65535,0),this[q]=V&255,this[q+1]=V>>>8,q+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,2,65535,0),this[q]=V>>>8,this[q+1]=V&255,q+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,4,4294967295,0),this[q+3]=V>>>24,this[q+2]=V>>>16,this[q+1]=V>>>8,this[q]=V&255,q+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,4,4294967295,0),this[q]=V>>>24,this[q+1]=V>>>16,this[q+2]=V>>>8,this[q+3]=V&255,q+4};function L(Y,V,q,ne,le){ce(V,ne,le,Y,q,7);let de=Number(V&BigInt(4294967295));Y[q++]=de,de=de>>8,Y[q++]=de,de=de>>8,Y[q++]=de,de=de>>8,Y[q++]=de;let me=Number(V>>BigInt(32)&BigInt(4294967295));return Y[q++]=me,me=me>>8,Y[q++]=me,me=me>>8,Y[q++]=me,me=me>>8,Y[q++]=me,q}function Q(Y,V,q,ne,le){ce(V,ne,le,Y,q,7);let de=Number(V&BigInt(4294967295));Y[q+7]=de,de=de>>8,Y[q+6]=de,de=de>>8,Y[q+5]=de,de=de>>8,Y[q+4]=de;let me=Number(V>>BigInt(32)&BigInt(4294967295));return Y[q+3]=me,me=me>>8,Y[q+2]=me,me=me>>8,Y[q+1]=me,me=me>>8,Y[q]=me,q+8}o.prototype.writeBigUInt64LE=Ke(function(V,q=0){return L(this,V,q,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ke(function(V,q=0){return Q(this,V,q,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(V,q,ne,le){if(V=+V,q=q>>>0,!le){const ht=Math.pow(2,8*ne-1);$(this,V,q,ne,ht-1,-ht)}let de=0,me=1,rt=0;for(this[q]=V&255;++de<ne&&(me*=256);)V<0&&rt===0&&this[q+de-1]!==0&&(rt=1),this[q+de]=(V/me>>0)-rt&255;return q+ne},o.prototype.writeIntBE=function(V,q,ne,le){if(V=+V,q=q>>>0,!le){const ht=Math.pow(2,8*ne-1);$(this,V,q,ne,ht-1,-ht)}let de=ne-1,me=1,rt=0;for(this[q+de]=V&255;--de>=0&&(me*=256);)V<0&&rt===0&&this[q+de+1]!==0&&(rt=1),this[q+de]=(V/me>>0)-rt&255;return q+ne},o.prototype.writeInt8=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,1,127,-128),V<0&&(V=255+V+1),this[q]=V&255,q+1},o.prototype.writeInt16LE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,2,32767,-32768),this[q]=V&255,this[q+1]=V>>>8,q+2},o.prototype.writeInt16BE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,2,32767,-32768),this[q]=V>>>8,this[q+1]=V&255,q+2},o.prototype.writeInt32LE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,4,2147483647,-2147483648),this[q]=V&255,this[q+1]=V>>>8,this[q+2]=V>>>16,this[q+3]=V>>>24,q+4},o.prototype.writeInt32BE=function(V,q,ne){return V=+V,q=q>>>0,ne||$(this,V,q,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[q]=V>>>24,this[q+1]=V>>>16,this[q+2]=V>>>8,this[q+3]=V&255,q+4},o.prototype.writeBigInt64LE=Ke(function(V,q=0){return L(this,V,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ke(function(V,q=0){return Q(this,V,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U(Y,V,q,ne,le,de){if(q+ne>Y.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function J(Y,V,q,ne,le){return V=+V,q=q>>>0,le||U(Y,V,q,4),r.write(Y,V,q,ne,23,4),q+4}o.prototype.writeFloatLE=function(V,q,ne){return J(this,V,q,!0,ne)},o.prototype.writeFloatBE=function(V,q,ne){return J(this,V,q,!1,ne)};function Z(Y,V,q,ne,le){return V=+V,q=q>>>0,le||U(Y,V,q,8),r.write(Y,V,q,ne,52,8),q+8}o.prototype.writeDoubleLE=function(V,q,ne){return Z(this,V,q,!0,ne)},o.prototype.writeDoubleBE=function(V,q,ne){return Z(this,V,q,!1,ne)},o.prototype.copy=function(V,q,ne,le){if(!o.isBuffer(V))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!le&&le!==0&&(le=this.length),q>=V.length&&(q=V.length),q||(q=0),le>0&&le<ne&&(le=ne),le===ne||V.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),V.length-q<le-ne&&(le=V.length-q+ne);const de=le-ne;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,ne,le):Uint8Array.prototype.set.call(V,this.subarray(ne,le),q),de},o.prototype.fill=function(V,q,ne,le){if(typeof V=="string"){if(typeof q=="string"?(le=q,q=0,ne=this.length):typeof ne=="string"&&(le=ne,ne=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(V.length===1){const me=V.charCodeAt(0);(le==="utf8"&&me<128||le==="latin1")&&(V=me)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(q<0||this.length<q||this.length<ne)throw new RangeError("Out of range index");if(ne<=q)return this;q=q>>>0,ne=ne===void 0?this.length:ne>>>0,V||(V=0);let de;if(typeof V=="number")for(de=q;de<ne;++de)this[de]=V;else{const me=o.isBuffer(V)?V:o.from(V,le),rt=me.length;if(rt===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(de=0;de<ne-q;++de)this[de+q]=me[de%rt]}return this};const re={};function G(Y,V,q){re[Y]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(Y,V){return`The "${Y}" argument must be of type number. Received type ${typeof V}`},TypeError),G("ERR_OUT_OF_RANGE",function(Y,V,q){let ne=`The value of "${Y}" is out of range.`,le=q;return Number.isInteger(q)&&Math.abs(q)>2**32?le=z(String(q)):typeof q=="bigint"&&(le=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(le=z(le)),le+="n"),ne+=` It must be ${V}. Received ${le}`,ne},RangeError);function z(Y){let V="",q=Y.length;const ne=Y[0]==="-"?1:0;for(;q>=ne+4;q-=3)V=`_${Y.slice(q-3,q)}${V}`;return`${Y.slice(0,q)}${V}`}function se(Y,V,q){pe(V,"offset"),(Y[V]===void 0||Y[V+q]===void 0)&&Ce(V,Y.length-(q+1))}function ce(Y,V,q,ne,le,de){if(Y>q||Y<V){const me=typeof V=="bigint"?"n":"";let rt;throw V===0||V===BigInt(0)?rt=`>= 0${me} and < 2${me} ** ${(de+1)*8}${me}`:rt=`>= -(2${me} ** ${(de+1)*8-1}${me}) and < 2 ** ${(de+1)*8-1}${me}`,new re.ERR_OUT_OF_RANGE("value",rt,Y)}se(ne,le,de)}function pe(Y,V){if(typeof Y!="number")throw new re.ERR_INVALID_ARG_TYPE(V,"number",Y)}function Ce(Y,V,q){throw Math.floor(Y)!==Y?(pe(Y,q),new re.ERR_OUT_OF_RANGE("offset","an integer",Y)):V<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,Y)}const ke=/[^+/0-9A-Za-z-_]/g;function tt(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(ke,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function mt(Y,V){V=V||1/0;let q;const ne=Y.length;let le=null;const de=[];for(let me=0;me<ne;++me){if(q=Y.charCodeAt(me),q>55295&&q<57344){if(!le){if(q>56319){(V-=3)>-1&&de.push(239,191,189);continue}else if(me+1===ne){(V-=3)>-1&&de.push(239,191,189);continue}le=q;continue}if(q<56320){(V-=3)>-1&&de.push(239,191,189),le=q;continue}q=(le-55296<<10|q-56320)+65536}else le&&(V-=3)>-1&&de.push(239,191,189);if(le=null,q<128){if((V-=1)<0)break;de.push(q)}else if(q<2048){if((V-=2)<0)break;de.push(q>>6|192,q&63|128)}else if(q<65536){if((V-=3)<0)break;de.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((V-=4)<0)break;de.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return de}function we(Y){const V=[];for(let q=0;q<Y.length;++q)V.push(Y.charCodeAt(q)&255);return V}function qe(Y,V){let q,ne,le;const de=[];for(let me=0;me<Y.length&&!((V-=2)<0);++me)q=Y.charCodeAt(me),ne=q>>8,le=q%256,de.push(le),de.push(ne);return de}function Ae(Y){return e.toByteArray(tt(Y))}function Oe(Y,V,q,ne){let le;for(le=0;le<ne&&!(le+q>=V.length||le>=Y.length);++le)V[le+q]=Y[le];return le}function We(Y,V){return Y instanceof V||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===V.name}function Be(Y){return Y!==Y}const ze=function(){const Y="0123456789abcdef",V=new Array(256);for(let q=0;q<16;++q){const ne=q*16;for(let le=0;le<16;++le)V[ne+le]=Y[q]+Y[le]}return V}();function Ke(Y){return typeof BigInt>"u"?ct:Y}function ct(){throw new Error("BigInt not supported")}})(IA);var zne={exports:{}},Ms=zne.exports={},nd,sd;function nj(){throw new Error("setTimeout has not been defined")}function sj(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?nd=setTimeout:nd=nj}catch{nd=nj}try{typeof clearTimeout=="function"?sd=clearTimeout:sd=sj}catch{sd=sj}})();function Lne(t){if(nd===setTimeout)return setTimeout(t,0);if((nd===nj||!nd)&&setTimeout)return nd=setTimeout,setTimeout(t,0);try{return nd(t,0)}catch{try{return nd.call(null,t,0)}catch{return nd.call(this,t,0)}}}function Q8e(t){if(sd===clearTimeout)return clearTimeout(t);if((sd===sj||!sd)&&clearTimeout)return sd=clearTimeout,clearTimeout(t);try{return sd(t)}catch{try{return sd.call(null,t)}catch{return sd.call(this,t)}}}var ah=[],_y=!1,tg,V9=-1;function Y8e(){!_y||!tg||(_y=!1,tg.length?ah=tg.concat(ah):V9=-1,ah.length&&Vne())}function Vne(){if(!_y){var t=Lne(Y8e);_y=!0;for(var e=ah.length;e;){for(tg=ah,ah=[];++V9<e;)tg&&tg[V9].run();V9=-1,e=ah.length}tg=null,_y=!1,Q8e(t)}}Ms.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ah.push(new Hne(t,e)),ah.length===1&&!_y&&Lne(Vne)};function Hne(t,e){this.fun=t,this.array=e}Hne.prototype.run=function(){this.fun.apply(null,this.array)};Ms.title="browser";Ms.browser=!0;Ms.env={};Ms.argv=[];Ms.version="";Ms.versions={};function Dh(){}Ms.on=Dh;Ms.addListener=Dh;Ms.once=Dh;Ms.off=Dh;Ms.removeListener=Dh;Ms.removeAllListeners=Dh;Ms.emit=Dh;Ms.prependListener=Dh;Ms.prependOnceListener=Dh;Ms.listeners=function(t){return[]};Ms.binding=function(t){throw new Error("process.binding is not supported")};Ms.cwd=function(){return"/"};Ms.chdir=function(t){throw new Error("process.chdir is not supported")};Ms.umask=function(){return 0};var G8e=zne.exports;const e9e=Ua(G8e);typeof window<"u"&&(window.Buffer=IA.Buffer,window.global=window,window.process=e9e,globalThis.Buffer=IA.Buffer);var tB={exports:{}},Cy=typeof Reflect=="object"?Reflect:null,qL=Cy&&typeof Cy.apply=="function"?Cy.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},H9;Cy&&typeof Cy.ownKeys=="function"?H9=Cy.ownKeys:Object.getOwnPropertySymbols?H9=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:H9=function(e){return Object.getOwnPropertyNames(e)};function t9e(t){console&&console.warn&&console.warn(t)}var Wne=Number.isNaN||function(e){return e!==e};function Pn(){Pn.init.call(this)}tB.exports=Pn;tB.exports.once=i9e;Pn.EventEmitter=Pn;Pn.prototype._events=void 0;Pn.prototype._eventsCount=0;Pn.prototype._maxListeners=void 0;var KL=10;function HP(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Pn,"defaultMaxListeners",{enumerable:!0,get:function(){return KL},set:function(t){if(typeof t!="number"||t<0||Wne(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");KL=t}});Pn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Wne(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function qne(t){return t._maxListeners===void 0?Pn.defaultMaxListeners:t._maxListeners}Pn.prototype.getMaxListeners=function(){return qne(this)};Pn.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")qL(c,this,r);else for(var l=c.length,u=Qne(c,l),n=0;n<l;++n)qL(u[n],this,r);return!0};function Kne(t,e,r,n){var s,i,a;if(HP(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=qne(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,t9e(o)}return t}Pn.prototype.addListener=function(e,r){return Kne(this,e,r,!1)};Pn.prototype.on=Pn.prototype.addListener;Pn.prototype.prependListener=function(e,r){return Kne(this,e,r,!0)};function r9e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Xne(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=r9e.bind(n);return s.listener=r,n.wrapFn=s,s}Pn.prototype.once=function(e,r){return HP(r),this.on(e,Xne(this,e,r)),this};Pn.prototype.prependOnceListener=function(e,r){return HP(r),this.prependListener(e,Xne(this,e,r)),this};Pn.prototype.removeListener=function(e,r){var n,s,i,a,o;if(HP(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():n9e(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Pn.prototype.off=Pn.prototype.removeListener;Pn.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function Zne(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?s9e(s):Qne(s,s.length)}Pn.prototype.listeners=function(e){return Zne(this,e,!0)};Pn.prototype.rawListeners=function(e){return Zne(this,e,!1)};Pn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Jne.call(t,e)};Pn.prototype.listenerCount=Jne;function Jne(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Pn.prototype.eventNames=function(){return this._eventsCount>0?H9(this._events):[]};function Qne(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function n9e(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function s9e(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function i9e(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Yne(t,e,i,{once:!0}),e!=="error"&&a9e(t,s,{once:!0})})}function a9e(t,e,r){typeof t.on=="function"&&Yne(t,"error",e,r)}function Yne(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Un=tB.exports;const D4=Ua(Un),o9e={},c9e={},Gne=(t,e)=>{c9e[t]=e},st=t=>{class e extends Error{constructor(s,i,a){super(s||t,a);ve(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const o in i)this[o]=i[o];if(a&&l9e(a)&&"cause"in a&&!this.cause){const o=a.cause;this.cause=o,"stack"in o&&(this.stack=this.stack+`
CAUSE: `+o.stack)}}}return o9e[t]=e,e};function l9e(t){return typeof t=="object"}st("AccountNameRequired");st("AccountNotSupported");st("AccountAwaitingSendPendingOperations");st("AmountRequired");st("BluetoothRequired");st("BtcUnmatchedApp");st("CantOpenDevice");st("CashAddrNotSupported");st("ClaimRewardsFeesWarning");st("CurrencyNotSupported");st("DeviceAppVerifyNotSupported");st("DeviceGenuineSocketEarlyClose");st("DeviceNotGenuine");st("DeviceOnDashboardExpected");st("DeviceOnDashboardUnexpected");st("DeviceInOSUExpected");st("DeviceHalted");st("DeviceNameInvalid");st("DeviceSocketFail");st("DeviceSocketNoBulkStatus");st("DeviceSocketNoBulkStatus");st("UnresponsiveDeviceError");const u9e=st("DisconnectedDevice"),d9e=st("DisconnectedDeviceDuringOperation");st("DeviceExtractOnboardingStateError");st("DeviceOnboardingStatePollingError");st("EnpointConfig");st("EthAppPleaseEnableContractData");st("CeloAppPleaseEnableContractData");st("FeeEstimationFailed");st("FirmwareNotRecognized");st("HardResetFail");st("InvalidXRPTag");st("InvalidAddress");st("InvalidNonce");st("InvalidAddressBecauseDestinationIsAlsoSource");st("LatestMCUInstalledError");st("LatestFirmwareVersionRequired");st("UnknownMCU");st("LedgerAPIError");st("LedgerAPIErrorWithMessage");st("LedgerAPINotAvailable");st("ManagerAppAlreadyInstalled");st("ManagerAppRelyOnBTC");st("ManagerAppDepInstallRequired");st("ManagerAppDepUninstallRequired");st("ManagerDeviceLocked");st("ManagerFirmwareNotEnoughSpace");st("ManagerNotEnoughSpace");st("ManagerUninstallBTCDep");st("NetworkDown");st("NetworkError");st("NoAddressesFound");st("NotEnoughBalance");st("NotEnoughBalanceFees");st("NotEnoughBalanceSwap");st("NotEnoughBalanceToDelegate");st("UnstakeNotEnoughStakedBalanceLeft");st("RestakeNotEnoughStakedBalanceLeft");st("NotEnoughToRestake");st("NotEnoughToUnstake");st("NotEnoughBalanceInParentAccount");st("NotEnoughSpendableBalance");st("NotEnoughBalanceBecauseDestinationNotCreated");st("NotEnoughToStake");st("NoAccessToCamera");st("NotEnoughGas");st("NotEnoughGasSwap");st("TronEmptyAccount");st("MaybeKeepTronAccountAlive");st("NotSupportedLegacyAddress");st("GasLessThanEstimate");st("PriorityFeeTooLow");st("PriorityFeeTooHigh");st("PriorityFeeHigherThanMaxFee");st("MaxFeeTooLow");st("PasswordsDontMatch");st("PasswordIncorrect");st("RecommendSubAccountsToEmpty");st("RecommendUndelegation");st("TimeoutTagged");st("UnexpectedBootloader");st("MCUNotGenuineToDashboard");st("RecipientRequired");st("UnavailableTezosOriginatedAccountReceive");st("UnavailableTezosOriginatedAccountSend");st("UpdateFetchFileFail");st("UpdateIncorrectHash");st("UpdateIncorrectSig");st("UpdateYourApp");st("UserRefusedDeviceNameChange");st("UserRefusedAddress");st("UserRefusedFirmwareUpdate");st("UserRefusedAllowManager");st("UserRefusedOnDevice");st("PinNotSet");st("ExpertModeRequired");const XL=st("TransportOpenUserCancelled");st("TransportInterfaceNotAvailable");const f9e=st("TransportRaceCondition");st("TransportWebUSBGestureRequired");st("TransactionHasBeenValidatedError");st("TransportExchangeTimeoutError");st("DeviceShouldStayInApp");st("WebsocketConnectionError");st("WebsocketConnectionFailed");st("WrongDeviceForAccount");st("WrongDeviceForAccountPayout");st("MissingSwapPayloadParamaters");st("WrongDeviceForAccountRefund");st("WrongAppForCurrency");st("ETHAddressNonEIP");st("CantScanQRCode");st("FeeNotLoaded");st("FeeNotLoadedSwap");st("FeeRequired");st("FeeTooHigh");st("PendingOperation");st("SyncError");st("PairingFailed");st("PeerRemovedPairing");st("GenuineCheckFailed");st("LedgerAPI4xx");st("LedgerAPI5xx");st("FirmwareOrAppUpdateRequired");st("ReplacementTransactionUnderpriced");st("OpReturnSizeLimit");st("DustLimit");st("LanguageNotFound");st("NoDBPathGiven");st("DBWrongPassword");st("DBNotReset");st("SequenceNumberError");st("DisabledTransactionBroadcastError");var ZL;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(ZL||(ZL={}));class Ed extends Error{constructor(r,n){const s="TransportError";super(r||s);ve(this,"id");this.name=s,this.message=r,this.stack=new Error(r).stack,this.id=n}}Gne("TransportError",t=>new Ed(t.message,t.id));const Ty={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function h9e(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class hx extends Error{constructor(r,{canBeMappedToChildError:n=!0}={}){const s=Object.keys(Ty).find(c=>Ty[c]===r)||"UNKNOWN_ERROR",i=h9e(r)||s,a=r.toString(16),o=`Ledger device: ${i} (0x${a})`;super(o);ve(this,"statusCode");ve(this,"statusText");if(this.name="TransportStatusError",this.statusCode=r,this.statusText=s,Object.setPrototypeOf(this,hx.prototype),n&&r===Ty.LOCKED_DEVICE)return new rB(o)}}class rB extends hx{constructor(e){super(Ty.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,rB.prototype)}}Gne("TransportStatusError",t=>new hx(t.statusCode));let ese=0;const C0=[],Xs=(t,e,r)=>{const n={type:t,id:String(++ese),date:new Date};e&&(n.message=e),r&&(n.data=r),tse(n)},p9e=({type:t,message:e,data:r,context:n})=>{const s={type:t,id:String(++ese),date:new Date};e&&(s.message=e),r&&(s.data=r),n&&(s.context=n),tse(s)};class g3{constructor(e,r){ve(this,"type");ve(this,"context");this.type=e,this.context=r}trace(e,r){p9e({type:this.type,message:e,data:r,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new g3(e,this.context)}withContext(e){return new g3(this.type,e)}withUpdatedContext(e){return new g3(this.type,{...this.context,...e})}}const m9e=t=>(C0.push(t),()=>{const e=C0.indexOf(t);e!==-1&&(C0[e]=C0[C0.length-1],C0.pop())});function tse(t){for(let e=0;e<C0.length;e++)try{C0[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=m9e);const g9e="transport";class Fm{constructor({context:e,logType:r}={}){ve(this,"exchangeTimeout",3e4);ve(this,"unresponsiveTimeout",15e3);ve(this,"deviceModel",null);ve(this,"tracer");ve(this,"_events",new D4);ve(this,"send",async(e,r,n,s,i=Buffer.alloc(0),a=[Ty.OK],{abortTimeoutMs:o}={})=>{const c=this.tracer.withUpdatedContext({function:"send"});if(i.length>=256)throw c.trace("data.length exceeded 256 bytes limit",{dataLength:i.length}),new Ed("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const l=await this.exchange(Buffer.concat([Buffer.from([e,r,n,s]),Buffer.from([i.length]),i]),{abortTimeoutMs:o}),u=l.readUInt16BE(l.length-2);if(!a.some(f=>f===u))throw new hx(u);return l});ve(this,"exchangeBusyPromise");ve(this,"_appAPIlock",null);this.tracer=new g3(r??g9e,e)}exchange(e,{abortTimeoutMs:r}={}){throw new Error("exchange not implemented")}exchangeBulk(e,r){let n=!1;const s=()=>{n=!0};return(async()=>{if(!n)for(const a of e){const o=await this.exchange(a);if(n)return;const c=o.readUInt16BE(o.length-2);if(c!==Ty.OK)throw new hx(c);r.next(o)}})().then(()=>!n&&r.complete(),a=>!n&&r.error(a)),{unsubscribe:s}}setScrambleKey(e){}close(){return Promise.resolve()}on(e,r){this._events.on(e,r)}off(e,r){this._events.removeListener(e,r)}emit(e,...r){this._events.emit(e,...r)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,r){return new Promise((n,s)=>{let i=!1;const a=this.listen({next:c=>{i=!0,a&&a.unsubscribe(),o&&clearTimeout(o),this.open(c.descriptor,e).then(n,s)},error:c=>{o&&clearTimeout(o),s(c)},complete:()=>{o&&clearTimeout(o),i||s(new Ed(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),o=r?setTimeout(()=>{a.unsubscribe(),s(new Ed(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})}async exchangeAtomicImpl(e){const r=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw r.trace("Atomic exchange is already busy"),new f9e("An action was already pending on the Ledger device. Please deny or reconnect.");let n;const s=new Promise(o=>{n=o});this.exchangeBusyPromise=s;let i=!1;const a=setTimeout(()=>{r.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),i=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const o=await e();return i&&(r.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),o}finally{r.trace("Finalize, clearing busy guard"),clearTimeout(a),n&&n(),this.exchangeBusyPromise=null}}decorateAppAPIMethods(e,r,n){for(const s of r)e[s]=this.decorateAppAPIMethod(s,e[s],e,n)}decorateAppAPIMethod(e,r,n,s){return async(...i)=>{const{_appAPIlock:a}=this;if(a)return Promise.reject(new Ed("Ledger Device is busy (lock "+a+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(s),await r.apply(n,i)}finally{this._appAPIlock=null}}}setTraceContext(e){this.tracer=this.tracer.withContext(e)}updateTraceContext(e){this.tracer.updateContext(e)}getTraceContext(){return this.tracer.getContext()}}ve(Fm,"isSupported"),ve(Fm,"list"),ve(Fm,"listen"),ve(Fm,"open"),ve(Fm,"ErrorMessage_ListenTimeout","No Ledger device found (timeout)"),ve(Fm,"ErrorMessage_NoDeviceFound","No Ledger device found");const JL=5;function b9e(t){const e=Buffer.alloc(2);return e.writeUInt16BE(t,0),e}const y9e={data:Buffer.alloc(0),dataLength:0,sequence:0},v9e=(t,e)=>({makeBlocks(r){let n=Buffer.concat([b9e(r.length),r]);const s=e-5,i=Math.ceil(n.length/s);n=Buffer.concat([n,Buffer.alloc(i*s-n.length+1).fill(0)]);const a=[];for(let o=0;o<i;o++){const c=Buffer.alloc(5);c.writeUInt16BE(t,0),c.writeUInt8(JL,2),c.writeUInt16BE(o,3);const l=n.slice(o*s,(o+1)*s);a.push(Buffer.concat([c,l]))}return a},reduceResponse(r,n){let{data:s,dataLength:i,sequence:a}=r||y9e;if(n.readUInt16BE(0)!==t)throw new Ed("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==JL)throw new Ed("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new Ed("Invalid sequence","InvalidSequence");r||(i=n.readUInt16BE(5)),a++;const o=n.slice(r?5:7);return s=Buffer.concat([s,o]),s.length>i&&(s=s.slice(0,i)),{data:s,dataLength:i,sequence:a}},getReducedResult(r){if(r&&r.dataLength===r.data.length)return r.data}});var ij={exports:{}};const x9e="2.0.0",rse=256,w9e=Number.MAX_SAFE_INTEGER||9007199254740991,A9e=16,S9e=rse-6,P9e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var WP={MAX_LENGTH:rse,MAX_SAFE_COMPONENT_LENGTH:A9e,MAX_SAFE_BUILD_LENGTH:S9e,MAX_SAFE_INTEGER:w9e,RELEASE_TYPES:P9e,SEMVER_SPEC_VERSION:x9e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},XN={};const k9e=typeof process=="object"&&XN&&XN.NODE_DEBUG&&/\bsemver\b/i.test(XN.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var qP=k9e;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=WP,i=qP;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[h,n]],v=k=>{for(const[E,P]of m)k=k.split(`${E}*`).join(`${E}{0,${P}}`).split(`${E}+`).join(`${E}{1,${P}}`);return k},x=(k,E,P)=>{const _=v(E),M=f++;i(k,M,E),u[k]=M,c[M]=E,l[M]=_,a[M]=new RegExp(E,P?"g":void 0),o[M]=new RegExp(_,P?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),x("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${h}+`),x("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),x("FULL",`^${c[u.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),x("LOOSE",`^${c[u.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),x("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",c[u.COERCE],!0),x("COERCERTLFULL",c[u.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ij,ij.exports);var U4=ij.exports;const I9e=Object.freeze({loose:!0}),N9e=Object.freeze({}),E9e=t=>t?typeof t!="object"?I9e:t:N9e;var nB=E9e;const QL=/^[0-9]+$/,nse=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=QL.test(t),n=QL.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},_9e=(t,e)=>nse(e,t);var sse={compareIdentifiers:nse,rcompareIdentifiers:_9e};const p8=qP,{MAX_LENGTH:YL,MAX_SAFE_INTEGER:m8}=WP,{safeRe:g8,t:b8}=U4,C9e=nB,{compareIdentifiers:ZN}=sse;let T9e=class Zu{constructor(e,r){if(r=C9e(r),e instanceof Zu){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>YL)throw new TypeError(`version is longer than ${YL} characters`);p8("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?g8[b8.LOOSE]:g8[b8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>m8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>m8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>m8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<m8)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(p8("SemVer.compare",this.version,this.options,e),!(e instanceof Zu)){if(typeof e=="string"&&e===this.version)return 0;e=new Zu(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Zu||(e=new Zu(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof Zu||(e=new Zu(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(p8("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ZN(n,s)}while(++r)}compareBuild(e){e instanceof Zu||(e=new Zu(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(p8("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ZN(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?g8[b8.PRERELEASELOOSE]:g8[b8.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),ZN(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var oo=T9e;const GL=oo,j9e=(t,e,r=!1)=>{if(t instanceof GL)return t;try{return new GL(t,e)}catch(n){if(!r)return null;throw n}};var t2=j9e;const $9e=t2,M9e=(t,e)=>{const r=$9e(t,e);return r?r.version:null};var O9e=M9e;const F9e=t2,B9e=(t,e)=>{const r=F9e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var R9e=B9e;const eV=oo,D9e=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new eV(t instanceof eV?t.version:t,r).inc(e,n,s).version}catch{return null}};var U9e=D9e;const tV=t2,z9e=(t,e)=>{const r=tV(t,null,!0),n=tV(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,a=i?r:n,o=i?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var L9e=z9e;const V9e=oo,H9e=(t,e)=>new V9e(t,e).major;var W9e=H9e;const q9e=oo,K9e=(t,e)=>new q9e(t,e).minor;var X9e=K9e;const Z9e=oo,J9e=(t,e)=>new Z9e(t,e).patch;var Q9e=J9e;const Y9e=t2,G9e=(t,e)=>{const r=Y9e(t,e);return r&&r.prerelease.length?r.prerelease:null};var e7e=G9e;const rV=oo,t7e=(t,e,r)=>new rV(t,r).compare(new rV(e,r));var Mu=t7e;const r7e=Mu,n7e=(t,e,r)=>r7e(e,t,r);var s7e=n7e;const i7e=Mu,a7e=(t,e)=>i7e(t,e,!0);var o7e=a7e;const nV=oo,c7e=(t,e,r)=>{const n=new nV(t,r),s=new nV(e,r);return n.compare(s)||n.compareBuild(s)};var sB=c7e;const l7e=sB,u7e=(t,e)=>t.sort((r,n)=>l7e(r,n,e));var d7e=u7e;const f7e=sB,h7e=(t,e)=>t.sort((r,n)=>f7e(n,r,e));var p7e=h7e;const m7e=Mu,g7e=(t,e,r)=>m7e(t,e,r)>0;var KP=g7e;const b7e=Mu,y7e=(t,e,r)=>b7e(t,e,r)<0;var iB=y7e;const v7e=Mu,x7e=(t,e,r)=>v7e(t,e,r)===0;var ise=x7e;const w7e=Mu,A7e=(t,e,r)=>w7e(t,e,r)!==0;var ase=A7e;const S7e=Mu,P7e=(t,e,r)=>S7e(t,e,r)>=0;var aB=P7e;const k7e=Mu,I7e=(t,e,r)=>k7e(t,e,r)<=0;var oB=I7e;const N7e=ise,E7e=ase,_7e=KP,C7e=aB,T7e=iB,j7e=oB,$7e=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return N7e(t,r,n);case"!=":return E7e(t,r,n);case">":return _7e(t,r,n);case">=":return C7e(t,r,n);case"<":return T7e(t,r,n);case"<=":return j7e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var ose=$7e;const M7e=oo,O7e=t2,{safeRe:y8,t:v8}=U4,F7e=(t,e)=>{if(t instanceof M7e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?y8[v8.COERCEFULL]:y8[v8.COERCE]);else{const c=e.includePrerelease?y8[v8.COERCERTLFULL]:y8[v8.COERCERTL];let l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return O7e(`${n}.${s}.${i}${a}${o}`,e)};var B7e=F7e;let R7e=class{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};var D7e=R7e,JN,sV;function Ou(){if(sV)return JN;sV=1;const t=/\s+/g;class e{constructor(g,S){if(S=s(S),g instanceof e)return g.loose===!!S.loose&&g.includePrerelease===!!S.includePrerelease?g:new e(g.raw,S);if(g instanceof i)return this.raw=g.value,this.set=[[g]],this.formatted=void 0,this;if(this.options=S,this.loose=!!S.loose,this.includePrerelease=!!S.includePrerelease,this.raw=g.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(I=>!x(I[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&k(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let g=0;g<this.set.length;g++){g>0&&(this.formatted+="||");const S=this.set[g];for(let N=0;N<S.length;N++)N>0&&(this.formatted+=" "),this.formatted+=S[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(g){const N=((this.options.includePrerelease&&m)|(this.options.loose&&v))+":"+g,I=n.get(N);if(I)return I;const A=this.options.loose,y=A?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];g=g.replace(y,b(this.options.includePrerelease)),a("hyphen replace",g),g=g.replace(c[l.COMPARATORTRIM],u),a("comparator trim",g),g=g.replace(c[l.TILDETRIM],f),a("tilde trim",g),g=g.replace(c[l.CARETTRIM],h),a("caret trim",g);let C=g.split(" ").map(U=>P(U,this.options)).join(" ").split(/\s+/).map(U=>O(U,this.options));A&&(C=C.filter(U=>(a("loose invalid filter",U,this.options),!!U.match(c[l.COMPARATORLOOSE])))),a("range list",C);const $=new Map,L=C.map(U=>new i(U,this.options));for(const U of L){if(x(U))return[U];$.set(U.value,U)}$.size>1&&$.has("")&&$.delete("");const Q=[...$.values()];return n.set(N,Q),Q}intersects(g,S){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>E(N,S)&&g.set.some(I=>E(I,S)&&N.every(A=>I.every(y=>A.intersects(y,S)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let S=0;S<this.set.length;S++)if(w(this.set[S],g,this.options))return!0;return!1}}JN=e;const r=D7e,n=new r,s=nB,i=XP(),a=qP,o=oo,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:h}=U4,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:v}=WP,x=p=>p.value==="<0.0.0-0",k=p=>p.value==="",E=(p,g)=>{let S=!0;const N=p.slice();let I=N.pop();for(;S&&N.length;)S=N.every(A=>I.intersects(A,g)),I=N.pop();return S},P=(p,g)=>(p=p.replace(c[l.BUILD],""),a("comp",p,g),p=D(p,g),a("caret",p),p=M(p,g),a("tildes",p),p=T(p,g),a("xrange",p),p=H(p,g),a("stars",p),p),_=p=>!p||p.toLowerCase()==="x"||p==="*",M=(p,g)=>p.trim().split(/\s+/).map(S=>B(S,g)).join(" "),B=(p,g)=>{const S=g.loose?c[l.TILDELOOSE]:c[l.TILDE];return p.replace(S,(N,I,A,y,C)=>{a("tilde",p,N,I,A,y,C);let $;return _(I)?$="":_(A)?$=`>=${I}.0.0 <${+I+1}.0.0-0`:_(y)?$=`>=${I}.${A}.0 <${I}.${+A+1}.0-0`:C?(a("replaceTilde pr",C),$=`>=${I}.${A}.${y}-${C} <${I}.${+A+1}.0-0`):$=`>=${I}.${A}.${y} <${I}.${+A+1}.0-0`,a("tilde return",$),$})},D=(p,g)=>p.trim().split(/\s+/).map(S=>j(S,g)).join(" "),j=(p,g)=>{a("caret",p,g);const S=g.loose?c[l.CARETLOOSE]:c[l.CARET],N=g.includePrerelease?"-0":"";return p.replace(S,(I,A,y,C,$)=>{a("caret",p,I,A,y,C,$);let L;return _(A)?L="":_(y)?L=`>=${A}.0.0${N} <${+A+1}.0.0-0`:_(C)?A==="0"?L=`>=${A}.${y}.0${N} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.0${N} <${+A+1}.0.0-0`:$?(a("replaceCaret pr",$),A==="0"?y==="0"?L=`>=${A}.${y}.${C}-${$} <${A}.${y}.${+C+1}-0`:L=`>=${A}.${y}.${C}-${$} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.${C}-${$} <${+A+1}.0.0-0`):(a("no pr"),A==="0"?y==="0"?L=`>=${A}.${y}.${C}${N} <${A}.${y}.${+C+1}-0`:L=`>=${A}.${y}.${C}${N} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.${C} <${+A+1}.0.0-0`),a("caret return",L),L})},T=(p,g)=>(a("replaceXRanges",p,g),p.split(/\s+/).map(S=>R(S,g)).join(" ")),R=(p,g)=>{p=p.trim();const S=g.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return p.replace(S,(N,I,A,y,C,$)=>{a("xRange",p,N,I,A,y,C,$);const L=_(A),Q=L||_(y),U=Q||_(C),J=U;return I==="="&&J&&(I=""),$=g.includePrerelease?"-0":"",L?I===">"||I==="<"?N="<0.0.0-0":N="*":I&&J?(Q&&(y=0),C=0,I===">"?(I=">=",Q?(A=+A+1,y=0,C=0):(y=+y+1,C=0)):I==="<="&&(I="<",Q?A=+A+1:y=+y+1),I==="<"&&($="-0"),N=`${I+A}.${y}.${C}${$}`):Q?N=`>=${A}.0.0${$} <${+A+1}.0.0-0`:U&&(N=`>=${A}.${y}.0${$} <${A}.${+y+1}.0-0`),a("xRange return",N),N})},H=(p,g)=>(a("replaceStars",p,g),p.trim().replace(c[l.STAR],"")),O=(p,g)=>(a("replaceGTE0",p,g),p.trim().replace(c[g.includePrerelease?l.GTE0PRE:l.GTE0],"")),b=p=>(g,S,N,I,A,y,C,$,L,Q,U,J)=>(_(N)?S="":_(I)?S=`>=${N}.0.0${p?"-0":""}`:_(A)?S=`>=${N}.${I}.0${p?"-0":""}`:y?S=`>=${S}`:S=`>=${S}${p?"-0":""}`,_(L)?$="":_(Q)?$=`<${+L+1}.0.0-0`:_(U)?$=`<${L}.${+Q+1}.0-0`:J?$=`<=${L}.${Q}.${U}-${J}`:p?$=`<${L}.${Q}.${+U+1}-0`:$=`<=${$}`,`${S} ${$}`.trim()),w=(p,g,S)=>{for(let N=0;N<p.length;N++)if(!p[N].test(g))return!1;if(g.prerelease.length&&!S.includePrerelease){for(let N=0;N<p.length;N++)if(a(p[N].semver),p[N].semver!==i.ANY&&p[N].semver.prerelease.length>0){const I=p[N].semver;if(I.major===g.major&&I.minor===g.minor&&I.patch===g.patch)return!0}return!1}return!0};return JN}var QN,iV;function XP(){if(iV)return QN;iV=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}QN=e;const r=nB,{safeRe:n,t:s}=U4,i=ose,a=qP,o=oo,c=Ou();return QN}const U7e=Ou(),z7e=(t,e,r)=>{try{e=new U7e(e,r)}catch{return!1}return e.test(t)};var ZP=z7e;const L7e=Ou(),V7e=(t,e)=>new L7e(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var H7e=V7e;const W7e=oo,q7e=Ou(),K7e=(t,e,r)=>{let n=null,s=null,i=null;try{i=new q7e(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new W7e(n,r))}),n};var X7e=K7e;const Z7e=oo,J7e=Ou(),Q7e=(t,e,r)=>{let n=null,s=null,i=null;try{i=new J7e(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new Z7e(n,r))}),n};var Y7e=Q7e;const YN=oo,G7e=Ou(),aV=KP,eAe=(t,e)=>{t=new G7e(t,e);let r=new YN("0.0.0");if(t.test(r)||(r=new YN("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(a=>{const o=new YN(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||aV(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||aV(r,i))&&(r=i)}return r&&t.test(r)?r:null};var tAe=eAe;const rAe=Ou(),nAe=(t,e)=>{try{return new rAe(t,e).range||"*"}catch{return null}};var sAe=nAe;const iAe=oo,cse=XP(),{ANY:aAe}=cse,oAe=Ou(),cAe=ZP,oV=KP,cV=iB,lAe=oB,uAe=aB,dAe=(t,e,r,n)=>{t=new iAe(t,n),e=new oAe(e,n);let s,i,a,o,c;switch(r){case">":s=oV,i=lAe,a=cV,o=">",c=">=";break;case"<":s=cV,i=uAe,a=oV,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cAe(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(m=>{m.semver===aAe&&(m=new cse(">=0.0.0")),f=f||m,h=h||m,s(m.semver,f.semver,n)?f=m:a(m.semver,h.semver,n)&&(h=m)}),f.operator===o||f.operator===c||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0};var cB=dAe;const fAe=cB,hAe=(t,e,r)=>fAe(t,e,">",r);var pAe=hAe;const mAe=cB,gAe=(t,e,r)=>mAe(t,e,"<",r);var bAe=gAe;const lV=Ou(),yAe=(t,e,r)=>(t=new lV(t,r),e=new lV(e,r),t.intersects(e,r));var vAe=yAe;const xAe=ZP,wAe=Mu;var AAe=(t,e,r)=>{const n=[];let s=null,i=null;const a=t.sort((u,f)=>wAe(u,f,r));for(const u of a)xAe(u,e,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const o=[];for(const[u,f]of n)u===f?o.push(u):!f&&u===a[0]?o.push("*"):f?u===a[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const uV=Ou(),lB=XP(),{ANY:GN}=lB,K2=ZP,uB=Mu,SAe=(t,e,r={})=>{if(t===e)return!0;t=new uV(t,r),e=new uV(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const a=kAe(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},PAe=[new lB(">=0.0.0-0")],dV=[new lB(">=0.0.0")],kAe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===GN){if(e.length===1&&e[0].semver===GN)return!0;r.includePrerelease?t=PAe:t=dV}if(e.length===1&&e[0].semver===GN){if(r.includePrerelease)return!0;e=dV}const n=new Set;let s,i;for(const m of t)m.operator===">"||m.operator===">="?s=fV(s,m,r):m.operator==="<"||m.operator==="<="?i=hV(i,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(s&&i){if(a=uB(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!K2(m,String(s),r)||i&&!K2(m,String(i),r))return null;for(const v of e)if(!K2(m,String(v),r))return!1;return!0}let o,c,l,u,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of e){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(o=fV(s,m,r),o===m&&o!==s)return!1}else if(s.operator===">="&&!K2(s.semver,String(m),r))return!1}if(i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=hV(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!K2(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&a!==0)return!1}return!(s&&l&&!i&&a!==0||i&&u&&!s&&a!==0||h||f)},fV=(t,e,r)=>{if(!t)return e;const n=uB(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},hV=(t,e,r)=>{if(!t)return e;const n=uB(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var IAe=SAe;const eE=U4,pV=WP,NAe=oo,mV=sse,EAe=t2,_Ae=O9e,CAe=R9e,TAe=U9e,jAe=L9e,$Ae=W9e,MAe=X9e,OAe=Q9e,FAe=e7e,BAe=Mu,RAe=s7e,DAe=o7e,UAe=sB,zAe=d7e,LAe=p7e,VAe=KP,HAe=iB,WAe=ise,qAe=ase,KAe=aB,XAe=oB,ZAe=ose,JAe=B7e,QAe=XP(),YAe=Ou(),GAe=ZP,eSe=H7e,tSe=X7e,rSe=Y7e,nSe=tAe,sSe=sAe,iSe=cB,aSe=pAe,oSe=bAe,cSe=vAe,lSe=AAe,uSe=IAe;var dSe={parse:EAe,valid:_Ae,clean:CAe,inc:TAe,diff:jAe,major:$Ae,minor:MAe,patch:OAe,prerelease:FAe,compare:BAe,rcompare:RAe,compareLoose:DAe,compareBuild:UAe,sort:zAe,rsort:LAe,gt:VAe,lt:HAe,eq:WAe,neq:qAe,gte:KAe,lte:XAe,cmp:ZAe,coerce:JAe,Comparator:QAe,Range:YAe,satisfies:GAe,toComparators:eSe,maxSatisfying:tSe,minSatisfying:rSe,minVersion:nSe,validRange:sSe,outside:iSe,gtr:aSe,ltr:oSe,intersects:cSe,simplifyRange:lSe,subset:uSe,SemVer:NAe,re:eE.re,src:eE.src,tokens:eE.t,SEMVER_SPEC_VERSION:pV.SEMVER_SPEC_VERSION,RELEASE_TYPES:pV.RELEASE_TYPES,compareIdentifiers:mV.compareIdentifiers,rcompareIdentifiers:mV.rcompareIdentifiers};const gV=Ua(dSe);var vs;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax",t.europa="europa",t.apex="apex"})(vs||(vs={}));const aj={[vs.blue]:{id:vs.blue,productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:t=>4*1024},[vs.nanoS]:{id:vs.nanoS,productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:t=>gV.lt(gV.coerce(t)??"","2.0.0")?4*1024:2*1024},[vs.nanoX]:{id:vs.nanoX,productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:t=>4*1024,bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},[vs.nanoSP]:{id:vs.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1533*1024,masks:[856686592],getBlockSize:t=>32},[vs.apex]:{id:vs.apex,productName:"LedgerNanoGen5",productIdMM:128,legacyUsbProductId:8,usbOnly:!1,memorySize:1533*1024,masks:[859832320],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-8004-0000-4c6564676572",notifyUuid:"13d63400-2c97-8004-0001-4c6564676572",writeUuid:"13d63400-2c97-8004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-8004-0003-4c6564676572"}]},[vs.stax]:{id:vs.stax,productName:"LedgerStax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1533*1024,masks:[857735168],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},[vs.europa]:{id:vs.europa,productName:"LedgerFlex",productIdMM:112,legacyUsbProductId:7,usbOnly:!1,memorySize:1533*1024,masks:[858783744],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-3004-0000-4c6564676572",notifyUuid:"13d63400-2c97-3004-0001-4c6564676572",writeUuid:"13d63400-2c97-3004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-3004-0003-4c6564676572"}]}};vs.blue,vs.nanoS,vs.nanoSP,vs.nanoX,vs.stax,vs.europa;const bV=Object.values(aj),lse=11415,yV=t=>{const e=bV.find(s=>s.legacyUsbProductId===t);if(e)return e;const r=t>>8;return bV.find(s=>s.productIdMM===r)},fSe=[],vV={};for(const t in aj){const e=aj[t],{bluetoothSpec:r}=e;if(r)for(let n=0;n<r.length;n++){const s=r[n];fSe.push(s.serviceUuid),vV[s.serviceUuid]=vV[s.serviceUuid.replace(/-/g,"")]={deviceModel:e,...s}}}const hSe=[{vendorId:lse}],pSe=()=>Promise.resolve(!!(window.navigator&&window.navigator.hid)),NA=()=>{const{hid:t}=navigator;if(!t)throw new Ed("navigator.hid is not supported","HIDNotSupported");return t};async function use(){const t=await NA().requestDevice({filters:hSe});return Array.isArray(t)?t:[t]}async function oj(){return(await NA().getDevices()).filter(e=>e.vendorId===lse)}async function mSe(){const t=await oj();return t.length>0?t[0]:(await use())[0]}const B0=class B0 extends Fm{constructor(r){super();ve(this,"device");ve(this,"deviceModel");ve(this,"channel",Math.floor(Math.random()*65535));ve(this,"packetSize",64);ve(this,"inputs",[]);ve(this,"inputCallback");ve(this,"read",()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(r=>{this.inputCallback=r}));ve(this,"onInputReport",r=>{const n=Buffer.from(r.data.buffer);this.inputCallback?(this.inputCallback(n),this.inputCallback=null):this.inputs.push(n)});ve(this,"_disconnectEmitted",!1);ve(this,"_emitDisconnect",r=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",r))});ve(this,"exchange",async r=>await this.exchangeAtomicImpl(async()=>{const{channel:s,packetSize:i}=this;Xs("apdu","=> "+r.toString("hex"));const a=v9e(s,i),o=a.makeBlocks(r);for(let u=0;u<o.length;u++)await this.device.sendReport(0,o[u]);let c,l;for(;!(c=a.getReducedResult(l));)try{const u=await this.read();l=a.reduceResponse(l,u)}catch(u){if(u instanceof Ed&&u.id==="InvalidChannel")continue;throw u}return Xs("apdu","<= "+c.toString("hex")),c}).catch(s=>{throw s&&s.message&&s.message.includes("write")?(this._emitDisconnect(s),new d9e(s.message)):s}));this.device=r,this.deviceModel=typeof r.productId=="number"?yV(r.productId):void 0,r.addEventListener("inputreport",this.onInputReport)}static async request(){const[r]=await use();return B0.open(r)}static async openConnected(){const r=await oj();return r.length===0?null:B0.open(r[0])}static async open(r){await r.open();const n=new B0(r),s=i=>{r===i.device&&(NA().removeEventListener("disconnect",s),n._emitDisconnect(new u9e))};return NA().addEventListener("disconnect",s),n}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}};ve(B0,"isSupported",pSe),ve(B0,"list",oj),ve(B0,"listen",r=>{let n=!1;mSe().then(i=>{if(!i)r.error(new XL("Access denied to use Ledger device"));else if(!n){const a=typeof i.productId=="number"?yV(i.productId):void 0;r.next({type:"add",descriptor:i,deviceModel:a}),r.complete()}},i=>{r.error(new XL(i.message))});function s(){n=!0}return{unsubscribe:s}});let cj=B0;var gSe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,tE=Math.ceil,Hc=Math.floor,go="[BigNumber Error] ",xV=go+"Number primitive has more than 15 significant digits: ",Fl=1e14,br=14,rE=9007199254740991,nE=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Yh=1e7,ti=1e9;function dse(t){var e,r,n,s=P.prototype={constructor:P,toString:null,valueOf:null},i=new P(1),a=20,o=4,c=-7,l=21,u=-1e7,f=1e7,h=!1,m=1,v=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function P(T,R){var H,O,b,w,p,g,S,N,I=this;if(!(I instanceof P))return new P(T,R);if(R==null){if(T&&T._isBigNumber===!0){I.s=T.s,!T.c||T.e>f?I.c=I.e=null:T.e<u?I.c=[I.e=0]:(I.e=T.e,I.c=T.c.slice());return}if((g=typeof T=="number")&&T*0==0){if(I.s=1/T<0?(T=-T,-1):1,T===~~T){for(w=0,p=T;p>=10;p/=10,w++);w>f?I.c=I.e=null:(I.e=w,I.c=[T]);return}N=String(T)}else{if(!gSe.test(N=String(T)))return n(I,N,g);I.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}(w=N.indexOf("."))>-1&&(N=N.replace(".","")),(p=N.search(/e/i))>0?(w<0&&(w=p),w+=+N.slice(p+1),N=N.substring(0,p)):w<0&&(w=N.length)}else{if(ns(R,2,k.length,"Base"),R==10&&E)return I=new P(T),D(I,a+I.e+1,o);if(N=String(T),g=typeof T=="number"){if(T*0!=0)return n(I,N,g,R);if(I.s=1/T<0?(N=N.slice(1),-1):1,P.DEBUG&&N.replace(/^0\.0*|\./,"").length>15)throw Error(xV+T)}else I.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(H=k.slice(0,R),w=p=0,S=N.length;p<S;p++)if(H.indexOf(O=N.charAt(p))<0){if(O=="."){if(p>w){w=S;continue}}else if(!b&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){b=!0,p=-1,w=0;continue}return n(I,String(T),g,R)}g=!1,N=r(N,R,10,I.s),(w=N.indexOf("."))>-1?N=N.replace(".",""):w=N.length}for(p=0;N.charCodeAt(p)===48;p++);for(S=N.length;N.charCodeAt(--S)===48;);if(N=N.slice(p,++S)){if(S-=p,g&&P.DEBUG&&S>15&&(T>rE||T!==Hc(T)))throw Error(xV+I.s*T);if((w=w-p-1)>f)I.c=I.e=null;else if(w<u)I.c=[I.e=0];else{if(I.e=w,I.c=[],p=(w+1)%br,w<0&&(p+=br),p<S){for(p&&I.c.push(+N.slice(0,p)),S-=br;p<S;)I.c.push(+N.slice(p,p+=br));p=br-(N=N.slice(p)).length}else p-=S;for(;p--;N+="0");I.c.push(+N)}}else I.c=[I.e=0]}P.clone=dse,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(T){var R,H;if(T!=null)if(typeof T=="object"){if(T.hasOwnProperty(R="DECIMAL_PLACES")&&(H=T[R],ns(H,0,ti,R),a=H),T.hasOwnProperty(R="ROUNDING_MODE")&&(H=T[R],ns(H,0,8,R),o=H),T.hasOwnProperty(R="EXPONENTIAL_AT")&&(H=T[R],H&&H.pop?(ns(H[0],-ti,0,R),ns(H[1],0,ti,R),c=H[0],l=H[1]):(ns(H,-ti,ti,R),c=-(l=H<0?-H:H))),T.hasOwnProperty(R="RANGE"))if(H=T[R],H&&H.pop)ns(H[0],-ti,-1,R),ns(H[1],1,ti,R),u=H[0],f=H[1];else if(ns(H,-ti,ti,R),H)u=-(f=H<0?-H:H);else throw Error(go+R+" cannot be zero: "+H);if(T.hasOwnProperty(R="CRYPTO"))if(H=T[R],H===!!H)if(H)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=H;else throw h=!H,Error(go+"crypto unavailable");else h=H;else throw Error(go+R+" not true or false: "+H);if(T.hasOwnProperty(R="MODULO_MODE")&&(H=T[R],ns(H,0,9,R),m=H),T.hasOwnProperty(R="POW_PRECISION")&&(H=T[R],ns(H,0,ti,R),v=H),T.hasOwnProperty(R="FORMAT"))if(H=T[R],typeof H=="object")x=H;else throw Error(go+R+" not an object: "+H);if(T.hasOwnProperty(R="ALPHABET"))if(H=T[R],typeof H=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(H))E=H.slice(0,10)=="0123456789",k=H;else throw Error(go+R+" invalid: "+H)}else throw Error(go+"Object expected: "+T);return{DECIMAL_PLACES:a,ROUNDING_MODE:o,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:h,MODULO_MODE:m,POW_PRECISION:v,FORMAT:x,ALPHABET:k}},P.isBigNumber=function(T){if(!T||T._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var R,H,O=T.c,b=T.e,w=T.s;e:if({}.toString.call(O)=="[object Array]"){if((w===1||w===-1)&&b>=-ti&&b<=ti&&b===Hc(b)){if(O[0]===0){if(b===0&&O.length===1)return!0;break e}if(R=(b+1)%br,R<1&&(R+=br),String(O[0]).length==R){for(R=0;R<O.length;R++)if(H=O[R],H<0||H>=Fl||H!==Hc(H))break e;if(H!==0)return!0}}}else if(O===null&&b===null&&(w===null||w===1||w===-1))return!0;throw Error(go+"Invalid BigNumber: "+T)},P.maximum=P.max=function(){return M(arguments,-1)},P.minimum=P.min=function(){return M(arguments,1)},P.random=function(){var T=9007199254740992,R=Math.random()*T&2097151?function(){return Hc(Math.random()*T)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(H){var O,b,w,p,g,S=0,N=[],I=new P(i);if(H==null?H=a:ns(H,0,ti),p=tE(H/br),h)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(p*=2));S<p;)g=O[S]*131072+(O[S+1]>>>11),g>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),O[S]=b[0],O[S+1]=b[1]):(N.push(g%1e14),S+=2);S=p/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(p*=7);S<p;)g=(O[S]&31)*281474976710656+O[S+1]*1099511627776+O[S+2]*4294967296+O[S+3]*16777216+(O[S+4]<<16)+(O[S+5]<<8)+O[S+6],g>=9e15?crypto.randomBytes(7).copy(O,S):(N.push(g%1e14),S+=7);S=p/7}else throw h=!1,Error(go+"crypto unavailable");if(!h)for(;S<p;)g=R(),g<9e15&&(N[S++]=g%1e14);for(p=N[--S],H%=br,p&&H&&(g=nE[br-H],N[S]=Hc(p/g)*g);N[S]===0;N.pop(),S--);if(S<0)N=[w=0];else{for(w=-1;N[0]===0;N.splice(0,1),w-=br);for(S=1,g=N[0];g>=10;g/=10,S++);S<br&&(w-=br-S)}return I.e=w,I.c=N,I}}(),P.sum=function(){for(var T=1,R=arguments,H=new P(R[0]);T<R.length;)H=H.plus(R[T++]);return H},r=function(){var T="0123456789";function R(H,O,b,w){for(var p,g=[0],S,N=0,I=H.length;N<I;){for(S=g.length;S--;g[S]*=O);for(g[0]+=w.indexOf(H.charAt(N++)),p=0;p<g.length;p++)g[p]>b-1&&(g[p+1]==null&&(g[p+1]=0),g[p+1]+=g[p]/b|0,g[p]%=b)}return g.reverse()}return function(H,O,b,w,p){var g,S,N,I,A,y,C,$,L=H.indexOf("."),Q=a,U=o;for(L>=0&&(I=v,v=0,H=H.replace(".",""),$=new P(O),y=$.pow(H.length-L),v=I,$.c=R(yf(Mc(y.c),y.e,"0"),10,b,T),$.e=$.c.length),C=R(H,O,b,p?(g=k,T):(g=T,k)),N=I=C.length;C[--I]==0;C.pop());if(!C[0])return g.charAt(0);if(L<0?--N:(y.c=C,y.e=N,y.s=w,y=e(y,$,Q,U,b),C=y.c,A=y.r,N=y.e),S=N+Q+1,L=C[S],I=b/2,A=A||S<0||C[S+1]!=null,A=U<4?(L!=null||A)&&(U==0||U==(y.s<0?3:2)):L>I||L==I&&(U==4||A||U==6&&C[S-1]&1||U==(y.s<0?8:7)),S<1||!C[0])H=A?yf(g.charAt(1),-Q,g.charAt(0)):g.charAt(0);else{if(C.length=S,A)for(--b;++C[--S]>b;)C[S]=0,S||(++N,C=[1].concat(C));for(I=C.length;!C[--I];);for(L=0,H="";L<=I;H+=g.charAt(C[L++]));H=yf(H,N,g.charAt(0))}return H}}(),e=function(){function T(O,b,w){var p,g,S,N,I=0,A=O.length,y=b%Yh,C=b/Yh|0;for(O=O.slice();A--;)S=O[A]%Yh,N=O[A]/Yh|0,p=C*S+N*y,g=y*S+p%Yh*Yh+I,I=(g/w|0)+(p/Yh|0)+C*N,O[A]=g%w;return I&&(O=[I].concat(O)),O}function R(O,b,w,p){var g,S;if(w!=p)S=w>p?1:-1;else for(g=S=0;g<w;g++)if(O[g]!=b[g]){S=O[g]>b[g]?1:-1;break}return S}function H(O,b,w,p){for(var g=0;w--;)O[w]-=g,g=O[w]<b[w]?1:0,O[w]=g*p+O[w]-b[w];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,b,w,p,g){var S,N,I,A,y,C,$,L,Q,U,J,Z,re,G,z,se,ce,pe=O.s==b.s?1:-1,Ce=O.c,ke=b.c;if(!Ce||!Ce[0]||!ke||!ke[0])return new P(!O.s||!b.s||(Ce?ke&&Ce[0]==ke[0]:!ke)?NaN:Ce&&Ce[0]==0||!ke?pe*0:pe/0);for(L=new P(pe),Q=L.c=[],N=O.e-b.e,pe=w+N+1,g||(g=Fl,N=Wc(O.e/br)-Wc(b.e/br),pe=pe/br|0),I=0;ke[I]==(Ce[I]||0);I++);if(ke[I]>(Ce[I]||0)&&N--,pe<0)Q.push(1),A=!0;else{for(G=Ce.length,se=ke.length,I=0,pe+=2,y=Hc(g/(ke[0]+1)),y>1&&(ke=T(ke,y,g),Ce=T(Ce,y,g),se=ke.length,G=Ce.length),re=se,U=Ce.slice(0,se),J=U.length;J<se;U[J++]=0);ce=ke.slice(),ce=[0].concat(ce),z=ke[0],ke[1]>=g/2&&z++;do{if(y=0,S=R(ke,U,se,J),S<0){if(Z=U[0],se!=J&&(Z=Z*g+(U[1]||0)),y=Hc(Z/z),y>1)for(y>=g&&(y=g-1),C=T(ke,y,g),$=C.length,J=U.length;R(C,U,$,J)==1;)y--,H(C,se<$?ce:ke,$,g),$=C.length,S=1;else y==0&&(S=y=1),C=ke.slice(),$=C.length;if($<J&&(C=[0].concat(C)),H(U,C,J,g),J=U.length,S==-1)for(;R(ke,U,se,J)<1;)y++,H(U,se<J?ce:ke,J,g),J=U.length}else S===0&&(y++,U=[0]);Q[I++]=y,U[0]?U[J++]=Ce[re]||0:(U=[Ce[re]],J=1)}while((re++<G||U[0]!=null)&&pe--);A=U[0]!=null,Q[0]||Q.splice(0,1)}if(g==Fl){for(I=1,pe=Q[0];pe>=10;pe/=10,I++);D(L,w+(L.e=I+N*br-1)+1,p,A)}else L.e=N,L.r=+A;return L}}();function _(T,R,H,O){var b,w,p,g,S;if(H==null?H=o:ns(H,0,8),!T.c)return T.toString();if(b=T.c[0],p=T.e,R==null)S=Mc(T.c),S=O==1||O==2&&(p<=c||p>=l)?w8(S,p):yf(S,p,"0");else if(T=D(new P(T),R,H),w=T.e,S=Mc(T.c),g=S.length,O==1||O==2&&(R<=w||w<=c)){for(;g<R;S+="0",g++);S=w8(S,w)}else if(R-=p+(O===2&&w>p),S=yf(S,w,"0"),w+1>g){if(--R>0)for(S+=".";R--;S+="0");}else if(R+=w-g,R>0)for(w+1==g&&(S+=".");R--;S+="0");return T.s<0&&b?"-"+S:S}function M(T,R){for(var H,O,b=1,w=new P(T[0]);b<T.length;b++)O=new P(T[b]),(!O.s||(H=wm(w,O))===R||H===0&&w.s===R)&&(w=O);return w}function B(T,R,H){for(var O=1,b=R.length;!R[--b];R.pop());for(b=R[0];b>=10;b/=10,O++);return(H=O+H*br-1)>f?T.c=T.e=null:H<u?T.c=[T.e=0]:(T.e=H,T.c=R),T}n=function(){var T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,H=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(w,p,g,S){var N,I=g?p:p.replace(b,"");if(O.test(I))w.s=isNaN(I)?null:I<0?-1:1;else{if(!g&&(I=I.replace(T,function(A,y,C){return N=(C=C.toLowerCase())=="x"?16:C=="b"?2:8,!S||S==N?y:A}),S&&(N=S,I=I.replace(R,"$1").replace(H,"0.$1")),p!=I))return new P(I,N);if(P.DEBUG)throw Error(go+"Not a"+(S?" base "+S:"")+" number: "+p);w.s=null}w.c=w.e=null}}();function D(T,R,H,O){var b,w,p,g,S,N,I,A=T.c,y=nE;if(A){e:{for(b=1,g=A[0];g>=10;g/=10,b++);if(w=R-b,w<0)w+=br,p=R,S=A[N=0],I=Hc(S/y[b-p-1]%10);else if(N=tE((w+1)/br),N>=A.length)if(O){for(;A.length<=N;A.push(0));S=I=0,b=1,w%=br,p=w-br+1}else break e;else{for(S=g=A[N],b=1;g>=10;g/=10,b++);w%=br,p=w-br+b,I=p<0?0:Hc(S/y[b-p-1]%10)}if(O=O||R<0||A[N+1]!=null||(p<0?S:S%y[b-p-1]),O=H<4?(I||O)&&(H==0||H==(T.s<0?3:2)):I>5||I==5&&(H==4||O||H==6&&(w>0?p>0?S/y[b-p]:0:A[N-1])%10&1||H==(T.s<0?8:7)),R<1||!A[0])return A.length=0,O?(R-=T.e+1,A[0]=y[(br-R%br)%br],T.e=-R||0):A[0]=T.e=0,T;if(w==0?(A.length=N,g=1,N--):(A.length=N+1,g=y[br-w],A[N]=p>0?Hc(S/y[b-p]%y[p])*g:0),O)for(;;)if(N==0){for(w=1,p=A[0];p>=10;p/=10,w++);for(p=A[0]+=g,g=1;p>=10;p/=10,g++);w!=g&&(T.e++,A[0]==Fl&&(A[0]=1));break}else{if(A[N]+=g,A[N]!=Fl)break;A[N--]=0,g=1}for(w=A.length;A[--w]===0;A.pop());}T.e>f?T.c=T.e=null:T.e<u&&(T.c=[T.e=0])}return T}function j(T){var R,H=T.e;return H===null?T.toString():(R=Mc(T.c),R=H<=c||H>=l?w8(R,H):yf(R,H,"0"),T.s<0?"-"+R:R)}return s.absoluteValue=s.abs=function(){var T=new P(this);return T.s<0&&(T.s=1),T},s.comparedTo=function(T,R){return wm(this,new P(T,R))},s.decimalPlaces=s.dp=function(T,R){var H,O,b,w=this;if(T!=null)return ns(T,0,ti),R==null?R=o:ns(R,0,8),D(new P(w),T+w.e+1,R);if(!(H=w.c))return null;if(O=((b=H.length-1)-Wc(this.e/br))*br,b=H[b])for(;b%10==0;b/=10,O--);return O<0&&(O=0),O},s.dividedBy=s.div=function(T,R){return e(this,new P(T,R),a,o)},s.dividedToIntegerBy=s.idiv=function(T,R){return e(this,new P(T,R),0,1)},s.exponentiatedBy=s.pow=function(T,R){var H,O,b,w,p,g,S,N,I,A=this;if(T=new P(T),T.c&&!T.isInteger())throw Error(go+"Exponent not an integer: "+j(T));if(R!=null&&(R=new P(R)),g=T.e>14,!A.c||!A.c[0]||A.c[0]==1&&!A.e&&A.c.length==1||!T.c||!T.c[0])return I=new P(Math.pow(+j(A),g?T.s*(2-x8(T)):+j(T))),R?I.mod(R):I;if(S=T.s<0,R){if(R.c?!R.c[0]:!R.s)return new P(NaN);O=!S&&A.isInteger()&&R.isInteger(),O&&(A=A.mod(R))}else{if(T.e>9&&(A.e>0||A.e<-1||(A.e==0?A.c[0]>1||g&&A.c[1]>=24e7:A.c[0]<8e13||g&&A.c[0]<=9999975e7)))return w=A.s<0&&x8(T)?-0:0,A.e>-1&&(w=1/w),new P(S?1/w:w);v&&(w=tE(v/br+2))}for(g?(H=new P(.5),S&&(T.s=1),N=x8(T)):(b=Math.abs(+j(T)),N=b%2),I=new P(i);;){if(N){if(I=I.times(A),!I.c)break;w?I.c.length>w&&(I.c.length=w):O&&(I=I.mod(R))}if(b){if(b=Hc(b/2),b===0)break;N=b%2}else if(T=T.times(H),D(T,T.e+1,1),T.e>14)N=x8(T);else{if(b=+j(T),b===0)break;N=b%2}A=A.times(A),w?A.c&&A.c.length>w&&(A.c.length=w):O&&(A=A.mod(R))}return O?I:(S&&(I=i.div(I)),R?I.mod(R):w?D(I,v,o,p):I)},s.integerValue=function(T){var R=new P(this);return T==null?T=o:ns(T,0,8),D(R,R.e+1,T)},s.isEqualTo=s.eq=function(T,R){return wm(this,new P(T,R))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(T,R){return wm(this,new P(T,R))>0},s.isGreaterThanOrEqualTo=s.gte=function(T,R){return(R=wm(this,new P(T,R)))===1||R===0},s.isInteger=function(){return!!this.c&&Wc(this.e/br)>this.c.length-2},s.isLessThan=s.lt=function(T,R){return wm(this,new P(T,R))<0},s.isLessThanOrEqualTo=s.lte=function(T,R){return(R=wm(this,new P(T,R)))===-1||R===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(T,R){var H,O,b,w,p=this,g=p.s;if(T=new P(T,R),R=T.s,!g||!R)return new P(NaN);if(g!=R)return T.s=-R,p.plus(T);var S=p.e/br,N=T.e/br,I=p.c,A=T.c;if(!S||!N){if(!I||!A)return I?(T.s=-R,T):new P(A?p:NaN);if(!I[0]||!A[0])return A[0]?(T.s=-R,T):new P(I[0]?p:o==3?-0:0)}if(S=Wc(S),N=Wc(N),I=I.slice(),g=S-N){for((w=g<0)?(g=-g,b=I):(N=S,b=A),b.reverse(),R=g;R--;b.push(0));b.reverse()}else for(O=(w=(g=I.length)<(R=A.length))?g:R,g=R=0;R<O;R++)if(I[R]!=A[R]){w=I[R]<A[R];break}if(w&&(b=I,I=A,A=b,T.s=-T.s),R=(O=A.length)-(H=I.length),R>0)for(;R--;I[H++]=0);for(R=Fl-1;O>g;){if(I[--O]<A[O]){for(H=O;H&&!I[--H];I[H]=R);--I[H],I[O]+=Fl}I[O]-=A[O]}for(;I[0]==0;I.splice(0,1),--N);return I[0]?B(T,I,N):(T.s=o==3?-1:1,T.c=[T.e=0],T)},s.modulo=s.mod=function(T,R){var H,O,b=this;return T=new P(T,R),!b.c||!T.s||T.c&&!T.c[0]?new P(NaN):!T.c||b.c&&!b.c[0]?new P(b):(m==9?(O=T.s,T.s=1,H=e(b,T,0,3),T.s=O,H.s*=O):H=e(b,T,0,m),T=b.minus(H.times(T)),!T.c[0]&&m==1&&(T.s=b.s),T)},s.multipliedBy=s.times=function(T,R){var H,O,b,w,p,g,S,N,I,A,y,C,$,L,Q,U=this,J=U.c,Z=(T=new P(T,R)).c;if(!J||!Z||!J[0]||!Z[0])return!U.s||!T.s||J&&!J[0]&&!Z||Z&&!Z[0]&&!J?T.c=T.e=T.s=null:(T.s*=U.s,!J||!Z?T.c=T.e=null:(T.c=[0],T.e=0)),T;for(O=Wc(U.e/br)+Wc(T.e/br),T.s*=U.s,S=J.length,A=Z.length,S<A&&($=J,J=Z,Z=$,b=S,S=A,A=b),b=S+A,$=[];b--;$.push(0));for(L=Fl,Q=Yh,b=A;--b>=0;){for(H=0,y=Z[b]%Q,C=Z[b]/Q|0,p=S,w=b+p;w>b;)N=J[--p]%Q,I=J[p]/Q|0,g=C*N+I*y,N=y*N+g%Q*Q+$[w]+H,H=(N/L|0)+(g/Q|0)+C*I,$[w--]=N%L;$[w]=H}return H?++O:$.splice(0,1),B(T,$,O)},s.negated=function(){var T=new P(this);return T.s=-T.s||null,T},s.plus=function(T,R){var H,O=this,b=O.s;if(T=new P(T,R),R=T.s,!b||!R)return new P(NaN);if(b!=R)return T.s=-R,O.minus(T);var w=O.e/br,p=T.e/br,g=O.c,S=T.c;if(!w||!p){if(!g||!S)return new P(b/0);if(!g[0]||!S[0])return S[0]?T:new P(g[0]?O:b*0)}if(w=Wc(w),p=Wc(p),g=g.slice(),b=w-p){for(b>0?(p=w,H=S):(b=-b,H=g),H.reverse();b--;H.push(0));H.reverse()}for(b=g.length,R=S.length,b-R<0&&(H=S,S=g,g=H,R=b),b=0;R;)b=(g[--R]=g[R]+S[R]+b)/Fl|0,g[R]=Fl===g[R]?0:g[R]%Fl;return b&&(g=[b].concat(g),++p),B(T,g,p)},s.precision=s.sd=function(T,R){var H,O,b,w=this;if(T!=null&&T!==!!T)return ns(T,1,ti),R==null?R=o:ns(R,0,8),D(new P(w),T,R);if(!(H=w.c))return null;if(b=H.length-1,O=b*br+1,b=H[b]){for(;b%10==0;b/=10,O--);for(b=H[0];b>=10;b/=10,O++);}return T&&w.e+1>O&&(O=w.e+1),O},s.shiftedBy=function(T){return ns(T,-rE,rE),this.times("1e"+T)},s.squareRoot=s.sqrt=function(){var T,R,H,O,b,w=this,p=w.c,g=w.s,S=w.e,N=a+4,I=new P("0.5");if(g!==1||!p||!p[0])return new P(!g||g<0&&(!p||p[0])?NaN:p?w:1/0);if(g=Math.sqrt(+j(w)),g==0||g==1/0?(R=Mc(p),(R.length+S)%2==0&&(R+="0"),g=Math.sqrt(+R),S=Wc((S+1)/2)-(S<0||S%2),g==1/0?R="5e"+S:(R=g.toExponential(),R=R.slice(0,R.indexOf("e")+1)+S),H=new P(R)):H=new P(g+""),H.c[0]){for(S=H.e,g=S+N,g<3&&(g=0);;)if(b=H,H=I.times(b.plus(e(w,b,N,1))),Mc(b.c).slice(0,g)===(R=Mc(H.c)).slice(0,g))if(H.e<S&&--g,R=R.slice(g-3,g+1),R=="9999"||!O&&R=="4999"){if(!O&&(D(b,b.e+a+2,0),b.times(b).eq(w))){H=b;break}N+=4,g+=4,O=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(D(H,H.e+a+2,1),T=!H.times(H).eq(w));break}}return D(H,H.e+a+1,o,T)},s.toExponential=function(T,R){return T!=null&&(ns(T,0,ti),T++),_(this,T,R,1)},s.toFixed=function(T,R){return T!=null&&(ns(T,0,ti),T=T+this.e+1),_(this,T,R)},s.toFormat=function(T,R,H){var O,b=this;if(H==null)T!=null&&R&&typeof R=="object"?(H=R,R=null):T&&typeof T=="object"?(H=T,T=R=null):H=x;else if(typeof H!="object")throw Error(go+"Argument not an object: "+H);if(O=b.toFixed(T,R),b.c){var w,p=O.split("."),g=+H.groupSize,S=+H.secondaryGroupSize,N=H.groupSeparator||"",I=p[0],A=p[1],y=b.s<0,C=y?I.slice(1):I,$=C.length;if(S&&(w=g,g=S,S=w,$-=w),g>0&&$>0){for(w=$%g||g,I=C.substr(0,w);w<$;w+=g)I+=N+C.substr(w,g);S>0&&(I+=N+C.slice(w)),y&&(I="-"+I)}O=A?I+(H.decimalSeparator||"")+((S=+H.fractionGroupSize)?A.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(H.fractionGroupSeparator||"")):A):I}return(H.prefix||"")+O+(H.suffix||"")},s.toFraction=function(T){var R,H,O,b,w,p,g,S,N,I,A,y,C=this,$=C.c;if(T!=null&&(g=new P(T),!g.isInteger()&&(g.c||g.s!==1)||g.lt(i)))throw Error(go+"Argument "+(g.isInteger()?"out of range: ":"not an integer: ")+j(g));if(!$)return new P(C);for(R=new P(i),N=H=new P(i),O=S=new P(i),y=Mc($),w=R.e=y.length-C.e-1,R.c[0]=nE[(p=w%br)<0?br+p:p],T=!T||g.comparedTo(R)>0?w>0?R:N:g,p=f,f=1/0,g=new P(y),S.c[0]=0;I=e(g,R,0,1),b=H.plus(I.times(O)),b.comparedTo(T)!=1;)H=O,O=b,N=S.plus(I.times(b=N)),S=b,R=g.minus(I.times(b=R)),g=b;return b=e(T.minus(H),O,0,1),S=S.plus(b.times(N)),H=H.plus(b.times(O)),S.s=N.s=C.s,w=w*2,A=e(N,O,w,o).minus(C).abs().comparedTo(e(S,H,w,o).minus(C).abs())<1?[N,O]:[S,H],f=p,A},s.toNumber=function(){return+j(this)},s.toPrecision=function(T,R){return T!=null&&ns(T,1,ti),_(this,T,R,2)},s.toString=function(T){var R,H=this,O=H.s,b=H.e;return b===null?O?(R="Infinity",O<0&&(R="-"+R)):R="NaN":(T==null?R=b<=c||b>=l?w8(Mc(H.c),b):yf(Mc(H.c),b,"0"):T===10&&E?(H=D(new P(H),a+b+1,o),R=yf(Mc(H.c),H.e,"0")):(ns(T,2,k.length,"Base"),R=r(yf(Mc(H.c),b,"0"),10,T,O,!0)),O<0&&H.c[0]&&(R="-"+R)),R},s.valueOf=s.toJSON=function(){return j(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&P.set(t),P}function Wc(t){var e=t|0;return t>0||t===e?e:e-1}function Mc(t){for(var e,r,n=1,s=t.length,i=t[0]+"";n<s;){for(e=t[n++]+"",r=br-e.length;r--;e="0"+e);i+=e}for(s=i.length;i.charCodeAt(--s)===48;);return i.slice(0,s+1||1)}function wm(t,e){var r,n,s=t.c,i=e.c,a=t.s,o=e.s,c=t.e,l=e.e;if(!a||!o)return null;if(r=s&&!s[0],n=i&&!i[0],r||n)return r?n?0:-o:a;if(a!=o)return a;if(r=a<0,n=c==l,!s||!i)return n?0:!s^r?1:-1;if(!n)return c>l^r?1:-1;for(o=(c=s.length)<(l=i.length)?c:l,a=0;a<o;a++)if(s[a]!=i[a])return s[a]>i[a]^r?1:-1;return c==l?0:c>l^r?1:-1}function ns(t,e,r,n){if(t<e||t>r||t!==Hc(t))throw Error(go+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function x8(t){var e=t.c.length-1;return Wc(t.e/br)==e&&t.c[e]%2!=0}function w8(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function yf(t,e,r){var n,s;if(e<0){for(s=r+".";++e;s+=r);t=s+t}else if(n=t.length,++e>n){for(s=r,e-=n;--e;s+=r);t+=s}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var b6=dse();const bSe="logger/5.8.0";let wV=!1,AV=!1;const W9={debug:1,default:2,info:2,warning:3,error:4,off:5};let SV=W9.default,sE=null;function ySe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const PV=ySe();var lj;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(lj||(lj={}));var eu;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(eu||(eu={}));const kV="0123456789abcdef";class Kt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();W9[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(SV>W9[n])&&console.log.apply(console,r)}debug(...e){this._log(Kt.levels.DEBUG,e)}info(...e){this._log(Kt.levels.INFO,e)}warn(...e){this._log(Kt.levels.WARNING,e)}makeError(e,r,n){if(AV)return this.makeError("censored error",r,{});r||(r=Kt.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=kV[l[f]>>4],u+=kV[l[f]&15];s.push(c+"=Uint8Array(0x"+u+")")}else s.push(c+"="+JSON.stringify(l))}catch{s.push(c+"="+JSON.stringify(n[c].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const i=e;let a="";switch(r){case eu.NUMERIC_FAULT:{a="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":a+="-"+c;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case eu.CALL_EXCEPTION:case eu.INSUFFICIENT_FUNDS:case eu.MISSING_NEW:case eu.NONCE_EXPIRED:case eu.REPLACEMENT_UNDERPRICED:case eu.TRANSACTION_REPLACED:case eu.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=r,Object.keys(n).forEach(function(c){o[c]=n[c]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Kt.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,s){e||this.throwError(r,n,s)}assertArgument(e,r,n,s){e||this.throwArgumentError(r,n,s)}checkNormalize(e){PV&&this.throwError("platform missing String.prototype.normalize",Kt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:PV})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Kt.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Kt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Kt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return sE||(sE=new Kt(bSe)),sE}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),wV){if(!e)return;this.globalLogger().throwError("error censorship permanent",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}AV=!!e,wV=!!r}static setLogLevel(e){const r=W9[e.toLowerCase()];if(r==null){Kt.globalLogger().warn("invalid log level - "+e);return}SV=r}static from(e){return new Kt(e)}}Kt.errors=eu;Kt.levels=lj;const vSe="bytes/5.8.0",Ns=new Kt(vSe);function fse(t){return!!t.toHexString}function jy(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jy(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function hse(t){return Ca(t)&&!(t.length%2)||JP(t)}function IV(t){return typeof t=="number"&&t==t&&t%1===0}function JP(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!IV(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!IV(r)||r<0||r>=256)return!1}return!0}function Kr(t,e){if(e||(e={}),typeof t=="number"){Ns.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),jy(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),fse(t)&&(t=t.toHexString()),Ca(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Ns.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let s=0;s<r.length;s+=2)n.push(parseInt(r.substring(s,s+2),16));return jy(new Uint8Array(n))}return JP(t)?jy(new Uint8Array(t)):Ns.throwArgumentError("invalid arrayify value","value",t)}function _p(t){const e=t.map(s=>Kr(s)),r=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(r);return e.reduce((s,i)=>(n.set(i,s),s+i.length),0),jy(n)}function y6(t){let e=Kr(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function xSe(t,e){t=Kr(t),t.length>e&&Ns.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),jy(r)}function Ca(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const iE="0123456789abcdef";function Cr(t,e){if(e||(e={}),typeof t=="number"){Ns.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=iE[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),fse(t))return t.toHexString();if(Ca(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ns.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(JP(t)){let r="0x";for(let n=0;n<t.length;n++){let s=t[n];r+=iE[(s&240)>>4]+iE[s&15]}return r}return Ns.throwArgumentError("invalid hexlify value","value",t)}function pse(t){if(typeof t!="string")t=Cr(t);else if(!Ca(t)||t.length%2)return null;return(t.length-2)/2}function v6(t,e,r){return typeof t!="string"?t=Cr(t):(!Ca(t)||t.length%2)&&Ns.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function dB(t){let e="0x";return t.forEach(r=>{e+=Cr(r).substring(2)}),e}function yl(t,e){for(typeof t!="string"?t=Cr(t):Ca(t)||Ns.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ns.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function QP(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(hse(t)){let r=Kr(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Cr(r.slice(0,32)),e.s=Cr(r.slice(32,64))):r.length===65?(e.r=Cr(r.slice(0,32)),e.s=Cr(r.slice(32,64)),e.v=r[64]):Ns.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ns.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Cr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=xSe(Kr(e._vs),32);e._vs=Cr(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Ns.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=Cr(s);e.s==null?e.s=a:e.s!==a&&Ns.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ns.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&Ns.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ca(e.r)?Ns.throwArgumentError("signature missing or invalid r","signature",t):e.r=yl(e.r,32),e.s==null||!Ca(e.s)?Ns.throwArgumentError("signature missing or invalid s","signature",t):e.s=yl(e.s,32);const r=Kr(e.s);r[0]>=128&&Ns.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Cr(r);e._vs&&(Ca(e._vs)||Ns.throwArgumentError("signature invalid _vs","signature",t),e._vs=yl(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Ns.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var fB={exports:{}};const wSe={},ASe=Object.freeze(Object.defineProperty({__proto__:null,default:wSe},Symbol.toStringTag,{value:"Module"})),B1=oP(ASe);fB.exports;(function(t){(function(e,r){function n(w,p){if(!w)throw new Error(p||"Assertion failed")}function s(w,p){w.super_=p;var g=function(){};g.prototype=p.prototype,w.prototype=new g,w.prototype.constructor=w}function i(w,p,g){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((p==="le"||p==="be")&&(g=p,p=10),this._init(w||0,p||10,g||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=B1.Buffer}catch{}i.isBN=function(p){return p instanceof i?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===i.wordSize&&Array.isArray(p.words)},i.max=function(p,g){return p.cmp(g)>0?p:g},i.min=function(p,g){return p.cmp(g)<0?p:g},i.prototype._init=function(p,g,S){if(typeof p=="number")return this._initNumber(p,g,S);if(typeof p=="object")return this._initArray(p,g,S);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),p=p.toString().replace(/\s+/g,"");var N=0;p[0]==="-"&&(N++,this.negative=1),N<p.length&&(g===16?this._parseHex(p,N,S):(this._parseBase(p,g,N),S==="le"&&this._initArray(this.toArray(),g,S)))},i.prototype._initNumber=function(p,g,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),g,S)},i.prototype._initArray=function(p,g,S){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var I,A,y=0;if(S==="be")for(N=p.length-1,I=0;N>=0;N-=3)A=p[N]|p[N-1]<<8|p[N-2]<<16,this.words[I]|=A<<y&67108863,this.words[I+1]=A>>>26-y&67108863,y+=24,y>=26&&(y-=26,I++);else if(S==="le")for(N=0,I=0;N<p.length;N+=3)A=p[N]|p[N+1]<<8|p[N+2]<<16,this.words[I]|=A<<y&67108863,this.words[I+1]=A>>>26-y&67108863,y+=24,y>=26&&(y-=26,I++);return this._strip()};function o(w,p){var g=w.charCodeAt(p);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+w)}function c(w,p,g){var S=o(w,g);return g-1>=p&&(S|=o(w,g-1)<<4),S}i.prototype._parseHex=function(p,g,S){this.length=Math.ceil((p.length-g)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var I=0,A=0,y;if(S==="be")for(N=p.length-1;N>=g;N-=2)y=c(p,g,N)<<I,this.words[A]|=y&67108863,I>=18?(I-=18,A+=1,this.words[A]|=y>>>26):I+=8;else{var C=p.length-g;for(N=C%2===0?g+1:g;N<p.length;N+=2)y=c(p,g,N)<<I,this.words[A]|=y&67108863,I>=18?(I-=18,A+=1,this.words[A]|=y>>>26):I+=8}this._strip()};function l(w,p,g,S){for(var N=0,I=0,A=Math.min(w.length,g),y=p;y<A;y++){var C=w.charCodeAt(y)-48;N*=S,C>=49?I=C-49+10:C>=17?I=C-17+10:I=C,n(C>=0&&I<S,"Invalid character"),N+=I}return N}i.prototype._parseBase=function(p,g,S){this.words=[0],this.length=1;for(var N=0,I=1;I<=67108863;I*=g)N++;N--,I=I/g|0;for(var A=p.length-S,y=A%N,C=Math.min(A,A-y)+S,$=0,L=S;L<C;L+=N)$=l(p,L,L+N,g),this.imuln(I),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(y!==0){var Q=1;for($=l(p,L,p.length,g),L=0;L<y;L++)Q*=g;this.imuln(Q),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this._strip()},i.prototype.copy=function(p){p.words=new Array(this.length);for(var g=0;g<this.length;g++)p.words[g]=this.words[g];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(w,p){w.words=p.words,w.length=p.length,w.negative=p.negative,w.red=p.red}if(i.prototype._move=function(p){u(p,this)},i.prototype.clone=function(){var p=new i(null);return this.copy(p),p},i.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(p,g){p=p||10,g=g|0||1;var S;if(p===16||p==="hex"){S="";for(var N=0,I=0,A=0;A<this.length;A++){var y=this.words[A],C=((y<<N|I)&16777215).toString(16);I=y>>>24-N&16777215,N+=2,N>=26&&(N-=26,A--),I!==0||A!==this.length-1?S=h[6-C.length]+C+S:S=C+S}for(I!==0&&(S=I.toString(16)+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var $=m[p],L=v[p];S="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var U=Q.modrn(L).toString(p);Q=Q.idivn(L),Q.isZero()?S=U+S:S=h[$-U.length]+U+S}for(this.isZero()&&(S="0"+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(p,g){return this.toArrayLike(a,p,g)}),i.prototype.toArray=function(p,g){return this.toArrayLike(Array,p,g)};var x=function(p,g){return p.allocUnsafe?p.allocUnsafe(g):new p(g)};i.prototype.toArrayLike=function(p,g,S){this._strip();var N=this.byteLength(),I=S||Math.max(1,N);n(N<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var A=x(p,I),y=g==="le"?"LE":"BE";return this["_toArrayLike"+y](A,N),A},i.prototype._toArrayLikeLE=function(p,g){for(var S=0,N=0,I=0,A=0;I<this.length;I++){var y=this.words[I]<<A|N;p[S++]=y&255,S<p.length&&(p[S++]=y>>8&255),S<p.length&&(p[S++]=y>>16&255),A===6?(S<p.length&&(p[S++]=y>>24&255),N=0,A=0):(N=y>>>24,A+=2)}if(S<p.length)for(p[S++]=N;S<p.length;)p[S++]=0},i.prototype._toArrayLikeBE=function(p,g){for(var S=p.length-1,N=0,I=0,A=0;I<this.length;I++){var y=this.words[I]<<A|N;p[S--]=y&255,S>=0&&(p[S--]=y>>8&255),S>=0&&(p[S--]=y>>16&255),A===6?(S>=0&&(p[S--]=y>>24&255),N=0,A=0):(N=y>>>24,A+=2)}if(S>=0)for(p[S--]=N;S>=0;)p[S--]=0},Math.clz32?i.prototype._countBits=function(p){return 32-Math.clz32(p)}:i.prototype._countBits=function(p){var g=p,S=0;return g>=4096&&(S+=13,g>>>=13),g>=64&&(S+=7,g>>>=7),g>=8&&(S+=4,g>>>=4),g>=2&&(S+=2,g>>>=2),S+g},i.prototype._zeroBits=function(p){if(p===0)return 26;var g=p,S=0;return g&8191||(S+=13,g>>>=13),g&127||(S+=7,g>>>=7),g&15||(S+=4,g>>>=4),g&3||(S+=2,g>>>=2),g&1||S++,S},i.prototype.bitLength=function(){var p=this.words[this.length-1],g=this._countBits(p);return(this.length-1)*26+g};function k(w){for(var p=new Array(w.bitLength()),g=0;g<p.length;g++){var S=g/26|0,N=g%26;p[g]=w.words[S]>>>N&1}return p}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,g=0;g<this.length;g++){var S=this._zeroBits(this.words[g]);if(p+=S,S!==26)break}return p},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},i.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]|p.words[g];return this._strip()},i.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},i.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},i.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},i.prototype.iuand=function(p){var g;this.length>p.length?g=p:g=this;for(var S=0;S<g.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=g.length,this._strip()},i.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},i.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},i.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},i.prototype.iuxor=function(p){var g,S;this.length>p.length?(g=this,S=p):(g=p,S=this);for(var N=0;N<S.length;N++)this.words[N]=g.words[N]^S.words[N];if(this!==g)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=g.length,this._strip()},i.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},i.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},i.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},i.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var g=Math.ceil(p/26)|0,S=p%26;this._expand(g),S>0&&g--;for(var N=0;N<g;N++)this.words[N]=~this.words[N]&67108863;return S>0&&(this.words[N]=~this.words[N]&67108863>>26-S),this._strip()},i.prototype.notn=function(p){return this.clone().inotn(p)},i.prototype.setn=function(p,g){n(typeof p=="number"&&p>=0);var S=p/26|0,N=p%26;return this._expand(S+1),g?this.words[S]=this.words[S]|1<<N:this.words[S]=this.words[S]&~(1<<N),this._strip()},i.prototype.iadd=function(p){var g;if(this.negative!==0&&p.negative===0)return this.negative=0,g=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,g=this.isub(p),p.negative=1,g._normSign();var S,N;this.length>p.length?(S=this,N=p):(S=p,N=this);for(var I=0,A=0;A<N.length;A++)g=(S.words[A]|0)+(N.words[A]|0)+I,this.words[A]=g&67108863,I=g>>>26;for(;I!==0&&A<S.length;A++)g=(S.words[A]|0)+I,this.words[A]=g&67108863,I=g>>>26;if(this.length=S.length,I!==0)this.words[this.length]=I,this.length++;else if(S!==this)for(;A<S.length;A++)this.words[A]=S.words[A];return this},i.prototype.add=function(p){var g;return p.negative!==0&&this.negative===0?(p.negative=0,g=this.sub(p),p.negative^=1,g):p.negative===0&&this.negative!==0?(this.negative=0,g=p.sub(this),this.negative=1,g):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},i.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var g=this.iadd(p);return p.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,I;S>0?(N=this,I=p):(N=p,I=this);for(var A=0,y=0;y<I.length;y++)g=(N.words[y]|0)-(I.words[y]|0)+A,A=g>>26,this.words[y]=g&67108863;for(;A!==0&&y<N.length;y++)g=(N.words[y]|0)+A,A=g>>26,this.words[y]=g&67108863;if(A===0&&y<N.length&&N!==this)for(;y<N.length;y++)this.words[y]=N.words[y];return this.length=Math.max(this.length,y),N!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(p){return this.clone().isub(p)};function E(w,p,g){g.negative=p.negative^w.negative;var S=w.length+p.length|0;g.length=S,S=S-1|0;var N=w.words[0]|0,I=p.words[0]|0,A=N*I,y=A&67108863,C=A/67108864|0;g.words[0]=y;for(var $=1;$<S;$++){for(var L=C>>>26,Q=C&67108863,U=Math.min($,p.length-1),J=Math.max(0,$-w.length+1);J<=U;J++){var Z=$-J|0;N=w.words[Z]|0,I=p.words[J]|0,A=N*I+Q,L+=A/67108864|0,Q=A&67108863}g.words[$]=Q|0,C=L|0}return C!==0?g.words[$]=C|0:g.length--,g._strip()}var P=function(p,g,S){var N=p.words,I=g.words,A=S.words,y=0,C,$,L,Q=N[0]|0,U=Q&8191,J=Q>>>13,Z=N[1]|0,re=Z&8191,G=Z>>>13,z=N[2]|0,se=z&8191,ce=z>>>13,pe=N[3]|0,Ce=pe&8191,ke=pe>>>13,tt=N[4]|0,mt=tt&8191,we=tt>>>13,qe=N[5]|0,Ae=qe&8191,Oe=qe>>>13,We=N[6]|0,Be=We&8191,ze=We>>>13,Ke=N[7]|0,ct=Ke&8191,Y=Ke>>>13,V=N[8]|0,q=V&8191,ne=V>>>13,le=N[9]|0,de=le&8191,me=le>>>13,rt=I[0]|0,ht=rt&8191,ot=rt>>>13,pt=I[1]|0,Ct=pt&8191,St=pt>>>13,Rt=I[2]|0,nr=Rt&8191,De=Rt>>>13,He=I[3]|0,gt=He&8191,nt=He>>>13,It=I[4]|0,Ut=It&8191,bt=It>>>13,Je=I[5]|0,Pt=Je&8191,it=Je>>>13,Tt=I[6]|0,X=Tt&8191,ee=Tt>>>13,te=I[7]|0,W=te&8191,ie=te>>>13,fe=I[8]|0,Ie=fe&8191,ae=fe>>>13,ye=I[9]|0,Le=ye&8191,Re=ye>>>13;S.negative=p.negative^g.negative,S.length=19,C=Math.imul(U,ht),$=Math.imul(U,ot),$=$+Math.imul(J,ht)|0,L=Math.imul(J,ot);var Mt=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,C=Math.imul(re,ht),$=Math.imul(re,ot),$=$+Math.imul(G,ht)|0,L=Math.imul(G,ot),C=C+Math.imul(U,Ct)|0,$=$+Math.imul(U,St)|0,$=$+Math.imul(J,Ct)|0,L=L+Math.imul(J,St)|0;var ut=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(ut>>>26)|0,ut&=67108863,C=Math.imul(se,ht),$=Math.imul(se,ot),$=$+Math.imul(ce,ht)|0,L=Math.imul(ce,ot),C=C+Math.imul(re,Ct)|0,$=$+Math.imul(re,St)|0,$=$+Math.imul(G,Ct)|0,L=L+Math.imul(G,St)|0,C=C+Math.imul(U,nr)|0,$=$+Math.imul(U,De)|0,$=$+Math.imul(J,nr)|0,L=L+Math.imul(J,De)|0;var Ot=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,C=Math.imul(Ce,ht),$=Math.imul(Ce,ot),$=$+Math.imul(ke,ht)|0,L=Math.imul(ke,ot),C=C+Math.imul(se,Ct)|0,$=$+Math.imul(se,St)|0,$=$+Math.imul(ce,Ct)|0,L=L+Math.imul(ce,St)|0,C=C+Math.imul(re,nr)|0,$=$+Math.imul(re,De)|0,$=$+Math.imul(G,nr)|0,L=L+Math.imul(G,De)|0,C=C+Math.imul(U,gt)|0,$=$+Math.imul(U,nt)|0,$=$+Math.imul(J,gt)|0,L=L+Math.imul(J,nt)|0;var Se=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Se>>>26)|0,Se&=67108863,C=Math.imul(mt,ht),$=Math.imul(mt,ot),$=$+Math.imul(we,ht)|0,L=Math.imul(we,ot),C=C+Math.imul(Ce,Ct)|0,$=$+Math.imul(Ce,St)|0,$=$+Math.imul(ke,Ct)|0,L=L+Math.imul(ke,St)|0,C=C+Math.imul(se,nr)|0,$=$+Math.imul(se,De)|0,$=$+Math.imul(ce,nr)|0,L=L+Math.imul(ce,De)|0,C=C+Math.imul(re,gt)|0,$=$+Math.imul(re,nt)|0,$=$+Math.imul(G,gt)|0,L=L+Math.imul(G,nt)|0,C=C+Math.imul(U,Ut)|0,$=$+Math.imul(U,bt)|0,$=$+Math.imul(J,Ut)|0,L=L+Math.imul(J,bt)|0;var be=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(be>>>26)|0,be&=67108863,C=Math.imul(Ae,ht),$=Math.imul(Ae,ot),$=$+Math.imul(Oe,ht)|0,L=Math.imul(Oe,ot),C=C+Math.imul(mt,Ct)|0,$=$+Math.imul(mt,St)|0,$=$+Math.imul(we,Ct)|0,L=L+Math.imul(we,St)|0,C=C+Math.imul(Ce,nr)|0,$=$+Math.imul(Ce,De)|0,$=$+Math.imul(ke,nr)|0,L=L+Math.imul(ke,De)|0,C=C+Math.imul(se,gt)|0,$=$+Math.imul(se,nt)|0,$=$+Math.imul(ce,gt)|0,L=L+Math.imul(ce,nt)|0,C=C+Math.imul(re,Ut)|0,$=$+Math.imul(re,bt)|0,$=$+Math.imul(G,Ut)|0,L=L+Math.imul(G,bt)|0,C=C+Math.imul(U,Pt)|0,$=$+Math.imul(U,it)|0,$=$+Math.imul(J,Pt)|0,L=L+Math.imul(J,it)|0;var Ee=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,C=Math.imul(Be,ht),$=Math.imul(Be,ot),$=$+Math.imul(ze,ht)|0,L=Math.imul(ze,ot),C=C+Math.imul(Ae,Ct)|0,$=$+Math.imul(Ae,St)|0,$=$+Math.imul(Oe,Ct)|0,L=L+Math.imul(Oe,St)|0,C=C+Math.imul(mt,nr)|0,$=$+Math.imul(mt,De)|0,$=$+Math.imul(we,nr)|0,L=L+Math.imul(we,De)|0,C=C+Math.imul(Ce,gt)|0,$=$+Math.imul(Ce,nt)|0,$=$+Math.imul(ke,gt)|0,L=L+Math.imul(ke,nt)|0,C=C+Math.imul(se,Ut)|0,$=$+Math.imul(se,bt)|0,$=$+Math.imul(ce,Ut)|0,L=L+Math.imul(ce,bt)|0,C=C+Math.imul(re,Pt)|0,$=$+Math.imul(re,it)|0,$=$+Math.imul(G,Pt)|0,L=L+Math.imul(G,it)|0,C=C+Math.imul(U,X)|0,$=$+Math.imul(U,ee)|0,$=$+Math.imul(J,X)|0,L=L+Math.imul(J,ee)|0;var Fe=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,C=Math.imul(ct,ht),$=Math.imul(ct,ot),$=$+Math.imul(Y,ht)|0,L=Math.imul(Y,ot),C=C+Math.imul(Be,Ct)|0,$=$+Math.imul(Be,St)|0,$=$+Math.imul(ze,Ct)|0,L=L+Math.imul(ze,St)|0,C=C+Math.imul(Ae,nr)|0,$=$+Math.imul(Ae,De)|0,$=$+Math.imul(Oe,nr)|0,L=L+Math.imul(Oe,De)|0,C=C+Math.imul(mt,gt)|0,$=$+Math.imul(mt,nt)|0,$=$+Math.imul(we,gt)|0,L=L+Math.imul(we,nt)|0,C=C+Math.imul(Ce,Ut)|0,$=$+Math.imul(Ce,bt)|0,$=$+Math.imul(ke,Ut)|0,L=L+Math.imul(ke,bt)|0,C=C+Math.imul(se,Pt)|0,$=$+Math.imul(se,it)|0,$=$+Math.imul(ce,Pt)|0,L=L+Math.imul(ce,it)|0,C=C+Math.imul(re,X)|0,$=$+Math.imul(re,ee)|0,$=$+Math.imul(G,X)|0,L=L+Math.imul(G,ee)|0,C=C+Math.imul(U,W)|0,$=$+Math.imul(U,ie)|0,$=$+Math.imul(J,W)|0,L=L+Math.imul(J,ie)|0;var Ve=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,C=Math.imul(q,ht),$=Math.imul(q,ot),$=$+Math.imul(ne,ht)|0,L=Math.imul(ne,ot),C=C+Math.imul(ct,Ct)|0,$=$+Math.imul(ct,St)|0,$=$+Math.imul(Y,Ct)|0,L=L+Math.imul(Y,St)|0,C=C+Math.imul(Be,nr)|0,$=$+Math.imul(Be,De)|0,$=$+Math.imul(ze,nr)|0,L=L+Math.imul(ze,De)|0,C=C+Math.imul(Ae,gt)|0,$=$+Math.imul(Ae,nt)|0,$=$+Math.imul(Oe,gt)|0,L=L+Math.imul(Oe,nt)|0,C=C+Math.imul(mt,Ut)|0,$=$+Math.imul(mt,bt)|0,$=$+Math.imul(we,Ut)|0,L=L+Math.imul(we,bt)|0,C=C+Math.imul(Ce,Pt)|0,$=$+Math.imul(Ce,it)|0,$=$+Math.imul(ke,Pt)|0,L=L+Math.imul(ke,it)|0,C=C+Math.imul(se,X)|0,$=$+Math.imul(se,ee)|0,$=$+Math.imul(ce,X)|0,L=L+Math.imul(ce,ee)|0,C=C+Math.imul(re,W)|0,$=$+Math.imul(re,ie)|0,$=$+Math.imul(G,W)|0,L=L+Math.imul(G,ie)|0,C=C+Math.imul(U,Ie)|0,$=$+Math.imul(U,ae)|0,$=$+Math.imul(J,Ie)|0,L=L+Math.imul(J,ae)|0;var Xe=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,C=Math.imul(de,ht),$=Math.imul(de,ot),$=$+Math.imul(me,ht)|0,L=Math.imul(me,ot),C=C+Math.imul(q,Ct)|0,$=$+Math.imul(q,St)|0,$=$+Math.imul(ne,Ct)|0,L=L+Math.imul(ne,St)|0,C=C+Math.imul(ct,nr)|0,$=$+Math.imul(ct,De)|0,$=$+Math.imul(Y,nr)|0,L=L+Math.imul(Y,De)|0,C=C+Math.imul(Be,gt)|0,$=$+Math.imul(Be,nt)|0,$=$+Math.imul(ze,gt)|0,L=L+Math.imul(ze,nt)|0,C=C+Math.imul(Ae,Ut)|0,$=$+Math.imul(Ae,bt)|0,$=$+Math.imul(Oe,Ut)|0,L=L+Math.imul(Oe,bt)|0,C=C+Math.imul(mt,Pt)|0,$=$+Math.imul(mt,it)|0,$=$+Math.imul(we,Pt)|0,L=L+Math.imul(we,it)|0,C=C+Math.imul(Ce,X)|0,$=$+Math.imul(Ce,ee)|0,$=$+Math.imul(ke,X)|0,L=L+Math.imul(ke,ee)|0,C=C+Math.imul(se,W)|0,$=$+Math.imul(se,ie)|0,$=$+Math.imul(ce,W)|0,L=L+Math.imul(ce,ie)|0,C=C+Math.imul(re,Ie)|0,$=$+Math.imul(re,ae)|0,$=$+Math.imul(G,Ie)|0,L=L+Math.imul(G,ae)|0,C=C+Math.imul(U,Le)|0,$=$+Math.imul(U,Re)|0,$=$+Math.imul(J,Le)|0,L=L+Math.imul(J,Re)|0;var xe=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(xe>>>26)|0,xe&=67108863,C=Math.imul(de,Ct),$=Math.imul(de,St),$=$+Math.imul(me,Ct)|0,L=Math.imul(me,St),C=C+Math.imul(q,nr)|0,$=$+Math.imul(q,De)|0,$=$+Math.imul(ne,nr)|0,L=L+Math.imul(ne,De)|0,C=C+Math.imul(ct,gt)|0,$=$+Math.imul(ct,nt)|0,$=$+Math.imul(Y,gt)|0,L=L+Math.imul(Y,nt)|0,C=C+Math.imul(Be,Ut)|0,$=$+Math.imul(Be,bt)|0,$=$+Math.imul(ze,Ut)|0,L=L+Math.imul(ze,bt)|0,C=C+Math.imul(Ae,Pt)|0,$=$+Math.imul(Ae,it)|0,$=$+Math.imul(Oe,Pt)|0,L=L+Math.imul(Oe,it)|0,C=C+Math.imul(mt,X)|0,$=$+Math.imul(mt,ee)|0,$=$+Math.imul(we,X)|0,L=L+Math.imul(we,ee)|0,C=C+Math.imul(Ce,W)|0,$=$+Math.imul(Ce,ie)|0,$=$+Math.imul(ke,W)|0,L=L+Math.imul(ke,ie)|0,C=C+Math.imul(se,Ie)|0,$=$+Math.imul(se,ae)|0,$=$+Math.imul(ce,Ie)|0,L=L+Math.imul(ce,ae)|0,C=C+Math.imul(re,Le)|0,$=$+Math.imul(re,Re)|0,$=$+Math.imul(G,Le)|0,L=L+Math.imul(G,Re)|0;var Pe=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,C=Math.imul(de,nr),$=Math.imul(de,De),$=$+Math.imul(me,nr)|0,L=Math.imul(me,De),C=C+Math.imul(q,gt)|0,$=$+Math.imul(q,nt)|0,$=$+Math.imul(ne,gt)|0,L=L+Math.imul(ne,nt)|0,C=C+Math.imul(ct,Ut)|0,$=$+Math.imul(ct,bt)|0,$=$+Math.imul(Y,Ut)|0,L=L+Math.imul(Y,bt)|0,C=C+Math.imul(Be,Pt)|0,$=$+Math.imul(Be,it)|0,$=$+Math.imul(ze,Pt)|0,L=L+Math.imul(ze,it)|0,C=C+Math.imul(Ae,X)|0,$=$+Math.imul(Ae,ee)|0,$=$+Math.imul(Oe,X)|0,L=L+Math.imul(Oe,ee)|0,C=C+Math.imul(mt,W)|0,$=$+Math.imul(mt,ie)|0,$=$+Math.imul(we,W)|0,L=L+Math.imul(we,ie)|0,C=C+Math.imul(Ce,Ie)|0,$=$+Math.imul(Ce,ae)|0,$=$+Math.imul(ke,Ie)|0,L=L+Math.imul(ke,ae)|0,C=C+Math.imul(se,Le)|0,$=$+Math.imul(se,Re)|0,$=$+Math.imul(ce,Le)|0,L=L+Math.imul(ce,Re)|0;var je=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(je>>>26)|0,je&=67108863,C=Math.imul(de,gt),$=Math.imul(de,nt),$=$+Math.imul(me,gt)|0,L=Math.imul(me,nt),C=C+Math.imul(q,Ut)|0,$=$+Math.imul(q,bt)|0,$=$+Math.imul(ne,Ut)|0,L=L+Math.imul(ne,bt)|0,C=C+Math.imul(ct,Pt)|0,$=$+Math.imul(ct,it)|0,$=$+Math.imul(Y,Pt)|0,L=L+Math.imul(Y,it)|0,C=C+Math.imul(Be,X)|0,$=$+Math.imul(Be,ee)|0,$=$+Math.imul(ze,X)|0,L=L+Math.imul(ze,ee)|0,C=C+Math.imul(Ae,W)|0,$=$+Math.imul(Ae,ie)|0,$=$+Math.imul(Oe,W)|0,L=L+Math.imul(Oe,ie)|0,C=C+Math.imul(mt,Ie)|0,$=$+Math.imul(mt,ae)|0,$=$+Math.imul(we,Ie)|0,L=L+Math.imul(we,ae)|0,C=C+Math.imul(Ce,Le)|0,$=$+Math.imul(Ce,Re)|0,$=$+Math.imul(ke,Le)|0,L=L+Math.imul(ke,Re)|0;var Ze=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,C=Math.imul(de,Ut),$=Math.imul(de,bt),$=$+Math.imul(me,Ut)|0,L=Math.imul(me,bt),C=C+Math.imul(q,Pt)|0,$=$+Math.imul(q,it)|0,$=$+Math.imul(ne,Pt)|0,L=L+Math.imul(ne,it)|0,C=C+Math.imul(ct,X)|0,$=$+Math.imul(ct,ee)|0,$=$+Math.imul(Y,X)|0,L=L+Math.imul(Y,ee)|0,C=C+Math.imul(Be,W)|0,$=$+Math.imul(Be,ie)|0,$=$+Math.imul(ze,W)|0,L=L+Math.imul(ze,ie)|0,C=C+Math.imul(Ae,Ie)|0,$=$+Math.imul(Ae,ae)|0,$=$+Math.imul(Oe,Ie)|0,L=L+Math.imul(Oe,ae)|0,C=C+Math.imul(mt,Le)|0,$=$+Math.imul(mt,Re)|0,$=$+Math.imul(we,Le)|0,L=L+Math.imul(we,Re)|0;var dt=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(dt>>>26)|0,dt&=67108863,C=Math.imul(de,Pt),$=Math.imul(de,it),$=$+Math.imul(me,Pt)|0,L=Math.imul(me,it),C=C+Math.imul(q,X)|0,$=$+Math.imul(q,ee)|0,$=$+Math.imul(ne,X)|0,L=L+Math.imul(ne,ee)|0,C=C+Math.imul(ct,W)|0,$=$+Math.imul(ct,ie)|0,$=$+Math.imul(Y,W)|0,L=L+Math.imul(Y,ie)|0,C=C+Math.imul(Be,Ie)|0,$=$+Math.imul(Be,ae)|0,$=$+Math.imul(ze,Ie)|0,L=L+Math.imul(ze,ae)|0,C=C+Math.imul(Ae,Le)|0,$=$+Math.imul(Ae,Re)|0,$=$+Math.imul(Oe,Le)|0,L=L+Math.imul(Oe,Re)|0;var ft=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(ft>>>26)|0,ft&=67108863,C=Math.imul(de,X),$=Math.imul(de,ee),$=$+Math.imul(me,X)|0,L=Math.imul(me,ee),C=C+Math.imul(q,W)|0,$=$+Math.imul(q,ie)|0,$=$+Math.imul(ne,W)|0,L=L+Math.imul(ne,ie)|0,C=C+Math.imul(ct,Ie)|0,$=$+Math.imul(ct,ae)|0,$=$+Math.imul(Y,Ie)|0,L=L+Math.imul(Y,ae)|0,C=C+Math.imul(Be,Le)|0,$=$+Math.imul(Be,Re)|0,$=$+Math.imul(ze,Le)|0,L=L+Math.imul(ze,Re)|0;var Ue=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,C=Math.imul(de,W),$=Math.imul(de,ie),$=$+Math.imul(me,W)|0,L=Math.imul(me,ie),C=C+Math.imul(q,Ie)|0,$=$+Math.imul(q,ae)|0,$=$+Math.imul(ne,Ie)|0,L=L+Math.imul(ne,ae)|0,C=C+Math.imul(ct,Le)|0,$=$+Math.imul(ct,Re)|0,$=$+Math.imul(Y,Le)|0,L=L+Math.imul(Y,Re)|0;var _e=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(_e>>>26)|0,_e&=67108863,C=Math.imul(de,Ie),$=Math.imul(de,ae),$=$+Math.imul(me,Ie)|0,L=Math.imul(me,ae),C=C+Math.imul(q,Le)|0,$=$+Math.imul(q,Re)|0,$=$+Math.imul(ne,Le)|0,L=L+Math.imul(ne,Re)|0;var et=(y+C|0)+(($&8191)<<13)|0;y=(L+($>>>13)|0)+(et>>>26)|0,et&=67108863,C=Math.imul(de,Le),$=Math.imul(de,Re),$=$+Math.imul(me,Le)|0,L=Math.imul(me,Re);var Qe=(y+C|0)+(($&8191)<<13)|0;return y=(L+($>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,A[0]=Mt,A[1]=ut,A[2]=Ot,A[3]=Se,A[4]=be,A[5]=Ee,A[6]=Fe,A[7]=Ve,A[8]=Xe,A[9]=xe,A[10]=Pe,A[11]=je,A[12]=Ze,A[13]=dt,A[14]=ft,A[15]=Ue,A[16]=_e,A[17]=et,A[18]=Qe,y!==0&&(A[19]=y,S.length++),S};Math.imul||(P=E);function _(w,p,g){g.negative=p.negative^w.negative,g.length=w.length+p.length;for(var S=0,N=0,I=0;I<g.length-1;I++){var A=N;N=0;for(var y=S&67108863,C=Math.min(I,p.length-1),$=Math.max(0,I-w.length+1);$<=C;$++){var L=I-$,Q=w.words[L]|0,U=p.words[$]|0,J=Q*U,Z=J&67108863;A=A+(J/67108864|0)|0,Z=Z+y|0,y=Z&67108863,A=A+(Z>>>26)|0,N+=A>>>26,A&=67108863}g.words[I]=y,S=A,A=N}return S!==0?g.words[I]=S:g.length--,g._strip()}function M(w,p,g){return _(w,p,g)}i.prototype.mulTo=function(p,g){var S,N=this.length+p.length;return this.length===10&&p.length===10?S=P(this,p,g):N<63?S=E(this,p,g):N<1024?S=_(this,p,g):S=M(this,p,g),S},i.prototype.mul=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),this.mulTo(p,g)},i.prototype.mulf=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),M(this,p,g)},i.prototype.imul=function(p){return this.clone().mulTo(p,this)},i.prototype.imuln=function(p){var g=p<0;g&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var S=0,N=0;N<this.length;N++){var I=(this.words[N]|0)*p,A=(I&67108863)+(S&67108863);S>>=26,S+=I/67108864|0,S+=A>>>26,this.words[N]=A&67108863}return S!==0&&(this.words[N]=S,this.length++),this.length=p===0?1:this.length,g?this.ineg():this},i.prototype.muln=function(p){return this.clone().imuln(p)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(p){var g=k(p);if(g.length===0)return new i(1);for(var S=this,N=0;N<g.length&&g[N]===0;N++,S=S.sqr());if(++N<g.length)for(var I=S.sqr();N<g.length;N++,I=I.sqr())g[N]!==0&&(S=S.mul(I));return S},i.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26,N=67108863>>>26-g<<26-g,I;if(g!==0){var A=0;for(I=0;I<this.length;I++){var y=this.words[I]&N,C=(this.words[I]|0)-y<<g;this.words[I]=C|A,A=y>>>26-g}A&&(this.words[I]=A,this.length++)}if(S!==0){for(I=this.length-1;I>=0;I--)this.words[I+S]=this.words[I];for(I=0;I<S;I++)this.words[I]=0;this.length+=S}return this._strip()},i.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},i.prototype.iushrn=function(p,g,S){n(typeof p=="number"&&p>=0);var N;g?N=(g-g%26)/26:N=0;var I=p%26,A=Math.min((p-I)/26,this.length),y=67108863^67108863>>>I<<I,C=S;if(N-=A,N=Math.max(0,N),C){for(var $=0;$<A;$++)C.words[$]=this.words[$];C.length=A}if(A!==0)if(this.length>A)for(this.length-=A,$=0;$<this.length;$++)this.words[$]=this.words[$+A];else this.words[0]=0,this.length=1;var L=0;for($=this.length-1;$>=0&&(L!==0||$>=N);$--){var Q=this.words[$]|0;this.words[$]=L<<26-I|Q>>>I,L=Q&y}return C&&L!==0&&(C.words[C.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(p,g,S){return n(this.negative===0),this.iushrn(p,g,S)},i.prototype.shln=function(p){return this.clone().ishln(p)},i.prototype.ushln=function(p){return this.clone().iushln(p)},i.prototype.shrn=function(p){return this.clone().ishrn(p)},i.prototype.ushrn=function(p){return this.clone().iushrn(p)},i.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26,N=1<<g;if(this.length<=S)return!1;var I=this.words[S];return!!(I&N)},i.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(g!==0&&S++,this.length=Math.min(S,this.length),g!==0){var N=67108863^67108863>>>g<<g;this.words[this.length-1]&=N}return this._strip()},i.prototype.maskn=function(p){return this.clone().imaskn(p)},i.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},i.prototype._iaddn=function(p){this.words[0]+=p;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(p){return this.clone().iaddn(p)},i.prototype.subn=function(p){return this.clone().isubn(p)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(p,g,S){var N=p.length+S,I;this._expand(N);var A,y=0;for(I=0;I<p.length;I++){A=(this.words[I+S]|0)+y;var C=(p.words[I]|0)*g;A-=C&67108863,y=(A>>26)-(C/67108864|0),this.words[I+S]=A&67108863}for(;I<this.length-S;I++)A=(this.words[I+S]|0)+y,y=A>>26,this.words[I+S]=A&67108863;if(y===0)return this._strip();for(n(y===-1),y=0,I=0;I<this.length;I++)A=-(this.words[I]|0)+y,y=A>>26,this.words[I]=A&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(p,g){var S=this.length-p.length,N=this.clone(),I=p,A=I.words[I.length-1]|0,y=this._countBits(A);S=26-y,S!==0&&(I=I.ushln(S),N.iushln(S),A=I.words[I.length-1]|0);var C=N.length-I.length,$;if(g!=="mod"){$=new i(null),$.length=C+1,$.words=new Array($.length);for(var L=0;L<$.length;L++)$.words[L]=0}var Q=N.clone()._ishlnsubmul(I,1,C);Q.negative===0&&(N=Q,$&&($.words[C]=1));for(var U=C-1;U>=0;U--){var J=(N.words[I.length+U]|0)*67108864+(N.words[I.length+U-1]|0);for(J=Math.min(J/A|0,67108863),N._ishlnsubmul(I,J,U);N.negative!==0;)J--,N.negative=0,N._ishlnsubmul(I,1,U),N.isZero()||(N.negative^=1);$&&($.words[U]=J)}return $&&$._strip(),N._strip(),g!=="div"&&S!==0&&N.iushrn(S),{div:$||null,mod:N}},i.prototype.divmod=function(p,g,S){if(n(!p.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var N,I,A;return this.negative!==0&&p.negative===0?(A=this.neg().divmod(p,g),g!=="mod"&&(N=A.div.neg()),g!=="div"&&(I=A.mod.neg(),S&&I.negative!==0&&I.iadd(p)),{div:N,mod:I}):this.negative===0&&p.negative!==0?(A=this.divmod(p.neg(),g),g!=="mod"&&(N=A.div.neg()),{div:N,mod:A.mod}):this.negative&p.negative?(A=this.neg().divmod(p.neg(),g),g!=="div"&&(I=A.mod.neg(),S&&I.negative!==0&&I.isub(p)),{div:A.div,mod:I}):p.length>this.length||this.cmp(p)<0?{div:new i(0),mod:this}:p.length===1?g==="div"?{div:this.divn(p.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new i(this.modrn(p.words[0]))}:this._wordDiv(p,g)},i.prototype.div=function(p){return this.divmod(p,"div",!1).div},i.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},i.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},i.prototype.divRound=function(p){var g=this.divmod(p);if(g.mod.isZero())return g.div;var S=g.div.negative!==0?g.mod.isub(p):g.mod,N=p.ushrn(1),I=p.andln(1),A=S.cmp(N);return A<0||I===1&&A===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var S=(1<<26)%p,N=0,I=this.length-1;I>=0;I--)N=(S*N+(this.words[I]|0))%p;return g?-N:N},i.prototype.modn=function(p){return this.modrn(p)},i.prototype.idivn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var S=0,N=this.length-1;N>=0;N--){var I=(this.words[N]|0)+S*67108864;this.words[N]=I/p|0,S=I%p}return this._strip(),g?this.ineg():this},i.prototype.divn=function(p){return this.clone().idivn(p)},i.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var g=this,S=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var N=new i(1),I=new i(0),A=new i(0),y=new i(1),C=0;g.isEven()&&S.isEven();)g.iushrn(1),S.iushrn(1),++C;for(var $=S.clone(),L=g.clone();!g.isZero();){for(var Q=0,U=1;!(g.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd($),I.isub(L)),N.iushrn(1),I.iushrn(1);for(var J=0,Z=1;!(S.words[0]&Z)&&J<26;++J,Z<<=1);if(J>0)for(S.iushrn(J);J-- >0;)(A.isOdd()||y.isOdd())&&(A.iadd($),y.isub(L)),A.iushrn(1),y.iushrn(1);g.cmp(S)>=0?(g.isub(S),N.isub(A),I.isub(y)):(S.isub(g),A.isub(N),y.isub(I))}return{a:A,b:y,gcd:S.iushln(C)}},i.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var g=this,S=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var N=new i(1),I=new i(0),A=S.clone();g.cmpn(1)>0&&S.cmpn(1)>0;){for(var y=0,C=1;!(g.words[0]&C)&&y<26;++y,C<<=1);if(y>0)for(g.iushrn(y);y-- >0;)N.isOdd()&&N.iadd(A),N.iushrn(1);for(var $=0,L=1;!(S.words[0]&L)&&$<26;++$,L<<=1);if($>0)for(S.iushrn($);$-- >0;)I.isOdd()&&I.iadd(A),I.iushrn(1);g.cmp(S)>=0?(g.isub(S),N.isub(I)):(S.isub(g),I.isub(N))}var Q;return g.cmpn(1)===0?Q=N:Q=I,Q.cmpn(0)<0&&Q.iadd(p),Q},i.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var g=this.clone(),S=p.clone();g.negative=0,S.negative=0;for(var N=0;g.isEven()&&S.isEven();N++)g.iushrn(1),S.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;S.isEven();)S.iushrn(1);var I=g.cmp(S);if(I<0){var A=g;g=S,S=A}else if(I===0||S.cmpn(1)===0)break;g.isub(S)}while(!0);return S.iushln(N)},i.prototype.invm=function(p){return this.egcd(p).a.umod(p)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(p){return this.words[0]&p},i.prototype.bincn=function(p){n(typeof p=="number");var g=p%26,S=(p-g)/26,N=1<<g;if(this.length<=S)return this._expand(S+1),this.words[S]|=N,this;for(var I=N,A=S;I!==0&&A<this.length;A++){var y=this.words[A]|0;y+=I,I=y>>>26,y&=67108863,this.words[A]=y}return I!==0&&(this.words[A]=I,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(p){var g=p<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var S;if(this.length>1)S=1;else{g&&(p=-p),n(p<=67108863,"Number is too big");var N=this.words[0]|0;S=N===p?0:N<p?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var g=this.ucmp(p);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var g=0,S=this.length-1;S>=0;S--){var N=this.words[S]|0,I=p.words[S]|0;if(N!==I){N<I?g=-1:N>I&&(g=1);break}}return g},i.prototype.gtn=function(p){return this.cmpn(p)===1},i.prototype.gt=function(p){return this.cmp(p)===1},i.prototype.gten=function(p){return this.cmpn(p)>=0},i.prototype.gte=function(p){return this.cmp(p)>=0},i.prototype.ltn=function(p){return this.cmpn(p)===-1},i.prototype.lt=function(p){return this.cmp(p)===-1},i.prototype.lten=function(p){return this.cmpn(p)<=0},i.prototype.lte=function(p){return this.cmp(p)<=0},i.prototype.eqn=function(p){return this.cmpn(p)===0},i.prototype.eq=function(p){return this.cmp(p)===0},i.red=function(p){return new O(p)},i.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(p){return this.red=p,this},i.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},i.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},i.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},i.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},i.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},i.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},i.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},i.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var B={k256:null,p224:null,p192:null,p25519:null};function D(w,p){this.name=w,this.p=new i(p,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var p=new i(null);return p.words=new Array(Math.ceil(this.n/13)),p},D.prototype.ireduce=function(p){var g=p,S;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),S=g.bitLength();while(S>this.n);var N=S<this.n?-1:g.ucmp(this.p);return N===0?(g.words[0]=0,g.length=1):N>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},D.prototype.split=function(p,g){p.iushrn(this.n,0,g)},D.prototype.imulK=function(p){return p.imul(this.k)};function j(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(j,D),j.prototype.split=function(p,g){for(var S=4194303,N=Math.min(p.length,9),I=0;I<N;I++)g.words[I]=p.words[I];if(g.length=N,p.length<=9){p.words[0]=0,p.length=1;return}var A=p.words[9];for(g.words[g.length++]=A&S,I=10;I<p.length;I++){var y=p.words[I]|0;p.words[I-10]=(y&S)<<4|A>>>22,A=y}A>>>=22,p.words[I-10]=A,A===0&&p.length>10?p.length-=10:p.length-=9},j.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var g=0,S=0;S<p.length;S++){var N=p.words[S]|0;g+=N*977,p.words[S]=g&67108863,g=N*64+(g/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function T(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(T,D);function R(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(R,D);function H(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(H,D),H.prototype.imulK=function(p){for(var g=0,S=0;S<p.length;S++){var N=(p.words[S]|0)*19+g,I=N&67108863;N>>>=26,p.words[S]=I,g=N}return g!==0&&(p.words[p.length++]=g),p},i._prime=function(p){if(B[p])return B[p];var g;if(p==="k256")g=new j;else if(p==="p224")g=new T;else if(p==="p192")g=new R;else if(p==="p25519")g=new H;else throw new Error("Unknown prime "+p);return B[p]=g,g};function O(w){if(typeof w=="string"){var p=i._prime(w);this.m=p.p,this.prime=p}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}O.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},O.prototype._verify2=function(p,g){n((p.negative|g.negative)===0,"red works only with positives"),n(p.red&&p.red===g.red,"red works only with red numbers")},O.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},O.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},O.prototype.add=function(p,g){this._verify2(p,g);var S=p.add(g);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},O.prototype.iadd=function(p,g){this._verify2(p,g);var S=p.iadd(g);return S.cmp(this.m)>=0&&S.isub(this.m),S},O.prototype.sub=function(p,g){this._verify2(p,g);var S=p.sub(g);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},O.prototype.isub=function(p,g){this._verify2(p,g);var S=p.isub(g);return S.cmpn(0)<0&&S.iadd(this.m),S},O.prototype.shl=function(p,g){return this._verify1(p),this.imod(p.ushln(g))},O.prototype.imul=function(p,g){return this._verify2(p,g),this.imod(p.imul(g))},O.prototype.mul=function(p,g){return this._verify2(p,g),this.imod(p.mul(g))},O.prototype.isqr=function(p){return this.imul(p,p.clone())},O.prototype.sqr=function(p){return this.mul(p,p)},O.prototype.sqrt=function(p){if(p.isZero())return p.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(p,S)}for(var N=this.m.subn(1),I=0;!N.isZero()&&N.andln(1)===0;)I++,N.iushrn(1);n(!N.isZero());var A=new i(1).toRed(this),y=A.redNeg(),C=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new i(2*$*$).toRed(this);this.pow($,C).cmp(y)!==0;)$.redIAdd(y);for(var L=this.pow($,N),Q=this.pow(p,N.addn(1).iushrn(1)),U=this.pow(p,N),J=I;U.cmp(A)!==0;){for(var Z=U,re=0;Z.cmp(A)!==0;re++)Z=Z.redSqr();n(re<J);var G=this.pow(L,new i(1).iushln(J-re-1));Q=Q.redMul(G),L=G.redSqr(),U=U.redMul(L),J=re}return Q},O.prototype.invm=function(p){var g=p._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},O.prototype.pow=function(p,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return p.clone();var S=4,N=new Array(1<<S);N[0]=new i(1).toRed(this),N[1]=p;for(var I=2;I<N.length;I++)N[I]=this.mul(N[I-1],p);var A=N[0],y=0,C=0,$=g.bitLength()%26;for($===0&&($=26),I=g.length-1;I>=0;I--){for(var L=g.words[I],Q=$-1;Q>=0;Q--){var U=L>>Q&1;if(A!==N[0]&&(A=this.sqr(A)),U===0&&y===0){C=0;continue}y<<=1,y|=U,C++,!(C!==S&&(I!==0||Q!==0))&&(A=this.mul(A,N[y]),C=0,y=0)}$=26}return A},O.prototype.convertTo=function(p){var g=p.umod(this.m);return g===p?g.clone():g},O.prototype.convertFrom=function(p){var g=p.clone();return g.red=null,g},i.mont=function(p){return new b(p)};function b(w){O.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(b,O),b.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},b.prototype.convertFrom=function(p){var g=this.imod(p.mul(this.rinv));return g.red=null,g},b.prototype.imul=function(p,g){if(p.isZero()||g.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(g),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(N).iushrn(this.shift),A=I;return I.cmp(this.m)>=0?A=I.isub(this.m):I.cmpn(0)<0&&(A=I.iadd(this.m)),A._forceRed(this)},b.prototype.mul=function(p,g){if(p.isZero()||g.isZero())return new i(0)._forceRed(this);var S=p.mul(g),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(N).iushrn(this.shift),A=I;return I.cmp(this.m)>=0?A=I.isub(this.m):I.cmpn(0)<0&&(A=I.iadd(this.m)),A._forceRed(this)},b.prototype.invm=function(p){var g=this.imod(p._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Rs)})(fB);var SSe=fB.exports;const dr=Ua(SSe),PSe="bignumber/5.8.0";var EA=dr.BN;const Bf=new Kt(PSe),aE={},NV=9007199254740991;let EV=!1;class cn{constructor(e,r){e!==aE&&Bf.throwError("cannot call constructor directly; use BigNumber.from",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ho(Dr(this).fromTwos(e))}toTwos(e){return ho(Dr(this).toTwos(e))}abs(){return this._hex[0]==="-"?cn.from(this._hex.substring(1)):this}add(e){return ho(Dr(this).add(Dr(e)))}sub(e){return ho(Dr(this).sub(Dr(e)))}div(e){return cn.from(e).isZero()&&Oc("division-by-zero","div"),ho(Dr(this).div(Dr(e)))}mul(e){return ho(Dr(this).mul(Dr(e)))}mod(e){const r=Dr(e);return r.isNeg()&&Oc("division-by-zero","mod"),ho(Dr(this).umod(r))}pow(e){const r=Dr(e);return r.isNeg()&&Oc("negative-power","pow"),ho(Dr(this).pow(r))}and(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","and"),ho(Dr(this).and(r))}or(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","or"),ho(Dr(this).or(r))}xor(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","xor"),ho(Dr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Oc("negative-width","mask"),ho(Dr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Oc("negative-width","shl"),ho(Dr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Oc("negative-width","shr"),ho(Dr(this).shrn(e))}eq(e){return Dr(this).eq(Dr(e))}lt(e){return Dr(this).lt(Dr(e))}lte(e){return Dr(this).lte(Dr(e))}gt(e){return Dr(this).gt(Dr(e))}gte(e){return Dr(this).gte(Dr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Dr(this).isZero()}toNumber(){try{return Dr(this).toNumber()}catch{Oc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Bf.throwError("this platform does not support BigInt",Kt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?EV||(EV=!0,Bf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Bf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Kt.errors.UNEXPECTED_ARGUMENT,{}):Bf.throwError("BigNumber.toString does not accept parameters",Kt.errors.UNEXPECTED_ARGUMENT,{})),Dr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof cn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new cn(aE,x6(e)):e.match(/^-?[0-9]+$/)?new cn(aE,x6(new EA(e))):Bf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Oc("underflow","BigNumber.from",e),(e>=NV||e<=-NV)&&Oc("overflow","BigNumber.from",e),cn.from(String(e));const r=e;if(typeof r=="bigint")return cn.from(r.toString());if(JP(r))return cn.from(Cr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return cn.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ca(n)||n[0]==="-"&&Ca(n.substring(1))))return cn.from(n)}return Bf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function x6(t){if(typeof t!="string")return x6(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Bf.throwArgumentError("invalid hex","value",t),t=x6(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ho(t){return cn.from(x6(t))}function Dr(t){const e=cn.from(t).toHexString();return e[0]==="-"?new EA("-"+e.substring(3),16):new EA(e.substring(2),16)}function Oc(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Bf.throwError(t,Kt.errors.NUMERIC_FAULT,n)}function kSe(t){return new EA(t,36).toString(16)}var mse={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",s=n?window:{};s.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",a=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?s=Rs:i&&(s=self);var o=!s.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],h=[1,256,65536,16777216],m=[6,1536,393216,100663296],v=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],E=[128,256],P=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),c&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var M=function(U,J,Z){return function(re){return new $(U,J,U).update(re)[Z]()}},B=function(U,J,Z){return function(re,G){return new $(U,J,G).update(re)[Z]()}},D=function(U,J,Z){return function(re,G,z,se){return p["cshake"+U].update(re,G,z,se)[Z]()}},j=function(U,J,Z){return function(re,G,z,se){return p["kmac"+U].update(re,G,z,se)[Z]()}},T=function(U,J,Z,re){for(var G=0;G<P.length;++G){var z=P[G];U[z]=J(Z,re,z)}return U},R=function(U,J){var Z=M(U,J,"hex");return Z.create=function(){return new $(U,J,U)},Z.update=function(re){return Z.create().update(re)},T(Z,M,U,J)},H=function(U,J){var Z=B(U,J,"hex");return Z.create=function(re){return new $(U,J,re)},Z.update=function(re,G){return Z.create(G).update(re)},T(Z,B,U,J)},O=function(U,J){var Z=_[U],re=D(U,J,"hex");return re.create=function(G,z,se){return!z&&!se?p["shake"+U].create(G):new $(U,J,G).bytepad([z,se],Z)},re.update=function(G,z,se,ce){return re.create(z,se,ce).update(G)},T(re,D,U,J)},b=function(U,J){var Z=_[U],re=j(U,J,"hex");return re.create=function(G,z,se){return new L(U,J,z).bytepad(["KMAC",se],Z).bytepad([G],Z)},re.update=function(G,z,se,ce){return re.create(G,se,ce).update(z)},T(re,j,U,J)},w=[{name:"keccak",padding:h,bits:k,createMethod:R},{name:"sha3",padding:m,bits:k,createMethod:R},{name:"shake",padding:u,bits:E,createMethod:H},{name:"cshake",padding:f,bits:E,createMethod:O},{name:"kmac",padding:f,bits:E,createMethod:b}],p={},g=[],S=0;S<w.length;++S)for(var N=w[S],I=N.bits,A=0;A<I.length;++A){var y=N.name+"_"+I[A];if(g.push(y),p[y]=N.createMethod(I[A],N.padding),N.name!=="sha3"){var C=N.name+I[A];g.push(C),p[C]=p[y]}}function $(U,J,Z){this.blocks=[],this.s=[],this.padding=J,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var re=0;re<50;++re)this.s[re]=0}$.prototype.update=function(U){if(this.finalized)throw new Error(r);var J,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);J=!0}for(var re=this.blocks,G=this.byteCount,z=U.length,se=this.blockCount,ce=0,pe=this.s,Ce,ke;ce<z;){if(this.reset)for(this.reset=!1,re[0]=this.block,Ce=1;Ce<se+1;++Ce)re[Ce]=0;if(J)for(Ce=this.start;ce<z&&Ce<G;++ce)re[Ce>>2]|=U[ce]<<v[Ce++&3];else for(Ce=this.start;ce<z&&Ce<G;++ce)ke=U.charCodeAt(ce),ke<128?re[Ce>>2]|=ke<<v[Ce++&3]:ke<2048?(re[Ce>>2]|=(192|ke>>6)<<v[Ce++&3],re[Ce>>2]|=(128|ke&63)<<v[Ce++&3]):ke<55296||ke>=57344?(re[Ce>>2]|=(224|ke>>12)<<v[Ce++&3],re[Ce>>2]|=(128|ke>>6&63)<<v[Ce++&3],re[Ce>>2]|=(128|ke&63)<<v[Ce++&3]):(ke=65536+((ke&1023)<<10|U.charCodeAt(++ce)&1023),re[Ce>>2]|=(240|ke>>18)<<v[Ce++&3],re[Ce>>2]|=(128|ke>>12&63)<<v[Ce++&3],re[Ce>>2]|=(128|ke>>6&63)<<v[Ce++&3],re[Ce>>2]|=(128|ke&63)<<v[Ce++&3]);if(this.lastByteIndex=Ce,Ce>=G){for(this.start=Ce-G,this.block=re[se],Ce=0;Ce<se;++Ce)pe[Ce]^=re[Ce];Q(pe),this.reset=!0}else this.start=Ce}return this},$.prototype.encode=function(U,J){var Z=U&255,re=1,G=[Z];for(U=U>>8,Z=U&255;Z>0;)G.unshift(Z),U=U>>8,Z=U&255,++re;return J?G.push(re):G.unshift(re),this.update(G),G.length},$.prototype.encodeString=function(U){var J,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);J=!0}var re=0,G=U.length;if(J)re=G;else for(var z=0;z<U.length;++z){var se=U.charCodeAt(z);se<128?re+=1:se<2048?re+=2:se<55296||se>=57344?re+=3:(se=65536+((se&1023)<<10|U.charCodeAt(++z)&1023),re+=4)}return re+=this.encode(re*8),this.update(U),re},$.prototype.bytepad=function(U,J){for(var Z=this.encode(J),re=0;re<U.length;++re)Z+=this.encodeString(U[re]);var G=J-Z%J,z=[];return z.length=G,this.update(z),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,J=this.lastByteIndex,Z=this.blockCount,re=this.s;if(U[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(U[0]=U[Z],J=1;J<Z+1;++J)U[J]=0;for(U[Z-1]|=2147483648,J=0;J<Z;++J)re[J]^=U[J];Q(re)}},$.prototype.toString=$.prototype.hex=function(){this.finalize();for(var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se="",ce;z<Z;){for(G=0;G<U&&z<Z;++G,++z)ce=J[G],se+=l[ce>>4&15]+l[ce&15]+l[ce>>12&15]+l[ce>>8&15]+l[ce>>20&15]+l[ce>>16&15]+l[ce>>28&15]+l[ce>>24&15];z%U===0&&(Q(J),G=0)}return re&&(ce=J[G],se+=l[ce>>4&15]+l[ce&15],re>1&&(se+=l[ce>>12&15]+l[ce>>8&15]),re>2&&(se+=l[ce>>20&15]+l[ce>>16&15])),se},$.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se=this.outputBits>>3,ce;re?ce=new ArrayBuffer(Z+1<<2):ce=new ArrayBuffer(se);for(var pe=new Uint32Array(ce);z<Z;){for(G=0;G<U&&z<Z;++G,++z)pe[z]=J[G];z%U===0&&Q(J)}return re&&(pe[G]=J[G],ce=ce.slice(0,se)),ce},$.prototype.buffer=$.prototype.arrayBuffer,$.prototype.digest=$.prototype.array=function(){this.finalize();for(var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se=[],ce,pe;z<Z;){for(G=0;G<U&&z<Z;++G,++z)ce=z<<2,pe=J[G],se[ce]=pe&255,se[ce+1]=pe>>8&255,se[ce+2]=pe>>16&255,se[ce+3]=pe>>24&255;z%U===0&&Q(J)}return re&&(ce=z<<2,pe=J[G],se[ce]=pe&255,re>1&&(se[ce+1]=pe>>8&255),re>2&&(se[ce+2]=pe>>16&255)),se};function L(U,J,Z){$.call(this,U,J,Z)}L.prototype=new $,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),$.prototype.finalize.call(this)};var Q=function(U){var J,Z,re,G,z,se,ce,pe,Ce,ke,tt,mt,we,qe,Ae,Oe,We,Be,ze,Ke,ct,Y,V,q,ne,le,de,me,rt,ht,ot,pt,Ct,St,Rt,nr,De,He,gt,nt,It,Ut,bt,Je,Pt,it,Tt,X,ee,te,W,ie,fe,Ie,ae,ye,Le,Re,Mt,ut,Ot,Se,be;for(re=0;re<48;re+=2)G=U[0]^U[10]^U[20]^U[30]^U[40],z=U[1]^U[11]^U[21]^U[31]^U[41],se=U[2]^U[12]^U[22]^U[32]^U[42],ce=U[3]^U[13]^U[23]^U[33]^U[43],pe=U[4]^U[14]^U[24]^U[34]^U[44],Ce=U[5]^U[15]^U[25]^U[35]^U[45],ke=U[6]^U[16]^U[26]^U[36]^U[46],tt=U[7]^U[17]^U[27]^U[37]^U[47],mt=U[8]^U[18]^U[28]^U[38]^U[48],we=U[9]^U[19]^U[29]^U[39]^U[49],J=mt^(se<<1|ce>>>31),Z=we^(ce<<1|se>>>31),U[0]^=J,U[1]^=Z,U[10]^=J,U[11]^=Z,U[20]^=J,U[21]^=Z,U[30]^=J,U[31]^=Z,U[40]^=J,U[41]^=Z,J=G^(pe<<1|Ce>>>31),Z=z^(Ce<<1|pe>>>31),U[2]^=J,U[3]^=Z,U[12]^=J,U[13]^=Z,U[22]^=J,U[23]^=Z,U[32]^=J,U[33]^=Z,U[42]^=J,U[43]^=Z,J=se^(ke<<1|tt>>>31),Z=ce^(tt<<1|ke>>>31),U[4]^=J,U[5]^=Z,U[14]^=J,U[15]^=Z,U[24]^=J,U[25]^=Z,U[34]^=J,U[35]^=Z,U[44]^=J,U[45]^=Z,J=pe^(mt<<1|we>>>31),Z=Ce^(we<<1|mt>>>31),U[6]^=J,U[7]^=Z,U[16]^=J,U[17]^=Z,U[26]^=J,U[27]^=Z,U[36]^=J,U[37]^=Z,U[46]^=J,U[47]^=Z,J=ke^(G<<1|z>>>31),Z=tt^(z<<1|G>>>31),U[8]^=J,U[9]^=Z,U[18]^=J,U[19]^=Z,U[28]^=J,U[29]^=Z,U[38]^=J,U[39]^=Z,U[48]^=J,U[49]^=Z,qe=U[0],Ae=U[1],it=U[11]<<4|U[10]>>>28,Tt=U[10]<<4|U[11]>>>28,me=U[20]<<3|U[21]>>>29,rt=U[21]<<3|U[20]>>>29,ut=U[31]<<9|U[30]>>>23,Ot=U[30]<<9|U[31]>>>23,Ut=U[40]<<18|U[41]>>>14,bt=U[41]<<18|U[40]>>>14,St=U[2]<<1|U[3]>>>31,Rt=U[3]<<1|U[2]>>>31,Oe=U[13]<<12|U[12]>>>20,We=U[12]<<12|U[13]>>>20,X=U[22]<<10|U[23]>>>22,ee=U[23]<<10|U[22]>>>22,ht=U[33]<<13|U[32]>>>19,ot=U[32]<<13|U[33]>>>19,Se=U[42]<<2|U[43]>>>30,be=U[43]<<2|U[42]>>>30,Ie=U[5]<<30|U[4]>>>2,ae=U[4]<<30|U[5]>>>2,nr=U[14]<<6|U[15]>>>26,De=U[15]<<6|U[14]>>>26,Be=U[25]<<11|U[24]>>>21,ze=U[24]<<11|U[25]>>>21,te=U[34]<<15|U[35]>>>17,W=U[35]<<15|U[34]>>>17,pt=U[45]<<29|U[44]>>>3,Ct=U[44]<<29|U[45]>>>3,q=U[6]<<28|U[7]>>>4,ne=U[7]<<28|U[6]>>>4,ye=U[17]<<23|U[16]>>>9,Le=U[16]<<23|U[17]>>>9,He=U[26]<<25|U[27]>>>7,gt=U[27]<<25|U[26]>>>7,Ke=U[36]<<21|U[37]>>>11,ct=U[37]<<21|U[36]>>>11,ie=U[47]<<24|U[46]>>>8,fe=U[46]<<24|U[47]>>>8,Je=U[8]<<27|U[9]>>>5,Pt=U[9]<<27|U[8]>>>5,le=U[18]<<20|U[19]>>>12,de=U[19]<<20|U[18]>>>12,Re=U[29]<<7|U[28]>>>25,Mt=U[28]<<7|U[29]>>>25,nt=U[38]<<8|U[39]>>>24,It=U[39]<<8|U[38]>>>24,Y=U[48]<<14|U[49]>>>18,V=U[49]<<14|U[48]>>>18,U[0]=qe^~Oe&Be,U[1]=Ae^~We&ze,U[10]=q^~le&me,U[11]=ne^~de&rt,U[20]=St^~nr&He,U[21]=Rt^~De&gt,U[30]=Je^~it&X,U[31]=Pt^~Tt&ee,U[40]=Ie^~ye&Re,U[41]=ae^~Le&Mt,U[2]=Oe^~Be&Ke,U[3]=We^~ze&ct,U[12]=le^~me&ht,U[13]=de^~rt&ot,U[22]=nr^~He&nt,U[23]=De^~gt&It,U[32]=it^~X&te,U[33]=Tt^~ee&W,U[42]=ye^~Re&ut,U[43]=Le^~Mt&Ot,U[4]=Be^~Ke&Y,U[5]=ze^~ct&V,U[14]=me^~ht&pt,U[15]=rt^~ot&Ct,U[24]=He^~nt&Ut,U[25]=gt^~It&bt,U[34]=X^~te&ie,U[35]=ee^~W&fe,U[44]=Re^~ut&Se,U[45]=Mt^~Ot&be,U[6]=Ke^~Y&qe,U[7]=ct^~V&Ae,U[16]=ht^~pt&q,U[17]=ot^~Ct&ne,U[26]=nt^~Ut&St,U[27]=It^~bt&Rt,U[36]=te^~ie&Je,U[37]=W^~fe&Pt,U[46]=ut^~Se&Ie,U[47]=Ot^~be&ae,U[8]=Y^~qe&Oe,U[9]=V^~Ae&We,U[18]=pt^~q&le,U[19]=Ct^~ne&de,U[28]=Ut^~St&nr,U[29]=bt^~Rt&De,U[38]=ie^~Je&it,U[39]=fe^~Pt&Tt,U[48]=Se^~Ie&ye,U[49]=be^~ae&Le,U[0]^=x[re],U[1]^=x[re+1]};if(o)t.exports=p;else for(S=0;S<g.length;++S)s[g[S]]=p[g[S]]})()})(mse);var ISe=mse.exports;const NSe=Ua(ISe);function bc(t){return"0x"+NSe.keccak_256(Kr(t))}const ESe="rlp/5.8.0",id=new Kt(ESe);function _V(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function CV(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function gse(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(gse(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=_V(n.length);return s.unshift(247+s.length),s.concat(n)}hse(t)||id.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Kr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=_V(e.length);return r.unshift(183+r.length),r.concat(e)}function YP(t){return Cr(gse(t))}function TV(t,e,r,n){const s=[];for(;r<e+1+n;){const i=bse(t,r);s.push(i.result),r+=i.consumed,r>e+1+n&&id.throwError("child data too short",Kt.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function bse(t,e){if(t.length===0&&id.throwError("data too short",Kt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&id.throwError("data short segment too short",Kt.errors.BUFFER_OVERRUN,{});const n=CV(t,e+1,r);return e+1+r+n>t.length&&id.throwError("data long segment too short",Kt.errors.BUFFER_OVERRUN,{}),TV(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&id.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{}),TV(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&id.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{});const n=CV(t,e+1,r);e+1+r+n>t.length&&id.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{});const s=Cr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:s}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&id.throwError("data too short",Kt.errors.BUFFER_OVERRUN,{});const n=Cr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Cr(t[e])}}function GP(t){const e=Kr(t),r=bse(e,0);return r.consumed!==e.length&&id.throwArgumentError("invalid rlp data","data",t),r.result}const _Se="address/5.8.0",Fw=new Kt(_Se);function jV(t){Ca(t,20)||Fw.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Kr(bc(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const CSe=9007199254740991;function TSe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const hB={};for(let t=0;t<10;t++)hB[String(t)]=String(t);for(let t=0;t<26;t++)hB[String.fromCharCode(65+t)]=String(10+t);const $V=Math.floor(TSe(CSe));function jSe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>hB[n]).join("");for(;e.length>=$V;){let n=e.substring(0,$V);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Eh(t){let e=null;if(typeof t!="string"&&Fw.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=jV(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Fw.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==jSe(t)&&Fw.throwArgumentError("bad icap checksum","address",t),e=kSe(t.substring(4));e.length<40;)e="0"+e;e=jV("0x"+e)}else Fw.throwArgumentError("invalid address","address",t);return e}const $Se="0x0000000000000000000000000000000000000000",MSe=cn.from(-1),yse=cn.from(0),OSe=cn.from(1),FSe=cn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BSe="properties/5.8.0",vse=new Kt(BSe);function As(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function A8(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const RSe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function xse(t){if(t==null||RSe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!xse(n))return!1}return!0}return vse.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function DSe(t){if(xse(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>uj(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&As(e,r,uj(n))}return e}return vse.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function uj(t){return DSe(t)}class ek{constructor(e){for(const r in e)this[r]=uj(e[r])}}var R1={},Ur={},sm=wse;function wse(t,e){if(!t)throw new Error(e||"Assertion failed")}wse.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var dj={exports:{}};typeof Object.create=="function"?dj.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:dj.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var D1=dj.exports,USe=sm,zSe=D1;Ur.inherits=zSe;function LSe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function VSe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16))}else for(var n=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):LSe(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<t.length;s++)r[s]=t[s]|0;return r}Ur.toArray=VSe;function HSe(t){for(var e="",r=0;r<t.length;r++)e+=Sse(t[r].toString(16));return e}Ur.toHex=HSe;function Ase(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ur.htonl=Ase;function WSe(t,e){for(var r="",n=0;n<t.length;n++){var s=t[n];e==="little"&&(s=Ase(s)),r+=Pse(s.toString(16))}return r}Ur.toHex32=WSe;function Sse(t){return t.length===1?"0"+t:t}Ur.zero2=Sse;function Pse(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ur.zero8=Pse;function qSe(t,e,r,n){var s=r-e;USe(s%4===0);for(var i=new Array(s/4),a=0,o=e;a<i.length;a++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],i[a]=c>>>0}return i}Ur.join32=qSe;function KSe(t,e){for(var r=new Array(t.length*4),n=0,s=0;n<t.length;n++,s+=4){var i=t[n];e==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}Ur.split32=KSe;function XSe(t,e){return t>>>e|t<<32-e}Ur.rotr32=XSe;function ZSe(t,e){return t<<e|t>>>32-e}Ur.rotl32=ZSe;function JSe(t,e){return t+e>>>0}Ur.sum32=JSe;function QSe(t,e,r){return t+e+r>>>0}Ur.sum32_3=QSe;function YSe(t,e,r,n){return t+e+r+n>>>0}Ur.sum32_4=YSe;function GSe(t,e,r,n,s){return t+e+r+n+s>>>0}Ur.sum32_5=GSe;function ePe(t,e,r,n){var s=t[e],i=t[e+1],a=n+i>>>0,o=(a<n?1:0)+r+s;t[e]=o>>>0,t[e+1]=a}Ur.sum64=ePe;function tPe(t,e,r,n){var s=e+n>>>0,i=(s<e?1:0)+t+r;return i>>>0}Ur.sum64_hi=tPe;function rPe(t,e,r,n){var s=e+n;return s>>>0}Ur.sum64_lo=rPe;function nPe(t,e,r,n,s,i,a,o){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+i>>>0,c+=l<i?1:0,l=l+o>>>0,c+=l<o?1:0;var u=t+r+s+a+c;return u>>>0}Ur.sum64_4_hi=nPe;function sPe(t,e,r,n,s,i,a,o){var c=e+n+i+o;return c>>>0}Ur.sum64_4_lo=sPe;function iPe(t,e,r,n,s,i,a,o,c,l){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+i>>>0,u+=f<i?1:0,f=f+o>>>0,u+=f<o?1:0,f=f+l>>>0,u+=f<l?1:0;var h=t+r+s+a+c+u;return h>>>0}Ur.sum64_5_hi=iPe;function aPe(t,e,r,n,s,i,a,o,c,l){var u=e+n+i+o+l;return u>>>0}Ur.sum64_5_lo=aPe;function oPe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ur.rotr64_hi=oPe;function cPe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ur.rotr64_lo=cPe;function lPe(t,e,r){return t>>>r}Ur.shr64_hi=lPe;function uPe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ur.shr64_lo=uPe;var r2={},MV=Ur,dPe=sm;function tk(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r2.BlockHash=tk;tk.prototype.update=function(e,r){if(e=MV.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=MV.join32(e,0,e.length-n,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};tk.prototype.digest=function(e){return this.update(this._pad()),dPe(this.pending===null),this._digest(e)};tk.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,a=8;a<this.padLength;a++)s[i++]=0;return s};var n2={},of={},fPe=Ur,Bd=fPe.rotr32;function hPe(t,e,r,n){if(t===0)return kse(e,r,n);if(t===1||t===3)return Nse(e,r,n);if(t===2)return Ise(e,r,n)}of.ft_1=hPe;function kse(t,e,r){return t&e^~t&r}of.ch32=kse;function Ise(t,e,r){return t&e^t&r^e&r}of.maj32=Ise;function Nse(t,e,r){return t^e^r}of.p32=Nse;function pPe(t){return Bd(t,2)^Bd(t,13)^Bd(t,22)}of.s0_256=pPe;function mPe(t){return Bd(t,6)^Bd(t,11)^Bd(t,25)}of.s1_256=mPe;function gPe(t){return Bd(t,7)^Bd(t,18)^t>>>3}of.g0_256=gPe;function bPe(t){return Bd(t,17)^Bd(t,19)^t>>>10}of.g1_256=bPe;var px=Ur,yPe=r2,vPe=of,oE=px.rotl32,X2=px.sum32,xPe=px.sum32_5,wPe=vPe.ft_1,Ese=yPe.BlockHash,APe=[1518500249,1859775393,2400959708,3395469782];function Yd(){if(!(this instanceof Yd))return new Yd;Ese.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}px.inherits(Yd,Ese);var SPe=Yd;Yd.blockSize=512;Yd.outSize=160;Yd.hmacStrength=80;Yd.padLength=64;Yd.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=oE(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4];for(s=0;s<n.length;s++){var u=~~(s/20),f=xPe(oE(i,5),wPe(u,a,o,c),l,n[s],APe[u]);l=c,c=o,o=oE(a,30),a=i,i=f}this.h[0]=X2(this.h[0],i),this.h[1]=X2(this.h[1],a),this.h[2]=X2(this.h[2],o),this.h[3]=X2(this.h[3],c),this.h[4]=X2(this.h[4],l)};Yd.prototype._digest=function(e){return e==="hex"?px.toHex32(this.h,"big"):px.split32(this.h,"big")};var mx=Ur,PPe=r2,s2=of,kPe=sm,Bl=mx.sum32,IPe=mx.sum32_4,NPe=mx.sum32_5,EPe=s2.ch32,_Pe=s2.maj32,CPe=s2.s0_256,TPe=s2.s1_256,jPe=s2.g0_256,$Pe=s2.g1_256,_se=PPe.BlockHash,MPe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gd(){if(!(this instanceof Gd))return new Gd;_se.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=MPe,this.W=new Array(64)}mx.inherits(Gd,_se);var Cse=Gd;Gd.blockSize=512;Gd.outSize=256;Gd.hmacStrength=192;Gd.padLength=64;Gd.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=IPe($Pe(n[s-2]),n[s-7],jPe(n[s-15]),n[s-16]);var i=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],h=this.h[7];for(kPe(this.k.length===n.length),s=0;s<n.length;s++){var m=NPe(h,TPe(l),EPe(l,u,f),this.k[s],n[s]),v=Bl(CPe(i),_Pe(i,a,o));h=f,f=u,u=l,l=Bl(c,m),c=o,o=a,a=i,i=Bl(m,v)}this.h[0]=Bl(this.h[0],i),this.h[1]=Bl(this.h[1],a),this.h[2]=Bl(this.h[2],o),this.h[3]=Bl(this.h[3],c),this.h[4]=Bl(this.h[4],l),this.h[5]=Bl(this.h[5],u),this.h[6]=Bl(this.h[6],f),this.h[7]=Bl(this.h[7],h)};Gd.prototype._digest=function(e){return e==="hex"?mx.toHex32(this.h,"big"):mx.split32(this.h,"big")};var fj=Ur,Tse=Cse;function _h(){if(!(this instanceof _h))return new _h;Tse.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}fj.inherits(_h,Tse);var OPe=_h;_h.blockSize=512;_h.outSize=224;_h.hmacStrength=192;_h.padLength=64;_h.prototype._digest=function(e){return e==="hex"?fj.toHex32(this.h.slice(0,7),"big"):fj.split32(this.h.slice(0,7),"big")};var Do=Ur,FPe=r2,BPe=sm,Rd=Do.rotr64_hi,Dd=Do.rotr64_lo,jse=Do.shr64_hi,$se=Do.shr64_lo,Gh=Do.sum64,cE=Do.sum64_hi,lE=Do.sum64_lo,RPe=Do.sum64_4_hi,DPe=Do.sum64_4_lo,UPe=Do.sum64_5_hi,zPe=Do.sum64_5_lo,Mse=FPe.BlockHash,LPe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Cu(){if(!(this instanceof Cu))return new Cu;Mse.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=LPe,this.W=new Array(160)}Do.inherits(Cu,Mse);var Ose=Cu;Cu.blockSize=1024;Cu.outSize=512;Cu.hmacStrength=192;Cu.padLength=128;Cu.prototype._prepareBlock=function(e,r){for(var n=this.W,s=0;s<32;s++)n[s]=e[r+s];for(;s<n.length;s+=2){var i=GPe(n[s-4],n[s-3]),a=eke(n[s-4],n[s-3]),o=n[s-14],c=n[s-13],l=QPe(n[s-30],n[s-29]),u=YPe(n[s-30],n[s-29]),f=n[s-32],h=n[s-31];n[s]=RPe(i,a,o,c,l,u,f,h),n[s+1]=DPe(i,a,o,c,l,u,f,h)}};Cu.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,s=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7],h=this.h[8],m=this.h[9],v=this.h[10],x=this.h[11],k=this.h[12],E=this.h[13],P=this.h[14],_=this.h[15];BPe(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var B=P,D=_,j=ZPe(h,m),T=JPe(h,m),R=VPe(h,m,v,x,k),H=HPe(h,m,v,x,k,E),O=this.k[M],b=this.k[M+1],w=n[M],p=n[M+1],g=UPe(B,D,j,T,R,H,O,b,w,p),S=zPe(B,D,j,T,R,H,O,b,w,p);B=KPe(s,i),D=XPe(s,i),j=WPe(s,i,a,o,c),T=qPe(s,i,a,o,c,l);var N=cE(B,D,j,T),I=lE(B,D,j,T);P=k,_=E,k=v,E=x,v=h,x=m,h=cE(u,f,g,S),m=lE(f,f,g,S),u=c,f=l,c=a,l=o,a=s,o=i,s=cE(g,S,N,I),i=lE(g,S,N,I)}Gh(this.h,0,s,i),Gh(this.h,2,a,o),Gh(this.h,4,c,l),Gh(this.h,6,u,f),Gh(this.h,8,h,m),Gh(this.h,10,v,x),Gh(this.h,12,k,E),Gh(this.h,14,P,_)};Cu.prototype._digest=function(e){return e==="hex"?Do.toHex32(this.h,"big"):Do.split32(this.h,"big")};function VPe(t,e,r,n,s){var i=t&r^~t&s;return i<0&&(i+=4294967296),i}function HPe(t,e,r,n,s,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function WPe(t,e,r,n,s){var i=t&r^t&s^r&s;return i<0&&(i+=4294967296),i}function qPe(t,e,r,n,s,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function KPe(t,e){var r=Rd(t,e,28),n=Rd(e,t,2),s=Rd(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function XPe(t,e){var r=Dd(t,e,28),n=Dd(e,t,2),s=Dd(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function ZPe(t,e){var r=Rd(t,e,14),n=Rd(t,e,18),s=Rd(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function JPe(t,e){var r=Dd(t,e,14),n=Dd(t,e,18),s=Dd(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function QPe(t,e){var r=Rd(t,e,1),n=Rd(t,e,8),s=jse(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function YPe(t,e){var r=Dd(t,e,1),n=Dd(t,e,8),s=$se(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function GPe(t,e){var r=Rd(t,e,19),n=Rd(e,t,29),s=jse(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}function eke(t,e){var r=Dd(t,e,19),n=Dd(e,t,29),s=$se(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}var hj=Ur,Fse=Ose;function Ch(){if(!(this instanceof Ch))return new Ch;Fse.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}hj.inherits(Ch,Fse);var tke=Ch;Ch.blockSize=1024;Ch.outSize=384;Ch.hmacStrength=192;Ch.padLength=128;Ch.prototype._digest=function(e){return e==="hex"?hj.toHex32(this.h.slice(0,12),"big"):hj.split32(this.h.slice(0,12),"big")};n2.sha1=SPe;n2.sha224=OPe;n2.sha256=Cse;n2.sha384=tke;n2.sha512=Ose;var Bse={},m1=Ur,rke=r2,S8=m1.rotl32,OV=m1.sum32,Z2=m1.sum32_3,FV=m1.sum32_4,Rse=rke.BlockHash;function ef(){if(!(this instanceof ef))return new ef;Rse.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}m1.inherits(ef,Rse);Bse.ripemd160=ef;ef.blockSize=512;ef.outSize=160;ef.hmacStrength=192;ef.padLength=64;ef.prototype._update=function(e,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],c=n,l=s,u=i,f=a,h=o,m=0;m<80;m++){var v=OV(S8(FV(n,BV(m,s,i,a),e[ike[m]+r],nke(m)),oke[m]),o);n=o,o=a,a=S8(i,10),i=s,s=v,v=OV(S8(FV(c,BV(79-m,l,u,f),e[ake[m]+r],ske(m)),cke[m]),h),c=h,h=f,f=S8(u,10),u=l,l=v}v=Z2(this.h[1],i,f),this.h[1]=Z2(this.h[2],a,h),this.h[2]=Z2(this.h[3],o,c),this.h[3]=Z2(this.h[4],n,l),this.h[4]=Z2(this.h[0],s,u),this.h[0]=v};ef.prototype._digest=function(e){return e==="hex"?m1.toHex32(this.h,"little"):m1.split32(this.h,"little")};function BV(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function nke(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ske(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var ike=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ake=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oke=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cke=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],lke=Ur,uke=sm;function gx(t,e,r){if(!(this instanceof gx))return new gx(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(lke.toArray(e,r))}var dke=gx;gx.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),uke(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};gx.prototype.update=function(e,r){return this.inner.update(e,r),this};gx.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ur,e.common=r2,e.sha=n2,e.ripemd=Bse,e.hmac=dke,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(R1);const jf=Ua(R1);function i2(t,e,r){return r={path:e,exports:{},require:function(n,s){return fke(n,s??r.path)}},t(r,r.exports),r.exports}function fke(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var pB=Dse;function Dse(t,e){if(!t)throw new Error(e||"Assertion failed")}Dse.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var gu=i2(function(t,e){var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var l=0;l<a.length;l++)c[l]=a[l]|0;return c}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var l=0;l<a.length;l+=2)c.push(parseInt(a[l]+a[l+1],16))}else for(var l=0;l<a.length;l++){var u=a.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function s(a){return a.length===1?"0"+a:a}r.zero2=s;function i(a){for(var o="",c=0;c<a.length;c++)o+=s(a[c].toString(16));return o}r.toHex=i,r.encode=function(o,c){return c==="hex"?i(o):o}}),Sc=i2(function(t,e){var r=e;r.assert=pB,r.toArray=gu.toArray,r.zero2=gu.zero2,r.toHex=gu.toHex,r.encode=gu.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var m=1<<l+1,v=c.clone();for(h=0;h<f.length;h++){var x,k=v.andln(m-1);v.isOdd()?(k>(m>>1)-1?x=(m>>1)-k:x=k,v.isubn(x)):x=0,f[h]=x,v.iushrn(1)}return f}r.getNAF=n;function s(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,m;c.cmpn(-f)>0||l.cmpn(-h)>0;){var v=c.andln(3)+f&3,x=l.andln(3)+h&3;v===3&&(v=-1),x===3&&(x=-1);var k;v&1?(m=c.andln(7)+f&7,(m===3||m===5)&&x===2?k=-v:k=v):k=0,u[0].push(k);var E;x&1?(m=l.andln(7)+h&7,(m===3||m===5)&&v===2?E=-x:E=x):E=0,u[1].push(E),2*f===k+1&&(f=1-f),2*h===E+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=s;function i(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=i;function a(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=a;function o(c){return new dr(c,"hex","le")}r.intFromLE=o}),_A=Sc.getNAF,hke=Sc.getJSF,CA=Sc.assert;function im(t,e){this.type=t,this.p=new dr(e.p,16),this.red=e.prime?dr.red(e.prime):dr.mont(this.p),this.zero=new dr(0).toRed(this.red),this.one=new dr(1).toRed(this.red),this.two=new dr(2).toRed(this.red),this.n=e.n&&new dr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var U1=im;im.prototype.point=function(){throw new Error("Not implemented")};im.prototype.validate=function(){throw new Error("Not implemented")};im.prototype._fixedNafMul=function(e,r){CA(e.precomputed);var n=e._getDoubles(),s=_A(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};im.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=_A(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];CA(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};im.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var v=u-1,x=u;if(a[v]!==1||a[x]!==1){c[v]=_A(n[v],a[v],this._bitLength),c[x]=_A(n[x],a[x],this._bitLength),l=Math.max(c[v].length,l),l=Math.max(c[x].length,l);continue}var k=[r[v],null,null,r[x]];r[v].y.cmp(r[x].y)===0?(k[1]=r[v].add(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg())):r[v].y.cmp(r[x].y.redNeg())===0?(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].add(r[x].neg())):(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],P=hke(n[v],n[x]);for(l=Math.max(P[0].length,l),c[v]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=P[0][f]|0,M=P[1][f]|0;c[v][f]=E[(_+1)*3+(M+1)],c[x][f]=0,o[v]=k}}var B=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,B=B.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?B=B.mixedAdd(h):B=B.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?B:B.toP()};function Nl(t,e){this.curve=t,this.type=e,this.precomputed=null}im.BasePoint=Nl;Nl.prototype.eq=function(){throw new Error("Not implemented")};Nl.prototype.validate=function(){return this.curve.validate(this)};im.prototype.decodePoint=function(e,r){e=Sc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?CA(e[e.length-1]%2===0):e[0]===7&&CA(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nl.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nl.prototype.encode=function(e,r){return Sc.encode(this._encode(r),e)};Nl.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nl.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};Nl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};Nl.prototype._getBeta=function(){return null};Nl.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var mB=i2(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r}}}),pke=Sc.assert;function El(t){U1.call(this,"short",t),this.a=new dr(t.a,16).toRed(this.red),this.b=new dr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mB(El,U1);var mke=El;El.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dr(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new dr(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],pke(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new dr(o.a,16),b:new dr(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};El.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:dr.mont(e),n=new dr(2).toRed(r).redInvm(),s=n.redNeg(),i=new dr(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};El.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new dr(1),a=new dr(0),o=new dr(0),c=new dr(1),l,u,f,h,m,v,x,k=0,E,P;n.cmpn(0)!==0;){var _=s.div(n);E=s.sub(_.mul(n)),P=o.sub(_.mul(i));var M=c.sub(_.mul(a));if(!f&&E.cmp(r)<0)l=x.neg(),u=i,f=E.neg(),h=P;else if(f&&++k===2)break;x=E,s=n,n=E,o=i,i=P,c=a,a=M}m=E.neg(),v=P;var B=f.sqr().add(h.sqr()),D=m.sqr().add(v.sqr());return D.cmp(B)>=0&&(m=l,v=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:f,b:h},{a:m,b:v}]};El.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};El.prototype.pointFromX=function(e,r){e=new dr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};El.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};El.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ii(t,e,r,n){U1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr(e,16),this.y=new dr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}mB(Ii,U1.BasePoint);El.prototype.point=function(e,r,n){return new Ii(this,e,r,n)};El.prototype.pointFromJSON=function(e,r){return Ii.fromJSON(this,e,r)};Ii.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ii.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ii.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ii.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ii.prototype.isInfinity=function(){return this.inf};Ii.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ii.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ii.prototype.getX=function(){return this.x.fromRed()};Ii.prototype.getY=function(){return this.y.fromRed()};Ii.prototype.mul=function(e){return e=new dr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ii.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ii.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ii.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ii.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ii.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qi(t,e,r,n){U1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr(0)):(this.x=new dr(e,16),this.y=new dr(r,16),this.z=new dr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}mB(Qi,U1.BasePoint);El.prototype.jpoint=function(e,r,n){return new Qi(this,e,r,n)};Qi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};Qi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),v=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};Qi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),v=this.z.redMul(o);return this.curve.jpoint(h,m,v)};Qi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=v.redSqr().redISub(x.redAdd(x)),E=x.redISub(k),P=v.redMul(E);P=P.redIAdd(P).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=P}return this.curve.jpoint(a,u.redMul(i),c)};Qi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),v=this.x.redAdd(h).redSqr().redISub(f).redISub(m);v=v.redIAdd(v);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),E=m.redIAdd(m);E=E.redIAdd(E),E=E.redIAdd(E),e=k.redISub(v).redISub(v),r=x.redMul(v.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Qi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=v.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var E=h.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=v.redMul(x.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};Qi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,v,x)};Qi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,v)};Qi.prototype.mul=function(e,r){return e=new dr(e,r),this.curve._wnafMul(this,e)};Qi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};Qi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Qi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var q9=i2(function(t,e){var r=e;r.base=U1,r.short=mke,r.mont=null,r.edwards=null}),K9=i2(function(t,e){var r=e,n=Sc.assert;function s(o){o.type==="short"?this.curve=new q9.short(o):o.type==="edwards"?this.curve=new q9.edwards(o):this.curve=new q9.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function i(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:l}),l}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:jf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:jf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:jf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:jf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:jf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jf.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:jf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Wp(t){if(!(this instanceof Wp))return new Wp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=gu.toArray(t.entropy,t.entropyEnc||"hex"),r=gu.toArray(t.nonce,t.nonceEnc||"hex"),n=gu.toArray(t.pers,t.persEnc||"hex");pB(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Use=Wp;Wp.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Wp.prototype._hmac=function(){return new jf.hmac(this.hash,this.K)};Wp.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Wp.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=gu.toArray(e,r),n=gu.toArray(n,s),pB(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Wp.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=gu.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,gu.encode(a,r)};var pj=Sc.assert;function ja(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var gB=ja;ja.fromPublic=function(e,r,n){return r instanceof ja?r:new ja(e,{pub:r,pubEnc:n})};ja.fromPrivate=function(e,r,n){return r instanceof ja?r:new ja(e,{priv:r,privEnc:n})};ja.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ja.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ja.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ja.prototype._importPrivate=function(e,r){this.priv=new dr(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ja.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?pj(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&pj(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ja.prototype.derive=function(e){return e.validate()||pj(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ja.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ja.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ja.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var gke=Sc.assert;function rk(t,e){if(t instanceof rk)return t;this._importDER(t,e)||(gke(t.r&&t.s,"Signature without r or s"),this.r=new dr(t.r,16),this.s=new dr(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var nk=rk;function bke(){this.place=0}function uE(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function RV(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}rk.prototype._importDER=function(e,r){e=Sc.toArray(e,r);var n=new bke;if(e[n.place++]!==48)return!1;var s=uE(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=uE(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=uE(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new dr(a),this.s=new dr(c),this.recoveryParam=null,!0};function dE(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}rk.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=RV(r),n=RV(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];dE(s,r.length),s=s.concat(r),s.push(2),dE(s,n.length);var i=s.concat(n),a=[48];return dE(a,i.length),a=a.concat(i),Sc.encode(a,e)};var yke=function(){throw new Error("unsupported")},Hm=Sc.assert;function Sl(t){if(!(this instanceof Sl))return new Sl(t);typeof t=="string"&&(Hm(Object.prototype.hasOwnProperty.call(K9,t),"Unknown curve "+t),t=K9[t]),t instanceof K9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var vke=Sl;Sl.prototype.keyPair=function(e){return new gB(this,e)};Sl.prototype.keyFromPrivate=function(e,r){return gB.fromPrivate(this,e,r)};Sl.prototype.keyFromPublic=function(e,r){return gB.fromPublic(this,e,r)};Sl.prototype.genKeyPair=function(e){e||(e={});for(var r=new Use({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||yke(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new dr(2));;){var i=new dr(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Sl.prototype._truncateToN=function(e,r,n){var s;if(dr.isBN(e)||typeof e=="number")e=new dr(e,16),s=e.byteLength();else if(typeof e=="object")s=e.length,e=new dr(e,16);else{var i=e.toString();s=i.length+1>>>1,e=new dr(i,16)}typeof n!="number"&&(n=s*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Sl.prototype.sign=function(e,r,n,s){if(typeof n=="object"&&(s=n,n=null),s||(s={}),typeof e!="string"&&typeof e!="number"&&!dr.isBN(e)){Hm(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Hm(e.length>>>0===e.length);for(var i=0;i<e.length;i++)Hm((e[i]&255)===e[i])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,s.msgBitLength),Hm(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),c=e.toArray("be",a);Hm(new dr(c).eq(e),"Can not sign message");for(var l=new Use({hash:this.hash,entropy:o,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),u=this.n.sub(new dr(1)),f=0;;f++){var h=s.k?s.k(f):new dr(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var m=this.g.mul(h);if(!m.isInfinity()){var v=m.getX(),x=v.umod(this.n);if(x.cmpn(0)!==0){var k=h.invm(this.n).mul(x.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var E=(m.getY().isOdd()?1:0)|(v.cmp(x)!==0?2:0);return s.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),E^=1),new nk({r:x,s:k,recoveryParam:E})}}}}}};Sl.prototype.verify=function(e,r,n,s,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),n=this.keyFromPublic(n,s),r=new nk(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(a).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(a)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(a)===0)};Sl.prototype.recoverPubKey=function(t,e,r,n){Hm((3&r)===r,"The recovery param is more than two bits"),e=new nk(e,n);var s=this.n,i=new dr(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};Sl.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new nk(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var xke=i2(function(t,e){var r=e;r.version="6.6.1",r.utils=Sc,r.rand=function(){throw new Error("unsupported")},r.curve=q9,r.curves=K9,r.ec=vke,r.eddsa=null}),wke=xke.ec;const Ake="signing-key/5.8.0",mj=new Kt(Ake);let fE=null;function T0(){return fE||(fE=new wke("secp256k1")),fE}let Ske=class{constructor(e){As(this,"curve","secp256k1"),As(this,"privateKey",Cr(e)),pse(this.privateKey)!==32&&mj.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=T0().keyFromPrivate(Kr(this.privateKey));As(this,"publicKey","0x"+r.getPublic(!1,"hex")),As(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),As(this,"_isSigningKey",!0)}_addPoint(e){const r=T0().keyFromPublic(Kr(this.publicKey)),n=T0().keyFromPublic(Kr(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=T0().keyFromPrivate(Kr(this.privateKey)),n=Kr(e);n.length!==32&&mj.throwArgumentError("bad digest length","digest",e);const s=r.sign(n,{canonical:!0});return QP({recoveryParam:s.recoveryParam,r:yl("0x"+s.r.toString(16),32),s:yl("0x"+s.s.toString(16),32)})}computeSharedSecret(e){const r=T0().keyFromPrivate(Kr(this.privateKey)),n=T0().keyFromPublic(Kr(bB(e)));return yl("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function zse(t,e){const r=QP(e),n={r:Kr(r.r),s:Kr(r.s)};return"0x"+T0().recoverPubKey(Kr(t),n,r.recoveryParam).encode("hex",!1)}function bB(t,e){const r=Kr(t);return r.length===32?new Ske(r).publicKey:r.length===33?"0x"+T0().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Cr(r):mj.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Pke="transactions/5.8.0",Uh=new Kt(Pke);var DV;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(DV||(DV={}));function yB(t){return t==="0x"?null:Eh(t)}function Ea(t){return t==="0x"?yse:cn.from(t)}function kke(t){const e=bB(t);return Eh(v6(bc(v6(e,1)),12))}function vB(t,e){return kke(zse(Kr(t),e))}function ic(t,e){const r=y6(cn.from(t).toHexString());return r.length>32&&Uh.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function hE(t,e){return{address:Eh(t),storageKeys:(e||[]).map((r,n)=>(pse(r)!==32&&Uh.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function xB(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Uh.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),hE(r[0],r[1])):hE(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return hE(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Lse(t){return xB(t).map(e=>[e.address,e.storageKeys])}function Ike(t,e){if(t.gasPrice!=null){const n=cn.from(t.gasPrice),s=cn.from(t.maxFeePerGas||0);n.eq(s)||Uh.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:s})}const r=[ic(t.chainId||0,"chainId"),ic(t.nonce||0,"nonce"),ic(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ic(t.maxFeePerGas||0,"maxFeePerGas"),ic(t.gasLimit||0,"gasLimit"),t.to!=null?Eh(t.to):"0x",ic(t.value||0,"value"),t.data||"0x",Lse(t.accessList||[])];if(e){const n=QP(e);r.push(ic(n.recoveryParam,"recoveryParam")),r.push(y6(n.r)),r.push(y6(n.s))}return dB(["0x02",YP(r)])}function Nke(t,e){const r=[ic(t.chainId||0,"chainId"),ic(t.nonce||0,"nonce"),ic(t.gasPrice||0,"gasPrice"),ic(t.gasLimit||0,"gasLimit"),t.to!=null?Eh(t.to):"0x",ic(t.value||0,"value"),t.data||"0x",Lse(t.accessList||[])];if(e){const n=QP(e);r.push(ic(n.recoveryParam,"recoveryParam")),r.push(y6(n.r)),r.push(y6(n.s))}return dB(["0x01",YP(r)])}function Vse(t,e,r){try{const n=Ea(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Uh.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=yl(e[1],32),t.s=yl(e[2],32);try{const n=bc(r(t));t.from=vB(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Eke(t){const e=GP(t.slice(1));e.length!==9&&e.length!==12&&Uh.throwArgumentError("invalid component count for transaction type: 2","payload",Cr(t));const r=Ea(e[2]),n=Ea(e[3]),s={type:2,chainId:Ea(e[0]).toNumber(),nonce:Ea(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ea(e[4]),to:yB(e[5]),value:Ea(e[6]),data:e[7],accessList:xB(e[8])};return e.length===9||(s.hash=bc(t),Vse(s,e.slice(9),Ike)),s}function _ke(t){const e=GP(t.slice(1));e.length!==8&&e.length!==11&&Uh.throwArgumentError("invalid component count for transaction type: 1","payload",Cr(t));const r={type:1,chainId:Ea(e[0]).toNumber(),nonce:Ea(e[1]).toNumber(),gasPrice:Ea(e[2]),gasLimit:Ea(e[3]),to:yB(e[4]),value:Ea(e[5]),data:e[6],accessList:xB(e[7])};return e.length===8||(r.hash=bc(t),Vse(r,e.slice(8),Nke)),r}function Cke(t){const e=GP(t);e.length!==9&&e.length!==6&&Uh.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ea(e[0]).toNumber(),gasPrice:Ea(e[1]),gasLimit:Ea(e[2]),to:yB(e[3]),value:Ea(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=cn.from(e[6]).toNumber()}catch{return r}if(r.r=yl(e[7],32),r.s=yl(e[8],32),cn.from(r.r).isZero()&&cn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const s=e.slice(0,6);r.chainId!==0&&(s.push(Cr(r.chainId)),s.push("0x"),s.push("0x"),n-=r.chainId*2+8);const i=bc(YP(s));try{r.from=vB(i,{r:Cr(r.r),s:Cr(r.s),recoveryParam:n})}catch{}r.hash=bc(t)}return r.type=null,r}function Hse(t){const e=Kr(t);if(e[0]>127)return Cke(e);switch(e[0]){case 1:return _ke(e);case 2:return Eke(e)}return Uh.throwError(`unsupported transaction type: ${e[0]}`,Kt.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Tke=st("EthAppPleaseEnableContractData"),jke=st("EthAppNftNotSupported"),$ke=st("CeloAppPleaseEnableContractData");var gj={exports:{}};const Mke="2.0.0",Wse=256,Oke=Number.MAX_SAFE_INTEGER||9007199254740991,Fke=16,Bke=Wse-6,Rke=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var sk={MAX_LENGTH:Wse,MAX_SAFE_COMPONENT_LENGTH:Fke,MAX_SAFE_BUILD_LENGTH:Bke,MAX_SAFE_INTEGER:Oke,RELEASE_TYPES:Rke,SEMVER_SPEC_VERSION:Mke,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},pE={};const Dke=typeof process=="object"&&pE&&pE.NODE_DEBUG&&/\bsemver\b/i.test(pE.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ik=Dke;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=sk,i=ik;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[h,n]],v=k=>{for(const[E,P]of m)k=k.split(`${E}*`).join(`${E}{0,${P}}`).split(`${E}+`).join(`${E}{1,${P}}`);return k},x=(k,E,P)=>{const _=v(E),M=f++;i(k,M,E),u[k]=M,c[M]=E,l[M]=_,a[M]=new RegExp(E,P?"g":void 0),o[M]=new RegExp(_,P?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),x("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${h}+`),x("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),x("FULL",`^${c[u.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),x("LOOSE",`^${c[u.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),x("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",c[u.COERCE],!0),x("COERCERTLFULL",c[u.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(gj,gj.exports);var z4=gj.exports;const Uke=Object.freeze({loose:!0}),zke=Object.freeze({}),Lke=t=>t?typeof t!="object"?Uke:t:zke;var wB=Lke;const UV=/^[0-9]+$/,qse=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=UV.test(t),n=UV.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Vke=(t,e)=>qse(e,t);var Kse={compareIdentifiers:qse,rcompareIdentifiers:Vke};const P8=ik,{MAX_LENGTH:zV,MAX_SAFE_INTEGER:k8}=sk,{safeRe:I8,t:N8}=z4,Hke=wB,{compareIdentifiers:mE}=Kse;let Wke=class Ju{constructor(e,r){if(r=Hke(r),e instanceof Ju){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>zV)throw new TypeError(`version is longer than ${zV} characters`);P8("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?I8[N8.LOOSE]:I8[N8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>k8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>k8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>k8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<k8)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(P8("SemVer.compare",this.version,this.options,e),!(e instanceof Ju)){if(typeof e=="string"&&e===this.version)return 0;e=new Ju(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ju||(e=new Ju(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof Ju||(e=new Ju(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(P8("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return mE(n,s)}while(++r)}compareBuild(e){e instanceof Ju||(e=new Ju(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(P8("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return mE(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?I8[N8.PRERELEASELOOSE]:I8[N8.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),mE(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var co=Wke;const LV=co,qke=(t,e,r=!1)=>{if(t instanceof LV)return t;try{return new LV(t,e)}catch(n){if(!r)return null;throw n}};var a2=qke;const Kke=a2,Xke=(t,e)=>{const r=Kke(t,e);return r?r.version:null};var Zke=Xke;const Jke=a2,Qke=(t,e)=>{const r=Jke(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Yke=Qke;const VV=co,Gke=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new VV(t instanceof VV?t.version:t,r).inc(e,n,s).version}catch{return null}};var eIe=Gke;const HV=a2,tIe=(t,e)=>{const r=HV(t,null,!0),n=HV(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,a=i?r:n,o=i?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var rIe=tIe;const nIe=co,sIe=(t,e)=>new nIe(t,e).major;var iIe=sIe;const aIe=co,oIe=(t,e)=>new aIe(t,e).minor;var cIe=oIe;const lIe=co,uIe=(t,e)=>new lIe(t,e).patch;var dIe=uIe;const fIe=a2,hIe=(t,e)=>{const r=fIe(t,e);return r&&r.prerelease.length?r.prerelease:null};var pIe=hIe;const WV=co,mIe=(t,e,r)=>new WV(t,r).compare(new WV(e,r));var Fu=mIe;const gIe=Fu,bIe=(t,e,r)=>gIe(e,t,r);var yIe=bIe;const vIe=Fu,xIe=(t,e)=>vIe(t,e,!0);var wIe=xIe;const qV=co,AIe=(t,e,r)=>{const n=new qV(t,r),s=new qV(e,r);return n.compare(s)||n.compareBuild(s)};var AB=AIe;const SIe=AB,PIe=(t,e)=>t.sort((r,n)=>SIe(r,n,e));var kIe=PIe;const IIe=AB,NIe=(t,e)=>t.sort((r,n)=>IIe(n,r,e));var EIe=NIe;const _Ie=Fu,CIe=(t,e,r)=>_Ie(t,e,r)>0;var ak=CIe;const TIe=Fu,jIe=(t,e,r)=>TIe(t,e,r)<0;var SB=jIe;const $Ie=Fu,MIe=(t,e,r)=>$Ie(t,e,r)===0;var Xse=MIe;const OIe=Fu,FIe=(t,e,r)=>OIe(t,e,r)!==0;var Zse=FIe;const BIe=Fu,RIe=(t,e,r)=>BIe(t,e,r)>=0;var PB=RIe;const DIe=Fu,UIe=(t,e,r)=>DIe(t,e,r)<=0;var kB=UIe;const zIe=Xse,LIe=Zse,VIe=ak,HIe=PB,WIe=SB,qIe=kB,KIe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return zIe(t,r,n);case"!=":return LIe(t,r,n);case">":return VIe(t,r,n);case">=":return HIe(t,r,n);case"<":return WIe(t,r,n);case"<=":return qIe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Jse=KIe;const XIe=co,ZIe=a2,{safeRe:E8,t:_8}=z4,JIe=(t,e)=>{if(t instanceof XIe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?E8[_8.COERCEFULL]:E8[_8.COERCE]);else{const c=e.includePrerelease?E8[_8.COERCERTLFULL]:E8[_8.COERCERTL];let l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return ZIe(`${n}.${s}.${i}${a}${o}`,e)};var QIe=JIe;class YIe{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}}var GIe=YIe,gE,KV;function Bu(){if(KV)return gE;KV=1;const t=/\s+/g;class e{constructor(g,S){if(S=s(S),g instanceof e)return g.loose===!!S.loose&&g.includePrerelease===!!S.includePrerelease?g:new e(g.raw,S);if(g instanceof i)return this.raw=g.value,this.set=[[g]],this.formatted=void 0,this;if(this.options=S,this.loose=!!S.loose,this.includePrerelease=!!S.includePrerelease,this.raw=g.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(I=>!x(I[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&k(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let g=0;g<this.set.length;g++){g>0&&(this.formatted+="||");const S=this.set[g];for(let N=0;N<S.length;N++)N>0&&(this.formatted+=" "),this.formatted+=S[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(g){const N=((this.options.includePrerelease&&m)|(this.options.loose&&v))+":"+g,I=n.get(N);if(I)return I;const A=this.options.loose,y=A?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];g=g.replace(y,b(this.options.includePrerelease)),a("hyphen replace",g),g=g.replace(c[l.COMPARATORTRIM],u),a("comparator trim",g),g=g.replace(c[l.TILDETRIM],f),a("tilde trim",g),g=g.replace(c[l.CARETTRIM],h),a("caret trim",g);let C=g.split(" ").map(U=>P(U,this.options)).join(" ").split(/\s+/).map(U=>O(U,this.options));A&&(C=C.filter(U=>(a("loose invalid filter",U,this.options),!!U.match(c[l.COMPARATORLOOSE])))),a("range list",C);const $=new Map,L=C.map(U=>new i(U,this.options));for(const U of L){if(x(U))return[U];$.set(U.value,U)}$.size>1&&$.has("")&&$.delete("");const Q=[...$.values()];return n.set(N,Q),Q}intersects(g,S){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>E(N,S)&&g.set.some(I=>E(I,S)&&N.every(A=>I.every(y=>A.intersects(y,S)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let S=0;S<this.set.length;S++)if(w(this.set[S],g,this.options))return!0;return!1}}gE=e;const r=GIe,n=new r,s=wB,i=ok(),a=ik,o=co,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:h}=z4,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:v}=sk,x=p=>p.value==="<0.0.0-0",k=p=>p.value==="",E=(p,g)=>{let S=!0;const N=p.slice();let I=N.pop();for(;S&&N.length;)S=N.every(A=>I.intersects(A,g)),I=N.pop();return S},P=(p,g)=>(p=p.replace(c[l.BUILD],""),a("comp",p,g),p=D(p,g),a("caret",p),p=M(p,g),a("tildes",p),p=T(p,g),a("xrange",p),p=H(p,g),a("stars",p),p),_=p=>!p||p.toLowerCase()==="x"||p==="*",M=(p,g)=>p.trim().split(/\s+/).map(S=>B(S,g)).join(" "),B=(p,g)=>{const S=g.loose?c[l.TILDELOOSE]:c[l.TILDE];return p.replace(S,(N,I,A,y,C)=>{a("tilde",p,N,I,A,y,C);let $;return _(I)?$="":_(A)?$=`>=${I}.0.0 <${+I+1}.0.0-0`:_(y)?$=`>=${I}.${A}.0 <${I}.${+A+1}.0-0`:C?(a("replaceTilde pr",C),$=`>=${I}.${A}.${y}-${C} <${I}.${+A+1}.0-0`):$=`>=${I}.${A}.${y} <${I}.${+A+1}.0-0`,a("tilde return",$),$})},D=(p,g)=>p.trim().split(/\s+/).map(S=>j(S,g)).join(" "),j=(p,g)=>{a("caret",p,g);const S=g.loose?c[l.CARETLOOSE]:c[l.CARET],N=g.includePrerelease?"-0":"";return p.replace(S,(I,A,y,C,$)=>{a("caret",p,I,A,y,C,$);let L;return _(A)?L="":_(y)?L=`>=${A}.0.0${N} <${+A+1}.0.0-0`:_(C)?A==="0"?L=`>=${A}.${y}.0${N} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.0${N} <${+A+1}.0.0-0`:$?(a("replaceCaret pr",$),A==="0"?y==="0"?L=`>=${A}.${y}.${C}-${$} <${A}.${y}.${+C+1}-0`:L=`>=${A}.${y}.${C}-${$} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.${C}-${$} <${+A+1}.0.0-0`):(a("no pr"),A==="0"?y==="0"?L=`>=${A}.${y}.${C}${N} <${A}.${y}.${+C+1}-0`:L=`>=${A}.${y}.${C}${N} <${A}.${+y+1}.0-0`:L=`>=${A}.${y}.${C} <${+A+1}.0.0-0`),a("caret return",L),L})},T=(p,g)=>(a("replaceXRanges",p,g),p.split(/\s+/).map(S=>R(S,g)).join(" ")),R=(p,g)=>{p=p.trim();const S=g.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return p.replace(S,(N,I,A,y,C,$)=>{a("xRange",p,N,I,A,y,C,$);const L=_(A),Q=L||_(y),U=Q||_(C),J=U;return I==="="&&J&&(I=""),$=g.includePrerelease?"-0":"",L?I===">"||I==="<"?N="<0.0.0-0":N="*":I&&J?(Q&&(y=0),C=0,I===">"?(I=">=",Q?(A=+A+1,y=0,C=0):(y=+y+1,C=0)):I==="<="&&(I="<",Q?A=+A+1:y=+y+1),I==="<"&&($="-0"),N=`${I+A}.${y}.${C}${$}`):Q?N=`>=${A}.0.0${$} <${+A+1}.0.0-0`:U&&(N=`>=${A}.${y}.0${$} <${A}.${+y+1}.0-0`),a("xRange return",N),N})},H=(p,g)=>(a("replaceStars",p,g),p.trim().replace(c[l.STAR],"")),O=(p,g)=>(a("replaceGTE0",p,g),p.trim().replace(c[g.includePrerelease?l.GTE0PRE:l.GTE0],"")),b=p=>(g,S,N,I,A,y,C,$,L,Q,U,J)=>(_(N)?S="":_(I)?S=`>=${N}.0.0${p?"-0":""}`:_(A)?S=`>=${N}.${I}.0${p?"-0":""}`:y?S=`>=${S}`:S=`>=${S}${p?"-0":""}`,_(L)?$="":_(Q)?$=`<${+L+1}.0.0-0`:_(U)?$=`<${L}.${+Q+1}.0-0`:J?$=`<=${L}.${Q}.${U}-${J}`:p?$=`<${L}.${Q}.${+U+1}-0`:$=`<=${$}`,`${S} ${$}`.trim()),w=(p,g,S)=>{for(let N=0;N<p.length;N++)if(!p[N].test(g))return!1;if(g.prerelease.length&&!S.includePrerelease){for(let N=0;N<p.length;N++)if(a(p[N].semver),p[N].semver!==i.ANY&&p[N].semver.prerelease.length>0){const I=p[N].semver;if(I.major===g.major&&I.minor===g.minor&&I.patch===g.patch)return!0}return!1}return!0};return gE}var bE,XV;function ok(){if(XV)return bE;XV=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}bE=e;const r=wB,{safeRe:n,t:s}=z4,i=Jse,a=ik,o=co,c=Bu();return bE}const eNe=Bu(),tNe=(t,e,r)=>{try{e=new eNe(e,r)}catch{return!1}return e.test(t)};var ck=tNe;const rNe=Bu(),nNe=(t,e)=>new rNe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var sNe=nNe;const iNe=co,aNe=Bu(),oNe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new aNe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new iNe(n,r))}),n};var cNe=oNe;const lNe=co,uNe=Bu(),dNe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new uNe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new lNe(n,r))}),n};var fNe=dNe;const yE=co,hNe=Bu(),ZV=ak,pNe=(t,e)=>{t=new hNe(t,e);let r=new yE("0.0.0");if(t.test(r)||(r=new yE("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(a=>{const o=new yE(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||ZV(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||ZV(r,i))&&(r=i)}return r&&t.test(r)?r:null};var mNe=pNe;const gNe=Bu(),bNe=(t,e)=>{try{return new gNe(t,e).range||"*"}catch{return null}};var yNe=bNe;const vNe=co,Qse=ok(),{ANY:xNe}=Qse,wNe=Bu(),ANe=ck,JV=ak,QV=SB,SNe=kB,PNe=PB,kNe=(t,e,r,n)=>{t=new vNe(t,n),e=new wNe(e,n);let s,i,a,o,c;switch(r){case">":s=JV,i=SNe,a=QV,o=">",c=">=";break;case"<":s=QV,i=PNe,a=JV,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ANe(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(m=>{m.semver===xNe&&(m=new Qse(">=0.0.0")),f=f||m,h=h||m,s(m.semver,f.semver,n)?f=m:a(m.semver,h.semver,n)&&(h=m)}),f.operator===o||f.operator===c||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0};var IB=kNe;const INe=IB,NNe=(t,e,r)=>INe(t,e,">",r);var ENe=NNe;const _Ne=IB,CNe=(t,e,r)=>_Ne(t,e,"<",r);var TNe=CNe;const YV=Bu(),jNe=(t,e,r)=>(t=new YV(t,r),e=new YV(e,r),t.intersects(e,r));var $Ne=jNe;const MNe=ck,ONe=Fu;var FNe=(t,e,r)=>{const n=[];let s=null,i=null;const a=t.sort((u,f)=>ONe(u,f,r));for(const u of a)MNe(u,e,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const o=[];for(const[u,f]of n)u===f?o.push(u):!f&&u===a[0]?o.push("*"):f?u===a[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const GV=Bu(),NB=ok(),{ANY:vE}=NB,J2=ck,EB=Fu,BNe=(t,e,r={})=>{if(t===e)return!0;t=new GV(t,r),e=new GV(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const a=DNe(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},RNe=[new NB(">=0.0.0-0")],eH=[new NB(">=0.0.0")],DNe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===vE){if(e.length===1&&e[0].semver===vE)return!0;r.includePrerelease?t=RNe:t=eH}if(e.length===1&&e[0].semver===vE){if(r.includePrerelease)return!0;e=eH}const n=new Set;let s,i;for(const m of t)m.operator===">"||m.operator===">="?s=tH(s,m,r):m.operator==="<"||m.operator==="<="?i=rH(i,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(s&&i){if(a=EB(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!J2(m,String(s),r)||i&&!J2(m,String(i),r))return null;for(const v of e)if(!J2(m,String(v),r))return!1;return!0}let o,c,l,u,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of e){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(o=tH(s,m,r),o===m&&o!==s)return!1}else if(s.operator===">="&&!J2(s.semver,String(m),r))return!1}if(i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=rH(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!J2(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&a!==0)return!1}return!(s&&l&&!i&&a!==0||i&&u&&!s&&a!==0||h||f)},tH=(t,e,r)=>{if(!t)return e;const n=EB(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},rH=(t,e,r)=>{if(!t)return e;const n=EB(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var UNe=BNe;const xE=z4,nH=sk,zNe=co,sH=Kse,LNe=a2,VNe=Zke,HNe=Yke,WNe=eIe,qNe=rIe,KNe=iIe,XNe=cIe,ZNe=dIe,JNe=pIe,QNe=Fu,YNe=yIe,GNe=wIe,eEe=AB,tEe=kIe,rEe=EIe,nEe=ak,sEe=SB,iEe=Xse,aEe=Zse,oEe=PB,cEe=kB,lEe=Jse,uEe=QIe,dEe=ok(),fEe=Bu(),hEe=ck,pEe=sNe,mEe=cNe,gEe=fNe,bEe=mNe,yEe=yNe,vEe=IB,xEe=ENe,wEe=TNe,AEe=$Ne,SEe=FNe,PEe=UNe;var kEe={parse:LNe,valid:VNe,clean:HNe,inc:WNe,diff:qNe,major:KNe,minor:XNe,patch:ZNe,prerelease:JNe,compare:QNe,rcompare:YNe,compareLoose:GNe,compareBuild:eEe,sort:tEe,rsort:rEe,gt:nEe,lt:sEe,eq:iEe,neq:aEe,gte:oEe,lte:cEe,cmp:lEe,coerce:uEe,Comparator:dEe,Range:fEe,satisfies:hEe,toComparators:pEe,maxSatisfying:mEe,minSatisfying:gEe,minVersion:bEe,validRange:yEe,outside:vEe,gtr:xEe,ltr:wEe,intersects:AEe,simplifyRange:SEe,subset:PEe,SemVer:zNe,re:xE.re,src:xE.src,tokens:xE.t,SEMVER_SPEC_VERSION:nH.SEMVER_SPEC_VERSION,RELEASE_TYPES:nH.RELEASE_TYPES,compareIdentifiers:sH.compareIdentifiers,rcompareIdentifiers:sH.rcompareIdentifiers};const iH=Ua(kEe);function Yse(t,e){return function(){return t.apply(e,arguments)}}const{toString:IEe}=Object.prototype,{getPrototypeOf:_B}=Object,{iterator:lk,toStringTag:Gse}=Symbol,uk=(t=>e=>{const r=IEe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ru=t=>(t=t.toLowerCase(),e=>uk(e)===t),dk=t=>e=>typeof e===t,{isArray:o2}=Array,bx=dk("undefined");function L4(t){return t!==null&&!bx(t)&&t.constructor!==null&&!bx(t.constructor)&&Fo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eie=Ru("ArrayBuffer");function NEe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eie(t.buffer),e}const EEe=dk("string"),Fo=dk("function"),tie=dk("number"),V4=t=>t!==null&&typeof t=="object",_Ee=t=>t===!0||t===!1,X9=t=>{if(uk(t)!=="object")return!1;const e=_B(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Gse in t)&&!(lk in t)},CEe=t=>{if(!V4(t)||L4(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},TEe=Ru("Date"),jEe=Ru("File"),$Ee=Ru("Blob"),MEe=Ru("FileList"),OEe=t=>V4(t)&&Fo(t.pipe),FEe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fo(t.append)&&((e=uk(t))==="formdata"||e==="object"&&Fo(t.toString)&&t.toString()==="[object FormData]"))},BEe=Ru("URLSearchParams"),[REe,DEe,UEe,zEe]=["ReadableStream","Request","Response","Headers"].map(Ru),LEe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function H4(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),o2(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(L4(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function rie(t,e){if(L4(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const rg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nie=t=>!bx(t)&&t!==rg;function bj(){const{caseless:t,skipUndefined:e}=nie(this)&&this||{},r={},n=(s,i)=>{const a=t&&rie(r,i)||i;X9(r[a])&&X9(s)?r[a]=bj(r[a],s):X9(s)?r[a]=bj({},s):o2(s)?r[a]=s.slice():(!e||!bx(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&H4(arguments[s],n);return r}const VEe=(t,e,r,{allOwnKeys:n}={})=>(H4(e,(s,i)=>{r&&Fo(s)?t[i]=Yse(s,r):t[i]=s},{allOwnKeys:n}),t),HEe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WEe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},qEe=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&_B(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},KEe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},XEe=t=>{if(!t)return null;if(o2(t))return t;let e=t.length;if(!tie(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},ZEe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_B(Uint8Array)),JEe=(t,e)=>{const n=(t&&t[lk]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},QEe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},YEe=Ru("HTMLFormElement"),GEe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),aH=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),e_e=Ru("RegExp"),sie=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};H4(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},t_e=t=>{sie(t,(e,r)=>{if(Fo(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Fo(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},r_e=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return o2(t)?n(t):n(String(t).split(e)),r},n_e=()=>{},s_e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function i_e(t){return!!(t&&Fo(t.append)&&t[Gse]==="FormData"&&t[lk])}const a_e=t=>{const e=new Array(10),r=(n,s)=>{if(V4(n)){if(e.indexOf(n)>=0)return;if(L4(n))return n;if(!("toJSON"in n)){e[s]=n;const i=o2(n)?[]:{};return H4(n,(a,o)=>{const c=r(a,s+1);!bx(c)&&(i[o]=c)}),e[s]=void 0,i}}return n};return r(t,0)},o_e=Ru("AsyncFunction"),c_e=t=>t&&(V4(t)||Fo(t))&&Fo(t.then)&&Fo(t.catch),iie=((t,e)=>t?setImmediate:e?((r,n)=>(rg.addEventListener("message",({source:s,data:i})=>{s===rg&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),rg.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fo(rg.postMessage)),l_e=typeof queueMicrotask<"u"?queueMicrotask.bind(rg):typeof process<"u"&&process.nextTick||iie,u_e=t=>t!=null&&Fo(t[lk]),Ge={isArray:o2,isArrayBuffer:eie,isBuffer:L4,isFormData:FEe,isArrayBufferView:NEe,isString:EEe,isNumber:tie,isBoolean:_Ee,isObject:V4,isPlainObject:X9,isEmptyObject:CEe,isReadableStream:REe,isRequest:DEe,isResponse:UEe,isHeaders:zEe,isUndefined:bx,isDate:TEe,isFile:jEe,isBlob:$Ee,isRegExp:e_e,isFunction:Fo,isStream:OEe,isURLSearchParams:BEe,isTypedArray:ZEe,isFileList:MEe,forEach:H4,merge:bj,extend:VEe,trim:LEe,stripBOM:HEe,inherits:WEe,toFlatObject:qEe,kindOf:uk,kindOfTest:Ru,endsWith:KEe,toArray:XEe,forEachEntry:JEe,matchAll:QEe,isHTMLForm:YEe,hasOwnProperty:aH,hasOwnProp:aH,reduceDescriptors:sie,freezeMethods:t_e,toObjectSet:r_e,toCamelCase:GEe,noop:n_e,toFiniteNumber:s_e,findKey:rie,global:rg,isContextDefined:nie,isSpecCompliantForm:i_e,toJSONObject:a_e,isAsyncFn:o_e,isThenable:c_e,setImmediate:iie,asap:l_e,isIterable:u_e};function xr(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ge.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const aie=xr.prototype,oie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oie[t]={value:t}});Object.defineProperties(xr,oie);Object.defineProperty(aie,"isAxiosError",{value:!0});xr.from=(t,e,r,n,s,i)=>{const a=Object.create(aie);Ge.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return xr.call(a,o,c,r,n,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const d_e=null;function yj(t){return Ge.isPlainObject(t)||Ge.isArray(t)}function cie(t){return Ge.endsWith(t,"[]")?t.slice(0,-2):t}function oH(t,e,r){return t?t.concat(e).map(function(s,i){return s=cie(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function f_e(t){return Ge.isArray(t)&&!t.some(yj)}const h_e=Ge.toFlatObject(Ge,{},null,function(e){return/^is[A-Z]/.test(e)});function fk(t,e,r){if(!Ge.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,k){return!Ge.isUndefined(k[x])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(e);if(!Ge.isFunction(s))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(Ge.isDate(v))return v.toISOString();if(Ge.isBoolean(v))return v.toString();if(!c&&Ge.isBlob(v))throw new xr("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(v)||Ge.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,x,k){let E=v;if(v&&!k&&typeof v=="object"){if(Ge.endsWith(x,"{}"))x=n?x:x.slice(0,-2),v=JSON.stringify(v);else if(Ge.isArray(v)&&f_e(v)||(Ge.isFileList(v)||Ge.endsWith(x,"[]"))&&(E=Ge.toArray(v)))return x=cie(x),E.forEach(function(_,M){!(Ge.isUndefined(_)||_===null)&&e.append(a===!0?oH([x],M,i):a===null?x:x+"[]",l(_))}),!1}return yj(v)?!0:(e.append(oH(k,x,i),l(v)),!1)}const f=[],h=Object.assign(h_e,{defaultVisitor:u,convertValue:l,isVisitable:yj});function m(v,x){if(!Ge.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(v),Ge.forEach(v,function(E,P){(!(Ge.isUndefined(E)||E===null)&&s.call(e,E,Ge.isString(P)?P.trim():P,x,h))===!0&&m(E,x?x.concat(P):[P])}),f.pop()}}if(!Ge.isObject(t))throw new TypeError("data must be an object");return m(t),e}function cH(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function CB(t,e){this._pairs=[],t&&fk(t,this,e)}const lie=CB.prototype;lie.append=function(e,r){this._pairs.push([e,r])};lie.toString=function(e){const r=e?function(n){return e.call(this,n,cH)}:cH;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function p_e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uie(t,e,r){if(!e)return t;const n=r&&r.encode||p_e;Ge.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Ge.isURLSearchParams(e)?e.toString():new CB(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class lH{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ge.forEach(this.handlers,function(n){n!==null&&e(n)})}}const die={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m_e=typeof URLSearchParams<"u"?URLSearchParams:CB,g_e=typeof FormData<"u"?FormData:null,b_e=typeof Blob<"u"?Blob:null,y_e={isBrowser:!0,classes:{URLSearchParams:m_e,FormData:g_e,Blob:b_e},protocols:["http","https","file","blob","url","data"]},TB=typeof window<"u"&&typeof document<"u",vj=typeof navigator=="object"&&navigator||void 0,v_e=TB&&(!vj||["ReactNative","NativeScript","NS"].indexOf(vj.product)<0),x_e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w_e=TB&&window.location.href||"http://localhost",A_e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TB,hasStandardBrowserEnv:v_e,hasStandardBrowserWebWorkerEnv:x_e,navigator:vj,origin:w_e},Symbol.toStringTag,{value:"Module"})),_a={...A_e,...y_e};function S_e(t,e){return fk(t,new _a.classes.URLSearchParams,{visitor:function(r,n,s,i){return _a.isNode&&Ge.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function P_e(t){return Ge.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k_e(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function fie(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=r.length;return a=!a&&Ge.isArray(s)?s.length:a,c?(Ge.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!Ge.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&Ge.isArray(s[a])&&(s[a]=k_e(s[a])),!o)}if(Ge.isFormData(t)&&Ge.isFunction(t.entries)){const r={};return Ge.forEachEntry(t,(n,s)=>{e(P_e(n),s,r,0)}),r}return null}function I_e(t,e,r){if(Ge.isString(t))try{return(e||JSON.parse)(t),Ge.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const W4={transitional:die,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ge.isObject(e);if(i&&Ge.isHTMLForm(e)&&(e=new FormData(e)),Ge.isFormData(e))return s?JSON.stringify(fie(e)):e;if(Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)||Ge.isReadableStream(e))return e;if(Ge.isArrayBufferView(e))return e.buffer;if(Ge.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return S_e(e,this.formSerializer).toString();if((o=Ge.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return fk(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),I_e(e)):e}],transformResponse:[function(e){const r=this.transitional||W4.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ge.isResponse(e)||Ge.isReadableStream(e))return e;if(e&&Ge.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?xr.from(o,xr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_a.classes.FormData,Blob:_a.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],t=>{W4.headers[t]={}});const N_e=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E_e=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&N_e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},uH=Symbol("internals");function Q2(t){return t&&String(t).trim().toLowerCase()}function Z9(t){return t===!1||t==null?t:Ge.isArray(t)?t.map(Z9):String(t)}function __e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const C_e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wE(t,e,r,n,s){if(Ge.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Ge.isString(e)){if(Ge.isString(n))return e.indexOf(n)!==-1;if(Ge.isRegExp(n))return n.test(e)}}function T_e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function j_e(t,e){const r=Ge.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}class Bo{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,c,l){const u=Q2(c);if(!u)throw new Error("header name must be a non-empty string");const f=Ge.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=Z9(o))}const a=(o,c)=>Ge.forEach(o,(l,u)=>i(l,u,c));if(Ge.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Ge.isString(e)&&(e=e.trim())&&!C_e(e))a(E_e(e),r);else if(Ge.isObject(e)&&Ge.isIterable(e)){let o={},c,l;for(const u of e){if(!Ge.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[l=u[0]]=(c=o[l])?Ge.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(o,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Q2(e),e){const n=Ge.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return __e(s);if(Ge.isFunction(r))return r.call(this,s,n);if(Ge.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Q2(e),e){const n=Ge.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||wE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=Q2(a),a){const o=Ge.findKey(n,a);o&&(!r||wE(n,n[o],o,r))&&(delete n[o],s=!0)}}return Ge.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||wE(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Ge.forEach(this,(s,i)=>{const a=Ge.findKey(n,i);if(a){r[a]=Z9(s),delete r[i];return}const o=e?T_e(i):String(i).trim();o!==i&&delete r[i],r[o]=Z9(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ge.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Ge.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[uH]=this[uH]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Q2(a);n[o]||(j_e(s,a),n[o]=!0)}return Ge.isArray(e)?e.forEach(i):i(e),this}}Bo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(Bo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ge.freezeMethods(Bo);function AE(t,e){const r=this||W4,n=e||r,s=Bo.from(n.headers);let i=n.data;return Ge.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function hie(t){return!!(t&&t.__CANCEL__)}function c2(t,e,r){xr.call(this,t??"canceled",xr.ERR_CANCELED,e,r),this.name="CanceledError"}Ge.inherits(c2,xr,{__CANCEL__:!0});function pie(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new xr("Request failed with status code "+r.status,[xr.ERR_BAD_REQUEST,xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $_e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function M_e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[i];a||(a=l),r[s]=c,n[s]=l;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-a<e)return;const m=u&&l-u;return m?Math.round(h*1e3/m):void 0}}function O_e(t,e){let r=0,n=1e3/e,s,i;const a=(l,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t(...l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?a(l,u):(s=l,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const TA=(t,e,r=3)=>{let n=0;const s=M_e(50,250);return O_e(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-n,l=s(c),u=a<=o;n=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:l||void 0,estimated:l&&o&&u?(o-a)/l:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},dH=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},fH=t=>(...e)=>Ge.asap(()=>t(...e)),F_e=_a.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,_a.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(_a.origin),_a.navigator&&/(msie|trident)/i.test(_a.navigator.userAgent)):()=>!0,B_e=_a.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];Ge.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ge.isString(n)&&a.push("path="+n),Ge.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function D_e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mie(t,e,r){let n=!R_e(e);return t&&(n||r==!1)?D_e(t,e):e}const hH=t=>t instanceof Bo?{...t}:t;function g1(t,e){e=e||{};const r={};function n(l,u,f,h){return Ge.isPlainObject(l)&&Ge.isPlainObject(u)?Ge.merge.call({caseless:h},l,u):Ge.isPlainObject(u)?Ge.merge({},u):Ge.isArray(u)?u.slice():u}function s(l,u,f,h){if(Ge.isUndefined(u)){if(!Ge.isUndefined(l))return n(void 0,l,f,h)}else return n(l,u,f,h)}function i(l,u){if(!Ge.isUndefined(u))return n(void 0,u)}function a(l,u){if(Ge.isUndefined(u)){if(!Ge.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function o(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(l,u,f)=>s(hH(l),hH(u),f,!0)};return Ge.forEach(Object.keys({...t,...e}),function(u){const f=c[u]||s,h=f(t[u],e[u],u);Ge.isUndefined(h)&&f!==o||(r[u]=h)}),r}const gie=t=>{const e=g1({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=Bo.from(a),e.url=uie(mie(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ge.isFormData(r)){if(_a.hasStandardBrowserEnv||_a.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ge.isFunction(r.getHeaders)){const c=r.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{l.includes(u.toLowerCase())&&a.set(u,f)})}}if(_a.hasStandardBrowserEnv&&(n&&Ge.isFunction(n)&&(n=n(e)),n||n!==!1&&F_e(e.url))){const c=s&&i&&B_e.read(i);c&&a.set(s,c)}return e},U_e=typeof XMLHttpRequest<"u",z_e=U_e&&function(t){return new Promise(function(r,n){const s=gie(t);let i=s.data;const a=Bo.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:l}=s,u,f,h,m,v;function x(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function E(){if(!k)return;const _=Bo.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),B={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:_,config:t,request:k};pie(function(j){r(j),x()},function(j){n(j),x()},B),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(n(new xr("Request aborted",xr.ECONNABORTED,t,k)),k=null)},k.onerror=function(M){const B=M&&M.message?M.message:"Network Error",D=new xr(B,xr.ERR_NETWORK,t,k);D.event=M||null,n(D),k=null},k.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const B=s.transitional||die;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),n(new xr(M,B.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,t,k)),k=null},i===void 0&&a.setContentType(null),"setRequestHeader"in k&&Ge.forEach(a.toJSON(),function(M,B){k.setRequestHeader(B,M)}),Ge.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),o&&o!=="json"&&(k.responseType=s.responseType),l&&([h,v]=TA(l,!0),k.addEventListener("progress",h)),c&&k.upload&&([f,m]=TA(c),k.upload.addEventListener("progress",f),k.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=_=>{k&&(n(!_||_.type?new c2(null,t,k):_),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const P=$_e(s.url);if(P&&_a.protocols.indexOf(P)===-1){n(new xr("Unsupported protocol "+P+":",xr.ERR_BAD_REQUEST,t));return}k.send(i||null)})},L_e=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(l){if(!s){s=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof xr?u:new c2(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new xr(`timeout ${e} of ms exceeded`,xr.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Ge.asap(o),c}},V_e=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},H_e=async function*(t,e){for await(const r of W_e(t))yield*V_e(r,e)},W_e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},pH=(t,e,r,n)=>{const s=H_e(t,e);let i=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){o(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(l){throw o(l),l}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},mH=64*1024,{isFunction:C8}=Ge,q_e=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ge.global),{ReadableStream:gH,TextEncoder:bH}=Ge.global,yH=(t,...e)=>{try{return!!t(...e)}catch{return!1}},K_e=t=>{t=Ge.merge.call({skipUndefined:!0},q_e,t);const{fetch:e,Request:r,Response:n}=t,s=e?C8(e):typeof fetch=="function",i=C8(r),a=C8(n);if(!s)return!1;const o=s&&C8(gH),c=s&&(typeof bH=="function"?(v=>x=>v.encode(x))(new bH):async v=>new Uint8Array(await new r(v).arrayBuffer())),l=i&&o&&yH(()=>{let v=!1;const x=new r(_a.origin,{body:new gH,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),u=a&&o&&yH(()=>Ge.isReadableStream(new n("").body)),f={stream:u&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(x,k)=>{let E=x&&x[v];if(E)return E.call(x);throw new xr(`Response type '${v}' is not supported`,xr.ERR_NOT_SUPPORT,k)})});const h=async v=>{if(v==null)return 0;if(Ge.isBlob(v))return v.size;if(Ge.isSpecCompliantForm(v))return(await new r(_a.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(v)||Ge.isArrayBuffer(v))return v.byteLength;if(Ge.isURLSearchParams(v)&&(v=v+""),Ge.isString(v))return(await c(v)).byteLength},m=async(v,x)=>{const k=Ge.toFiniteNumber(v.getContentLength());return k??h(x)};return async v=>{let{url:x,method:k,data:E,signal:P,cancelToken:_,timeout:M,onDownloadProgress:B,onUploadProgress:D,responseType:j,headers:T,withCredentials:R="same-origin",fetchOptions:H}=gie(v),O=e||fetch;j=j?(j+"").toLowerCase():"text";let b=L_e([P,_&&_.toAbortSignal()],M),w=null;const p=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let g;try{if(D&&l&&k!=="get"&&k!=="head"&&(g=await m(T,E))!==0){let C=new r(x,{method:"POST",body:E,duplex:"half"}),$;if(Ge.isFormData(E)&&($=C.headers.get("content-type"))&&T.setContentType($),C.body){const[L,Q]=dH(g,TA(fH(D)));E=pH(C.body,mH,L,Q)}}Ge.isString(R)||(R=R?"include":"omit");const S=i&&"credentials"in r.prototype,N={...H,signal:b,method:k.toUpperCase(),headers:T.normalize().toJSON(),body:E,duplex:"half",credentials:S?R:void 0};w=i&&new r(x,N);let I=await(i?O(w,H):O(x,N));const A=u&&(j==="stream"||j==="response");if(u&&(B||A&&p)){const C={};["status","statusText","headers"].forEach(U=>{C[U]=I[U]});const $=Ge.toFiniteNumber(I.headers.get("content-length")),[L,Q]=B&&dH($,TA(fH(B),!0))||[];I=new n(pH(I.body,mH,L,()=>{Q&&Q(),p&&p()}),C)}j=j||"text";let y=await f[Ge.findKey(f,j)||"text"](I,v);return!A&&p&&p(),await new Promise((C,$)=>{pie(C,$,{data:y,headers:Bo.from(I.headers),status:I.status,statusText:I.statusText,config:v,request:w})})}catch(S){throw p&&p(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new xr("Network Error",xr.ERR_NETWORK,v,w),{cause:S.cause||S}):xr.from(S,S&&S.code,v,w)}}},X_e=new Map,bie=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let a=i.length,o=a,c,l,u=X_e;for(;o--;)c=i[o],l=u.get(c),l===void 0&&u.set(c,l=o?new Map:K_e(e)),u=l;return l};bie();const xj={http:d_e,xhr:z_e,fetch:{get:bie}};Ge.forEach(xj,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vH=t=>`- ${t}`,Z_e=t=>Ge.isFunction(t)||t===null||t===!1,yie={getAdapter:(t,e)=>{t=Ge.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let a=0;a<r;a++){n=t[a];let o;if(s=n,!Z_e(n)&&(s=xj[(o=String(n)).toLowerCase()],s===void 0))throw new xr(`Unknown adapter '${o}'`);if(s&&(Ge.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(vH).join(`
`):" "+vH(a[0]):"as no adapter specified";throw new xr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:xj};function SE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new c2(null,t)}function xH(t){return SE(t),t.headers=Bo.from(t.headers),t.data=AE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yie.getAdapter(t.adapter||W4.adapter,t)(t).then(function(n){return SE(t),n.data=AE.call(t,t.transformResponse,n),n.headers=Bo.from(n.headers),n},function(n){return hie(n)||(SE(t),n&&n.response&&(n.response.data=AE.call(t,t.transformResponse,n.response),n.response.headers=Bo.from(n.response.headers))),Promise.reject(n)})}const vie="1.12.2",hk={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hk[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const wH={};hk.transitional=function(e,r,n){function s(i,a){return"[Axios v"+vie+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new xr(s(a," has been removed"+(r?" in "+r:"")),xr.ERR_DEPRECATED);return r&&!wH[a]&&(wH[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};hk.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function J_e(t,e,r){if(typeof t!="object")throw new xr("options must be an object",xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new xr("option "+i+" must be "+c,xr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xr("Unknown option "+i,xr.ERR_BAD_OPTION)}}const J9={assertOptions:J_e,validators:hk},zu=J9.validators;class Wg{constructor(e){this.defaults=e||{},this.interceptors={request:new lH,response:new lH}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=g1(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&J9.assertOptions(n,{silentJSONParsing:zu.transitional(zu.boolean),forcedJSONParsing:zu.transitional(zu.boolean),clarifyTimeoutError:zu.transitional(zu.boolean)},!1),s!=null&&(Ge.isFunction(s)?r.paramsSerializer={serialize:s}:J9.assertOptions(s,{encode:zu.function,serialize:zu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),J9.assertOptions(r,{baseUrl:zu.spelling("baseURL"),withXsrfToken:zu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&Ge.merge(i.common,i[r.method]);i&&Ge.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Bo.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let u,f=0,h;if(!c){const v=[xH.bind(this),void 0];for(v.unshift(...o),v.push(...l),h=v.length,u=Promise.resolve(r);f<h;)u=u.then(v[f++],v[f++]);return u}h=o.length;let m=r;for(;f<h;){const v=o[f++],x=o[f++];try{m=v(m)}catch(k){x.call(this,k);break}}try{u=xH.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=g1(this.defaults,e);const r=mie(e.baseURL,e.url,e.allowAbsoluteUrls);return uie(r,e.params,e.paramsSerializer)}}Ge.forEach(["delete","get","head","options"],function(e){Wg.prototype[e]=function(r,n){return this.request(g1(n||{},{method:e,url:r,data:(n||{}).data}))}});Ge.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(g1(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Wg.prototype[e]=r(),Wg.prototype[e+"Form"]=r(!0)});class jB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new c2(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new jB(function(s){e=s}),cancel:e}}}function Q_e(t){return function(r){return t.apply(null,r)}}function Y_e(t){return Ge.isObject(t)&&t.isAxiosError===!0}const wj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wj).forEach(([t,e])=>{wj[e]=t});function xie(t){const e=new Wg(t),r=Yse(Wg.prototype.request,e);return Ge.extend(r,Wg.prototype,e,{allOwnKeys:!0}),Ge.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return xie(g1(t,s))},r}const Bn=xie(W4);Bn.Axios=Wg;Bn.CanceledError=c2;Bn.CancelToken=jB;Bn.isCancel=hie;Bn.VERSION=vie;Bn.toFormData=fk;Bn.AxiosError=xr;Bn.Cancel=Bn.CanceledError;Bn.all=function(e){return Promise.all(e)};Bn.spread=Q_e;Bn.isAxiosError=Y_e;Bn.mergeConfig=g1;Bn.AxiosHeaders=Bo;Bn.formToJSON=t=>fie(Ge.isHTMLForm(t)?new FormData(t):t);Bn.getAdapter=yie.getAdapter;Bn.HttpStatusCode=wj;Bn.default=Bn;var wie={exports:{}};function $B(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PE={exports:{}},AH;function Aie(){return AH||(AH=1,function(t,e){(function(r,n){t.exports=n()})(Rs,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Rs<"u"&&Rs.crypto&&(i=Rs.crypto),!i&&typeof $B=="function")try{i=B1}catch{}var a=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function P(){}return function(_){var M;return P.prototype=_,M=new P,P.prototype=null,M}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(P){var _=o(this);return P&&_.mixIn(P),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var P=this.extend();return P.init.apply(P,arguments),P},init:function(){},mixIn:function(P){for(var _ in P)P.hasOwnProperty(_)&&(this[_]=P[_]);P.hasOwnProperty("toString")&&(this.toString=P.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(P,_){P=this.words=P||[],_!=s?this.sigBytes=_:this.sigBytes=P.length*4},toString:function(P){return(P||m).stringify(this)},concat:function(P){var _=this.words,M=P.words,B=this.sigBytes,D=P.sigBytes;if(this.clamp(),B%4)for(var j=0;j<D;j++){var T=M[j>>>2]>>>24-j%4*8&255;_[B+j>>>2]|=T<<24-(B+j)%4*8}else for(var R=0;R<D;R+=4)_[B+R>>>2]=M[R>>>2];return this.sigBytes+=D,this},clamp:function(){var P=this.words,_=this.sigBytes;P[_>>>2]&=4294967295<<32-_%4*8,P.length=n.ceil(_/4)},clone:function(){var P=u.clone.call(this);return P.words=this.words.slice(0),P},random:function(P){for(var _=[],M=0;M<P;M+=4)_.push(a());return new f.init(_,P)}}),h=c.enc={},m=h.Hex={stringify:function(P){for(var _=P.words,M=P.sigBytes,B=[],D=0;D<M;D++){var j=_[D>>>2]>>>24-D%4*8&255;B.push((j>>>4).toString(16)),B.push((j&15).toString(16))}return B.join("")},parse:function(P){for(var _=P.length,M=[],B=0;B<_;B+=2)M[B>>>3]|=parseInt(P.substr(B,2),16)<<24-B%8*4;return new f.init(M,_/2)}},v=h.Latin1={stringify:function(P){for(var _=P.words,M=P.sigBytes,B=[],D=0;D<M;D++){var j=_[D>>>2]>>>24-D%4*8&255;B.push(String.fromCharCode(j))}return B.join("")},parse:function(P){for(var _=P.length,M=[],B=0;B<_;B++)M[B>>>2]|=(P.charCodeAt(B)&255)<<24-B%4*8;return new f.init(M,_)}},x=h.Utf8={stringify:function(P){try{return decodeURIComponent(escape(v.stringify(P)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(P){return v.parse(unescape(encodeURIComponent(P)))}},k=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(P){typeof P=="string"&&(P=x.parse(P)),this._data.concat(P),this._nDataBytes+=P.sigBytes},_process:function(P){var _,M=this._data,B=M.words,D=M.sigBytes,j=this.blockSize,T=j*4,R=D/T;P?R=n.ceil(R):R=n.max((R|0)-this._minBufferSize,0);var H=R*j,O=n.min(H*4,D);if(H){for(var b=0;b<H;b+=j)this._doProcessBlock(B,b);_=B.splice(0,H),M.sigBytes-=O}return new f.init(_,O)},clone:function(){var P=u.clone.call(this);return P._data=this._data.clone(),P},_minBufferSize:0});l.Hasher=k.extend({cfg:u.extend(),init:function(P){this.cfg=this.cfg.extend(P),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(P){return this._append(P),this._process(),this},finalize:function(P){P&&this._append(P);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(P){return function(_,M){return new P.init(M).finalize(_)}},_createHmacHelper:function(P){return function(_,M){return new E.HMAC.init(P,M).finalize(_)}}});var E=c.algo={};return c}(Math);return r})}(PE)),PE.exports}var kE={exports:{}},SH;function G_e(){return SH||(SH=1,function(t,e){(function(r,n){t.exports=n(Aie())})(Rs,function(r){return function(n){var s=r,i=s.lib,a=i.WordArray,o=i.Hasher,c=s.algo,l=[],u=[];(function(){function m(E){for(var P=n.sqrt(E),_=2;_<=P;_++)if(!(E%_))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var x=2,k=0;k<64;)m(x)&&(k<8&&(l[k]=v(n.pow(x,1/2))),u[k]=v(n.pow(x,1/3)),k++),x++})();var f=[],h=c.SHA256=o.extend({_doReset:function(){this._hash=new a.init(l.slice(0))},_doProcessBlock:function(m,v){for(var x=this._hash.words,k=x[0],E=x[1],P=x[2],_=x[3],M=x[4],B=x[5],D=x[6],j=x[7],T=0;T<64;T++){if(T<16)f[T]=m[v+T]|0;else{var R=f[T-15],H=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,O=f[T-2],b=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[T]=H+f[T-7]+b+f[T-16]}var w=M&B^~M&D,p=k&E^k&P^E&P,g=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),S=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),N=j+S+w+u[T]+f[T],I=g+p;j=D,D=B,B=M,M=_+N|0,_=P,P=E,E=k,k=N+I|0}x[0]=x[0]+k|0,x[1]=x[1]+E|0,x[2]=x[2]+P|0,x[3]=x[3]+_|0,x[4]=x[4]+M|0,x[5]=x[5]+B|0,x[6]=x[6]+D|0,x[7]=x[7]+j|0},_doFinalize:function(){var m=this._data,v=m.words,x=this._nDataBytes*8,k=m.sigBytes*8;return v[k>>>5]|=128<<24-k%32,v[(k+64>>>9<<4)+14]=n.floor(x/4294967296),v[(k+64>>>9<<4)+15]=x,m.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});s.SHA256=o._createHelper(h),s.HmacSHA256=o._createHmacHelper(h)}(Math),r.SHA256})}(kE)),kE.exports}(function(t,e){(function(r,n,s){t.exports=n(Aie(),G_e())})(Rs,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,a=n.algo,o=a.SHA256,c=a.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=o._createHelper(c),n.HmacSHA224=o._createHmacHelper(c)}(),r.SHA224})})(wie);var eCe=wie.exports;const tCe=Ua(eCe);function hh(t){return typeof t=="function"}function Sie(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var IE=Sie(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Aj(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var pk=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=JT(a),c=o.next();!c.done;c=o.next()){var l=c.value;l.remove(this)}}catch(x){e={error:x}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(hh(u))try{u()}catch(x){i=x instanceof IE?x.errors:[x]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=JT(f),m=h.next();!m.done;m=h.next()){var v=m.value;try{PH(v)}catch(x){i=i??[],x instanceof IE?i=bA(bA([],QT(i)),QT(x.errors)):i.push(x)}}}catch(x){n={error:x}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}if(i)throw new IE(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)PH(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Aj(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Aj(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Pie=pk.EMPTY;function kie(t){return t instanceof pk||t&&"closed"in t&&hh(t.remove)&&hh(t.add)&&hh(t.unsubscribe)}function PH(t){hh(t)?t():t.unsubscribe()}var Iie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rCe={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,bA([t,e],QT(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function nCe(t){rCe.setTimeout(function(){throw t})}function kH(){}function Q9(t){t()}var Nie=function(t){RP(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,kie(r)&&r.add(n)):n.destination=oCe,n}return e.create=function(r,n,s){return new Sj(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pk),sCe=Function.prototype.bind;function NE(t,e){return sCe.call(t,e)}var iCe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){T8(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){T8(n)}else T8(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){T8(r)}},t}(),Sj=function(t){RP(e,t);function e(r,n,s){var i=t.call(this)||this,a;if(hh(r)||!r)a={next:r??void 0,error:n??void 0,complete:s??void 0};else{var o;i&&Iie.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&NE(r.next,o),error:r.error&&NE(r.error,o),complete:r.complete&&NE(r.complete,o)}):a=r}return i.destination=new iCe(a),i}return e}(Nie);function T8(t){nCe(t)}function aCe(t){throw t}var oCe={closed:!0,next:kH,error:aCe,complete:kH},cCe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function lCe(t){return t}function uCe(t){return t.length===0?lCe:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var IH=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=fCe(e)?e:new Sj(e,r,n);return Q9(function(){var a=s,o=a.operator,c=a.source;i.add(o?o.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=NH(r),new r(function(s,i){var a=new Sj({next:function(o){try{e(o)}catch(c){i(c),a.unsubscribe()}},error:i,complete:s});n.subscribe(a)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[cCe]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return uCe(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=NH(e),new e(function(n,s){var i;r.subscribe(function(a){return i=a},function(a){return s(a)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function NH(t){var e;return(e=t??Iie.Promise)!==null&&e!==void 0?e:Promise}function dCe(t){return t&&hh(t.next)&&hh(t.error)&&hh(t.complete)}function fCe(t){return t&&t instanceof Nie||dCe(t)&&kie(t)}var hCe=Sie(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Eie=function(t){RP(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new EH(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new hCe},e.prototype.next=function(r){var n=this;Q9(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=JT(n.currentObservers),o=a.next();!o.done;o=a.next()){var c=o.value;c.next(r)}}catch(l){s={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}}})},e.prototype.error=function(r){var n=this;Q9(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var s=n.observers;s.length;)s.shift().error(r)}})},e.prototype.complete=function(){var r=this;Q9(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,s=this,i=s.hasError,a=s.isStopped,o=s.observers;return i||a?Pie:(this.currentObservers=null,o.push(r),new pk(function(){n.currentObservers=null,Aj(o,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,s=n.hasError,i=n.thrownError,a=n.isStopped;s?r.error(i):a&&r.complete()},e.prototype.asObservable=function(){var r=new IH;return r.source=this,r},e.create=function(r,n){return new EH(r,n)},e}(IH),EH=function(t){RP(e,t);function e(r,n){var s=t.call(this)||this;return s.destination=r,s.source=n,s}return e.prototype.next=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,r)},e.prototype.error=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&s!==void 0?s:Pie},e}(Eie);const Jr=t=>{if(!Number.isNaN(t))return parseInt(t,10)},Am=t=>{if(!Number.isNaN(t))return parseFloat(t)},fr=t=>typeof t=="boolean"?t:!(t==="0"||t==="false"),kt=t=>typeof t=="string"?t:void 0,pCe=t=>{try{if(typeof t!="string")throw new Error;return JSON.parse(t)}catch{return}},EE=t=>{const e=typeof t=="string"?t.split(","):null;if(Array.isArray(e)&&e.length>0)return e},_H={ADDRESS_POISONING_FAMILIES:{def:"evm,tron",parser:kt,desc:"List of families impacted by the address poisoning attack"},ANALYTICS_CONSOLE:{def:!1,parser:fr,desc:"Show tracking overlays on the app UI"},DEBUG_THEME:{def:!1,parser:fr,desc:"Show theme debug overlay UI"},APTOS_API_ENDPOINT:{def:"https://apt.coin.ledger.com/node/v1",parser:kt,desc:"API enpoint for Aptos"},APTOS_TESTNET_API_ENDPOINT:{def:"https://apt.coin.ledger-stg.com/node/v1",parser:kt,desc:"API enpoint for Aptos"},APTOS_INDEXER_ENDPOINT:{def:"https://apt.coin.ledger.com/node/v1/graphql",parser:kt,desc:"Indexer endpoint for Aptos"},APTOS_TESTNET_INDEXER_ENDPOINT:{def:"https://apt.coin.ledger-stg.com/node/v1/graphql",parser:kt,desc:"Indexer endpoint for Aptos"},APTOS_ENABLE_TOKENS:{def:!1,parser:fr,desc:"Enable tokens on Aptos"},APTOS_ENABLE_STAKING:{def:!1,parser:fr,desc:"Enable staking for Aptos"},API_ALGORAND_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://algorand.coin.ledger.com",parser:kt,desc:"Node API endpoint for algorand"},API_CELO_INDEXER:{def:"https://celo.coin.ledger.com/indexer/",parser:kt,desc:"Explorer API for celo"},API_CELO_NODE:{def:"https://celo.coin.ledger.com/archive/",parser:kt,desc:"Node endpoint for celo"},ENABLE_CELO_TOKENS:{def:!0,parser:fr,desc:"Enable token send and receive for Celo"},COSMOS_GAS_AMPLIFIER:{def:1.3,parser:Jr,desc:"Cosmos gas estimate multiplier"},API_FILECOIN_ENDPOINT:{parser:kt,def:"https://filecoin.coin.ledger.com",desc:"Filecoin API url"},API_STACKS_ENDPOINT:{parser:kt,def:"https://stacks.coin.ledger.com",desc:"Stacks API url"},API_POLKADOT_INDEXER:{parser:kt,def:"https://polkadot.coin.ledger.com",desc:"Explorer API for polkadot"},API_POLKADOT_SIDECAR:{parser:kt,def:"https://polkadot-sidecar.coin.ledger.com",desc:"Polkadot Sidecar API url"},API_POLKADOT_SIDECAR_CREDENTIALS:{parser:kt,def:"",desc:"Polkadot Sidecar API credentials"},API_POLKADOT_NODE:{parser:kt,def:"https://polkadot-fullnodes.api.live.ledger.com",desc:"Polkadot Node"},MULTIVERSX_API_ENDPOINT:{parser:kt,def:"https://elrond.coin.ledger.com",desc:"MultiversX API url"},MULTIVERSX_DELEGATION_API_ENDPOINT:{parser:kt,def:"https://delegations-elrond.coin.ledger.com",desc:"MultiversX DELEGATION API url"},API_KASPA_ENDPOINT:{parser:kt,def:"https://kaspa.coin.ledger.com",desc:"Kaspa API url"},API_STELLAR_HORIZON:{parser:kt,def:"https://stellar.coin.ledger.com",desc:"Stellar Horizon API url"},API_STELLAR_HORIZON_FETCH_LIMIT:{parser:Jr,def:100,desc:"Limit of operation that Horizon will fetch per page"},API_STELLAR_HORIZON_INITIAL_FETCH_MAX_OPERATIONS:{parser:Jr,def:1e3,desc:"Limit of operation that Horizon will fetch on initial sync"},API_STELLAR_HORIZON_STATIC_FEE:{def:!1,parser:fr,desc:"Static fee for Stellar account"},API_TEZOS_BAKER:{parser:kt,def:"https://tezos-bakers.api.live.ledger.com",desc:"bakers API for tezos"},API_TEZOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://xtz-explorer.api.live.ledger.com/explorer",parser:kt,desc:"Ledger explorer API for tezos"},API_TEZOS_TZKT_API:{def:"https://xtz-tzkt-explorer.api.live.ledger.com",parser:kt,desc:"tzkt.io explorer"},API_TEZOS_NODE:{def:"https://xtz-node.api.live.ledger.com",parser:kt,desc:"node API for tezos (for broadcast only)"},API_TRONGRID_PROXY:{parser:kt,def:"https://tron.coin.ledger.com",desc:"proxy url for trongrid API"},API_SOLANA_PROXY:{parser:kt,def:"https://solana.coin.ledger.com",desc:"proxy url for solana API"},API_SUI_NODE_PROXY_TEST:{parser:kt,def:"https://sui.coin.ledger-test.com",desc:"reverse proxy url for sui node"},API_SUI_NODE_PROXY:{parser:kt,def:"https://sui.coin.ledger.com",desc:"reverse proxy url for sui node"},SUI_ENABLE_TOKENS:{parser:fr,def:!0,desc:"Enable tokens on Sui"},SOLANA_VALIDATORS_APP_BASE_URL:{parser:kt,def:"https://earn.api.live.ledger.com/v0/network/solana/validator-details",desc:"base url for validators.app validator list"},SOLANA_VALIDATORS_SUMMARY_BASE_URL:{parser:kt,def:"https://earn-dashboard.aws.stg.ldg-tech.com/figment/solana/validators_summary",desc:"base url for validators.app validator summary"},SOLANA_TESTNET_VALIDATORS_APP_BASE_URL:{parser:kt,def:"https://validators-solana.coin.ledger.com/api/v1/validators",desc:"base url for testnet validators.app validator list"},SOLANA_TX_CONFIRMATION_TIMEOUT:{def:100*1e3,parser:Jr,desc:"solana transaction broadcast confirmation timeout"},HEDERA_TOKEN_ASSOCIATION_MIN_USD:{def:.05,parser:Am,desc:"Minimum USD value an account must hold to perform a token association"},API_HEDERA_MIRROR:{def:"https://hedera.coin.ledger.com",parser:kt,desc:"mirror node API for Hedera"},API_HEDERA_THIRDWEB_URL:{def:"https://hedera-tokens.coin.ledger.com",parser:kt,desc:"Thirdweb API for Hedera"},API_VECHAIN_THOREST:{def:"https://vechain.coin.ledger.com",parser:kt,desc:"Thorest API for VeChain"},BASE_SOCKET_URL:{def:"wss://scriptrunner.api.live.ledger.com/update",parser:kt,desc:"Ledger script runner API"},BOT_TIMEOUT_SCAN_ACCOUNTS:{def:10*60*1e3,parser:Jr,desc:"bot's default timeout for scanAccounts"},BOT_SPEC_DEFAULT_TIMEOUT:{def:30*60*1e3,parser:Jr,desc:"define the default value of spec.skipMutationsTimeout (if not overriden by spec)"},BUY_API_BASE:{def:"https://buy.api.live.ledger.com/buy/v1",parser:kt,desc:"Buy crypto API base url - version 1"},CARDANO_API_ENDPOINT:{def:"https://cardano.coin.ledger.com/api",parser:kt,desc:"Cardano API url"},CARDANO_TESTNET_API_ENDPOINT:{def:"https://testnet-ledger.cardanoscan.io/api",parser:kt,desc:"Cardano API url"},ICON_NODE_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v3",desc:"ICON RPC url"},ICON_DEBUG_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v3d",desc:"ICON debug RPC url"},ICON_INDEXER_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v1",desc:"ICON API url"},ICON_TESTNET_NODE_ENDPOINT:{parser:kt,def:"https://berlin.net.solidwallet.io/api/v3",desc:"ICON Berlin Testnet API url"},ICON_TESTNET_DEBUG_ENDPOINT:{parser:kt,def:"https://berlin.net.solidwallet.io/api/v3d",desc:"ICON Berlin Testnet debug"},ICON_TESTNET_INDEXER_ENDPOINT:{parser:kt,def:"https://tracker.berlin.icon.community/api/v1",desc:"ICON Berlin Testnet API url"},CANTON_API_KEY:{def:"",parser:kt,desc:"API key for Canton network gateway authentication"},COINAPPS:{def:"",parser:kt,desc:"(dev feature) defines the folder for speculos mode that contains Nano apps binaries (.elf) in a specific structure: <device>/<firmware>/<appName>/app_<appVersion>.elf"},CAL_REF:{def:"",parser:kt,desc:"(dev feature) allows to target a different reference of the CAL for testing purposes"},CRYPTO_ORG_INDEXER:{def:"https://cryptoorg-rpc-indexer.coin.ledger.com",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer API"},CRYPTO_ORG_TESTNET_INDEXER:{def:"https://cronos-pos.org/explorer/croeseid4",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer testnet API"},CRYPTO_ORG_RPC_URL:{def:"https://cryptoorg-rpc-node.coin.ledger.com",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain node"},CRYPTO_ORG_TESTNET_RPC_URL:{def:"https://rpc-testnet-croeseid-4.crypto.org",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain testnet node"},DEBUG_UTXO_DISPLAY:{def:4,parser:Jr,desc:"define maximum number of utxos to display in CLI"},DEBUG_HTTP_RESPONSE:{def:!1,parser:fr,desc:"includes HTTP response body in logs"},DEVICE_CANCEL_APDU_FLUSH_MECHANISM:{def:!0,parser:fr,desc:"enable a mechanism that send a 0x00 apdu to force device to awake from its 'Processing' UI state"},DEVICE_PROXY_URL:{def:"",parser:kt,desc:"enable a proxy to use instead of a physical device"},DEVICE_PROXY_MODEL:{def:"nanoS",parser:kt,desc:"allow to override the default model of a proxied device"},DISABLE_TRANSACTION_BROADCAST:{def:!1,parser:fr,desc:"disable broadcast of transactions"},DISABLE_SYNC_TOKEN:{def:!0,parser:fr,desc:"disable a problematic mechanism of our API"},DISABLE_FW_UPDATE_VERSION_CHECK:{def:!1,parser:fr,desc:"disable the version check for firmware update eligibility"},DETOX:{def:"",parser:kt,desc:"switch the app into a DETOX mode for test purpose. Avoid falsy values."},E2E_NANO_APP_VERSION_PATH:{def:"",parser:kt,desc:"Path for e2e nanoApp version artifacts (LLD and LLM)"},EIP1559_MINIMUM_FEES_GATE:{def:!0,parser:fr,desc:"prevents the user from doing an EIP1559 transaction with fees too low"},EIP1559_PRIORITY_FEE_LOWER_GATE:{def:.85,parser:Am,desc:"minimum priority fee percents allowed compared to network conditions allowed when EIP1559_MINIMUM_FEES_GATE is activated"},EIP1559_BASE_FEE_MULTIPLIER:{def:1.27,parser:Am,desc:"mutiplier for the base fee that is composing the maxFeePerGas property"},EXPERIMENTAL_BLE:{def:!1,parser:fr,desc:"enable experimental support of Bluetooth"},EXPERIMENTAL_CURRENCIES:{def:"",parser:kt,desc:"enable experimental support of currencies (comma separated)"},EXPERIMENTAL_EXPLORERS:{def:!1,parser:fr,desc:"enable experimental explorer APIs"},EXPERIMENTAL_LANGUAGES:{def:!1,parser:fr,desc:"enable experimental languages"},EXPERIMENTAL_MANAGER:{def:!1,parser:fr,desc:"enable an experimental version of Manager"},EXPERIMENTAL_ROI_CALCULATION:{def:!1,parser:fr,desc:"enable an experimental version of the portfolio percentage calculation"},EXPERIMENTAL_SEND_MAX:{def:!1,parser:fr,desc:"force enabling SEND MAX even if not yet stable"},EXPERIMENTAL_USB:{def:!1,parser:fr,desc:"enable an experimental implementation of USB support"},EXPERIMENTAL_SWAP:{def:!1,parser:fr,desc:"enable an experimental swap interface"},EXPLORER:{def:"https://explorers.api.live.ledger.com",parser:kt,desc:"Ledger generic explorer API"},EXPLORER_REGTEST:{def:"http://localhost:9876",parser:kt,desc:"Ledger regtest Bitcoin explorer API"},EXPLORER_SATSTACK:{def:"http://localhost:20000",parser:kt,desc:"Ledger satstack Bitcoin explorer API"},EXPORT_EXCLUDED_LOG_TYPES:{def:"ble-frame",parser:kt,desc:"comma-separated list of excluded log types for exported logs"},EXPORT_MAX_LOGS:{def:5e3,parser:Jr,desc:"maximum logs to keep for export"},DISABLE_APP_VERSION_REQUIREMENTS:{def:!1,parser:fr,desc:"force an old application version to be accepted regardless of its version"},FORCE_PROVIDER:{def:1,parser:Jr,desc:"use a different provider for app store (for developers only)"},FILTER_ZERO_AMOUNT_ERC20_EVENTS:{def:!0,parser:fr,desc:"Remove filter of address poisoning"},GET_CALLS_RETRY:{def:2,parser:Jr,desc:"how many times to retry a GET http call"},GET_CALLS_TIMEOUT:{def:60*1e3,parser:Jr,desc:"how much time to timeout a GET http call"},HIDE_EMPTY_TOKEN_ACCOUNTS:{def:!1,parser:fr,desc:"hide the sub accounts when they are empty"},KEYCHAIN_OBSERVABLE_RANGE:{def:0,parser:Jr,desc:"overrides the gap limit specified by BIP44 (default to 20)"},LEDGER_CLIENT_VERSION:{def:"",parser:kt,desc:"the 'X-Ledger-Client-Version' HTTP header to use for queries to Ledger APIs"},LEDGER_COUNTERVALUES_API:{def:"https://countervalues.live.ledger.com",parser:kt,desc:"Ledger countervalues API"},LEDGER_REST_API_BASE:{def:"https://explorers.api.live.ledger.com",parser:kt,desc:"DEPRECATED"},LEGACY_KT_SUPPORT_TO_YOUR_OWN_RISK:{def:!1,parser:fr,desc:"enable sending to KT accounts. Not tested."},MANAGER_API_BASE:{def:"https://manager.api.live.ledger.com/api",parser:kt,desc:"Ledger Manager API"},MANAGER_DEV_MODE:{def:!1,parser:fr,desc:"enable visibility of utility apps in Manager"},MANAGER_INSTALL_DELAY:{def:1e3,parser:Jr,desc:"defines the time to wait before installing apps to prevent known glitch (<=1.5.5) when chaining installs"},MIXPANEL_API_HOST:{def:"https://api.mixpanel.com",parser:kt,desc:"Mixpanel API host URL"},MAPPING_SERVICE:{def:"https://mapping-service.api.ledger.com",parser:kt,desc:""},MAX_ACCOUNT_NAME_SIZE:{def:50,parser:Jr,desc:"maximum size of account names"},MOCK:{def:"",parser:kt,desc:"switch the app into a MOCK mode for test purpose, the value will be used as a seed for the rng. Avoid falsy values."},MOCK_COUNTERVALUES:{def:"",parser:kt,desc:"switch the countervalues resolution into a MOCK mode for test purpose"},MOCK_APP_UPDATE:{def:!1,parser:fr,desc:"Always shows app update in the manager"},MOCK_EXCHANGE_TEST_CONFIG:{def:!1,parser:fr,desc:"mock the cryptoassets config and test partner (in the context of app-exchange)"},MOCK_EXCHANGE_TEST_PARTNER:{def:!1,parser:fr,desc:"change CAL partner context to test"},MOCK_REMOTE_LIVE_MANIFEST:{def:"",parser:kt,desc:"mock remote live app manifest"},MOCK_OS_VERSION:{def:"",parser:kt,desc:"if defined, overrides the os and version. format: os@version. Example: Windows_NT@6.1.7601"},MOCK_NO_BYPASS:{def:!1,parser:fr,desc:"if defined, avoids bypass of the currentDevice in the store."},NFT_CURRENCIES:{def:["avalanche_c_chain","bsc","ethereum","polygon","solana"],parser:EE,desc:"set the currencies where NFT is active"},NFT_METADATA_SERVICE:{def:"https://nft.api.live.ledger.com",parser:kt,desc:"service uri used to get the metadata of an nft"},OPERATION_ADDRESSES_LIMIT:{def:100,parser:Jr,desc:"limit the number of addresses in from/to of operations"},OPERATION_OPTIMISTIC_RETENTION:{def:30*60*1e3,parser:Jr,desc:"timeout to keep an optimistic operation that was broadcasted but not yet visible from the coin implementation or the API"},OPERATION_PAGE_SIZE_INITIAL:{def:100,parser:Jr,desc:"defines the initial default operation length page to use"},POLKADOT_ELECTION_STATUS_THRESHOLD:{def:25,parser:Jr,desc:"in blocks - number of blocks before Polkadot election effectively opens to consider it as open and disable all staking features"},SATSTACK:{def:!1,parser:fr,desc:"Switch to satstack mode"},SCAN_FOR_INVALID_PATHS:{def:!1,parser:fr,desc:"enable searching accounts in exotic derivation paths"},SEED:{def:"",parser:kt,desc:"(dev feature) seed to be used by speculos (device simulator)"},PROVIDER_SESSION_ID_ENDPOINT:{def:"https://buy.api.live.ledger.com/session",parser:kt,desc:"Request provider session id"},SHOW_LEGACY_NEW_ACCOUNT:{def:!1,parser:fr,desc:"allow the creation of legacy accounts"},SKIP_ONBOARDING:{def:!1,parser:fr,desc:"dev flag to skip onboarding flow"},SPECULOS_API_PORT:{def:0,parser:Jr,desc:"API port for speculos"},SPECULOS_DEVICE:{def:"",parser:kt,desc:"Device model id for speculos"},SPECULOS_FIRMWARE_VERSION:{def:"",parser:kt,desc:"Firmware version for speculos"},SPECULOS_PID_OFFSET:{def:0,parser:Jr,desc:"offset to be added to the speculos pid and avoid collision with other instances"},SPECULOS_USE_WEBSOCKET:{def:!1,parser:fr,desc:"Use speculos websocket interface instead of Rest API"},SWAP_API_BASE:{def:"https://swap.ledger.com/v5",parser:kt,desc:"Swap API base"},SWAP_USER_IP:{def:"",parser:kt,desc:"Swap IP"},SWAP_DISABLE_APPS_INSTALL:{def:!1,parser:fr,desc:"bypass app checks on Nano for speculos swap tests"},SYNC_ALL_INTERVAL:{def:8*60*1e3,parser:Jr,desc:"delay between successive sync"},SYNC_BOOT_DELAY:{def:2*1e3,parser:Jr,desc:"delay before the sync starts"},SYNC_PENDING_INTERVAL:{def:10*1e3,parser:Jr,desc:"delay between sync when an operation is still pending"},SYNC_OUTDATED_CONSIDERED_DELAY:{def:10*60*1e3,parser:Jr,desc:"delay until Live consider a sync outdated"},SYNC_MAX_CONCURRENT:{def:4,parser:Jr,desc:"maximum limit to synchronize accounts concurrently to limit overload"},BOT_MAX_CONCURRENT:{def:10,parser:Jr,desc:"maximum limit to run bot spec in parallel"},USER_ID:{def:"",parser:kt,desc:"unique identifier of app instance. used to derivate dissociated ids for difference purposes (e.g. the firmware update incremental deployment)."},WALLETCONNECT:{def:!1,parser:fr,desc:"is walletconnect enabled"},CLOUD_SYNC_API_STAGING:{def:"https://cloud-sync-backend.api.aws.stg.ldg-tech.com",parser:kt,desc:"wallet sync api staging base url"},CLOUD_SYNC_API_PROD:{def:"https://cloud-sync.api.live.ledger.com",parser:kt,desc:"wallet sync api production base url"},WITH_DEVICE_POLLING_DELAY:{def:500,parser:Am,desc:"delay when polling device"},ANNOUNCEMENTS_API_URL:{def:"https://cdn.live.ledger.com/announcements",parser:kt,desc:"url used to fetch new announcements"},ANNOUNCEMENTS_API_VERSION:{def:1,parser:Jr,desc:"version used for the announcements api"},STATUS_API_URL:{def:"https://ledger.statuspage.io/api",parser:kt,desc:"url used to fetch ledger status"},STATUS_API_VERSION:{def:2,parser:Jr,desc:"version used for ledger status api"},TEZOS_MAX_TX_QUERIES:{def:100,parser:Jr,desc:"safe max on maximum number of queries to synchronize a tezos account"},TRUSTCHAIN_API_STAGING:{def:"https://trustchain-backend.api.aws.stg.ldg-tech.com",parser:kt,desc:"Trustchain API Staging"},TRUSTCHAIN_API_PROD:{def:"https://trustchain.api.live.ledger.com",parser:kt,desc:"Trustchain API Prod"},DADA_API_STAGING:{def:"https://dada.api.ledger-test.com/v1",parser:kt,desc:"Dynamic Assets Data Aggregator API Staging"},DADA_API_PROD:{def:"https://dada.api.ledger.com/v1",parser:kt,desc:"Dynamic Assets Data Aggregator API Prod"},PLATFORM_DEBUG:{def:!1,parser:fr,desc:"enable visibility of debug apps and tools in Platform Catalog"},PLATFORM_EXPERIMENTAL_APPS:{def:!1,parser:fr,desc:"enable visibility of experimental apps and tools in Platform Catalog"},PLATFORM_MANIFEST_API_URL:{def:"https://live-app-catalog.ledger.com/api/v1/apps",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_LOCAL_MANIFEST_JSON:{def:"",parser:kt,desc:'json manifest for a local (test) platform app manifests. How to use: PLATFORM_LOCAL_MANIFEST_JSON="$(cat /path/to/file.json)"'},PLATFORM_GLOBAL_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/catalog/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_GLOBAL_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/catalog/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_RAMP_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/trade/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_RAMP_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/trade/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_API_URL:{def:"",parser:kt,desc:"url used to fetch platform catalog"},PLATFORM_API_VERSION:{def:1,parser:Jr,desc:"version used for the platform api"},PLAYWRIGHT_RUN:{def:!1,parser:fr,desc:"true when launched for E2E testing"},MARKET_API_URL:{def:"https://proxycg.api.live.ledger.com/api/v3",parser:kt,desc:"Market data api"},USE_LEARN_STAGING_URL:{def:!1,parser:fr,desc:"use the staging URL for the learn page"},DYNAMIC_CAL_BASE_URL:{def:"https://cdn.live.ledger.com/cryptoassets",parser:kt,desc:"bucket S3 of the dynamic cryptoassets list"},CAL_SERVICE_URL:{def:"https://crypto-assets-service.api.ledger.com",parser:kt,desc:"Cryptoassets list service url"},CAL_SERVICE_URL_STAGING:{def:"https://crypto-assets-service.api.ledger-test.com",parser:kt,desc:"Cryptoassets list service url (staging)"},FEATURE_FLAGS:{def:"{}",parser:pCe,desc:"key value map for feature flags: {[key in FeatureId]?: Feature]}"},PERFORMANCE_CONSOLE:{def:!1,parser:fr,desc:"Show a performance overlay on the app UI"},STORAGE_PERFORMANCE_OVERLAY:{def:!1,parser:fr,desc:"Show a performance overlay on the app storage"},ETHEREUM_STUCK_TRANSACTION_TIMEOUT:{def:5*60*1e3,parser:Jr,desc:"Time after which an optimisc operation is considered stuck"},EVM_REPLACE_TX_LEGACY_GASPRICE_FACTOR:{def:1.3,parser:Am,desc:"Replace transaction gasprice factor for legacy evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXFEE_FACTOR:{def:1.3,parser:Am,desc:"Replace transaction max fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXPRIORITYFEE_FACTOR:{def:1.1,parser:Am,desc:"Replace transaction max priority fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_FORCE_LEGACY_TRANSACTIONS:{def:!1,parser:fr,desc:"Force transaction type 0 on EVM networks"},ENABLE_NETWORK_LOGS:{def:!1,parser:fr,desc:"Enable network request and responses logs. Errors are always logged"},CRYPTO_ASSET_SEARCH_KEYS:{def:["ticker","name","keywords"],parser:EE,desc:"Fuse search attributes to find a currency according to user input"},VERBOSE:{def:[],parser:EE,desc:'Sets up debug console printing of logs. `VERBOSE=1` or `VERBOSE=true`: to print all logs | `VERBOSE="apdu,hw,transport,hid-verbose"` : filtering on a list of log `type` separated by a `,`'},DEFAULT_TRANSACTION_POLLING_INTERVAL:{def:30*1e3,parser:Jr,desc:"Default interval to poll for transaction confirmation in speedup/cancel evm flow (in ms)"},LOW_BATTERY_PERCENTAGE:{def:20,parser:Jr,desc:"Configure the low battery percentage threshold"},LOG_DRAWERS:{def:!1,parser:fr,desc:"Enable logs for drawers"},SANCTIONED_ADDRESSES_URL:{def:"https://compliance.ledger.com/all_sanctioned_addresses_without_ticker.json",parser:kt,desc:"List of sanctioned addresses"},BIG_NUMBER_DECIMAL_PLACES:{def:40,parser:Jr,desc:"bignumber.js decimal places configuration"}},mCe=Object.keys(_H).reduce((t,e)=>({...t,[e]:_H[e].def}),{});({...mCe});new Eie;const gCe="strings/5.8.0",_ie=new Kt(gCe);var jA;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(jA||(jA={}));var ac;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(ac||(ac={}));function bCe(t,e,r,n,s){return _ie.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Cie(t,e,r,n,s){if(t===ac.BAD_PREFIX||t===ac.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t===ac.OVERRUN?r.length-e-1:0}function yCe(t,e,r,n,s){return t===ac.OVERLONG?(n.push(s),0):(n.push(65533),Cie(t,e,r))}const vCe=Object.freeze({error:bCe,ignore:Cie,replace:yCe});function xCe(t,e){e==null&&(e=vCe.error),t=Kr(t);const r=[];let n=0;for(;n<t.length;){const s=t[n++];if(!(s>>7)){r.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?n+=e(ac.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(ac.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(ac.OVERRUN,n-1,t,r);continue}let o=s&(1<<8-i-1)-1;for(let c=0;c<i;c++){let l=t[n];if((l&192)!=128){n+=e(ac.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|l&63,n++}if(o!==null){if(o>1114111){n+=e(ac.OUT_OF_RANGE,n-1-i,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(ac.UTF16_SURROGATE,n-1-i,t,r,o);continue}if(o<=a){n+=e(ac.OVERLONG,n-1-i,t,r,o);continue}r.push(o)}}return r}function Cp(t,e=jA.current){e!=jA.current&&(_ie.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return Kr(r)}function wCe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ACe(t,e){return wCe(xCe(t,e))}function j8(t){return bc(Cp(t))}const SCe=`Ethereum Signed Message:
`;function Tie(t){return typeof t=="string"&&(t=Cp(t)),bc(_p([Cp(SCe),Cp(String(t.length)),t]))}const MB=t=>Object.keys(t).sort().reduce((r,n)=>{const s=Array.isArray(t[n])?t[n].map(i=>MB(i)):t[n];return r[n]=s,r},{}),PCe=t=>{const{types:e}=t,r=MB(e);return tCe(JSON.stringify(r).replace(" ","")).toString()},kCe=async(t,e,r,n,s)=>{var o,c,l,u,f,h;const i=PCe(t),a=((c=(o=t.domain)==null?void 0:o.verifyingContract)==null?void 0:c.toLowerCase())||$Se;try{if(r){const{data:m}=await Bn.get(`${r}/v1/dapps`,{params:{output:"eip712_signatures",eip712_signatures_version:e?"v1":"v2",chain_id:(l=t.domain)==null?void 0:l.chainId,contracts:a}}),v=m.find(k=>{var E,P;return(P=(E=k==null?void 0:k.eip712_signatures)==null?void 0:E[a])==null?void 0:P[i]}),x=(f=(u=v==null?void 0:v.eip712_signatures)==null?void 0:u[a])==null?void 0:f[i];if(!x)throw new Error("Fallback to static file");return x}throw new Error("No CAL service URL")}catch{const v=`${((h=t.domain)==null?void 0:h.chainId)??0}:${a}:${i}`;return e&&n?n[v]:!e&&s?s[v]:void 0}},jie=(t,e)=>{if(typeof e=="object"){if(Array.isArray(e))return e.map(n=>jie(t,n)).flat();if(!(t in e))throw new Error(`Could not find key ${t} in ${JSON.stringify(e)} `);const r=e[t];return typeof r=="object"?r:r.toString()}return e.toString()},ICe=(t,e)=>{const r=t.split("."),{message:n}=e;let s=n;for(let i=0;i<=r.length-1;i++){const a=r[i],o=i>=r.length-1;a==="[]"&&!o||(s=jie(a,s))}if(s===n)throw new Error("getValueFromPath returned the whole original message");return s},NCe={nftExplorerBaseURL:"https://nft.api.live.ledger.com/v1/ethereum",pluginBaseURL:"https://cdn.live.ledger.com",extraPlugins:null,cryptoassetsBaseURL:"https://cdn.live.ledger.com/cryptoassets",calServiceURL:"https://crypto-assets-service.api.ledger.com",staticERC20Signatures:null,staticEIP712SignaturesV1:null,staticEIP712SignaturesV2:null};function l2(t){return{...NCe,...t}}const Pj=t=>{const e=t.toLowerCase();return e.startsWith("0x")?e:"0x"+e},OB=async(t,e)=>{const{cryptoassetsBaseURL:r}=l2(t);if(!r)return null;const n=`${r}/evm/${e}/erc20-signatures.json`;return await Bn.get(n).then(({data:i})=>{if(!i||typeof i!="string")throw new Error(`ERC20 signatures for chainId ${e} file is malformed ${n}`);return i}).catch(i=>(Xs("error","could not fetch from "+n+": "+String(i)),null))},$A=(t,e,r,n)=>{var i;if(r)try{return CH(r).byContractAndChainId(Pj(t),e)}catch{}const s=n?l2(n):null;if((i=s==null?void 0:s.staticERC20Signatures)!=null&&i[e])try{return CH(s.staticERC20Signatures[e]).byContractAndChainId(Pj(t),e)}catch(a){Xs("error",`Failed to parse static ERC20 signatures for chainId ${e}: ${String(a)}`)}return null},CH=t=>{const e=Buffer.from(t,"base64"),r={},n=[];let s=0;for(;s<e.length;){const i=e.readUInt32BE(s);s+=4;const a=e.slice(s,s+i);let o=0;const c=a.readUInt8(o);o+=1;const l=a.slice(o,o+c).toString("ascii");o+=c;const u=Pj(a.slice(o,o+20).toString("hex"));o+=20;const f=a.readUInt32BE(o);o+=4;const h=a.readUInt32BE(o);o+=4;const m=a.slice(o),v={ticker:l,contractAddress:u,decimals:f,chainId:h,signature:m,data:a};n.push(v),r[String(h)+":"+u]=v,s+=i}return{list:()=>n,byContractAndChainId:(i,a)=>r[String(a)+":"+i]}};var kj;(function(t){t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x259f8d1a"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d447995"]="deposit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x617ba037"]="supply",t["0x64466805"]="swapOnZeroXv4",t["0x65ae14b5"]="deleverageWithdraw",t["0x69328dec"]="withdraw",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa1251d75"]="unoswapWithPermit",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xb460af94"]="withdraw",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0a3b665"]="fillOrderRFQ",t["0xe449022e"]="uniswapV3Swap",t["0xf5661034"]="swapOnUniswapFork"})(kj||(kj={}));var Ij;(function(t){t["0x016cba5f"]="execute",t["0x0d10d32c"]="redeemOverdueShares",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x0f7e2048"]="redeemOverdueShares",t["0x12a0ddc7"]="PMMV2Swap",t["0x3d21e25a"]="swapBridgeToV2",t["0x5bcb2fc6"]="submit",t["0x617ba037"]="supply",t["0x69328dec"]="withdraw",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbe040fb0"]="redeem",t["0xc9d2ff9d"]="requestUnlock",t["0xdb006a75"]="redeem"})(Ij||(Ij={}));var Nj;(function(t){t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x095ea7b3"]="approve",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x20b76e81"]="repay",t["0x2298207a"]="simpleBuy",t["0x238d6579"]="supplyCollateral",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x50d8cd4b"]="borrow",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x5c2bea49"]="withdraw",t["0x64466805"]="swapOnZeroXv4",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x8069218f"]="setAuthorizationWithSig",t["0x81033120"]="swapOnZeroXv2",t["0x833947fd"]="reallocateTo",t["0x84bd6d29"]="clipperSwap",t["0x8720316d"]="withdrawCollateral",t["0x8c1358a2"]="createMarket",t["0x935fb84b"]="buyOnUniswap",t["0x94bf804d"]="mint",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xa99aad89"]="supply",t["0xb460af94"]="withdraw",t["0xb80c2f09"]="smartSwapByOrderId",t["0xba087652"]="redeem",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xe0232b42"]="flashLoan",t["0xeecea000"]="setAuthorization",t["0xf5661034"]="swapOnUniswapFork"})(Nj||(Nj={}));var Ej;(function(t){t["0x016cba5f"]="execute",t["0x0863b7ac"]="SwapOnUniswapFork",t["0x0d57afa6"]="requestWithdraw",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x2298207a"]="simpleBuy",t["0x23b872dd"]="transferFrom",t["0x26ef699d"]="sendToken",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x33635226"]="BuyOnUniswapFork",t["0x3c659741"]="bridgeCall",t["0x3d21e25a"]="swapBridgeToV2",t["0x3f2e5fc3"]="sendNative",t["0x46c67b6d"]="megaSwap",t["0x4d99dd16"]="undelegate",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x51227094"]="processOutputOrders",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x58b9d179"]="SwapOnUniswap",t["0x59491871"]="redelegate",t["0x64466805"]="swapOnZeroXv4",t["0x6d9634b7"]="releaseTokens",t["0x7617b389"]="mixSwap",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x81791788"]="dodoMutliSwap",t["0x8ca3bf68"]="callBridgeCall",t["0x8f00eccb"]="MultiSwap",t["0x90e1aa69"]="processInputOrders",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x982ef0a7"]="delegate",t["0x9871efa4"]="unxswapByOrderId",t["0x9ddb511a"]="delegate",t["0xa21a9280"]="withdraw",t["0xa27e8b6b"]="SimpleBuy",t["0xa378534b"]="create",t["0xa5977fbb"]="send",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xaa7415f5"]="transferOut",t["0xaad3ec96"]="claim",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbba9b10c"]="destroy",t["0xc03786b0"]="buyOnUniswapFork",t["0xcfc0afeb"]="SimpleSwap",t["0xd0e30db0"]="deposit",t["0xde790c7e"]="burn",t["0xec1d21dd"]="MegaSwap",t["0xf35af1f8"]="callBridge",t["0xf5661034"]="swapOnUniswapFork",t["0xf8444436"]="claimWithdrawal",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf9355f72"]="BuyOnUniswap",t["0xf95a49eb"]="Buy"})(Ej||(Ej={}));var _j;(function(t){t["0x00f714ce"]="withdraw_to",t["0x016cba5f"]="execute",t["0x01d523b6"]="updateStateAndDepositAndMintOsToken",t["0x026e402b"]="delegate",t["0x0502b1c5"]="unoswap",t["0x066055e0"]="burnOsToken",t["0x074ee446"]="mint",t["0x084fd9b4"]="claimFromVault",t["0x0863b7ac"]="swapOnUniswapFork",t["0x08dc9f42"]="mint",t["0x095ea7b3"]="approve",t["0x0968f264"]="withdraw",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0c0a769b"]="supply",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x0dd8dd02"]="queueWithdrawals",t["0x0e752702"]="repayBorrow",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x10f13a8c"]="SetText",t["0x1249c58b"]="mint",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x148e23ce"]="claimRewards",t["0x15373e3d"]="castVote",t["0x1564da79"]="submitPOL",t["0x16dc3ace"]="swapExactAmountOut",t["0x1896f70a"]="setResolver",t["0x18f72950"]="updateStateAndDeposit",t["0x19aa6257"]="requestWithdrawalsWstETH",t["0x1a7ff553"]="updateState",t["0x1c4b774b"]="getReward",t["0x1da649cf"]="repay",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x1f7ec122"]="requestWithdraw",t["0x201b9eb5"]="mintOsToken",t["0x224199c2"]="ProveAndClaimWithResolver",t["0x2298207a"]="simpleBuy",t["0x22a775b6"]="mintAndTransfer",t["0x23463624"]="deposit",t["0x23b872dd"]="transferFrom",t["0x23e103a8"]="withdraw",t["0x242eba0e"]="deletePendingValidators",t["0x24d83b79"]="addToPerpetual",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x258d3c33"]="redeemYield",t["0x259f8d1a"]="withdraw",t["0x2608f818"]="repayBorrowBehalf",t["0x26ef699d"]="sendToken",t["0x27050d1f"]="createToken",t["0x2775d01c"]="withdrawInstantly",t["0x2aba2aeb"]="addToken",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x2d8918d7"]="addLiquidity",t["0x2def6620"]="unstake",t["0x2e17de78"]="unstake",t["0x2e1a7d4d"]="withdraw",t["0x2e2d2984"]="deposit",t["0x2e95b6c8"]="unoswap",t["0x304e6ade"]="SetContentHash",t["0x3111e7b3"]="claimRewards",t["0x31807e42"]="depositYieldToken",t["0x32ca494b"]="withdrawWstETH",t["0x32f73258"]="updateOperatorControllingAddress",t["0x33404396"]="completeQueuedWithdrawals",t["0x33635226"]="buyOnUniswapFork",t["0x379607f5"]="claim",t["0x388bbfd3"]="redeem",t["0x3a4b66f1"]="stake",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3c659741"]="bridgeCall",t["0x3ccfd60b"]="withdraw_all",t["0x3d13f874"]="claim",t["0x3d18b912"]="getReward",t["0x3d21e25a"]="swapBridgeToV2",t["0x3db397c6"]="__ERC721Rarible_init",t["0x3e200d4b"]="stakeRPL",t["0x3eca9c0a"]="fillOrderRFQ",t["0x3f2e5fc3"]="sendNative",t["0x42966c68"]="burn",t["0x439370b1"]="depositEth",t["0x43e82a79"]="redeemOsToken",t["0x441a3e70"]="withdraw",t["0x46c67b6d"]="megaSwap",t["0x46e04a2f"]="claimTokens",t["0x47e7ef24"]="deposit",t["0x4957677c"]="increase_amount",t["0x4b8a3529"]="borrow",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d447995"]="deposit",t["0x4d5693ab"]="depositUnderlying",t["0x4d99dd16"]="undelegate",t["0x4e3c04bd"]="getRSETHWithETH",t["0x4e71d92d"]="claim",t["0x4f498c73"]="deposit",t["0x4faa8a26"]="depositEtherFor",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x510ccb43"]="getReward",t["0x51227094"]="processOutputOrders",t["0x51a60b02"]="withdrawDelegated",t["0x5243318f"]="depositWstETH",t["0x5358fbda"]="depositETH",t["0x54741d6d"]="addOperator",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x55362f4d"]="swapTo",t["0x573ade81"]="repay",t["0x58b9d179"]="swapOnUniswap",t["0x5a3b74b9"]="setUserUseReserveAsCollateral",t["0x5ae401dc"]="multicall",t["0x5b0fc9c3"]="setOwner",t["0x5b34b966"]="incrementCounter",t["0x5c19a95c"]="delegate",t["0x5ef2c7f0"]="setSubnodeRecord",t["0x60ec5216"]="addNewValidatorDetails",t["0x627cdcb9"]="incrementNonce",t["0x64466805"]="swapOnZeroXv4",t["0x657bb113"]="mintSign",t["0x65ae14b5"]="deleverageWithdraw",t["0x65fc3873"]="create_lock",t["0x66792ba1"]="send",t["0x67dfd4c9"]="leave",t["0x69328dec"]="withdraw",t["0x6ab15071"]="buyVoucher",t["0x6b088d5c"]="withdrawRPL",t["0x6d104216"]="burn",t["0x6d9634b7"]="releaseTokens",t["0x6e26b9f8"]="depositRequest",t["0x6e553f65"]="deposit",t["0x6fc3f5d5"]="deploySmartVault",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x71d6e892"]="claimAlk",t["0x721c6513"]="requestExit",t["0x72c51c0b"]="depositETH",t["0x73c2ad9c"]="addToken",t["0x745400c9"]="requestWithdraw",t["0x74694a2b"]="register",t["0x7617b389"]="mixSwap",t["0x7951b76f"]="requestWithdrawalsWstETHWithPermit",t["0x7b0472f0"]="stake",t["0x7bde82f2"]="redeem",t["0x7c025200"]="swap",t["0x7d41c86e"]="requestRedeem",t["0x7e108d52"]="initiateWithdraw",t["0x7f60d338"]="withdrawSelfApeCoin",t["0x81033120"]="swapOnZeroXv2",t["0x81791788"]="dodoMutliSwap",t["0x827481ea"]="preSaleMint",t["0x8279e760"]="claimSelfApeCoin",t["0x832fbb29"]="transferFromOrMint",t["0x833947fd"]="reallocateTo",t["0x8340f549"]="deposit",t["0x84bd6d29"]="clipperSwap",t["0x852a12e3"]="redeemUnderlying",t["0x85f6d155"]="register",t["0x8697d2c2"]="claimExitedAssets",t["0x87201b41"]="fulfillAvailableAdvancedOrders",t["0x8759c234"]="unstakeClaimTokens_newPOL",t["0x891407c0"]="purchaseTo",t["0x8ab936b8"]="deposit",t["0x8b53f75e"]="redeemInstant",t["0x8b95dd71"]="SetAddr",t["0x8bbedf75"]="ProveAndClaim",t["0x8ca3bf68"]="callBridgeCall",t["0x8ceab9aa"]="enterExitQueue",t["0x8f00eccb"]="multiSwap",t["0x90e1aa69"]="processInputOrders",t["0x9343d9e1"]="cooldownShares",t["0x935fb84b"]="buyOnUniswap",t["0x94ba89a2"]="swapBorrowRateMode",t["0x94bf804d"]="mint",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0x9aa3033a"]="requestVoluntaryExit",t["0x9dcaafb4"]="depositSelfApeCoin",t["0x9f5db69c"]="updateOperatorName",t["0xa0712d68"]="mint",t["0xa1251d75"]="unoswapWithPermit",t["0xa1903eab"]="submit",t["0xa21a9280"]="withdraw",t["0xa22cb465"]="setApprovalForAll",t["0xa27e8b6b"]="undefined",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa378534b"]="create",t["0xa415bcad"]="borrow",t["0xa543ccea"]="setWithdrawalAddress",t["0xa5977fbb"]="send",t["0xa59f3e0c"]="enter",t["0xa62b2a3d"]="openPerpetual",t["0xa6886da9"]="directUniV3Swap",t["0xa694fc3a"]="stake",t["0xa824ae8b"]="swapFrom",t["0xa8a41c70"]="cancelOrder_",t["0xa9059cbb"]="transfer",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xab834bab"]="atomicMatch_",t["0xabdb5ea8"]="repayBorrow",t["0xac9650d8"]="Multicall",t["0xacf1a841"]="renew",t["0xacf41e4d"]="requestWithdrawalsWithPermit",t["0xadcf1163"]="claim",t["0xaf68b302"]="mintToken",t["0xafc3083c"]="removeLiquidity",t["0xb02029e0"]="extendRewardEmission",t["0xb0431182"]="clipperSwap",t["0xb1a1a882"]="depositETH",t["0xb3a34c4c"]="fulfillOrder",t["0xb460af94"]="withdraw",t["0xb6b06dec"]="requestValidatorsExit",t["0xb6b55f25"]="deposit",t["0xb7034f7e"]="claim",t["0xb7482509"]="deposit",t["0xb7ba18c7"]="multiClaim",t["0xb80c2f09"]="smartSwapByOrderId",t["0xb8aa0db9"]="depositRsETH",t["0xba087652"]="reedeem",t["0xbba9b10c"]="destroy",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xbd439126"]="confirmWithdrawalAddress",t["0xbf509bd4"]="withdrawELFee",t["0xbfc2d46a"]="redeemRequest",t["0xc02dd27a"]="depositInstant",t["0xc03786b0"]="buyOnUniswapFork",t["0xc111fb91"]="preSaleMint",t["0xc22fb4ef"]="withdrawUnderlying",t["0xc3953502"]="usePubKeysForValidatorSetup",t["0xc3ae1766"]="depositAsset",t["0xc47f0027"]="setName",t["0xc48ef844"]="createVault",t["0xc4d66de8"]="initialize",t["0xc5a67b01"]="initiateWithdrawal",t["0xc5ebeaec"]="borrow",t["0xc7b8981c"]="withdrawRewards",t["0xc7cdea37"]="withdrawETH",t["0xc805a666"]="clipperSwapToWithPermit",t["0xc83ec04d"]="sellVoucher_new",t["0xca0bfcce"]="deposit",t["0xcb1c8321"]="stakeRPLFor",t["0xcc8690ac"]="depositCrvLp",t["0xccc143b8"]="requestWithdraw",t["0xcdac52ed"]="cooldownAssets",t["0xcfc0afeb"]="simpleSwap",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xd1e6044a"]="compound",t["0xd3a86833"]="completeWithdrawal",t["0xd5f73f5c"]="redeemFiatRequest",t["0xd6681042"]="requestWithdrawals",t["0xd6a92a5d"]="clipperSwapToWithPermit",t["0xd7b9d423"]="withdrawFast",t["0xd99d32e3"]="swapAndDeposit",t["0xda8be864"]="undelegate",t["0xdb006a75"]="redeem",t["0xdd307b99"]="enableOperator",t["0xddd81f82"]="registerProxy",t["0xde0e9a3e"]="unwrap",t["0xde5f6268"]="depositAll",t["0xe0db556b"]="withdrawRewardsPOL",t["0xe1c2eea6"]="redeemFast",t["0xe2864fe3"]="cancel",t["0xe2bbb158"]="deposit",t["0xe3afe0a3"]="claimWithdrawals",t["0xe4457a8a"]="buyVoucherPOL",t["0xe449022e"]="uniswapV3Swap",t["0xe5234c7a"]="closePerpetual",t["0xe570b78b"]="sellVoucher_newPOL",t["0xe61604cf"]="liquidateBorrow",t["0xe63697c8"]="withdraw_to_with_slippage",t["0xe69663f1"]="ZapIn",t["0xe7a050aa"]="depositIntoStrategy",t["0xe7acab24"]="fulfillAdvancedOrder",t["0xe7ffb5f7"]="swapExactAmountIn",t["0xe8a0c121"]="batchWithdraw",t["0xe8c3516b"]="getRSETHWithERC20",t["0xe8d6dbb4"]="RenewAll",t["0xe8eda9df"]="deposit",t["0xe8f28a6c"]="updateOperatorRewardAddress",t["0xe97fddc2"]="unstakeClaimTokens_new",t["0xe99454f5"]="setWithdrawal",t["0xe99a3f80"]="matchOrders",t["0xe9fad8ee"]="exit",t["0xea598cb0"]="wrap",t["0xea99c2a6"]="submit",t["0xec1d21dd"]="megaSwap",t["0xecfe0521"]="withdrawCrvLp",t["0xed98a574"]="fulfillAvailableOrders",t["0xeda74e71"]="deleteActiveValidators",t["0xeea9064b"]="delegateTo",t["0xef5e4682"]="batchWithdrawELFee",t["0xefef39a1"]="purchase",t["0xeff7a612"]="increase_unlock_time",t["0xf14fcbc8"]="commit",t["0xf2888dbb"]="unstake",t["0xf2b9fdb8"]="supply",t["0xf35af1f8"]="callBridge",t["0xf3fef3a3"]="withdraw",t["0xf4de10ac"]="getStakingRewards",t["0xf4f3b200"]="withdrawERC20",t["0xf532e86a"]="submit",t["0xf56408ed"]="disableOperator",t["0xf5661034"]="swapOnUniswapFork",t["0xf5e3c462"]="liquidateBorrow",t["0xf6326fb3"]="depositETH",t["0xf756fa21"]="completeWithdraw",t["0xf7a16963"]="registerWithConfig",t["0xf8444436"]="claimWithdrawal",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf8a70486"]="claimWithdrawal",t["0xf9355f72"]="buyOnUniswap",t["0xf95a49eb"]="buy",t["0xf9609f08"]="deposit_all",t["0xfa15b91b"]="deposit",t["0xfb0f3ee1"]="fulfillBasicOrder",t["0xfb7e92ea"]="claim",t["0xfd3c11a8"]="withdraw",t["0xfd9f1e10"]="cancel",t["0xfe784eaa"]="swapTokens",t["0xff3bf066"]="zapInToPT"})(_j||(_j={}));var Cj;(function(t){t["0x08dc9f42"]="mint",t["0x0968f264"]="withdraw",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x11413601"]="stableMintSign",t["0x1249c58b"]="mint",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x4f498c73"]="deposit",t["0x657bb113"]="mintSign",t["0x66792ba1"]="send",t["0x804b936f"]="stableMint",t["0x827481ea"]="preSaleMint",t["0xa0712d68"]="mint",t["0xb6b06dec"]="requestValidatorsExit",t["0xbf509bd4"]="withdrawELFee",t["0xc111fb91"]="preSaleMint",t["0xd0e30db0"]="deposit",t["0xe8a0c121"]="batchWithdraw",t["0xe99454f5"]="setWithdrawal",t["0xef5e4682"]="batchWithdrawELFee",t["0xf39247a9"]="mintSign"})(Cj||(Cj={}));var Tj;(function(t){t["0x01d523b6"]="updateStateAndDepositAndMintOsToken",t["0x066055e0"]="burnOsToken",t["0x0968f264"]="withdraw",t["0x0dd8dd02"]="queueWithdrawals",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x18f72950"]="updateStateAndDeposit",t["0x1a7ff553"]="updateState",t["0x201b9eb5"]="mintOsToken",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x33404396"]="completeQueuedWithdrawals",t["0x3a4b66f1"]="stake",t["0x4f498c73"]="deposit",t["0x66792ba1"]="send",t["0x721c6513"]="requestExit",t["0x8697d2c2"]="claimExitedAssets",t["0x8ceab9aa"]="enterExitQueue",t["0x9aa3033a"]="requestVoluntaryExit",t["0xac9650d8"]="multicall",t["0xadcf1163"]="claim",t["0xb6b06dec"]="requestValidatorsExit",t["0xb7ba18c7"]="multiClaim",t["0xbf509bd4"]="withdrawELFee",t["0xca0bfcce"]="deposit",t["0xd0e30db0"]="deposit",t["0xda8be864"]="undelegate",t["0xe7a050aa"]="depositIntoStrategy",t["0xe8a0c121"]="batchWithdraw",t["0xe99454f5"]="setWithdrawal",t["0xeea9064b"]="delegateTo",t["0xef5e4682"]="batchWithdrawELFee",t["0xf9609f08"]="deposit"})(Tj||(Tj={}));var jj;(function(t){t["0x1249c58b"]="mint",t["0x22a775b6"]="mintAndTransfer",t["0x27050d1f"]="createToken",t["0x3db397c6"]="__ERC721Rarible_init",t["0x832fbb29"]="transferFromOrMint",t["0xa22cb465"]="setApprovalForAll",t["0xc111fb91"]="preSaleMint",t["0xe2864fe3"]="cancel",t["0xe99a3f80"]="matchOrders"})(jj||(jj={}));var $j;(function(t){t["0x00f714ce"]="withdraw",t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3ccfd60b"]="withdraw",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x64466805"]="swapOnZeroXv4",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa1251d75"]="unoswapWithPermit",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb6b55f25"]="deposit",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xe449022e"]="uniswapV3Swap",t["0xf5661034"]="swapOnUniswapFork"})($j||($j={}));var Mj;(function(t){t["0x00f714ce"]="withdraw",t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x259f8d1a"]="withdraw",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3ccfd60b"]="withdraw",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4d447995"]="deposit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x617ba037"]="supply",t["0x64466805"]="swapOnZeroXv4",t["0x65ae14b5"]="deleverageWithdraw",t["0x69328dec"]="withdraw",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb460af94"]="withdraw",t["0xb6b55f25"]="deposit",t["0xb80c2f09"]="smartSwapByOrderId",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0e30db0"]="deposit",t["0xf5661034"]="swapOnUniswapFork"})(Mj||(Mj={}));var Oj;(function(t){t["0x016cba5f"]="execute",t["0x02751cec"]="removeLiquidityETH",t["0x03388b4e"]="sublet",t["0x0502b1c5"]="unoswap",t["0x0863b7ac"]="undefined",t["0x0c65b39d"]="unlink",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x1157decb"]="endRental",t["0x11bcc81e"]="downgrade",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x160e8be3"]="downgradeToETH",t["0x16dc3ace"]="swapExactAmountOut",t["0x18cbafe5"]="swapExactTokensForETH",t["0x1a674419"]="buyCAPSA",t["0x1ae50184"]="preSignRentalOffer",t["0x1beddfdd"]="endSublet",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x1e9a6950"]="redeem",t["0x20905506"]="whitelist_profile_creator",t["0x2195995c"]="removeLiquidityWithPermit",t["0x2298207a"]="simpleBuy",t["0x22a775b6"]="mintAndTransfer",t["0x23463624"]="deposit",t["0x23b872dd"]="transferFrom",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x258d3c33"]="redeemYield",t["0x26ef699d"]="sendToken",t["0x27050d1f"]="createToken",t["0x2d8918d7"]="addLiquidity",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x33635226"]="undefined",t["0x38ed1739"]="swapExactTokensForTokens",t["0x39255d5b"]="callAgreement",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3c659741"]="bridgeCall",t["0x3ce1108d"]="sellToAMM",t["0x3d18b912"]="getReward",t["0x3d21e25a"]="swapBridgeToV2",t["0x3db397c6"]="__ERC721Rarible_init",t["0x3eca9c0a"]="fillOrderRFQ",t["0x3f2e5fc3"]="sendNative",t["0x42966c68"]="burn",t["0x441a3e70"]="withdraw",t["0x45977d03"]="upgrade",t["0x46c67b6d"]="megaSwap",t["0x4727ce3a"]="collect",t["0x47e7ef24"]="deposit",t["0x48eaf6d6"]="requestMaticXSwap",t["0x4926c4ed"]="change_del_exec_with_sign",t["0x4a25d94a"]="swapTokensForExactETH",t["0x4b7312a9"]="follow",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d7b35a0"]="follow_with_sign",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x51227094"]="processOutputOrders",t["0x51c3659c"]="change_del_exec_1",t["0x54506e92"]="grind",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x560a4db1"]="act",t["0x58b9d179"]="swapOnUniswap",t["0x5b0d5984"]="removeLiquidityETHWithPermitSupportingFeeOnTransferTokens",t["0x5b34b966"]="incrementCounter",t["0x5c11d795"]="swapExactTokensForTokensSupportingFeeOnTransferTokens",t["0x617ba037"]="supply",t["0x627cdcb9"]="incrementNonce",t["0x6363e882"]="registerAndRewardGameWithSignature",t["0x64466805"]="swapOnZeroXv4",t["0x65f29f27"]="quote_with_sign",t["0x66b0dcd3"]="post",t["0x69328dec"]="withdraw",t["0x6ad3ca7d"]="batchCall",t["0x6d0fd658"]="metadata_with_sign",t["0x6d9634b7"]="releaseTokens",t["0x6dea40b3"]="set_follow_mod",t["0x6e09f420"]="cancelRentalOffer",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7617b389"]="mixSwap",t["0x77baf209"]="claimMaticXSwap",t["0x791ac947"]="swapExactTokensForETHSupportingFeeOnTransferTokens",t["0x7c025200"]="swap",t["0x7e502fe0"]="link_with_sign",t["0x7ff36ab5"]="swapExactETHForTokens",t["0x809d8947"]="unfollow_with_sign",t["0x81033120"]="swapOnZeroXv2",t["0x815ed04a"]="unfollow",t["0x81791788"]="dodoMutliSwap",t["0x825ab164"]="unlink_with_sign",t["0x832fbb29"]="transferFromOrMint",t["0x84bd6d29"]="clipperSwap",t["0x85149258"]="exerciseOptions",t["0x86cf48e7"]="link",t["0x87201b41"]="fulfillAvailableAdvancedOrders",t["0x8803dbee"]="swapTokensForExactTokens",t["0x8875eb84"]="buyFromAMM",t["0x8ca3bf68"]="callBridgeCall",t["0x8d259eb1"]="rent",t["0x8f00eccb"]="undefined",t["0x907cd7d2"]="post_with_sign",t["0x90e1aa69"]="processInputOrders",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0x9f916c9f"]="buyFromAMMWithReferrer",t["0xa1251d75"]="unoswapWithPermit",t["0xa21a9280"]="withdraw",t["0xa22cb465"]="setApprovalForAll",t["0xa27e8b6b"]="undefined",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa378534b"]="create",t["0xa5977fbb"]="send",t["0xa6886da9"]="directUniV3Swap",t["0xa694fc3a"]="stake",t["0xa8a41c70"]="cancelOrder_",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xaf2979eb"]="removeLiquidityETHSupportingFeeOnTransferTokens",t["0xafc3083c"]="removeLiquidity",t["0xb273b4a7"]="comment",t["0xb3a34c4c"]="fulfillOrder",t["0xb42df51a"]="comment_with_sign",t["0xb60099b7"]="craft",t["0xb6b55f25"]="deposit",t["0xb6f9de95"]="swapExactETHForTokensSupportingFeeOnTransferTokens",t["0xb7034f7e"]="claim",t["0xb7902e73"]="collect_with_sign",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbaa2abde"]="removeLiquidity",t["0xbba9b10c"]="destroy",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc1f4b40a"]="change_del_exec_2",t["0xc5d5d96a"]="act",t["0xc6d45944"]="set_block_status_with_sign",t["0xc78cf1a0"]="swapMaticForMaticXViaInstantPool",t["0xc805a666"]="clipperSwapToWithPermit",t["0xc86642c7"]="act_with_sign",t["0xce30bb4f"]="set_follow_mod_with_sign",t["0xcf81464b"]="upgradeByETH",t["0xcfc0afeb"]="simpleSwap",t["0xd06a750c"]="exercisePositions",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xde5f6268"]="depositAll",t["0xded9382a"]="removeLiquidityETHWithPermit",t["0xe1649e8d"]="endRentalPrematurely",t["0xe2864fe3"]="cancel",t["0xe2bbb158"]="deposit",t["0xe449022e"]="uniswapV3Swap",t["0xe6a402b5"]="mirror_with_sign",t["0xe7acab24"]="fulfillAdvancedOrder",t["0xe7ffb5f7"]="swapExactAmountIn",t["0xe8e33700"]="addLiquidity",t["0xe99a3f80"]="matchOrders",t["0xe9fad8ee"]="exit",t["0xea25e176"]="claim",t["0xec1d21dd"]="undefined",t["0xed98a574"]="fulfillAvailableOrders",t["0xefe4fd83"]="metadata",t["0xf08e8f5e"]="mint",t["0xf0ba35f0"]="quote",t["0xf2b9fdb8"]="supply",t["0xf305d719"]="addLiquidityETH",t["0xf35af1f8"]="callBridge",t["0xf3fef3a3"]="withdraw",t["0xf5661034"]="swapOnUniswapFork",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf90604d1"]="mirror",t["0xf9355f72"]="undefined",t["0xf95a49eb"]="undefined",t["0xfb0f3ee1"]="fulfillBasicOrder",t["0xfb3bdb41"]="swapETHForExactTokens",t["0xfb827e82"]="set_block_status",t["0xfd9f1e10"]="cancel",t["0xfe9d8323"]="sellCAPSA",t["0xff3bf066"]="zapInToPT"})(Oj||(Oj={}));var Fj;(function(t){t["0x016cba5f"]="execute",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x2298207a"]="simpleBuy",t["0x3d21e25a"]="swapBridgeToV2",t["0x46c67b6d"]="megaSwap",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x64466805"]="swapOnZeroXv4",t["0x81033120"]="swapOnZeroXv2",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb80c2f09"]="smartSwapByOrderId",t["0xc03786b0"]="buyOnUniswapFork",t["0xf5661034"]="swapOnUniswapFork"})(Fj||(Fj={}));var Bj;(function(t){t["0x0502b1c5"]="unoswap",t["0x12aa3caf"]="swap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3eca9c0a"]="fillOrderRFQ",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x84bd6d29"]="clipperSwap",t["0xc805a666"]="clipperSwapToWithPermit"})(Bj||(Bj={}));var Rj;(function(t){t.APPROVE="0x095ea7b3",t.TRANSFER="0xa9059cbb"})(Rj||(Rj={}));var Dj;(function(t){t.APPROVE="0x095ea7b3",t.SET_APPROVAL_FOR_ALL="0xa22cb465",t.TRANSFER_FROM="0x23b872dd",t.SAFE_TRANSFER_FROM="0x42842e0e",t.SAFE_TRANSFER_FROM_WITH_DATA="0xb88d4fde"})(Dj||(Dj={}));var Uj;(function(t){t.SET_APPROVAL_FOR_ALL="0xa22cb465",t.SAFE_TRANSFER_FROM="0xf242432a",t.SAFE_BATCH_TRANSFER_FROM="0x2eb2c2d6"})(Uj||(Uj={}));({...kj,...Ij,...Nj,...Ej,..._j,...Cj,...Tj,...jj,...$j,...Mj,...Oj,...Fj,...Bj});const w6=t=>t.length%2?"0"+t:t;function bo(t){const e=[];return t.split("/").forEach(n=>{let s=parseInt(n,10);isNaN(s)||(n.length>1&&n[n.length-1]==="'"&&(s+=2147483648),e.push(s))}),e}function bu(t){if(!t)return Buffer.alloc(0);const e=t.startsWith("0x")?t.slice(2):t;return Buffer.from(w6(e),"hex")}function vf(t){return t?bu(t):null}const ui=(t,e)=>t.toString(16).padStart(2*e,"0"),ECe=Object.values(Rj),_Ce=[...Object.values(Dj),...Object.values(Uj)],$ie=t=>{const e={nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};for(const r of t)for(const n in r)e[n].push(...r[n]);return e},CCe=(t,e,r)=>{if(r)return t;const s=Mie(e)*2+35,i=s%256,a=(s+1)%256;if(i===t)return 0;if(a===t)return 1;throw new Error("Invalid v value")},Mie=t=>{const r=Buffer.from(w6(new b6(t).toString(16)),"hex").subarray(0,4);return parseInt(r.toString("hex"),16)},TCe=(t,e,r)=>{if(e.isZero())return t.toString(16);const n=CCe(t,e,r);return w6(r?n.toString(16):e.times(2).plus(35).plus(n).toString(16))},jCe=(t,e,r)=>{const s=Buffer.concat([e,t]);if(s.length<=255)return[s];if(r){const f=Math.ceil(s.length/255);return new Array(f).fill(null).map((h,m)=>s.subarray(m*255,(m+1)*255))}const i=GP(t).slice(-3),a=YP(i),o=bu(a).subarray(1);let c=0;const l=s.length%255;if(l===0||l>o.length)c=255;else for(let f=1;f<=255;f++){const h=s.length%(255-f);if(h===0||h>o.length){c=255-f;break}}const u=Math.ceil(s.length/c);return new Array(u).fill(null).map((f,h)=>s.subarray(h*c,(h+1)*c))};var MA;(function(t){t[t.DYNAMIC=0]="DYNAMIC",t[t.FIXED=1]="FIXED"})(MA||(MA={}));const Y9={CUSTOM:{key:()=>0,size:()=>null},INT:{key:()=>1,size:t=>Number(t)/8},UINT:{key:()=>2,size:t=>Number(t)/8},ADDRESS:{key:()=>3,size:()=>null},BOOL:{key:()=>4,size:()=>null},STRING:{key:()=>5,size:()=>null},BYTES:{key:t=>typeof t<"u"?6:7,size:t=>typeof t<"u"?Number(t):null}},_E={INT(t,e=256){const r=t??"0";if(typeof r=="string"&&(r!=null&&r.startsWith("0x")))return bu(r);let n=new b6(r);if(n.lt(0)){const i=e/8;n=new b6(`0x${Buffer.alloc(i,255).toString("hex")}`).plus(n).plus(1)}const s=n.toString(16).length%2?"0"+n.toString(16):n.toString(16);return Buffer.from(s,"hex")},UINT(t){return this.INT(t)},BOOL(t){return this.INT(typeof t=="boolean"?Number(t).toString():t)},ADDRESS(t){return bu(t??"").slice(0,20)},STRING(t){return Buffer.from(t??"","utf-8")},BYTES(t,e){const r=t??"";return bu(r).slice(0,e??((r==null?void 0:r.length)-2)/2)}},OA=t=>{const e=new RegExp(/^([^[\]]*)(\[.*\])*/g),r=new RegExp(/\[(\d*)\]/g),n=new RegExp(/(?=u?int|bytes)([a-zA-Z-0-9]+?)(\d{1,3})$/g),[,s,i]=e.exec(t||"")||[],[,a=s,o]=n.exec(s||"")||[],c=a?{name:a,size:o?Number(o):void 0}:null,u=(i?[...i.matchAll(r)]:[]).map(([,f])=>f?Number(f):null);return[c,u]},$Ce=(t,e,r)=>{if(r>=16)throw new Error("Eth utils - constructTypeDescByteString - Cannot accept a typeValue >= 16 because the typeValue can only be 4 bits in binary"+{isArray:t,typeSize:e,typeValue:r});const n=t?"1":"0",s=typeof e=="number"?"1":"0",i="00",a=r.toString(2).padStart(4,"0");return ui(parseInt(n+s+i+a,2),1)},MCe=({name:t,type:e})=>{var u,f;const[r,n]=OA(e),s=!!n.length,i=Y9[((u=r==null?void 0:r.name)==null?void 0:u.toUpperCase())||""]||Y9.CUSTOM,a=i.key(r==null?void 0:r.size),o=i.size(r==null?void 0:r.size),c=$Ce(s,o,a),l=[Buffer.from(c,"hex")];return i===Y9.CUSTOM&&(l.push(Buffer.from(ui(((f=r==null?void 0:r.name)==null?void 0:f.length)??0,1),"hex")),l.push(Buffer.from((r==null?void 0:r.name)??"","utf-8"))),typeof o=="number"&&l.push(Buffer.from(ui(o,1),"hex")),s&&(l.push(Buffer.from(ui(n.length,1),"hex")),n.forEach(h=>{typeof h=="number"?l.push(Buffer.from(ui(MA.FIXED,1),"hex"),Buffer.from(ui(h,1),"hex")):l.push(Buffer.from(ui(MA.DYNAMIC,1),"hex"))})),l.push(Buffer.from(ui(t.length,1),"hex"),Buffer.from(t,"utf-8")),Buffer.concat(l)},OCe=(t,e,r)=>{const n={};if(e||!t)return n;const i=t.fields.filter(({format:o})=>o==="token").sort((o,c)=>(o.coin_ref||0)-(c.coin_ref||0)).reduce((o,c)=>{const l=ICe(c.path,r);if(Array.isArray(l))throw new Error("Array of tokens is not supported with a single coin ref");return[...o,{token:l,coinRef:c.coin_ref}]},[]);for(const{token:o,coinRef:c}of i)n[c]={token:o};return t.fields.some(o=>o.format==="amount"&&o.coin_ref===255)&&r.domain.verifyingContract&&(n[255]={token:r.domain.verifyingContract}),n},FCe=async t=>{const e=await t.send(176,1,0,0);let r=1;const n=e[r];r+=1;const s=e.subarray(r,r+n).toString("ascii");r+=n;const i=e[r];r+=1;const a=e.subarray(r,r+i).toString("ascii");return{name:s,version:a}},TH=(t,e)=>{const r=Buffer.from(t),n=Buffer.from(ui(r.length,1),"hex"),s=Buffer.from(e,"hex"),i=Buffer.from(ui(s.length,1),"hex");return{displayNameBuffer:Buffer.concat([n,r]),sigBuffer:Buffer.concat([i,s])}},BCe=(t,e,r,n,s)=>{switch(t){case"raw":case"datetime":return Buffer.concat([n,s]);case"token":{const{deviceTokenIndex:i}=r[e];return Buffer.concat([Buffer.from(ui(i||e||0,1),"hex"),s])}case"amount":{const{deviceTokenIndex:i}=r[e];return Buffer.concat([n,Buffer.from(ui(i||e||0,1),"hex"),s])}default:throw new Error("Invalid format")}},RCe=({transport:t,loadConfig:e,chainId:r,erc20SignaturesBlob:n,types:s,filters:i,shouldUseV1Filters:a,shouldUseDiscardedFields:o,coinRefsTokensMap:c})=>{var f;const l={};for(const h in s)l[h]=(f=s[h])==null?void 0:f.reduce((m,v)=>({...m,[v.name]:v.type}),{});const u=async(h,m,v="")=>{var M,B;const[x,k]=h,[E,...P]=k,_=!Y9[((M=x==null?void 0:x.name)==null?void 0:M.toUpperCase())||""];if(Array.isArray(m)&&typeof E<"u"){await FA(t,{structType:"array",value:m.length});const D=`${v}.[]`;if(!m.length){const j=i==null?void 0:i.fields.filter(T=>T.path.startsWith(D));if(j&&o)for(const T of j)await b3(t,"discardField",e,{path:T.path}),await b3(t,"showField",e,{displayName:T.label,sig:T.signature,format:T.format,coinRef:T.coin_ref,chainId:r,erc20SignaturesBlob:n,shouldUseV1Filters:a,coinRefsTokensMap:c,isDiscarded:!0})}for(const j of m)await u([x,P],j,D)}else if(_)for(const D of Object.keys(l[(x==null?void 0:x.name)||""])){const j=m[D],T=(B=l[(x==null?void 0:x.name)||""])==null?void 0:B[D];T&&await u(OA(T),j,`${v}.${D}`)}else{const D=i==null?void 0:i.fields.find(j=>v===j.path);D&&await b3(t,"showField",e,{displayName:D.label,sig:D.signature,format:D.format,coinRef:D.coin_ref,chainId:r,erc20SignaturesBlob:n,shouldUseV1Filters:a,coinRefsTokensMap:c,isDiscarded:!1}),await FA(t,{structType:"field",value:{data:m,type:(x==null?void 0:x.name)||"",sizeInBits:x==null?void 0:x.size}})}};return u},jH=(t,e)=>{let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=26]="INS",a[a.P1_complete=0]="P1_complete",a[a.P1_partial=1]="P1_partial",a[a.P2_name=0]="P2_name",a[a.P2_field=255]="P2_field"})(r||(r={}));const{structType:n,value:s}=e,i=n==="name"&&typeof s=="string"?Buffer.from(s,"utf-8"):s;return t.send(r.CLA,r.INS,r.P1_complete,n==="name"?r.P2_name:r.P2_field,i)},FA=async(t,e)=>{var i;let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=28]="INS",a[a.P1_complete=0]="P1_complete",a[a.P1_partial=1]="P1_partial",a[a.P2_root=0]="P2_root",a[a.P2_array=15]="P2_array",a[a.P2_field=255]="P2_field"})(r||(r={}));const{structType:n,value:s}=e;if(n==="root")return t.send(r.CLA,r.INS,r.P1_complete,r.P2_root,Buffer.from(s,"utf-8"));if(n==="array")return t.send(r.CLA,r.INS,r.P1_complete,r.P2_array,Buffer.from(ui(s,1),"hex"));if(n==="field"){const{data:a,type:o,sizeInBits:c}=s,l=(i=_E[o.toUpperCase()])==null?void 0:i.call(_E,a,c);if(l){const u=Math.floor(l.length/256),f=l.length%256,h=Buffer.concat([Buffer.from(ui(u,1),"hex"),Buffer.from(ui(f,1),"hex"),l]),m=new Array(Math.ceil(h.length/256)).fill(null).map((v,x)=>h.subarray(x*255,(x+1)*255));for(const v of m)await t.send(r.CLA,r.INS,v!==m[m.length-1]?r.P1_partial:r.P1_complete,r.P2_field,v)}}return Promise.resolve()};async function b3(t,e,r,n){let s;switch(function(i){i[i.CLA=224]="CLA",i[i.INS=30]="INS",i[i.P1_standard=0]="P1_standard",i[i.P1_discarded=1]="P1_discarded",i[i.P2_activate=0]="P2_activate",i[i.P2_discarded=1]="P2_discarded",i[i.P2_show_field=255]="P2_show_field",i[i.P2_message_info=15]="P2_message_info",i[i.P2_datetime=252]="P2_datetime",i[i.P2_amount_join_token=253]="P2_amount_join_token",i[i.P2_amount_join_value=254]="P2_amount_join_value",i[i.P2_raw=255]="P2_raw"}(s||(s={})),e){case"activate":return t.send(s.CLA,s.INS,s.P1_discarded,s.P2_activate);case"contractName":{const{displayName:i,filtersCount:a,sig:o}=n,{displayNameBuffer:c,sigBuffer:l}=TH(i,o),u=Buffer.from(ui(a,1),"hex"),f=Buffer.concat([c,u,l]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_message_info,f)}case"showField":{const{displayName:i,sig:a,format:o,coinRef:c,chainId:l,coinRefsTokensMap:u,shouldUseV1Filters:f,erc20SignaturesBlob:h,isDiscarded:m}=n,{displayNameBuffer:v,sigBuffer:x}=TH(i,a);if(f){const M=Buffer.concat([v,x]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_show_field,M)}if(o==="token"&&c!==void 0){const{token:M,deviceTokenIndex:B}=u[c];if(B===void 0){const D=await $A(M,l,h,r);if(D){let j;(function(R){R[R.CLA=224]="CLA",R[R.INS=10]="INS",R[R.P1=0]="P1",R[R.P2=0]="P2"})(j||(j={}));const T=await t.send(j.CLA,j.INS,j.P1,j.P2,D.data);u[c].deviceTokenIndex=T[0]}}}if(o==="amount"&&c===255){const{token:M}=u[255],B=await $A(M,l,h);B&&(await t.send(224,10,0,0,B.data),u[255].deviceTokenIndex=255)}if(!o)throw new Error("Missing format");const P={raw:s.P2_raw,datetime:s.P2_datetime,token:s.P2_amount_join_token,amount:s.P2_amount_join_value},_=BCe(o,c,u,v,x);return t.send(s.CLA,s.INS,m?s.P1_discarded:s.P1_standard,P[o],_)}case"discardField":{const{path:i}=n,a=Buffer.from(i),o=Buffer.from(ui(a.length,1),"hex"),c=Buffer.concat([o,a]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_discarded,c)}}}const DCe=async(t,e,r,n=!1,s)=>{let i;(function(O){O[O.CLA=224]="CLA",O[O.INS=12]="INS",O[O.P1=0]="P1",O[O.P2_v0=0]="P2_v0",O[O.P2_full=1]="P2_full"})(i||(i={}));const{primaryType:a,types:o,domain:c,message:l}=r,{calServiceURL:u,staticEIP712SignaturesV1:f,staticEIP712SignaturesV2:h}=l2(s),m=MB(o),{version:v}=await FCe(t),x=!iH.gte(v,"1.11.1-0",{includePrerelease:!0}),k=iH.gte(v,"1.12.0-0",{includePrerelease:!0}),E=await kCe(r,x,u,f,h),P=OCe(E,x,r),_=Object.entries(m);for(const[O,b]of _){await jH(t,{structType:"name",value:O});for(const{name:w,type:p}of b){const g=MCe({name:w,type:p});await jH(t,{structType:"field",value:g})}}E&&await b3(t,"activate",s);const M=x?void 0:await OB(s,c.chainId||0),B=RCe({transport:t,loadConfig:s,chainId:c.chainId||0,erc20SignaturesBlob:M,types:m,filters:E,shouldUseV1Filters:x,shouldUseDiscardedFields:k,coinRefsTokensMap:P}),D="EIP712Domain";await FA(t,{structType:"root",value:D});const j=m[D];for(const{name:O,type:b}of j){const w=c[O];await B(OA(b),w)}if(E){const{contractName:O,fields:b}=E,w={displayName:O.label,filtersCount:b.length,sig:O.signature};await b3(t,"contractName",s,w)}await FA(t,{structType:"root",value:a});const T=m[a];for(const{name:O,type:b}of T){const w=l[O];await B(OA(b),w,O)}const R=bo(e),H=Buffer.alloc(1+R.length*4);return H[0]=R.length,R.forEach((O,b)=>{H.writeUInt32BE(O,1+4*b)}),t.send(i.CLA,i.INS,i.P1,n?i.P2_v0:i.P2_full,H).then(O=>{const b=O[0],w=O.subarray(1,33).toString("hex"),p=O.subarray(33,65).toString("hex");return{v:b,r:w,s:p}})},UCe=(t,e,r,n)=>{const s=bu(r),i=bu(n),a=bo(e),o=Buffer.alloc(1+a.length*4+32+32,0);let c=0;return o[0]=a.length,a.forEach((l,u)=>{o.writeUInt32BE(l,1+4*u)}),c=1+4*a.length,s.copy(o,c),c+=32,i.copy(o,c),t.send(224,12,0,0,o).then(l=>{const u=l[0],f=l.subarray(1,33).toString("hex"),h=l.subarray(33,65).toString("hex");return{v:u,r:f,s:h}})},q4="abi/5.8.0",Xr=new Kt(q4),b1={};let $H={calldata:!0,memory:!0,storage:!0},zCe={calldata:!0,memory:!0};function $8(t,e){if(t==="bytes"||t==="string"){if($H[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&zCe[e])return!0;return($H[e]||e==="payable")&&Xr.throwArgumentError("invalid modifier","name",e),!1}function LCe(t,e){let r=t;function n(o){Xr.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function s(o){let c={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(c.indexed=!1),c}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let o=0;o<t.length;o++){let c=t[o];switch(c){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=jb(a.type),a.components=[s(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),$8(a.type,a.name)&&(a.name=""),a.type=jb(a.type);let l=a;a=a.parent,a||n(o),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),$8(a.type,a.name)&&(a.name=""),a.type=jb(a.type);let u=s(a.parent);a.parent.components.push(u),delete a.parent,a=u;break;case" ":a.state.allowType&&a.type!==""&&(a.type=jb(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):$8(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=c,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=c,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=c,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=c,delete a.state.allowArray):a.state.readArray?a.type+=c:n(o)}}return a.parent&&Xr.throwArgumentError("unexpected eof","param",t),delete i.state,a.name==="indexed"?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):$8(a.type,a.name)&&(a.name=""),i.type=jb(i.type),i}function G9(t,e){for(let r in e)As(t,r,e[r])}const ln=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),VCe=new RegExp(/^(.*)\[([0-9]*)\]$/);let Ud=class k0{constructor(e,r){e!==b1&&Xr.throwError("use fromString",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),G9(this,r);let n=this.type.match(VCe);n?G9(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:k0.fromObject({type:n[1],components:this.components}),baseType:"array"}):G9(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ln.sighash),ln[e]||Xr.throwArgumentError("invalid format type","format",e),e===ln.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==ln.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===ln.full?", ":",")+")"):r+=this.type,e!==ln.sighash&&(this.indexed===!0&&(r+=" indexed"),e===ln.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?k0.fromString(e,r):k0.fromObject(e)}static fromObject(e){return k0.isParamType(e)?e:new k0(b1,{name:e.name||null,type:jb(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(k0.fromObject):null})}static fromString(e,r){function n(s){return k0.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return n(LCe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function A6(t,e){return WCe(t).map(r=>Ud.fromString(r,e))}let mk=class Bw{constructor(e,r){e!==b1&&Xr.throwError("use a static from method",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),G9(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Bw.isFragment(e)?e:typeof e=="string"?Bw.fromString(e):Bw.fromObject(e)}static fromObject(e){if(Bw.isFragment(e))return e;switch(e.type){case"function":return RA.fromObject(e);case"event":return zj.fromObject(e);case"constructor":return BA.fromObject(e);case"error":return OH.fromObject(e);case"fallback":case"receive":return null}return Xr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?zj.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?RA.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?BA.fromString(e.trim()):e.split(" ")[0]==="error"?OH.fromString(e.substring(5).trim()):Xr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},zj=class Eb extends mk{format(e){if(e||(e=ln.sighash),ln[e]||Xr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",e!==ln.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Eb.fromString(e):Eb.fromObject(e)}static fromObject(e){if(Eb.isEventFragment(e))return e;e.type!=="event"&&Xr.throwArgumentError("invalid event object","value",e);const r={name:S6(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ud.fromObject):[],type:"event"};return new Eb(b1,r)}static fromString(e){let r=e.match(P6);r||Xr.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":n=!0;break;case"":break;default:Xr.warn("unknown modifier: "+s)}}),Eb.fromObject({name:r[1].trim(),anonymous:n,inputs:A6(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function Oie(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Xr.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Xr.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=cn.from(r[1]),r[0]):t}function Fie(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Bie(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Xr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Xr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Xr.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Xr.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Xr.throwArgumentError("unable to determine stateMutability","value",t),e}let BA=class _b extends mk{format(e){if(e||(e=ln.sighash),ln[e]||Xr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===ln.sighash&&Xr.throwError("cannot format a constructor for sighash",Kt.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?_b.fromString(e):_b.fromObject(e)}static fromObject(e){if(_b.isConstructorFragment(e))return e;e.type!=="constructor"&&Xr.throwArgumentError("invalid constructor object","value",e);let r=Bie(e);r.constant&&Xr.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ud.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?cn.from(e.gas):null};return new _b(b1,n)}static fromString(e){let r={type:"constructor"};e=Oie(e,r);let n=e.match(P6);return(!n||n[1].trim()!=="constructor")&&Xr.throwArgumentError("invalid constructor string","value",e),r.inputs=A6(n[2].trim(),!1),Fie(n[3].trim(),r),_b.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},RA=class Cb extends BA{format(e){if(e||(e=ln.sighash),ln[e]||Xr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",e!==ln.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Cb.fromString(e):Cb.fromObject(e)}static fromObject(e){if(Cb.isFunctionFragment(e))return e;e.type!=="function"&&Xr.throwArgumentError("invalid function object","value",e);let r=Bie(e);const n={type:e.type,name:S6(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Ud.fromObject):[],outputs:e.outputs?e.outputs.map(Ud.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?cn.from(e.gas):null};return new Cb(b1,n)}static fromString(e){let r={type:"function"};e=Oie(e,r);let n=e.split(" returns ");n.length>2&&Xr.throwArgumentError("invalid function string","value",e);let s=n[0].match(P6);if(s||Xr.throwArgumentError("invalid function signature","value",e),r.name=s[1].trim(),r.name&&S6(r.name),r.inputs=A6(s[2],!1),Fie(s[3].trim(),r),n.length>1){let i=n[1].match(P6);(i[1].trim()!=""||i[3].trim()!="")&&Xr.throwArgumentError("unexpected tokens","value",e),r.outputs=A6(i[2],!1)}else r.outputs=[];return Cb.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function MH(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Xr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let OH=class Tb extends mk{format(e){if(e||(e=ln.sighash),ln[e]||Xr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Tb.fromString(e):Tb.fromObject(e)}static fromObject(e){if(Tb.isErrorFragment(e))return e;e.type!=="error"&&Xr.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:S6(e.name),inputs:e.inputs?e.inputs.map(Ud.fromObject):[]};return MH(new Tb(b1,r))}static fromString(e){let r={type:"error"},n=e.match(P6);return n||Xr.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&S6(r.name),r.inputs=A6(n[2],!1),MH(Tb.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function jb(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const HCe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function S6(t){return(!t||!t.match(HCe))&&Xr.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const P6=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function WCe(t){t=t.trim();let e=[],r="",n=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&n===0?(e.push(r),r=""):(r+=i,i==="("?n++:i===")"&&(n--,n===-1&&Xr.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const FB=new Kt(q4);let zh=class{constructor(e,r,n,s){this.name=e,this.type=r,this.localName=n,this.dynamic=s}_throwError(e,r){FB.throwArgumentError(e,this.localName,r)}},Lj=class{constructor(e){As(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return dB(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(_p(e._data))}writeBytes(e){let r=Kr(e);const n=r.length%this.wordSize;return n&&(r=_p([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Kr(cn.from(e));return r.length>this.wordSize&&FB.throwError("value out-of-bounds",Kt.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=_p([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},qCe=class Vj{constructor(e,r,n,s){As(this,"_data",Kr(e)),As(this,"wordSize",r||32),As(this,"_coerceFunc",n),As(this,"allowLoose",s),this._offset=0}get data(){return Cr(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Vj.coerce(e,r)}_peekBytes(e,r,n){let s=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?s=r:FB.throwError("data out-of-bounds",Kt.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new Vj(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return cn.from(this.readBytes(this.wordSize))}},KCe=class extends zh{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Eh(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Eh(yl(e.readValue().toHexString(),20))}},XCe=class extends zh{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const ey=new Kt(q4);function Rie(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||ey.throwError("cannot encode object for signature with missing names",Kt.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&ey.throwError("cannot encode object for signature with duplicate names",Kt.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else ey.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ey.throwArgumentError("types/value length mismatch","tuple",r);let s=new Lj(t.wordSize),i=new Lj(t.wordSize),a=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(s,u)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function Die(t,e){let r=[],n=t.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readValue(),c=n.subReader(o.toNumber());try{a=i.decode(c)}catch(l){if(l.code===Kt.errors.BUFFER_OVERRUN)throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(o.code===Kt.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&r.push(a)});const s=e.reduce((i,a)=>{const o=a.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});e.forEach((i,a)=>{let o=i.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const c=r[a];c instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw c}}):r[o]=c});for(let i=0;i<r.length;i++){const a=r[i];a instanceof Error&&Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(r)}let ZCe=class extends zh{constructor(e,r,n){const s=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",s,n,i),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),ey.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<r.length;i++)s.push(this.coder);return Rie(e,s,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&ey.throwError("insufficient data length",Kt.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let s=0;s<r;s++)n.push(new XCe(this.coder));return e.coerce(this.name,Die(e,n))}},JCe=class extends zh{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},Uie=class extends zh{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Kr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},QCe=class extends Uie{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Cr(super.decode(e)))}},YCe=class extends zh{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Kr(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Cr(e.readBytes(this.size)))}},GCe=class extends zh{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}},eTe=class extends zh{constructor(e,r,n){const s=(r?"int":"uint")+e*8;super(s,s,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=cn.from(r),s=FSe.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(OSe).mul(MSe)))&&this._throwError("value out-of-bounds",r)}else(n.lt(yse)||n.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}},tTe=class extends Uie{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Cp(r))}decode(e){return ACe(super.decode(e))}},M8=class extends zh{constructor(e,r){let n=!1;const s=[];e.forEach(a=>{a.dynamic&&(n=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,r){return Rie(e,this.coders,r)}decode(e){return e.coerce(this.name,Die(e,this.coders))}};const O8=new Kt(q4),rTe=new RegExp(/^bytes([0-9]*)$/),nTe=new RegExp(/^(u?int)([0-9]*)$/);let sTe=class{constructor(e){As(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new KCe(e.name);case"bool":return new JCe(e.name);case"string":return new tTe(e.name);case"bytes":return new QCe(e.name);case"array":return new ZCe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new M8((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new GCe(e.name)}let r=e.type.match(nTe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&O8.throwArgumentError("invalid "+r[1]+" bit length","param",e),new eTe(n/8,r[1]==="int",e.name)}if(r=e.type.match(rTe),r){let n=parseInt(r[1]);return(n===0||n>32)&&O8.throwArgumentError("invalid bytes length","param",e),new YCe(n,e.name)}return O8.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new qCe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Lj(this._getWordSize())}getDefaultValue(e){const r=e.map(s=>this._getCoder(Ud.from(s)));return new M8(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&O8.throwError("types/values length mismatch",Kt.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(a=>this._getCoder(Ud.from(a))),s=new M8(n,"_"),i=this._getWriter();return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>this._getCoder(Ud.from(a)));return new M8(s,"_").decode(this._getReader(Kr(r),n))}};const gk=new sTe,ss=new Kt(q4);let iTe=class extends ek{},aTe=class extends ek{},oTe=class extends ek{},FH=class extends ek{static isIndexed(e){return!!(e&&e._isIndexed)}};const cTe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function BH(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let zie=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,As(this,"fragments",r.map(n=>mk.from(n)).filter(n=>n!=null)),As(this,"_abiCoder",A8(new.target,"getAbiCoder")()),As(this,"functions",{}),As(this,"errors",{}),As(this,"events",{}),As(this,"structs",{}),this.fragments.forEach(n=>{let s=null;switch(n.type){case"constructor":if(this.deploy){ss.warn("duplicate definition - constructor");return}As(this,"deploy",n);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=n.format();if(s[i]){ss.warn("duplicate definition - "+i);return}s[i]=n}),this.deploy||As(this,"deploy",BA.from({payable:!1,type:"constructor"})),As(this,"_isInterface",!0)}format(e){e||(e=ln.full),e===ln.sighash&&ss.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===ln.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return gk}static getAddress(e){return Eh(e)}static getSighash(e){return v6(j8(e.format()),0,4)}static getEventTopic(e){return j8(e.format())}getFunction(e){if(Ca(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];ss.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching function","name",n):s.length>1&&ss.throwArgumentError("multiple matching functions","name",n),this.functions[s[0]]}const r=this.functions[RA.fromString(e).format()];return r||ss.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Ca(e)){const n=e.toLowerCase();for(const s in this.events)if(n===this.getEventTopic(s))return this.events[s];ss.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching event","name",n):s.length>1&&ss.throwArgumentError("multiple matching events","name",n),this.events[s[0]]}const r=this.events[zj.fromString(e).format()];return r||ss.throwArgumentError("no matching event","signature",e),r}getError(e){if(Ca(e)){const n=A8(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===n(i))return this.errors[s]}ss.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching error","name",n):s.length>1&&ss.throwArgumentError("multiple matching errors","name",n),this.errors[s[0]]}const r=this.errors[RA.fromString(e).format()];return r||ss.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return A8(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),A8(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Kr(r);return Cr(n.slice(0,4))!==this.getSighash(e)&&ss.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Cr(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Cr(_p([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Kr(r);return Cr(n.slice(0,4))!==this.getSighash(e)&&ss.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Cr(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Cr(_p([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Kr(r),s=null,i="",a=null,o=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=Cr(n.slice(0,4)),u=cTe[l];if(u)a=this._abiCoder.decode(u.inputs,n.slice(4)),o=u.name,c=u.signature,u.reason&&(s=a[0]),o==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const f=this.getError(l);a=this._abiCoder.decode(f.inputs,n.slice(4)),o=f.name,c=f.format()}catch{}break}}return ss.throwError("call revert exception"+i,Kt.errors.CALL_EXCEPTION,{method:e.format(),data:Cr(r),errorArgs:a,errorName:o,errorSignature:c,reason:s})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Cr(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ss.throwError("too many arguments for "+e.format(),Kt.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const s=(i,a)=>i.type==="string"?j8(a):i.type==="bytes"?bc(Cr(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=cn.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),yl(Cr(a),32));for(r.forEach((i,a)=>{let o=e.inputs[a];if(!o.indexed){i!=null&&ss.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?ss.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(c=>s(o,c))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],s=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ss.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const c=r[o];if(a.indexed)if(a.type==="string")n.push(j8(c));else if(a.type==="bytes")n.push(bc(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:this._abiCoder.encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Ca(n[0],32)||n[0].toLowerCase()!==h)&&ss.throwError("fragment/topic mismatch",Kt.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let s=[],i=[],a=[];e.inputs.forEach((h,m)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push(Ud.fromObject({type:"bytes32",name:h.name})),a.push(!0)):(s.push(h),a.push(!1)):(i.push(h),a.push(!1))});let o=n!=null?this._abiCoder.decode(s,_p(n)):null,c=this._abiCoder.decode(i,r,!0),l=[],u=0,f=0;e.inputs.forEach((h,m)=>{if(h.indexed)if(o==null)l[m]=new FH({_isIndexed:!0,hash:null});else if(a[m])l[m]=new FH({_isIndexed:!0,hash:o[f++]});else try{l[m]=o[f++]}catch(v){l[m]=v}else try{l[m]=c[u++]}catch(v){l[m]=v}if(h.name&&l[h.name]==null){const v=l[m];v instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw BH(`property ${JSON.stringify(h.name)}`,v)}}):l[h.name]=v}});for(let h=0;h<l.length;h++){const m=l[h];m instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw BH(`index ${h}`,m)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new aTe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:cn.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new iTe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Cr(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new oTe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const lTe=[{name:"ens",resolvers:{forward:"https://explorers.api.live.ledger.com/blockchain/v4/eth/ens/resolve/{name}",reverse:"https://explorers.api.live.ledger.com/blockchain/v4/eth/ens/reverse-resolve/{address}"},signatures:{forward:"https://nft.api.live.ledger.com/v1/names/ens/forward/{name}?challenge={challenge}",reverse:"https://nft.api.live.ledger.com/v1/names/ens/reverse/{address}?challenge={challenge}"},patterns:{forward:new RegExp("\\.eth$"),reverse:new RegExp("^0x[0-9a-fA-F]{40}$")},coinTypes:[60]}],Lie=async()=>lTe,uTe=t=>{if(typeof t!="string")return!1;const e=t.length>0&&Number(t.length)<30,r=new RegExp("^[a-zA-Z0-9\\-\\_\\.]+$").test(t);return e&&r},dTe=async(t,e,r)=>{if(!uTe(t))throw new Error(`Domains with more than 255 caracters or with unicode are not supported on the nano. Domain: ${t}`);const s=(await Lie()).find(a=>a.name===e);if(!s)return null;const i=s.signatures.forward.replace("{name}",t).replace("{challenge}",r);return Bn.request({method:"GET",url:i}).then(({data:a})=>a.payload).catch(a=>(a.status!==404&&Xs("domain-service","failed to get APDU for a domain",{domain:t,error:a}),null))},fTe=async(t,e,r)=>{const s=(await Lie()).find(a=>a.name===e);if(!s)return null;const i=s.signatures.reverse.replace("{address}",t).replace("{challenge}",r);return Bn.request({method:"GET",url:i}).then(({data:a})=>a.payload).catch(a=>(a.status!==404&&Xs("domain-service","failed to get APDU for an address",{address:t,error:a}),null))},BB="0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad",Vie="0x3593564c",hTe={1:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",5:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",11155111:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",42161:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",421613:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",43114:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",8453:"0x4200000000000000000000000000000000000006",84531:"0x44D627f900da8AdaC7561bD73aA745F132450798",23888:"0x4300000000000000000000000000000000000004",42220:new Error("Celo isn't supporting wrapping Eth"),44787:new Error("Celo Alfajores isn't supporting wrapping Eth"),10:"0x4200000000000000000000000000000000000006",420:"0x4200000000000000000000000000000000000006",137:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",80001:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889"},pTe={"0x08":"V2_SWAP_EXACT_IN","0x09":"V2_SWAP_EXACT_OUT","0x00":"V3_SWAP_EXACT_IN","0x01":"V3_SWAP_EXACT_OUT","0x0b":"WRAP_ETH","0x0c":"UNWRAP_ETH","0x0a":"PERMIT2_PERMIT","0x0d":"PERMIT2_TRANSFER_FROM","0x02":"PERMIT2_PERMIT_BATCH","0x03":"PERMIT2_TRANSFER_FROM_BATCH","0x06":"PAY_PORTION","0x04":"SWEEP"},mTe=["V2_SWAP_EXACT_IN","V2_SWAP_EXACT_OUT","V3_SWAP_EXACT_IN","V3_SWAP_EXACT_OUT"],RH=t=>{const[,,,e]=gk.decode(["address","uint256","uint256","address[]","bool"],t);return e.map(r=>r.toLowerCase())},DH=t=>{const[,,,e]=gk.decode(["address","uint256","uint256","bytes","bool"],t),r=Buffer.from(e.slice(2),"hex"),n=[];let s=0;for(;s<r.length;)n.push(`0x${r.subarray(s,s+20).toString("hex").toLowerCase()}`),s+=23;return n},UH=(t,e)=>{const r=hTe[e];return r instanceof Error?[]:[r.toLowerCase()]},gTe=t=>{const[e]=gk.decode(["address","address","uint256"],t);return[e.toLowerCase()]},Y2=()=>[],bTe={V2_SWAP_EXACT_IN:RH,V2_SWAP_EXACT_OUT:RH,V3_SWAP_EXACT_IN:DH,V3_SWAP_EXACT_OUT:DH,WRAP_ETH:UH,UNWRAP_ETH:UH,PERMIT2_PERMIT:Y2,PERMIT2_TRANSFER_FROM:Y2,PERMIT2_PERMIT_BATCH:Y2,PERMIT2_TRANSFER_FROM_BATCH:Y2,PAY_PORTION:Y2,SWEEP:gTe},yTe=(t,e,r,n)=>{const s=t.slice(0,10),i=e==null?void 0:e.toLowerCase();if(s!==Vie||i!==BB||!n.length)return!1;let a;for(let o=0;o<n.length;o++){const[c,l]=n[o];if(!c)return!1;if(!mTe.includes(c))continue;const u=c.slice(0,2);if(a&&(a.asset!==l[0]||a.poolVersion!==u))return!1;a={poolVersion:u,asset:l[l.length-1]}}return!0},vTe=(t,e)=>{try{const[r,n]=new zie(["function execute(bytes calldata commands, bytes[] calldata inputs, uint256 deadline) external payable"]).decodeFunctionData("execute",t);return Buffer.from(r.slice(2),"hex").reduce((i,a,o)=>{const c=pTe[`0x${a.toString(16).padStart(2,"0")}`];if(!c)return[...i,[void 0,[]]];const l=bTe[c];return[...i,[c,l(n[o],e)]]},[])}catch(r){return Xs("Uniswap","Error decoding Uniswap calldata",r),[]}},xTe=async(t,e,r)=>{const n=t.data.slice(0,10),s=vTe(t.data,e);if(!yTe(n,t.to,e,s))return{};const i=Array.from(new Set(s.flatMap(([,x])=>x))),o=await Promise.all(i.map(async x=>{var E;const k=await OB({},e);return(E=$A(x,e,k,r))==null?void 0:E.data})).then(x=>x.filter(k=>!!k)),c="Uniswap",l=Buffer.alloc(1);l.writeUIntBE(c.length,0,1);const u=Buffer.from(c),f=Buffer.from(BB.slice(2),"hex"),h=Buffer.from(Vie.slice(2),"hex"),m=Buffer.from("3044022014391e8f355867a57fe88f6a5a4dbcb8bf8f888a9db3ff3449caf72d120396bd02200c13d9c3f79400fe0aa0434ac54d59b79503c9964a4abc3e8cd22763e0242935","hex");return{pluginData:Buffer.concat([l,u,f,h,m]),tokenDescriptors:o}},wTe=async(t,e,r,n)=>{const{pluginBaseURL:s,extraPlugins:i}=l2(n);let a={};if(s){const l=`${s}/plugins/ethereum.json`;a=await Bn.get(`${s}/plugins/ethereum.json`).then(u=>u.data).catch(u=>(Xs("error","could not fetch from "+l+": "+String(u)),null))}if(i&&(a={...a,...i}),!a)return;const o=e.toLowerCase(),c=t.toLowerCase();if(c in a){const l=a[c];if(o in l)return{payload:l[o].serialized_data,signature:l[o].signature,plugin:l[o].plugin,erc20OfInterest:l[o].erc20OfInterest,abi:l.abi}}},ATe=async(t,e,r)=>{var u;const{nftExplorerBaseURL:n}=l2(r);if(!n)return;const s=`${n}/${e}/contracts/${t}`,i=await Bn.get(s).then(f=>f.data).catch(f=>(Xs("error","could not fetch from "+s+": "+String(f)),null));if(!i)return;const a=i.payload,o=parseInt(a.slice(4,6),16),l=(u=a.substr(6,o*2).match(/.{2}/g))==null?void 0:u.reduce((f,h)=>f+=String.fromCharCode(parseInt(h,16)),"");return{contractAddress:t,collectionName:l||"",data:a}},STe=async(t,e,r,n)=>{const{nftExplorerBaseURL:s}=l2(n);if(!s)return;const i=`${s}/${r}/contracts/${t}/plugin-selector/${e}`,a=await Bn.get(i).then(c=>c.data).catch(c=>(Xs("error","could not fetch from "+i+": "+String(c)),null));return a?a.payload:void 0},Hie=async(t,e,r,n)=>{const s={nfts:[],erc20Tokens:[]};if(n.nft){const i=await ATe(t,e,r);i?(Xs("ethereum","loaded nft info for "+i.contractAddress+" ("+i.collectionName+")"),s.nfts.push(i.data)):Xs("ethereum","couldn't load nft info for "+t)}if(n.token){const i=await OB(r,e),a=$A(t,e,i,r);a?(Xs("ethereum","loaded erc20token info for "+a.contractAddress+" ("+a.ticker+")"),s.erc20Tokens.push(a.data.toString("hex"))):Xs("ethereum","couldn't load erc20token info for "+t)}return s},PTe=async(t,e,r,n,s,i)=>{let a={externalPlugin:[],plugin:[],nfts:[],erc20Tokens:[],domains:[]};if(i.nft){const o=await STe(t,e,n,s);o?a.plugin.push(o):Xs("ethereum","no NFT plugin payload for selector "+e+" and address "+t)}if(i.externalPlugins&&t!==BB){const o=await wTe(t,e,n,s);if(o){const{plugin:c,payload:l,signature:u,erc20OfInterest:f,abi:h}=o;if(c&&(Xs("ethereum",`found plugin (${c}) for selector: ${e}`),a.externalPlugin.push({payload:l,signature:u})),f&&f.length&&h){const v=new zie(h).parseTransaction(r).args;for(const x of f){const k=x.split(".").reduce((P,_)=>_==="-1"&&Array.isArray(P)?P[P.length-1]:P[_],v),E=await Hie(k,n,s,{nft:!1,externalPlugins:!1,token:!0,uniswapV3:!1});a=$ie([a,E])}}}else Xs("ethereum","no infos for selector "+e)}if(i.uniswapV3){const{pluginData:o,tokenDescriptors:c}=await xTe(r,n);o&&c&&(a.externalPlugin.push({payload:o.toString("hex"),signature:""}),a.erc20Tokens.push(...c.map(l=>l.toString("hex"))))}return a},kTe=async(t,e,r)=>{var u;const n=Buffer.from(t,"hex"),s=Hse(`0x${n.toString("hex")}`),i=Mie(s.chainId),{domains:a}=r,o=(u=s.to)==null?void 0:u.toLowerCase();if(!o)return{nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};const c=s.data.length>=10&&s.data.substring(0,10),l=[];if(c){const f={token:r.erc20&&ECe.includes(c),nft:r.nft&&_Ce.includes(c),externalPlugins:r.externalPlugins,uniswapV3:r.uniswapV3},h=await PTe(o,c,s,i,e,f);h&&l.push(h);const m=await Hie(o,i,e,f);m&&l.push(m)}if(a){const f={domains:a};l.push(f)}return $ie(l)},DA={resolveTransaction:kTe,signDomainResolution:dTe,signAddressResolution:fTe},ITe=async(t,e)=>{if(!e)return;const{domain:r,address:n,registry:s,type:i}=e,a=await t.getChallenge(),o=i==="forward"?await DA.signDomainResolution(r,s,a):await DA.signAddressResolution(n,s,a);o&&await t.provideDomainName(o)},e0={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5},NTe=(t,e)=>t&&t.statusCode===27264?e.toNumber()===42220?new $ke:new Tke("Please enable Blind signing or Contract data in the Ethereum app Settings"):t;class ETe{constructor(e,r="w0w",n={}){ve(this,"transport");ve(this,"loadConfig");this.transport=e,this.loadConfig=n,e.decorateAppAPIMethods(this,["getAddress","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712Message","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex","getEIP1024PublicEncryptionKey","getEIP1024SharedSecret"],r)}setLoadConfig(e){this.loadConfig=e}getAddress(e,r,n,s){const i=bo(e);let a=Buffer.alloc(1+i.length*4);if(a[0]=i.length,i.forEach((o,c)=>{a.writeUInt32BE(o,1+4*c)}),s){const o=Buffer.alloc(8,0),c=Buffer.from(w6(new b6(s).toString(16)),"hex");o.write(c.toString("hex"),o.length-c.length,"hex"),a=Buffer.concat([a,o])}return this.transport.send(224,2,r?1:0,n?1:0,a).then(o=>{const c=o[0],l=o[1+c];return{publicKey:o.slice(1,1+c).toString("hex"),address:"0x"+o.slice(1+c+1,1+c+1+l).toString("ascii"),chainCode:n?o.slice(1+c+1+l,1+c+1+l+32).toString("hex"):void 0}})}async signTransaction(e,r,n){let s;if(function(x){x[x.CLA=224]="CLA",x[x.INS=4]="INS",x[x.P1_FIRST_CHUNK=0]="P1_FIRST_CHUNK",x[x.P1_FOLLOWING_CHUNK=128]="P1_FOLLOWING_CHUNK",x[x.P2=0]="P2"}(s||(s={})),n===void 0&&(console.warn(`hw-app-eth: signTransaction(path, rawTxHex, resolution): please provide the 'resolution' parameter. See https://github.com/LedgerHQ/ledgerjs/blob/master/packages/hw-app-eth/README.md  the previous signature is deprecated and providing the 3rd 'resolution' parameter explicitly will become mandatory so you have the control on the resolution and the fallback mecanism (e.g. fallback to blind signing or not).// Possible solution:
 + import { ledgerService } from '@ledgerhq/hw-app-eth';
 + const resolution = await ledgerService.resolveTransaction(rawTxHex);`),n=await DA.resolveTransaction(r,this.loadConfig,{externalPlugins:!0,erc20:!0,uniswapV3:!1}).catch(x=>(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(x)),null))),n){for(const x of n.domains)await ITe(this,x).catch(k=>{Xs("error","domainResolutionFlow failed",{domainDescriptor:x,error:k})});for(const x of n.plugin)await this.setPlugin(x);for(const{payload:x,signature:k}of n.externalPlugin)await this.setExternalPlugin(x,k);for(const x of n.nfts)await this.provideNFTInformation(x);for(const x of n.erc20Tokens)await this.provideERC20TokenInformation(x)}const i=Buffer.from(r,"hex"),a=Hse(`0x${i.toString("hex")}`),o=new b6(a.chainId),c=bo(e),l=Buffer.alloc(1+c.length*4);l[0]=c.length,c.forEach((x,k)=>{l.writeUInt32BE(x,1+4*k)});const u=jCe(i,l,a.type);let f;for(const x of u){const k=x===u[0];f=await this.transport.send(s.CLA,s.INS,k?s.P1_FIRST_CHUNK:s.P1_FOLLOWING_CHUNK,s.P2,x).catch(E=>{throw NTe(E,o)})}const h=TCe(f[0],o,a.type),m=f.subarray(1,33).toString("hex"),v=f.subarray(33,65).toString("hex");return{v:h,r:m,s:v}}async clearSignTransaction(e,r,n,s=!1){const i=await DA.resolveTransaction(r,this.loadConfig,n).catch(a=>{if(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(a)),s)throw a;return null});return this.signTransaction(e,r,i)}getAppConfiguration(){return this.transport.send(224,6,0,0).then(e=>({arbitraryDataEnabled:e[0]&1,erc20ProvisioningNecessary:e[0]&2,starkEnabled:e[0]&4,starkv2Supported:e[0]&8,version:""+e[1]+"."+e[2]+"."+e[3]}))}async signPersonalMessage(e,r){const n=bo(e);let s=0;const i=Buffer.from(r,"hex");let a;for(;s!==i.length;){const u=s===0?149-n.length*4-4:150,f=s+u>i.length?i.length-s:u,h=Buffer.alloc(s===0?1+n.length*4+4+f:f);s===0?(h[0]=n.length,n.forEach((m,v)=>{h.writeUInt32BE(m,1+4*v)}),h.writeUInt32BE(i.length,1+4*n.length),i.copy(h,1+4*n.length+4,s,s+f)):i.copy(h,0,s,s+f),a=await this.transport.send(224,8,s===0?0:128,0,h),s+=f}const o=a[0],c=a.slice(1,33).toString("hex"),l=a.slice(33,65).toString("hex");return{v:o,r:c,s:l}}signEIP712HashedMessage(e,r,n){return UCe(this.transport,e,r,n)}async signEIP712Message(e,r,n=!1){return DCe(this.transport,e,r,n,this.loadConfig)}async getChallenge(){let e;return function(r){r[r.CLA=224]="CLA",r[r.INS=32]="INS",r[r.P1=0]="P1",r[r.P2=0]="P2",r[r.LC=0]="LC"}(e||(e={})),this.transport.send(e.CLA,e.INS,e.P1,e.P2).then(r=>{const[,n,s]=new RegExp("(.*)(.{4}$)").exec(r.toString("hex"))||[];if(s!=="9000")throw new Error(`An error happened while generating the challenge. Status code: ${s}`);return`0x${n}`}).catch(r=>{throw Xs("error","couldn't request a challenge",r),r})}starkGetPublicKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(240,2,r?1:0,0,s).then(i=>i.slice(0,i.length-2))}starkSignOrder(e,r,n,s,i,a,o,c,l,u,f){const h=vf(r),m=vf(s),v=bo(e),x=Buffer.alloc(1+v.length*4+20+32+20+32+4+4+8+8+4+4,0);let k=0;return x[0]=v.length,v.forEach((E,P)=>{x.writeUInt32BE(E,1+4*P)}),k=1+4*v.length,h&&h.copy(x,k),k+=20,Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(x,k),k+=32,m&&m.copy(x,k),k+=20,Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(x,k),k+=32,x.writeUInt32BE(a,k),k+=4,x.writeUInt32BE(o,k),k+=4,Buffer.from(c.toString(16).padStart(16,"0"),"hex").copy(x,k),k+=8,Buffer.from(l.toString(16).padStart(16,"0"),"hex").copy(x,k),k+=8,x.writeUInt32BE(u,k),k+=4,x.writeUInt32BE(f,k),this.transport.send(240,4,1,0,x).then(E=>{const P=E.slice(1,33).toString("hex"),_=E.slice(33,65).toString("hex");return{r:P,s:_}})}starkSignOrder_v2(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x){const k=vf(r),E=vf(a);if(!(n in e0))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+n);if(!(o in e0))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+o);const P=bo(e),_=Buffer.alloc(1+P.length*4+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0);let M=0;return _[0]=P.length,P.forEach((B,D)=>{_.writeUInt32BE(B,1+4*D)}),M=1+4*P.length,_[M]=e0[n],M++,k&&k.copy(_,M),M+=20,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(_,M),M+=32,i&&Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(_,M),M+=32,_[M]=e0[o],M++,E&&E.copy(_,M),M+=20,c&&Buffer.from(c.toString(16).padStart(64,"0"),"hex").copy(_,M),M+=32,l&&Buffer.from(l.toString(16).padStart(64,"0"),"hex").copy(_,M),M+=32,_.writeUInt32BE(u,M),M+=4,_.writeUInt32BE(f,M),M+=4,Buffer.from(h.toString(16).padStart(16,"0"),"hex").copy(_,M),M+=8,Buffer.from(m.toString(16).padStart(16,"0"),"hex").copy(_,M),M+=8,_.writeUInt32BE(v,M),M+=4,_.writeUInt32BE(x,M),this.transport.send(240,4,3,0,_).then(B=>{const D=B.slice(1,33).toString("hex"),j=B.slice(33,65).toString("hex");return{r:D,s:j}})}starkSignTransfer(e,r,n,s,i,a,o,c,l){const u=vf(r),f=bu(s),h=bo(e),m=Buffer.alloc(1+h.length*4+20+32+32+4+4+8+4+4,0);let v=0;return m[0]=h.length,h.forEach((x,k)=>{m.writeUInt32BE(x,1+4*k)}),v=1+4*h.length,u&&u.copy(m,v),v+=20,Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(m,v),v+=32,f.copy(m,v),v+=32,m.writeUInt32BE(i,v),v+=4,m.writeUInt32BE(a,v),v+=4,Buffer.from(o.toString(16).padStart(16,"0"),"hex").copy(m,v),v+=8,m.writeUInt32BE(c,v),v+=4,m.writeUInt32BE(l,v),this.transport.send(240,4,2,0,m).then(x=>{const k=x.slice(1,33).toString("hex"),E=x.slice(33,65).toString("hex");return{r:k,s:E}})}starkSignTransfer_v2(e,r,n,s,i,a,o,c,l,u,f,h,m){const v=vf(r),x=bu(a),k=vf(h);if(!(n in e0))throw new Error("eth.starkSignTransferv2 invalid quantization type="+n);const E=bo(e),P=Buffer.alloc(1+E.length*4+1+20+32+32+32+4+4+8+4+4+(k?52:0),0);let _=0;return P[0]=E.length,E.forEach((M,B)=>{P.writeUInt32BE(M,1+4*B)}),_=1+4*E.length,P[_]=e0[n],_++,v&&v.copy(P,_),_+=20,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(P,_),_+=32,i&&Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(P,_),_+=32,x.copy(P,_),_+=32,P.writeUInt32BE(o,_),_+=4,P.writeUInt32BE(c,_),_+=4,Buffer.from(l.toString(16).padStart(16,"0"),"hex").copy(P,_),_+=8,P.writeUInt32BE(u,_),_+=4,P.writeUInt32BE(f,_),k&&m&&(_+=4,Buffer.from(m.toString(16).padStart(64,"0"),"hex").copy(P,_),_+=32,k.copy(P,_)),this.transport.send(240,4,k?5:4,0,P).then(M=>{const B=M.slice(1,33).toString("hex"),D=M.slice(33,65).toString("hex");return{r:B,s:D}})}starkProvideQuantum(e,r){const n=vf(e),s=Buffer.alloc(52,0);return n&&n.copy(s,0),Buffer.from(r.toString(16).padStart(64,"0"),"hex").copy(s,20),this.transport.send(240,8,0,0,s).then(()=>!0,i=>{if(i&&i.statusCode===27904)return!1;throw i})}starkProvideQuantum_v2(e,r,n,s){const i=vf(e);if(!(r in e0))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+r);const a=Buffer.alloc(84,0);let o=0;return i&&i.copy(a,o),o+=20,n&&Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(a,o),o+=32,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(a,o),this.transport.send(240,8,e0[r],0,a).then(()=>!0,c=>{if(c&&c.statusCode===27904)return!1;throw c})}starkUnsafeSign(e,r){const n=bu(r),s=bo(e),i=Buffer.alloc(1+s.length*4+32);let a=0;return i[0]=s.length,s.forEach((o,c)=>{i.writeUInt32BE(o,1+4*c)}),a=1+4*s.length,n.copy(i,a),this.transport.send(240,10,0,0,i).then(o=>{const c=o.slice(1,33).toString("hex"),l=o.slice(33,65).toString("hex");return{r:c,s:l}})}eth2GetPublicKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(224,14,r?1:0,0,s).then(i=>({publicKey:i.slice(0,-2).toString("hex")}))}eth2SetWithdrawalIndex(e){const r=Buffer.alloc(4,0);return r.writeUInt32BE(e,0),this.transport.send(224,16,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27904)return!1;throw n})}getEIP1024PublicEncryptionKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(224,24,r?1:0,0,s).then(i=>({publicKey:i.slice(0,-2).toString("hex")}))}getEIP1024SharedSecret(e,r,n){const s=bo(e),i=bu(r),a=Buffer.alloc(1+s.length*4+32);let o=0;return a[0]=s.length,s.forEach((c,l)=>{a.writeUInt32BE(c,1+4*l)}),o=1+4*s.length,i.copy(a,o),this.transport.send(224,24,n?1:0,1,a).then(c=>({sharedSecret:c.slice(0,-2).toString("hex")}))}provideERC20TokenInformation(e){const r=Buffer.from(e,"hex");return this.transport.send(224,10,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27904)return!1;throw n})}setExternalPlugin(e,r){const n=Buffer.from(e,"hex"),s=Buffer.from(r??"","hex"),i=Buffer.concat([n,s]);return this.transport.send(224,18,0,0,i).then(()=>!0,a=>{if(a&&a.statusCode===27264)return!1;if(a&&a.statusCode===27012)return!1;if(a&&a.statusCode===27904)return!1;throw a})}setPlugin(e){const r=Buffer.from(e,"hex");return this.transport.send(224,22,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27264)return!1;if(n&&n.statusCode===27012)return!1;if(n&&n.statusCode===27904)return!1;throw n})}provideNFTInformation(e){const r=Buffer.from(e,"hex");return this.transport.send(224,20,0,0,r).then(()=>!0,n=>{throw n&&n.statusCode===27904?new jke:n})}async provideDomainName(e){let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=34]="INS",a[a.P1_FIRST_CHUNK=1]="P1_FIRST_CHUNK",a[a.P1_FOLLOWING_CHUNK=0]="P1_FOLLOWING_CHUNK",a[a.P2=0]="P2"})(r||(r={}));const n=Buffer.from(e,"hex"),s=Buffer.concat([Buffer.from(ui(n.length,2),"hex"),n]),i=new Array(Math.ceil(s.length/256)).fill(null).map((a,o)=>s.slice(o*255,(o+1)*255));for(const a of i){const o=a===i[0];await this.transport.send(r.CLA,r.INS,o?r.P1_FIRST_CHUNK:r.P1_FOLLOWING_CHUNK,r.P2,a)}return!0}}const Wie="6.16.0";function _Te(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Ia(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function Jt(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&_Te(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function ty(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>ty(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return ty(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${ty(n,e)}: ${ty(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Li(t,e){return t&&t.code===e}function RB(t){return Li(t,"CALL_EXCEPTION")}function is(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${ty(r)}`);for(const a in r){if(a==="shortMessage")continue;const o=r[a];i.push(a+"="+ty(o))}}i.push(`code=${e}`),i.push(`version=${Wie}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Jt(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&Jt(s,{shortMessage:n}),s}function lt(t,e,r,n){if(!t)throw is(e,r,n)}function he(t,e,r,n){lt(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function qie(t,e,r){r==null&&(r=""),r&&(r=": "+r),lt(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),lt(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const CTe=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Kie(t){lt(CTe.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function am(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),lt(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Xie(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}he(!1,"invalid BytesLike value",e||"value",t)}function wt(t,e){return Xie(t,e,!1)}function Vi(t,e){return Xie(t,e,!0)}function Fn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function bk(t){return Fn(t,!0)||t instanceof Uint8Array}const zH="0123456789abcdef";function xt(t){const e=wt(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=zH[(s&240)>>4]+zH[s&15]}return r}function tn(t){return"0x"+t.map(e=>xt(e).substring(2)).join("")}function $y(t){return Fn(t,!0)?(t.length-2)/2:wt(t).length}function Tn(t,e,r){const n=wt(t);return r!=null&&r>n.length&&lt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),xt(n.slice(e??0,r??n.length))}function D3t(t){let e=xt(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function Zie(t,e,r){const n=wt(t);lt(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),xt(s)}function Th(t,e){return Zie(t,e,!0)}function TTe(t,e){return Zie(t,e,!1)}const K4=BigInt(0),pu=BigInt(1),ry=9007199254740991;function UA(t,e){const r=yk(t,"value"),n=BigInt(lr(e,"width"));if(lt(r>>n===K4,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-pu){const s=(pu<<n)-pu;return-((~r&s)+pu)}return r}function Jie(t,e){let r=Lt(t,"value");const n=BigInt(lr(e,"width")),s=pu<<n-pu;if(r<K4){r=-r,lt(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(pu<<n)-pu;return(~r&i)+pu}else lt(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function ng(t,e){const r=yk(t,"value"),n=BigInt(lr(e,"bits"));return r&(pu<<n)-pu}function Lt(t,e){switch(typeof t){case"bigint":return t;case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-ry&&t<=ry,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){he(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}he(!1,"invalid BigNumberish value",e||"value",t)}function yk(t,e){const r=Lt(t,e);return lt(r>=K4,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const LH="0123456789abcdef";function X4(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=LH[r>>4],e+=LH[r&15];return BigInt(e)}return Lt(t)}function lr(t,e){switch(typeof t){case"bigint":return he(t>=-ry&&t<=ry,"overflow",e||"value",t),Number(t);case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-ry&&t<=ry,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return lr(BigInt(t),e)}catch(r){he(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}he(!1,"invalid numeric value",e||"value",t)}function jTe(t){return lr(X4(t))}function jh(t,e){const r=yk(t,"value");let n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=lr(e,"width");if(s===0&&r===K4)return"0x";for(lt(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function ds(t,e){const r=yk(t,"value");if(r===K4){const i=e!=null?lr(e,"width"):0;return new Uint8Array(i)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){const i=lr(e,"width");for(;n.length<i*2;)n="00"+n;lt(i*2===n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}const s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const a=i*2;s[i]=parseInt(n.substring(a,a+2),16)}return s}function hu(t){let e=xt(bk(t)?t:ds(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const zA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let F8=null;function $Te(t){if(F8==null){F8={};for(let r=0;r<zA.length;r++)F8[zA[r]]=BigInt(r)}const e=F8[t];return he(e!=null,"invalid base58 value","letter",t),e}const MTe=BigInt(0),Hj=BigInt(58);function Qie(t){const e=wt(t);let r=X4(e),n="";for(;r;)n=zA[Number(r%Hj)]+n,r/=Hj;for(let s=0;s<e.length&&!e[s];s++)n=zA[0]+n;return n}function OTe(t){let e=MTe;for(let r=0;r<t.length;r++)e*=Hj,e+=$Te(t[r]);return e}function FTe(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return wt(e)}function BTe(t){const e=wt(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var ov;class Yie{constructor(e,r,n){ve(this,"filter");ve(this,"emitter");Ne(this,ov);oe(this,ov,r),Jt(this,{emitter:e,filter:n})}async removeListener(){K(this,ov)!=null&&await this.emitter.off(this.filter,K(this,ov))}}ov=new WeakMap;function RTe(t,e,r,n,s){he(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Gie(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function DTe(t,e,r,n,s){return t==="OVERLONG"?(he(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Gie(t,e,r))}const UTe=Object.freeze({error:RTe,ignore:Gie,replace:DTe});function eae(t,e){e==null&&(e=UTe.error);const r=wt(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(!(i>>7)){n.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+a>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let u=r[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-a,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-a,r,n,c);continue}if(c<=o){s+=e("OVERLONG",s-1-a,r,n,c);continue}n.push(c)}}return n}function $a(t,e){he(typeof t=="string","invalid string value","str",t),e!=null&&(Kie(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);he(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function zTe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function LA(t,e){return zTe(eae(t,e))}function U3t(t,e){return eae($a(t,e))}function tae(t){async function e(r,n){lt(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();lt(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),lt(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,o=setTimeout(()=>{i=is("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{i=is("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal});let l;try{l=await fetch(r.url,c)}catch(m){throw clearTimeout(o),i||m}clearTimeout(o);const u={};l.headers.forEach((m,v)=>{u[v.toLowerCase()]=m});const f=await l.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return e}const LTe=12,VTe=250;let VH=tae();const HTe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),WTe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let CE=!1;async function rae(t,e){try{const r=t.match(HTe);if(!r)throw new Error("invalid data");return new Tp(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?FTe(r[3]):KTe(r[3]))}catch{return new Tp(599,"BAD REQUEST (invalid data: URI)",{},null,new $h(t))}}function nae(t){async function e(r,n){try{const s=r.match(WTe);if(!s)throw new Error("invalid link");return new $h(`${t}${s[2]}`)}catch{return new Tp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new $h(r))}}return e}const B8={data:rae,ipfs:nae("https://gateway.ipfs.io/ipfs/")},sae=new WeakMap;var xg,J0;class qTe{constructor(e){Ne(this,xg);Ne(this,J0);oe(this,xg,[]),oe(this,J0,!1),sae.set(e,()=>{if(!K(this,J0)){oe(this,J0,!0);for(const r of K(this,xg))setTimeout(()=>{r()},0);oe(this,xg,[])}})}addListener(e){lt(!K(this,J0),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),K(this,xg).push(e)}get cancelled(){return K(this,J0)}checkSignal(){lt(!this.cancelled,"cancelled","CANCELLED",{})}}xg=new WeakMap,J0=new WeakMap;function R8(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var cv,lv,nu,Wf,uv,dv,oi,Yo,qf,wg,Ag,Sg,dd,su,Q0,Pg,Rw;const eP=class eP{constructor(e){Ne(this,Pg);Ne(this,cv);Ne(this,lv);Ne(this,nu);Ne(this,Wf);Ne(this,uv);Ne(this,dv);Ne(this,oi);Ne(this,Yo);Ne(this,qf);Ne(this,wg);Ne(this,Ag);Ne(this,Sg);Ne(this,dd);Ne(this,su);Ne(this,Q0);oe(this,dv,String(e)),oe(this,cv,!1),oe(this,lv,!0),oe(this,nu,{}),oe(this,Wf,""),oe(this,uv,3e5),oe(this,su,{slotInterval:VTe,maxAttempts:LTe}),oe(this,Q0,null)}get url(){return K(this,dv)}set url(e){oe(this,dv,String(e))}get body(){return K(this,oi)==null?null:new Uint8Array(K(this,oi))}set body(e){if(e==null)oe(this,oi,void 0),oe(this,Yo,void 0);else if(typeof e=="string")oe(this,oi,$a(e)),oe(this,Yo,"text/plain");else if(e instanceof Uint8Array)oe(this,oi,e),oe(this,Yo,"application/octet-stream");else if(typeof e=="object")oe(this,oi,$a(JSON.stringify(e))),oe(this,Yo,"application/json");else throw new Error("invalid body")}hasBody(){return K(this,oi)!=null}get method(){return K(this,Wf)?K(this,Wf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),oe(this,Wf,String(e).toUpperCase())}get headers(){const e=Object.assign({},K(this,nu));return K(this,qf)&&(e.authorization=`Basic ${BTe($a(K(this,qf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&K(this,Yo)&&(e["content-type"]=K(this,Yo)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){K(this,nu)[String(e).toLowerCase()]=String(r)}clearHeaders(){oe(this,nu,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return K(this,qf)||null}setCredentials(e,r){he(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),oe(this,qf,`${e}:${r}`)}get allowGzip(){return K(this,lv)}set allowGzip(e){oe(this,lv,!!e)}get allowInsecureAuthentication(){return!!K(this,cv)}set allowInsecureAuthentication(e){oe(this,cv,!!e)}get timeout(){return K(this,uv)}set timeout(e){he(e>=0,"timeout must be non-zero","timeout",e),oe(this,uv,e)}get preflightFunc(){return K(this,wg)||null}set preflightFunc(e){oe(this,wg,e)}get processFunc(){return K(this,Ag)||null}set processFunc(e){oe(this,Ag,e)}get retryFunc(){return K(this,Sg)||null}set retryFunc(e){oe(this,Sg,e)}get getUrlFunc(){return K(this,Q0)||VH}set getUrlFunc(e){oe(this,Q0,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${K(this,oi)?xt(K(this,oi)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(K(this,su).slotInterval=e.slotInterval),e.maxAttempts!=null&&(K(this,su).maxAttempts=e.maxAttempts)}send(){return lt(K(this,dd)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),oe(this,dd,new qTe(this)),Ye(this,Pg,Rw).call(this,0,HH()+this.timeout,0,this,new Tp(0,"",{},null,this))}cancel(){lt(K(this,dd)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=sae.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();lt(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new eP(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,oe(s,nu,Object.assign({},K(this,nu))),K(this,oi)&&oe(s,oi,new Uint8Array(K(this,oi))),oe(s,Yo,K(this,Yo)),s}clone(){const e=new eP(this.url);return oe(e,Wf,K(this,Wf)),K(this,oi)&&oe(e,oi,K(this,oi)),oe(e,Yo,K(this,Yo)),oe(e,nu,Object.assign({},K(this,nu))),oe(e,qf,K(this,qf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),oe(e,wg,K(this,wg)),oe(e,Ag,K(this,Ag)),oe(e,Sg,K(this,Sg)),oe(e,su,Object.assign({},K(this,su))),oe(e,Q0,K(this,Q0)),e}static lockConfig(){CE=!0}static getGateway(e){return B8[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(CE)throw new Error("gateways locked");B8[e]=r}static registerGetUrl(e){if(CE)throw new Error("gateways locked");VH=e}static createGetUrlFunc(e){return tae(e)}static createDataGateway(){return rae}static createIpfsGatewayFunc(e){return nae(e)}};cv=new WeakMap,lv=new WeakMap,nu=new WeakMap,Wf=new WeakMap,uv=new WeakMap,dv=new WeakMap,oi=new WeakMap,Yo=new WeakMap,qf=new WeakMap,wg=new WeakMap,Ag=new WeakMap,Sg=new WeakMap,dd=new WeakMap,su=new WeakMap,Q0=new WeakMap,Pg=new WeakSet,Rw=async function(e,r,n,s,i){var u,f,h;if(e>=K(this,su).maxAttempts)return i.makeServerError("exceeded maximum retry limit");lt(HH()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await XTe(n);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in B8){const m=await B8[o](a.url,R8(K(s,dd)));if(m instanceof Tp){let v=m;if(this.processFunc){R8(K(s,dd));try{v=await this.processFunc(a,v)}catch(x){(x.throttle==null||typeof x.stall!="number")&&v.makeServerError("error in post-processing function",x).assertOk()}}return v}a=m}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,R8(K(s,dd)));let l=new Tp(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const m=l.headers.location||"";return Ye(u=a.redirect(m),Pg,Rw).call(u,e+1,r,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,l,e))){const m=l.headers["retry-after"];let v=K(this,su).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(v=parseInt(m)),Ye(f=a.clone(),Pg,Rw).call(f,e+1,r,v,s,l)}if(this.processFunc){R8(K(s,dd));try{l=await this.processFunc(a,l)}catch(m){(m.throttle==null||typeof m.stall!="number")&&l.makeServerError("error in post-processing function",m).assertOk();let v=K(this,su).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(v=m.stall),Ye(h=a.clone(),Pg,Rw).call(h,e+1,r,v,s,l)}}return l};let $h=eP;var l4,u4,d4,Go,fv,kg;const CU=class CU{constructor(e,r,n,s,i){Ne(this,l4);Ne(this,u4);Ne(this,d4);Ne(this,Go);Ne(this,fv);Ne(this,kg);oe(this,l4,e),oe(this,u4,r),oe(this,d4,Object.keys(n).reduce((a,o)=>(a[o.toLowerCase()]=String(n[o]),a),{})),oe(this,Go,s==null?null:new Uint8Array(s)),oe(this,fv,i||null),oe(this,kg,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${K(this,Go)?xt(K(this,Go)):"null"}>`}get statusCode(){return K(this,l4)}get statusMessage(){return K(this,u4)}get headers(){return Object.assign({},K(this,d4))}get body(){return K(this,Go)==null?null:new Uint8Array(K(this,Go))}get bodyText(){try{return K(this,Go)==null?"":LA(K(this,Go))}catch{lt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{lt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new CU(599,n,this.headers,this.body,K(this,fv)||void 0);return oe(s,kg,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:he(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Jt(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return K(this,Go)!=null}get request(){return K(this,fv)}ok(){return K(this,kg).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=K(this,kg);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{K(this,Go)&&(s=LA(K(this,Go)))}catch{}lt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};l4=new WeakMap,u4=new WeakMap,d4=new WeakMap,Go=new WeakMap,fv=new WeakMap,kg=new WeakMap;let Tp=CU;function HH(){return new Date().getTime()}function KTe(t){return $a(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function XTe(t){return new Promise(e=>setTimeout(e,t))}const ZTe=BigInt(-1),Xl=BigInt(0),ny=BigInt(1),JTe=BigInt(5),cb={};let My="0000";for(;My.length<80;)My+=My;function Sm(t){let e=My;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function G2(t,e,r){const n=BigInt(e.width);if(e.signed){const s=ny<<n-ny;lt(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Xl?t=UA(ng(t,n),n):t=-UA(ng(-t,n),n)}else{const s=ny<<n;lt(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-ny}return t}function TE(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);he(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,a=(o,c,l)=>i[o]==null?l:(he(typeof i[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,i[o]),i[o]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}he(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),he(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function QTe(t,e){let r="";t<Xl&&(r="-",t*=ZTe);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=My+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var iu,xn,Va,pn,Bm,$f,Wj,qj,Kj,Xj;const R0=class R0{constructor(e,r,n){Ne(this,pn);ve(this,"format");Ne(this,iu);Ne(this,xn);Ne(this,Va);ve(this,"_value");am(e,cb,"FixedNumber"),oe(this,xn,r),oe(this,iu,n);const s=QTe(r,n.decimals);Jt(this,{format:n.name,_value:s}),oe(this,Va,Sm(n.decimals))}get signed(){return K(this,iu).signed}get width(){return K(this,iu).width}get decimals(){return K(this,iu).decimals}get value(){return K(this,xn)}addUnsafe(e){return Ye(this,pn,Wj).call(this,e)}add(e){return Ye(this,pn,Wj).call(this,e,"add")}subUnsafe(e){return Ye(this,pn,qj).call(this,e)}sub(e){return Ye(this,pn,qj).call(this,e,"sub")}mulUnsafe(e){return Ye(this,pn,Kj).call(this,e)}mul(e){return Ye(this,pn,Kj).call(this,e,"mul")}mulSignal(e){Ye(this,pn,Bm).call(this,e);const r=K(this,xn)*K(e,xn);return lt(r%K(this,Va)===Xl,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ye(this,pn,$f).call(this,r/K(this,Va),"mulSignal")}divUnsafe(e){return Ye(this,pn,Xj).call(this,e)}div(e){return Ye(this,pn,Xj).call(this,e,"div")}divSignal(e){lt(K(e,xn)!==Xl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,pn,Bm).call(this,e);const r=K(this,xn)*K(this,Va);return lt(r%K(e,xn)===Xl,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ye(this,pn,$f).call(this,r/K(e,xn),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=Sm(s):s<0&&(r*=Sm(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=K(this,xn);return K(this,xn)<Xl&&(e-=K(this,Va)-ny),e=K(this,xn)/K(this,Va)*K(this,Va),Ye(this,pn,$f).call(this,e,"floor")}ceiling(){let e=K(this,xn);return K(this,xn)>Xl&&(e+=K(this,Va)-ny),e=K(this,xn)/K(this,Va)*K(this,Va),Ye(this,pn,$f).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=JTe*Sm(r-1);let s=this.value+n;const i=Sm(r);return s=s/i*i,G2(s,K(this,iu),"round"),new R0(cb,s,K(this,iu))}isZero(){return K(this,xn)===Xl}isNegative(){return K(this,xn)<Xl}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return R0.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:lr(r),i=TE(n);let a=Lt(e,"value");const o=s-i.decimals;if(o>0){const c=Sm(o);lt(a%c===Xl,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=c}else o<0&&(a*=Sm(-o));return G2(a,i,"fromValue"),new R0(cb,a,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);he(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=TE(r);let i=n[2]||"0",a=n[3]||"";for(;a.length<s.decimals;)a+=My;lt(a.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,s.decimals);const o=BigInt(n[1]+i+a);return G2(o,s,"fromString"),new R0(cb,o,s)}static fromBytes(e,r){let n=X4(wt(e,"value"));const s=TE(r);return s.signed&&(n=UA(n,s.width)),G2(n,s,"fromBytes"),new R0(cb,n,s)}};iu=new WeakMap,xn=new WeakMap,Va=new WeakMap,pn=new WeakSet,Bm=function(e){he(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},$f=function(e,r){return e=G2(e,K(this,iu),r),new R0(cb,e,K(this,iu))},Wj=function(e,r){return Ye(this,pn,Bm).call(this,e),Ye(this,pn,$f).call(this,K(this,xn)+K(e,xn),r)},qj=function(e,r){return Ye(this,pn,Bm).call(this,e),Ye(this,pn,$f).call(this,K(this,xn)-K(e,xn),r)},Kj=function(e,r){return Ye(this,pn,Bm).call(this,e),Ye(this,pn,$f).call(this,K(this,xn)*K(e,xn)/K(this,Va),r)},Xj=function(e,r){return lt(K(e,xn)!==Xl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,pn,Bm).call(this,e),Ye(this,pn,$f).call(this,K(this,xn)*K(this,Va)/K(e,xn),r)};let VA=R0;function YTe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function WH(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function qH(t,e,r,n){const s=[];for(;r<e+1+n;){const i=iae(t,r);s.push(i.result),r+=i.consumed,lt(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function iae(t,e){lt(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{lt(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=WH(t,e+1,n);return r(e+1+n+s),qH(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),qH(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=WH(t,e+1,n);r(e+1+n+s);const i=xt(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=xt(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:YTe(t[e])}}function Z4(t){const e=wt(t,"data"),r=iae(e,0);return he(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function KH(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function aae(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(aae(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=KH(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(wt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=KH(e.length);return r.unshift(183+r.length),r.concat(e)}const XH="0123456789abcdef";function zd(t){let e="0x";for(const r of aae(t))e+=XH[r>>4],e+=XH[r&15];return e}const oae=["wei","kwei","mwei","gwei","szabo","finney","ether"];function vk(t,e){let r=18;if(typeof e=="string"){const n=oae.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=lr(e,"unit"));return VA.fromValue(t,r,{decimals:r,width:512}).toString()}function cae(t,e){he(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=oae.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=lr(e,"unit"));return VA.fromString(t,{decimals:r,width:512}).value}function lae(t){return vk(t,18)}function GTe(t){return cae(t,18)}function eje(t){const e=wt(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=xt(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Za=32,Zj=new Uint8Array(Za),tje=["then"],D8={},uae=new WeakMap;function Wm(t){return uae.get(t)}function ZH(t,e){uae.set(t,e)}function ew(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function Jj(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof yx?Jj(Wm(n),n,r):n):t.reduce((n,s,i)=>{let a=e.getValue(s);return s in n||(r&&a instanceof yx&&(a=Jj(Wm(a),a,r)),n[s]=a),n},{})}var hv;const py=class py extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),a=!0;n!==D8&&(s=r,i=[],a=!1);super(s.length);Ne(this,hv);s.forEach((l,u)=>{this[u]=l});const o=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(ZH(this,Object.freeze(s.map((l,u)=>{const f=i[u];return f!=null&&o.get(f)===1?f:null}))),oe(this,hv,[]),K(this,hv)==null&&K(this,hv),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const m=lr(u,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const v=l[m];return v instanceof Error&&ew(`index ${m}`,v),v}if(tje.indexOf(u)>=0)return Reflect.get(l,u,f);const h=l[u];if(h instanceof Function)return function(...m){return h.apply(this===f?l:this,m)};if(!(u in l))return l.getValue.apply(this===f?l:this,[u])}return Reflect.get(l,u,f)}});return ZH(c,Wm(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&ew(`index ${i}`,s),r&&s instanceof py&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=Wm(this);return n.reduce((s,i,a)=>(lt(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Jj(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Wm(this),i=[],a=[];for(let o=r;o<n;o++)i.push(this[o]),a.push(s[o]);return new py(D8,i,a)}filter(r,n){const s=Wm(this),i=[],a=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&ew(`index ${o}`,c),r.call(n,c,o,this)&&(i.push(c),a.push(s[o]))}return new py(D8,i,a)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&ew(`index ${i}`,a),s.push(r.call(n,a,i,this))}return s}getValue(r){const n=Wm(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&ew(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new py(D8,r,n)}};hv=new WeakMap;let yx=py;function z3t(t){const e=[],r=function(n,s){if(Array.isArray(s))for(let i in s){const a=n.slice();a.push(i);try{r(a,s[i])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}function JH(t){let e=ds(t);return lt(e.length<=Za,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Za,offset:e.length}),e.length!==Za&&(e=Vi(tn([Zj.slice(e.length%Za),e]))),e}class Lh{constructor(e,r,n,s){ve(this,"name");ve(this,"type");ve(this,"localName");ve(this,"dynamic");Jt(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){he(!1,e,this.localName,r)}}var Kf,Ig,pv,e7;class Qj{constructor(){Ne(this,pv);Ne(this,Kf);Ne(this,Ig);oe(this,Kf,[]),oe(this,Ig,0)}get data(){return tn(K(this,Kf))}get length(){return K(this,Ig)}appendWriter(e){return Ye(this,pv,e7).call(this,Vi(e.data))}writeBytes(e){let r=Vi(e);const n=r.length%Za;return n&&(r=Vi(tn([r,Zj.slice(n)]))),Ye(this,pv,e7).call(this,r)}writeValue(e){return Ye(this,pv,e7).call(this,JH(e))}writeUpdatableValue(){const e=K(this,Kf).length;return K(this,Kf).push(Zj),oe(this,Ig,K(this,Ig)+Za),r=>{K(this,Kf)[e]=JH(r)}}}Kf=new WeakMap,Ig=new WeakMap,pv=new WeakSet,e7=function(e){return K(this,Kf).push(e),oe(this,Ig,K(this,Ig)+e.length),e.length};var wo,ec,Ng,Eg,Y0,T1,Gj,dae;const TU=class TU{constructor(e,r,n){Ne(this,T1);ve(this,"allowLoose");Ne(this,wo);Ne(this,ec);Ne(this,Ng);Ne(this,Eg);Ne(this,Y0);Jt(this,{allowLoose:!!r}),oe(this,wo,Vi(e)),oe(this,Ng,0),oe(this,Eg,null),oe(this,Y0,n??1024),oe(this,ec,0)}get data(){return xt(K(this,wo))}get dataLength(){return K(this,wo).length}get consumed(){return K(this,ec)}get bytes(){return new Uint8Array(K(this,wo))}subReader(e){const r=new TU(K(this,wo).slice(K(this,ec)+e),this.allowLoose,K(this,Y0));return oe(r,Eg,this),r}readBytes(e,r){let n=Ye(this,T1,dae).call(this,0,e,!!r);return Ye(this,T1,Gj).call(this,e),oe(this,ec,K(this,ec)+n.length),n.slice(0,e)}readValue(){return X4(this.readBytes(Za))}readIndex(){return jTe(this.readBytes(Za))}};wo=new WeakMap,ec=new WeakMap,Ng=new WeakMap,Eg=new WeakMap,Y0=new WeakMap,T1=new WeakSet,Gj=function(e){var r;if(K(this,Eg))return Ye(r=K(this,Eg),T1,Gj).call(r,e);oe(this,Ng,K(this,Ng)+e),lt(K(this,Y0)<1||K(this,Ng)<=K(this,Y0)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${K(this,Y0)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Vi(K(this,wo)),offset:K(this,ec),length:e,info:{bytesRead:K(this,Ng),dataLength:this.dataLength}})},dae=function(e,r,n){let s=Math.ceil(r/Za)*Za;return K(this,ec)+s>K(this,wo).length&&(this.allowLoose&&n&&K(this,ec)+r<=K(this,wo).length?s=r:lt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Vi(K(this,wo)),length:K(this,wo).length,offset:K(this,ec)+s})),K(this,wo).slice(K(this,ec),K(this,ec)+s)};let Yj=TU;function cc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function DB(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function fae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cc(t.outputLen),cc(t.blockLen)}function vx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hae(t,e){DB(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const jE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pae=t=>t instanceof Uint8Array,t7=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),r7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Lu=(t,e)=>t<<32-e|t>>>e,rje=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rje)throw new Error("Non little-endian hardware is not supported");const nje=async()=>{};async function QH(t,e,r){let n=Date.now();for(let s=0;s<t;s++){r(s);const i=Date.now()-n;i>=0&&i<e||(await nje(),n+=i)}}function sje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function xx(t){if(typeof t=="string"&&(t=sje(t)),!pae(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ije(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!pae(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class UB{clone(){return this._cloneInto()}}const aje={}.toString;function mae(t,e){if(e!==void 0&&aje.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function xk(t){const e=n=>t().update(xx(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function oje(t=32){if(jE&&typeof jE.getRandomValues=="function")return jE.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let gae=class extends UB{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,fae(e);const n=xx(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return vx(this),this.iHash.update(e),this}digestInto(e){vx(this),DB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const wk=(t,e,r)=>new gae(t,e).update(r).digest();wk.create=(t,e)=>new gae(t,e);function cje(t,e,r,n){fae(t);const s=mae({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:o}=s;if(cc(i),cc(a),cc(o),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=xx(e),l=xx(r),u=new Uint8Array(a),f=wk.create(t,c),h=f._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:o,DK:u,PRF:f,PRFSalt:h}}function lje(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),r}function zB(t,e,r,n){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:c}=cje(t,e,r,n);let l;const u=new Uint8Array(4),f=r7(u),h=new Uint8Array(o.outputLen);for(let m=1,v=0;v<i;m++,v+=o.outputLen){const x=a.subarray(v,v+o.outputLen);f.setInt32(0,m,!1),(l=c._cloneInto(l)).update(u).digestInto(h),x.set(h.subarray(0,x.length));for(let k=1;k<s;k++){o._cloneInto(l).update(h).digestInto(h);for(let E=0;E<x.length;E++)x[E]^=h[E]}}return lje(o,c,a,l,h)}function uje(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}class LB extends UB{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=r7(this.buffer)}update(e){vx(this);const{view:r,buffer:n,blockLen:s}=this;e=xx(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=r7(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vx(this),hae(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;uje(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=r7(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}}const dje=(t,e,r)=>t&e^~t&r,fje=(t,e,r)=>t&e^t&r^e&r,hje=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),r0=new Uint32Array(64);let pje=class extends LB{constructor(){super(64,32,8,!1),this.A=t0[0]|0,this.B=t0[1]|0,this.C=t0[2]|0,this.D=t0[3]|0,this.E=t0[4]|0,this.F=t0[5]|0,this.G=t0[6]|0,this.H=t0[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)r0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=r0[f-15],m=r0[f-2],v=Lu(h,7)^Lu(h,18)^h>>>3,x=Lu(m,17)^Lu(m,19)^m>>>10;r0[f]=x+r0[f-7]+v+r0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Lu(o,6)^Lu(o,11)^Lu(o,25),m=u+h+dje(o,c,l)+hje[f]+r0[f]|0,x=(Lu(n,2)^Lu(n,13)^Lu(n,22))+fje(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+x|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){r0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const u2=xk(()=>new pje),U8=BigInt(2**32-1),e$=BigInt(32);function bae(t,e=!1){return e?{h:Number(t&U8),l:Number(t>>e$&U8)}:{h:Number(t>>e$&U8)|0,l:Number(t&U8)|0}}function yae(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=bae(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const mje=(t,e)=>BigInt(t>>>0)<<e$|BigInt(e>>>0),gje=(t,e,r)=>t>>>r,bje=(t,e,r)=>t<<32-r|e>>>r,yje=(t,e,r)=>t>>>r|e<<32-r,vje=(t,e,r)=>t<<32-r|e>>>r,xje=(t,e,r)=>t<<64-r|e>>>r-32,wje=(t,e,r)=>t>>>r-32|e<<64-r,Aje=(t,e)=>e,Sje=(t,e)=>t,vae=(t,e,r)=>t<<r|e>>>32-r,xae=(t,e,r)=>e<<r|t>>>32-r,wae=(t,e,r)=>e<<r-32|t>>>64-r,Aae=(t,e,r)=>t<<r-32|e>>>64-r;function Pje(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const kje=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Ije=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Nje=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Eje=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,_je=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Cje=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Ir={fromBig:bae,split:yae,toBig:mje,shrSH:gje,shrSL:bje,rotrSH:yje,rotrSL:vje,rotrBH:xje,rotrBL:wje,rotr32H:Aje,rotr32L:Sje,rotlSH:vae,rotlSL:xae,rotlBH:wae,rotlBL:Aae,add:Pje,add3L:kje,add3H:Ije,add4L:Nje,add4H:Eje,add5H:Cje,add5L:_je},[Tje,jje]=Ir.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),n0=new Uint32Array(80),s0=new Uint32Array(80);let $je=class extends LB{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:v,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)n0[_]=e.getUint32(r),s0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const M=n0[_-15]|0,B=s0[_-15]|0,D=Ir.rotrSH(M,B,1)^Ir.rotrSH(M,B,8)^Ir.shrSH(M,B,7),j=Ir.rotrSL(M,B,1)^Ir.rotrSL(M,B,8)^Ir.shrSL(M,B,7),T=n0[_-2]|0,R=s0[_-2]|0,H=Ir.rotrSH(T,R,19)^Ir.rotrBH(T,R,61)^Ir.shrSH(T,R,6),O=Ir.rotrSL(T,R,19)^Ir.rotrBL(T,R,61)^Ir.shrSL(T,R,6),b=Ir.add4L(j,O,s0[_-7],s0[_-16]),w=Ir.add4H(b,D,H,n0[_-7],n0[_-16]);n0[_]=w|0,s0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:v,Gh:x,Gl:k,Hh:E,Hl:P}=this;for(let _=0;_<80;_++){const M=Ir.rotrSH(f,h,14)^Ir.rotrSH(f,h,18)^Ir.rotrBH(f,h,41),B=Ir.rotrSL(f,h,14)^Ir.rotrSL(f,h,18)^Ir.rotrBL(f,h,41),D=f&m^~f&x,j=h&v^~h&k,T=Ir.add5L(P,B,j,jje[_],s0[_]),R=Ir.add5H(T,E,M,D,Tje[_],n0[_]),H=T|0,O=Ir.rotrSH(n,s,28)^Ir.rotrBH(n,s,34)^Ir.rotrBH(n,s,39),b=Ir.rotrSL(n,s,28)^Ir.rotrBL(n,s,34)^Ir.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;E=x|0,P=k|0,x=m|0,k=v|0,m=f|0,v=h|0,{h:f,l:h}=Ir.add(l|0,u|0,R|0,H|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Ir.add3L(H,b,p);n=Ir.add3H(g,R,O,w),s=g|0}({h:n,l:s}=Ir.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Ir.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ir.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ir.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Ir.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:v}=Ir.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:x,l:k}=Ir.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:E,l:P}=Ir.add(this.Hh|0,this.Hl|0,E|0,P|0),this.set(n,s,i,a,o,c,l,u,f,h,m,v,x,k,E,P)}roundClean(){n0.fill(0),s0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const VB=xk(()=>new $je);function Mje(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const YH=Mje(),GH=YH.crypto||YH.msCrypto;function Sae(t){switch(t){case"sha256":return u2.create();case"sha512":return VB.create()}he(!1,"invalid hashing algorithm name","algorithm",t)}function Oje(t,e){const r={sha256:u2,sha512:VB}[t];return he(r!=null,"invalid hmac algorithm","algorithm",t),wk.create(r,e)}function Fje(t,e,r,n,s){const i={sha256:u2,sha512:VB}[s];return he(i!=null,"invalid pbkdf2 algorithm","algorithm",s),zB(i,t,e,{c:r,dkLen:n})}function Bje(t){lt(GH!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),he(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);const e=new Uint8Array(t);return GH.getRandomValues(e),e}let Pae=!1;const kae=function(t,e,r){return Oje(t,e).update(r).digest()};let Iae=kae;function d2(t,e,r){const n=wt(e,"key"),s=wt(r,"data");return xt(Iae(t,n,s))}d2._=kae;d2.lock=function(){Pae=!0};d2.register=function(t){if(Pae)throw new Error("computeHmac is locked");Iae=t};Object.freeze(d2);const[Nae,Eae,_ae]=[[],[],[]],Rje=BigInt(0),tw=BigInt(1),Dje=BigInt(2),Uje=BigInt(7),zje=BigInt(256),Lje=BigInt(113);for(let t=0,e=tw,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Nae.push(2*(5*n+r)),Eae.push((t+1)*(t+2)/2%64);let s=Rje;for(let i=0;i<7;i++)e=(e<<tw^(e>>Uje)*Lje)%zje,e&Dje&&(s^=tw<<(tw<<BigInt(i))-tw);_ae.push(s)}const[Vje,Hje]=yae(_ae,!0),eW=(t,e,r)=>r>32?wae(t,e,r):vae(t,e,r),tW=(t,e,r)=>r>32?Aae(t,e,r):xae(t,e,r);function Wje(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],f=eW(l,u,1)^r[o],h=tW(l,u,1)^r[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=Eae[a],c=eW(s,i,o),l=tW(s,i,o),u=Nae[a];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Vje[n],t[1]^=Hje[n]}r.fill(0)}class HB extends UB{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cc(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=t7(this.state)}keccak(){Wje(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){vx(this);const{blockLen:r,state:n}=this;e=xx(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){vx(this,!1),DB(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new HB(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const qje=(t,e,r)=>xk(()=>new HB(e,t,r)),Kje=qje(1,136,256/8);let Cae=!1;const Tae=function(t){return Kje(t)};let jae=Tae;function On(t){const e=wt(t,"data");return xt(jae(e))}On._=Tae;On.lock=function(){Cae=!0};On.register=function(t){if(Cae)throw new TypeError("keccak256 is locked");jae=t};Object.freeze(On);const Xje=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$ae=Uint8Array.from({length:16},(t,e)=>e),Zje=$ae.map(t=>(9*t+5)%16);let WB=[$ae],qB=[Zje];for(let t=0;t<4;t++)for(let e of[WB,qB])e.push(e[t].map(r=>Xje[r]));const Mae=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Jje=WB.map((t,e)=>t.map(r=>Mae[e][r])),Qje=qB.map((t,e)=>t.map(r=>Mae[e][r])),Yje=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Gje=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),z8=(t,e)=>t<<e|t>>>32-e;function rW(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const L8=new Uint32Array(16);class e$e extends LB{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:s,h4:i}=this;return[e,r,n,s,i]}set(e,r,n,s,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,r){for(let m=0;m<16;m++,r+=4)L8[m]=e.getUint32(r,!0);let n=this.h0|0,s=n,i=this.h1|0,a=i,o=this.h2|0,c=o,l=this.h3|0,u=l,f=this.h4|0,h=f;for(let m=0;m<5;m++){const v=4-m,x=Yje[m],k=Gje[m],E=WB[m],P=qB[m],_=Jje[m],M=Qje[m];for(let B=0;B<16;B++){const D=z8(n+rW(m,i,o,l)+L8[E[B]]+x,_[B])+f|0;n=f,f=l,l=z8(o,10)|0,o=i,i=D}for(let B=0;B<16;B++){const D=z8(s+rW(v,a,c,u)+L8[P[B]]+k,M[B])+h|0;s=h,h=u,u=z8(c,10)|0,c=a,a=D}}this.set(this.h1+o+u|0,this.h2+l+h|0,this.h3+f+s|0,this.h4+n+a|0,this.h0+i+c|0)}roundClean(){L8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const t$e=xk(()=>new e$e);let Oae=!1;const Fae=function(t){return t$e(t)};let Bae=Fae;function cf(t){const e=wt(t,"data");return xt(Bae(e))}cf._=Fae;cf.lock=function(){Oae=!0};cf.register=function(t){if(Oae)throw new TypeError("ripemd160 is locked");Bae=t};Object.freeze(cf);let Rae=!1;const Dae=function(t,e,r,n,s){return Fje(t,e,r,n,s)};let Uae=Dae;function z1(t,e,r,n,s){const i=wt(t,"password"),a=wt(e,"salt");return xt(Uae(i,a,r,n,s))}z1._=Dae;z1.lock=function(){Rae=!0};z1.register=function(t){if(Rae)throw new Error("pbkdf2 is locked");Uae=t};Object.freeze(z1);let zae=!1;const Lae=function(t){return new Uint8Array(Bje(t))};let Vae=Lae;function Hi(t){return Vae(t)}Hi._=Lae;Hi.lock=function(){zae=!0};Hi.register=function(t){if(zae)throw new Error("randomBytes is locked");Vae=t};Object.freeze(Hi);const rn=(t,e)=>t<<e|t>>>32-e;function nW(t,e,r,n,s,i){let a=t[e++]^r[n++],o=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],u=t[e++]^r[n++],f=t[e++]^r[n++],h=t[e++]^r[n++],m=t[e++]^r[n++],v=t[e++]^r[n++],x=t[e++]^r[n++],k=t[e++]^r[n++],E=t[e++]^r[n++],P=t[e++]^r[n++],_=t[e++]^r[n++],M=t[e++]^r[n++],B=t[e++]^r[n++],D=a,j=o,T=c,R=l,H=u,O=f,b=h,w=m,p=v,g=x,S=k,N=E,I=P,A=_,y=M,C=B;for(let $=0;$<8;$+=2)H^=rn(D+I|0,7),p^=rn(H+D|0,9),I^=rn(p+H|0,13),D^=rn(I+p|0,18),g^=rn(O+j|0,7),A^=rn(g+O|0,9),j^=rn(A+g|0,13),O^=rn(j+A|0,18),y^=rn(S+b|0,7),T^=rn(y+S|0,9),b^=rn(T+y|0,13),S^=rn(b+T|0,18),R^=rn(C+N|0,7),w^=rn(R+C|0,9),N^=rn(w+R|0,13),C^=rn(N+w|0,18),j^=rn(D+R|0,7),T^=rn(j+D|0,9),R^=rn(T+j|0,13),D^=rn(R+T|0,18),b^=rn(O+H|0,7),w^=rn(b+O|0,9),H^=rn(w+b|0,13),O^=rn(H+w|0,18),N^=rn(S+g|0,7),p^=rn(N+S|0,9),g^=rn(p+N|0,13),S^=rn(g+p|0,18),I^=rn(C+y|0,7),A^=rn(I+C|0,9),y^=rn(A+I|0,13),C^=rn(y+A|0,18);s[i++]=a+D|0,s[i++]=o+j|0,s[i++]=c+T|0,s[i++]=l+R|0,s[i++]=u+H|0,s[i++]=f+O|0,s[i++]=h+b|0,s[i++]=m+w|0,s[i++]=v+p|0,s[i++]=x+g|0,s[i++]=k+S|0,s[i++]=E+N|0,s[i++]=P+I|0,s[i++]=_+A|0,s[i++]=M+y|0,s[i++]=B+C|0}function Oy(t,e,r,n,s){let i=n+0,a=n+16*s;for(let o=0;o<16;o++)r[a+o]=t[e+(2*s-1)*16+o];for(let o=0;o<s;o++,i+=16,e+=16)nW(r,a,t,e,r,i),o>0&&(a+=16),nW(r,i,t,e+=16,r,a)}function Hae(t,e,r){const n=mae({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:i,p:a,dkLen:o,asyncTick:c,maxmem:l,onProgress:u}=n;if(cc(s),cc(i),cc(a),cc(o),cc(c),cc(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const f=128*i,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=f*(s+a);if(m>l)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${l} (maxmem)`);const v=zB(u2,t,e,{c:1,dkLen:f*a}),x=t7(v),k=t7(new Uint8Array(f*s)),E=t7(new Uint8Array(f));let P=()=>{};if(u){const _=2*s*a,M=Math.max(Math.floor(_/1e4),1);let B=0;P=()=>{B++,u&&(!(B%M)||B===_)&&u(B/_)}}return{N:s,r:i,p:a,dkLen:o,blockSize32:h,V:k,B32:x,B:v,tmp:E,blockMixCb:P,asyncTick:c}}function Wae(t,e,r,n,s){const i=zB(u2,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),s.fill(0),i}function r$e(t,e,r){const{N:n,r:s,p:i,dkLen:a,blockSize32:o,V:c,B32:l,B:u,tmp:f,blockMixCb:h}=Hae(t,e,r);for(let m=0;m<i;m++){const v=o*m;for(let x=0;x<o;x++)c[x]=l[v+x];for(let x=0,k=0;x<n-1;x++)Oy(c,k,c,k+=o,s),h();Oy(c,(n-1)*o,l,v,s),h();for(let x=0;x<n;x++){const k=l[v+o-16]%n;for(let E=0;E<o;E++)f[E]=l[v+E]^c[k*o+E];Oy(f,0,l,v,s),h()}}return Wae(t,a,u,c,f)}async function n$e(t,e,r){const{N:n,r:s,p:i,dkLen:a,blockSize32:o,V:c,B32:l,B:u,tmp:f,blockMixCb:h,asyncTick:m}=Hae(t,e,r);for(let v=0;v<i;v++){const x=o*v;for(let E=0;E<o;E++)c[E]=l[x+E];let k=0;await QH(n-1,m,()=>{Oy(c,k,c,k+=o,s),h()}),Oy(c,(n-1)*o,l,x,s),h(),await QH(n,m,()=>{const E=l[x+o-16]%n;for(let P=0;P<o;P++)f[P]=l[x+P]^c[E*o+P];Oy(f,0,l,x,s),h()})}return Wae(t,a,u,c,f)}let qae=!1,Kae=!1;const Xae=async function(t,e,r,n,s,i,a){return await n$e(t,e,{N:r,r:n,p:s,dkLen:i,onProgress:a})},Zae=function(t,e,r,n,s,i){return r$e(t,e,{N:r,r:n,p:s,dkLen:i})};let Jae=Xae,Qae=Zae;async function f2(t,e,r,n,s,i,a){const o=wt(t,"passwd"),c=wt(e,"salt");return xt(await Jae(o,c,r,n,s,i,a))}f2._=Xae;f2.lock=function(){Kae=!0};f2.register=function(t){if(Kae)throw new Error("scrypt is locked");Jae=t};Object.freeze(f2);function h2(t,e,r,n,s,i){const a=wt(t,"passwd"),o=wt(e,"salt");return xt(Qae(a,o,r,n,s,i))}h2._=Zae;h2.lock=function(){qae=!0};h2.register=function(t){if(qae)throw new Error("scryptSync is locked");Qae=t};Object.freeze(h2);const Yae=function(t){return Sae("sha256").update(t).digest()},Gae=function(t){return Sae("sha512").update(t).digest()};let eoe=Yae,toe=Gae,roe=!1,noe=!1;function ts(t){const e=wt(t,"data");return xt(eoe(e))}ts._=Yae;ts.lock=function(){roe=!0};ts.register=function(t){if(roe)throw new Error("sha256 is locked");eoe=t};Object.freeze(ts);function KB(t){const e=wt(t,"data");return xt(toe(e))}KB._=Gae;KB.lock=function(){noe=!0};KB.register=function(t){if(noe)throw new Error("sha512 is locked");toe=t};Object.freeze(ts);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const soe=BigInt(0),Ak=BigInt(1),s$e=BigInt(2),Sk=t=>t instanceof Uint8Array,i$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wx(t){if(!Sk(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=i$e[t[r]];return e}function ioe(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function XB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ax(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function qg(t){return XB(wx(t))}function ZB(t){if(!Sk(t))throw new Error("Uint8Array expected");return XB(wx(Uint8Array.from(t).reverse()))}function Sx(t,e){return Ax(t.toString(16).padStart(e*2,"0"))}function JB(t,e){return Sx(t,e).reverse()}function a$e(t){return Ax(ioe(t))}function tu(t,e,r){let n;if(typeof e=="string")try{n=Ax(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Sk(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function k6(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!Sk(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function o$e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function c$e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function l$e(t){let e;for(e=0;t>soe;t>>=Ak,e+=1);return e}function u$e(t,e){return t>>BigInt(e)&Ak}const d$e=(t,e,r)=>t|(r?Ak:soe)<<BigInt(e),QB=t=>(s$e<<BigInt(t-1))-Ak,$E=t=>new Uint8Array(t),sW=t=>Uint8Array.from(t);function aoe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=$E(t),s=$E(t),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...f)=>r(s,n,...f),c=(f=$E())=>{s=o(sW([0]),f),n=o(),f.length!==0&&(s=o(sW([1]),f),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=o();const m=n.slice();h.push(m),f+=n.length}return k6(...h)};return(f,h)=>{a(),c(f);let m;for(;!(m=h(l()));)c();return a(),m}}const f$e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function J4(t,e,r={}){const n=(s,i,a)=>{const o=f$e[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(a&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const h$e=Object.freeze(Object.defineProperty({__proto__:null,bitGet:u$e,bitLen:l$e,bitMask:QB,bitSet:d$e,bytesToHex:wx,bytesToNumberBE:qg,bytesToNumberLE:ZB,concatBytes:k6,createHmacDrbg:aoe,ensureBytes:tu,equalBytes:o$e,hexToBytes:Ax,hexToNumber:XB,numberToBytesBE:Sx,numberToBytesLE:JB,numberToHexUnpadded:ioe,numberToVarBytesBE:a$e,utf8ToBytes:c$e,validateObject:J4},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fi=BigInt(0),Ts=BigInt(1),qm=BigInt(2),p$e=BigInt(3),t$=BigInt(4),iW=BigInt(5),aW=BigInt(8);BigInt(9);BigInt(16);function So(t,e){const r=t%e;return r>=fi?r:e+r}function m$e(t,e,r){if(r<=fi||e<fi)throw new Error("Expected power/modulo > 0");if(r===Ts)return fi;let n=Ts;for(;e>fi;)e&Ts&&(n=n*t%r),t=t*t%r,e>>=Ts;return n}function Fc(t,e,r){let n=t;for(;e-- >fi;)n*=n,n%=r;return n}function r$(t,e){if(t===fi||e<=fi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=So(t,e),n=e,s=fi,i=Ts;for(;r!==fi;){const o=n/r,c=n%r,l=s-i*o;n=r,r=c,s=i,i=l}if(n!==Ts)throw new Error("invert: does not exist");return So(s,e)}function g$e(t){const e=(t-Ts)/qm;let r,n,s;for(r=t-Ts,n=0;r%qm===fi;r/=qm,n++);for(s=qm;s<t&&m$e(s,e,t)!==t-Ts;s++);if(n===1){const a=(t+Ts)/t$;return function(c,l){const u=c.pow(l,a);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(r+Ts)/qm;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,u=o.pow(o.mul(o.ONE,s),r),f=o.pow(c,i),h=o.pow(c,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let m=1;for(let x=o.sqr(h);m<l&&!o.eql(x,o.ONE);m++)x=o.sqr(x);const v=o.pow(u,Ts<<BigInt(l-m-1));u=o.sqr(v),f=o.mul(f,v),h=o.mul(h,u),l=m}return f}}function b$e(t){if(t%t$===p$e){const e=(t+Ts)/t$;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%aW===iW){const e=(t-iW)/aW;return function(n,s){const i=n.mul(s,qm),a=n.pow(i,e),o=n.mul(s,a),c=n.mul(n.mul(o,qm),a),l=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return g$e(t)}const y$e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v$e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=y$e.reduce((n,s)=>(n[s]="function",n),e);return J4(t,r)}function x$e(t,e,r){if(r<fi)throw new Error("Expected power > 0");if(r===fi)return t.ONE;if(r===Ts)return e;let n=t.ONE,s=e;for(;r>fi;)r&Ts&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ts;return n}function w$e(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function ooe(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function A$e(t,e,r=!1,n={}){if(t<=fi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=ooe(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=b$e(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:QB(s),ZERO:fi,ONE:Ts,create:c=>So(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return fi<=c&&c<t},is0:c=>c===fi,isOdd:c=>(c&Ts)===Ts,neg:c=>So(-c,t),eql:(c,l)=>c===l,sqr:c=>So(c*c,t),add:(c,l)=>So(c+l,t),sub:(c,l)=>So(c-l,t),mul:(c,l)=>So(c*l,t),pow:(c,l)=>x$e(o,c,l),div:(c,l)=>So(c*r$(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>r$(c,t),sqrt:n.sqrt||(c=>a(o,c)),invertBatch:c=>w$e(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?JB(c,i):Sx(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?ZB(c):qg(c)}});return Object.freeze(o)}function coe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function loe(t){const e=coe(t);return e+Math.ceil(e/2)}function S$e(t,e,r=!1){const n=t.length,s=coe(e),i=loe(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=r?qg(t):ZB(t),o=So(a,e-Ts)+Ts;return r?JB(o,s):Sx(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P$e=BigInt(0),ME=BigInt(1);function k$e(t,e){const r=(s,i)=>{const a=i.negate();return s?a:i},n=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>P$e;)i&ME&&(a=a.add(o)),o=o.double(),i>>=ME;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=n(i),c=[];let l=s,u=l;for(let f=0;f<a;f++){u=l,c.push(u);for(let h=1;h<o;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,a){const{windows:o,windowSize:c}=n(s);let l=t.ZERO,u=t.BASE;const f=BigInt(2**s-1),h=2**s,m=BigInt(s);for(let v=0;v<o;v++){const x=v*c;let k=Number(a&f);a>>=m,k>c&&(k-=h,a+=ME);const E=x,P=x+Math.abs(k)-1,_=v%2!==0,M=k<0;k===0?u=u.add(r(_,i[E])):l=l.add(r(M,i[P]))}return{p:l,f:u}},wNAFCached(s,i,a,o){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,o(l))),this.wNAF(c,l,a)}}}function uoe(t){return v$e(t.Fp),J4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ooe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I$e(t){const e=uoe(t);J4(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:N$e,hexToBytes:E$e}=h$e,sg={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=sg;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:N$e(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=sg,r=typeof t=="string"?E$e(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=sg._parseInt(r.subarray(2)),{d:a,l:o}=sg._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,a=s.length/2,o=r(i),c=r(a);return`30${r(a+i+4)}02${c}${s}02${o}${n}`}},rh=BigInt(0),al=BigInt(1);BigInt(2);const oW=BigInt(3);BigInt(4);function _$e(t){const e=I$e(t),{Fp:r}=e,n=e.toBytes||((v,x,k)=>{const E=x.toAffine();return k6(Uint8Array.from([4]),r.toBytes(E.x),r.toBytes(E.y))}),s=e.fromBytes||(v=>{const x=v.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),E=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:E}});function i(v){const{a:x,b:k}=e,E=r.sqr(v),P=r.mul(E,v);return r.add(r.add(P,r.mul(v,x)),k)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(v){return typeof v=="bigint"&&rh<v&&v<e.n}function o(v){if(!a(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(v){const{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:E,n:P}=e;if(x&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=wx(v)),typeof v!="string"||!x.includes(v.length))throw new Error("Invalid key");v=v.padStart(k*2,"0")}let _;try{_=typeof v=="bigint"?v:qg(tu("private key",v,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof v}`)}return E&&(_=So(_,P)),o(_),_}const l=new Map;function u(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(x,k,E){if(this.px=x,this.py=k,this.pz=E,x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(E==null||!r.isValid(E))throw new Error("z required")}static fromAffine(x){const{x:k,y:E}=x||{};if(!x||!r.isValid(k)||!r.isValid(E))throw new Error("invalid affine point");if(x instanceof f)throw new Error("projective point not allowed");const P=_=>r.eql(_,r.ZERO);return P(k)&&P(E)?f.ZERO:new f(k,E,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const k=r.invertBatch(x.map(E=>E.pz));return x.map((E,P)=>E.toAffine(k[P])).map(f.fromAffine)}static fromHex(x){const k=f.fromAffine(s(tu("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return f.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:k}=this.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");const E=r.sqr(k),P=i(x);if(!r.eql(E,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);const{px:k,py:E,pz:P}=this,{px:_,py:M,pz:B}=x,D=r.eql(r.mul(k,B),r.mul(_,P)),j=r.eql(r.mul(E,B),r.mul(M,P));return D&&j}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:k}=e,E=r.mul(k,oW),{px:P,py:_,pz:M}=this;let B=r.ZERO,D=r.ZERO,j=r.ZERO,T=r.mul(P,P),R=r.mul(_,_),H=r.mul(M,M),O=r.mul(P,_);return O=r.add(O,O),j=r.mul(P,M),j=r.add(j,j),B=r.mul(x,j),D=r.mul(E,H),D=r.add(B,D),B=r.sub(R,D),D=r.add(R,D),D=r.mul(B,D),B=r.mul(O,B),j=r.mul(E,j),H=r.mul(x,H),O=r.sub(T,H),O=r.mul(x,O),O=r.add(O,j),j=r.add(T,T),T=r.add(j,T),T=r.add(T,H),T=r.mul(T,O),D=r.add(D,T),H=r.mul(_,M),H=r.add(H,H),T=r.mul(H,O),B=r.sub(B,T),j=r.mul(H,R),j=r.add(j,j),j=r.add(j,j),new f(B,D,j)}add(x){u(x);const{px:k,py:E,pz:P}=this,{px:_,py:M,pz:B}=x;let D=r.ZERO,j=r.ZERO,T=r.ZERO;const R=e.a,H=r.mul(e.b,oW);let O=r.mul(k,_),b=r.mul(E,M),w=r.mul(P,B),p=r.add(k,E),g=r.add(_,M);p=r.mul(p,g),g=r.add(O,b),p=r.sub(p,g),g=r.add(k,P);let S=r.add(_,B);return g=r.mul(g,S),S=r.add(O,w),g=r.sub(g,S),S=r.add(E,P),D=r.add(M,B),S=r.mul(S,D),D=r.add(b,w),S=r.sub(S,D),T=r.mul(R,g),D=r.mul(H,w),T=r.add(D,T),D=r.sub(b,T),T=r.add(b,T),j=r.mul(D,T),b=r.add(O,O),b=r.add(b,O),w=r.mul(R,w),g=r.mul(H,g),b=r.add(b,w),w=r.sub(O,w),w=r.mul(R,w),g=r.add(g,w),O=r.mul(b,g),j=r.add(j,O),O=r.mul(S,g),D=r.mul(p,D),D=r.sub(D,O),O=r.mul(p,b),T=r.mul(S,T),T=r.add(T,O),new f(D,j,T)}subtract(x){return this.add(x.negate())}is0(){return this.equals(f.ZERO)}wNAF(x){return m.wNAFCached(this,l,x,k=>{const E=r.invertBatch(k.map(P=>P.pz));return k.map((P,_)=>P.toAffine(E[_])).map(f.fromAffine)})}multiplyUnsafe(x){const k=f.ZERO;if(x===rh)return k;if(o(x),x===al)return this;const{endo:E}=e;if(!E)return m.unsafeLadder(this,x);let{k1neg:P,k1:_,k2neg:M,k2:B}=E.splitScalar(x),D=k,j=k,T=this;for(;_>rh||B>rh;)_&al&&(D=D.add(T)),B&al&&(j=j.add(T)),T=T.double(),_>>=al,B>>=al;return P&&(D=D.negate()),M&&(j=j.negate()),j=new f(r.mul(j.px,E.beta),j.py,j.pz),D.add(j)}multiply(x){o(x);let k=x,E,P;const{endo:_}=e;if(_){const{k1neg:M,k1:B,k2neg:D,k2:j}=_.splitScalar(k);let{p:T,f:R}=this.wNAF(B),{p:H,f:O}=this.wNAF(j);T=m.constTimeNegate(M,T),H=m.constTimeNegate(D,H),H=new f(r.mul(H.px,_.beta),H.py,H.pz),E=T.add(H),P=R.add(O)}else{const{p:M,f:B}=this.wNAF(k);E=M,P=B}return f.normalizeZ([E,P])[0]}multiplyAndAddUnsafe(x,k,E){const P=f.BASE,_=(B,D)=>D===rh||D===al||!B.equals(P)?B.multiplyUnsafe(D):B.multiply(D),M=_(this,k).add(_(x,E));return M.is0()?void 0:M}toAffine(x){const{px:k,py:E,pz:P}=this,_=this.is0();x==null&&(x=_?r.ONE:r.inv(P));const M=r.mul(k,x),B=r.mul(E,x),D=r.mul(P,x);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:M,y:B}}isTorsionFree(){const{h:x,isTorsionFree:k}=e;if(x===al)return!0;if(k)return k(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:k}=e;return x===al?this:k?k(f,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(f,this,x)}toHex(x=!0){return wx(this.toRawBytes(x))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,m=k$e(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function C$e(t){const e=uoe(t);return J4(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function T$e(t){const e=C$e(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function a(g){return rh<g&&g<r.ORDER}function o(g){return So(g,n)}function c(g){return r$(g,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=_$e({...e,toBytes(g,S,N){const I=S.toAffine(),A=r.toBytes(I.x),y=k6;return N?y(Uint8Array.from([S.hasEvenY()?2:3]),A):y(Uint8Array.from([4]),A,r.toBytes(I.y))},fromBytes(g){const S=g.length,N=g[0],I=g.subarray(1);if(S===s&&(N===2||N===3)){const A=qg(I);if(!a(A))throw new Error("Point is not on curve");const y=f(A);let C=r.sqrt(y);const $=(C&al)===al;return(N&1)===1!==$&&(C=r.neg(C)),{x:A,y:C}}else if(S===i&&N===4){const A=r.fromBytes(I.subarray(0,r.BYTES)),y=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:A,y}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),m=g=>wx(Sx(g,e.nByteLength));function v(g){const S=n>>al;return g>S}function x(g){return v(g)?o(-g):g}const k=(g,S,N)=>qg(g.slice(S,N));class E{constructor(S,N,I){this.r=S,this.s=N,this.recovery=I,this.assertValidity()}static fromCompact(S){const N=e.nByteLength;return S=tu("compactSignature",S,N*2),new E(k(S,0,N),k(S,N,2*N))}static fromDER(S){const{r:N,s:I}=sg.toSig(tu("DER",S));return new E(N,I)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new E(this.r,this.s,S)}recoverPublicKey(S){const{r:N,s:I,recovery:A}=this,y=j(tu("msgHash",S));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const C=A===2||A===3?N+e.n:N;if(C>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=A&1?"03":"02",L=l.fromHex($+m(C)),Q=c(C),U=o(-y*Q),J=o(I*Q),Z=l.BASE.multiplyAndAddUnsafe(L,U,J);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ax(this.toDERHex())}toDERHex(){return sg.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ax(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const P={isValidPrivateKey(g){try{return u(g),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=loe(e.n);return S$e(e.randomBytes(g),e.n)},precompute(g=8,S=l.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}};function _(g,S=!0){return l.fromPrivateKey(g).toRawBytes(S)}function M(g){const S=g instanceof Uint8Array,N=typeof g=="string",I=(S||N)&&g.length;return S?I===s||I===i:N?I===2*s||I===2*i:g instanceof l}function B(g,S,N=!0){if(M(g))throw new Error("first arg must be private key");if(!M(S))throw new Error("second arg must be public key");return l.fromHex(S).multiply(u(g)).toRawBytes(N)}const D=e.bits2int||function(g){const S=qg(g),N=g.length*8-e.nBitLength;return N>0?S>>BigInt(N):S},j=e.bits2int_modN||function(g){return o(D(g))},T=QB(e.nBitLength);function R(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(rh<=g&&g<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Sx(g,e.nByteLength)}function H(g,S,N=O){if(["recovered","canonical"].some(G=>G in N))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:A}=e;let{lowS:y,prehash:C,extraEntropy:$}=N;y==null&&(y=!0),g=tu("msgHash",g),C&&(g=tu("prehashed msgHash",I(g)));const L=j(g),Q=u(S),U=[R(Q),R(L)];if($!=null){const G=$===!0?A(r.BYTES):$;U.push(tu("extraEntropy",G))}const J=k6(...U),Z=L;function re(G){const z=D(G);if(!h(z))return;const se=c(z),ce=l.BASE.multiply(z).toAffine(),pe=o(ce.x);if(pe===rh)return;const Ce=o(se*o(Z+pe*Q));if(Ce===rh)return;let ke=(ce.x===pe?0:2)|Number(ce.y&al),tt=Ce;return y&&v(Ce)&&(tt=x(Ce),ke^=1),new E(pe,tt,ke)}return{seed:J,k2sig:re}}const O={lowS:e.lowS,prehash:!1},b={lowS:e.lowS,prehash:!1};function w(g,S,N=O){const{seed:I,k2sig:A}=H(g,S,N),y=e;return aoe(y.hash.outputLen,y.nByteLength,y.hmac)(I,A)}l.BASE._setWindowSize(8);function p(g,S,N,I=b){var ce;const A=g;if(S=tu("msgHash",S),N=tu("publicKey",N),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:y,prehash:C}=I;let $,L;try{if(typeof A=="string"||A instanceof Uint8Array)try{$=E.fromDER(A)}catch(pe){if(!(pe instanceof sg.Err))throw pe;$=E.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){const{r:pe,s:Ce}=A;$=new E(pe,Ce)}else throw new Error("PARSE");L=l.fromHex(N)}catch(pe){if(pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(y&&$.hasHighS())return!1;C&&(S=e.hash(S));const{r:Q,s:U}=$,J=j(S),Z=c(U),re=o(J*Z),G=o(Q*Z),z=(ce=l.BASE.multiplyAndAddUnsafe(L,re,G))==null?void 0:ce.toAffine();return z?o(z.x)===Q:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:B,sign:w,verify:p,ProjectivePoint:l,Signature:E,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j$e(t){return{hash:t,hmac:(e,...r)=>wk(t,e,ije(...r)),randomBytes:oje}}function $$e(t,e){const r=n=>T$e({...t,...j$e(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const doe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),M$e=BigInt(1),n$=BigInt(2),lW=(t,e)=>(t+e/n$)/e;function O$e(t){const e=doe,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Fc(u,r,e)*u%e,h=Fc(f,r,e)*u%e,m=Fc(h,n$,e)*l%e,v=Fc(m,s,e)*m%e,x=Fc(v,i,e)*v%e,k=Fc(x,o,e)*x%e,E=Fc(k,c,e)*k%e,P=Fc(E,o,e)*x%e,_=Fc(P,r,e)*u%e,M=Fc(_,a,e)*v%e,B=Fc(M,n,e)*l%e,D=Fc(B,n$,e);if(!s$.eql(s$.sqr(D),t))throw new Error("Cannot find square root");return D}const s$=A$e(doe,void 0,void 0,{sqrt:O$e}),I0=$$e({a:BigInt(0),b:BigInt(7),Fp:s$,n:cW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cW,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-M$e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=lW(i*t,e),c=lW(-n*t,e);let l=So(t-o*r-c*s,e),u=So(-o*n-c*i,e);const f=l>a,h=u>a;if(f&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},u2);BigInt(0);I0.ProjectivePoint;const I6="0x0000000000000000000000000000000000000000",uW="0x0000000000000000000000000000000000000000000000000000000000000000",q3t="",F$e=`Ethereum Signed Message:
`,dW=BigInt(0),fW=BigInt(1),i$=BigInt(2),hW=BigInt(27),pW=BigInt(28),V8=BigInt(35),foe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),B$e=foe/i$,R$e=Symbol.for("nodejs.util.inspect.custom"),Pm={};function OE(t){return Th(ds(t),32)}var mv,fd,gv,G0,Wa;let mc=(Wa=class{constructor(e,r,n,s){Ne(this,mv);Ne(this,fd);Ne(this,gv);Ne(this,G0);am(e,Pm,"Signature"),oe(this,mv,r),oe(this,fd,n),oe(this,gv,s),oe(this,G0,null)}get r(){return K(this,mv)}set r(e){he($y(e)===32,"invalid r","value",e),oe(this,mv,xt(e))}get s(){return he(parseInt(K(this,fd).substring(0,3))<8,"non-canonical s; use ._s","s",K(this,fd)),K(this,fd)}set s(e){he($y(e)===32,"invalid s","value",e),oe(this,fd,xt(e))}get _s(){return K(this,fd)}isValid(){return BigInt(K(this,fd))<=B$e}get v(){return K(this,gv)}set v(e){const r=lr(e,"value");he(r===27||r===28,"invalid v","v",e),oe(this,gv,r)}get networkV(){return K(this,G0)}get legacyChainId(){const e=this.networkV;return e==null?null:Wa.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=wt(this.s);return this.yParity&&(e[0]|=128),xt(e)}get compactSerialized(){return tn([this.r,this.yParityAndS])}get serialized(){return tn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=foe-BigInt(this._s),r=55-this.v,n=new Wa(Pm,this.r,OE(e),r);return this.networkV&&oe(n,G0,this.networkV),n}clone(){const e=new Wa(Pm,this.r,this._s,this.v);return this.networkV&&oe(e,G0,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[R$e](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=Lt(e,"v");return r==hW||r==pW?dW:(he(r>=V8,"invalid EIP-155 v","v",e),(r-V8)/i$)}static getChainIdV(e,r){return Lt(e)*i$+BigInt(35+r-27)}static getNormalizedV(e){const r=Lt(e);return r===dW||r===hW?27:r===fW||r===pW?28:(he(r>=V8,"invalid v","v",e),r&fW?27:28)}static from(e){function r(l,u){he(l,u,"signature",e)}if(e==null)return new Wa(Pm,uW,uW,27);if(typeof e=="string"){const l=wt(e,"signature");if(l.length===64){const u=xt(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new Wa(Pm,u,xt(f),h)}if(l.length===65){const u=xt(l.slice(0,32)),f=xt(l.slice(32,64)),h=Wa.getNormalizedV(l[64]);return new Wa(Pm,u,f,h)}r(!1,"invalid raw signature length")}if(e instanceof Wa)return e.clone();const n=e.r;r(n!=null,"missing r");const s=OE(n),i=function(l,u){if(l!=null)return OE(l);if(u!=null){r(Fn(u,32),"invalid yParityAndS");const f=wt(u);return f[0]&=127,xt(f)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(l,u,f){if(l!=null){const h=Lt(l);return{networkV:h>=V8?h:void 0,v:Wa.getNormalizedV(h)}}if(u!=null)return r(Fn(u,32),"invalid yParityAndS"),{v:wt(u)[0]&128?28:27};if(f!=null){switch(lr(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Wa(Pm,s,i,o);return a&&oe(c,G0,a),r(e.yParity==null||lr(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},mv=new WeakMap,fd=new WeakMap,gv=new WeakMap,G0=new WeakMap,Wa);var Xf;const Jm=class Jm{constructor(e){Ne(this,Xf);he($y(e)===32,"invalid private key","privateKey","[REDACTED]"),oe(this,Xf,xt(e))}get privateKey(){return K(this,Xf)}get publicKey(){return Jm.computePublicKey(K(this,Xf))}get compressedPublicKey(){return Jm.computePublicKey(K(this,Xf),!0)}sign(e){he($y(e)===32,"invalid digest length","digest",e);const r=I0.sign(Vi(e),Vi(K(this,Xf)),{lowS:!0});return mc.from({r:jh(r.r,32),s:jh(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Jm.computePublicKey(e);return xt(I0.getSharedSecret(Vi(K(this,Xf)),wt(r),!1))}static computePublicKey(e,r){let n=wt(e,"key");if(n.length===32){const i=I0.getPublicKey(n,!!r);return xt(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=I0.ProjectivePoint.fromHex(n);return xt(s.toRawBytes(r))}static recoverPublicKey(e,r){he($y(e)===32,"invalid digest length","digest",e);const n=mc.from(r);let s=I0.Signature.fromCompact(Vi(tn([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(Vi(e));return he(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=I0.ProjectivePoint.fromHex(Jm.computePublicKey(e).substring(2)),i=I0.ProjectivePoint.fromHex(Jm.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};Xf=new WeakMap;let vl=Jm;const D$e=BigInt(0),U$e=BigInt(36);function mW(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=wt(On(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const YB={};for(let t=0;t<10;t++)YB[String(t)]=String(t);for(let t=0;t<26;t++)YB[String.fromCharCode(65+t)]=String(10+t);const gW=15;function hoe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>YB[n]).join("");for(;e.length>=gW;){let n=e.substring(0,gW);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const z$e=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function L$e(t){t=t.toLowerCase();let e=D$e;for(let r=0;r<t.length;r++)e=e*U$e+z$e[t[r]];return e}function jr(t){if(he(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=mW(t);return he(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){he(t.substring(2,4)===hoe(t),"bad icap checksum","address",t);let e=L$e(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return mW("0x"+e)}he(!1,"invalid address","address",t)}function K3t(t){let e=BigInt(jr(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+hoe("XE00"+e)+e}function V$e(t){const e=jr(t.from);let n=Lt(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,jr(Tn(On(zd([e,n])),12))}function X3t(t,e,r){const n=jr(t),s=wt(e,"salt"),i=wt(r,"initCodeHash");return he(s.length===32,"salt must be 32 bytes","salt",e),he(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",r),jr(Tn(On(tn(["0xff",n,s,i])),12))}function poe(t){return t&&typeof t.getAddress=="function"}function Z3t(t){try{return jr(t),!0}catch{}return!1}async function FE(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(lt(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),he(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),jr(r)}function hi(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?jr(t):(lt(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),FE(t,e.resolveName(t)));if(poe(t))return FE(t,t.getAddress());if(t&&typeof t.then=="function")return FE(t,t);he(!1,"unsupported addressable value","target",t)}const Rf={};function Ht(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Ma(Rf,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function nn(t,e){return new Ma(Rf,`bytes${e||""}`,t,{size:e})}const bW=Symbol.for("_ethers_typed");var _g;const Df=class Df{constructor(e,r,n,s){ve(this,"type");ve(this,"value");Ne(this,_g);ve(this,"_typedSymbol");s==null&&(s=null),am(Rf,e,"Typed"),Jt(this,{_typedSymbol:bW,type:r,value:n}),oe(this,_g,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return K(this,_g)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return K(this,_g)===!0?-1:K(this,_g)===!1?this.value.length:null}static from(e,r){return new Df(Rf,e,r)}static uint8(e){return Ht(e,8)}static uint16(e){return Ht(e,16)}static uint24(e){return Ht(e,24)}static uint32(e){return Ht(e,32)}static uint40(e){return Ht(e,40)}static uint48(e){return Ht(e,48)}static uint56(e){return Ht(e,56)}static uint64(e){return Ht(e,64)}static uint72(e){return Ht(e,72)}static uint80(e){return Ht(e,80)}static uint88(e){return Ht(e,88)}static uint96(e){return Ht(e,96)}static uint104(e){return Ht(e,104)}static uint112(e){return Ht(e,112)}static uint120(e){return Ht(e,120)}static uint128(e){return Ht(e,128)}static uint136(e){return Ht(e,136)}static uint144(e){return Ht(e,144)}static uint152(e){return Ht(e,152)}static uint160(e){return Ht(e,160)}static uint168(e){return Ht(e,168)}static uint176(e){return Ht(e,176)}static uint184(e){return Ht(e,184)}static uint192(e){return Ht(e,192)}static uint200(e){return Ht(e,200)}static uint208(e){return Ht(e,208)}static uint216(e){return Ht(e,216)}static uint224(e){return Ht(e,224)}static uint232(e){return Ht(e,232)}static uint240(e){return Ht(e,240)}static uint248(e){return Ht(e,248)}static uint256(e){return Ht(e,256)}static uint(e){return Ht(e,256)}static int8(e){return Ht(e,-8)}static int16(e){return Ht(e,-16)}static int24(e){return Ht(e,-24)}static int32(e){return Ht(e,-32)}static int40(e){return Ht(e,-40)}static int48(e){return Ht(e,-48)}static int56(e){return Ht(e,-56)}static int64(e){return Ht(e,-64)}static int72(e){return Ht(e,-72)}static int80(e){return Ht(e,-80)}static int88(e){return Ht(e,-88)}static int96(e){return Ht(e,-96)}static int104(e){return Ht(e,-104)}static int112(e){return Ht(e,-112)}static int120(e){return Ht(e,-120)}static int128(e){return Ht(e,-128)}static int136(e){return Ht(e,-136)}static int144(e){return Ht(e,-144)}static int152(e){return Ht(e,-152)}static int160(e){return Ht(e,-160)}static int168(e){return Ht(e,-168)}static int176(e){return Ht(e,-176)}static int184(e){return Ht(e,-184)}static int192(e){return Ht(e,-192)}static int200(e){return Ht(e,-200)}static int208(e){return Ht(e,-208)}static int216(e){return Ht(e,-216)}static int224(e){return Ht(e,-224)}static int232(e){return Ht(e,-232)}static int240(e){return Ht(e,-240)}static int248(e){return Ht(e,-248)}static int256(e){return Ht(e,-256)}static int(e){return Ht(e,-256)}static bytes1(e){return nn(e,1)}static bytes2(e){return nn(e,2)}static bytes3(e){return nn(e,3)}static bytes4(e){return nn(e,4)}static bytes5(e){return nn(e,5)}static bytes6(e){return nn(e,6)}static bytes7(e){return nn(e,7)}static bytes8(e){return nn(e,8)}static bytes9(e){return nn(e,9)}static bytes10(e){return nn(e,10)}static bytes11(e){return nn(e,11)}static bytes12(e){return nn(e,12)}static bytes13(e){return nn(e,13)}static bytes14(e){return nn(e,14)}static bytes15(e){return nn(e,15)}static bytes16(e){return nn(e,16)}static bytes17(e){return nn(e,17)}static bytes18(e){return nn(e,18)}static bytes19(e){return nn(e,19)}static bytes20(e){return nn(e,20)}static bytes21(e){return nn(e,21)}static bytes22(e){return nn(e,22)}static bytes23(e){return nn(e,23)}static bytes24(e){return nn(e,24)}static bytes25(e){return nn(e,25)}static bytes26(e){return nn(e,26)}static bytes27(e){return nn(e,27)}static bytes28(e){return nn(e,28)}static bytes29(e){return nn(e,29)}static bytes30(e){return nn(e,30)}static bytes31(e){return nn(e,31)}static bytes32(e){return nn(e,32)}static address(e){return new Df(Rf,"address",e)}static bool(e){return new Df(Rf,"bool",!!e)}static bytes(e){return new Df(Rf,"bytes",e)}static string(e){return new Df(Rf,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Df(Rf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===bW}static dereference(e,r){if(Df.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};_g=new WeakMap;let Ma=Df;class H$e extends Lh{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Ma.dereference(r,"string");try{n=jr(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return jr(jh(e.readValue(),20))}}class W$e extends Lh{constructor(r){super(r.name,r.type,"_",r.dynamic);ve(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function moe(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return lt(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),lt(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else he(!1,"invalid tuple value","tuple",r);he(e.length===n.length,"types/value length mismatch","tuple",r);let s=new Qj,i=new Qj,a=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(s,u)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function goe(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),c=s.subReader(o);try{a=i.decode(c)}catch(l){if(Li(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(Li(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");r.push(a),n.push(i.localName||null)}),yx.fromItems(r,n)}class q$e extends Lh{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",i,s,a);ve(this,"coder");ve(this,"length");Jt(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=Ma.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),qie(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<s.length;o++)a.push(this.coder);return moe(r,a,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),lt(n*Za<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Za,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new W$e(this.coder));return goe(r,s)}}class K$e extends Lh{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Ma.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class boe extends Lh{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Vi(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class X$e extends boe{constructor(e){super("bytes",e)}decode(e){return xt(super.decode(e))}}class Z$e extends Lh{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);ve(this,"size");Jt(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=Vi(Ma.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return xt(r.readBytes(this.size))}}const J$e=new Uint8Array([]);class Q$e extends Lh{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(J$e)}decode(e){return e.readBytes(0),null}}const Y$e=BigInt(0),G$e=BigInt(1),eMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class tMe extends Lh{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);ve(this,"size");ve(this,"signed");Jt(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Lt(Ma.dereference(n,this.type)),i=ng(eMe,Za*8);if(this.signed){let a=ng(i,this.size*8-1);(s>a||s<-(a+G$e))&&this._throwError("value out-of-bounds",n),s=Jie(s,8*Za)}else(s<Y$e||s>ng(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=ng(r.readValue(),this.size*8);return this.signed&&(n=UA(n,this.size*8)),n}}class rMe extends boe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,$a(Ma.dereference(r,"string")))}decode(e){return LA(super.decode(e))}}class H8 extends Lh{constructor(r,n){let s=!1;const i=[];r.forEach(o=>{o.dynamic&&(s=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,n,s);ve(this,"coders");Jt(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[i]))}),Object.freeze(r)}encode(r,n){const s=Ma.dereference(n,"tuple");return moe(r,this.coders,s)}decode(r){return goe(r,this.coders)}}function BE(t,e){return{address:jr(t),storageKeys:e.map((r,n)=>(he(Fn(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function L1(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(he(r.length===2,"invalid slot set",`value[${n}]`,r),BE(r[0],r[1])):(he(r!=null&&typeof r=="object","invalid address-slot set","value",t),BE(r.address,r.storageKeys)));he(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return BE(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function yoe(t){return{address:jr(t.address),nonce:Lt(t.nonce!=null?t.nonce:0),chainId:Lt(t.chainId!=null?t.chainId:0),signature:mc.from(t.signature)}}function Q4(t){let e;return typeof t=="string"?e=vl.computePublicKey(t,!1):e=t.publicKey,jr(On("0x"+e.substring(4)).substring(26))}function Pk(t,e){return Q4(vl.recoverPublicKey(t,e))}const di=BigInt(0),nMe=BigInt(2),sMe=BigInt(27),iMe=BigInt(28),aMe=BigInt(35),oMe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cMe=Symbol.for("nodejs.util.inspect.custom"),RE=4096*32,n7=128;function lMe(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return wt(t.blobToKzgCommitment(xt(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return wt(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return wt(t.blobToKZGCommitment(xt(n)));he(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return wt(t.computeBlobProof(xt(n),xt(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return wt(t.computeBlobKZGProof(xt(n),xt(s)));he(!1,"unsupported KZG library","kzg",t)}}}function yW(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=ts(e).substring(4),"0x"+r}function p2(t){return t==="0x"?null:jr(t)}function kk(t,e){try{return L1(t)}catch(r){he(!1,r.message,e,t)}}function uMe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:p2(s[1]),nonce:wn(s[2],"nonce"),chainId:wn(s[0],"chainId"),signature:mc.from({yParity:V1(s[3],"yParity"),r:Th(s[4],32),s:Th(s[5],32)})})}return r}catch(r){he(!1,r.message,e,t)}}function V1(t,e){return t==="0x"?0:lr(t,e)}function wn(t,e){if(t==="0x")return di;const r=Lt(t,e);return he(r<=oMe,"value exceeds uint size",e,r),r}function qr(t,e){const r=Lt(t,"value"),n=ds(r);return he(n.length<=32,"value too large",`tx.${e}`,r),n}function Ik(t){return L1(t).map(e=>[e.address,e.storageKeys])}function dMe(t){return t.map(e=>[qr(e.chainId,"chainId"),e.address,qr(e.nonce,"nonce"),qr(e.signature.yParity,"yParity"),ds(e.signature.r),ds(e.signature._s)])}function fMe(t,e){he(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)he(Fn(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function hMe(t){const e=Z4(t);he(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:V1(e[0],"nonce"),gasPrice:wn(e[1],"gasPrice"),gasLimit:wn(e[2],"gasLimit"),to:p2(e[3]),value:wn(e[4],"value"),data:xt(e[5]),chainId:di};if(e.length===6)return r;const n=wn(e[6],"v"),s=wn(e[7],"r"),i=wn(e[8],"s");if(s===di&&i===di)r.chainId=n;else{let a=(n-aMe)/nMe;a<di&&(a=di),r.chainId=a,he(a!==di||n===sMe||n===iMe,"non-canonical legacy v","v",e[6]),r.signature=mc.from({r:Th(e[7],32),s:Th(e[8],32),v:n})}return r}function pMe(t,e){const r=[qr(t.nonce,"nonce"),qr(t.gasPrice||0,"gasPrice"),qr(t.gasLimit,"gasLimit"),t.to||"0x",qr(t.value,"value"),t.data];let n=di;if(t.chainId!=di)n=Lt(t.chainId,"tx.chainId"),he(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==di&&(r.push(ds(n)),r.push("0x"),r.push("0x")),zd(r);let s=BigInt(27+e.yParity);return n!==di?s=mc.getChainIdV(n,e.v):BigInt(e.v)!==s&&he(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(ds(s)),r.push(ds(e.r)),r.push(ds(e._s)),zd(r)}function Nk(t,e){let r;try{if(r=V1(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{he(!1,"invalid yParity","yParity",e[0])}const n=Th(e[1],32),s=Th(e[2],32),i=mc.from({r:n,s,yParity:r});t.signature=i}function mMe(t){const e=Z4(wt(t).slice(1));he(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",xt(t));const r={type:2,chainId:wn(e[0],"chainId"),nonce:V1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:p2(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:kk(e[8],"accessList")};return e.length===9||Nk(r,e.slice(9)),r}function gMe(t,e){const r=[qr(t.chainId,"chainId"),qr(t.nonce,"nonce"),qr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qr(t.maxFeePerGas||0,"maxFeePerGas"),qr(t.gasLimit,"gasLimit"),t.to||"0x",qr(t.value,"value"),t.data,Ik(t.accessList||[])];return e&&(r.push(qr(e.yParity,"yParity")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x02",zd(r)])}function bMe(t){const e=Z4(wt(t).slice(1));he(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",xt(t));const r={type:1,chainId:wn(e[0],"chainId"),nonce:V1(e[1],"nonce"),gasPrice:wn(e[2],"gasPrice"),gasLimit:wn(e[3],"gasLimit"),to:p2(e[4]),value:wn(e[5],"value"),data:xt(e[6]),accessList:kk(e[7],"accessList")};return e.length===8||Nk(r,e.slice(8)),r}function yMe(t,e){const r=[qr(t.chainId,"chainId"),qr(t.nonce,"nonce"),qr(t.gasPrice||0,"gasPrice"),qr(t.gasLimit,"gasLimit"),t.to||"0x",qr(t.value,"value"),t.data,Ik(t.accessList||[])];return e&&(r.push(qr(e.yParity,"recoveryParam")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x01",zd(r)])}function vMe(t){let e=Z4(wt(t).slice(1)),r="3",n=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],o=e[2],c=e[3];he(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),he(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),he(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),he(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:a[l],commitment:o[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=lr(e[1]);const a=e[2],o=e[3],c=e[4];he(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),he(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),he(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),he(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),he(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(a.length*n7===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<a.length;l++){const u=[];for(let f=0;f<n7;f++)u.push(c[l*n7+f]);s.push({data:a[l],commitment:o[l],proof:tn(u)})}e=e[0]}he(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",xt(t));const i={type:3,chainId:wn(e[0],"chainId"),nonce:V1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:p2(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:kk(e[8],"accessList"),maxFeePerBlobGas:wn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};s&&(i.blobs=s),he(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),he(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<i.blobVersionedHashes.length;a++)he(Fn(i.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||Nk(i,e.slice(11)),i}function xMe(t,e,r){const n=[qr(t.chainId,"chainId"),qr(t.nonce,"nonce"),qr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qr(t.maxFeePerGas||0,"maxFeePerGas"),qr(t.gasLimit,"gasLimit"),t.to||I6,qr(t.value,"value"),t.data,Ik(t.accessList||[]),qr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),fMe(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(qr(e.yParity,"yParity")),n.push(ds(e.r)),n.push(ds(e.s)),r)){if(t.blobWrapperVersion!=null){const s=ds(t.blobWrapperVersion),i=[];for(const{proof:a}of r){const o=wt(a),c=o.length/n7;for(let l=0;l<o.length;l+=c)i.push(o.subarray(l,l+c))}return tn(["0x03",zd([n,s,r.map(a=>a.data),r.map(a=>a.commitment),i])])}return tn(["0x03",zd([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return tn(["0x03",zd(n)])}function wMe(t){const e=Z4(wt(t).slice(1));he(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",xt(t));const r={type:4,chainId:wn(e[0],"chainId"),nonce:V1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:p2(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:kk(e[8],"accessList"),authorizationList:uMe(e[9],"authorizationList")};return e.length===10||Nk(r,e.slice(10)),r}function AMe(t,e){const r=[qr(t.chainId,"chainId"),qr(t.nonce,"nonce"),qr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qr(t.maxFeePerGas||0,"maxFeePerGas"),qr(t.gasLimit,"gasLimit"),t.to||"0x",qr(t.value,"value"),t.data,Ik(t.accessList||[]),dMe(t.authorizationList||[])];return e&&(r.push(qr(e.yParity,"yParity")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x04",zd(r)])}var au,bv,yv,vv,xv,wv,Av,Sv,Pv,kv,Iv,Nv,Cg,ep,hd,tp,Ev,_v,Cv,s7;const rd=class rd{constructor(){Ne(this,Cv);Ne(this,au);Ne(this,bv);Ne(this,yv);Ne(this,vv);Ne(this,xv);Ne(this,wv);Ne(this,Av);Ne(this,Sv);Ne(this,Pv);Ne(this,kv);Ne(this,Iv);Ne(this,Nv);Ne(this,Cg);Ne(this,ep);Ne(this,hd);Ne(this,tp);Ne(this,Ev);Ne(this,_v);oe(this,au,null),oe(this,bv,null),oe(this,vv,0),oe(this,xv,di),oe(this,wv,null),oe(this,Av,null),oe(this,Sv,null),oe(this,yv,"0x"),oe(this,Pv,di),oe(this,kv,di),oe(this,Iv,null),oe(this,Nv,null),oe(this,Cg,null),oe(this,ep,null),oe(this,hd,null),oe(this,tp,null),oe(this,Ev,null),oe(this,_v,null)}get type(){return K(this,au)}set type(e){switch(e){case null:oe(this,au,null);break;case 0:case"legacy":oe(this,au,0);break;case 1:case"berlin":case"eip-2930":oe(this,au,1);break;case 2:case"london":case"eip-1559":oe(this,au,2);break;case 3:case"cancun":case"eip-4844":oe(this,au,3);break;case 4:case"pectra":case"eip-7702":oe(this,au,4);break;default:he(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=K(this,bv);return e==null&&this.type===3?I6:e}set to(e){oe(this,bv,e==null?null:jr(e))}get nonce(){return K(this,vv)}set nonce(e){oe(this,vv,lr(e,"value"))}get gasLimit(){return K(this,xv)}set gasLimit(e){oe(this,xv,Lt(e))}get gasPrice(){const e=K(this,wv);return e==null&&(this.type===0||this.type===1)?di:e}set gasPrice(e){oe(this,wv,e==null?null:Lt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=K(this,Av);return e??(this.type===2||this.type===3?di:null)}set maxPriorityFeePerGas(e){oe(this,Av,e==null?null:Lt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=K(this,Sv);return e??(this.type===2||this.type===3?di:null)}set maxFeePerGas(e){oe(this,Sv,e==null?null:Lt(e,"maxFeePerGas"))}get data(){return K(this,yv)}set data(e){oe(this,yv,xt(e))}get value(){return K(this,Pv)}set value(e){oe(this,Pv,Lt(e,"value"))}get chainId(){return K(this,kv)}set chainId(e){oe(this,kv,Lt(e))}get signature(){return K(this,Iv)||null}set signature(e){oe(this,Iv,e==null?null:mc.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){const e=K(this,Nv)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){oe(this,Nv,e==null?null:L1(e))}get authorizationList(){const e=K(this,Ev)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){oe(this,Ev,e==null?null:e.map(r=>yoe(r)))}get maxFeePerBlobGas(){const e=K(this,Cg);return e==null&&this.type===3?di:e}set maxFeePerBlobGas(e){oe(this,Cg,e==null?null:Lt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=K(this,ep);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){he(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)he(Fn(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}oe(this,ep,e)}get blobs(){return K(this,tp)==null?null:K(this,tp).map(e=>Object.assign({},e))}set blobs(e){if(e==null){oe(this,tp,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(bk(i)){lt(K(this,hd),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=wt(i);if(he(a.length<=RE,"blob is too large",`blobs[${s}]`,i),a.length!==RE){const l=new Uint8Array(RE);l.set(a),a=l}const o=K(this,hd).blobToKzgCommitment(a),c=xt(K(this,hd).computeBlobKzgProof(a,o));r.push({data:xt(a),commitment:xt(o),proof:c}),n.push(yW(1,o))}else{const a=xt(i.data),o=xt(i.commitment),c=xt(i.proof);r.push({data:a,commitment:o,proof:c}),n.push(yW(1,o))}}oe(this,tp,r),oe(this,ep,n)}get kzg(){return K(this,hd)}set kzg(e){e==null?oe(this,hd,null):oe(this,hd,lMe(e))}get blobWrapperVersion(){return K(this,_v)}set blobWrapperVersion(e){oe(this,_v,e)}get hash(){return this.signature==null?null:On(Ye(this,Cv,s7).call(this,!0,!1))}get unsignedHash(){return On(this.unsignedSerialized)}get from(){return this.signature==null?null:Pk(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:vl.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Ye(this,Cv,s7).call(this,!0,!0)}get unsignedSerialized(){return Ye(this,Cv,s7).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=K(this,Cg)!=null||K(this,ep);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&lt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),lt(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),lt(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return rd.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[cMe](){return this.toString()}toString(){const e=[],r=s=>{let i=this[s];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${s}: ${i}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const n=this.authorizationList;if(n){const s=[];for(const i of n){const a=[];a.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&a.push(`nonce: ${i.nonce}`),i.chainId!=null&&a.push(`chainId: ${i.chainId}`),i.signature&&a.push(`signature: ${i.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new rd;if(typeof e=="string"){const n=wt(e);if(n[0]>=127)return rd.from(hMe(n));switch(n[0]){case 1:return rd.from(bMe(n));case 2:return rd.from(mMe(n));case 3:return rd.from(vMe(n));case 4:return rd.from(wMe(n))}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new rd;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=mc.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),he(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),he(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};au=new WeakMap,bv=new WeakMap,yv=new WeakMap,vv=new WeakMap,xv=new WeakMap,wv=new WeakMap,Av=new WeakMap,Sv=new WeakMap,Pv=new WeakMap,kv=new WeakMap,Iv=new WeakMap,Nv=new WeakMap,Cg=new WeakMap,ep=new WeakMap,hd=new WeakMap,tp=new WeakMap,Ev=new WeakMap,_v=new WeakMap,Cv=new WeakSet,s7=function(e,r){lt(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return pMe(this,n);case 1:return yMe(this,n);case 2:return gMe(this,n);case 3:return xMe(this,n,r?this.blobs:null);case 4:return AMe(this,n)}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let y1=rd;function voe(t){return he(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),On(tn(["0x05",zd([t.chainId!=null?ds(t.chainId):"0x",jr(t.address),t.nonce!=null?ds(t.nonce):"0x"])]))}function J3t(t,e){return Pk(voe(t),e)}function qp(t){return On($a(t))}var SMe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const vW=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),xW=4;function PMe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let B=1;B<n;B++)i.push(s+=r());let a=r(),o=e;e+=a;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,h=2**f,m=h>>>1,v=m>>1,x=h-1;let k=0;for(let B=0;B<f;B++)k=k<<1|u();let E=[],P=0,_=h;for(;;){let B=Math.floor(((k-P+1)*s-1)/_),D=0,j=n;for(;j-D>1;){let H=D+j>>>1;B<i[H]?j=H:D=H}if(D==0)break;E.push(D);let T=P+Math.floor(_*i[D]/s),R=P+Math.floor(_*i[D+1]/s)-1;for(;!((T^R)&m);)k=k<<1&x|u(),T=T<<1&x,R=R<<1&x|1;for(;T&~R&v;)k=k&m|k<<1&x>>>1|u(),T=T<<1^m,R=(R^m)<<1|m|1;P=T,_=1+R-T}let M=n-4;return E.map(B=>{switch(B-M){case 3:return M+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return M+256+(t[o++]<<8|t[o++]);case 1:return M+t[o++];default:return B-1}})}function kMe(t){let e=0;return()=>t[e++]}function xoe(t){return kMe(PMe(IMe(t)))}function IMe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}function NMe(t){return t&1?~t>>1:t>>1}function EMe(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=NMe(e());return r}function N6(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function woe(t){return E6(()=>{let e=N6(t);if(e.length)return e})}function Aoe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(_Me(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(CMe(r,t))}return e.flat()}function E6(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Soe(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)EMe(t,r).forEach((i,a)=>n[a].push(i));return n}function _Me(t,e){let r=1+e(),n=e(),s=E6(e);return Soe(s.length,1+t,e).flatMap((a,o)=>{let[c,...l]=a;return Array(s[o]).fill().map((u,f)=>{let h=f*n;return[c+f*r,l.map(m=>m+h)]})})}function CMe(t,e){let r=1+e();return Soe(r,1+t,e).map(s=>[s[0],s.slice(1)])}function TMe(t){let e=[],r=N6(t);return s(n([]),[]),e;function n(i){let a=t(),o=E6(()=>{let c=N6(t).map(l=>r[l]);if(c.length)return n(c)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,c){if(!(i&4&&c===o[o.length-1])){i&2&&(c=o[o.length-1]),i&1&&e.push(o);for(let l of a)for(let u of l.Q)s(l,[...o,u],c)}}}function jMe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Poe(t){return`{${jMe(t)}}`}function $Me(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Px(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function MMe(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var OMe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const _6=44032,HA=4352,WA=4449,qA=4519,koe=19,Ioe=21,kx=28,KA=Ioe*kx,FMe=koe*KA,BMe=_6+FMe,RMe=HA+koe,DMe=WA+Ioe,UMe=qA+kx;function Dw(t){return t>>24&255}function Noe(t){return t&16777215}let a$,wW,o$,i7;function zMe(){let t=xoe(OMe);a$=new Map(woe(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),wW=new Set(N6(t)),o$=new Map,i7=new Map;for(let[e,r]of Aoe(t)){if(!wW.has(e)&&r.length==2){let[n,s]=r,i=i7.get(n);i||(i=new Map,i7.set(n,i)),i.set(s,e)}o$.set(e,r.reverse())}}function Eoe(t){return t>=_6&&t<BMe}function LMe(t,e){if(t>=HA&&t<RMe&&e>=WA&&e<DMe)return _6+(t-HA)*KA+(e-WA)*kx;if(Eoe(t)&&e>qA&&e<UMe&&(t-_6)%kx==0)return t+(e-qA);{let r=i7.get(t);return r&&(r=r.get(e),r)?r:-1}}function _oe(t){a$||zMe();let e=[],r=[],n=!1;function s(i){let a=a$.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Eoe(i)){let a=i-_6,o=a/KA|0,c=a%KA/kx|0,l=a%kx;s(HA+o),s(WA+c),l>0&&s(qA+l)}else{let a=o$.get(i);a?r.push(...a):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Dw(e[0]);for(let a=1;a<e.length;a++){let o=Dw(e[a]);if(o==0||i<=o){i=o;continue}let c=a-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=Dw(e[--c]),i<=o))break}i=Dw(e[a])}}return e}function VMe(t){let e=[],r=[],n=-1,s=0;for(let i of t){let a=Dw(i),o=Noe(i);if(n==-1)a==0?n=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(n,...r),r.length=0,n=o):r.push(o),s=a;else{let c=LMe(n,o);c>=0?n=c:s==0&&a==0?(e.push(n),n=o):(r.push(o),s=a)}}return n>=0&&e.push(n,...r),e}function Coe(t){return _oe(t).map(Noe)}function HMe(t){return VMe(_oe(t))}const AW=45,Toe=".",joe=65039,$oe=1,XA=t=>Array.from(t);function C6(t,e){return t.P.has(e)||t.Q.has(e)}class WMe extends Array{get is_emoji(){return!0}}let c$,Moe,ig,l$,Ooe,Fy,DE,$b,Rm,SW,u$;function GB(){if(c$)return;let t=xoe(SMe);const e=()=>N6(t),r=()=>new Set(e()),n=(u,f)=>f.forEach(h=>u.add(h));c$=new Map(Aoe(t)),Moe=r(),ig=e(),l$=new Set(e().map(u=>ig[u])),ig=new Set(ig),Ooe=r(),r();let s=woe(t),i=t();const a=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};Fy=E6(u=>{let f=E6(t).map(h=>h+96);if(f.length){let h=u>=i;f[0]-=32,f=Px(f),h&&(f=`Restricted[${f}]`);let m=a(),v=a(),x=!t();return{N:f,P:m,Q:v,M:x,R:h}}}),DE=r(),$b=new Map;let o=e().concat(XA(DE)).sort((u,f)=>u-f);o.forEach((u,f)=>{let h=t(),m=o[f]=h?o[f-h]:{V:[],M:new Map};m.V.push(u),DE.has(u)||$b.set(u,m)});for(let{V:u,M:f}of new Set($b.values())){let h=[];for(let v of u){let x=Fy.filter(E=>C6(E,v)),k=h.find(({G:E})=>x.some(P=>E.has(P)));k||(k={G:new Set,V:[]},h.push(k)),k.V.push(v),n(k.G,x)}let m=h.flatMap(v=>XA(v.G));for(let{G:v,V:x}of h){let k=new Set(m.filter(E=>!v.has(E)));for(let E of x)f.set(E,k)}}Rm=new Set;let c=new Set;const l=u=>Rm.has(u)?c.add(u):Rm.add(u);for(let u of Fy){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Rm)!$b.has(u)&&!c.has(u)&&$b.set(u,$oe);n(Rm,Coe(Rm)),SW=TMe(t).map(u=>WMe.from(u)).sort(MMe),u$=new Map;for(let u of SW){let f=[u$];for(let h of u){let m=f.map(v=>{let x=v.get(h);return x||(x=new Map,v.set(h,x)),x});h===joe?f.push(...m):f=m}for(let h of f)h.V=u}}function eR(t){return(Foe(t)?"":`${tR(Ek([t]))} `)+Poe(t)}function tR(t){return`"${t}"`}function qMe(t){if(t.length>=4&&t[2]==AW&&t[3]==AW)throw new Error(`invalid label extension: "${Px(t.slice(0,4))}"`)}function KMe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function XMe(t){let e=t[0],r=vW.get(e);if(r)throw y3(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let a=vW.get(e);if(a){if(s==i)throw y3(`${r} + ${a}`);s=i+1,r=a}}if(s==n)throw y3(`trailing ${r}`)}function Ek(t,e=1/0,r=Poe){let n=[];ZMe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];Foe(o)&&(n.push(Px(t.slice(s,a))),n.push(r(o)),s=a+1)}return n.push(Px(t.slice(s,i))),n.join("")}function ZMe(t){return GB(),ig.has(t)}function Foe(t){return GB(),Ooe.has(t)}function JMe(t){return eOe(QMe(t,HMe,nOe))}function QMe(t,e,r){if(!t)return[];GB();let n=0;return t.split(Toe).map(s=>{let i=$Me(s),a={input:i,offset:n};n+=i.length+1;try{let o=a.tokens=rOe(i,e,r),c=o.length,l;if(!c)throw new Error("empty label");let u=a.output=o.flat();if(KMe(u),!(a.emoji=c>1||o[0].is_emoji)&&u.every(h=>h<128))qMe(u),l="ASCII";else{let h=o.flatMap(m=>m.is_emoji?[]:m);if(!h.length)l="Emoji";else{if(ig.has(u[0]))throw y3("leading combining mark");for(let x=1;x<c;x++){let k=o[x];if(!k.is_emoji&&ig.has(k[0]))throw y3(`emoji + combining mark: "${Px(o[x-1])} + ${Ek([k[0]])}"`)}XMe(u);let m=XA(new Set(h)),[v]=GMe(m);tOe(v,h),YMe(v,m),l=v.N}}a.type=l}catch(o){a.error=o}return a})}function YMe(t,e){let r,n=[];for(let s of e){let i=$b.get(s);if(i===$oe)return;if(i){let a=i.M.get(s);if(r=r?r.filter(o=>a.has(o)):XA(a),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>C6(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function GMe(t){let e=Fy;for(let r of t){let n=e.filter(s=>C6(s,r));if(!n.length)throw Fy.some(s=>C6(s,r))?Roe(e[0],r):Boe(r);if(e=n,n.length==1)break}return e}function eOe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${tR(Ek(e,63))}: ${s}`)}return Px(n)}).join(Toe)}function Boe(t){return new Error(`disallowed character: ${eR(t)}`)}function Roe(t,e){let r=eR(e),n=Fy.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function y3(t){return new Error(`illegal placement: ${t}`)}function tOe(t,e){for(let r of e)if(!C6(t,r))throw Roe(t,r);if(t.M){let r=Coe(e);for(let n=1,s=r.length;n<s;n++)if(l$.has(r[n])){let i=n+1;for(let a;i<s&&l$.has(a=r[i]);i++)for(let o=n;o<i;o++)if(r[o]==a)throw new Error(`duplicate non-spacing marks: ${eR(a)}`);if(i-n>xW)throw new Error(`excessive non-spacing marks: ${tR(Ek(r.slice(n-1,i)))} (${i-n}/${xW})`);n=i}}}function rOe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=sOe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let a=t.pop();if(Rm.has(a))s.push(a);else{let o=c$.get(a);if(o)s.push(...o);else if(!Moe.has(a))throw Boe(a)}}}return s.length&&n.push(e(s)),n}function nOe(t){return t.filter(e=>e!=joe)}function sOe(t,e){let r=u$,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Doe=new Uint8Array(32);Doe.fill(0);function PW(t){return he(t.length!==0,"invalid ENS name; empty component","comp",t),t}function rR(t){const e=$a(iOe(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(PW(e.slice(n,s))),n=s+1);return he(n<e.length,"invalid ENS name; empty component","name",t),r.push(PW(e.slice(n))),r}function iOe(t){try{if(t.length===0)throw new Error("empty label");return JMe(t)}catch(e){he(!1,`invalid ENS name (${e.message})`,"name",t)}}function Q3t(t){try{return rR(t).length!==0}catch{}return!1}function d$(t){he(typeof t=="string","invalid ENS name; not a string","name",t),he(t.length,"invalid ENS name (empty label)","name",t);let e=Doe;const r=rR(t);for(;r.length;)e=On(tn([e,On(r.pop())]));return xt(e)}function aOe(t,e){const r=e??63;return he(r<=255,"DNS encoded label cannot exceed 255","length",r),xt(tn(rR(t).map(n=>{he(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function Uoe(t){return typeof t=="string"&&(t=$a(t)),On(tn([$a(F$e),$a(String(t.length)),t]))}function Y3t(t,e){const r=Uoe(t);return Pk(r,e)}const zoe=new Uint8Array(32);zoe.fill(0);const oOe=BigInt(-1),Loe=BigInt(0),Voe=BigInt(1),cOe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lOe(t){const e=wt(t),r=e.length%32;return r?tn([e,zoe.slice(r)]):xt(e)}const uOe=jh(Voe,32),dOe=jh(Loe,32),kW={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},UE=["name","version","chainId","verifyingContract","salt"];function IW(t){return function(e){return he(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const fOe={name:IW("name"),version:IW("version"),chainId:function(t){const e=Lt(t,"domain.chainId");return he(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):hu(e)},verifyingContract:function(t){try{return jr(t).toLowerCase()}catch{}he(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=wt(t,"domain.salt");return he(e.length===32,'invalid domain value "salt"',"domain.salt",t),xt(e)}};function zE(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);he(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=ng(cOe,r?n-1:n),i=r?(s+Voe)*oOe:Loe;return function(a){const o=Lt(a,"value");return he(o>=i&&o<=s,`value out-of-bounds for ${t}`,"value",o),jh(r?Jie(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return he(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=wt(n);return he(s.length===r,`invalid length for ${t}`,"value",n),lOe(n)}}}switch(t){case"address":return function(e){return Th(jr(e),32)};case"bool":return function(e){return e?uOe:dOe};case"bytes":return function(e){return On(e)};case"string":return function(e){return qp(e)}}return null}function NW(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function W8(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var f4,Zf,Tv,tP,Hoe;const Jc=class Jc{constructor(e){Ne(this,tP);ve(this,"primaryType");Ne(this,f4);Ne(this,Zf);Ne(this,Tv);oe(this,Zf,new Map),oe(this,Tv,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:h}=W8(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),oe(this,f4,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){he(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const f=W8(u.type).base;he(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!zE(f)&&(he(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);he(a.length!==0,"missing primary type","types",e),he(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Jt(this,{primaryType:a[0]});function o(c,l){he(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of r.get(c))if(n.has(u)){o(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}o(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),K(this,Zf).set(c,NW(c,i[c])+u.map(f=>NW(f,i[f])).join(""))}}get types(){return JSON.parse(K(this,f4))}getEncoder(e){let r=K(this,Tv).get(e);return r||(r=Ye(this,tP,Hoe).call(this,e),K(this,Tv).set(e,r)),r}encodeType(e){const r=K(this,Zf).get(e);return he(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return On(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(zE(e))return n(e,r);const s=W8(e).array;if(s)return he(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,n));const i=this.types[e];if(i)return i.reduce((a,{name:o,type:c})=>(a[o]=this._visit(c,r[o],n),a),{});he(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Jc(e)}static getPrimaryType(e){return Jc.from(e).primaryType}static hashStruct(e,r,n){return Jc.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=kW[n];he(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>UE.indexOf(n.name)-UE.indexOf(s.name)),Jc.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return tn(["0x1901",Jc.hashDomain(e),Jc.from(r).hash(n)])}static hash(e,r,n){return On(Jc.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const i={};e.verifyingContract&&!Fn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Jc.from(r);a.visit(n,(o,c)=>(o==="address"&&!Fn(c,20)&&(i[c]="0x"),c));for(const o in i)i[o]=await s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(o,c)=>o==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Jc.hashDomain(e);const s={},i=[];UE.forEach(c=>{const l=e[c];l!=null&&(s[c]=fOe[c](l),i.push({name:c,type:kW[c]}))});const a=Jc.from(r);r=a.types;const o=Object.assign({},r);return he(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),o.EIP712Domain=i,a.encode(n),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return xt(wt(l));if(c.match(/^u?int/))return Lt(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return he(typeof l=="string","invalid string","value",l),l}he(!1,"unsupported type","type",c)})}}};f4=new WeakMap,Zf=new WeakMap,Tv=new WeakMap,tP=new WeakSet,Hoe=function(e){{const s=zE(e);if(s)return s}const r=W8(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return a=>{he(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let o=a.map(i);return K(this,Zf).has(s)&&(o=o.map(On)),On(tn(o))}}const n=this.types[e];if(n){const s=qp(K(this,Zf).get(e));return i=>{const a=n.map(({name:o,type:c})=>{const l=this.getEncoder(c)(i[o]);return K(this,Zf).has(c)?On(l):l});return a.unshift(s),tn(a)}}he(!1,`unknown type: ${e}`,"type",e)};let Kp=Jc;function G3t(t,e,r,n){return Pk(Kp.hash(t,e,r),n)}function Ja(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const hOe="external public payable override",pOe=Ja(hOe.split(" ")),Woe="constant external internal payable private public pure view override",mOe=Ja(Woe.split(" ")),qoe="constructor error event fallback function receive struct",Koe=Ja(qoe.split(" ")),Xoe="calldata memory storage payable indexed",gOe=Ja(Xoe.split(" ")),bOe="tuple returns",yOe=[qoe,Xoe,bOe,Woe].join(" "),vOe=Ja(yOe.split(" ")),xOe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},wOe=new RegExp("^(\\s*)"),AOe=new RegExp("^([0-9]+)"),SOe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Zoe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Joe=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Oi,ou,h4,f$;const rP=class rP{constructor(e){Ne(this,h4);Ne(this,Oi);Ne(this,ou);oe(this,Oi,0),oe(this,ou,e.slice())}get offset(){return K(this,Oi)}get length(){return K(this,ou).length-K(this,Oi)}clone(){return new rP(K(this,ou))}reset(){oe(this,Oi,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Ye(this,h4,f$).call(this,K(this,Oi)+1,e.match+1);return oe(this,Oi,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;K(this,Oi)<e.match-1;){const n=this.peek().linkNext;r.push(Ye(this,h4,f$).call(this,K(this,Oi)+1,n)),oe(this,Oi,n)}return oe(this,Oi,e.match+1),r}peek(){if(K(this,Oi)>=K(this,ou).length)throw new Error("out-of-bounds");return K(this,ou)[K(this,Oi)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Xh(this,Oi)._++,e}toString(){const e=[];for(let r=K(this,Oi);r<K(this,ou).length;r++){const n=K(this,ou)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Oi=new WeakMap,ou=new WeakMap,h4=new WeakSet,f$=function(e=0,r=0){return new rP(K(this,ou).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Tu=rP;function om(t){const e=[],r=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(wOe);o&&(i+=o[1].length,a=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=xOe[a[0]]||"";if(l){if(c.type=l,c.text=a[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=lr(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(o=a.match(SOe),o){if(c.text=o[1],i+=c.text.length,vOe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Joe)){c.type="TYPE";continue}c.type="ID";continue}if(o=a.match(AOe),o){c.text=o[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Tu(e.map(a=>Object.freeze(a)))}function EW(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function _k(t,e){if(e.peekKeyword(Koe)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Mh(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function Qoe(t){let e=Mh(t,mOe);return EW(e,Ja("constant payable nonpayable".split(" "))),EW(e,Ja("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ph(t,e){return t.popParams().map(r=>qi.from(r,e))}function Yoe(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Lt(t.pop().text);throw new Error("invalid gas")}return null}function v1(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const POe=new RegExp(/^(.*)\[([0-9]*)\]$/);function _W(t){const e=t.match(Joe);if(he(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);he(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);he(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const cs={},Uo=Symbol.for("_ethers_internal"),CW="_ParamTypeInternal",TW="_ErrorInternal",jW="_EventInternal",$W="_ConstructorInternal",MW="_FallbackInternal",OW="_FunctionInternal",FW="_StructInternal";var jv,a7;const Qc=class Qc{constructor(e,r,n,s,i,a,o,c){Ne(this,jv);ve(this,"name");ve(this,"type");ve(this,"baseType");ve(this,"indexed");ve(this,"components");ve(this,"arrayLength");ve(this,"arrayChildren");if(am(e,cs,"ParamType"),Object.defineProperty(this,Uo,{value:CW}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Jt(this,{name:r,type:n,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return Ye(this,jv,a7).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(Qc.isParamType(e))return e;if(typeof e=="string")try{return Qc.from(om(e),r)}catch{he(!1,"invalid param type","obj",e)}else if(e instanceof Tu){let o="",c="",l=null;Mh(e,Ja(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(x=>Qc.from(x)),o=`tuple(${l.map(x=>x.format()).join(",")})`):(o=_W(e.popType("TYPE")),c=o);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();u=new Qc(cs,"",o,c,null,l,f,u),f=x.value,o+=x.text,c="array",l=null}let h=null;if(Mh(e,gOe).has("indexed")){if(!r)throw new Error("");h=!0}const v=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Qc(cs,v,o,c,h,l,f,u)}const n=e.name;he(!n||typeof n=="string"&&n.match(Zoe),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(he(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(POe);if(a){const o=parseInt(a[2]||"-1"),c=Qc.from({type:a[1],components:e.components});return new Qc(cs,n||"",i,"array",s,null,o,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(l=>Qc.from(l)):null;return new Qc(cs,n||"",i,"tuple",s,o,null,null)}return i=_W(e.type),new Qc(cs,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Uo]===CW}};jv=new WeakSet,a7=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=r.slice();o.forEach((c,l)=>{var u;Ye(u=a,jv,a7).call(u,e,c,n,f=>{o[l]=f})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(r))o=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");o=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,l)=>{var u;Ye(u=a[l],jv,a7).call(u,e,c,n,f=>{o[l]=f})}),s(o);return}const i=n(this.type,r);i.then?e.push(async function(){s(await i)}()):s(i)};let qi=Qc;class x1{constructor(e,r,n){ve(this,"type");ve(this,"inputs");am(e,cs,"Fragment"),n=Object.freeze(n.slice()),Jt(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{x1.from(JSON.parse(e))}catch{}return x1.from(om(e))}if(e instanceof Tu)switch(e.peekKeyword(Koe)){case"constructor":return oh.from(e);case"error":return Io.from(e);case"event":return Pd.from(e);case"fallback":case"receive":return Lf.from(e);case"function":return kd.from(e);case"struct":return Kg.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return oh.from(e);case"error":return Io.from(e);case"event":return Pd.from(e);case"fallback":case"receive":return Lf.from(e);case"function":return kd.from(e);case"struct":return Kg.from(e)}lt(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}he(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return oh.isFragment(e)}static isError(e){return Io.isFragment(e)}static isEvent(e){return Pd.isFragment(e)}static isFunction(e){return kd.isFragment(e)}static isStruct(e){return Kg.isFragment(e)}}class Ck extends x1{constructor(r,n,s,i){super(r,n,i);ve(this,"name");he(typeof s=="string"&&s.match(Zoe),"invalid identifier","name",s),i=Object.freeze(i.slice()),Jt(this,{name:s})}}function T6(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Io extends Ck{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Uo,{value:TW})}get selector(){return qp(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+T6(e,this.inputs)),r.join(" ")}static from(e){if(Io.isFragment(e))return e;if(typeof e=="string")return Io.from(om(e));if(e instanceof Tu){const r=_k("error",e),n=ph(e);return v1(e),new Io(cs,r,n)}return new Io(cs,e.name,e.inputs?e.inputs.map(qi.from):[])}static isFragment(e){return e&&e[Uo]===TW}}class Pd extends Ck{constructor(r,n,s,i){super(r,"event",n,s);ve(this,"anonymous");Object.defineProperty(this,Uo,{value:jW}),Jt(this,{anonymous:i})}get topicHash(){return qp(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+T6(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>qi.from(i)),new Pd(cs,r,n,!1).topicHash}static from(r){if(Pd.isFragment(r))return r;if(typeof r=="string")try{return Pd.from(om(r))}catch{he(!1,"invalid event fragment","obj",r)}else if(r instanceof Tu){const n=_k("event",r),s=ph(r,!0),i=!!Mh(r,Ja(["anonymous"])).has("anonymous");return v1(r),new Pd(cs,n,s,i)}return new Pd(cs,r.name,r.inputs?r.inputs.map(n=>qi.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Uo]===jW}}class oh extends x1{constructor(r,n,s,i,a){super(r,n,s);ve(this,"payable");ve(this,"gas");Object.defineProperty(this,Uo,{value:$W}),Jt(this,{payable:i,gas:a})}format(r){if(lt(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${T6(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(oh.isFragment(r))return r;if(typeof r=="string")try{return oh.from(om(r))}catch{he(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Tu){Mh(r,Ja(["constructor"]));const n=ph(r),s=!!Mh(r,pOe).has("payable"),i=Yoe(r);return v1(r),new oh(cs,"constructor",n,s,i)}return new oh(cs,"constructor",r.inputs?r.inputs.map(qi.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Uo]===$W}}class Lf extends x1{constructor(r,n,s){super(r,"fallback",n);ve(this,"payable");Object.defineProperty(this,Uo,{value:MW}),Jt(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(Lf.isFragment(r))return r;if(typeof r=="string")try{return Lf.from(om(r))}catch{he(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Tu){const n=r.toString(),s=r.peekKeyword(Ja(["fallback","receive"]));if(he(s,"type must be fallback or receive","obj",n),r.popKeyword(Ja(["fallback","receive"]))==="receive"){const c=ph(r);return he(c.length===0,"receive cannot have arguments","obj.inputs",c),Mh(r,Ja(["payable"])),v1(r),new Lf(cs,[],!0)}let a=ph(r);a.length?he(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[qi.from("bytes")];const o=Qoe(r);if(he(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Mh(r,Ja(["returns"])).has("returns")){const c=ph(r);he(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return v1(r),new Lf(cs,a,o==="payable")}if(r.type==="receive")return new Lf(cs,[],!0);if(r.type==="fallback"){const n=[qi.from("bytes")],s=r.stateMutability==="payable";return new Lf(cs,n,s)}he(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Uo]===MW}}class kd extends Ck{constructor(r,n,s,i,a,o){super(r,"function",n,i);ve(this,"constant");ve(this,"outputs");ve(this,"stateMutability");ve(this,"payable");ve(this,"gas");Object.defineProperty(this,Uo,{value:OW}),a=Object.freeze(a.slice()),Jt(this,{constant:s==="view"||s==="pure",gas:o,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return qp(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+T6(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(T6(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>qi.from(i)),new kd(cs,r,"view",n,[],null).selector}static from(r){if(kd.isFragment(r))return r;if(typeof r=="string")try{return kd.from(om(r))}catch{he(!1,"invalid function fragment","obj",r)}else if(r instanceof Tu){const s=_k("function",r),i=ph(r),a=Qoe(r);let o=[];Mh(r,Ja(["returns"])).has("returns")&&(o=ph(r));const c=Yoe(r);return v1(r),new kd(cs,s,a,i,o,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new kd(cs,r.name,n,r.inputs?r.inputs.map(qi.from):[],r.outputs?r.outputs.map(qi.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Uo]===OW}}class Kg extends Ck{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Uo,{value:FW})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Kg.from(om(e))}catch{he(!1,"invalid struct fragment","obj",e)}else if(e instanceof Tu){const r=_k("struct",e),n=ph(e);return v1(e),new Kg(cs,r,n)}return new Kg(cs,e.name,e.inputs?e.inputs.map(qi.from):[])}static isFragment(e){return e&&e[Uo]===FW}}const Du=new Map;Du.set(0,"GENERIC_PANIC");Du.set(1,"ASSERT_FALSE");Du.set(17,"OVERFLOW");Du.set(18,"DIVIDE_BY_ZERO");Du.set(33,"ENUM_RANGE_ERROR");Du.set(34,"BAD_STORAGE_DATA");Du.set(49,"STACK_UNDERFLOW");Du.set(50,"ARRAY_RANGE_ERROR");Du.set(65,"OUT_OF_MEMORY");Du.set(81,"UNINITIALIZED_FUNCTION_CALL");const kOe=new RegExp(/^bytes([0-9]*)$/),IOe=new RegExp(/^(u?int)([0-9]*)$/);let LE=null,BW=1024;function NOe(t,e,r,n){let s="missing revert data",i=null;const a=null;let o=null;if(r){s="execution reverted";const l=wt(r);if(r=xt(r),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(xt(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(xt(l.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],l.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Du.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?jr(e.to):null,data:e.data||"0x"};return e.from&&(c.from=jr(e.from)),is(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:a,revert:o})}var rp,Mb;const nP=class nP{constructor(){Ne(this,rp)}getDefaultValue(e){const r=e.map(s=>Ye(this,rp,Mb).call(this,qi.from(s)));return new H8(r,"_").defaultValue()}encode(e,r){qie(r.length,e.length,"types/values length mismatch");const n=e.map(a=>Ye(this,rp,Mb).call(this,qi.from(a))),s=new H8(n,"_"),i=new Qj;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>Ye(this,rp,Mb).call(this,qi.from(a)));return new H8(s,"_").decode(new Yj(r,n,BW))}static _setDefaultMaxInflation(e){he(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),BW=e}static defaultAbiCoder(){return LE==null&&(LE=new nP),LE}static getBuiltinCallException(e,r,n){return NOe(e,r,n,nP.defaultAbiCoder())}};rp=new WeakSet,Mb=function(e){if(e.isArray())return new q$e(Ye(this,rp,Mb).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new H8(e.components.map(n=>Ye(this,rp,Mb).call(this,n)),e.name);switch(e.baseType){case"address":return new H$e(e.name);case"bool":return new K$e(e.name);case"string":return new rMe(e.name);case"bytes":return new X$e(e.name);case"":return new Q$e(e.name)}let r=e.type.match(IOe);if(r){let n=parseInt(r[2]||"256");return he(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new tMe(n/8,r[1]==="int",e.name)}if(r=e.type.match(kOe),r){let n=parseInt(r[1]);return he(n!==0&&n<=32,"invalid bytes length","param",e),new Z$e(n,e.name)}he(!1,"invalid type","type",e.type)};let j6=nP;class EOe{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"signature");ve(this,"topic");ve(this,"args");const s=e.name,i=e.format();Jt(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class _Oe{constructor(e,r,n,s){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");ve(this,"value");const i=e.name,a=e.format();Jt(this,{fragment:e,name:i,args:n,signature:a,selector:r,value:s})}}class COe{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");const s=e.name,i=e.format();Jt(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class RW{constructor(e){ve(this,"hash");ve(this,"_isIndexed");Jt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const DW={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},UW={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&DW[t.toString()]&&(e=DW[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var pd,md,gd,wa,Xd,o7,c7;const Qm=class Qm{constructor(e){Ne(this,Xd);ve(this,"fragments");ve(this,"deploy");ve(this,"fallback");ve(this,"receive");Ne(this,pd);Ne(this,md);Ne(this,gd);Ne(this,wa);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,oe(this,gd,new Map),oe(this,pd,new Map),oe(this,md,new Map);const n=[];for(const a of r)try{n.push(x1.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}Jt(this,{fragments:Object.freeze(n)});let s=null,i=!1;oe(this,wa,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Jt(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(he(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":c=K(this,gd);break;case"event":c=K(this,md);break;case"error":c=K(this,pd);break;default:return}const l=a.format();c.has(l)||c.set(l,a)}),this.deploy||Jt(this,{deploy:oh.from("constructor()")}),Jt(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return j6.defaultAbiCoder()}getFunctionName(e){const r=Ye(this,Xd,o7).call(this,e,null,!1);return he(r,"no matching function","key",e),r.name}hasFunction(e){return!!Ye(this,Xd,o7).call(this,e,null,!1)}getFunction(e,r){return Ye(this,Xd,o7).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(K(this,gd).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,gd).get(s),n)}}getEventName(e){const r=Ye(this,Xd,c7).call(this,e,null,!1);return he(r,"no matching event","key",e),r.name}hasEvent(e){return!!Ye(this,Xd,c7).call(this,e,null,!1)}getEvent(e,r){return Ye(this,Xd,c7).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(K(this,md).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,md).get(s),n)}}getError(e,r){if(Fn(e)){const s=e.toLowerCase();if(UW[s])return Io.from(UW[s].signature);for(const i of K(this,pd).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of K(this,pd))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?Io.from("error Error(string)"):e==="Panic"?Io.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");he(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Io.from(e).format(),e==="Error(string)")return Io.from("error Error(string)");if(e==="Panic(uint256)")return Io.from("error Panic(uint256)");const n=K(this,pd).get(e);return n||null}forEachError(e){const r=Array.from(K(this,pd).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,pd).get(s),n)}}_decodeParams(e,r){return K(this,wa).decode(e,r)}_encodeParams(e,r){return K(this,wa).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return he(Tn(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Tn(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return tn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return he(Tn(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Tn(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return tn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);he(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=Vi(r);if(s.length%32===0)try{return K(this,wa).decode(e.outputs,s)}catch{n="could not decode result data"}lt(!1,n,"BAD_DATA",{value:xt(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=wt(e,"data"),s=j6.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=xt(n.slice(0,4)),c=this.getError(o);if(c)try{const l=K(this,wa).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return xt(K(this,wa).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);he(i,"unknown event","eventFragment",e),e=i}lt(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?qp(a):i.type==="bytes"?On(xt(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=jh(a):i.type.match(/^bytes/)?a=TTe(a,32):i.type==="address"&&K(this,wa).encode(["address"],[a]),Th(xt(a),32));for(r.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){he(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?he(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(c=>s(o,c))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);he(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),he(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const c=r[o];if(a.indexed)if(a.type==="string")n.push(qp(c));else if(a.type==="bytes")n.push(On(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(K(this,wa).encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:K(this,wa).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const m=this.getEvent(e);he(m,"unknown event","eventFragment",e),e=m}if(n!=null&&!e.anonymous){const m=e.topicHash;he(Fn(n[0],32)&&n[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((m,v)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(s.push(qi.from({type:"bytes32",name:m.name})),a.push(!0)):(s.push(m),a.push(!1)):(i.push(m),a.push(!1))});const o=n!=null?K(this,wa).decode(s,tn(n)):null,c=K(this,wa).decode(i,r,!0),l=[],u=[];let f=0,h=0;return e.inputs.forEach((m,v)=>{let x=null;if(m.indexed)if(o==null)x=new RW(null);else if(a[v])x=new RW(o[h++]);else try{x=o[h++]}catch(k){x=k}else try{x=c[f++]}catch(k){x=k}l.push(x),u.push(m.name||null)}),yx.fromItems(l,u)}parseTransaction(e){const r=wt(e.data,"tx.data"),n=Lt(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(xt(r.slice(0,4)));if(!s)return null;const i=K(this,wa).decode(s.inputs,r.slice(4));return new _Oe(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new EOe(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=xt(e),n=this.getError(Tn(r,0,4));if(!n)return null;const s=K(this,wa).decode(n.inputs,Tn(r,4));return new COe(n,n.selector,s)}static from(e){return e instanceof Qm?e:typeof e=="string"?new Qm(JSON.parse(e)):typeof e.formatJson=="function"?new Qm(e.formatJson()):typeof e.format=="function"?new Qm(e.format("json")):new Qm(e)}};pd=new WeakMap,md=new WeakMap,gd=new WeakMap,wa=new WeakMap,Xd=new WeakSet,o7=function(e,r,n){if(Fn(e)){const i=e.toLowerCase();for(const a of K(this,gd).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of K(this,gd))a.split("(")[0]===e&&i.push(o);if(r){const a=r.length>0?r[r.length-1]:null;let o=r.length,c=!0;Ma.isTyped(a)&&a.type==="overrides"&&(c=!1,o--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==o&&(!c||u!==o-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let f=0;f<r.length;f++)if(Ma.isTyped(r[f])){if(f>=u.length){if(r[f].type==="overrides")continue;i.splice(l,1);break}if(r[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");he(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=K(this,gd).get(kd.from(e).format());return s||null},c7=function(e,r,n){if(Fn(e)){const i=e.toLowerCase();for(const a of K(this,md).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of K(this,md))a.split("(")[0]===e&&i.push(o);if(r){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<r.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let c=0;c<r.length;c++)if(Ma.isTyped(r[c])&&r[c].type!==o[c].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");he(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=K(this,md).get(Pd.from(e).format());return s||null};let h$=Qm;const Goe=BigInt(0);function By(t){return t??null}function _s(t){return t==null?null:t.toString()}class zW{constructor(e,r,n){ve(this,"gasPrice");ve(this,"maxFeePerGas");ve(this,"maxPriorityFeePerGas");Jt(this,{gasPrice:By(e),maxFeePerGas:By(r),maxPriorityFeePerGas:By(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:_s(e),maxFeePerGas:_s(r),maxPriorityFeePerGas:_s(n)}}}function $6(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=xt(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Lt(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=lr(t[s],`request.${s}`));return t.accessList&&(e.accessList=L1(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>bk(s)?xt(s):Object.assign({},s))),e}var Jf;class TOe{constructor(e,r){ve(this,"provider");ve(this,"number");ve(this,"hash");ve(this,"timestamp");ve(this,"parentHash");ve(this,"parentBeaconBlockRoot");ve(this,"nonce");ve(this,"difficulty");ve(this,"gasLimit");ve(this,"gasUsed");ve(this,"stateRoot");ve(this,"receiptsRoot");ve(this,"blobGasUsed");ve(this,"excessBlobGas");ve(this,"miner");ve(this,"prevRandao");ve(this,"extraData");ve(this,"baseFeePerGas");Ne(this,Jf);oe(this,Jf,e.transactions.map(n=>typeof n!="string"?new M6(n,r):n)),Jt(this,{provider:r,hash:By(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:By(e.prevRandao),extraData:e.extraData,baseFeePerGas:By(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return K(this,Jf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=K(this,Jf).slice();return e.length===0?[]:(lt(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:o,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:v,timestamp:x,transactions:k}=this;return{_type:"Block",baseFeePerGas:_s(e),difficulty:_s(r),extraData:n,gasLimit:_s(s),gasUsed:_s(i),blobGasUsed:_s(this.blobGasUsed),excessBlobGas:_s(this.excessBlobGas),hash:a,miner:o,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:x,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:v,transactions:k}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return K(this,Jf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=K(this,Jf)[e];else{const n=e.toLowerCase();for(const s of K(this,Jf))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;he(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return jOe(this)}}Jf=new WeakMap;class Y4{constructor(e,r){ve(this,"provider");ve(this,"transactionHash");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"removed");ve(this,"address");ve(this,"data");ve(this,"topics");ve(this,"index");ve(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Jt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return lt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return $Oe(this)}}var p4;class ece{constructor(e,r){ve(this,"provider");ve(this,"to");ve(this,"from");ve(this,"contractAddress");ve(this,"hash");ve(this,"index");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"logsBloom");ve(this,"gasUsed");ve(this,"blobGasUsed");ve(this,"cumulativeGasUsed");ve(this,"gasPrice");ve(this,"blobGasPrice");ve(this,"type");ve(this,"status");ve(this,"root");Ne(this,p4);oe(this,p4,Object.freeze(e.logs.map(s=>new Y4(s,r))));let n=Goe;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Jt(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return K(this,p4)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:_s(this.cumulativeGasUsed),from:r,gasPrice:_s(this.gasPrice),blobGasUsed:_s(this.blobGasUsed),blobGasPrice:_s(this.blobGasPrice),gasUsed:_s(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rce(this)}reorderedEvent(e){return lt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),tce(this,e)}}p4=new WeakMap;var np;const jU=class jU{constructor(e,r){ve(this,"provider");ve(this,"blockNumber");ve(this,"blockHash");ve(this,"index");ve(this,"hash");ve(this,"type");ve(this,"to");ve(this,"from");ve(this,"nonce");ve(this,"gasLimit");ve(this,"gasPrice");ve(this,"maxPriorityFeePerGas");ve(this,"maxFeePerGas");ve(this,"maxFeePerBlobGas");ve(this,"data");ve(this,"value");ve(this,"chainId");ve(this,"signature");ve(this,"accessList");ve(this,"blobVersionedHashes");ve(this,"authorizationList");Ne(this,np);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,oe(this,np,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:a,from:o,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:_s(this.chainId),data:l,from:o,gasLimit:_s(this.gasLimit),gasPrice:_s(this.gasPrice),hash:s,maxFeePerGas:_s(this.maxFeePerGas),maxPriorityFeePerGas:_s(this.maxPriorityFeePerGas),maxFeePerBlobGas:_s(this.maxFeePerBlobGas),nonce:c,signature:u,to:a,index:n,type:i,value:_s(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Ia({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=K(this,np),a=-1,o=i===-1;const c=async()=>{if(o)return null;const{blockNumber:h,nonce:m}=await Ia({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){i=h;return}if(o)return null;const v=await this.getTransaction();if(!(v&&v.blockNumber!=null))for(a===-1&&(a=i-3,a<K(this,np)&&(a=K(this,np)));a<=h;){if(o)return null;const x=await this.provider.getBlock(a,!0);if(x==null)return;for(const k of x)if(k===this.hash)return;for(let k=0;k<x.length;k++){const E=await x.getTransaction(k);if(E.from===this.from&&E.nonce===this.nonce){if(o)return null;const P=await this.provider.getTransactionReceipt(E.hash);if(P==null||h-P.blockNumber+1<n)return;let _="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?_="repriced":E.data==="0x"&&E.from===E.to&&E.value===Goe&&(_="cancelled"),lt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:E.replaceableTransaction(i),hash:E.hash,receipt:P})}}a++}},l=h=>{if(h==null||h.status!==0)return h;lt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((h,m)=>{const v=[],x=()=>{v.forEach(E=>E())};if(v.push(()=>{o=!0}),s>0){const E=setTimeout(()=>{x(),m(is("wait for transaction timeout","TIMEOUT"))},s);v.push(()=>{clearTimeout(E)})}const k=async E=>{if(await E.confirmations()>=n){x();try{h(l(E))}catch(P){m(P)}}};if(v.push(()=>{this.provider.off(this.hash,k)}),this.provider.on(this.hash,k),i>=0){const E=async()=>{try{await c()}catch(P){if(Li(P,"TRANSACTION_REPLACED")){x(),m(P);return}}o||this.provider.once("block",E)};v.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rce(this)}reorderedEvent(e){return lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),tce(this,e)}replaceableTransaction(e){he(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new jU(this,this.provider);return oe(r,np,e),r}};np=new WeakMap;let M6=jU;function jOe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function tce(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function rce(t){return{orphan:"drop-transaction",tx:t}}function $Oe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class nR extends Y4{constructor(r,n,s){super(r,r.provider);ve(this,"interface");ve(this,"fragment");ve(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);Jt(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class nce extends Y4{constructor(r,n){super(r,r.provider);ve(this,"error");Jt(this,{error:n})}}var $v;class MOe extends ece{constructor(r,n,s){super(s,n);Ne(this,$v);oe(this,$v,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?K(this,$v).getEvent(r.topics[0]):null;if(n)try{return new nR(r,K(this,$v),n)}catch(s){return new nce(r,s)}return r})}}$v=new WeakMap;var m4;class sR extends M6{constructor(r,n,s){super(s,n);Ne(this,m4);oe(this,m4,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new MOe(K(this,m4),this.provider,s)}}m4=new WeakMap;class sce extends Yie{constructor(r,n,s,i){super(r,n,s);ve(this,"log");Jt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class OOe extends sce{constructor(e,r,n,s,i){super(e,r,n,new nR(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Jt(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const LW=BigInt(0);function ice(t){return t&&typeof t.call=="function"}function ace(t){return t&&typeof t.estimateGas=="function"}function Tk(t){return t&&typeof t.resolveName=="function"}function oce(t){return t&&typeof t.sendTransaction=="function"}function cce(t){if(t!=null){if(Tk(t))return t;if(t.provider)return t.provider}}var g4;class FOe{constructor(e,r,n){Ne(this,g4);ve(this,"fragment");if(Jt(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=w1(e.runner,"resolveName"),i=Tk(s)?s:null;oe(this,g4,async function(){const a=await Promise.all(r.inputs.map((o,c)=>n[c]==null?null:o.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>hi(h,i))):hi(f,i):f)));return e.interface.encodeFilterTopics(r,a)}())}getTopicFilter(){return K(this,g4)}}g4=new WeakMap;function w1(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ag(t){return t==null?null:t.provider||null}async function lce(t,e){const r=Ma.dereference(t,"overrides");he(typeof r=="object","invalid overrides parameter","overrides",t);const n=$6(r);return he(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),he(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function BOe(t,e,r){const n=w1(t,"resolveName"),s=Tk(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(r[a],(o,c)=>(c=Ma.dereference(c,o),o==="address"?hi(c,s):c))))}function ROe(t){const e=async function(a){const o=await lce(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await hi(o.from,cce(t.runner)));const c=t.interface,l=Lt(o.value||LW,"overrides.value")===LW,u=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&he(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),he(c.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return he(f||l,"cannot send value to non-payable fallback","overrides.value",o.value),he(c.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data),o},r=async function(a){const o=w1(t.runner,"call");lt(ice(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await o.call(c)}catch(l){throw RB(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(a){const o=t.runner;lt(oce(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(a)),l=ag(t.runner);return new sR(t.interface,l,c)},s=async function(a){const o=w1(t.runner,"estimateGas");return lt(ace(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await n(a);return Jt(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function DOe(t,e){const r=function(...l){const u=t.interface.getFunction(e,l);return lt(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){const u=r(...l);let f={};if(u.inputs.length+1===l.length&&(f=await lce(l.pop()),f.from&&(f.from=await hi(f.from,cce(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await BOe(t.runner,u.inputs,l);return Object.assign({},f,await Ia({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await o(...l);return u.length===1?u[0]:u},i=async function(...l){const u=t.runner;lt(oce(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...l)),h=ag(t.runner);return new sR(t.interface,h,f)},a=async function(...l){const u=w1(t.runner,"estimateGas");return lt(ace(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},o=async function(...l){const u=w1(t.runner,"call");lt(ice(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...l);let h="0x";try{h=await u.call(f)}catch(v){throw RB(v)&&v.data?t.interface.makeError(v.data,f):v}const m=r(...l);return t.interface.decodeFunctionResult(m,h)},c=async(...l)=>r(...l).constant?await s(...l):await i(...l);return Jt(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return lt(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function UOe(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return lt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new FOe(t,r(...s),s)};return Jt(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return lt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const ZA=Symbol.for("_ethersInternal_contract"),uce=new WeakMap;function zOe(t,e){uce.set(t[ZA],e)}function Zo(t){return uce.get(t[ZA])}function LOe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function iR(t,e){let r,n=null;if(Array.isArray(e)){const i=function(a){if(Fn(a,32))return a;const o=t.interface.getEvent(a);return he(o,"unknown fragment","name",a),o.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?r=[null]:typeof e=="string"?Fn(e,32)?r=[e]:(n=t.interface.getEvent(e),he(n,"unknown fragment","event",e),r=[n.topicHash]):LOe(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):he(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function Uw(t,e){const{subs:r}=Zo(t);return r.get((await iR(t,e)).tag)||null}async function VW(t,e,r){const n=ag(t.runner);lt(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await iR(t,r),{addr:o,subs:c}=Zo(t);let l=c.get(i);if(!l){const f={address:o||t,topics:a},h=k=>{let E=s;if(E==null)try{E=t.interface.getEvent(k.topics[0])}catch{}if(E){const P=E,_=s?t.interface.decodeEventLog(s,k.data,k.topics):[];m$(t,r,_,M=>new OOe(t,M,r,P,k))}else m$(t,r,[],P=>new sce(t,P,r,k))};let m=[];l={tag:i,listeners:[],start:()=>{m.length||m.push(n.on(f,h))},stop:async()=>{if(m.length==0)return;let k=m;m=[],await Promise.all(k),n.off(f,h)}},c.set(i,l)}return l}let p$=Promise.resolve();async function VOe(t,e,r,n){await p$;const s=await Uw(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const c=Array.from(r);n&&c.push(n(o?null:a));try{a.call(t,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),Zo(t).subs.delete(s.tag)),i>0}async function m$(t,e,r,n){try{await p$}catch{}const s=VOe(t,e,r,n);return p$=s,await s}const q8=["then"];var BY;BY=ZA;const j3=class j3{constructor(e,r,n,s){ve(this,"target");ve(this,"interface");ve(this,"runner");ve(this,"filters");ve(this,BY);ve(this,"fallback");he(typeof e=="string"||poe(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=h$.from(r);Jt(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,ZA,{value:{}});let a,o=null,c=null;if(s){const f=ag(n);c=new sR(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Fn(e))o=e,a=Promise.resolve(e);else{const f=w1(n,"resolveName");if(!Tk(f))throw is("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw is("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Zo(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Zo(this).addr=f,f});zOe(this,{addrPromise:a,addr:o,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||q8.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(v){if(!Li(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(f,h)=>q8.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return Jt(this,{filters:u}),Jt(this,{fallback:i.receive||i.fallback?ROe(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||q8.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(v){if(!Li(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(f,h)=>typeof h=="symbol"||h in f||q8.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new j3(this.target,this.interface,e)}attach(e){return new j3(e,this.interface,this.runner)}async getAddress(){return await Zo(this).addrPromise}async getDeployedCode(){const e=ag(this.runner);lt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=ag(this.runner);return lt(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return Zo(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),DOe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),UOe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Zo(this),a=s||await i,{fragment:o,topics:c}=await iR(this,e),l={address:a,topics:c,fromBlock:r,toBlock:n},u=ag(this.runner);return lt(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new nR(f,this.interface,h)}catch(m){return new nce(f,m)}return new Y4(f,u)})}async on(e,r){const n=await VW(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await VW(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await m$(this,e,r,null)}async listenerCount(e){if(e){const s=await Uw(this,e);return s?s.listeners.length:0}const{subs:r}=Zo(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await Uw(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Zo(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await Uw(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Zo(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Uw(this,e);if(!r)return this;r.stop(),Zo(this).subs.delete(r.tag)}else{const{subs:r}=Zo(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends j3{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let g$=j3;function HOe(){return g$}class mh extends HOe(){}function VE(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):he(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class WOe{constructor(e){ve(this,"name");Jt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const dce=new RegExp("^(ipfs)://(.*)$","i"),HW=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),dce,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var sp,Tg,ip,Ob,sP,fce;const my=class my{constructor(e,r,n){Ne(this,ip);ve(this,"provider");ve(this,"address");ve(this,"name");Ne(this,sp);Ne(this,Tg);Jt(this,{provider:e,address:r,name:n}),oe(this,sp,null),oe(this,Tg,new mh(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return K(this,sp)==null&&oe(this,sp,(async()=>{try{return await K(this,Tg).supportsInterface("0x9061b923")}catch(e){if(Li(e,"CALL_EXCEPTION"))return!1;throw oe(this,sp,null),e}})()),await K(this,sp)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Ye(this,ip,Ob).call(this,"addr(bytes32)");return i==null||i===I6?null:i}catch(i){if(Li(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await Ye(this,ip,Ob).call(this,"addr(bytes32,uint)",[i]);if(Fn(a,20))return jr(a)}let r=null;for(const i of this.provider.plugins)if(i instanceof WOe&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await Ye(this,ip,Ob).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;lt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Ye(this,ip,Ob).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Ye(this,ip,Ob).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${Qie("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;lt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<HW.length;n++){const s=r.match(HW[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=VE(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new mh(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const x=await u.ownerOf(l);if(o!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(i==="erc1155"){const x=await u.balanceOf(o,l);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let f=await u[a](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",jh(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=VE(f)),e.push({type:"metadata-url",value:f});let h={};const m=await new $h(f).send();m.assertOk();try{h=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const E=m.body;return E&&e.push({type:"!metadata",value:xt(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let v=h.image;if(typeof v!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(dce)==null)return e.push({type:"!imageUrl-ipfs",value:v}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:v}),v=VE(v)}return e.push({type:"url",value:v}),{linkage:e,url:v}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return lt(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await Ye(s=my,sP,fce).call(s,e,n);if(i!=null){const a=new my(e,i,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};sp=new WeakMap,Tg=new WeakMap,ip=new WeakSet,Ob=async function(e,r){r=(r||[]).slice();const n=K(this,Tg).interface;r.unshift(d$(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),lt(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[aOe(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await K(this,Tg)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Li(i,"CALL_EXCEPTION"))throw i}return null},sP=new WeakSet,fce=async function(e,r){const n=await my.getEnsAddress(e);try{const i=await new mh(n,["function resolver(bytes32) view returns (address)"],e).resolver(d$(r),{enableCcipRead:!0});return i===I6?null:i}catch(s){throw s}return null},Ne(my,sP);let JA=my;const WW=BigInt(0);function Wr(t,e){return function(r){return r==null?e:t(r)}}function O6(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function G4(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const a of e[s])if(a in r){i=a;break}}try{const a=t[s](r[i]);a!==void 0&&(n[s]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";lt(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:r})}}return n}}function qOe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}he(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ix(t){return he(Fn(t,!0),"invalid data","value",t),t}function zi(t){return he(Fn(t,32),"invalid hash","value",t),t}const KOe=G4({address:jr,blockHash:zi,blockNumber:lr,data:Ix,index:lr,removed:Wr(qOe,!1),topics:O6(zi),transactionHash:zi,transactionIndex:lr},{index:["logIndex"]});function XOe(t){return KOe(t)}const ZOe=G4({hash:Wr(zi),parentHash:zi,parentBeaconBlockRoot:Wr(zi,null),number:lr,timestamp:lr,nonce:Wr(Ix),difficulty:Lt,gasLimit:Lt,gasUsed:Lt,stateRoot:Wr(zi,null),receiptsRoot:Wr(zi,null),blobGasUsed:Wr(Lt,null),excessBlobGas:Wr(Lt,null),miner:Wr(jr),prevRandao:Wr(zi,null),extraData:Ix,baseFeePerGas:Wr(Lt)},{prevRandao:["mixHash"]});function JOe(t){const e=ZOe(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:hce(r)),e}const QOe=G4({transactionIndex:lr,blockNumber:lr,transactionHash:zi,address:jr,topics:O6(zi),data:Ix,index:lr,blockHash:zi},{index:["logIndex"]});function YOe(t){return QOe(t)}const GOe=G4({to:Wr(jr,null),from:Wr(jr,null),contractAddress:Wr(jr,null),index:lr,root:Wr(xt),gasUsed:Lt,blobGasUsed:Wr(Lt,null),logsBloom:Wr(Ix),blockHash:zi,hash:zi,logs:O6(YOe),blockNumber:lr,cumulativeGasUsed:Lt,effectiveGasPrice:Wr(Lt),blobGasPrice:Wr(Lt,null),status:Wr(lr),type:Wr(lr,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function eFe(t){return GOe(t)}function hce(t){t.to&&Lt(t.to)===WW&&(t.to="0x0000000000000000000000000000000000000000");const e=G4({hash:zi,index:Wr(lr,void 0),type:r=>r==="0x"||r==null?0:lr(r),accessList:Wr(L1,null),blobVersionedHashes:Wr(O6(zi,!0),null),authorizationList:Wr(O6(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:jr(r.address),chainId:Lt(r.chainId),nonce:Lt(r.nonce),signature:mc.from(n)}},!1),null),blockHash:Wr(zi,null),blockNumber:Wr(lr,null),transactionIndex:Wr(lr,null),from:jr,gasPrice:Wr(Lt),maxPriorityFeePerGas:Wr(Lt),maxFeePerGas:Wr(Lt),maxFeePerBlobGas:Wr(Lt,null),gasLimit:Lt,to:Wr(jr,null),value:Lt,nonce:lr,data:Ix,creates:Wr(jr,null),chainId:Wr(Lt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=V$e(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=mc.from(t.signature):e.signature=mc.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Lt(e.blockHash)===WW&&(e.blockHash=null),e}const tFe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class m2{constructor(e){ve(this,"name");Jt(this,{name:e})}clone(){return new m2(this.name)}}class jk extends m2{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);ve(this,"effectiveBlock");ve(this,"txBase");ve(this,"txCreate");ve(this,"txDataZero");ve(this,"txDataNonzero");ve(this,"txAccessListStorageKey");ve(this,"txAccessListAddress");const s={effectiveBlock:r};function i(a,o){let c=(n||{})[a];c==null&&(c=o),he(typeof c=="number",`invalud value for ${a}`,"costs",n),s[a]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Jt(this,s)}clone(){return new jk(this.effectiveBlock,this)}}class $k extends m2{constructor(r,n){super("org.ethers.plugins.network.Ens");ve(this,"address");ve(this,"targetNetwork");Jt(this,{address:r||tFe,targetNetwork:n??1})}clone(){return new $k(this.address,this.targetNetwork)}}var jg;const $U=class $U extends m2{constructor(r){super("org.ethers.plugins.network.FeeData");Ne(this,jg);oe(this,jg,r)}get feeDataFunc(){return K(this,jg)}async getFeeData(r){return await K(this,jg).call(this,r)}clone(){return new $U(K(this,jg))}};jg=new WeakMap;let qW=$U;var b4,y4;class rFe extends m2{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ne(this,b4);Ne(this,y4);oe(this,b4,r),oe(this,y4,n)}get url(){return K(this,b4)}get processFunc(){return K(this,y4)}clone(){return this}}b4=new WeakMap,y4=new WeakMap;const HE=new Map;var Mv,Ov,ap;const gy=class gy{constructor(e,r){Ne(this,Mv);Ne(this,Ov);Ne(this,ap);oe(this,Mv,e),oe(this,Ov,Lt(r)),oe(this,ap,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return K(this,Mv)}set name(e){oe(this,Mv,e)}get chainId(){return K(this,Ov)}set chainId(e){oe(this,Ov,Lt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Lt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Lt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Lt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(K(this,ap).values())}attachPlugin(e){if(K(this,ap).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return K(this,ap).set(e.name,e.clone()),this}getPlugin(e){return K(this,ap).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new gy(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new jk;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=L1(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(nFe(),e==null)return gy.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=HE.get(e);if(r)return r();if(typeof e=="bigint")return new gy("unknown",e);he(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){he(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new gy(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new $k(e.ensAddress,e.ensNetwork)),r}he(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=HE.get(e);n&&he(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),HE.set(e,r)}};Mv=new WeakMap,Ov=new WeakMap,ap=new WeakMap;let _d=gy;function KW(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function XW(t){return new rFe(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const o=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:KW(o.maxFee,9),maxPriorityFeePerGas:KW(o.maxPriorityFee,9)}}catch(i){lt(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let ZW=!1;function nFe(){if(ZW)return;ZW=!0;function t(e,r,n){const s=function(){const i=new _d(e,r);return n.ensNetwork!=null&&i.attachPlugin(new $k(null,n.ensNetwork)),i.attachPlugin(new jk),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};_d.register(e,s),_d.register(r,s),n.altNames&&n.altNames.forEach(i=>{_d.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[XW("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[XW("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function b$(t){return JSON.parse(JSON.stringify(t))}var Qf,tl,op,bd,Fv,l7;class sFe{constructor(e){Ne(this,Fv);Ne(this,Qf);Ne(this,tl);Ne(this,op);Ne(this,bd);oe(this,Qf,e),oe(this,tl,null),oe(this,op,4e3),oe(this,bd,-2)}get pollingInterval(){return K(this,op)}set pollingInterval(e){oe(this,op,e)}start(){K(this,tl)||(oe(this,tl,K(this,Qf)._setTimeout(Ye(this,Fv,l7).bind(this),K(this,op))),Ye(this,Fv,l7).call(this))}stop(){K(this,tl)&&(K(this,Qf)._clearTimeout(K(this,tl)),oe(this,tl,null))}pause(e){this.stop(),e&&oe(this,bd,-2)}resume(){this.start()}}Qf=new WeakMap,tl=new WeakMap,op=new WeakMap,bd=new WeakMap,Fv=new WeakSet,l7=async function(){try{const e=await K(this,Qf).getBlockNumber();if(K(this,bd)===-2){oe(this,bd,e);return}if(e!==K(this,bd)){for(let r=K(this,bd)+1;r<=e;r++){if(K(this,tl)==null)return;await K(this,Qf).emit("block",r)}oe(this,bd,e)}}catch{}K(this,tl)!=null&&oe(this,tl,K(this,Qf)._setTimeout(Ye(this,Fv,l7).bind(this),K(this,op)))};var $g,Mg,cp;class aR{constructor(e){Ne(this,$g);Ne(this,Mg);Ne(this,cp);oe(this,$g,e),oe(this,cp,!1),oe(this,Mg,r=>{this._poll(r,K(this,$g))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){K(this,cp)||(oe(this,cp,!0),K(this,Mg).call(this,-2),K(this,$g).on("block",K(this,Mg)))}stop(){K(this,cp)&&(oe(this,cp,!1),K(this,$g).off("block",K(this,Mg)))}pause(e){this.stop()}resume(){this.start()}}$g=new WeakMap,Mg=new WeakMap,cp=new WeakMap;var Bv,Yf;class iFe extends aR{constructor(r,n){super(r);Ne(this,Bv);Ne(this,Yf);oe(this,Bv,n),oe(this,Yf,-2)}pause(r){r&&oe(this,Yf,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(K(this,Bv));s!=null&&(K(this,Yf)===-2?oe(this,Yf,s.number):s.number>K(this,Yf)&&(n.emit(K(this,Bv),s.number),oe(this,Yf,s.number)))}}Bv=new WeakMap,Yf=new WeakMap;var iP;class aFe extends aR{constructor(r,n){super(r);Ne(this,iP);oe(this,iP,b$(n))}async _poll(r,n){throw new Error("@TODO")}}iP=new WeakMap;var Rv;class oFe extends aR{constructor(r,n){super(r);Ne(this,Rv);oe(this,Rv,n)}async _poll(r,n){const s=await n.getTransactionReceipt(K(this,Rv));s&&n.emit(K(this,Rv),s)}}Rv=new WeakMap;var Gf,Dv,Uv,lp,rl,aP,pce;class oR{constructor(e,r){Ne(this,aP);Ne(this,Gf);Ne(this,Dv);Ne(this,Uv);Ne(this,lp);Ne(this,rl);oe(this,Gf,e),oe(this,Dv,b$(r)),oe(this,Uv,Ye(this,aP,pce).bind(this)),oe(this,lp,!1),oe(this,rl,-2)}start(){K(this,lp)||(oe(this,lp,!0),K(this,rl)===-2&&K(this,Gf).getBlockNumber().then(e=>{oe(this,rl,e)}),K(this,Gf).on("block",K(this,Uv)))}stop(){K(this,lp)&&(oe(this,lp,!1),K(this,Gf).off("block",K(this,Uv)))}pause(e){this.stop(),e&&oe(this,rl,-2)}resume(){this.start()}}Gf=new WeakMap,Dv=new WeakMap,Uv=new WeakMap,lp=new WeakMap,rl=new WeakMap,aP=new WeakSet,pce=async function(e){if(K(this,rl)===-2)return;const r=b$(K(this,Dv));r.fromBlock=K(this,rl)+1,r.toBlock=e;const n=await K(this,Gf).getLogs(r);if(n.length===0){K(this,rl)<e-60&&oe(this,rl,e-60);return}for(const s of n)K(this,Gf).emit(K(this,Dv),s),oe(this,rl,s.blockNumber)};const cFe=BigInt(2),lFe=10;function K8(t){return t&&typeof t.then=="function"}function u7(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class mce{constructor(e){ve(this,"name");Jt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function uFe(t){return JSON.parse(JSON.stringify(t))}function y$(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function WE(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Fn(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:u7("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:u7("orphan",r),filter:uFe(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?y$(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],a=o=>{Fn(o)?s.push(o):i.push((async()=>{s.push(await hi(o,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=y$(s.map(o=>o.toLowerCase()))}return{filter:n,tag:u7("event",n),type:"event"}}he(!1,"unknown ProviderEvent","event",t)}function qE(){return new Date().getTime()}const dFe={cacheTimeout:250,pollingInterval:4e3};var Aa,up,Sa,zv,tc,Og,dp,eh,v4,nl,Lv,Vv,Tr,Ko,v$,x$,zw,w$,Lw,d7;class fFe{constructor(e,r){Ne(this,Tr);Ne(this,Aa);Ne(this,up);Ne(this,Sa);Ne(this,zv);Ne(this,tc);Ne(this,Og);Ne(this,dp);Ne(this,eh);Ne(this,v4);Ne(this,nl);Ne(this,Lv);Ne(this,Vv);if(oe(this,Vv,Object.assign({},dFe,r||{})),e==="any")oe(this,Og,!0),oe(this,tc,null);else if(e){const n=_d.from(e);oe(this,Og,!1),oe(this,tc,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else oe(this,Og,!1),oe(this,tc,null);oe(this,eh,-1),oe(this,dp,new Map),oe(this,Aa,new Map),oe(this,up,new Map),oe(this,Sa,null),oe(this,zv,!1),oe(this,v4,1),oe(this,nl,new Map),oe(this,Lv,!1)}get pollingInterval(){return K(this,Vv).pollingInterval}get provider(){return this}get plugins(){return Array.from(K(this,up).values())}attachPlugin(e){if(K(this,up).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return K(this,up).set(e.name,e.connect(this)),this}getPlugin(e){return K(this,up).get(e)||null}get disableCcipRead(){return K(this,Lv)}set disableCcipRead(e){oe(this,Lv,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const c=n[o],l=c.replace("{sender}",s).replace("{data}",i),u=new $h(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:o,urls:n});let f="unknown error",h;try{h=await u.send()}catch(m){a.push(m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:m}});continue}try{const m=h.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:m}),m.data;m.message&&(f=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:m})}catch{}lt(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),a.push(f)}lt(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new TOe(JOe(e),this)}_wrapLog(e,r){return new Y4(XOe(e),this)}_wrapTransactionReceipt(e,r){return new ece(eFe(e),this)}_wrapTransactionResponse(e,r){return new M6(hce(e),this)}_detectNetwork(){lt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){lt(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=lr(await Ye(this,Tr,Ko).call(this,{method:"getBlockNumber"}),"%response");return K(this,eh)>=0&&oe(this,eh,e),e}_getAddress(e){return hi(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Fn(e))return Fn(e,32)?e:hu(e);if(typeof e=="bigint"&&(e=lr(e,"blockTag")),typeof e=="number")return e>=0?hu(e):K(this,eh)>=0?hu(K(this,eh)+e):this.getBlockNumber().then(r=>hu(r+e));he(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?y$(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),l&&(h.fromBlock=l),u&&(h.toBlock=u),n&&(h.blockHash=n),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),a,o]).then(c=>s(c[0],c[1],c[2])):s(i,a,o)}_getTransactionRequest(e){const r=$6(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=hi(r[s],this);K8(i)?n.push(async function(){r[s]=await i}()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);K8(s)?n.push(async function(){r.blockTag=await s}()):r.blockTag=s}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(K(this,tc)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw K(this,tc)===s&&oe(this,tc,null),i}})();return oe(this,tc,s),(await s).clone()}const e=K(this,tc),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(K(this,Og)?(this.emit("network",n,r),K(this,tc)===e&&oe(this,tc,Promise.resolve(n))):lt(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await Ia({_block:Ye(this,Tr,w$).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Ye(this,Tr,Ko).call(this,{method:"getGasPrice"});return Lt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Ye(this,Tr,Ko).call(this,{method:"getPriorityFee"});return Lt(u,"%response")}catch{}return null})()});let o=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=a??BigInt("1000000000"),o=l.baseFeePerGas*cFe+c),new zW(i,o,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new $h(n.url),i=await n.processFunc(r,this,s);return new zW(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return K8(r)&&(r=await r),Lt(await Ye(this,Tr,Ko).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Ia({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Ye(this,Tr,x$).call(this,Ye(this,Tr,v$).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Lt(await Ye(this,Tr,zw).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return lr(await Ye(this,Tr,zw).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return xt(await Ye(this,Tr,zw).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=Lt(r,"position");return xt(await Ye(this,Tr,zw).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await Ia({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=y1.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,w$).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await Ye(this,Tr,Ko).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Ia({network:this.getNetwork(),result:Ye(this,Tr,Ko).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:xt(r)}async getLogs(e){let r=this._getFilter(e);K8(r)&&(r=await r);const{network:n,params:s}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){lt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await JA.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=jr(e);const r=d$(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await JA.getEnsAddress(this),i=await new mh(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===I6)return null;const o=await new mh(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(o)!==e?null:o}catch(n){if(Li(n,"BAD_DATA")&&n.value==="0x"||Li(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let o=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),o&&(clearTimeout(o),o=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),a(is("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){lt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=K(this,nl).get(e);r&&(r.timer&&clearTimeout(r.timer),K(this,nl).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Xh(this,v4)._++,s=()=>{K(this,nl).delete(n),e()};if(this.paused)K(this,nl).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);K(this,nl).set(n,{timer:i,func:s,time:qE()})}return n}_forEachSubscriber(e){for(const r of K(this,Aa).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new mce(e.type);case"block":{const r=new sFe(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new iFe(this,e.type);case"event":return new oR(this,e.filter);case"transaction":return new oFe(this,e.hash);case"orphan":return new aFe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of K(this,Aa).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),K(this,Sa)!=null&&r.pause(K(this,Sa));break}}async on(e,r){const n=await Ye(this,Tr,d7).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,K(this,Sa)!=null&&n.subscriber.pause(K(this,Sa))),this}async once(e,r){const n=await Ye(this,Tr,d7).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,K(this,Sa)!=null&&n.subscriber.pause(K(this,Sa))),this}async emit(e,...r){const n=await Ye(this,Tr,Lw).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const o=new Yie(this,a?null:i,e);try{i.call(this,...r,o)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),K(this,Aa).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await Ye(this,Tr,Lw).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of K(this,Aa).values())r+=n.length;return r}async listeners(e){if(e){const n=await Ye(this,Tr,Lw).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of K(this,Aa).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await Ye(this,Tr,Lw).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),K(this,Aa).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await Ye(this,Tr,d7).call(this,e);n&&s.stop(),K(this,Aa).delete(r)}else for(const[r,{started:n,subscriber:s}]of K(this,Aa))n&&s.stop(),K(this,Aa).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return K(this,zv)}destroy(){this.removeAllListeners();for(const e of K(this,nl).keys())this._clearTimeout(e);oe(this,zv,!0)}get paused(){return K(this,Sa)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(oe(this,eh,-1),K(this,Sa)!=null){if(K(this,Sa)==!!e)return;lt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),oe(this,Sa,!!e);for(const r of K(this,nl).values())r.timer&&clearTimeout(r.timer),r.time=qE()-r.time}resume(){if(K(this,Sa)!=null){this._forEachSubscriber(e=>e.resume()),oe(this,Sa,null);for(const e of K(this,nl).values()){let r=e.time;r<0&&(r=0),e.time=qE(),setTimeout(e.func,r)}}}}Aa=new WeakMap,up=new WeakMap,Sa=new WeakMap,zv=new WeakMap,tc=new WeakMap,Og=new WeakMap,dp=new WeakMap,eh=new WeakMap,v4=new WeakMap,nl=new WeakMap,Lv=new WeakMap,Vv=new WeakMap,Tr=new WeakSet,Ko=async function(e){const r=K(this,Vv).cacheTimeout;if(r<0)return await this._perform(e);const n=u7(e.method,e);let s=K(this,dp).get(n);return s||(s=this._perform(e),K(this,dp).set(n,s),setTimeout(()=>{K(this,dp).get(n)===s&&K(this,dp).delete(n)},r)),await s},v$=async function(e,r,n){lt(n<lFe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=$6(e);try{return xt(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&RB(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Tn(i.data,0,4)==="0x556f1830"){const a=i.data,o=await hi(s.to,this);let c;try{c=bFe(Tn(i.data,4))}catch(f){lt(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}lt(c.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);lt(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:o,data:tn([c.selector,gFe([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await Ye(this,Tr,v$).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},x$=async function(e){const{value:r}=await Ia({network:this.getNetwork(),value:e});return r},zw=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await Ye(this,Tr,x$).call(this,Ye(this,Tr,Ko).call(this,Object.assign(e,{address:s,blockTag:i})))},w$=async function(e,r){if(Fn(e,32))return await Ye(this,Tr,Ko).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Ye(this,Tr,Ko).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},Lw=async function(e,r){let n=await WE(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await WE({orphan:"drop-log",log:r[0]},this)),K(this,Aa).get(n.tag)||null},d7=async function(e){const r=await WE(e,this),n=r.tag;let s=K(this,Aa).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},K(this,Aa).set(n,s)),s};function hFe(t,e){try{const r=A$(t,e);if(r)return LA(r)}catch{}return null}function A$(t,e){if(t==="0x")return null;try{const r=lr(Tn(t,e,e+32)),n=lr(Tn(t,r,r+32));return Tn(t,r+32,r+32+n)}catch{}return null}function JW(t){const e=ds(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function pFe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const mFe=new Uint8Array([]);function gFe(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(mFe),r+=32;for(let n=0;n<t.length;n++){const s=wt(t[n]);e[n]=JW(r),e.push(JW(s.length)),e.push(pFe(s)),r+=32+Math.ceil(s.length/32)*32}return tn(e)}const QW="0x0000000000000000000000000000000000000000000000000000000000000000";function bFe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};lt($y(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Tn(t,0,32);lt(Tn(r,0,12)===Tn(QW,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Tn(r,12);try{const n=[],s=lr(Tn(t,32,64)),i=lr(Tn(t,s,s+32)),a=Tn(t,s+32);for(let o=0;o<i;o++){const c=hFe(a,o*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{lt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=A$(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{lt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}lt(Tn(t,100,128)===Tn(QW,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Tn(t,96,100);try{const n=A$(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{lt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function km(t,e){if(t.provider)return t.provider;lt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function YW(t,e){let r=$6(e);if(r.to!=null&&(r.to=hi(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),hi(n,t)]).then(([s,i])=>(he(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await Ia(r)}class cR{constructor(e){ve(this,"provider");Jt(this,{provider:e||null})}async getNonce(e){return km(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await YW(this,e)}async populateTransaction(e){const r=km(this,"populateTransaction"),n=await YW(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=Lt(n.chainId);he(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?he(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&he(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();lt(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(lt(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):lt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Ia(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await km(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return km(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return km(this,"call").call(await this.populateCall(e))}async resolveName(e){return await km(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=km(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=y1.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){lt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Hv,f7;const MU=class MU extends cR{constructor(r,n){super(n);Ne(this,Hv);ve(this,"address");Jt(this,{address:r})}async getAddress(){return this.address}connect(r){return new MU(this.address,r)}async signTransaction(r){Ye(this,Hv,f7).call(this,"transactions","signTransaction")}async signMessage(r){Ye(this,Hv,f7).call(this,"messages","signMessage")}async signTypedData(r,n,s){Ye(this,Hv,f7).call(this,"typed-data","signTypedData")}};Hv=new WeakSet,f7=function(r,n){lt(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:n})};let S$=MU;function yFe(t){return JSON.parse(JSON.stringify(t))}var Ha,yd,Fg,fp,Bg,Wv,em,P$,k$;class gce{constructor(e){Ne(this,em);Ne(this,Ha);Ne(this,yd);Ne(this,Fg);Ne(this,fp);Ne(this,Bg);Ne(this,Wv);oe(this,Ha,e),oe(this,yd,null),oe(this,Fg,Ye(this,em,P$).bind(this)),oe(this,fp,!1),oe(this,Bg,null),oe(this,Wv,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){K(this,fp)||(oe(this,fp,!0),Ye(this,em,P$).call(this,-2))}stop(){K(this,fp)&&(oe(this,fp,!1),oe(this,Wv,!0),Ye(this,em,k$).call(this),K(this,Ha).off("block",K(this,Fg)))}pause(e){e&&Ye(this,em,k$).call(this),K(this,Ha).off("block",K(this,Fg))}resume(){this.start()}}Ha=new WeakMap,yd=new WeakMap,Fg=new WeakMap,fp=new WeakMap,Bg=new WeakMap,Wv=new WeakMap,em=new WeakSet,P$=async function(e){try{K(this,yd)==null&&oe(this,yd,this._subscribe(K(this,Ha)));let r=null;try{r=await K(this,yd)}catch(i){if(!Li(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){oe(this,yd,null),K(this,Ha)._recoverSubscriber(this,this._recover(K(this,Ha)));return}const n=await K(this,Ha).getNetwork();if(K(this,Bg)||oe(this,Bg,n),K(this,Bg).chainId!==n.chainId)throw new Error("chaid changed");if(K(this,Wv))return;const s=await K(this,Ha).send("eth_getFilterChanges",[r]);await this._emitResults(K(this,Ha),s)}catch(r){console.log("@TODO",r)}K(this,Ha).once("block",K(this,Fg))},k$=function(){const e=K(this,yd);e&&(oe(this,yd,null),e.then(r=>{K(this,Ha).destroyed||K(this,Ha).send("eth_uninstallFilter",[r])}))};var Rg;class vFe extends gce{constructor(r,n){super(r);Ne(this,Rg);oe(this,Rg,yFe(n))}_recover(r){return new oR(r,K(this,Rg))}async _subscribe(r){return await r.send("eth_newFilter",[K(this,Rg)])}async _emitResults(r,n){for(const s of n)r.emit(K(this,Rg),r._wrapLog(s,r._network))}}Rg=new WeakMap;class xFe extends gce{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const wFe="bigint,boolean,function,number,string,symbol".split(/,/g);function h7(t){if(t==null||wFe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(h7);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function AFe(t){return new Promise(e=>{setTimeout(e,t)})}function lb(t){return t&&t.toLowerCase()}function GW(t){return t&&typeof t.pollingInterval=="number"}const bce={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class KE extends cR{constructor(r,n){super(r);ve(this,"address");n=jr(n),Jt(this,{address:n})}connect(r){lt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=h7(r),s=[];if(n.from){const a=n.from;s.push((async()=>{const o=await hi(a,this.provider);he(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;s.push((async()=>{n.to=await hi(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,a)=>{const o=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(Li(u,"CANCELLED")||Li(u,"BAD_DATA")||Li(u,"NETWORK_ERROR")||Li(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,a(u);return}if(Li(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){a(u);return}this.provider.emit("error",is("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},o.pop()||4e3)};l()})}async signTransaction(r){const n=h7(r);if(n.from){const i=await hi(n.from,this.provider);he(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?$a(r):r;return await this.provider.send("personal_sign",[xt(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=h7(s),a=await Kp.resolveNames(r,n,i,async o=>{const c=await hi(o);return he(c!=null,"TypedData does not support null address","value",o),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Kp.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?$a(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),xt(n)])}}var Dg,qv,th,vd,cu,sl,Ao,x4,I$;class SFe extends fFe{constructor(r,n){super(r,n);Ne(this,x4);Ne(this,Dg);Ne(this,qv);Ne(this,th);Ne(this,vd);Ne(this,cu);Ne(this,sl);Ne(this,Ao);oe(this,qv,1),oe(this,Dg,Object.assign({},bce,n||{})),oe(this,th,[]),oe(this,vd,null),oe(this,sl,null),oe(this,Ao,null);{let i=null;const a=new Promise(o=>{i=o});oe(this,cu,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(he(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&oe(this,sl,_d.from(r))):s&&(he(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),oe(this,sl,s))}_getOption(r){return K(this,Dg)[r]}get _network(){return lt(K(this,sl),"network is not available yet","NETWORK_ERROR"),K(this,sl)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Lt(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(K(this,sl))return K(this,sl)}else return r;return K(this,Ao)?await K(this,Ao):this.ready?(oe(this,Ao,(async()=>{try{const n=_d.from(Lt(await this.send("eth_chainId",[])));return oe(this,Ao,null),n}catch(n){throw oe(this,Ao,null),n}})()),await K(this,Ao)):(oe(this,Ao,(async()=>{const n={id:Xh(this,qv)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],oe(this,Ao,null)}catch(i){throw oe(this,Ao,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return _d.from(Lt(s.result));throw this.getRpcError(n,s)})()),await K(this,Ao))}_start(){K(this,cu)==null||K(this,cu).resolve==null||(K(this,cu).resolve(),oe(this,cu,null),(async()=>{for(;K(this,sl)==null&&!this.destroyed;)try{oe(this,sl,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",is("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await AFe(1e3)}Ye(this,x4,I$).call(this)})())}async _waitUntilReady(){if(K(this,cu)!=null)return await K(this,cu).promise}_getSubscriber(r){return r.type==="pending"?new xFe(this):r.type==="event"?this._getOption("polling")?new oR(this,r.filter):new vFe(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new mce("orphan"):super._getSubscriber(r)}get ready(){return K(this,cu)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=hu(Lt(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=xt(r[s]))}),r.accessList&&(n.accessList=L1(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{const i=yoe(s);return{address:i.address,nonce:hu(i.nonce),chainId:hu(i.chainId),yParity:hu(i.signature.yParity),r:hu(i.signature.r),s:hu(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[lb(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[lb(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[lb(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[lb(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(lb):r.filter.address=lb(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return is("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return is("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=N$(i),l=j6.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return l.info={error:i,payload:r},l}const a=JSON.stringify(kFe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return is("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return is("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return is("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return is("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(a.match(/only replay-protected/i))return is("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?is("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):is("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=Xh(this,qv)._++,i=new Promise((a,o)=>{K(this,th).push({resolve:a,reject:o,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return Ye(this,x4,I$).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new KE(this,i[r])}const{accounts:s}=await Ia({network:this.getNetwork(),accounts:n});r=jr(r);for(const i of s)if(jr(i)===r)return new KE(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new KE(this,n))}destroy(){K(this,vd)&&(clearTimeout(K(this,vd)),oe(this,vd,null));for(const{payload:r,reject:n}of K(this,th))n(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));oe(this,th,[]),super.destroy()}}Dg=new WeakMap,qv=new WeakMap,th=new WeakMap,vd=new WeakMap,cu=new WeakMap,sl=new WeakMap,Ao=new WeakMap,x4=new WeakSet,I$=function(){if(K(this,vd))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");oe(this,vd,setTimeout(()=>{oe(this,vd,null);const n=K(this,th);for(oe(this,th,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==K(this,Dg).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(a=>a.payload)).length>K(this,Dg).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:c,payload:l}of s){if(this.destroyed){c(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=a.filter(f=>f.id===l.id)[0];if(u==null){const f=is("missing response for request","BAD_DATA",{value:a,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}o(u.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of s)o(a)}})()}},r))};var hp;class PFe extends SFe{constructor(r,n){super(r,n);Ne(this,hp);let s=this._getOption("pollingInterval");s==null&&(s=bce.pollingInterval),oe(this,hp,s)}_getSubscriber(r){const n=super._getSubscriber(r);return GW(n)&&(n.pollingInterval=K(this,hp)),n}get pollingInterval(){return K(this,hp)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");oe(this,hp,r),this._forEachSubscriber(n=>{GW(n)&&(n.pollingInterval=K(this,hp))})}}hp=new WeakMap;var Kv;class g2 extends PFe{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);Ne(this,Kv);typeof r=="string"?oe(this,Kv,new $h(r)):oe(this,Kv,r.clone())}_getConnection(){return K(this,Kv).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Kv=new WeakMap;function N$(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Fn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=N$(t[e]);if(r)return r}return null}if(typeof t=="string")try{return N$(JSON.parse(t))}catch{}return null}function E$(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)E$(t[r],e);if(typeof t=="string")try{return E$(JSON.parse(t),e)}catch{}}}function kFe(t){const e=[];return E$(t,e),e}var Xv;const OU=class OU extends cR{constructor(r,n){super(n);ve(this,"address");Ne(this,Xv);he(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),oe(this,Xv,r);const s=Q4(this.signingKey.publicKey);Jt(this,{address:s})}get signingKey(){return K(this,Xv)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new OU(K(this,Xv),r)}async signTransaction(r){r=$6(r);const{to:n,from:s}=await Ia({to:r.to?hi(r.to,this):void 0,from:r.from?hi(r.from,this):void 0});n!=null&&(r.to=n),s!=null&&(r.from=s),r.from!=null&&(he(jr(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const i=y1.from(r);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(Uoe(r)).serialized}authorizeSync(r){he(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const n=this.signingKey.sign(voe(r));return Object.assign({},{address:jr(r.address),nonce:Lt(r.nonce||0),chainId:Lt(r.chainId||0)},{signature:n})}async authorize(r){return r=Object.assign({},r,{address:await hi(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,n,s){const i=await Kp.resolveNames(r,n,s,async a=>{lt(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const o=await this.provider.resolveName(a);return lt(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),o});return this.signingKey.sign(Kp.hash(i.domain,n,i.value)).serialized}};Xv=new WeakMap;let _$=OU;const QA=" !#$%&'()*+,-./<=>?@[]^_`{|}~",IFe=/^[a-z]*$/i;function eq(t,e){let r=97;return t.reduce((n,s)=>(s===e?r++:s.match(IFe)?n.push(String.fromCharCode(r)+s):(r=97,n.push(s)),n),[])}function NFe(t,e){for(let s=QA.length-1;s>=0;s--)t=t.split(QA[s]).join(e.substring(2*s,2*s+2));const r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,a,o)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return eq(eq(r,";"),":")}function EFe(t){return he(t[0]==="0","unsupported auwl data","data",t),NFe(t.substring(1+2*QA.length),t.substring(1,1+2*QA.length))}class _Fe{constructor(e){ve(this,"locale");Jt(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Zv,w4,Ug,A4,C$;class CFe extends _Fe{constructor(r,n,s){super(r);Ne(this,A4);Ne(this,Zv);Ne(this,w4);Ne(this,Ug);oe(this,Zv,n),oe(this,w4,s),oe(this,Ug,null)}get _data(){return K(this,Zv)}_decodeWords(){return EFe(K(this,Zv))}getWord(r){const n=Ye(this,A4,C$).call(this);return he(r>=0&&r<n.length,`invalid word index: ${r}`,"index",r),n[r]}getWordIndex(r){return Ye(this,A4,C$).call(this).indexOf(r)}}Zv=new WeakMap,w4=new WeakMap,Ug=new WeakMap,A4=new WeakSet,C$=function(){if(K(this,Ug)==null){const r=this._decodeWords();if(qp(r.join(`
`)+`
`)!==K(this,w4))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);oe(this,Ug,r)}return K(this,Ug)};const TFe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",jFe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let XE=null;class A1 extends CFe{constructor(){super("en",TFe,jFe)}static wordlist(){return XE==null&&(XE=new A1),XE}}function yce(t){return(1<<t)-1<<8-t&255}function $Fe(t){return(1<<t)-1&255}function ZE(t,e){Kie("NFKD"),e==null&&(e=A1.wordlist());const r=e.split(t);he(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));he(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}const i=32*r.length/3,a=r.length/3,o=yce(a),c=wt(ts(n.slice(0,i/8)))[0]&o;return he(c===(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),xt(n.slice(0,i/8))}function JE(t,e){he(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=A1.wordlist());const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&$Fe(8-n)),n+=3);const s=t.length/4,i=parseInt(ts(t).substring(2,4),16)&yce(s);return r[r.length-1]<<=s,r[r.length-1]|=i>>8-s,e.join(r.map(a=>e.getWord(a)))}const QE={};class mn{constructor(e,r,n,s,i){ve(this,"phrase");ve(this,"password");ve(this,"wordlist");ve(this,"entropy");s==null&&(s=""),i==null&&(i=A1.wordlist()),am(e,QE,"Mnemonic"),Jt(this,{phrase:n,password:s,wordlist:i,entropy:r})}computeSeed(){const e=$a("mnemonic"+this.password,"NFKD");return z1($a(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){const s=ZE(e,n);return e=JE(wt(s),n),new mn(QE,s,e,r,n)}static fromEntropy(e,r,n){const s=wt(e,"entropy"),i=JE(s,n);return new mn(QE,xt(s),i,r,n)}static entropyToPhrase(e,r){const n=wt(e,"entropy");return JE(n,r)}static phraseToEntropy(e,r){return ZE(e,r)}static isValidMnemonic(e,r){try{return ZE(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Ci=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},YE=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},p7,qc,Qu;const MFe={16:10,24:12,32:14},OFe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Bc=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],X8=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],FFe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],BFe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],RFe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],DFe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],UFe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],zFe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],LFe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],VFe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],HFe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],WFe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],qFe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],KFe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function GE(t){const e=[];for(let r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}class lR{get key(){return Ci(this,p7,"f").slice()}constructor(e){if(p7.set(this,void 0),qc.set(this,void 0),Qu.set(this,void 0),!(this instanceof lR))throw Error("AES must be instanitated with `new`");YE(this,p7,new Uint8Array(e),"f");const r=MFe[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");YE(this,Qu,[],"f"),YE(this,qc,[],"f");for(let u=0;u<=r;u++)Ci(this,Qu,"f").push([0,0,0,0]),Ci(this,qc,"f").push([0,0,0,0]);const n=(r+1)*4,s=this.key.length/4,i=GE(this.key);let a;for(let u=0;u<s;u++)a=u>>2,Ci(this,Qu,"f")[a][u%4]=i[u],Ci(this,qc,"f")[r-a][u%4]=i[u];let o=0,c=s,l;for(;c<n;){if(l=i[s-1],i[0]^=Bc[l>>16&255]<<24^Bc[l>>8&255]<<16^Bc[l&255]<<8^Bc[l>>24&255]^OFe[o]<<24,o+=1,s!=8)for(let m=1;m<s;m++)i[m]^=i[m-1];else{for(let m=1;m<s/2;m++)i[m]^=i[m-1];l=i[s/2-1],i[s/2]^=Bc[l&255]^Bc[l>>8&255]<<8^Bc[l>>16&255]<<16^Bc[l>>24&255]<<24;for(let m=s/2+1;m<s;m++)i[m]^=i[m-1]}let u=0,f,h;for(;u<s&&c<n;)f=c>>2,h=c%4,Ci(this,Qu,"f")[f][h]=i[u],Ci(this,qc,"f")[r-f][h]=i[u++],c++}for(let u=1;u<r;u++)for(let f=0;f<4;f++)l=Ci(this,qc,"f")[u][f],Ci(this,qc,"f")[u][f]=HFe[l>>24&255]^WFe[l>>16&255]^qFe[l>>8&255]^KFe[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=Ci(this,Qu,"f").length-1,n=[0,0,0,0];let s=GE(e);for(let o=0;o<4;o++)s[o]^=Ci(this,Qu,"f")[0][o];for(let o=1;o<r;o++){for(let c=0;c<4;c++)n[c]=FFe[s[c]>>24&255]^BFe[s[(c+1)%4]>>16&255]^RFe[s[(c+2)%4]>>8&255]^DFe[s[(c+3)%4]&255]^Ci(this,Qu,"f")[o][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ci(this,Qu,"f")[r][o],i[4*o]=(Bc[s[o]>>24&255]^a>>24)&255,i[4*o+1]=(Bc[s[(o+1)%4]>>16&255]^a>>16)&255,i[4*o+2]=(Bc[s[(o+2)%4]>>8&255]^a>>8)&255,i[4*o+3]=(Bc[s[(o+3)%4]&255]^a)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=Ci(this,qc,"f").length-1,n=[0,0,0,0];let s=GE(e);for(let o=0;o<4;o++)s[o]^=Ci(this,qc,"f")[0][o];for(let o=1;o<r;o++){for(let c=0;c<4;c++)n[c]=UFe[s[c]>>24&255]^zFe[s[(c+3)%4]>>16&255]^LFe[s[(c+2)%4]>>8&255]^VFe[s[(c+1)%4]&255]^Ci(this,qc,"f")[o][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ci(this,qc,"f")[r][o],i[4*o]=(X8[s[o]>>24&255]^a>>24)&255,i[4*o+1]=(X8[s[(o+3)%4]>>16&255]^a>>16)&255,i[4*o+2]=(X8[s[(o+2)%4]>>8&255]^a>>8)&255,i[4*o+3]=(X8[s[(o+1)%4]&255]^a)&255;return i}}p7=new WeakMap,qc=new WeakMap,Qu=new WeakMap;class XFe{constructor(e,r,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new lR(r)},name:{enumerable:!0,value:e}})}}var ub=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Rc=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Vw,Dm,Kc;class Nx extends XFe{constructor(e,r){super("CTR",e,Nx),Vw.set(this,void 0),Dm.set(this,void 0),Kc.set(this,void 0),ub(this,Kc,new Uint8Array(16),"f"),Rc(this,Kc,"f").fill(0),ub(this,Vw,Rc(this,Kc,"f"),"f"),ub(this,Dm,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Rc(this,Kc,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Rc(this,Kc,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Rc(this,Kc,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Rc(this,Kc,"f")[e]===255)Rc(this,Kc,"f")[e]=0;else{Rc(this,Kc,"f")[e]++;break}}encrypt(e){var r,n;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)Rc(this,Dm,"f")===16&&(ub(this,Vw,this.aes.encrypt(Rc(this,Kc,"f")),"f"),ub(this,Dm,0,"f"),this.increment()),s[i]^=Rc(this,Vw,"f")[ub(this,Dm,(n=Rc(this,Dm,"f"),r=n++,n),"f"),r];return s}decrypt(e){return this.encrypt(e)}}Vw=new WeakMap,Dm=new WeakMap,Kc=new WeakMap;function ZFe(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),Vi(t)}function rw(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Mk(t){return typeof t=="string"?$a(t,"NFKC"):Vi(t)}function Hs(t,e){const r=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);he(r!=null,"invalid path","path",e);const n=r[1],s=r[3],i=r[4]==="!";let a=t;for(const o of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!o.match(/^[0-9]+$/))break;a=a[parseInt(o)]}else if(typeof a=="object"){let c=null;for(const l in a)if(l.toLowerCase()===o){c=a[l];break}a=c}else a=null;if(a==null)break}if(he(!i||a!=null,"missing required value","path",n),s&&a!=null){if(s==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(s==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(s==="data"&&typeof a=="string")return ZFe(a);if(s==="array"&&Array.isArray(a)||s===typeof a)return a;he(!1,`wrong type found for ${s} `,"path",n)}return a}const vce="m/44'/60'/0'/0/0";function e6t(t){try{const e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function JFe(t,e,r){if(Hs(t,"crypto.cipher:string")==="aes-128-ctr"){const s=Hs(t,"crypto.cipherparams.iv:data!"),i=new Nx(e,s);return xt(i.decrypt(r))}lt(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function YA(t,e){const r=wt(e),n=Hs(t,"crypto.ciphertext:data!"),s=xt(On(tn([r.slice(16,32),n]))).substring(2);he(s===Hs(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=JFe(t,r.slice(0,16),n),a=Q4(i);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),he(jr(l)===a,"keystore address/privateKey mismatch","address",t.address)}const o={address:a,privateKey:i};if(Hs(t,"x-ethers.version:string")==="0.1"){const l=r.slice(32,64),u=Hs(t,"x-ethers.mnemonicCiphertext:data!"),f=Hs(t,"x-ethers.mnemonicCounter:data!"),h=new Nx(l,f);o.mnemonic={path:Hs(t,"x-ethers.path:string")||vce,locale:Hs(t,"x-ethers.locale:string")||"en",entropy:xt(wt(h.decrypt(u)))}}return o}function xce(t){const e=Hs(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const r=Hs(t,"crypto.kdfparams.salt:data!"),n=Hs(t,"crypto.kdfparams.n:int!"),s=Hs(t,"crypto.kdfparams.r:int!"),i=Hs(t,"crypto.kdfparams.p:int!");he(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),he(s>0&&i>0,"invalid kdf","kdf",e);const a=Hs(t,"crypto.kdfparams.dklen:int!");return he(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:r,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const r=Hs(t,"crypto.kdfparams.salt:data!"),n=Hs(t,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();he(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=Hs(t,"crypto.kdfparams.c:int!"),a=Hs(t,"crypto.kdfparams.dklen:int!");return he(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:r,count:i,dkLen:a,algorithm:s}}}he(!1,"unsupported key-derivation function","kdf",e)}function t6t(t,e){const r=JSON.parse(t),n=Mk(e),s=xce(r);if(s.name==="pbkdf2"){const{salt:f,count:h,dkLen:m,algorithm:v}=s,x=z1(n,f,h,m,v);return YA(r,x)}lt(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:a,r:o,p:c,dkLen:l}=s,u=h2(n,i,a,o,c,l);return YA(r,u)}function tq(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function r6t(t,e,r){const n=JSON.parse(t),s=Mk(e),i=xce(n);if(i.name==="pbkdf2"){r&&(r(0),await tq(0));const{salt:h,count:m,dkLen:v,algorithm:x}=i,k=z1(s,h,m,v,x);return r&&(r(1),await tq(0)),YA(n,k)}lt(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:o,r:c,p:l,dkLen:u}=i,f=await f2(s,a,o,c,l,u,r);return YA(n,f)}function wce(t){const e=t.salt!=null?wt(t.salt,"options.salt"):Hi(32);let r=1<<17,n=8,s=1;return t.scrypt&&(t.scrypt.N&&(r=t.scrypt.N),t.scrypt.r&&(n=t.scrypt.r),t.scrypt.p&&(s=t.scrypt.p)),he(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),he(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),he(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:n,p:s}}function Ace(t,e,r,n){const s=wt(r.privateKey,"privateKey"),i=n.iv!=null?wt(n.iv,"options.iv"):Hi(16);he(i.length===16,"invalid options.iv length","options.iv",n.iv);const a=n.uuid!=null?wt(n.uuid,"options.uuid"):Hi(16);he(a.length===16,"invalid options.uuid length","options.uuid",n.iv);const o=t.slice(0,16),c=t.slice(16,32),l=new Nx(o,i),u=wt(l.encrypt(s)),f=On(tn([c,u])),h={address:r.address.substring(2).toLowerCase(),id:eje(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:xt(i).substring(2)},ciphertext:xt(u).substring(2),kdf:"scrypt",kdfparams:{salt:xt(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(r.mnemonic){const m=n.client!=null?n.client:`ethers/${Wie}`,v=r.mnemonic.path||vce,x=r.mnemonic.locale||"en",k=t.slice(32,64),E=wt(r.mnemonic.entropy,"account.mnemonic.entropy"),P=Hi(16),_=new Nx(k,P),M=wt(_.encrypt(E)),B=new Date,j="UTC--"+(B.getUTCFullYear()+"-"+rw(B.getUTCMonth()+1,2)+"-"+rw(B.getUTCDate(),2)+"T"+rw(B.getUTCHours(),2)+"-"+rw(B.getUTCMinutes(),2)+"-"+rw(B.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:m,gethFilename:j,path:v,locale:x,mnemonicCounter:xt(P).substring(2),mnemonicCiphertext:xt(M).substring(2),version:"0.1"}}return JSON.stringify(h)}function QFe(t,e,r){r==null&&(r={});const n=Mk(e),s=wce(r),i=h2(n,s.salt,s.N,s.r,s.p,64);return Ace(wt(i),s,t,r)}async function YFe(t,e,r){r==null&&(r={});const n=Mk(e),s=wce(r),i=await f2(n,s.salt,s.N,s.r,s.p,64,r.progressCallback);return Ace(wt(i),s,t,r)}const e_="m/44'/60'/0'/0/0",GFe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ld=2147483648,eBe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tBe="0123456789abcdef";function GA(t,e){let r="";for(;t;)r=tBe[t%16]+r,t=Math.trunc(t/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function T$(t){const e=wt(t),r=Tn(ts(ts(e)),0,4),n=tn([e,r]);return Qie(n)}const ad={};function Sce(t,e,r,n){const s=new Uint8Array(37);t&Ld?(lt(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(wt(n),1)):s.set(wt(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=t>>24-a&255;const i=wt(d2("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function Pce(t,e){const r=e.split("/");he(r.length>0,"invalid path","path",e),r[0]==="m"&&(he(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),r.shift());let n=t;for(let s=0;s<r.length;s++){const i=r[s];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));he(a<Ld,"invalid path index",`path[${s}]`,i),n=n.deriveChild(Ld+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);he(a<Ld,"invalid path index",`path[${s}]`,i),n=n.deriveChild(a)}else he(!1,"invalid path component",`path[${s}]`,i)}return n}var S4,j$,zg,Hw;const Yl=class Yl extends _${constructor(r,n,s,i,a,o,c,l,u){super(n,u);Ne(this,S4);ve(this,"publicKey");ve(this,"fingerprint");ve(this,"parentFingerprint");ve(this,"mnemonic");ve(this,"chainCode");ve(this,"path");ve(this,"index");ve(this,"depth");am(r,ad,"HDNodeWallet"),Jt(this,{publicKey:n.compressedPublicKey});const f=Tn(cf(ts(this.publicKey)),0,4);Jt(this,{parentFingerprint:s,fingerprint:f,chainCode:i,path:a,index:o,depth:c}),Jt(this,{mnemonic:l})}connect(r){return new Yl(ad,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,n){return await YFe(Ye(this,S4,j$).call(this),r,{progressCallback:n})}encryptSync(r){return QFe(Ye(this,S4,j$).call(this),r)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),T$(tn(["0x0488ADE4",GA(this.depth,1),this.parentFingerprint,GA(this.index,4),this.chainCode,tn(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new F6(ad,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const n=lr(r,"index");he(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Ld),n&Ld&&(s+="'"));const{IR:i,IL:a}=Sce(n,this.chainCode,this.publicKey,this.privateKey),o=new vl(jh((X4(a)+BigInt(this.privateKey))%eBe,32));return new Yl(ad,o,this.fingerprint,xt(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return Pce(this,r)}static fromExtendedKey(r){const n=ds(OTe(r));he(n.length===82||T$(n.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=n[4],i=xt(n.slice(5,9)),a=parseInt(xt(n.slice(9,13)).substring(2),16),o=xt(n.slice(13,45)),c=n.slice(45,78);switch(xt(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const l=xt(c);return new F6(ad,Q4(l),l,i,o,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Yl(ad,new vl(c.slice(1)),i,o,null,a,s,null,null)}he(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,n,s){var a;r==null&&(r=""),n==null&&(n=e_),s==null&&(s=A1.wordlist());const i=mn.fromEntropy(Hi(16),r,s);return Ye(a=Yl,zg,Hw).call(a,i.computeSeed(),i).derivePath(n)}static fromMnemonic(r,n){var s;return n||(n=e_),Ye(s=Yl,zg,Hw).call(s,r.computeSeed(),r).derivePath(n)}static fromPhrase(r,n,s,i){var o;n==null&&(n=""),s==null&&(s=e_),i==null&&(i=A1.wordlist());const a=mn.fromPhrase(r,n,i);return Ye(o=Yl,zg,Hw).call(o,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var n;return Ye(n=Yl,zg,Hw).call(n,r,null)}};S4=new WeakSet,j$=function(){const r={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),r},zg=new WeakSet,Hw=function(r,n){he(bk(r),"invalid seed","seed","[REDACTED]");const s=wt(r,"seed");he(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=wt(d2("sha512",GFe,s)),a=new vl(xt(i.slice(0,32)));return new Yl(ad,a,"0x00000000",xt(i.slice(32)),"m",0,0,n,null)},Ne(Yl,zg);let Qa=Yl;class F6 extends S${constructor(r,n,s,i,a,o,c,l,u){super(n,u);ve(this,"publicKey");ve(this,"fingerprint");ve(this,"parentFingerprint");ve(this,"chainCode");ve(this,"path");ve(this,"index");ve(this,"depth");am(r,ad,"HDNodeVoidWallet"),Jt(this,{publicKey:s});const f=Tn(cf(ts(s)),0,4);Jt(this,{publicKey:s,fingerprint:f,parentFingerprint:i,chainCode:a,path:o,index:c,depth:l})}connect(r){return new F6(ad,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),T$(tn(["0x0488B21E",GA(this.depth,1),this.parentFingerprint,GA(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const n=lr(r,"index");he(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Ld),n&Ld&&(s+="'"));const{IR:i,IL:a}=Sce(n,this.chainCode,this.publicKey,null),o=vl.addPoints(a,this.publicKey,!0),c=Q4(o);return new F6(ad,c,o,this.fingerprint,xt(i),s,n,this.depth+1,this.provider)}derivePath(r){return Pce(this,r)}}function n6t(t){const e=lr(t,"index");return he(e>=0&&e<Ld,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function s6t(t){const e=lr(t,"index");return he(e>=0&&e<Ld,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}const rBe="modulepreload",nBe=function(t){return"/"+t},rq={},Km=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=nBe(c),c in rq)return;rq[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":rBe,l||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};class sBe{constructor(){this.port=null,this.reader=null,this.writer=null,this.connected=!1,this.readBuffer="",this.responseResolver=null,this.responseTimeout=null,this.currentPin=null,this.cachedSeed=null}isWebSerialSupported(){return typeof navigator<"u"&&"serial"in navigator}async connect(){if(!this.isWebSerialSupported())throw new Error("WebSerial is not supported in this browser. Please use Chrome or Edge.");await this.disconnect();try{return this.port=await navigator.serial.requestPort(),await this.port.open({baudRate:115200}),this.port.readable&&this.port.writable?(this.reader=this.port.readable.getReader(),this.writer=this.port.writable.getWriter(),this.connected=!0,this.startReading(),await this.delay(500),!0):!1}catch(e){throw e.name==="NotFoundError"?new Error("No device selected. Please try again."):e}}delay(e){return new Promise(r=>setTimeout(r,e))}async disconnect(){if(this.connected=!1,this.currentPin=null,this.cachedSeed=null,this.reader){try{await this.reader.cancel(),this.reader.releaseLock()}catch{}this.reader=null}if(this.writer){try{this.writer.releaseLock()}catch{}this.writer=null}if(this.port){try{await this.port.close()}catch{}this.port=null}}isConnected(){return this.connected}async startReading(){const e=new TextDecoder;for(;this.connected&&this.reader;)try{const{value:r,done:n}=await this.reader.read();if(n)break;this.readBuffer+=e.decode(r);let s;for(;(s=this.readBuffer.indexOf(`
`))!==-1;){const i=this.readBuffer.slice(0,s).trim();if(this.readBuffer=this.readBuffer.slice(s+1),i&&i.startsWith("{")&&this.responseResolver)try{const a=JSON.parse(i);this.responseTimeout&&(clearTimeout(this.responseTimeout),this.responseTimeout=null),this.responseResolver(a),this.responseResolver=null}catch{}}}catch(r){this.connected&&console.error("Read error:",r);break}}async sendCommand(e,r){if(!this.writer||!this.connected)throw new Error("Not connected to Pico wallet");const n=JSON.stringify({action:e,...r})+`\r
`,s=new TextEncoder;return await this.writer.write(s.encode(n)),new Promise((i,a)=>{this.responseResolver=i,this.responseTimeout=setTimeout(()=>{this.responseResolver=null,a(new Error("Command timed out"))},1e4)})}async ping(){try{return(await this.sendCommand("ping")).pong===!0}catch{return!1}}async getStatus(){try{const e=await this.sendCommand("status");return{initialized:e.has_wallet===!0,locked:e.unlocked!==!0,has_seed:e.has_wallet===!0,device_name:"Pico Hardware Wallet"}}catch{return null}}async setupWallet(e,r){const n=await this.sendCommand("setup",{pin:e,seed:r});if(n.error)throw new Error(n.error);return n.success?(this.currentPin=e,this.cachedSeed=r,!0):!1}async unlock(e){const r=await this.sendCommand("unlock",{pin:e});if(r.error)throw new Error(r.error);if(r.success){if(this.currentPin=e,!this.cachedSeed){const n=await this.sendCommand("get_seed",{pin:e});n.seed&&(this.cachedSeed=n.seed)}return!0}return!1}async lock(){const e=await this.sendCommand("lock");return this.cachedSeed=null,e.success===!0}getSeedPhrase(){return this.cachedSeed}async getAddress(e=1){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Km(async()=>{const{ethers:i}=await import("./index-Bh3luCUR.js");return{ethers:i}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed);return r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0").address}async getAddresses(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Km(async()=>{const{ethers:a}=await import("./index-Bh3luCUR.js");return{ethers:a}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed),s="m/44'/60'/0'/0/0",i=r.HDNodeWallet.fromMnemonic(n,s);return e.map(a=>({chainId:a,address:i.address,path:s}))}async signTransaction(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Km(async()=>{const{ethers:o}=await import("./index-Bh3luCUR.js");return{ethers:o}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed),s=r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0"),i={to:e.to,value:r.parseEther(e.value),data:e.data||"0x",nonce:e.nonce,gasLimit:BigInt(e.gasLimit),chainId:e.chainId};return e.maxFeePerGas&&e.maxPriorityFeePerGas?(i.maxFeePerGas=BigInt(e.maxFeePerGas),i.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)):e.gasPrice&&(i.gasPrice=BigInt(e.gasPrice)),await s.signTransaction(i)}async signMessage(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Km(async()=>{const{ethers:i}=await import("./index-Bh3luCUR.js");return{ethers:i}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed);return await r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0").signMessage(e)}async initWallet(e){var s;if(!this.currentPin)throw new Error("PIN not set. Please unlock first.");let r=e;if(!r){const{ethers:i}=await Km(async()=>{const{ethers:o}=await import("./index-Bh3luCUR.js");return{ethers:o}},[]);r=(s=i.Wallet.createRandom().mnemonic)==null?void 0:s.phrase}if(!r)throw new Error("Failed to generate mnemonic");return await this.setupWallet(this.currentPin,r)?{mnemonic:r}:null}async wipe(){if(!this.currentPin)throw new Error("PIN required to reset wallet");return(await this.sendCommand("reset",{pin:this.currentPin})).success?(this.cachedSeed=null,!0):!1}async factoryReset(){try{return(await this.sendCommand("factory_reset")).success?(this.cachedSeed=null,this.currentPin=null,!0):!1}catch{return!1}}async saveChains(e){var r,n;if(!this.currentPin)throw new Error("Wallet must be unlocked to save chains");try{const s=await this.sendCommand("save_chains",{pin:this.currentPin,chains:JSON.stringify(e)});return s.error==="unsupported_command"?(console.log("[PiWallet] Device does not support chain storage - using fallback"),!1):s.success===!0}catch(s){if((r=s.message)!=null&&r.includes("unsupported")||(n=s.message)!=null&&n.includes("unknown"))return console.log("[PiWallet] Device does not support chain storage - using fallback"),!1;throw s}}async getChains(){var e,r,n;if(!this.currentPin)throw new Error("Wallet must be unlocked to get chains");try{const s=await this.sendCommand("get_chains",{pin:this.currentPin});return s.error==="unsupported_command"?(console.log("[PiWallet] Device does not support chain storage - using fallback"),null):s.chains?typeof s.chains=="string"?JSON.parse(s.chains):s.chains:[]}catch(s){if((e=s.message)!=null&&e.includes("unsupported")||(r=s.message)!=null&&r.includes("unknown")||(n=s.message)!=null&&n.includes("timed out"))return console.log("[PiWallet] Device does not support chain storage or command timed out - using fallback"),null;throw s}}supportsChainStorage(){return!0}}const ai=new sBe,iBe=Object.freeze(Object.defineProperty({__proto__:null,piWallet:ai},Symbol.toStringTag,{value:"Module"})),aBe="SecureVaultDB",oBe=1;class cBe{constructor(){this.db=null,this.ENABLED_ASSETS_KEY="enabledAssets",this.SOFT_WALLET_SETUP_KEY="softWalletSetup",this.HARD_WALLET_SETUP_KEY="hardWalletSetup",this.SOFT_WALLET_DATA_KEY="softWalletData",this.HARD_WALLET_DATA_KEY="hardWalletData",this.SOFT_WALLET_ENCRYPTED_SEED_KEY="softWalletEncryptedSeed",this.SOFT_WALLET_PIN_HASH_KEY="softWalletPinHash",this.SOFT_WALLET_PIN_SALT_KEY="softWalletPinSalt",this.HARD_WALLET_ENCRYPTED_SEED_KEY="hardWalletEncryptedSeed",this.HARD_WALLET_PIN_HASH_KEY="hardWalletPinHash",this.HARD_WALLET_PIN_SALT_KEY="hardWalletPinSalt",this.HARD_WALLET_CHAIN_PREFS_KEY="hardWalletChainPreferences",this.WALLET_SEEDS_KEY="walletSeeds",this.CUSTOM_TOKENS_KEY="customTokens",this.CUSTOM_CHAINS_KEY="customChains",this.BALANCE_CACHE_KEY="balanceCache",this.CACHE_STALE_THRESHOLD=5*60*1e3,this.CACHE_EXPIRE_THRESHOLD=30*60*1e3}async init(){return new Promise((e,r)=>{const n=indexedDB.open(aBe,oBe);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=s=>{const i=s.target.result;if(i.objectStoreNames.contains("profiles")||i.createObjectStore("profiles",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!i.objectStoreNames.contains("wallets")){const a=i.createObjectStore("wallets",{keyPath:"id"});a.createIndex("address","address",{unique:!1}),a.createIndex("chainId","chainId",{unique:!1})}if(!i.objectStoreNames.contains("transactions")){const a=i.createObjectStore("transactions",{keyPath:"id"});a.createIndex("walletId","walletId",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}i.objectStoreNames.contains("settings")||i.createObjectStore("settings",{keyPath:"key"})}})}getStore(e,r="readonly"){if(!this.db)throw new Error("Database not initialized");return this.db.transaction(e,r).objectStore(e)}async saveProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r(i.result||null)})}async getAllProfiles(){return new Promise((e,r)=>{const s=this.getStore("profiles").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async saveWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r(i.result||null)})}async getWalletsByAddress(e){return new Promise((r,n)=>{const a=this.getStore("wallets").index("address").getAll(e);a.onerror=()=>n(a.error),a.onsuccess=()=>r(a.result)})}async getAllWallets(){return new Promise((e,r)=>{const s=this.getStore("wallets").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async saveTransaction(e){return new Promise((r,n)=>{const i=this.getStore("transactions","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getTransactionsByWallet(e){return new Promise((r,n)=>{const a=this.getStore("transactions").index("walletId").getAll(e);a.onerror=()=>n(a.error),a.onsuccess=()=>r(a.result)})}async getAllTransactions(){return new Promise((e,r)=>{const s=this.getStore("transactions").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteTransaction(e){return new Promise((r,n)=>{const i=this.getStore("transactions","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async deleteTransactionsByWallet(e){const r=await this.getTransactionsByWallet(e);for(const n of r)await this.deleteTransaction(n.id)}async saveSetting(e,r){return new Promise((n,s)=>{const a=this.getStore("settings","readwrite").put({key:e,value:r});a.onerror=()=>s(a.error),a.onsuccess=()=>n()})}async getSetting(e){return new Promise((r,n)=>{const i=this.getStore("settings").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>{var a;return r(((a=i.result)==null?void 0:a.value)||null)}})}async deleteSetting(e){return new Promise((r,n)=>{const i=this.getStore("settings","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async clearAll(){const e=["profiles","wallets","transactions","settings"];for(const r of e)await new Promise((n,s)=>{const a=this.getStore(r,"readwrite").clear();a.onerror=()=>s(a.error),a.onsuccess=()=>n()})}async getEnabledAssets(){const e=await this.getSetting(this.ENABLED_ASSETS_KEY);return e&&Array.isArray(e)?new Set(e):new Set}async setEnabledAssets(e){await this.saveSetting(this.ENABLED_ASSETS_KEY,Array.from(e))}async toggleAsset(e,r){const n=await this.getEnabledAssets();return r?n.add(e):n.delete(e),await this.setEnabledAssets(n),n}async isAssetEnabled(e){const r=await this.getEnabledAssets();return r.size===0?!0:r.has(e)}async hasEnabledAssetsPreference(){const e=await this.getSetting(this.ENABLED_ASSETS_KEY);return e!==null&&Array.isArray(e)}async isSoftWalletSetup(){return await this.getSetting(this.SOFT_WALLET_SETUP_KEY)===!0}async isHardWalletSetup(){return await this.getSetting(this.HARD_WALLET_SETUP_KEY)===!0}async setSoftWalletSetup(e){await this.saveSetting(this.SOFT_WALLET_SETUP_KEY,e)}async setHardWalletSetup(e){await this.saveSetting(this.HARD_WALLET_SETUP_KEY,e)}async saveSoftWalletData(e){await this.saveSetting(this.SOFT_WALLET_DATA_KEY,e)}async saveHardWalletData(e){await this.saveSetting(this.HARD_WALLET_DATA_KEY,e)}async getSoftWalletData(){return await this.getSetting(this.SOFT_WALLET_DATA_KEY)||[]}async getHardWalletData(){return await this.getSetting(this.HARD_WALLET_DATA_KEY)||[]}async clearSoftWallet(){await this.deleteSetting(this.SOFT_WALLET_SETUP_KEY),await this.deleteSetting(this.SOFT_WALLET_DATA_KEY)}async clearHardWallet(){await this.deleteSetting(this.HARD_WALLET_SETUP_KEY),await this.deleteSetting(this.HARD_WALLET_DATA_KEY),await this.clearHardWalletEncryptedSeed()}async saveEncryptedSeed(e,r,n){await this.saveSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY,e),await this.saveSetting(this.SOFT_WALLET_PIN_HASH_KEY,r),await this.saveSetting(this.SOFT_WALLET_PIN_SALT_KEY,n)}async getEncryptedSeed(){return await this.getSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY)}async getPinHash(){return await this.getSetting(this.SOFT_WALLET_PIN_HASH_KEY)}async getPinSalt(){return await this.getSetting(this.SOFT_WALLET_PIN_SALT_KEY)}async hasEncryptedSeed(){const e=await this.getEncryptedSeed();return e!==null&&e.length>0}async clearEncryptedSeed(){await this.deleteSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY),await this.deleteSetting(this.SOFT_WALLET_PIN_HASH_KEY),await this.deleteSetting(this.SOFT_WALLET_PIN_SALT_KEY)}async saveHardWalletEncryptedSeed(e,r,n){await this.saveSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY,e),await this.saveSetting(this.HARD_WALLET_PIN_HASH_KEY,r),await this.saveSetting(this.HARD_WALLET_PIN_SALT_KEY,n)}async getHardWalletEncryptedSeed(){return await this.getSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY)}async getHardWalletPinHash(){return await this.getSetting(this.HARD_WALLET_PIN_HASH_KEY)}async getHardWalletPinSalt(){return await this.getSetting(this.HARD_WALLET_PIN_SALT_KEY)}async hasHardWalletEncryptedSeed(){const e=await this.getHardWalletEncryptedSeed();return e!==null&&e.length>0}async clearHardWalletEncryptedSeed(){await this.deleteSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY),await this.deleteSetting(this.HARD_WALLET_PIN_HASH_KEY),await this.deleteSetting(this.HARD_WALLET_PIN_SALT_KEY)}async saveHardWalletChainPreferences(e){await this.saveSetting(this.HARD_WALLET_CHAIN_PREFS_KEY,e)}async getHardWalletChainPreferences(){return await this.getSetting(this.HARD_WALLET_CHAIN_PREFS_KEY)}async clearHardWalletChainPreferences(){await this.deleteSetting(this.HARD_WALLET_CHAIN_PREFS_KEY)}getNextAccountIndex(e){return e.length===0?0:Math.max(...e.map(n=>n.accountIndex??0))+1}async saveWalletSeed(e){const r=await this.getAllWalletSeeds(),n=r.findIndex(s=>s.walletGroupId===e.walletGroupId);n>=0?r[n]=e:r.push(e),await this.saveSetting(this.WALLET_SEEDS_KEY,r)}async getWalletSeed(e){return(await this.getAllWalletSeeds()).find(n=>n.walletGroupId===e)||null}async getAllWalletSeeds(){return await this.getSetting(this.WALLET_SEEDS_KEY)||[]}async deleteWalletSeed(e){const n=(await this.getAllWalletSeeds()).filter(s=>s.walletGroupId!==e);await this.saveSetting(this.WALLET_SEEDS_KEY,n)}async clearAllWalletSeeds(){await this.deleteSetting(this.WALLET_SEEDS_KEY)}async getCustomTokens(){return await this.getSetting(this.CUSTOM_TOKENS_KEY)||[]}async addCustomToken(e){const r=await this.getCustomTokens(),n={...e,id:`custom-${e.walletId}-${e.chainId}-${e.contractAddress.toLowerCase()}`,addedAt:new Date().toISOString()},s=r.findIndex(i=>i.id===n.id);return s>=0?r[s]=n:r.push(n),await this.saveSetting(this.CUSTOM_TOKENS_KEY,r),n}async removeCustomToken(e){const n=(await this.getCustomTokens()).filter(s=>s.id!==e);await this.saveSetting(this.CUSTOM_TOKENS_KEY,n)}async getCustomToken(e){return(await this.getCustomTokens()).find(n=>n.id===e)||null}async clearAllCustomTokens(){await this.deleteSetting(this.CUSTOM_TOKENS_KEY)}async getCustomChains(){return await this.getSetting(this.CUSTOM_CHAINS_KEY)||[]}async addCustomChain(e){const r=await this.getCustomChains(),n={...e,id:`custom-chain-${e.chainId}`,addedAt:new Date().toISOString()},s=r.findIndex(i=>i.id===n.id);return s>=0?r[s]=n:r.push(n),await this.saveSetting(this.CUSTOM_CHAINS_KEY,r),n}async removeCustomChain(e){const n=(await this.getCustomChains()).filter(s=>s.id!==e);await this.saveSetting(this.CUSTOM_CHAINS_KEY,n)}async getCustomChain(e){return(await this.getCustomChains()).find(n=>n.id===e)||null}async clearAllCustomChains(){await this.deleteSetting(this.CUSTOM_CHAINS_KEY)}getBalanceCacheKey(e,r){return`${e.toLowerCase()}-${r}`}async getBalanceCache(){return await this.getSetting(this.BALANCE_CACHE_KEY)||{balances:{},lastFullRefresh:0}}async getCachedBalance(e,r){const n=await this.getBalanceCache(),s=this.getBalanceCacheKey(e,r),i=n.balances[s];if(!i)return null;const o=Date.now()-i.timestamp;return o>this.CACHE_EXPIRE_THRESHOLD?null:{...i,isStale:o>this.CACHE_STALE_THRESHOLD}}async setCachedBalance(e,r,n,s){const i=await this.getBalanceCache(),a=this.getBalanceCacheKey(e,r);i.balances[a]={address:e.toLowerCase(),chainSymbol:r,chainId:n,balance:s,timestamp:Date.now()},await this.saveSetting(this.BALANCE_CACHE_KEY,i)}async setCachedBalances(e){const r=await this.getBalanceCache(),n=Date.now();for(const s of e){const i=this.getBalanceCacheKey(s.address,s.chainSymbol);r.balances[i]={address:s.address.toLowerCase(),chainSymbol:s.chainSymbol,chainId:s.chainId,balance:s.balance,timestamp:n}}r.lastFullRefresh=n,await this.saveSetting(this.BALANCE_CACHE_KEY,r)}async getAllCachedBalances(){const e=await this.getBalanceCache(),r=Date.now();return Object.values(e.balances).map(n=>({...n,isStale:r-n.timestamp>this.CACHE_STALE_THRESHOLD})).filter(n=>r-n.timestamp<=this.CACHE_EXPIRE_THRESHOLD)}async getLastFullRefresh(){return(await this.getBalanceCache()).lastFullRefresh}async clearBalanceCache(){await this.deleteSetting(this.BALANCE_CACHE_KEY)}isCacheStale(e){return Date.now()-e>this.CACHE_STALE_THRESHOLD}getCacheAge(e){const r=Date.now()-e,n=Math.floor(r/6e4);if(n<1)return"just now";if(n===1)return"1 min ago";if(n<60)return`${n} mins ago`;const s=Math.floor(n/60);return s===1?"1 hour ago":`${s} hours ago`}}const At=new cBe;/*! Capacitor: https://capacitorjs.com/ - MIT License */const lBe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(i,a)=>{r.platforms.set(i,a)},s=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=s,r},uBe=t=>t.CapacitorPlatforms=lBe(t),kce=uBe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});kce.addPlatform;kce.setPlatform;var Ex;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ex||(Ex={}));class t_ extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const dBe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},fBe=t=>{var e,r,n,s,i;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},c=o.Plugins=o.Plugins||{},l=t.CapacitorPlatforms,u=()=>a!==null?a.name:dBe(t),f=((e=l==null?void 0:l.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>f()!=="web",m=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||h,v=j=>{const T=M.get(j);return!!(T!=null&&T.platforms.has(f())||E(j))},x=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||v,k=j=>{var T;return(T=o.PluginHeaders)===null||T===void 0?void 0:T.find(R=>R.name===j)},E=((s=l==null?void 0:l.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||k,P=j=>t.console.error(j),_=(j,T,R)=>Promise.reject(`${R} does not have an implementation of "${T}".`),M=new Map,B=(j,T={})=>{const R=M.get(j);if(R)return console.warn(`Capacitor plugin "${j}" already registered. Cannot register plugins twice.`),R.proxy;const H=f(),O=E(j);let b;const w=async()=>(!b&&H in T?b=typeof T[H]=="function"?b=await T[H]():b=T[H]:a!==null&&!b&&"web"in T&&(b=typeof T.web=="function"?b=await T.web():b=T.web),b),p=(y,C)=>{var $,L;if(O){const Q=O==null?void 0:O.methods.find(U=>C===U.name);if(Q)return Q.rtype==="promise"?U=>o.nativePromise(j,C.toString(),U):(U,J)=>o.nativeCallback(j,C.toString(),U,J);if(y)return($=y[C])===null||$===void 0?void 0:$.bind(y)}else{if(y)return(L=y[C])===null||L===void 0?void 0:L.bind(y);throw new t_(`"${j}" plugin is not implemented on ${H}`,Ex.Unimplemented)}},g=y=>{let C;const $=(...L)=>{const Q=w().then(U=>{const J=p(U,y);if(J){const Z=J(...L);return C=Z==null?void 0:Z.remove,Z}else throw new t_(`"${j}.${y}()" is not implemented on ${H}`,Ex.Unimplemented)});return y==="addListener"&&(Q.remove=async()=>C()),Q};return $.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:y,writable:!1,configurable:!1}),$},S=g("addListener"),N=g("removeListener"),I=(y,C)=>{const $=S({eventName:y},C),L=async()=>{const U=await $;N({eventName:y,callbackId:U},C)},Q=new Promise(U=>$.then(()=>U({remove:L})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},Q},A=new Proxy({},{get(y,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return O?I:S;case"removeListener":return N;default:return g(C)}}});return c[j]=A,M.set(j,{name:j,proxy:A,platforms:new Set([...Object.keys(T),...O?[H]:[]])}),A},D=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||B;return o.convertFileSrc||(o.convertFileSrc=j=>j),o.getPlatform=f,o.handleError=P,o.isNativePlatform=m,o.isPluginAvailable=x,o.pluginMethodNoop=_,o.registerPlugin=D,o.Exception=t_,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},hBe=t=>t.Capacitor=fBe(t),S1=hBe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),uR=S1.registerPlugin;S1.Plugins;class Ice{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new S1.Exception(e,Ex.Unimplemented)}unavailable(e="not available"){return new S1.Exception(e,Ex.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const nq=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),sq=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class pBe extends Ice{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=sq(s).trim(),i=sq(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=nq(e.key),n=nq(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}uR("CapacitorCookies",{web:()=>new pBe});const mBe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),gBe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},bBe=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,a]=s;let o,c;return Array.isArray(a)?(c="",a.forEach(l=>{o=e?encodeURIComponent(l):l,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${i}=${o}`),`${n}&${c}`},"").substr(1):null,yBe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=gBe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class vBe extends Ice{async request(e){const r=yBe(e,e.webFetchExtra),n=bBe(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let c,l;switch(o){case"arraybuffer":case"blob":l=await i.blob(),c=await mBe(l);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}uR("CapacitorHttp",{web:()=>new vBe});const nw=uR("UsbSerial");function $$(){return S1.isNativePlatform()&&S1.getPlatform()==="android"}class xBe{constructor(){this.connected=!1,this.readBuffer="",this.responseResolver=null,this.responseTimeout=null,this.dataListener=null,this.cachedSeed=null,this.currentPin=null}async isAvailable(){if(!$$())return!1;try{const e=await nw.getDevices();return e.success&&e.count>0}catch{return!1}}async connect(){if(!$$())throw new Error("Mobile USB serial not available on this platform");try{const e=await nw.connect({vendorId:11914});if(!e.success)throw new Error(e.error||"Failed to connect");return this.connected=!0,this.dataListener=await nw.addListener("usbData",r=>{this.handleData(r.data)}),!0}catch(e){throw this.connected=!1,e}}handleData(e){this.readBuffer+=e;let r;for(;(r=this.readBuffer.indexOf(`
`))!==-1;){const n=this.readBuffer.slice(0,r).trim();if(this.readBuffer=this.readBuffer.slice(r+1),n&&n.startsWith("{")&&this.responseResolver)try{const s=JSON.parse(n);this.responseTimeout&&(clearTimeout(this.responseTimeout),this.responseTimeout=null),this.responseResolver(s),this.responseResolver=null}catch{}}}async disconnect(){this.dataListener&&(this.dataListener.remove(),this.dataListener=null);try{await nw.disconnect()}catch{}this.connected=!1,this.cachedSeed=null,this.readBuffer=""}async sendCommand(e,r){if(!this.connected)throw new Error("Not connected to Pico wallet");const n=JSON.stringify({action:e,...r})+`\r
`,s=await nw.write({data:n});if(!s.success)throw new Error(s.error||"Write failed");return new Promise((i,a)=>{this.responseResolver=i,this.responseTimeout=setTimeout(()=>{this.responseResolver=null,a(new Error("Command timed out"))},1e4)})}async ping(){try{return(await this.sendCommand("ping")).pong===!0}catch{return!1}}async getStatus(){try{const e=await this.sendCommand("status");return{initialized:e.has_wallet===!0,locked:e.unlocked!==!0,has_seed:e.has_wallet===!0,device_name:"Pico Hardware Wallet (USB)"}}catch{return null}}async unlock(e){const r=await this.sendCommand("unlock",{pin:e});if(r.error)throw new Error(r.error);if(r.success===!0||r.unlocked===!0){if(this.currentPin=e,!this.cachedSeed)try{const n=await this.sendCommand("get_seed",{pin:e});n.seed&&(this.cachedSeed=n.seed)}catch(n){console.warn("[MobileUsbSerial] Failed to cache seed:",n)}return!0}return!1}getSeedPhrase(){return this.cachedSeed}async ensureSeedCached(){if(this.cachedSeed)return this.cachedSeed;if(!this.currentPin)return console.warn("[MobileUsbSerial] Cannot fetch seed: no PIN available (wallet not unlocked?)"),null;try{const e=await this.sendCommand("get_seed",{pin:this.currentPin});if(e.seed)return this.cachedSeed=e.seed,this.cachedSeed}catch(e){console.warn("[MobileUsbSerial] Failed to retrieve seed:",e)}return null}async setupWallet(e,r){const n=await this.sendCommand("setup",{pin:e,seed:r});if(n.error)throw new Error(n.error);return n.success===!0}async getAddress(e){try{const r=await this.sendCommand("get_address",{chain_id:e});if(r.error)throw new Error(r.error);return r.address||null}catch{return null}}async getAddresses(e){try{const r=await this.sendCommand("get_addresses",{chain_ids:e});if(r.error)throw new Error(r.error);return r.addresses||[]}catch{return[]}}async signTransaction(e){try{const r=await this.sendCommand("sign_transaction",{tx:e});if(r.error)throw new Error(r.error);return r.signed_tx||null}catch{return null}}async signMessage(e){try{const r=await this.sendCommand("sign_message",{message:e});if(r.error)throw new Error(r.error);return r.signature||null}catch{return null}}async lock(){try{const e=await this.sendCommand("lock");return this.cachedSeed=null,this.currentPin=null,e.success===!0||e.locked===!0}catch{return this.cachedSeed=null,this.currentPin=null,!1}}async saveChains(e){try{return(await this.sendCommand("save_chains",{chains:e})).success===!0}catch{return!1}}async getChains(){try{return(await this.sendCommand("get_chains")).chains||[]}catch{return[]}}isConnectedSync(){return this.connected}}const Ti=new xBe;var lf={},Cd={},In={},Xa={},b2={},Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});Ok.crypto=void 0;Ok.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=s,t.ahash=i,t.aexists=a,t.aoutput=o,t.u8=c,t.u32=l,t.clean=u,t.createView=f,t.rotr=h,t.rotl=m,t.byteSwap=v,t.byteSwap32=x,t.bytesToHex=P,t.hexToBytes=B,t.asyncLoop=j,t.utf8ToBytes=T,t.bytesToUtf8=R,t.toBytes=H,t.kdfInputToBytes=O,t.concatBytes=b,t.checkOpts=w,t.createHasher=g,t.createOptHasher=S,t.createXOFer=N,t.randomBytes=I;const e=Ok;function r(A){return A instanceof Uint8Array||ArrayBuffer.isView(A)&&A.constructor.name==="Uint8Array"}function n(A){if(!Number.isSafeInteger(A)||A<0)throw new Error("positive integer expected, got "+A)}function s(A,...y){if(!r(A))throw new Error("Uint8Array expected");if(y.length>0&&!y.includes(A.length))throw new Error("Uint8Array expected of length "+y+", got length="+A.length)}function i(A){if(typeof A!="function"||typeof A.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(A.outputLen),n(A.blockLen)}function a(A,y=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(y&&A.finished)throw new Error("Hash#digest() has already been called")}function o(A,y){s(A);const C=y.outputLen;if(A.length<C)throw new Error("digestInto() expects output buffer of length at least "+C)}function c(A){return new Uint8Array(A.buffer,A.byteOffset,A.byteLength)}function l(A){return new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4))}function u(...A){for(let y=0;y<A.length;y++)A[y].fill(0)}function f(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}function h(A,y){return A<<32-y|A>>>y}function m(A,y){return A<<y|A>>>32-y>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function v(A){return A<<24&4278190080|A<<8&16711680|A>>>8&65280|A>>>24&255}t.swap8IfBE=t.isLE?A=>A:A=>v(A),t.byteSwapIfBE=t.swap8IfBE;function x(A){for(let y=0;y<A.length;y++)A[y]=v(A[y]);return A}t.swap32IfBE=t.isLE?A=>A:x;const k=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E=Array.from({length:256},(A,y)=>y.toString(16).padStart(2,"0"));function P(A){if(s(A),k)return A.toHex();let y="";for(let C=0;C<A.length;C++)y+=E[A[C]];return y}const _={_0:48,_9:57,A:65,F:70,a:97,f:102};function M(A){if(A>=_._0&&A<=_._9)return A-_._0;if(A>=_.A&&A<=_.F)return A-(_.A-10);if(A>=_.a&&A<=_.f)return A-(_.a-10)}function B(A){if(typeof A!="string")throw new Error("hex string expected, got "+typeof A);if(k)return Uint8Array.fromHex(A);const y=A.length,C=y/2;if(y%2)throw new Error("hex string expected, got unpadded hex of length "+y);const $=new Uint8Array(C);for(let L=0,Q=0;L<C;L++,Q+=2){const U=M(A.charCodeAt(Q)),J=M(A.charCodeAt(Q+1));if(U===void 0||J===void 0){const Z=A[Q]+A[Q+1];throw new Error('hex string expected, got non-hex character "'+Z+'" at index '+Q)}$[L]=U*16+J}return $}const D=async()=>{};t.nextTick=D;async function j(A,y,C){let $=Date.now();for(let L=0;L<A;L++){C(L);const Q=Date.now()-$;Q>=0&&Q<y||(await(0,t.nextTick)(),$+=Q)}}function T(A){if(typeof A!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(A))}function R(A){return new TextDecoder().decode(A)}function H(A){return typeof A=="string"&&(A=T(A)),s(A),A}function O(A){return typeof A=="string"&&(A=T(A)),s(A),A}function b(...A){let y=0;for(let $=0;$<A.length;$++){const L=A[$];s(L),y+=L.length}const C=new Uint8Array(y);for(let $=0,L=0;$<A.length;$++){const Q=A[$];C.set(Q,L),L+=Q.length}return C}function w(A,y){if(y!==void 0&&{}.toString.call(y)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(A,y)}class p{}t.Hash=p;function g(A){const y=$=>A().update(H($)).digest(),C=A();return y.outputLen=C.outputLen,y.blockLen=C.blockLen,y.create=()=>A(),y}function S(A){const y=($,L)=>A(L).update(H($)).digest(),C=A({});return y.outputLen=C.outputLen,y.blockLen=C.blockLen,y.create=$=>A($),y}function N(A){const y=($,L)=>A(L).update(H($)).digest(),C=A({});return y.outputLen=C.outputLen,y.blockLen=C.blockLen,y.create=$=>A($),y}t.wrapConstructor=g,t.wrapConstructorWithOpts=S,t.wrapXOFConstructorWithOpts=N;function I(A=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(A));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(A));throw new Error("crypto.getRandomValues must be defined")}})(b2);Object.defineProperty(Xa,"__esModule",{value:!0});Xa.SHA512_IV=Xa.SHA384_IV=Xa.SHA224_IV=Xa.SHA256_IV=Xa.HashMD=void 0;Xa.setBigUint64=Nce;Xa.Chi=wBe;Xa.Maj=ABe;const Vu=b2;function Nce(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}function wBe(t,e,r){return t&e^~t&r}function ABe(t,e,r){return t&e^t&r^e&r}class SBe extends Vu.Hash{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=(0,Vu.createView)(this.buffer)}update(e){(0,Vu.aexists)(this),e=(0,Vu.toBytes)(e),(0,Vu.abytes)(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=(0,Vu.createView)(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Vu.aexists)(this),(0,Vu.aoutput)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,(0,Vu.clean)(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;Nce(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=(0,Vu.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}Xa.HashMD=SBe;Xa.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Xa.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Xa.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Xa.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.toBig=mr.shrSL=mr.shrSH=mr.rotrSL=mr.rotrSH=mr.rotrBL=mr.rotrBH=mr.rotr32L=mr.rotr32H=mr.rotlSL=mr.rotlSH=mr.rotlBL=mr.rotlBH=mr.add5L=mr.add5H=mr.add4L=mr.add4H=mr.add3L=mr.add3H=void 0;mr.add=Lce;mr.fromBig=dR;mr.split=Ece;const Z8=BigInt(2**32-1),M$=BigInt(32);function dR(t,e=!1){return e?{h:Number(t&Z8),l:Number(t>>M$&Z8)}:{h:Number(t>>M$&Z8)|0,l:Number(t&Z8)|0}}function Ece(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:a,l:o}=dR(t[i],e);[n[i],s[i]]=[a,o]}return[n,s]}const _ce=(t,e)=>BigInt(t>>>0)<<M$|BigInt(e>>>0);mr.toBig=_ce;const Cce=(t,e,r)=>t>>>r;mr.shrSH=Cce;const Tce=(t,e,r)=>t<<32-r|e>>>r;mr.shrSL=Tce;const jce=(t,e,r)=>t>>>r|e<<32-r;mr.rotrSH=jce;const $ce=(t,e,r)=>t<<32-r|e>>>r;mr.rotrSL=$ce;const Mce=(t,e,r)=>t<<64-r|e>>>r-32;mr.rotrBH=Mce;const Oce=(t,e,r)=>t>>>r-32|e<<64-r;mr.rotrBL=Oce;const Fce=(t,e)=>e;mr.rotr32H=Fce;const Bce=(t,e)=>t;mr.rotr32L=Bce;const Rce=(t,e,r)=>t<<r|e>>>32-r;mr.rotlSH=Rce;const Dce=(t,e,r)=>e<<r|t>>>32-r;mr.rotlSL=Dce;const Uce=(t,e,r)=>e<<r-32|t>>>64-r;mr.rotlBH=Uce;const zce=(t,e,r)=>t<<r-32|e>>>64-r;mr.rotlBL=zce;function Lce(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const Vce=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);mr.add3L=Vce;const Hce=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;mr.add3H=Hce;const Wce=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);mr.add4L=Wce;const qce=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;mr.add4H=qce;const Kce=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);mr.add5L=Kce;const Xce=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;mr.add5H=Xce;const PBe={fromBig:dR,split:Ece,toBig:_ce,shrSH:Cce,shrSL:Tce,rotrSH:jce,rotrSL:$ce,rotrBH:Mce,rotrBL:Oce,rotr32H:Fce,rotr32L:Bce,rotlSH:Rce,rotlSL:Dce,rotlBH:Uce,rotlBL:zce,add:Lce,add3L:Vce,add3H:Hce,add4L:Wce,add4H:qce,add5H:Xce,add5L:Kce};mr.default=PBe;Object.defineProperty(In,"__esModule",{value:!0});In.sha512_224=In.sha512_256=In.sha384=In.sha512=In.sha224=In.sha256=In.SHA512_256=In.SHA512_224=In.SHA384=In.SHA512=In.SHA224=In.SHA256=void 0;const tr=Xa,Nr=mr,Fs=b2,kBe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i0=new Uint32Array(64);class fR extends tr.HashMD{constructor(e=32){super(64,e,8,!1),this.A=tr.SHA256_IV[0]|0,this.B=tr.SHA256_IV[1]|0,this.C=tr.SHA256_IV[2]|0,this.D=tr.SHA256_IV[3]|0,this.E=tr.SHA256_IV[4]|0,this.F=tr.SHA256_IV[5]|0,this.G=tr.SHA256_IV[6]|0,this.H=tr.SHA256_IV[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)i0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=i0[f-15],m=i0[f-2],v=(0,Fs.rotr)(h,7)^(0,Fs.rotr)(h,18)^h>>>3,x=(0,Fs.rotr)(m,17)^(0,Fs.rotr)(m,19)^m>>>10;i0[f]=x+i0[f-7]+v+i0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=(0,Fs.rotr)(o,6)^(0,Fs.rotr)(o,11)^(0,Fs.rotr)(o,25),m=u+h+(0,tr.Chi)(o,c,l)+kBe[f]+i0[f]|0,x=((0,Fs.rotr)(n,2)^(0,Fs.rotr)(n,13)^(0,Fs.rotr)(n,22))+(0,tr.Maj)(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+x|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){(0,Fs.clean)(i0)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,Fs.clean)(this.buffer)}}In.SHA256=fR;class Zce extends fR{constructor(){super(28),this.A=tr.SHA224_IV[0]|0,this.B=tr.SHA224_IV[1]|0,this.C=tr.SHA224_IV[2]|0,this.D=tr.SHA224_IV[3]|0,this.E=tr.SHA224_IV[4]|0,this.F=tr.SHA224_IV[5]|0,this.G=tr.SHA224_IV[6]|0,this.H=tr.SHA224_IV[7]|0}}In.SHA224=Zce;const Jce=Nr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),IBe=Jce[0],NBe=Jce[1],a0=new Uint32Array(80),o0=new Uint32Array(80);class e5 extends tr.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=tr.SHA512_IV[0]|0,this.Al=tr.SHA512_IV[1]|0,this.Bh=tr.SHA512_IV[2]|0,this.Bl=tr.SHA512_IV[3]|0,this.Ch=tr.SHA512_IV[4]|0,this.Cl=tr.SHA512_IV[5]|0,this.Dh=tr.SHA512_IV[6]|0,this.Dl=tr.SHA512_IV[7]|0,this.Eh=tr.SHA512_IV[8]|0,this.El=tr.SHA512_IV[9]|0,this.Fh=tr.SHA512_IV[10]|0,this.Fl=tr.SHA512_IV[11]|0,this.Gh=tr.SHA512_IV[12]|0,this.Gl=tr.SHA512_IV[13]|0,this.Hh=tr.SHA512_IV[14]|0,this.Hl=tr.SHA512_IV[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:v,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)a0[_]=e.getUint32(r),o0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const M=a0[_-15]|0,B=o0[_-15]|0,D=Nr.rotrSH(M,B,1)^Nr.rotrSH(M,B,8)^Nr.shrSH(M,B,7),j=Nr.rotrSL(M,B,1)^Nr.rotrSL(M,B,8)^Nr.shrSL(M,B,7),T=a0[_-2]|0,R=o0[_-2]|0,H=Nr.rotrSH(T,R,19)^Nr.rotrBH(T,R,61)^Nr.shrSH(T,R,6),O=Nr.rotrSL(T,R,19)^Nr.rotrBL(T,R,61)^Nr.shrSL(T,R,6),b=Nr.add4L(j,O,o0[_-7],o0[_-16]),w=Nr.add4H(b,D,H,a0[_-7],a0[_-16]);a0[_]=w|0,o0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:v,Gh:x,Gl:k,Hh:E,Hl:P}=this;for(let _=0;_<80;_++){const M=Nr.rotrSH(f,h,14)^Nr.rotrSH(f,h,18)^Nr.rotrBH(f,h,41),B=Nr.rotrSL(f,h,14)^Nr.rotrSL(f,h,18)^Nr.rotrBL(f,h,41),D=f&m^~f&x,j=h&v^~h&k,T=Nr.add5L(P,B,j,NBe[_],o0[_]),R=Nr.add5H(T,E,M,D,IBe[_],a0[_]),H=T|0,O=Nr.rotrSH(n,s,28)^Nr.rotrBH(n,s,34)^Nr.rotrBH(n,s,39),b=Nr.rotrSL(n,s,28)^Nr.rotrBL(n,s,34)^Nr.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;E=x|0,P=k|0,x=m|0,k=v|0,m=f|0,v=h|0,{h:f,l:h}=Nr.add(l|0,u|0,R|0,H|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Nr.add3L(H,b,p);n=Nr.add3H(g,R,O,w),s=g|0}({h:n,l:s}=Nr.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Nr.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Nr.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Nr.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Nr.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:v}=Nr.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:x,l:k}=Nr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:E,l:P}=Nr.add(this.Hh|0,this.Hl|0,E|0,P|0),this.set(n,s,i,a,o,c,l,u,f,h,m,v,x,k,E,P)}roundClean(){(0,Fs.clean)(a0,o0)}destroy(){(0,Fs.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}In.SHA512=e5;class Qce extends e5{constructor(){super(48),this.Ah=tr.SHA384_IV[0]|0,this.Al=tr.SHA384_IV[1]|0,this.Bh=tr.SHA384_IV[2]|0,this.Bl=tr.SHA384_IV[3]|0,this.Ch=tr.SHA384_IV[4]|0,this.Cl=tr.SHA384_IV[5]|0,this.Dh=tr.SHA384_IV[6]|0,this.Dl=tr.SHA384_IV[7]|0,this.Eh=tr.SHA384_IV[8]|0,this.El=tr.SHA384_IV[9]|0,this.Fh=tr.SHA384_IV[10]|0,this.Fl=tr.SHA384_IV[11]|0,this.Gh=tr.SHA384_IV[12]|0,this.Gl=tr.SHA384_IV[13]|0,this.Hh=tr.SHA384_IV[14]|0,this.Hl=tr.SHA384_IV[15]|0}}In.SHA384=Qce;const da=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),fa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Yce extends e5{constructor(){super(28),this.Ah=da[0]|0,this.Al=da[1]|0,this.Bh=da[2]|0,this.Bl=da[3]|0,this.Ch=da[4]|0,this.Cl=da[5]|0,this.Dh=da[6]|0,this.Dl=da[7]|0,this.Eh=da[8]|0,this.El=da[9]|0,this.Fh=da[10]|0,this.Fl=da[11]|0,this.Gh=da[12]|0,this.Gl=da[13]|0,this.Hh=da[14]|0,this.Hl=da[15]|0}}In.SHA512_224=Yce;class Gce extends e5{constructor(){super(32),this.Ah=fa[0]|0,this.Al=fa[1]|0,this.Bh=fa[2]|0,this.Bl=fa[3]|0,this.Ch=fa[4]|0,this.Cl=fa[5]|0,this.Dh=fa[6]|0,this.Dl=fa[7]|0,this.Eh=fa[8]|0,this.El=fa[9]|0,this.Fh=fa[10]|0,this.Fl=fa[11]|0,this.Gh=fa[12]|0,this.Gl=fa[13]|0,this.Hh=fa[14]|0,this.Hl=fa[15]|0}}In.SHA512_256=Gce;In.sha256=(0,Fs.createHasher)(()=>new fR);In.sha224=(0,Fs.createHasher)(()=>new Zce);In.sha512=(0,Fs.createHasher)(()=>new e5);In.sha384=(0,Fs.createHasher)(()=>new Qce);In.sha512_256=(0,Fs.createHasher)(()=>new Gce);In.sha512_224=(0,Fs.createHasher)(()=>new Yce);Object.defineProperty(Cd,"__esModule",{value:!0});Cd.sha224=Cd.SHA224=Cd.sha256=Cd.SHA256=void 0;const Fk=In;Cd.SHA256=Fk.SHA256;Cd.sha256=Fk.sha256;Cd.SHA224=Fk.SHA224;Cd.sha224=Fk.sha224;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.sha512_256=li.SHA512_256=li.sha512_224=li.SHA512_224=li.sha384=li.SHA384=li.sha512=li.SHA512=void 0;const cm=In;li.SHA512=cm.SHA512;li.sha512=cm.sha512;li.SHA384=cm.SHA384;li.sha384=cm.sha384;li.SHA512_224=cm.SHA512_224;li.sha512_224=cm.sha512_224;li.SHA512_256=cm.SHA512_256;li.sha512_256=cm.sha512_256;var Bk={},ele={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=b2;class r extends e.Hash{constructor(i,a){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(i);const o=(0,e.toBytes)(a);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(o.length>c?i.create().update(o).digest():o);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=i.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),(0,e.clean)(l)}update(i){return(0,e.aexists)(this),this.iHash.update(i),this}digestInto(i){(0,e.aexists)(this),(0,e.abytes)(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:o,finished:c,destroyed:l,blockLen:u,outputLen:f}=this;return i=i,i.finished=c,i.destroyed=l,i.blockLen=u,i.outputLen=f,i.oHash=a._cloneInto(i.oHash),i.iHash=o._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r;const n=(s,i,a)=>new r(s,i).update(a).digest();t.hmac=n,t.hmac.create=(s,i)=>new r(s,i)})(ele);Object.defineProperty(Bk,"__esModule",{value:!0});Bk.pbkdf2=_Be;Bk.pbkdf2Async=CBe;const EBe=ele,uu=b2;function tle(t,e,r,n){(0,uu.ahash)(t);const s=(0,uu.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:o}=s;if((0,uu.anumber)(i),(0,uu.anumber)(a),(0,uu.anumber)(o),i<1)throw new Error("iterations (c) should be >= 1");const c=(0,uu.kdfInputToBytes)(e),l=(0,uu.kdfInputToBytes)(r),u=new Uint8Array(a),f=EBe.hmac.create(t,c),h=f._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:o,DK:u,PRF:f,PRFSalt:h}}function rle(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),(0,uu.clean)(s),r}function _Be(t,e,r,n){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:c}=tle(t,e,r,n);let l;const u=new Uint8Array(4),f=(0,uu.createView)(u),h=new Uint8Array(o.outputLen);for(let m=1,v=0;v<i;m++,v+=o.outputLen){const x=a.subarray(v,v+o.outputLen);f.setInt32(0,m,!1),(l=c._cloneInto(l)).update(u).digestInto(h),x.set(h.subarray(0,x.length));for(let k=1;k<s;k++){o._cloneInto(l).update(h).digestInto(h);for(let E=0;E<x.length;E++)x[E]^=h[E]}}return rle(o,c,a,l,h)}async function CBe(t,e,r,n){const{c:s,dkLen:i,asyncTick:a,DK:o,PRF:c,PRFSalt:l}=tle(t,e,r,n);let u;const f=new Uint8Array(4),h=(0,uu.createView)(f),m=new Uint8Array(c.outputLen);for(let v=1,x=0;x<i;v++,x+=c.outputLen){const k=o.subarray(x,x+c.outputLen);h.setInt32(0,v,!1),(u=l._cloneInto(u)).update(f).digestInto(m),k.set(m.subarray(0,k.length)),await(0,uu.asyncLoop)(s-1,a,()=>{c._cloneInto(u).update(m).digestInto(m);for(let E=0;E<k.length;E++)k[E]^=m[E]})}return rle(c,l,o,u,m)}var lo={};const TBe=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],jBe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],$Be=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],MBe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],OBe=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"],FBe=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],BBe=["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],RBe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],DBe=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],UBe=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(lo,"__esModule",{value:!0});const yc={};lo.wordlists=yc;let hs;var uf=lo._default=hs;try{uf=lo._default=hs=TBe,yc.czech=hs}catch{}try{uf=lo._default=hs=jBe,yc.chinese_simplified=hs}catch{}try{uf=lo._default=hs=$Be,yc.chinese_traditional=hs}catch{}try{uf=lo._default=hs=MBe,yc.korean=hs}catch{}try{uf=lo._default=hs=OBe,yc.french=hs}catch{}try{uf=lo._default=hs=FBe,yc.italian=hs}catch{}try{uf=lo._default=hs=BBe,yc.spanish=hs}catch{}try{uf=lo._default=hs=RBe,yc.japanese=hs,yc.JA=hs}catch{}try{uf=lo._default=hs=DBe,yc.portuguese=hs}catch{}try{uf=lo._default=hs=UBe,yc.english=hs,yc.EN=hs}catch{}Object.defineProperty(lf,"__esModule",{value:!0});const zBe=Cd,nle=li,sle=Bk,LBe=b2,eS=lo;let B6=eS._default;const iq="Invalid mnemonic",Xg="Invalid entropy",VBe="Invalid mnemonic checksum",ile=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function R6(t){return(t||"").normalize("NFKD")}function ale(t,e,r){for(;t.length<r;)t=e+t;return t}function ole(t){return parseInt(t,2)}function cle(t){return t.map(e=>ale(e.toString(2),"0",8)).join("")}function lle(t){const r=t.length*8/32,n=zBe.sha256(Uint8Array.from(t));return cle(Array.from(n)).slice(0,r)}function ule(t){return"mnemonic"+(t||"")}function HBe(t,e){const r=Uint8Array.from(Buffer.from(R6(t),"utf8")),n=Uint8Array.from(Buffer.from(ule(R6(e)),"utf8")),s=sle.pbkdf2(nle.sha512,r,n,{c:2048,dkLen:64});return Buffer.from(s)}var WBe=lf.mnemonicToSeedSync=HBe;function qBe(t,e){const r=Uint8Array.from(Buffer.from(R6(t),"utf8")),n=Uint8Array.from(Buffer.from(ule(R6(e)),"utf8"));return sle.pbkdf2Async(nle.sha512,r,n,{c:2048,dkLen:64}).then(s=>Buffer.from(s))}lf.mnemonicToSeed=qBe;function dle(t,e){if(e=e||B6,!e)throw new Error(ile);const r=R6(t).split(" ");if(r.length%3!==0)throw new Error(iq);const n=r.map(u=>{const f=e.indexOf(u);if(f===-1)throw new Error(iq);return ale(f.toString(2),"0",11)}).join(""),s=Math.floor(n.length/33)*32,i=n.slice(0,s),a=n.slice(s),o=i.match(/(.{1,8})/g).map(ole);if(o.length<16)throw new Error(Xg);if(o.length>32)throw new Error(Xg);if(o.length%4!==0)throw new Error(Xg);const c=Buffer.from(o);if(lle(c)!==a)throw new Error(VBe);return c.toString("hex")}lf.mnemonicToEntropy=dle;function fle(t,e){if(Buffer.isBuffer(t)||(t=Buffer.from(t,"hex")),e=e||B6,!e)throw new Error(ile);if(t.length<16)throw new TypeError(Xg);if(t.length>32)throw new TypeError(Xg);if(t.length%4!==0)throw new TypeError(Xg);const r=cle(Array.from(t)),n=lle(t),a=(r+n).match(/(.{1,11})/g).map(o=>{const c=ole(o);return e[c]});return e[0]===""?a.join(""):a.join(" ")}lf.entropyToMnemonic=fle;function KBe(t,e,r){if(t=t||128,t%32!==0)throw new TypeError(Xg);return e=e||(n=>Buffer.from(LBe.randomBytes(n))),fle(e(t/8),r)}lf.generateMnemonic=KBe;function XBe(t,e){try{dle(t,e)}catch{return!1}return!0}lf.validateMnemonic=XBe;function ZBe(t){const e=eS.wordlists[t];if(e)B6=e;else throw new Error('Could not find wordlist for language "'+t+'"')}lf.setDefaultWordlist=ZBe;function JBe(){if(!B6)throw new Error("No Default Wordlist set");return Object.keys(eS.wordlists).filter(t=>t==="JA"||t==="EN"?!1:eS.wordlists[t].every((e,r)=>e===B6[r]))[0]}lf.getDefaultWordlist=JBe;var QBe=lo;lf.wordlists=QBe.wordlists;function YBe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,h=0;const m=l.length;for(;h!==m&&l[h]===0;)h++,u++;const v=(m-h)*i+1>>>0,x=new Uint8Array(v);for(;h!==m;){let P=l[h],_=0;for(let M=v-1;(P!==0||_<f)&&M!==-1;M--,_++)P+=256*x[M]>>>0,x[M]=P%r>>>0,P=P/r>>>0;if(P!==0)throw new Error("Non-zero carry");f=_,h++}let k=v-f;for(;k!==v&&x[k]===0;)k++;let E=n.repeat(u);for(;k<v;++k)E+=t.charAt(x[k]);return E}function o(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;l[u]===n;)f++,u++;const m=(l.length-u)*s+1>>>0,v=new Uint8Array(m);for(;u<l.length;){const P=l.charCodeAt(u);if(P>255)return;let _=e[P];if(_===255)return;let M=0;for(let B=m-1;(_!==0||M<h)&&B!==-1;B--,M++)_+=r*v[B]>>>0,v[B]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");h=M,u++}let x=m-h;for(;x!==m&&v[x]===0;)x++;const k=new Uint8Array(f+(m-x));let E=f;for(;x!==m;)k[E++]=v[x++];return k}function c(l){const u=o(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:a,decodeUnsafe:o,decode:c}}var GBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const nh=YBe(GBe);var hle={exports:{}};(function(t){(function(e){var r=function(X){var ee,te=new Float64Array(16);if(X)for(ee=0;ee<X.length;ee++)te[ee]=X[ee];return te},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=r(),o=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(X,ee,te,W){X[ee]=te>>24&255,X[ee+1]=te>>16&255,X[ee+2]=te>>8&255,X[ee+3]=te&255,X[ee+4]=W>>24&255,X[ee+5]=W>>16&255,X[ee+6]=W>>8&255,X[ee+7]=W&255}function x(X,ee,te,W,ie){var fe,Ie=0;for(fe=0;fe<ie;fe++)Ie|=X[ee+fe]^te[W+fe];return(1&Ie-1>>>8)-1}function k(X,ee,te,W){return x(X,ee,te,W,16)}function E(X,ee,te,W){return x(X,ee,te,W,32)}function P(X,ee,te,W){for(var ie=W[0]&255|(W[1]&255)<<8|(W[2]&255)<<16|(W[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ie=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,ae=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,ye=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Le=W[4]&255|(W[5]&255)<<8|(W[6]&255)<<16|(W[7]&255)<<24,Re=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Mt=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,ut=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ot=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Se=W[8]&255|(W[9]&255)<<8|(W[10]&255)<<16|(W[11]&255)<<24,be=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ee=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Fe=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Ve=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Xe=W[12]&255|(W[13]&255)<<8|(W[14]&255)<<16|(W[15]&255)<<24,xe=ie,Pe=fe,je=Ie,Ze=ae,dt=ye,ft=Le,Ue=Re,_e=Mt,et=ut,Qe=Ot,at=Se,yt=be,Yt=Ee,or=Fe,pr=Ve,hr=Xe,ge,Sr=0;Sr<20;Sr+=2)ge=xe+Yt|0,dt^=ge<<7|ge>>>25,ge=dt+xe|0,et^=ge<<9|ge>>>23,ge=et+dt|0,Yt^=ge<<13|ge>>>19,ge=Yt+et|0,xe^=ge<<18|ge>>>14,ge=ft+Pe|0,Qe^=ge<<7|ge>>>25,ge=Qe+ft|0,or^=ge<<9|ge>>>23,ge=or+Qe|0,Pe^=ge<<13|ge>>>19,ge=Pe+or|0,ft^=ge<<18|ge>>>14,ge=at+Ue|0,pr^=ge<<7|ge>>>25,ge=pr+at|0,je^=ge<<9|ge>>>23,ge=je+pr|0,Ue^=ge<<13|ge>>>19,ge=Ue+je|0,at^=ge<<18|ge>>>14,ge=hr+yt|0,Ze^=ge<<7|ge>>>25,ge=Ze+hr|0,_e^=ge<<9|ge>>>23,ge=_e+Ze|0,yt^=ge<<13|ge>>>19,ge=yt+_e|0,hr^=ge<<18|ge>>>14,ge=xe+Ze|0,Pe^=ge<<7|ge>>>25,ge=Pe+xe|0,je^=ge<<9|ge>>>23,ge=je+Pe|0,Ze^=ge<<13|ge>>>19,ge=Ze+je|0,xe^=ge<<18|ge>>>14,ge=ft+dt|0,Ue^=ge<<7|ge>>>25,ge=Ue+ft|0,_e^=ge<<9|ge>>>23,ge=_e+Ue|0,dt^=ge<<13|ge>>>19,ge=dt+_e|0,ft^=ge<<18|ge>>>14,ge=at+Qe|0,yt^=ge<<7|ge>>>25,ge=yt+at|0,et^=ge<<9|ge>>>23,ge=et+yt|0,Qe^=ge<<13|ge>>>19,ge=Qe+et|0,at^=ge<<18|ge>>>14,ge=hr+pr|0,Yt^=ge<<7|ge>>>25,ge=Yt+hr|0,or^=ge<<9|ge>>>23,ge=or+Yt|0,pr^=ge<<13|ge>>>19,ge=pr+or|0,hr^=ge<<18|ge>>>14;xe=xe+ie|0,Pe=Pe+fe|0,je=je+Ie|0,Ze=Ze+ae|0,dt=dt+ye|0,ft=ft+Le|0,Ue=Ue+Re|0,_e=_e+Mt|0,et=et+ut|0,Qe=Qe+Ot|0,at=at+Se|0,yt=yt+be|0,Yt=Yt+Ee|0,or=or+Fe|0,pr=pr+Ve|0,hr=hr+Xe|0,X[0]=xe>>>0&255,X[1]=xe>>>8&255,X[2]=xe>>>16&255,X[3]=xe>>>24&255,X[4]=Pe>>>0&255,X[5]=Pe>>>8&255,X[6]=Pe>>>16&255,X[7]=Pe>>>24&255,X[8]=je>>>0&255,X[9]=je>>>8&255,X[10]=je>>>16&255,X[11]=je>>>24&255,X[12]=Ze>>>0&255,X[13]=Ze>>>8&255,X[14]=Ze>>>16&255,X[15]=Ze>>>24&255,X[16]=dt>>>0&255,X[17]=dt>>>8&255,X[18]=dt>>>16&255,X[19]=dt>>>24&255,X[20]=ft>>>0&255,X[21]=ft>>>8&255,X[22]=ft>>>16&255,X[23]=ft>>>24&255,X[24]=Ue>>>0&255,X[25]=Ue>>>8&255,X[26]=Ue>>>16&255,X[27]=Ue>>>24&255,X[28]=_e>>>0&255,X[29]=_e>>>8&255,X[30]=_e>>>16&255,X[31]=_e>>>24&255,X[32]=et>>>0&255,X[33]=et>>>8&255,X[34]=et>>>16&255,X[35]=et>>>24&255,X[36]=Qe>>>0&255,X[37]=Qe>>>8&255,X[38]=Qe>>>16&255,X[39]=Qe>>>24&255,X[40]=at>>>0&255,X[41]=at>>>8&255,X[42]=at>>>16&255,X[43]=at>>>24&255,X[44]=yt>>>0&255,X[45]=yt>>>8&255,X[46]=yt>>>16&255,X[47]=yt>>>24&255,X[48]=Yt>>>0&255,X[49]=Yt>>>8&255,X[50]=Yt>>>16&255,X[51]=Yt>>>24&255,X[52]=or>>>0&255,X[53]=or>>>8&255,X[54]=or>>>16&255,X[55]=or>>>24&255,X[56]=pr>>>0&255,X[57]=pr>>>8&255,X[58]=pr>>>16&255,X[59]=pr>>>24&255,X[60]=hr>>>0&255,X[61]=hr>>>8&255,X[62]=hr>>>16&255,X[63]=hr>>>24&255}function _(X,ee,te,W){for(var ie=W[0]&255|(W[1]&255)<<8|(W[2]&255)<<16|(W[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ie=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,ae=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,ye=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Le=W[4]&255|(W[5]&255)<<8|(W[6]&255)<<16|(W[7]&255)<<24,Re=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Mt=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,ut=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ot=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Se=W[8]&255|(W[9]&255)<<8|(W[10]&255)<<16|(W[11]&255)<<24,be=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ee=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Fe=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Ve=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Xe=W[12]&255|(W[13]&255)<<8|(W[14]&255)<<16|(W[15]&255)<<24,xe=ie,Pe=fe,je=Ie,Ze=ae,dt=ye,ft=Le,Ue=Re,_e=Mt,et=ut,Qe=Ot,at=Se,yt=be,Yt=Ee,or=Fe,pr=Ve,hr=Xe,ge,Sr=0;Sr<20;Sr+=2)ge=xe+Yt|0,dt^=ge<<7|ge>>>25,ge=dt+xe|0,et^=ge<<9|ge>>>23,ge=et+dt|0,Yt^=ge<<13|ge>>>19,ge=Yt+et|0,xe^=ge<<18|ge>>>14,ge=ft+Pe|0,Qe^=ge<<7|ge>>>25,ge=Qe+ft|0,or^=ge<<9|ge>>>23,ge=or+Qe|0,Pe^=ge<<13|ge>>>19,ge=Pe+or|0,ft^=ge<<18|ge>>>14,ge=at+Ue|0,pr^=ge<<7|ge>>>25,ge=pr+at|0,je^=ge<<9|ge>>>23,ge=je+pr|0,Ue^=ge<<13|ge>>>19,ge=Ue+je|0,at^=ge<<18|ge>>>14,ge=hr+yt|0,Ze^=ge<<7|ge>>>25,ge=Ze+hr|0,_e^=ge<<9|ge>>>23,ge=_e+Ze|0,yt^=ge<<13|ge>>>19,ge=yt+_e|0,hr^=ge<<18|ge>>>14,ge=xe+Ze|0,Pe^=ge<<7|ge>>>25,ge=Pe+xe|0,je^=ge<<9|ge>>>23,ge=je+Pe|0,Ze^=ge<<13|ge>>>19,ge=Ze+je|0,xe^=ge<<18|ge>>>14,ge=ft+dt|0,Ue^=ge<<7|ge>>>25,ge=Ue+ft|0,_e^=ge<<9|ge>>>23,ge=_e+Ue|0,dt^=ge<<13|ge>>>19,ge=dt+_e|0,ft^=ge<<18|ge>>>14,ge=at+Qe|0,yt^=ge<<7|ge>>>25,ge=yt+at|0,et^=ge<<9|ge>>>23,ge=et+yt|0,Qe^=ge<<13|ge>>>19,ge=Qe+et|0,at^=ge<<18|ge>>>14,ge=hr+pr|0,Yt^=ge<<7|ge>>>25,ge=Yt+hr|0,or^=ge<<9|ge>>>23,ge=or+Yt|0,pr^=ge<<13|ge>>>19,ge=pr+or|0,hr^=ge<<18|ge>>>14;X[0]=xe>>>0&255,X[1]=xe>>>8&255,X[2]=xe>>>16&255,X[3]=xe>>>24&255,X[4]=ft>>>0&255,X[5]=ft>>>8&255,X[6]=ft>>>16&255,X[7]=ft>>>24&255,X[8]=at>>>0&255,X[9]=at>>>8&255,X[10]=at>>>16&255,X[11]=at>>>24&255,X[12]=hr>>>0&255,X[13]=hr>>>8&255,X[14]=hr>>>16&255,X[15]=hr>>>24&255,X[16]=Ue>>>0&255,X[17]=Ue>>>8&255,X[18]=Ue>>>16&255,X[19]=Ue>>>24&255,X[20]=_e>>>0&255,X[21]=_e>>>8&255,X[22]=_e>>>16&255,X[23]=_e>>>24&255,X[24]=et>>>0&255,X[25]=et>>>8&255,X[26]=et>>>16&255,X[27]=et>>>24&255,X[28]=Qe>>>0&255,X[29]=Qe>>>8&255,X[30]=Qe>>>16&255,X[31]=Qe>>>24&255}function M(X,ee,te,W){P(X,ee,te,W)}function B(X,ee,te,W){_(X,ee,te,W)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function j(X,ee,te,W,ie,fe,Ie){var ae=new Uint8Array(16),ye=new Uint8Array(64),Le,Re;for(Re=0;Re<16;Re++)ae[Re]=0;for(Re=0;Re<8;Re++)ae[Re]=fe[Re];for(;ie>=64;){for(M(ye,ae,Ie,D),Re=0;Re<64;Re++)X[ee+Re]=te[W+Re]^ye[Re];for(Le=1,Re=8;Re<16;Re++)Le=Le+(ae[Re]&255)|0,ae[Re]=Le&255,Le>>>=8;ie-=64,ee+=64,W+=64}if(ie>0)for(M(ye,ae,Ie,D),Re=0;Re<ie;Re++)X[ee+Re]=te[W+Re]^ye[Re];return 0}function T(X,ee,te,W,ie){var fe=new Uint8Array(16),Ie=new Uint8Array(64),ae,ye;for(ye=0;ye<16;ye++)fe[ye]=0;for(ye=0;ye<8;ye++)fe[ye]=W[ye];for(;te>=64;){for(M(Ie,fe,ie,D),ye=0;ye<64;ye++)X[ee+ye]=Ie[ye];for(ae=1,ye=8;ye<16;ye++)ae=ae+(fe[ye]&255)|0,fe[ye]=ae&255,ae>>>=8;te-=64,ee+=64}if(te>0)for(M(Ie,fe,ie,D),ye=0;ye<te;ye++)X[ee+ye]=Ie[ye];return 0}function R(X,ee,te,W,ie){var fe=new Uint8Array(32);B(fe,W,ie,D);for(var Ie=new Uint8Array(8),ae=0;ae<8;ae++)Ie[ae]=W[ae+16];return T(X,ee,te,Ie,fe)}function H(X,ee,te,W,ie,fe,Ie){var ae=new Uint8Array(32);B(ae,fe,Ie,D);for(var ye=new Uint8Array(8),Le=0;Le<8;Le++)ye[Le]=fe[Le+16];return j(X,ee,te,W,ie,ye,ae)}var O=function(X){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var ee,te,W,ie,fe,Ie,ae,ye;ee=X[0]&255|(X[1]&255)<<8,this.r[0]=ee&8191,te=X[2]&255|(X[3]&255)<<8,this.r[1]=(ee>>>13|te<<3)&8191,W=X[4]&255|(X[5]&255)<<8,this.r[2]=(te>>>10|W<<6)&7939,ie=X[6]&255|(X[7]&255)<<8,this.r[3]=(W>>>7|ie<<9)&8191,fe=X[8]&255|(X[9]&255)<<8,this.r[4]=(ie>>>4|fe<<12)&255,this.r[5]=fe>>>1&8190,Ie=X[10]&255|(X[11]&255)<<8,this.r[6]=(fe>>>14|Ie<<2)&8191,ae=X[12]&255|(X[13]&255)<<8,this.r[7]=(Ie>>>11|ae<<5)&8065,ye=X[14]&255|(X[15]&255)<<8,this.r[8]=(ae>>>8|ye<<8)&8191,this.r[9]=ye>>>5&127,this.pad[0]=X[16]&255|(X[17]&255)<<8,this.pad[1]=X[18]&255|(X[19]&255)<<8,this.pad[2]=X[20]&255|(X[21]&255)<<8,this.pad[3]=X[22]&255|(X[23]&255)<<8,this.pad[4]=X[24]&255|(X[25]&255)<<8,this.pad[5]=X[26]&255|(X[27]&255)<<8,this.pad[6]=X[28]&255|(X[29]&255)<<8,this.pad[7]=X[30]&255|(X[31]&255)<<8};O.prototype.blocks=function(X,ee,te){for(var W=this.fin?0:2048,ie,fe,Ie,ae,ye,Le,Re,Mt,ut,Ot,Se,be,Ee,Fe,Ve,Xe,xe,Pe,je,Ze=this.h[0],dt=this.h[1],ft=this.h[2],Ue=this.h[3],_e=this.h[4],et=this.h[5],Qe=this.h[6],at=this.h[7],yt=this.h[8],Yt=this.h[9],or=this.r[0],pr=this.r[1],hr=this.r[2],ge=this.r[3],Sr=this.r[4],zr=this.r[5],Lr=this.r[6],gr=this.r[7],Br=this.r[8],Rr=this.r[9];te>=16;)ie=X[ee+0]&255|(X[ee+1]&255)<<8,Ze+=ie&8191,fe=X[ee+2]&255|(X[ee+3]&255)<<8,dt+=(ie>>>13|fe<<3)&8191,Ie=X[ee+4]&255|(X[ee+5]&255)<<8,ft+=(fe>>>10|Ie<<6)&8191,ae=X[ee+6]&255|(X[ee+7]&255)<<8,Ue+=(Ie>>>7|ae<<9)&8191,ye=X[ee+8]&255|(X[ee+9]&255)<<8,_e+=(ae>>>4|ye<<12)&8191,et+=ye>>>1&8191,Le=X[ee+10]&255|(X[ee+11]&255)<<8,Qe+=(ye>>>14|Le<<2)&8191,Re=X[ee+12]&255|(X[ee+13]&255)<<8,at+=(Le>>>11|Re<<5)&8191,Mt=X[ee+14]&255|(X[ee+15]&255)<<8,yt+=(Re>>>8|Mt<<8)&8191,Yt+=Mt>>>5|W,ut=0,Ot=ut,Ot+=Ze*or,Ot+=dt*(5*Rr),Ot+=ft*(5*Br),Ot+=Ue*(5*gr),Ot+=_e*(5*Lr),ut=Ot>>>13,Ot&=8191,Ot+=et*(5*zr),Ot+=Qe*(5*Sr),Ot+=at*(5*ge),Ot+=yt*(5*hr),Ot+=Yt*(5*pr),ut+=Ot>>>13,Ot&=8191,Se=ut,Se+=Ze*pr,Se+=dt*or,Se+=ft*(5*Rr),Se+=Ue*(5*Br),Se+=_e*(5*gr),ut=Se>>>13,Se&=8191,Se+=et*(5*Lr),Se+=Qe*(5*zr),Se+=at*(5*Sr),Se+=yt*(5*ge),Se+=Yt*(5*hr),ut+=Se>>>13,Se&=8191,be=ut,be+=Ze*hr,be+=dt*pr,be+=ft*or,be+=Ue*(5*Rr),be+=_e*(5*Br),ut=be>>>13,be&=8191,be+=et*(5*gr),be+=Qe*(5*Lr),be+=at*(5*zr),be+=yt*(5*Sr),be+=Yt*(5*ge),ut+=be>>>13,be&=8191,Ee=ut,Ee+=Ze*ge,Ee+=dt*hr,Ee+=ft*pr,Ee+=Ue*or,Ee+=_e*(5*Rr),ut=Ee>>>13,Ee&=8191,Ee+=et*(5*Br),Ee+=Qe*(5*gr),Ee+=at*(5*Lr),Ee+=yt*(5*zr),Ee+=Yt*(5*Sr),ut+=Ee>>>13,Ee&=8191,Fe=ut,Fe+=Ze*Sr,Fe+=dt*ge,Fe+=ft*hr,Fe+=Ue*pr,Fe+=_e*or,ut=Fe>>>13,Fe&=8191,Fe+=et*(5*Rr),Fe+=Qe*(5*Br),Fe+=at*(5*gr),Fe+=yt*(5*Lr),Fe+=Yt*(5*zr),ut+=Fe>>>13,Fe&=8191,Ve=ut,Ve+=Ze*zr,Ve+=dt*Sr,Ve+=ft*ge,Ve+=Ue*hr,Ve+=_e*pr,ut=Ve>>>13,Ve&=8191,Ve+=et*or,Ve+=Qe*(5*Rr),Ve+=at*(5*Br),Ve+=yt*(5*gr),Ve+=Yt*(5*Lr),ut+=Ve>>>13,Ve&=8191,Xe=ut,Xe+=Ze*Lr,Xe+=dt*zr,Xe+=ft*Sr,Xe+=Ue*ge,Xe+=_e*hr,ut=Xe>>>13,Xe&=8191,Xe+=et*pr,Xe+=Qe*or,Xe+=at*(5*Rr),Xe+=yt*(5*Br),Xe+=Yt*(5*gr),ut+=Xe>>>13,Xe&=8191,xe=ut,xe+=Ze*gr,xe+=dt*Lr,xe+=ft*zr,xe+=Ue*Sr,xe+=_e*ge,ut=xe>>>13,xe&=8191,xe+=et*hr,xe+=Qe*pr,xe+=at*or,xe+=yt*(5*Rr),xe+=Yt*(5*Br),ut+=xe>>>13,xe&=8191,Pe=ut,Pe+=Ze*Br,Pe+=dt*gr,Pe+=ft*Lr,Pe+=Ue*zr,Pe+=_e*Sr,ut=Pe>>>13,Pe&=8191,Pe+=et*ge,Pe+=Qe*hr,Pe+=at*pr,Pe+=yt*or,Pe+=Yt*(5*Rr),ut+=Pe>>>13,Pe&=8191,je=ut,je+=Ze*Rr,je+=dt*Br,je+=ft*gr,je+=Ue*Lr,je+=_e*zr,ut=je>>>13,je&=8191,je+=et*Sr,je+=Qe*ge,je+=at*hr,je+=yt*pr,je+=Yt*or,ut+=je>>>13,je&=8191,ut=(ut<<2)+ut|0,ut=ut+Ot|0,Ot=ut&8191,ut=ut>>>13,Se+=ut,Ze=Ot,dt=Se,ft=be,Ue=Ee,_e=Fe,et=Ve,Qe=Xe,at=xe,yt=Pe,Yt=je,ee+=16,te-=16;this.h[0]=Ze,this.h[1]=dt,this.h[2]=ft,this.h[3]=Ue,this.h[4]=_e,this.h[5]=et,this.h[6]=Qe,this.h[7]=at,this.h[8]=yt,this.h[9]=Yt},O.prototype.finish=function(X,ee){var te=new Uint16Array(10),W,ie,fe,Ie;if(this.leftover){for(Ie=this.leftover,this.buffer[Ie++]=1;Ie<16;Ie++)this.buffer[Ie]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(W=this.h[1]>>>13,this.h[1]&=8191,Ie=2;Ie<10;Ie++)this.h[Ie]+=W,W=this.h[Ie]>>>13,this.h[Ie]&=8191;for(this.h[0]+=W*5,W=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=W,W=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=W,te[0]=this.h[0]+5,W=te[0]>>>13,te[0]&=8191,Ie=1;Ie<10;Ie++)te[Ie]=this.h[Ie]+W,W=te[Ie]>>>13,te[Ie]&=8191;for(te[9]-=8192,ie=(W^1)-1,Ie=0;Ie<10;Ie++)te[Ie]&=ie;for(ie=~ie,Ie=0;Ie<10;Ie++)this.h[Ie]=this.h[Ie]&ie|te[Ie];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,fe=this.h[0]+this.pad[0],this.h[0]=fe&65535,Ie=1;Ie<8;Ie++)fe=(this.h[Ie]+this.pad[Ie]|0)+(fe>>>16)|0,this.h[Ie]=fe&65535;X[ee+0]=this.h[0]>>>0&255,X[ee+1]=this.h[0]>>>8&255,X[ee+2]=this.h[1]>>>0&255,X[ee+3]=this.h[1]>>>8&255,X[ee+4]=this.h[2]>>>0&255,X[ee+5]=this.h[2]>>>8&255,X[ee+6]=this.h[3]>>>0&255,X[ee+7]=this.h[3]>>>8&255,X[ee+8]=this.h[4]>>>0&255,X[ee+9]=this.h[4]>>>8&255,X[ee+10]=this.h[5]>>>0&255,X[ee+11]=this.h[5]>>>8&255,X[ee+12]=this.h[6]>>>0&255,X[ee+13]=this.h[6]>>>8&255,X[ee+14]=this.h[7]>>>0&255,X[ee+15]=this.h[7]>>>8&255},O.prototype.update=function(X,ee,te){var W,ie;if(this.leftover){for(ie=16-this.leftover,ie>te&&(ie=te),W=0;W<ie;W++)this.buffer[this.leftover+W]=X[ee+W];if(te-=ie,ee+=ie,this.leftover+=ie,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(te>=16&&(ie=te-te%16,this.blocks(X,ee,ie),ee+=ie,te-=ie),te){for(W=0;W<te;W++)this.buffer[this.leftover+W]=X[ee+W];this.leftover+=te}};function b(X,ee,te,W,ie,fe){var Ie=new O(fe);return Ie.update(te,W,ie),Ie.finish(X,ee),0}function w(X,ee,te,W,ie,fe){var Ie=new Uint8Array(16);return b(Ie,0,te,W,ie,fe),k(X,ee,Ie,0)}function p(X,ee,te,W,ie){var fe;if(te<32)return-1;for(H(X,0,ee,0,te,W,ie),b(X,16,X,32,te-32,X),fe=0;fe<16;fe++)X[fe]=0;return 0}function g(X,ee,te,W,ie){var fe,Ie=new Uint8Array(32);if(te<32||(R(Ie,0,32,W,ie),w(ee,16,ee,32,te-32,Ie)!==0))return-1;for(H(X,0,ee,0,te,W,ie),fe=0;fe<32;fe++)X[fe]=0;return 0}function S(X,ee){var te;for(te=0;te<16;te++)X[te]=ee[te]|0}function N(X){var ee,te,W=1;for(ee=0;ee<16;ee++)te=X[ee]+W+65535,W=Math.floor(te/65536),X[ee]=te-W*65536;X[0]+=W-1+37*(W-1)}function I(X,ee,te){for(var W,ie=~(te-1),fe=0;fe<16;fe++)W=ie&(X[fe]^ee[fe]),X[fe]^=W,ee[fe]^=W}function A(X,ee){var te,W,ie,fe=r(),Ie=r();for(te=0;te<16;te++)Ie[te]=ee[te];for(N(Ie),N(Ie),N(Ie),W=0;W<2;W++){for(fe[0]=Ie[0]-65517,te=1;te<15;te++)fe[te]=Ie[te]-65535-(fe[te-1]>>16&1),fe[te-1]&=65535;fe[15]=Ie[15]-32767-(fe[14]>>16&1),ie=fe[15]>>16&1,fe[14]&=65535,I(Ie,fe,1-ie)}for(te=0;te<16;te++)X[2*te]=Ie[te]&255,X[2*te+1]=Ie[te]>>8}function y(X,ee){var te=new Uint8Array(32),W=new Uint8Array(32);return A(te,X),A(W,ee),E(te,0,W,0)}function C(X){var ee=new Uint8Array(32);return A(ee,X),ee[0]&1}function $(X,ee){var te;for(te=0;te<16;te++)X[te]=ee[2*te]+(ee[2*te+1]<<8);X[15]&=32767}function L(X,ee,te){for(var W=0;W<16;W++)X[W]=ee[W]+te[W]}function Q(X,ee,te){for(var W=0;W<16;W++)X[W]=ee[W]-te[W]}function U(X,ee,te){var W,ie,fe=0,Ie=0,ae=0,ye=0,Le=0,Re=0,Mt=0,ut=0,Ot=0,Se=0,be=0,Ee=0,Fe=0,Ve=0,Xe=0,xe=0,Pe=0,je=0,Ze=0,dt=0,ft=0,Ue=0,_e=0,et=0,Qe=0,at=0,yt=0,Yt=0,or=0,pr=0,hr=0,ge=te[0],Sr=te[1],zr=te[2],Lr=te[3],gr=te[4],Br=te[5],Rr=te[6],Zn=te[7],Zr=te[8],bn=te[9],Jn=te[10],Qn=te[11],vn=te[12],Qs=te[13],Ys=te[14],Gs=te[15];W=ee[0],fe+=W*ge,Ie+=W*Sr,ae+=W*zr,ye+=W*Lr,Le+=W*gr,Re+=W*Br,Mt+=W*Rr,ut+=W*Zn,Ot+=W*Zr,Se+=W*bn,be+=W*Jn,Ee+=W*Qn,Fe+=W*vn,Ve+=W*Qs,Xe+=W*Ys,xe+=W*Gs,W=ee[1],Ie+=W*ge,ae+=W*Sr,ye+=W*zr,Le+=W*Lr,Re+=W*gr,Mt+=W*Br,ut+=W*Rr,Ot+=W*Zn,Se+=W*Zr,be+=W*bn,Ee+=W*Jn,Fe+=W*Qn,Ve+=W*vn,Xe+=W*Qs,xe+=W*Ys,Pe+=W*Gs,W=ee[2],ae+=W*ge,ye+=W*Sr,Le+=W*zr,Re+=W*Lr,Mt+=W*gr,ut+=W*Br,Ot+=W*Rr,Se+=W*Zn,be+=W*Zr,Ee+=W*bn,Fe+=W*Jn,Ve+=W*Qn,Xe+=W*vn,xe+=W*Qs,Pe+=W*Ys,je+=W*Gs,W=ee[3],ye+=W*ge,Le+=W*Sr,Re+=W*zr,Mt+=W*Lr,ut+=W*gr,Ot+=W*Br,Se+=W*Rr,be+=W*Zn,Ee+=W*Zr,Fe+=W*bn,Ve+=W*Jn,Xe+=W*Qn,xe+=W*vn,Pe+=W*Qs,je+=W*Ys,Ze+=W*Gs,W=ee[4],Le+=W*ge,Re+=W*Sr,Mt+=W*zr,ut+=W*Lr,Ot+=W*gr,Se+=W*Br,be+=W*Rr,Ee+=W*Zn,Fe+=W*Zr,Ve+=W*bn,Xe+=W*Jn,xe+=W*Qn,Pe+=W*vn,je+=W*Qs,Ze+=W*Ys,dt+=W*Gs,W=ee[5],Re+=W*ge,Mt+=W*Sr,ut+=W*zr,Ot+=W*Lr,Se+=W*gr,be+=W*Br,Ee+=W*Rr,Fe+=W*Zn,Ve+=W*Zr,Xe+=W*bn,xe+=W*Jn,Pe+=W*Qn,je+=W*vn,Ze+=W*Qs,dt+=W*Ys,ft+=W*Gs,W=ee[6],Mt+=W*ge,ut+=W*Sr,Ot+=W*zr,Se+=W*Lr,be+=W*gr,Ee+=W*Br,Fe+=W*Rr,Ve+=W*Zn,Xe+=W*Zr,xe+=W*bn,Pe+=W*Jn,je+=W*Qn,Ze+=W*vn,dt+=W*Qs,ft+=W*Ys,Ue+=W*Gs,W=ee[7],ut+=W*ge,Ot+=W*Sr,Se+=W*zr,be+=W*Lr,Ee+=W*gr,Fe+=W*Br,Ve+=W*Rr,Xe+=W*Zn,xe+=W*Zr,Pe+=W*bn,je+=W*Jn,Ze+=W*Qn,dt+=W*vn,ft+=W*Qs,Ue+=W*Ys,_e+=W*Gs,W=ee[8],Ot+=W*ge,Se+=W*Sr,be+=W*zr,Ee+=W*Lr,Fe+=W*gr,Ve+=W*Br,Xe+=W*Rr,xe+=W*Zn,Pe+=W*Zr,je+=W*bn,Ze+=W*Jn,dt+=W*Qn,ft+=W*vn,Ue+=W*Qs,_e+=W*Ys,et+=W*Gs,W=ee[9],Se+=W*ge,be+=W*Sr,Ee+=W*zr,Fe+=W*Lr,Ve+=W*gr,Xe+=W*Br,xe+=W*Rr,Pe+=W*Zn,je+=W*Zr,Ze+=W*bn,dt+=W*Jn,ft+=W*Qn,Ue+=W*vn,_e+=W*Qs,et+=W*Ys,Qe+=W*Gs,W=ee[10],be+=W*ge,Ee+=W*Sr,Fe+=W*zr,Ve+=W*Lr,Xe+=W*gr,xe+=W*Br,Pe+=W*Rr,je+=W*Zn,Ze+=W*Zr,dt+=W*bn,ft+=W*Jn,Ue+=W*Qn,_e+=W*vn,et+=W*Qs,Qe+=W*Ys,at+=W*Gs,W=ee[11],Ee+=W*ge,Fe+=W*Sr,Ve+=W*zr,Xe+=W*Lr,xe+=W*gr,Pe+=W*Br,je+=W*Rr,Ze+=W*Zn,dt+=W*Zr,ft+=W*bn,Ue+=W*Jn,_e+=W*Qn,et+=W*vn,Qe+=W*Qs,at+=W*Ys,yt+=W*Gs,W=ee[12],Fe+=W*ge,Ve+=W*Sr,Xe+=W*zr,xe+=W*Lr,Pe+=W*gr,je+=W*Br,Ze+=W*Rr,dt+=W*Zn,ft+=W*Zr,Ue+=W*bn,_e+=W*Jn,et+=W*Qn,Qe+=W*vn,at+=W*Qs,yt+=W*Ys,Yt+=W*Gs,W=ee[13],Ve+=W*ge,Xe+=W*Sr,xe+=W*zr,Pe+=W*Lr,je+=W*gr,Ze+=W*Br,dt+=W*Rr,ft+=W*Zn,Ue+=W*Zr,_e+=W*bn,et+=W*Jn,Qe+=W*Qn,at+=W*vn,yt+=W*Qs,Yt+=W*Ys,or+=W*Gs,W=ee[14],Xe+=W*ge,xe+=W*Sr,Pe+=W*zr,je+=W*Lr,Ze+=W*gr,dt+=W*Br,ft+=W*Rr,Ue+=W*Zn,_e+=W*Zr,et+=W*bn,Qe+=W*Jn,at+=W*Qn,yt+=W*vn,Yt+=W*Qs,or+=W*Ys,pr+=W*Gs,W=ee[15],xe+=W*ge,Pe+=W*Sr,je+=W*zr,Ze+=W*Lr,dt+=W*gr,ft+=W*Br,Ue+=W*Rr,_e+=W*Zn,et+=W*Zr,Qe+=W*bn,at+=W*Jn,yt+=W*Qn,Yt+=W*vn,or+=W*Qs,pr+=W*Ys,hr+=W*Gs,fe+=38*Pe,Ie+=38*je,ae+=38*Ze,ye+=38*dt,Le+=38*ft,Re+=38*Ue,Mt+=38*_e,ut+=38*et,Ot+=38*Qe,Se+=38*at,be+=38*yt,Ee+=38*Yt,Fe+=38*or,Ve+=38*pr,Xe+=38*hr,ie=1,W=fe+ie+65535,ie=Math.floor(W/65536),fe=W-ie*65536,W=Ie+ie+65535,ie=Math.floor(W/65536),Ie=W-ie*65536,W=ae+ie+65535,ie=Math.floor(W/65536),ae=W-ie*65536,W=ye+ie+65535,ie=Math.floor(W/65536),ye=W-ie*65536,W=Le+ie+65535,ie=Math.floor(W/65536),Le=W-ie*65536,W=Re+ie+65535,ie=Math.floor(W/65536),Re=W-ie*65536,W=Mt+ie+65535,ie=Math.floor(W/65536),Mt=W-ie*65536,W=ut+ie+65535,ie=Math.floor(W/65536),ut=W-ie*65536,W=Ot+ie+65535,ie=Math.floor(W/65536),Ot=W-ie*65536,W=Se+ie+65535,ie=Math.floor(W/65536),Se=W-ie*65536,W=be+ie+65535,ie=Math.floor(W/65536),be=W-ie*65536,W=Ee+ie+65535,ie=Math.floor(W/65536),Ee=W-ie*65536,W=Fe+ie+65535,ie=Math.floor(W/65536),Fe=W-ie*65536,W=Ve+ie+65535,ie=Math.floor(W/65536),Ve=W-ie*65536,W=Xe+ie+65535,ie=Math.floor(W/65536),Xe=W-ie*65536,W=xe+ie+65535,ie=Math.floor(W/65536),xe=W-ie*65536,fe+=ie-1+37*(ie-1),ie=1,W=fe+ie+65535,ie=Math.floor(W/65536),fe=W-ie*65536,W=Ie+ie+65535,ie=Math.floor(W/65536),Ie=W-ie*65536,W=ae+ie+65535,ie=Math.floor(W/65536),ae=W-ie*65536,W=ye+ie+65535,ie=Math.floor(W/65536),ye=W-ie*65536,W=Le+ie+65535,ie=Math.floor(W/65536),Le=W-ie*65536,W=Re+ie+65535,ie=Math.floor(W/65536),Re=W-ie*65536,W=Mt+ie+65535,ie=Math.floor(W/65536),Mt=W-ie*65536,W=ut+ie+65535,ie=Math.floor(W/65536),ut=W-ie*65536,W=Ot+ie+65535,ie=Math.floor(W/65536),Ot=W-ie*65536,W=Se+ie+65535,ie=Math.floor(W/65536),Se=W-ie*65536,W=be+ie+65535,ie=Math.floor(W/65536),be=W-ie*65536,W=Ee+ie+65535,ie=Math.floor(W/65536),Ee=W-ie*65536,W=Fe+ie+65535,ie=Math.floor(W/65536),Fe=W-ie*65536,W=Ve+ie+65535,ie=Math.floor(W/65536),Ve=W-ie*65536,W=Xe+ie+65535,ie=Math.floor(W/65536),Xe=W-ie*65536,W=xe+ie+65535,ie=Math.floor(W/65536),xe=W-ie*65536,fe+=ie-1+37*(ie-1),X[0]=fe,X[1]=Ie,X[2]=ae,X[3]=ye,X[4]=Le,X[5]=Re,X[6]=Mt,X[7]=ut,X[8]=Ot,X[9]=Se,X[10]=be,X[11]=Ee,X[12]=Fe,X[13]=Ve,X[14]=Xe,X[15]=xe}function J(X,ee){U(X,ee,ee)}function Z(X,ee){var te=r(),W;for(W=0;W<16;W++)te[W]=ee[W];for(W=253;W>=0;W--)J(te,te),W!==2&&W!==4&&U(te,te,ee);for(W=0;W<16;W++)X[W]=te[W]}function re(X,ee){var te=r(),W;for(W=0;W<16;W++)te[W]=ee[W];for(W=250;W>=0;W--)J(te,te),W!==1&&U(te,te,ee);for(W=0;W<16;W++)X[W]=te[W]}function G(X,ee,te){var W=new Uint8Array(32),ie=new Float64Array(80),fe,Ie,ae=r(),ye=r(),Le=r(),Re=r(),Mt=r(),ut=r();for(Ie=0;Ie<31;Ie++)W[Ie]=ee[Ie];for(W[31]=ee[31]&127|64,W[0]&=248,$(ie,te),Ie=0;Ie<16;Ie++)ye[Ie]=ie[Ie],Re[Ie]=ae[Ie]=Le[Ie]=0;for(ae[0]=Re[0]=1,Ie=254;Ie>=0;--Ie)fe=W[Ie>>>3]>>>(Ie&7)&1,I(ae,ye,fe),I(Le,Re,fe),L(Mt,ae,Le),Q(ae,ae,Le),L(Le,ye,Re),Q(ye,ye,Re),J(Re,Mt),J(ut,ae),U(ae,Le,ae),U(Le,ye,Mt),L(Mt,ae,Le),Q(ae,ae,Le),J(ye,ae),Q(Le,Re,ut),U(ae,Le,c),L(ae,ae,Re),U(Le,Le,ae),U(ae,Re,ut),U(Re,ye,ie),J(ye,Mt),I(ae,ye,fe),I(Le,Re,fe);for(Ie=0;Ie<16;Ie++)ie[Ie+16]=ae[Ie],ie[Ie+32]=Le[Ie],ie[Ie+48]=ye[Ie],ie[Ie+64]=Re[Ie];var Ot=ie.subarray(32),Se=ie.subarray(16);return Z(Ot,Ot),U(Se,Se,Ot),A(X,Se),0}function z(X,ee){return G(X,ee,i)}function se(X,ee){return n(ee,32),z(X,ee)}function ce(X,ee,te){var W=new Uint8Array(32);return G(W,te,ee),B(X,s,W,D)}var pe=p,Ce=g;function ke(X,ee,te,W,ie,fe){var Ie=new Uint8Array(32);return ce(Ie,ie,fe),pe(X,ee,te,W,Ie)}function tt(X,ee,te,W,ie,fe){var Ie=new Uint8Array(32);return ce(Ie,ie,fe),Ce(X,ee,te,W,Ie)}var mt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function we(X,ee,te,W){for(var ie=new Int32Array(16),fe=new Int32Array(16),Ie,ae,ye,Le,Re,Mt,ut,Ot,Se,be,Ee,Fe,Ve,Xe,xe,Pe,je,Ze,dt,ft,Ue,_e,et,Qe,at,yt,Yt=X[0],or=X[1],pr=X[2],hr=X[3],ge=X[4],Sr=X[5],zr=X[6],Lr=X[7],gr=ee[0],Br=ee[1],Rr=ee[2],Zn=ee[3],Zr=ee[4],bn=ee[5],Jn=ee[6],Qn=ee[7],vn=0;W>=128;){for(dt=0;dt<16;dt++)ft=8*dt+vn,ie[dt]=te[ft+0]<<24|te[ft+1]<<16|te[ft+2]<<8|te[ft+3],fe[dt]=te[ft+4]<<24|te[ft+5]<<16|te[ft+6]<<8|te[ft+7];for(dt=0;dt<80;dt++)if(Ie=Yt,ae=or,ye=pr,Le=hr,Re=ge,Mt=Sr,ut=zr,Ot=Lr,Se=gr,be=Br,Ee=Rr,Fe=Zn,Ve=Zr,Xe=bn,xe=Jn,Pe=Qn,Ue=Lr,_e=Qn,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=(ge>>>14|Zr<<18)^(ge>>>18|Zr<<14)^(Zr>>>9|ge<<23),_e=(Zr>>>14|ge<<18)^(Zr>>>18|ge<<14)^(ge>>>9|Zr<<23),et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=ge&Sr^~ge&zr,_e=Zr&bn^~Zr&Jn,et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=mt[dt*2],_e=mt[dt*2+1],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=ie[dt%16],_e=fe[dt%16],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,je=at&65535|yt<<16,Ze=et&65535|Qe<<16,Ue=je,_e=Ze,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=(Yt>>>28|gr<<4)^(gr>>>2|Yt<<30)^(gr>>>7|Yt<<25),_e=(gr>>>28|Yt<<4)^(Yt>>>2|gr<<30)^(Yt>>>7|gr<<25),et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=Yt&or^Yt&pr^or&pr,_e=gr&Br^gr&Rr^Br&Rr,et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,Ot=at&65535|yt<<16,Pe=et&65535|Qe<<16,Ue=Le,_e=Fe,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=je,_e=Ze,et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,Le=at&65535|yt<<16,Fe=et&65535|Qe<<16,or=Ie,pr=ae,hr=ye,ge=Le,Sr=Re,zr=Mt,Lr=ut,Yt=Ot,Br=Se,Rr=be,Zn=Ee,Zr=Fe,bn=Ve,Jn=Xe,Qn=xe,gr=Pe,dt%16===15)for(ft=0;ft<16;ft++)Ue=ie[ft],_e=fe[ft],et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=ie[(ft+9)%16],_e=fe[(ft+9)%16],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,je=ie[(ft+1)%16],Ze=fe[(ft+1)%16],Ue=(je>>>1|Ze<<31)^(je>>>8|Ze<<24)^je>>>7,_e=(Ze>>>1|je<<31)^(Ze>>>8|je<<24)^(Ze>>>7|je<<25),et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,je=ie[(ft+14)%16],Ze=fe[(ft+14)%16],Ue=(je>>>19|Ze<<13)^(Ze>>>29|je<<3)^je>>>6,_e=(Ze>>>19|je<<13)^(je>>>29|Ze<<3)^(Ze>>>6|je<<26),et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,ie[ft]=at&65535|yt<<16,fe[ft]=et&65535|Qe<<16;Ue=Yt,_e=gr,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[0],_e=ee[0],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[0]=Yt=at&65535|yt<<16,ee[0]=gr=et&65535|Qe<<16,Ue=or,_e=Br,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[1],_e=ee[1],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[1]=or=at&65535|yt<<16,ee[1]=Br=et&65535|Qe<<16,Ue=pr,_e=Rr,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[2],_e=ee[2],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[2]=pr=at&65535|yt<<16,ee[2]=Rr=et&65535|Qe<<16,Ue=hr,_e=Zn,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[3],_e=ee[3],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[3]=hr=at&65535|yt<<16,ee[3]=Zn=et&65535|Qe<<16,Ue=ge,_e=Zr,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[4],_e=ee[4],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[4]=ge=at&65535|yt<<16,ee[4]=Zr=et&65535|Qe<<16,Ue=Sr,_e=bn,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[5],_e=ee[5],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[5]=Sr=at&65535|yt<<16,ee[5]=bn=et&65535|Qe<<16,Ue=zr,_e=Jn,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[6],_e=ee[6],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[6]=zr=at&65535|yt<<16,ee[6]=Jn=et&65535|Qe<<16,Ue=Lr,_e=Qn,et=_e&65535,Qe=_e>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[7],_e=ee[7],et+=_e&65535,Qe+=_e>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[7]=Lr=at&65535|yt<<16,ee[7]=Qn=et&65535|Qe<<16,vn+=128,W-=128}return W}function qe(X,ee,te){var W=new Int32Array(8),ie=new Int32Array(8),fe=new Uint8Array(256),Ie,ae=te;for(W[0]=1779033703,W[1]=3144134277,W[2]=1013904242,W[3]=2773480762,W[4]=1359893119,W[5]=2600822924,W[6]=528734635,W[7]=1541459225,ie[0]=4089235720,ie[1]=2227873595,ie[2]=4271175723,ie[3]=1595750129,ie[4]=2917565137,ie[5]=725511199,ie[6]=4215389547,ie[7]=327033209,we(W,ie,ee,te),te%=128,Ie=0;Ie<te;Ie++)fe[Ie]=ee[ae-te+Ie];for(fe[te]=128,te=256-128*(te<112?1:0),fe[te-9]=0,v(fe,te-8,ae/536870912|0,ae<<3),we(W,ie,fe,te),Ie=0;Ie<8;Ie++)v(X,8*Ie,W[Ie],ie[Ie]);return 0}function Ae(X,ee){var te=r(),W=r(),ie=r(),fe=r(),Ie=r(),ae=r(),ye=r(),Le=r(),Re=r();Q(te,X[1],X[0]),Q(Re,ee[1],ee[0]),U(te,te,Re),L(W,X[0],X[1]),L(Re,ee[0],ee[1]),U(W,W,Re),U(ie,X[3],ee[3]),U(ie,ie,u),U(fe,X[2],ee[2]),L(fe,fe,fe),Q(Ie,W,te),Q(ae,fe,ie),L(ye,fe,ie),L(Le,W,te),U(X[0],Ie,ae),U(X[1],Le,ye),U(X[2],ye,ae),U(X[3],Ie,Le)}function Oe(X,ee,te){var W;for(W=0;W<4;W++)I(X[W],ee[W],te)}function We(X,ee){var te=r(),W=r(),ie=r();Z(ie,ee[2]),U(te,ee[0],ie),U(W,ee[1],ie),A(X,W),X[31]^=C(te)<<7}function Be(X,ee,te){var W,ie;for(S(X[0],a),S(X[1],o),S(X[2],o),S(X[3],a),ie=255;ie>=0;--ie)W=te[ie/8|0]>>(ie&7)&1,Oe(X,ee,W),Ae(ee,X),Ae(X,X),Oe(X,ee,W)}function ze(X,ee){var te=[r(),r(),r(),r()];S(te[0],f),S(te[1],h),S(te[2],o),U(te[3],f,h),Be(X,te,ee)}function Ke(X,ee,te){var W=new Uint8Array(64),ie=[r(),r(),r(),r()],fe;for(te||n(ee,32),qe(W,ee,32),W[0]&=248,W[31]&=127,W[31]|=64,ze(ie,W),We(X,ie),fe=0;fe<32;fe++)ee[fe+32]=X[fe];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Y(X,ee){var te,W,ie,fe;for(W=63;W>=32;--W){for(te=0,ie=W-32,fe=W-12;ie<fe;++ie)ee[ie]+=te-16*ee[W]*ct[ie-(W-32)],te=Math.floor((ee[ie]+128)/256),ee[ie]-=te*256;ee[ie]+=te,ee[W]=0}for(te=0,ie=0;ie<32;ie++)ee[ie]+=te-(ee[31]>>4)*ct[ie],te=ee[ie]>>8,ee[ie]&=255;for(ie=0;ie<32;ie++)ee[ie]-=te*ct[ie];for(W=0;W<32;W++)ee[W+1]+=ee[W]>>8,X[W]=ee[W]&255}function V(X){var ee=new Float64Array(64),te;for(te=0;te<64;te++)ee[te]=X[te];for(te=0;te<64;te++)X[te]=0;Y(X,ee)}function q(X,ee,te,W){var ie=new Uint8Array(64),fe=new Uint8Array(64),Ie=new Uint8Array(64),ae,ye,Le=new Float64Array(64),Re=[r(),r(),r(),r()];qe(ie,W,32),ie[0]&=248,ie[31]&=127,ie[31]|=64;var Mt=te+64;for(ae=0;ae<te;ae++)X[64+ae]=ee[ae];for(ae=0;ae<32;ae++)X[32+ae]=ie[32+ae];for(qe(Ie,X.subarray(32),te+32),V(Ie),ze(Re,Ie),We(X,Re),ae=32;ae<64;ae++)X[ae]=W[ae];for(qe(fe,X,te+64),V(fe),ae=0;ae<64;ae++)Le[ae]=0;for(ae=0;ae<32;ae++)Le[ae]=Ie[ae];for(ae=0;ae<32;ae++)for(ye=0;ye<32;ye++)Le[ae+ye]+=fe[ae]*ie[ye];return Y(X.subarray(32),Le),Mt}function ne(X,ee){var te=r(),W=r(),ie=r(),fe=r(),Ie=r(),ae=r(),ye=r();return S(X[2],o),$(X[1],ee),J(ie,X[1]),U(fe,ie,l),Q(ie,ie,X[2]),L(fe,X[2],fe),J(Ie,fe),J(ae,Ie),U(ye,ae,Ie),U(te,ye,ie),U(te,te,fe),re(te,te),U(te,te,ie),U(te,te,fe),U(te,te,fe),U(X[0],te,fe),J(W,X[0]),U(W,W,fe),y(W,ie)&&U(X[0],X[0],m),J(W,X[0]),U(W,W,fe),y(W,ie)?-1:(C(X[0])===ee[31]>>7&&Q(X[0],a,X[0]),U(X[3],X[0],X[1]),0)}function le(X,ee,te,W){var ie,fe=new Uint8Array(32),Ie=new Uint8Array(64),ae=[r(),r(),r(),r()],ye=[r(),r(),r(),r()];if(te<64||ne(ye,W))return-1;for(ie=0;ie<te;ie++)X[ie]=ee[ie];for(ie=0;ie<32;ie++)X[ie+32]=W[ie];if(qe(Ie,X,te),V(Ie),Be(ae,ye,Ie),ze(ye,ee.subarray(32)),Ae(ae,ye),We(fe,ae),te-=64,E(ee,0,fe,0)){for(ie=0;ie<te;ie++)X[ie]=0;return-1}for(ie=0;ie<te;ie++)X[ie]=ee[ie+64];return te}var de=32,me=24,rt=32,ht=16,ot=32,pt=32,Ct=32,St=32,Rt=32,nr=me,De=rt,He=ht,gt=64,nt=32,It=64,Ut=32,bt=64;e.lowlevel={crypto_core_hsalsa20:B,crypto_stream_xor:H,crypto_stream:R,crypto_stream_salsa20_xor:j,crypto_stream_salsa20:T,crypto_onetimeauth:b,crypto_onetimeauth_verify:w,crypto_verify_16:k,crypto_verify_32:E,crypto_secretbox:p,crypto_secretbox_open:g,crypto_scalarmult:G,crypto_scalarmult_base:z,crypto_box_beforenm:ce,crypto_box_afternm:pe,crypto_box:ke,crypto_box_open:tt,crypto_box_keypair:se,crypto_hash:qe,crypto_sign:q,crypto_sign_keypair:Ke,crypto_sign_open:le,crypto_secretbox_KEYBYTES:de,crypto_secretbox_NONCEBYTES:me,crypto_secretbox_ZEROBYTES:rt,crypto_secretbox_BOXZEROBYTES:ht,crypto_scalarmult_BYTES:ot,crypto_scalarmult_SCALARBYTES:pt,crypto_box_PUBLICKEYBYTES:Ct,crypto_box_SECRETKEYBYTES:St,crypto_box_BEFORENMBYTES:Rt,crypto_box_NONCEBYTES:nr,crypto_box_ZEROBYTES:De,crypto_box_BOXZEROBYTES:He,crypto_sign_BYTES:gt,crypto_sign_PUBLICKEYBYTES:nt,crypto_sign_SECRETKEYBYTES:It,crypto_sign_SEEDBYTES:Ut,crypto_hash_BYTES:bt,gf:r,D:l,L:ct,pack25519:A,unpack25519:$,M:U,A:L,S:J,Z:Q,pow2523:re,add:Ae,set25519:S,modL:Y,scalarmult:Be,scalarbase:ze};function Je(X,ee){if(X.length!==de)throw new Error("bad key size");if(ee.length!==me)throw new Error("bad nonce size")}function Pt(X,ee){if(X.length!==Ct)throw new Error("bad public key size");if(ee.length!==St)throw new Error("bad secret key size")}function it(){for(var X=0;X<arguments.length;X++)if(!(arguments[X]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Tt(X){for(var ee=0;ee<X.length;ee++)X[ee]=0}e.randomBytes=function(X){var ee=new Uint8Array(X);return n(ee,X),ee},e.secretbox=function(X,ee,te){it(X,ee,te),Je(te,ee);for(var W=new Uint8Array(rt+X.length),ie=new Uint8Array(W.length),fe=0;fe<X.length;fe++)W[fe+rt]=X[fe];return p(ie,W,W.length,ee,te),ie.subarray(ht)},e.secretbox.open=function(X,ee,te){it(X,ee,te),Je(te,ee);for(var W=new Uint8Array(ht+X.length),ie=new Uint8Array(W.length),fe=0;fe<X.length;fe++)W[fe+ht]=X[fe];return W.length<32||g(ie,W,W.length,ee,te)!==0?null:ie.subarray(rt)},e.secretbox.keyLength=de,e.secretbox.nonceLength=me,e.secretbox.overheadLength=ht,e.scalarMult=function(X,ee){if(it(X,ee),X.length!==pt)throw new Error("bad n size");if(ee.length!==ot)throw new Error("bad p size");var te=new Uint8Array(ot);return G(te,X,ee),te},e.scalarMult.base=function(X){if(it(X),X.length!==pt)throw new Error("bad n size");var ee=new Uint8Array(ot);return z(ee,X),ee},e.scalarMult.scalarLength=pt,e.scalarMult.groupElementLength=ot,e.box=function(X,ee,te,W){var ie=e.box.before(te,W);return e.secretbox(X,ee,ie)},e.box.before=function(X,ee){it(X,ee),Pt(X,ee);var te=new Uint8Array(Rt);return ce(te,X,ee),te},e.box.after=e.secretbox,e.box.open=function(X,ee,te,W){var ie=e.box.before(te,W);return e.secretbox.open(X,ee,ie)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var X=new Uint8Array(Ct),ee=new Uint8Array(St);return se(X,ee),{publicKey:X,secretKey:ee}},e.box.keyPair.fromSecretKey=function(X){if(it(X),X.length!==St)throw new Error("bad secret key size");var ee=new Uint8Array(Ct);return z(ee,X),{publicKey:ee,secretKey:new Uint8Array(X)}},e.box.publicKeyLength=Ct,e.box.secretKeyLength=St,e.box.sharedKeyLength=Rt,e.box.nonceLength=nr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(X,ee){if(it(X,ee),ee.length!==It)throw new Error("bad secret key size");var te=new Uint8Array(gt+X.length);return q(te,X,X.length,ee),te},e.sign.open=function(X,ee){if(it(X,ee),ee.length!==nt)throw new Error("bad public key size");var te=new Uint8Array(X.length),W=le(te,X,X.length,ee);if(W<0)return null;for(var ie=new Uint8Array(W),fe=0;fe<ie.length;fe++)ie[fe]=te[fe];return ie},e.sign.detached=function(X,ee){for(var te=e.sign(X,ee),W=new Uint8Array(gt),ie=0;ie<W.length;ie++)W[ie]=te[ie];return W},e.sign.detached.verify=function(X,ee,te){if(it(X,ee,te),ee.length!==gt)throw new Error("bad signature size");if(te.length!==nt)throw new Error("bad public key size");var W=new Uint8Array(gt+X.length),ie=new Uint8Array(gt+X.length),fe;for(fe=0;fe<gt;fe++)W[fe]=ee[fe];for(fe=0;fe<X.length;fe++)W[fe+gt]=X[fe];return le(ie,W,W.length,te)>=0},e.sign.keyPair=function(){var X=new Uint8Array(nt),ee=new Uint8Array(It);return Ke(X,ee),{publicKey:X,secretKey:ee}},e.sign.keyPair.fromSecretKey=function(X){if(it(X),X.length!==It)throw new Error("bad secret key size");for(var ee=new Uint8Array(nt),te=0;te<ee.length;te++)ee[te]=X[32+te];return{publicKey:ee,secretKey:new Uint8Array(X)}},e.sign.keyPair.fromSeed=function(X){if(it(X),X.length!==Ut)throw new Error("bad seed size");for(var ee=new Uint8Array(nt),te=new Uint8Array(It),W=0;W<32;W++)te[W]=X[W];return Ke(ee,te,!0),{publicKey:ee,secretKey:te}},e.sign.publicKeyLength=nt,e.sign.secretKeyLength=It,e.sign.seedLength=Ut,e.sign.signatureLength=gt,e.hash=function(X){it(X);var ee=new Uint8Array(bt);return qe(ee,X,X.length),ee},e.hash.hashLength=bt,e.verify=function(X,ee){return it(X,ee),X.length===0||ee.length===0||X.length!==ee.length?!1:x(X,0,ee,0,X.length)===0},e.setPRNG=function(X){n=X},function(){var X=typeof self<"u"?self.crypto||self.msCrypto:null;if(X&&X.getRandomValues){var ee=65536;e.setPRNG(function(te,W){var ie,fe=new Uint8Array(W);for(ie=0;ie<W;ie+=ee)X.getRandomValues(fe.subarray(ie,ie+Math.min(W-ie,ee)));for(ie=0;ie<W;ie++)te[ie]=fe[ie];Tt(fe)})}else typeof $B<"u"&&(X=B1,X&&X.randomBytes&&e.setPRNG(function(te,W){var ie,fe=X.randomBytes(W);for(ie=0;ie<W;ie++)te[ie]=fe[ie];Tt(fe)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(hle);var Rk=hle.exports;const ple=Ua(Rk),mle={bitcoin:"m/84'/0'/0'/0/0",ethereum:"m/44'/60'/0'/0/0",solana:"m/44'/501'/0'/0'",tron:"m/44'/195'/0'/0/0"},H1={bitcoin:"https://blockstream.info/api",solana:"https://api.mainnet-beta.solana.com",tron:"https://api.trongrid.io"};function Jo(t){return wt(ts(t))}function eRe(t){return wt(cf(t))}function gle(t){return eRe(Jo(t))}function tRe(t){const e=Qa.fromPhrase(t,void 0,mle.bitcoin),r=wt(e.publicKey),n=gle(r),s=rRe(n);return{address:nRe("bc",[0,...s]),privateKey:e.privateKey,publicKey:e.publicKey}}function rRe(t){const e=[];let r=0,n=0;for(const s of t)for(r=r<<8|s,n+=8;n>=5;)n-=5,e.push(r>>n&31);return n>0&&e.push(r<<5-n&31),e}function nRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function n(c){const l=[996825010,642813549,513874426,1027748829,705979059];let u=1;for(const f of c){const h=u>>25;u=(u&33554431)<<5^f;for(let m=0;m<5;m++)h>>m&1&&(u^=l[m])}return u}function s(c){const l=[];for(const u of c)l.push(u.charCodeAt(0)>>5);l.push(0);for(const u of c)l.push(u.charCodeAt(0)&31);return l}function i(c,l){const u=[...s(c),...l,0,0,0,0,0,0],f=n(u)^1,h=[];for(let m=0;m<6;m++)h.push(f>>5*(5-m)&31);return h}const a=i(t,e);let o=t+"1";for(const c of[...e,...a])o+=r[c];return o}function sRe(t){const r=WBe(t).slice(0,32),n=ple.sign.keyPair.fromSeed(r);return{address:nh.encode(n.publicKey),secretKey:n.secretKey,keypair:n}}function iRe(t){const e=Qa.fromPhrase(t,void 0,mle.tron),n=new vl(e.privateKey).publicKey,s=wt(n).slice(1),i=On(s),a=wt(i),o=new Uint8Array(21);o[0]=65,o.set(a.slice(12),1);const c=ts(o),l=ts(wt(c)),u=wt(l).slice(0,4),f=new Uint8Array(25);return f.set(o),f.set(u,21),{address:nh.encode(f),privateKey:e.privateKey.slice(2)}}async function aRe(t){try{const e=await fetch(`${H1.bitcoin}/address/${t}/utxo`);return e.ok?await e.json():[]}catch{return[]}}async function oRe(){try{const t=await fetch(`${H1.bitcoin}/fee-estimates`);if(!t.ok)return 10;const e=await t.json();return Math.ceil(e[6]||10)}catch{return 10}}function cRe(t){const e=[996825010,642813549,513874426,1027748829,705979059];let r=1;for(const n of t){const s=r>>25;r=(r&33554431)<<5^n;for(let i=0;i<5;i++)s>>i&1&&(r^=e[i])}return r}function lRe(t){const e=[];for(const r of t)e.push(r.charCodeAt(0)>>5);e.push(0);for(const r of t)e.push(r.charCodeAt(0)&31);return e}function uRe(t,e){const s=[...lRe(t),...e],i=cRe(s);return i===1?"bech32":i===734539939?"bech32m":null}function dRe(t){const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r=t.lastIndexOf("1");if(r<1||r+7>t.length)return null;const n=t.slice(0,r).toLowerCase();if(n!=="bc"&&n!=="tb")return null;const s=[];for(let m=r+1;m<t.length;m++){const v=e.indexOf(t[m].toLowerCase());if(v===-1)return null;s.push(v)}const i=uRe(n,s);if(!i)return null;const a=s.slice(0,-6);if(a.length===0||a[0]>16)return null;const o=a[0];if(o===0&&i!=="bech32"||o>=1&&i!=="bech32m")return null;const c=a.slice(1);let l=0,u=0;const f=[];for(const m of c)for(l=l<<5|m,u+=5;u>=8;)u-=8,f.push(l>>u&255);const h=new Uint8Array(f);return o===0&&h.length===20?{type:"p2wpkh",program:h,witnessVersion:0}:o===0&&h.length===32?{type:"p2wsh",program:h,witnessVersion:0}:o===1&&h.length===32?{type:"p2tr",program:h,witnessVersion:1}:null}function fRe(t){try{const e=nh.decode(t);if(e.length!==25)return null;const r=e.slice(0,21),n=e.slice(21),s=Jo(r),a=Jo(s).slice(0,4);for(let l=0;l<4;l++)if(n[l]!==a[l])return null;const o=r[0],c=r.slice(1);return o===0?{type:"p2pkh",program:c}:o===5?{type:"p2sh",program:c}:null}catch{return null}}function hRe(t){return t.toLowerCase().startsWith("bc1")||t.toLowerCase().startsWith("tb1")?dRe(t):fRe(t)}function pRe(t){switch(t.type){case"p2wpkh":return new Uint8Array([0,20,...t.program]);case"p2wsh":return new Uint8Array([0,32,...t.program]);case"p2tr":return new Uint8Array([81,32,...t.program]);case"p2pkh":return new Uint8Array([118,169,20,...t.program,136,172]);case"p2sh":return new Uint8Array([169,20,...t.program,135]);default:return new Uint8Array([0,20,...t.program])}}function sw(t){if(t<253)return new Uint8Array([t]);if(t<=65535){const e=new Uint8Array(3);return e[0]=253,e[1]=t&255,e[2]=t>>8&255,e}else{const e=new Uint8Array(5);return e[0]=254,e[1]=t&255,e[2]=t>>8&255,e[3]=t>>16&255,e[4]=t>>24&255,e}}function r_(t){const e=wt("0x"+t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[e.length-1-n];return r}function n_(t){const e=new Uint8Array(4);return e[0]=t&255,e[1]=t>>8&255,e[2]=t>>16&255,e[3]=t>>24&255,e}function s_(t){const e=new Uint8Array(8);for(let r=0;r<8;r++)e[r]=Number(t>>BigInt(r*8)&BigInt(255));return e}function mRe(t){return new Uint8Array([0,20,...t])}function gRe(t){return new Uint8Array([118,169,20,...t,136,172])}async function bRe(t,e){try{const{address:r,privateKey:n,publicKey:s}=tRe(e);if(t.from!==r)return console.error("Address mismatch: expected",r,"got",t.from),null;const i=await aRe(r);if(i.length===0)return console.error("No UTXOs available"),null;const a=await oRe(),o=BigInt(Math.floor(parseFloat(t.amount)*1e8)),c=110+i.length*68,l=BigInt(a*c);let u=BigInt(0);const f=[];for(const J of i)if(f.push(J),u+=BigInt(J.value),u>=o+l)break;if(u<o+l)return console.error("Insufficient funds"),null;const h=u-o-l,m=wt(s),v=gle(m),x=hRe(t.to);if(!x)return console.error("Invalid recipient address"),null;const k=new Uint8Array([1,0,0,0]),E=new Uint8Array([0]),P=new Uint8Array([1]),_=sw(f.length),M=[];for(const J of f){const Z=r_(J.txid),re=n_(J.vout),G=new Uint8Array([0]),z=new Uint8Array([255,255,255,255]),se=new Uint8Array(Z.length+re.length+G.length+z.length);let ce=0;se.set(Z,ce),ce+=Z.length,se.set(re,ce),ce+=re.length,se.set(G,ce),ce+=G.length,se.set(z,ce),M.push(se)}const B=[],D=pRe(x),j=s_(o),T=sw(D.length),R=new Uint8Array(j.length+T.length+D.length);let H=0;R.set(j,H),H+=j.length,R.set(T,H),H+=T.length,R.set(D,H),B.push(R);let O=1;if(h>BigInt(546)){O=2;const J=mRe(v),Z=s_(h),re=sw(J.length),G=new Uint8Array(Z.length+re.length+J.length);let z=0;G.set(Z,z),z+=Z.length,G.set(re,z),z+=re.length,G.set(J,z),B.push(G)}const b=sw(O),w=new Uint8Array([0,0,0,0]),p=[],g=new vl(n);for(let J=0;J<f.length;J++){const Z=f[J],re=Jo(Jo((()=>{const V=[];for(const de of f)V.push(r_(de.txid)),V.push(n_(de.vout));const q=V.reduce((de,me)=>de+me.length,0),ne=new Uint8Array(q);let le=0;for(const de of V)ne.set(de,le),le+=de.length;return ne})())),G=Jo(Jo((()=>{const V=new Uint8Array(f.length*4);for(let q=0;q<f.length;q++)V.set([255,255,255,255],q*4);return V})())),z=Jo(Jo((()=>{const V=B.reduce((le,de)=>le+de.length,0),q=new Uint8Array(V);let ne=0;for(const le of B)q.set(le,ne),ne+=le.length;return q})())),se=new Uint8Array(36);se.set(r_(Z.txid),0),se.set(n_(Z.vout),32);const ce=gRe(v),pe=sw(ce.length),Ce=s_(BigInt(Z.value)),ke=new Uint8Array([255,255,255,255]),tt=new Uint8Array([1,0,0,0]),mt=4+re.length+G.length+36+pe.length+ce.length+8+4+z.length+4+4,we=new Uint8Array(mt);let qe=0;we.set(k,qe),qe+=4,we.set(re,qe),qe+=re.length,we.set(G,qe),qe+=G.length,we.set(se,qe),qe+=36,we.set(pe,qe),qe+=pe.length,we.set(ce,qe),qe+=ce.length,we.set(Ce,qe),qe+=8,we.set(ke,qe),qe+=4,we.set(z,qe),qe+=z.length,we.set(w,qe),qe+=4,we.set(tt,qe);const Ae=Jo(Jo(we)),Oe=g.sign(Ae),We=wt(Oe.r),Be=wt(Oe.s),ze=We[0]>=128?new Uint8Array([0,...We]):We,Ke=Be[0]>=128?new Uint8Array([0,...Be]):Be,ct=new Uint8Array([48,ze.length+Ke.length+4,2,ze.length,...ze,2,Ke.length,...Ke,1]),Y=new Uint8Array([2,ct.length,...ct,m.length,...m]);p.push(Y)}let S=k.length+E.length+P.length+_.length;for(const J of M)S+=J.length;S+=b.length;for(const J of B)S+=J.length;for(const J of p)S+=J.length;S+=w.length;const N=new Uint8Array(S);let I=0;N.set(k,I),I+=k.length,N.set(E,I),I+=E.length,N.set(P,I),I+=P.length,N.set(_,I),I+=_.length;for(const J of M)N.set(J,I),I+=J.length;N.set(b,I),I+=b.length;for(const J of B)N.set(J,I),I+=J.length;for(const J of p)N.set(J,I),I+=J.length;N.set(w,I);const A=xt(N).slice(2);let y=k.length+_.length;for(const J of M)y+=J.length;y+=b.length;for(const J of B)y+=J.length;y+=w.length;const C=new Uint8Array(y);let $=0;C.set(k,$),$+=k.length,C.set(_,$),$+=_.length;for(const J of M)C.set(J,$),$+=J.length;C.set(b,$),$+=b.length;for(const J of B)C.set(J,$),$+=J.length;C.set(w,$);const L=Jo(Jo(C)),Q=new Uint8Array(L.length);for(let J=0;J<L.length;J++)Q[J]=L[L.length-1-J];const U=xt(Q).slice(2);return{signedTx:A,txHash:U}}catch(r){return console.error("Error building Bitcoin transaction:",r),null}}async function yRe(t,e){try{const{address:r,secretKey:n}=sRe(e);if(t.from!==r)return console.error("Address mismatch"),null;const s=Math.floor(parseFloat(t.amount)*1e9),i=nh.decode(t.from),a=nh.decode(t.to),l=(await(await fetch(H1.solana,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getLatestBlockhash",params:[{commitment:"finalized"}]})})).json()).result.value.blockhash,u=new Uint8Array(32),f=1,h=new Uint8Array([f,0,1]),m=new Uint8Array(32*3);m.set(i,0),m.set(a,32),m.set(u,64);const v=nh.decode(l),x=new Uint8Array(12);x[0]=2;const k=BigInt(s);for(let R=0;R<8;R++)x[4+R]=Number(k>>BigInt(R*8)&BigInt(255));const E=new Uint8Array(5+x.length);E[0]=2,E[1]=2,E[2]=0,E[3]=1,E[4]=12,E.set(x,5);const P=h.length+1+m.length+v.length+1+E.length,_=new Uint8Array(P);let M=0;_.set(h,M),M+=h.length,_[M]=3,M+=1,_.set(m,M),M+=m.length,_.set(v,M),M+=v.length,_[M]=1,M+=1,_.set(E,M);const B=ple.sign.detached(_,n),D=new Uint8Array(1+B.length+_.length);D[0]=1,D.set(B,1),D.set(_,1+B.length);const j=nh.encode(D),T=nh.encode(B);return{signedTx:j,txHash:T}}catch(r){return console.error("Error building Solana transaction:",r),null}}async function vRe(t,e){try{const{address:r,privateKey:n}=iRe(e);if(t.from!==r)return console.error("Address mismatch"),null;const s=Math.floor(parseFloat(t.amount)*1e6),i=await fetch(`${H1.tron}/wallet/createtransaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner_address:r,to_address:t.to,amount:s})});if(!i.ok)throw new Error("Failed to create TRON transaction");const a=await i.json(),o=a.txID,c=new vl("0x"+n),l=wt("0x"+o),u=c.sign(l),f=u.r.slice(2)+u.s.slice(2)+(u.v===27?"00":"01"),h={...a,signature:[f]};return{signedTx:JSON.stringify(h),txHash:o}}catch(r){return console.error("Error building TRON transaction:",r),null}}async function xRe(t){try{const e=await fetch(`${H1.bitcoin}/tx`,{method:"POST",headers:{"Content-Type":"text/plain"},body:t});if(!e.ok){const r=await e.text();return console.error("Bitcoin broadcast error:",r),null}return await e.text()}catch(e){return console.error("Error broadcasting Bitcoin transaction:",e),null}}async function wRe(t){try{const r=await(await fetch(H1.solana,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[t,{encoding:"base58"}]})})).json();return r.error?(console.error("Solana broadcast error:",r.error),null):r.result}catch(e){return console.error("Error broadcasting Solana transaction:",e),null}}async function ARe(t){try{const e=JSON.parse(t),n=await(await fetch(`${H1.tron}/wallet/broadcasttransaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return n.result?n.txid||e.txID:(console.error("TRON broadcast error:",n),null)}catch(e){return console.error("Error broadcasting TRON transaction:",e),null}}async function O$(t,e){let r=null;switch(t.chainType){case"bitcoin":r=await bRe(t,e);break;case"solana":r=await yRe(t,e);break;case"tron":r=await vRe(t,e);break;default:return console.error("Unsupported chain type:",t.chainType),null}return r?{chainType:t.chainType,signedTx:r.signedTx,txHash:r.txHash}:null}async function SRe(t,e){try{let r=null;switch(t){case"bitcoin":r=await xRe(e);break;case"solana":r=await wRe(e);break;case"tron":r=await ARe(e);break;default:return{success:!1,error:`Unsupported chain type: ${t}`}}return r?{success:!0,txHash:r}:{success:!1,error:"Failed to broadcast transaction"}}catch(r){return console.error("Broadcast error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown broadcast error"}}}const J8={ethereum:"44'/60'/0'/0/0",bitcoin:"44'/0'/0'/0/0"};class PRe{constructor(){this.transport=null,this.ethApp=null,this.state={type:null,status:"disconnected",deviceName:null,error:null},this.listeners=new Set,this.simulatedSeedPhrase=null,this.simulatedPinHash=null,this.sessionTimeout=null,this.sessionTimeoutMs=5*60*1e3,this.picoHasWallet=!1,this.usingMobileUsb=!1}async hashPin(e,r){const s=new TextEncoder().encode(e+(r||"securevault-salt")),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}generateSalt(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")}async encryptSeed(e,r){const n=new TextEncoder,s=await crypto.subtle.importKey("raw",n.encode(r),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),i=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n.encode("hardwallet-salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!1,["encrypt"]),a=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},i,n.encode(e)),c=new Uint8Array(a.length+new Uint8Array(o).length);return c.set(a),c.set(new Uint8Array(o),a.length),btoa(String.fromCharCode(...c))}async decryptSeed(e,r){try{const n=new TextEncoder,s=new Uint8Array(atob(e).split("").map(u=>u.charCodeAt(0))),i=s.slice(0,12),a=s.slice(12),o=await crypto.subtle.importKey("raw",n.encode(r),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n.encode("hardwallet-salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["decrypt"]),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},c,a);return new TextDecoder().decode(l)}catch{return null}}getState(){return{...this.state}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}setState(e){this.state={...this.state,...e},this.listeners.forEach(r=>r(this.getState()))}isMobileDevice(){return typeof navigator>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints>0&&/Mobile|Tablet/i.test(navigator.userAgent)}isWebHIDSupported(){return typeof navigator<"u"&&"hid"in navigator}isWebSerialSupported(){return ai.isWebSerialSupported()}hasWalletOnDevice(){return this.picoHasWallet}setHasWalletOnDevice(e){this.picoHasWallet=e}async connectRaspberryPi(){var e;if(console.log("[HardwareWallet] connectRaspberryPi() called"),$$()){console.log("[HardwareWallet] Trying mobile USB serial...");try{if(await Ti.isAvailable())return await this.connectViaMobileUsb()}catch(r){console.log("[HardwareWallet] Mobile USB not available:",r)}}if(!this.isWebSerialSupported()){console.log("[HardwareWallet] WebSerial not supported");const r=this.isMobileDevice();return this.setState({error:r?"No Pico detected via USB. Connect your Pico using an OTG cable or use the Mobile Bridge.":"WebSerial is not supported in this browser. Please use Chrome or Edge on desktop.",status:"disconnected"}),!1}try{this.setState({status:"connecting",error:null}),console.log("[HardwareWallet] Status set to 'connecting'");const r=await ai.connect();if(console.log("[HardwareWallet] piWallet.connect() result:",r),!r)throw new Error("Failed to connect to Raspberry Pi");const n=await ai.ping();if(console.log("[HardwareWallet] piWallet.ping() result:",n),!n)throw new Error("Device not responding");const s=await ai.getStatus();return console.log("[HardwareWallet] piWallet.getStatus() result:",s),this.picoHasWallet=(s==null?void 0:s.has_seed)===!0,console.log("[HardwareWallet] Device has wallet:",this.picoHasWallet),this.usingMobileUsb=!1,this.setState({type:"raspberry_pi",status:"connected",deviceName:(s==null?void 0:s.device_name)||"Raspberry Pi Wallet",error:null}),console.log("[HardwareWallet] Final state:",this.getState()),!0}catch(r){let n="Failed to connect to Raspberry Pi wallet";return(e=r.message)!=null&&e.includes("No device selected")?n="No device selected. Please try again.":r.message&&(n=r.message),this.setState({type:null,status:"disconnected",deviceName:null,error:n}),!1}}async connectViaMobileUsb(){try{if(this.setState({status:"connecting",error:null}),console.log("[HardwareWallet] Connecting via mobile USB..."),!await Ti.connect())throw new Error("Failed to connect via mobile USB");if(!await Ti.ping())throw new Error("Device not responding");const n=await Ti.getStatus();return this.picoHasWallet=(n==null?void 0:n.has_seed)===!0,this.usingMobileUsb=!0,this.setState({type:"raspberry_pi",status:"connected",deviceName:(n==null?void 0:n.device_name)||"Pico Wallet (USB OTG)",error:null}),!0}catch(e){return console.log("[HardwareWallet] Mobile USB connection failed:",e),this.setState({type:null,status:"disconnected",deviceName:null,error:e.message||"Failed to connect via USB"}),!1}}isUsingMobileUsb(){return this.usingMobileUsb}async connectLedger(){var e;if(!this.isWebHIDSupported())return this.setState({error:"WebHID is not supported in this browser. Please use Chrome, Edge, or Opera.",status:"disconnected"}),!1;try{this.setState({status:"connecting",error:null}),this.transport=await cj.create(),this.ethApp=new ETe(this.transport);const r=await this.ethApp.getAppConfiguration();return this.setState({type:"ledger",status:"connected",deviceName:`Ledger (Ethereum App v${r.version})`,error:null}),this.transport&&this.transport.on("disconnect",()=>{this.handleDisconnect()}),!0}catch(r){let n="Failed to connect to Ledger device";return r.name==="TransportOpenUserCancelled"?n="Connection cancelled by user":(e=r.message)!=null&&e.includes("No device selected")?n="No device selected. Please try again.":r.statusCode===26368?n="Please open the Ethereum app on your Ledger":r.statusCode===28160&&(n="App not open. Please open the Ethereum app on your Ledger"),this.setState({type:null,status:"disconnected",deviceName:null,error:n}),!1}}async connectSimulated(e,r){try{this.setState({status:"connecting",error:null});const n=e.trim().split(/\s+/);if(n.length!==12&&n.length!==24)throw new Error("Seed phrase must be 12 or 24 words");try{mn.fromPhrase(e)}catch{throw new Error("Invalid seed phrase")}if(this.simulatedSeedPhrase=e,r){const s=this.generateSalt();this.simulatedPinHash=await this.hashPin(r,s);const i=await this.encryptSeed(e,r);await At.saveHardWalletEncryptedSeed(i,this.simulatedPinHash,s)}return this.setState({type:"simulated",status:"connected",deviceName:"Simulated Hardware Wallet",error:null}),!0}catch(n){return this.setState({type:null,status:"disconnected",deviceName:null,error:n.message||"Failed to create simulated wallet"}),!1}}async setPin(e){if(e.length<4||e.length>6||!/^\d+$/.test(e))return this.setState({error:"PIN must be 4-6 digits"}),!1;const r=this.generateSalt();if(this.simulatedPinHash=await this.hashPin(e,r),this.simulatedSeedPhrase){const n=await this.encryptSeed(this.simulatedSeedPhrase,e);await At.saveHardWalletEncryptedSeed(n,this.simulatedPinHash,r)}return!0}async unlock(e){if(this.state.type==="raspberry_pi")try{return this.usingMobileUsb?await Ti.unlock(e):await ai.unlock(e),this.setState({status:"unlocked"}),this.startSessionTimeout(),!0}catch(r){return this.setState({error:r.message||"Failed to unlock"}),!1}if(this.state.type==="simulated"){if(e.length<4||e.length>6||!/^\d+$/.test(e))return this.setState({error:"PIN must be 4-6 digits"}),!1;const r=await At.getHardWalletPinHash(),n=await At.getHardWalletPinSalt(),s=await At.getHardWalletEncryptedSeed();if(r&&n&&s){if(await this.hashPin(e,n)!==r)return this.setState({error:"Incorrect PIN"}),!1;const a=await this.decryptSeed(s,e);if(!a)return this.setState({error:"Failed to decrypt wallet"}),!1;this.simulatedSeedPhrase=a,this.simulatedPinHash=r}else if(this.simulatedPinHash){if(await this.hashPin(e)!==this.simulatedPinHash)return this.setState({error:"Incorrect PIN"}),!1}else{const i=this.generateSalt();if(this.simulatedPinHash=await this.hashPin(e,i),this.simulatedSeedPhrase){const a=await this.encryptSeed(this.simulatedSeedPhrase,e);await At.saveHardWalletEncryptedSeed(a,this.simulatedPinHash,i)}}return this.setState({status:"unlocked"}),this.startSessionTimeout(),!0}return this.state.type==="ledger"&&this.state.status==="connected"?(this.setState({status:"unlocked"}),this.startSessionTimeout(),!0):!1}async getAddress(e=1){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked. Please unlock first."}),null;try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?await Ti.getAddress(e):await ai.getAddress(e);if(this.state.type==="ledger"&&this.ethApp){const r=J8.ethereum;return(await this.ethApp.getAddress(r)).address}if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=mn.fromPhrase(this.simulatedSeedPhrase);return Qa.fromMnemonic(r,"m/44'/60'/0'/0/0").address}return null}catch(r){return this.setState({error:r.message||"Failed to get address"}),null}}async getMultipleAddresses(e){if(this.state.status!=="unlocked")return[];const r=[];try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?(await Ti.getAddresses(e)).map(i=>({path:i.path,address:i.address,chainId:i.chainId})):(await ai.getAddresses(e)).map(s=>({path:s.path,address:s.address,chainId:s.chainId}));if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const n=mn.fromPhrase(this.simulatedSeedPhrase);for(const s of e){const i="m/44'/60'/0'/0/0",a=Qa.fromMnemonic(n,i);r.push({path:i,address:a.address,chainId:s})}}if(this.state.type==="ledger"&&this.ethApp){const n=J8.ethereum,s=await this.ethApp.getAddress(n);for(const i of e)r.push({path:n,address:s.address,chainId:i})}}catch(n){this.setState({error:n.message||"Failed to derive addresses"})}return r}async signTransaction(e){var r,n,s,i,a;if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="raspberry_pi"){const o={to:e.to,value:((r=e.value)==null?void 0:r.toString())||"0",data:e.data,nonce:Number(e.nonce),gasLimit:((n=e.gasLimit)==null?void 0:n.toString())||"21000",gasPrice:(s=e.gasPrice)==null?void 0:s.toString(),maxFeePerGas:(i=e.maxFeePerGas)==null?void 0:i.toString(),maxPriorityFeePerGas:(a=e.maxPriorityFeePerGas)==null?void 0:a.toString(),chainId:Number(e.chainId)||1};return this.usingMobileUsb?await Ti.signTransaction(o):await ai.signTransaction(o)}if(this.state.type==="simulated"){if(!this.simulatedSeedPhrase)return await At.getHardWalletEncryptedSeed()&&this.simulatedPinHash?(this.setState({error:"Wallet needs to be unlocked again"}),null):(this.setState({error:"No seed phrase available for signing"}),null);const o=mn.fromPhrase(this.simulatedSeedPhrase);return await Qa.fromMnemonic(o,"m/44'/60'/0'/0/0").signTransaction(e)}if(this.state.type==="ledger"&&this.ethApp){const o=J8.ethereum,c={to:e.to,value:e.value,data:e.data,nonce:e.nonce,gasLimit:e.gasLimit,gasPrice:e.gasPrice,chainId:e.chainId},u=y1.from(c).unsignedSerialized.slice(2),f=await this.ethApp.signTransaction(o,u);return y1.from({...c,signature:{r:"0x"+f.r,s:"0x"+f.s,v:parseInt(f.v,16)}}).serialized}return null}catch(o){return this.setState({error:o.message||"Failed to sign transaction"}),null}}async signNonEvmTransaction(e){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=await O$(e,this.simulatedSeedPhrase);return r||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}if(this.state.type==="raspberry_pi"){let r=null;if(this.usingMobileUsb?(r=Ti.getSeedPhrase(),r||(r=await Ti.ensureSeedCached())):r=ai.getSeedPhrase(),!r)return this.setState({error:"Wallet seed not available. Please reconnect and unlock."}),null;const n=await O$(e,r);return n||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}return this.state.type==="ledger"&&this.setState({error:"Non-EVM signing on Ledger is not yet supported"}),null}catch(r){return this.setState({error:r.message||"Failed to sign non-EVM transaction"}),null}}async signMessage(e){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?await Ti.signMessage(e):await ai.signMessage(e);if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=mn.fromPhrase(this.simulatedSeedPhrase);return await Qa.fromMnemonic(r,"m/44'/60'/0'/0/0").signMessage(e)}if(this.state.type==="ledger"&&this.ethApp){const r=J8.ethereum,n=Buffer.from(e),s=await this.ethApp.signPersonalMessage(r,n),i=typeof s.v=="string"?Number.parseInt(s.v,16):s.v;return mc.from({r:"0x"+s.r,s:"0x"+s.s,v:i}).serialized}return null}catch(r){return this.setState({error:r.message||"Failed to sign message"}),null}}handleDisconnect(){this.transport=null,this.ethApp=null,this.setState({type:null,status:"disconnected",deviceName:null,error:"Device disconnected"})}async disconnect(){this.clearSessionTimeout(),this.state.type==="raspberry_pi"&&(this.usingMobileUsb?await Ti.disconnect():await ai.disconnect()),this.transport&&await this.transport.close(),this.transport=null,this.ethApp=null,this.simulatedSeedPhrase=null,this.simulatedPinHash=null,this.picoHasWallet=!1,this.usingMobileUsb=!1,this.setState({type:null,status:"disconnected",deviceName:null,error:null})}async lock(){this.state.status==="unlocked"&&(this.clearSessionTimeout(),this.state.type==="raspberry_pi"&&(this.usingMobileUsb?await Ti.lock():await ai.lock()),this.setState({status:"connected"}))}startSessionTimeout(){this.clearSessionTimeout(),this.sessionTimeout=setTimeout(()=>{this.state.status==="unlocked"&&this.lock()},this.sessionTimeoutMs)}clearSessionTimeout(){this.sessionTimeout&&(clearTimeout(this.sessionTimeout),this.sessionTimeout=null)}resetSessionTimeout(){this.state.status==="unlocked"&&this.startSessionTimeout()}setSessionTimeoutMs(e){this.sessionTimeoutMs=e,this.state.status==="unlocked"&&this.startSessionTimeout()}getSessionTimeoutMs(){return this.sessionTimeoutMs}getSeedPhrase(){return this.state.type==="simulated"&&this.simulatedSeedPhrase?this.simulatedSeedPhrase:null}async getSeedPhraseFromDevice(){if(this.state.type==="raspberry_pi")try{return this.usingMobileUsb?await Ti.getSeedPhrase():await ai.getSeedPhrase()}catch(e){return console.error("Failed to get seed phrase from device:",e),null}return this.getSeedPhrase()}async hasStoredHardWallet(){return await At.hasHardWalletEncryptedSeed()}async reconnectFromStorage(){return await At.hasHardWalletEncryptedSeed()?(this.setState({type:"simulated",status:"connected",deviceName:"Simulated Hardware Wallet",error:null}),!0):!1}async saveChainPreferences(e){if(this.state.type==="raspberry_pi"&&this.state.status==="unlocked")try{return(this.usingMobileUsb?await Ti.saveChains(e):await ai.saveChains(e))?(console.log("[HardwareWallet] Chain preferences saved to hardware"),!0):(console.log("[HardwareWallet] Hardware doesn't support chain storage, using fallback"),await At.saveHardWalletChainPreferences(e),!0)}catch(r){return console.error("[HardwareWallet] Failed to save chains to hardware:",r),await At.saveHardWalletChainPreferences(e),!0}return await At.saveHardWalletChainPreferences(e),!0}async getChainPreferences(){if(this.state.type==="raspberry_pi"&&this.state.status==="unlocked")try{const e=this.usingMobileUsb?await Ti.getChains():await ai.getChains();return e!==null?(console.log("[HardwareWallet] Chain preferences loaded from hardware:",e),e):(console.log("[HardwareWallet] Hardware doesn't support chain storage, using fallback"),await At.getHardWalletChainPreferences())}catch(e){return console.error("[HardwareWallet] Failed to load chains from hardware:",e),await At.getHardWalletChainPreferences()}return await At.getHardWalletChainPreferences()}async setupWallet(e,r){console.log("[HardwareWallet] setupWallet called, usingMobileUsb:",this.usingMobileUsb);try{return this.usingMobileUsb?(console.log("[HardwareWallet] Setting up via mobile USB..."),await Ti.setupWallet(e,r)):(console.log("[HardwareWallet] Setting up via desktop serial..."),await ai.setupWallet(e,r))}catch(n){throw console.error("[HardwareWallet] setupWallet failed:",n),n}}}const ur=new PRe,kRe=Object.freeze(Object.defineProperty({__proto__:null,hardwareWallet:ur},Symbol.toStringTag,{value:"Module"})),IRe="Input must be an string, Buffer or Uint8Array";function NRe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(IRe);return e}function ERe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Q8(t){return(4294967296+t).toString(16).substring(1)}function _Re(t,e,r){let n=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(r===32)n+=Q8(e[s]).toUpperCase(),n+=" ",n+=Q8(e[s+1]).toUpperCase();else if(r===64)n+=Q8(e[s+1]).toUpperCase(),n+=Q8(e[s]).toUpperCase();else throw new Error("Invalid size "+r);s%6===4?n+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(n+=" ")}console.log(n)}function CRe(t,e,r){let n=new Date().getTime();const s=new Uint8Array(e);for(let a=0;a<e;a++)s[a]=a%256;const i=new Date().getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let a=0;a<r;a++){const o=t(s),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var ble={normalizeInput:NRe,toHex:ERe,debugPrint:_Re,testSpeed:CRe};const m7=ble;function Y8(t,e,r){const n=t[e]+t[r];let s=t[e+1]+t[r+1];n>=4294967296&&s++,t[e]=n,t[e+1]=s}function aq(t,e,r,n){let s=t[e]+r;r<0&&(s+=4294967296);let i=t[e+1]+n;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function yle(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function c0(t,e,r,n,s,i){const a=Ww[s],o=Ww[s+1],c=Ww[i],l=Ww[i+1];Y8(vr,t,e),aq(vr,t,a,o);let u=vr[n]^vr[t],f=vr[n+1]^vr[t+1];vr[n]=f,vr[n+1]=u,Y8(vr,r,n),u=vr[e]^vr[r],f=vr[e+1]^vr[r+1],vr[e]=u>>>24^f<<8,vr[e+1]=f>>>24^u<<8,Y8(vr,t,e),aq(vr,t,c,l),u=vr[n]^vr[t],f=vr[n+1]^vr[t+1],vr[n]=u>>>16^f<<16,vr[n+1]=f>>>16^u<<16,Y8(vr,r,n),u=vr[e]^vr[r],f=vr[e+1]^vr[r+1],vr[e]=f>>>31^u<<1,vr[e+1]=u>>>31^f<<1}const vle=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),TRe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ha=new Uint8Array(TRe.map(function(t){return t*2})),vr=new Uint32Array(32),Ww=new Uint32Array(32);function xle(t,e){let r=0;for(r=0;r<16;r++)vr[r]=t.h[r],vr[r+16]=vle[r];for(vr[24]=vr[24]^t.t,vr[25]=vr[25]^t.t/4294967296,e&&(vr[28]=~vr[28],vr[29]=~vr[29]),r=0;r<32;r++)Ww[r]=yle(t.b,4*r);for(r=0;r<12;r++)c0(0,8,16,24,ha[r*16+0],ha[r*16+1]),c0(2,10,18,26,ha[r*16+2],ha[r*16+3]),c0(4,12,20,28,ha[r*16+4],ha[r*16+5]),c0(6,14,22,30,ha[r*16+6],ha[r*16+7]),c0(0,10,20,30,ha[r*16+8],ha[r*16+9]),c0(2,12,22,24,ha[r*16+10],ha[r*16+11]),c0(4,14,16,26,ha[r*16+12],ha[r*16+13]),c0(6,8,18,28,ha[r*16+14],ha[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^vr[r]^vr[r+16]}const l0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function wle(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};l0.fill(0),l0[0]=t,e&&(l0[1]=e.length),l0[2]=1,l0[3]=1,r&&l0.set(r,32),n&&l0.set(n,48);for(let i=0;i<16;i++)s.h[i]=vle[i]^yle(l0,i*4);return e&&(hR(s,e),s.c=128),s}function hR(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,xle(t,!1),t.c=0),t.b[t.c++]=e[r]}function Ale(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;xle(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Sle(t,e,r,n,s){r=r||64,t=m7.normalizeInput(t),n&&(n=m7.normalizeInput(n)),s&&(s=m7.normalizeInput(s));const i=wle(r,e,n,s);return hR(i,t),Ale(i)}function jRe(t,e,r,n,s){const i=Sle(t,e,r,n,s);return m7.toHex(i)}var $Re={blake2b:Sle,blake2bHex:jRe,blake2bInit:wle,blake2bUpdate:hR,blake2bFinal:Ale};const Ple=ble;function MRe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function u0(t,e,r,n,s,i){on[t]=on[t]+on[e]+s,on[n]=G8(on[n]^on[t],16),on[r]=on[r]+on[n],on[e]=G8(on[e]^on[r],12),on[t]=on[t]+on[e]+i,on[n]=G8(on[n]^on[t],8),on[r]=on[r]+on[n],on[e]=G8(on[e]^on[r],7)}function G8(t,e){return t>>>e^t<<32-e}const kle=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pa=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),on=new Uint32Array(16),ji=new Uint32Array(16);function Ile(t,e){let r=0;for(r=0;r<8;r++)on[r]=t.h[r],on[r+8]=kle[r];for(on[12]^=t.t,on[13]^=t.t/4294967296,e&&(on[14]=~on[14]),r=0;r<16;r++)ji[r]=MRe(t.b,4*r);for(r=0;r<10;r++)u0(0,4,8,12,ji[pa[r*16+0]],ji[pa[r*16+1]]),u0(1,5,9,13,ji[pa[r*16+2]],ji[pa[r*16+3]]),u0(2,6,10,14,ji[pa[r*16+4]],ji[pa[r*16+5]]),u0(3,7,11,15,ji[pa[r*16+6]],ji[pa[r*16+7]]),u0(0,5,10,15,ji[pa[r*16+8]],ji[pa[r*16+9]]),u0(1,6,11,12,ji[pa[r*16+10]],ji[pa[r*16+11]]),u0(2,7,8,13,ji[pa[r*16+12]],ji[pa[r*16+13]]),u0(3,4,9,14,ji[pa[r*16+14]],ji[pa[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=on[r]^on[r+8]}function Nle(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(kle),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(pR(n,e),n.c=64),n}function pR(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,Ile(t,!1),t.c=0),t.b[t.c++]=e[r]}function Ele(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Ile(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function _le(t,e,r){r=r||32,t=Ple.normalizeInput(t);const n=Nle(r,e);return pR(n,t),Ele(n)}function ORe(t,e,r){const n=_le(t,e,r);return Ple.toHex(n)}var FRe={blake2s:_le,blake2sHex:ORe,blake2sInit:Nle,blake2sUpdate:pR,blake2sFinal:Ele};const iw=$Re,aw=FRe;var Cle={blake2b:iw.blake2b,blake2bHex:iw.blake2bHex,blake2bInit:iw.blake2bInit,blake2bUpdate:iw.blake2bUpdate,blake2bFinal:iw.blake2bFinal,blake2s:aw.blake2s,blake2sHex:aw.blake2sHex,blake2sInit:aw.blake2sInit,blake2sUpdate:aw.blake2sUpdate,blake2sFinal:aw.blake2sFinal};const BRe={BTC:0,LTC:2,DOGE:3,BCH:145,ETH:60,BNB:60,MATIC:60,AVAX:60,ARB:60,XRP:144,TRX:195,SOL:501,ADA:1815,ATOM:118,OSMO:118,DOT:354};function t5(t,e=0){const r=BRe[t]??60;switch(t){case"BTC":case"LTC":return`m/84'/${r}'/${e}'/0/0`;case"SOL":return`m/44'/${r}'/${e}'/0'`;case"ADA":return`m/1852'/${r}'/${e}'/0'/0'`;case"DOT":return`m/44'/${r}'/${e}'/0'/0'`;default:return`m/44'/${r}'/${e}'/0/0`}}const RRe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",DRe="rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz";function Dk(t,e=RRe){if(t.length===0)return"";let r="",n=BigInt("0x"+IA.Buffer.from(t).toString("hex"));for(;n>BigInt(0);){const s=Number(n%BigInt(58));r=e[s]+r,n=n/BigInt(58)}for(let s=0;s<t.length&&t[s]===0;s++)r=e[0]+r;return r||e[0]}function F$(t,e,r=0){try{const n=t5(e,r),s=mn.fromPhrase(t);return Qa.fromMnemonic(s,n).address}catch(n){return console.error("EVM derivation error:",n),""}}function URe(t,e,r=0){try{const n=t5(e,r),s=mn.fromPhrase(t),a=Qa.fromMnemonic(s,n).publicKey,o=wt(a),c=ts(o),l=cf(c),u=wt(l);if(e==="BTC"||e==="LTC")return zRe(e==="LTC"?"ltc":"bc",u);{let f;e==="DOGE"?f=30:f=0;const h=new Uint8Array(21);h[0]=f,h.set(u,1);const m=wt(ts(h)),x=wt(ts(m)).slice(0,4),k=new Uint8Array(25);return k.set(h),k.set(x,21),Dk(k)}}catch(n){return console.error(`${e} derivation error:`,n),""}}function zRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const v=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=v>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,v){let x=0,k=0;const E=[],P=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,E.push(x>>k&P);return k>0&&E.push(x<<m-k&P),E}const o=[0,...a(e,8,5)],c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}function LRe(t,e=0){try{const r=t5("XRP",e),n=mn.fromPhrase(t),s=Qa.fromMnemonic(n,r),i=wt(s.publicKey),a=ts(i),o=cf(a),c=wt(o),l=new Uint8Array(21);l[0]=0,l.set(c,1);const u=wt(ts(l)),h=wt(ts(u)).slice(0,4),m=new Uint8Array(25);return m.set(l),m.set(h,21),Dk(m,DRe)}catch(r){return console.error("XRP derivation error:",r),""}}function VRe(t,e=0){try{const r=F$(t,"TRX",e);if(!r)return"";const n="41"+r.slice(2),s=wt("0x"+n),i=wt(ts(s)),o=wt(ts(i)).slice(0,4),c=new Uint8Array(25);return c.set(s),c.set(o,21),Dk(c)}catch(r){return console.error("TRON derivation error:",r),""}}async function _x(t,e){const r=await crypto.subtle.importKey("raw",t,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),n=await crypto.subtle.sign("HMAC",r,e);return new Uint8Array(n)}async function HRe(t,e=0){try{const n=mn.fromPhrase(t).computeSeed(),s=wt(n),i=await _x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147483692,2147484149,2147483648+e,2147483648];for(const u of c){const f=new Uint8Array(37);f[0]=0,f.set(a,1),f[33]=u>>24&255,f[34]=u>>16&255,f[35]=u>>8&255,f[36]=u&255;const h=await _x(o,f);a=h.slice(0,32),o=h.slice(32,64)}const l=Rk.sign.keyPair.fromSeed(a);return nh.encode(l.publicKey)}catch(r){return console.error("Solana derivation error:",r),""}}function WRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const v=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=v>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,v){let x=0,k=0;const E=[],P=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,E.push(x>>k&P);return k>0&&E.push(x<<m-k&P),E}const o=a(e,8,5),c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}function qRe(t){return Cle.blake2b(t,void 0,28)}function KRe(t,e=0){const r=new TextEncoder().encode("SS58PRE");let n;if(e<64)n=new Uint8Array([e]);else if(e<16384)n=new Uint8Array([(e&252)>>2|64,e>>8|(e&3)<<6]);else throw new Error("SS58 prefix too large");const s=new Uint8Array(r.length+n.length+t.length);s.set(r,0),s.set(n,r.length),s.set(t,r.length+n.length);const a=Cle.blake2b(s,void 0,64).slice(0,2),o=new Uint8Array(n.length+t.length+2);return o.set(n,0),o.set(t,n.length),o.set(a,n.length+t.length),Dk(o)}async function XRe(t,e=0){try{const n=mn.fromPhrase(t).computeSeed(),s=wt(n),i=await _x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147483692,2147484002,2147483648+e,2147483648,2147483648];for(const u of c){const f=new Uint8Array(37);f[0]=0,f.set(a,1),f[33]=u>>24&255,f[34]=u>>16&255,f[35]=u>>8&255,f[36]=u&255;const h=await _x(o,f);a=h.slice(0,32),o=h.slice(32,64)}const l=Rk.sign.keyPair.fromSeed(a);return KRe(l.publicKey,0)}catch(r){return console.error("Polkadot derivation error:",r),""}}async function ZRe(t,e=0){try{const n=mn.fromPhrase(t).computeSeed(),s=wt(n),i=await _x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147485500,2147485463,2147483648+e,2147483648,2147483648];for(const m of c){const v=new Uint8Array(37);v[0]=0,v.set(a,1),v[33]=m>>24&255,v[34]=m>>16&255,v[35]=m>>8&255,v[36]=m&255;const x=await _x(o,v);a=x.slice(0,32),o=x.slice(32,64)}const u=Rk.sign.keyPair.fromSeed(a).publicKey,f=qRe(u),h=new Uint8Array(29);return h[0]=97,h.set(f,1),WRe("addr",h)}catch(r){return console.error("Cardano derivation error:",r),""}}function JRe(t,e,r=0){try{const n=t5(e,r),s=mn.fromPhrase(t),a=Qa.fromMnemonic(s,n).publicKey,o=wt(a),c=ts(o),l=cf(c),u=wt(l);return QRe(e==="OSMO"?"osmo":"cosmos",u)}catch(n){return console.error(`${e} derivation error:`,n),""}}function QRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const v=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=v>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,v){let x=0,k=0;const E=[],P=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,E.push(x>>k&P);return k>0&&E.push(x<<m-k&P),E}const o=a(e,8,5),c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}async function YRe(t,e,r=0){try{try{mn.fromPhrase(t)}catch{return console.error("Invalid mnemonic"),null}const n=t5(e,r);let s="";switch(e){case"BTC":case"LTC":case"DOGE":case"BCH":s=URe(t,e,r);break;case"ETH":case"BNB":case"MATIC":case"AVAX":case"ARB":s=F$(t,e,r);break;case"XRP":s=LRe(t,r);break;case"TRX":s=VRe(t,r);break;case"SOL":s=await HRe(t,r);break;case"ADA":s=await ZRe(t,r);break;case"DOT":s=await XRe(t,r);break;case"ATOM":case"OSMO":s=JRe(t,e,r);break;default:s=F$(t,e,r)}return{chainSymbol:e,address:s,path:n}}catch(n){return console.error(`Error deriving address for ${e}:`,n),null}}async function Fb(t,e,r=0){const n=[];for(const s of e){const i=await YRe(t,s,r);i&&i.address&&n.push(i)}return n}const oq=1e5,db=16,i_=12;class GRe{constructor(){this.state={status:"disconnected",error:null,hasWallet:!1},this.listeners=new Set,this.decryptedSeed=null,this.sessionTimeout=null,this.SESSION_TIMEOUT_MS=5*60*1e3}getState(){return{...this.state}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){const e=this.getState();this.listeners.forEach(r=>r(e))}setState(e){this.state={...this.state,...e},this.notifyListeners()}async deriveKey(e,r){const s=new TextEncoder().encode(e),i=await crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:oq,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptSeed(e,r){const s=new TextEncoder().encode(e),i=crypto.getRandomValues(new Uint8Array(db)),a=crypto.getRandomValues(new Uint8Array(i_)),o=await this.deriveKey(r,i),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},o,s),l=new Uint8Array(i.length+a.length+c.byteLength);return l.set(i,0),l.set(a,i.length),l.set(new Uint8Array(c),i.length+a.length),btoa(String.fromCharCode(...l))}async decryptSeed(e,r){const n=Uint8Array.from(atob(e),u=>u.charCodeAt(0)),s=n.slice(0,db),i=n.slice(db,db+i_),a=n.slice(db+i_),o=await this.deriveKey(r,s),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,a);return new TextDecoder().decode(c)}async hashPin(e,r){const n=r||crypto.getRandomValues(new Uint8Array(db)),i=new TextEncoder().encode(e),a=await crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveBits"]),o=await crypto.subtle.deriveBits({name:"PBKDF2",salt:n,iterations:oq,hash:"SHA-256"},a,256),c=new Uint8Array(o);return{hash:btoa(String.fromCharCode(...c)),salt:btoa(String.fromCharCode(...n))}}async verifyPin(e,r,n){const s=Uint8Array.from(atob(n),a=>a.charCodeAt(0)),{hash:i}=await this.hashPin(e,s);return i===r}async checkWalletExists(){const e=await At.hasEncryptedSeed();return this.setState({hasWallet:e}),e}async setup(e,r){try{const n=e.trim().toLowerCase().split(/\s+/);if(n.length!==12&&n.length!==24)return this.setState({error:"Seed phrase must be 12 or 24 words"}),!1;const s=n.join(" "),i=await this.encryptSeed(s,r),{hash:a,salt:o}=await this.hashPin(r);return await At.saveEncryptedSeed(i,a,o),await At.setSoftWalletSetup(!0),this.decryptedSeed=s,this.setState({status:"unlocked",hasWallet:!0,error:null}),this.startSessionTimeout(),!0}catch(n){return this.setState({error:n.message||"Failed to set up wallet"}),!1}}async unlock(e){try{const r=await At.getPinHash(),n=await At.getPinSalt(),s=await At.getEncryptedSeed();if(!r||!n||!s)return this.setState({error:"No wallet found. Please set up first."}),!1;if(!await this.verifyPin(e,r,n))return this.setState({error:"Incorrect PIN"}),!1;try{this.decryptedSeed=await this.decryptSeed(s,e)}catch{return this.setState({error:"Failed to decrypt wallet. Incorrect PIN or corrupted data."}),!1}return this.setState({status:"unlocked",error:null}),this.startSessionTimeout(),!0}catch(r){return this.setState({error:r.message||"Failed to unlock wallet"}),!1}}lock(){this.decryptedSeed=null,this.clearSessionTimeout(),this.setState({status:"locked",error:null})}getSeedPhrase(){return this.state.status!=="unlocked"?null:this.decryptedSeed}async deriveAddresses(e,r=0){if(this.state.status!=="unlocked"||!this.decryptedSeed)throw new Error("Wallet must be unlocked to derive addresses");return await Fb(this.decryptedSeed,e,r)}async reset(){this.decryptedSeed=null,this.clearSessionTimeout(),await At.clearEncryptedSeed(),await At.clearSoftWallet(),this.setState({status:"disconnected",hasWallet:!1,error:null})}startSessionTimeout(){this.clearSessionTimeout(),this.sessionTimeout=setTimeout(()=>{this.lock()},this.SESSION_TIMEOUT_MS)}clearSessionTimeout(){this.sessionTimeout&&(clearTimeout(this.sessionTimeout),this.sessionTimeout=null)}resetSessionTimeout(){this.state.status==="unlocked"&&this.startSessionTimeout()}isUnlocked(){return this.state.status==="unlocked"}async verifySeedPhrase(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return!1;const r=e.trim().toLowerCase().split(/\s+/),n=this.decryptedSeed.split(" ");if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1;return!0}getSeedWordCount(){return this.state.status!=="unlocked"||!this.decryptedSeed?null:this.decryptedSeed.split(" ").length}async signTransaction(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return this.setState({error:"Wallet must be unlocked to sign transactions"}),null;try{const r=mn.fromPhrase(this.decryptedSeed);return await Qa.fromMnemonic(r,"m/44'/60'/0'/0/0").signTransaction(e)}catch(r){return this.setState({error:r.message||"Failed to sign transaction"}),null}}async signNonEvmTransaction(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return this.setState({error:"Wallet must be unlocked to sign transactions"}),null;try{const r=await O$(e,this.decryptedSeed);return r||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}catch(r){return this.setState({error:r.message||"Failed to sign non-EVM transaction"}),null}}async getAddress(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return null;try{const r=mn.fromPhrase(this.decryptedSeed);return Qa.fromMnemonic(r,"m/44'/60'/0'/0/0").address}catch{return null}}async encryptSeedForWalletGroup(e,r,n){const s=e.trim().toLowerCase().split(/\s+/);if(s.length!==12&&s.length!==24)throw new Error("Seed phrase must be 12 or 24 words");const i=s.join(" "),a=await this.encryptSeed(i,r),{hash:o,salt:c}=await this.hashPin(r);return{encryptedSeed:a,pinHash:o,pinSalt:c}}async decryptWalletGroupSeed(e,r){return await this.decryptSeed(e,r)}async verifyWalletGroupPin(e,r,n){return await this.verifyPin(e,r,n)}generateNewSeedPhrase(){const e=crypto.getRandomValues(new Uint8Array(16));return mn.entropyToPhrase(e)}}const Gr=new GRe,eDe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io"},Tle=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function transfer(address to, uint256 amount) returns (bool)"];async function tDe(t,e){const r=e||eDe[t];return r?new g2(r,t):null}async function rDe(t,e){return t?new g2(t,e):null}async function nDe(t,e,r){try{const n=await tDe(e,r);if(!n)return"0";const s=await n.getBalance(t);return lae(s)}catch{return"0"}}async function jle(t,e,r){try{const n=await rDe(e,r);if(!n)return null;const s=new mh(t,Tle,n),[i,a,o]=await Promise.all([s.name(),s.symbol(),s.decimals()]);return{name:i,symbol:a,decimals:Number(o)}}catch{return null}}async function sDe(t){var e,r;try{const n=await fetch(`https://blockstream.info/api/address/${t}`,{signal:AbortSignal.timeout(8e3)});if(!n.ok)return"0";const s=await n.json(),i=((e=s.chain_stats)==null?void 0:e.funded_txo_sum)||0,a=((r=s.chain_stats)==null?void 0:r.spent_txo_sum)||0;return((i-a)/1e8).toString()}catch{return"0"}}async function iDe(t){var e,r;try{const n=await fetch(`https://api.trongrid.io/v1/accounts/${t}`,{signal:AbortSignal.timeout(8e3)});if(!n.ok)return"0";const s=await n.json();return(r=(e=s.data)==null?void 0:e[0])!=null&&r.balance?(s.data[0].balance/1e6).toString():"0"}catch{return"0"}}async function aDe(t){var e;try{const r=await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[t]}),signal:AbortSignal.timeout(1e4)});if(!r.ok)return"0";const n=await r.json();return((e=n.result)==null?void 0:e.value)!==void 0?(n.result.value/1e9).toString():"0"}catch{return"0"}}async function oDe(t){var e,r,n,s,i,a,o;try{const c=await fetch("https://polkadot.webapi.subscan.io/api/v2/scan/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:t}),signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((r=(e=l.data)==null?void 0:e.account)!=null&&r.balance)return l.data.account.balance;if((n=l.data)!=null&&n.balance)return l.data.balance}}catch{}try{const c=await fetch(`https://polkadot.statescan.io/api/accounts/${t}`,{signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((i=(s=l.accountDetail)==null?void 0:s.data)!=null&&i.free){const u=BigInt(l.accountDetail.data.free);return(Number(u)/Math.pow(10,10)).toString()}if((a=l.data)!=null&&a.free){const u=BigInt(l.data.free);return(Number(u)/Math.pow(10,10)).toString()}}}catch{}try{const c=await fetch(`https://api.polkaholic.io/account/${t}?chainID=polkadot`,{signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((o=l.balances)!=null&&o.free){const u=BigInt(l.balances.free);return(Number(u)/Math.pow(10,10)).toString()}if(l.free){const u=BigInt(l.free);return(Number(u)/Math.pow(10,10)).toString()}}}catch{}return"0"}async function cDe(t){var e,r;try{const n=await fetch("https://s1.ripple.com:51234/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"account_info",params:[{account:t,ledger_index:"validated"}]}),signal:AbortSignal.timeout(1e4)});if(!n.ok)return"0";const s=await n.json();return(r=(e=s.result)==null?void 0:e.account_data)!=null&&r.Balance?(parseInt(s.result.account_data.Balance)/1e6).toString():"0"}catch{return"0"}}async function lDe(t){try{const e=await fetch(`https://api.blockcypher.com/v1/doge/main/addrs/${t}/balance`,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return"0";const r=await e.json();return r.balance!==void 0?(r.balance/1e8).toString():"0"}catch{return"0"}}async function uDe(t){try{const e=await fetch(`https://api.blockcypher.com/v1/ltc/main/addrs/${t}/balance`,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return"0";const r=await e.json();return r.balance!==void 0?(r.balance/1e8).toString():"0"}catch{return"0"}}async function dDe(t){var e,r,n;try{const s=await fetch(`https://rest.bitcoin.com/v2/address/details/${t}`,{signal:AbortSignal.timeout(1e4)});if(!s.ok){const a=await fetch(`https://api.blockchair.com/bitcoin-cash/dashboards/address/${t}`,{signal:AbortSignal.timeout(1e4)});if(!a.ok)return"0";const o=await a.json();return(n=(r=(e=o.data)==null?void 0:e[t])==null?void 0:r.address)!=null&&n.balance?(o.data[t].address.balance/1e8).toString():"0"}const i=await s.json();return i.balance!==void 0?i.balance.toString():"0"}catch{return"0"}}async function fDe(t){var e,r;try{const n=await fetch("https://api.koios.rest/api/v1/address_info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_addresses:[t]}),signal:AbortSignal.timeout(1e4)});if(!n.ok)return"0";const s=await n.json();if((e=s[0])!=null&&e.utxo_set){let i=0;for(const o of s[0].utxo_set)i+=parseInt(o.value||"0");return(i/1e6).toString()}return"0"}catch{try{const n=await fetch(`https://cardano-mainnet.blockfrost.io/api/v0/addresses/${t}`,{headers:{project_id:"mainnetpublic"},signal:AbortSignal.timeout(1e4)});if(n.ok){const i=(r=(await n.json()).amount)==null?void 0:r.find(a=>a.unit==="lovelace");if(i)return(parseInt(i.quantity)/1e6).toString()}}catch{}return"0"}}async function hDe(t){var e;try{const r=await fetch(`https://rest.cosmos.directory/cosmoshub/cosmos/bank/v1beta1/balances/${t}`,{signal:AbortSignal.timeout(8e3)});if(!r.ok)return"0";const s=(e=(await r.json()).balances)==null?void 0:e.find(i=>i.denom==="uatom");return s?(parseInt(s.amount)/1e6).toString():"0"}catch{return"0"}}async function pDe(t){var e;try{const r=await fetch(`https://rest.cosmos.directory/osmosis/cosmos/bank/v1beta1/balances/${t}`,{signal:AbortSignal.timeout(8e3)});if(!r.ok)return"0";const s=(e=(await r.json()).balances)==null?void 0:e.find(i=>i.denom==="uosmo");return s?(parseInt(s.amount)/1e6).toString():"0"}catch{return"0"}}async function mDe(t,e){switch(e.toUpperCase()){case"BTC":return await sDe(t);case"TRX":return await iDe(t);case"ATOM":return await hDe(t);case"OSMO":return await pDe(t);case"SOL":return await aDe(t);case"XRP":return await cDe(t);case"DOGE":return await lDe(t);case"ADA":return await fDe(t);case"DOT":return await oDe(t);case"LTC":return await uDe(t);case"BCH":return await dDe(t);default:return"0"}}async function a_(t,e,r,n){return e>0?await nDe(t,e,n):await mDe(t,r)}const cq={"usdt-eth":{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",chainId:1,decimals:6,rpcUrl:"https://eth.llamarpc.com"},"usdt-bsc":{address:"0x55d398326f99059fF775485246999027B3197955",chainId:56,decimals:18,rpcUrl:"https://bsc-dataseed.binance.org"},"usdt-polygon":{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",chainId:137,decimals:6,rpcUrl:"https://polygon-rpc.com"},"usdt-arb":{address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",chainId:42161,decimals:6,rpcUrl:"https://arb1.arbitrum.io/rpc"},"usdc-eth":{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",chainId:1,decimals:6,rpcUrl:"https://eth.llamarpc.com"},"usdc-bsc":{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",chainId:56,decimals:18,rpcUrl:"https://bsc-dataseed.binance.org"},"usdc-polygon":{address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",chainId:137,decimals:6,rpcUrl:"https://polygon-rpc.com"},"usdc-arb":{address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",chainId:42161,decimals:6,rpcUrl:"https://arb1.arbitrum.io/rpc"},"wbtc-eth":{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",chainId:1,decimals:8,rpcUrl:"https://eth.llamarpc.com"},"link-eth":{address:"0x514910771AF9Ca656af840dff83E8264EcF986CA",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"uni-eth":{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"shib-eth":{address:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"steth-eth":{address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"aave-eth":{address:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"mkr-eth":{address:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"grt-eth":{address:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"dai-eth":{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"}},lq={"usdt-tron":{address:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",decimals:6},"usdc-tron":{address:"TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8",decimals:6}};async function $le(t,e,r){var n,s;try{const i=await fetch(`https://api.trongrid.io/v1/accounts/${t}/tokens?only_trc20=true`,{signal:AbortSignal.timeout(1e4)});if(!i.ok)return"0";const a=await i.json();if((s=(n=a.data)==null?void 0:n[0])!=null&&s.trc20){const o=a.data[0].trc20;for(const c of o){const l=Object.keys(c)[0];if(l===e){const u=c[l];return(parseFloat(u)/Math.pow(10,r)).toString()}}}return"0"}catch{return"0"}}async function Mle(t,e,r,n,s){try{const i=new g2(s,r),o=await new mh(e,Tle,i).balanceOf(t);return vk(o,n)}catch{return"0"}}const Ole={tether:{evmKey:"usdt-eth",parentChainSymbol:"ETH"},"tether-bsc":{evmKey:"usdt-bsc",parentChainSymbol:"BNB"},"tether-tron":{tronKey:"usdt-tron",parentChainSymbol:"TRX"},"usd-coin":{evmKey:"usdc-eth",parentChainSymbol:"ETH"},"usd-coin-bsc":{evmKey:"usdc-bsc",parentChainSymbol:"BNB"},"usd-coin-tron":{tronKey:"usdc-tron",parentChainSymbol:"TRX"},"wrapped-bitcoin":{evmKey:"wbtc-eth",parentChainSymbol:"ETH"},chainlink:{evmKey:"link-eth",parentChainSymbol:"ETH"},uniswap:{evmKey:"uni-eth",parentChainSymbol:"ETH"},"shiba-inu":{evmKey:"shib-eth",parentChainSymbol:"ETH"},"staked-ether":{evmKey:"steth-eth",parentChainSymbol:"ETH"},aave:{evmKey:"aave-eth",parentChainSymbol:"ETH"},maker:{evmKey:"mkr-eth",parentChainSymbol:"ETH"},"the-graph":{evmKey:"grt-eth",parentChainSymbol:"ETH"},dai:{evmKey:"dai-eth",parentChainSymbol:"ETH"}};async function gDe(t,e){const r=Ole[t];if(!r)return"0";if(r.evmKey&&cq[r.evmKey]){const n=cq[r.evmKey],s=e[r.parentChainSymbol];if(s){const i=await Mle(s,n.address,n.chainId,n.decimals,n.rpcUrl);if(parseFloat(i)>0)return i}}if(r.tronKey&&lq[r.tronKey]){const n=lq[r.tronKey],s=e.TRX;if(s){const i=await $le(s,n.address,n.decimals);if(parseFloat(i)>0)return i}}return"0"}function qw(t){return t in Ole}async function bDe(t,e,r,n,s,i){return r==="tron"?await $le(t,e,i):await Mle(t,e,n,i,s)}const yDe={1:"ETH",56:"BNB",137:"MATIC",43114:"AVAX",42161:"ETH",10:"ETH"},Fle={1:"https://eth.blockscout.com/api",137:"https://polygon.blockscout.com/api",42161:"https://arbitrum.blockscout.com/api",10:"https://optimism.blockscout.com/api"},Ble={56:"https://bsc-mainnet.public.blastapi.io",43114:"https://api.avax.network/ext/bc/C/rpc"},uq="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef";let Ry=new Map;const Rle=6e4;async function vDe(t,e,r,n){var i,a;const s=Ble[e];if(!s)return[];try{const o=new g2(s),c=await o.getBlockNumber(),l="0x"+t.slice(2).toLowerCase().padStart(64,"0"),u=[],f=t.toLowerCase(),h=2e3,m=5;for(let v=0;v<m;v++){const x=c-v*h,k=x-h+1;if(k<0)break;try{const[E,P]=await Promise.all([o.getLogs({fromBlock:k,toBlock:x,topics:[uq,null,l]}),o.getLogs({fromBlock:k,toBlock:x,topics:[uq,l,null]})]);for(const _ of[...E,...P]){const M="0x"+((i=_.topics[1])==null?void 0:i.slice(26)),B="0x"+((a=_.topics[2])==null?void 0:a.slice(26)),D=B.toLowerCase()===f;let j=18,T="TOKEN";try{const O=new mh(_.address,["function decimals() view returns (uint8)","function symbol() view returns (string)"],o);[j,T]=await Promise.all([O.decimals(),O.symbol()])}catch{}const R=vk(_.data,j),H=await o.getBlock(_.blockNumber);u.push({id:`rpc-${_.transactionHash}-${_.index}`,txHash:_.transactionHash,fromAddress:M,toAddress:B,amount:R,timestamp:H!=null&&H.timestamp?new Date(H.timestamp*1e3).toISOString():new Date().toISOString(),type:D?"receive":"send",status:"confirmed",chainId:n,tokenSymbol:T,walletId:r,isTokenTransfer:!0,contractAddress:_.address})}}catch(E){console.error(`Error fetching block range ${k}-${x}:`,E)}}return u.sort((v,x)=>new Date(x.timestamp).getTime()-new Date(v.timestamp).getTime()).slice(0,50)}catch(o){return console.error("Error fetching via RPC:",o),[]}}async function xDe(t,e,r,n,s){const i=Fle[e];if(!i)return[];try{const a=`${i}?module=account&action=txlist&address=${t}&startblock=0&endblock=99999999&page=1&offset=50&sort=desc`,o=await fetch(a,{signal:AbortSignal.timeout(1e4)});if(!o.ok)return[];const c=await o.json();if(c.status!=="1"||!Array.isArray(c.result))return[];const l=t.toLowerCase(),u=yDe[e]||s||"ETH";return c.result.map(f=>{const h=f.to.toLowerCase()===l,m=lae(f.value||"0");return{id:`explorer-${f.hash}`,txHash:f.hash,fromAddress:f.from,toAddress:f.to,amount:m,timestamp:new Date(parseInt(f.timeStamp)*1e3).toISOString(),type:h?"receive":"send",status:f.isError==="0"?"confirmed":"failed",chainId:n,tokenSymbol:u,walletId:r,isTokenTransfer:!1}})}catch{return[]}}async function wDe(t,e,r){try{const n=await fetch(`https://blockstream.info/api/address/${t}/txs`,{signal:AbortSignal.timeout(1e4)});if(!n.ok)return[];const s=await n.json();return Array.isArray(s)?s.slice(0,50).map(i=>{var c,l,u,f;const a=(c=i.vout)==null?void 0:c.some(h=>h.scriptpubkey_address===t);let o=0;return a?o=i.vout.filter(h=>h.scriptpubkey_address===t).reduce((h,m)=>h+(m.value||0),0)/1e8:o=((l=i.vin)==null?void 0:l.reduce((h,m)=>{var v;return((v=m.prevout)==null?void 0:v.scriptpubkey_address)===t?h+(m.prevout.value||0):h},0))/1e8||0,{id:`btc-${i.txid}`,txHash:i.txid,fromAddress:a?"Unknown":t,toAddress:a?t:"Unknown",amount:o.toString(),timestamp:(u=i.status)!=null&&u.block_time?new Date(i.status.block_time*1e3).toISOString():new Date().toISOString(),type:a?"receive":"send",status:(f=i.status)!=null&&f.confirmed?"confirmed":"failed",chainId:r,tokenSymbol:"BTC",walletId:e,isTokenTransfer:!1}}):[]}catch{return[]}}async function ADe(t,e,r,n,s,i){const a=`native-${t}-${e}-${s}`,o=Ry.get(a);if(o&&Date.now()-o.timestamp<Rle)return o.data;let c=[];if(e===0)switch(s.toUpperCase()){case"BTC":c=await wDe(t,r,n);break;default:c=[]}else c=await xDe(t,e,r,n,s);return c.length>0&&Ry.set(a,{data:c,timestamp:Date.now()}),c}async function SDe(t,e,r,n,s){if(e===0)return[];const i=`tokens-${t}-${e}`,a=Ry.get(i);if(a&&Date.now()-a.timestamp<Rle)return a.data;const o=Fle[e];if(Ble[e]&&!o){const c=await vDe(t,e,r,n);return c.length>0&&Ry.set(i,{data:c,timestamp:Date.now()}),c}if(!o)return[];try{const c=`${o}?module=account&action=tokentx&address=${t}&startblock=0&endblock=99999999&page=1&offset=50&sort=desc`,l=await fetch(c,{signal:AbortSignal.timeout(1e4)});if(!l.ok)return[];const u=await l.json();if(u.status!=="1"||!Array.isArray(u.result))return[];const f=t.toLowerCase(),h=u.result.map(m=>{const v=m.to.toLowerCase()===f,x=parseInt(m.tokenDecimal)||18,k=vk(m.value||"0",x);return{id:`token-${m.hash}-${m.contractAddress}`,txHash:m.hash,fromAddress:m.from,toAddress:m.to,amount:k,timestamp:new Date(parseInt(m.timeStamp)*1e3).toISOString(),type:v?"receive":"send",status:"confirmed",chainId:n,tokenSymbol:m.tokenSymbol||"TOKEN",walletId:r,isTokenTransfer:!0,contractAddress:m.contractAddress}});return Ry.set(i,{data:h,timestamp:Date.now()}),h}catch{return[]}}function PDe(t){return{id:t.id,txHash:t.txHash||"",fromAddress:t.fromAddress,toAddress:t.toAddress,amount:t.amount,timestamp:t.timestamp,type:t.type,status:t.status==="pending"?"confirmed":t.status,chainId:t.chainId,tokenSymbol:t.tokenSymbol,walletId:t.walletId,isTokenTransfer:t.tokenSymbol!=="ETH"&&t.tokenSymbol!=="BNB"&&t.tokenSymbol!=="MATIC"&&t.tokenSymbol!=="AVAX"&&t.tokenSymbol!=="BTC"&&t.tokenSymbol!=="SOL"&&t.tokenSymbol!=="TRX"&&t.tokenSymbol!=="DOGE"&&t.tokenSymbol!=="LTC"&&t.tokenSymbol!=="BCH"&&t.tokenSymbol!=="XRP"}}async function Dle(t){const e=[],r=await Promise.all(t.flatMap(i=>[ADe(i.address,i.numericChainId,i.id,i.chainId,i.chainSymbol,i.blockExplorerUrl),i.numericChainId>0?SDe(i.address,i.numericChainId,i.id,i.chainId,i.blockExplorerUrl):Promise.resolve([])]));for(const i of r)e.push(...i);try{const i=await At.getAllTransactions(),a=new Set(t.map(o=>o.chainId));for(const o of i)a.has(o.chainId)&&e.push(PDe(o))}catch(i){console.error("Failed to fetch local transactions:",i)}const n=new Map;for(const i of e){const a=i.txHash||i.id;n.has(a)||n.set(a,i)}return Array.from(n.values()).sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime())}function dq(){Ry.clear()}const mR={ETH:3500,BNB:600,MATIC:.85,AVAX:35,ARB:1.2,BTC:1e5,SOL:180,XRP:2.2,DOGE:.35,ADA:.95,TRX:.25,DOT:7.5,LTC:105,BCH:450,OP:2.5,USDT:1,USDC:1},fq={ETH:"coingecko:ethereum",BNB:"coingecko:binancecoin",MATIC:"coingecko:matic-network",AVAX:"coingecko:avalanche-2",ARB:"coingecko:arbitrum",BTC:"coingecko:bitcoin",SOL:"coingecko:solana",XRP:"coingecko:ripple",DOGE:"coingecko:dogecoin",ADA:"coingecko:cardano",TRX:"coingecko:tron",DOT:"coingecko:polkadot",LTC:"coingecko:litecoin",BCH:"coingecko:bitcoin-cash",OP:"coingecko:optimism",USDT:"coingecko:tether",USDC:"coingecko:usd-coin"};let ow={...mR},hq=0;const kDe=3e4;async function IDe(){var t;try{const e=Object.values(fq).join(","),r=await fetch(`https://coins.llama.fi/prices/current/${e}`,{signal:AbortSignal.timeout(1e4)});if(!r.ok)return null;const n=await r.json(),s={};for(const[i,a]of Object.entries(fq)){const o=(t=n.coins)==null?void 0:t[a];o!=null&&o.price&&(s[i]=o.price)}return Object.keys(s).length>0?s:null}catch{return null}}async function Dy(){const t=Date.now();if(t-hq<kDe&&Object.keys(ow).length>0)return ow;const e=await IDe();return e&&Object.keys(e).length>0&&(ow={...mR,...e},hq=t),ow}function xd(t){return t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(2)}K`:Number.isInteger(t)&&t>=1?`$${t.toFixed(0)}`:t>=1?`$${t.toFixed(2)}`:t>=.01?`$${t.toFixed(2)}`:t>0?`$${t.toFixed(4)}`:"$0.00"}function gR(t){const e=typeof t=="string"?parseFloat(t):t;if(isNaN(e)||e===0)return"0.00";if(e>=1e6){const r=e/1e6;return Number.isInteger(r)?`${r.toFixed(0)}M`:`${r.toFixed(2)}M`}if(e>=1e3){const r=e/1e3;return Number.isInteger(r)?`${r.toFixed(0)}K`:`${r.toFixed(2)}K`}if(Number.isInteger(e))return e.toString();if(e>=100){const r=e.toFixed(2);return parseFloat(r).toString()}if(e>=1){const r=e.toFixed(4);return parseFloat(r).toString()}if(e>=.01){const r=e.toFixed(4);return parseFloat(r).toString()}if(e>=1e-6){const r=e.toFixed(6);return parseFloat(r).toString()}return"<0.000001"}function xf(t,e,r){const n=parseFloat(t);return isNaN(n)||!r[e]?0:n*r[e]}let v3=[],pq=0;const NDe=5*60*1e3;async function mq(t=50){const e=Date.now();if(e-pq<NDe&&v3.length>0)return v3.slice(0,t);try{const r=await Dy(),n=Fd.slice(0,t).map(s=>({...s,currentPrice:r[s.symbol]||mR[s.symbol]||0,priceChangePercentage24h:0,image:s.image||""}));return v3=n,pq=e,n}catch{return EDe(t)}}function EDe(t){if(v3.length>0)return v3.slice(0,t);const e={BTC:1e5,ETH:3500,USDT:1,BNB:600,SOL:180,USDC:1,XRP:2.2,STETH:3500,DOGE:.35,ADA:.95,TRX:.25,AVAX:35,SHIB:25e-6,LINK:22,WBTC:1e5,DOT:7.5,BCH:450,MATIC:.85,LTC:105,UNI:13};return Fd.map(r=>({...r,currentPrice:e[r.symbol]||0,priceChangePercentage24h:0,image:r.image||""}))}const Bb={ethereum:"ETH","matic-network":"MATIC",binancecoin:"BNB","avalanche-2":"AVAX",arbitrum:"ARB",bitcoin:"BTC",solana:"SOL",ripple:"XRP",dogecoin:"DOGE",cardano:"ADA",tron:"TRX",polkadot:"DOT",litecoin:"LTC","bitcoin-cash":"BCH",cosmos:"ATOM",osmosis:"OSMO",tether:"ETH","usd-coin":"ETH","staked-ether":"ETH",chainlink:"ETH","wrapped-bitcoin":"ETH",uniswap:"ETH","shiba-inu":"ETH",aave:"ETH",maker:"ETH","the-graph":"ETH","compound-governance-token":"ETH","yearn-finance":"ETH",sushi:"ETH","curve-dao-token":"ETH","1inch":"ETH",ens:"ETH","lido-dao":"ETH","rocket-pool":"ETH",frax:"ETH",dai:"ETH","pancakeswap-token":"BNB",venus:"BNB","baby-doge-coin":"BNB","trust-wallet-token":"BNB",wbnb:"BNB",floki:"BNB","safemoon-2":"BNB","alpaca-finance":"BNB",biswap:"BNB",raydium:"SOL",bonk:"SOL","jupiter-exchange-solana":"SOL","jito-governance-token":"SOL","trader-joe":"AVAX",benqi:"AVAX",gmx:"ARB",magic:"ARB",optimism:"OP","tether-bsc":"BNB","tether-tron":"TRX","usd-coin-bsc":"BNB","usd-coin-tron":"TRX"},Cx={tether:"ETH","tether-bsc":"BNB","tether-tron":"TRX","usd-coin":"ETH","usd-coin-bsc":"BNB","usd-coin-tron":"TRX","staked-ether":"ETH",chainlink:"ETH","wrapped-bitcoin":"ETH",uniswap:"ETH","shiba-inu":"ETH",aave:"ETH",maker:"ETH","the-graph":"ETH",dai:"ETH","pancakeswap-token":"BNB",venus:"BNB","trust-wallet-token":"BNB","binance-usd":"BNB","first-digital-usd":"BNB","wrapped-bitcoin-bsc":"BNB","wrapped-ethereum-bsc":"BNB","baby-doge-coin":"BNB",wbnb:"BNB",floki:"BNB","safemoon-2":"BNB","alpaca-finance":"BNB",biswap:"BNB",raydium:"SOL",bonk:"SOL","jupiter-exchange-solana":"SOL","jito-governance-token":"SOL","trader-joe":"AVAX",benqi:"AVAX",gmx:"ARB",magic:"ARB",optimism:"OP"},Zg={tether:"Ethereum","tether-bsc":"BNB Smart Chain","tether-tron":"TRON","usd-coin":"Ethereum","usd-coin-bsc":"BNB Smart Chain","usd-coin-tron":"TRON","staked-ether":"Ethereum",chainlink:"Ethereum","wrapped-bitcoin":"Ethereum",uniswap:"Ethereum","shiba-inu":"Ethereum",aave:"Ethereum",maker:"Ethereum","the-graph":"Ethereum",dai:"Ethereum","pancakeswap-token":"BNB Smart Chain",venus:"BNB Smart Chain","trust-wallet-token":"BNB Smart Chain","binance-usd":"BNB Smart Chain","first-digital-usd":"BNB Smart Chain","wrapped-bitcoin-bsc":"BNB Smart Chain","wrapped-ethereum-bsc":"BNB Smart Chain","baby-doge-coin":"BNB Smart Chain",wbnb:"BNB Smart Chain",floki:"BNB Smart Chain","safemoon-2":"BNB Smart Chain","alpaca-finance":"BNB Smart Chain",biswap:"BNB Smart Chain",raydium:"Solana",bonk:"Solana","jupiter-exchange-solana":"Solana","jito-governance-token":"Solana","trader-joe":"Avalanche",benqi:"Avalanche",gmx:"Arbitrum",magic:"Arbitrum",optimism:"Optimism"};function _De(t){const e=new Set;return Array.from(t).forEach(r=>{const n=Cx[r];if(n)e.add(n);else{const s=Bb[r];s&&e.add(s)}}),e}const Ule=F.createContext(void 0);function CDe({children:t}){const[e,r]=F.useState(ur.getState()),[n,s]=F.useState(Gr.getState()),[i,a]=F.useState([]),[o,c]=F.useState([]),[l,u]=F.useState([]),[f,h]=F.useState([]),[m,v]=F.useState(null),[x,k]=F.useState(!1),[E,P]=F.useState(null),[_,M]=F.useState(null),[B,D]=F.useState(!1),[j,T]=F.useState(!1),[R,H]=F.useState(null),[O,b]=F.useState(!1),[w,p]=F.useState([]),[g,S]=F.useState(new Set),[N,I]=F.useState(!1),[A,y]=F.useState(()=>localStorage.getItem("walletMode")==="hard_wallet"?"hard_wallet":"soft_wallet"),[C,$]=F.useState(!1),[L,Q]=F.useState(!1),[U,J]=F.useState([]),[Z,re]=F.useState([]),[G,z]=F.useState(0),[se,ce]=F.useState([]),[pe,Ce]=F.useState([]),[ke,tt]=F.useState({}),[mt,we]=F.useState({}),[qe,Ae]=F.useState({isStale:!1,lastUpdated:null,isRefreshing:!1}),[Oe,We]=F.useState(null),Be=F.useRef(0),ze=F.useRef(!1),Ke=F.useRef({soft:!1,hard:!1}),ct=F.useRef(!1),Y=F.useMemo(()=>{const Se=new Map;return o.forEach(be=>{Se.has(be.accountIndex)||Se.set(be.accountIndex,{index:be.accountIndex,label:be.label})}),Array.from(Se.values()).sort((be,Ee)=>be.index-Ee.index)},[o]),V=F.useMemo(()=>(A==="soft_wallet"?U:e.status==="unlocked"?Z:[]).filter(be=>be.accountIndex===G),[A,U,Z,e.status,G]);F.useEffect(()=>{if(o.length===0)return;const Se=new Set(o.map(be=>be.accountIndex));if(!Se.has(G)){const be=Math.min(...Array.from(Se));z(be)}},[o,G]),F.useEffect(()=>ur.subscribe(r),[]),F.useEffect(()=>Gr.subscribe(s),[]),F.useEffect(()=>{O&&Gr.checkWalletExists()},[O]),F.useEffect(()=>{async function Se(){try{await At.init(),b(!0);const be=await At.isSoftWalletSetup(),Ee=await At.isHardWalletSetup();$(be),Q(Ee);const Ve=localStorage.getItem("walletMode")==="hard_wallet"?"hard_wallet":"soft_wallet",Xe=be?await At.getSoftWalletData():[],xe=Ee?await At.getHardWalletData():[];if(Xe.length>0&&xe.length>0){const dt=new Set(Xe.map(_e=>_e.address.toLowerCase())),ft=new Set(xe.map(_e=>_e.address.toLowerCase()));if(Array.from(dt).some(_e=>ft.has(_e))){if(console.log("[WalletContext] Detected cross-contamination - clearing soft wallet data"),await At.clearSoftWallet(),await At.clearEncryptedSeed(),$(!1),J([]),Ee){const _e=xe.map(et=>({id:et.id,deviceId:"hard",chainId:et.chainId,address:et.address,balance:"0",isActive:!0,accountIndex:et.accountIndex??0,label:et.label}));re(_e)}return}}const Pe=await At.getAllCachedBalances(),je=new Map;Pe.forEach(dt=>{je.set(`${dt.address.toLowerCase()}-${dt.chainSymbol}`,dt.balance)});const Ze=await At.getLastFullRefresh();if(Ze>0){const dt=At.isCacheStale(Ze);Ae({isStale:dt,lastUpdated:Ze,isRefreshing:!1})}if(be&&Xe.length>0){const dt=Xe.map(ft=>{const Ue=`${ft.address.toLowerCase()}-${ft.chainSymbol}`,_e=je.get(Ue);return{id:ft.id,deviceId:"soft",chainId:ft.chainId,address:ft.address,balance:_e||"0",isActive:!0,accountIndex:ft.accountIndex??0,label:ft.label}});J(dt),Ve==="soft_wallet"&&(c(dt),Ke.current.soft=!0)}if(Ee&&xe.length>0){const dt=xe.map(ft=>{const Ue=`${ft.address.toLowerCase()}-${ft.chainSymbol}`,_e=je.get(Ue);return{id:ft.id,deviceId:"hard",chainId:ft.chainId,address:ft.address,balance:_e||"0",isActive:!0,accountIndex:ft.accountIndex??0,label:ft.label}});re(dt)}}catch(be){console.error("Failed to initialize storage:",be)}}Se()},[]);const q=F.useCallback(async Se=>{if(Se===A)return;ze.current=!0,Be.current+=1;const be=Be.current,Ee=A==="soft_wallet"?"soft":"hard",Fe=o.filter(Ve=>Ve.deviceId===Ee);if(Fe.length>0&&O){const Ve=Fe.map(Xe=>{const xe=i.find(Pe=>Pe.id===Xe.chainId);return{id:Xe.id,address:Xe.address,chainId:Xe.chainId,chainName:(xe==null?void 0:xe.name)||"",chainSymbol:(xe==null?void 0:xe.symbol)||"",balance:Xe.balance,path:"m/44'/60'/0'/0/0",lastUpdated:new Date().toISOString(),accountIndex:Xe.accountIndex??0,label:Xe.label}});if(A==="soft_wallet"){if(await At.saveSoftWalletData(Ve),await At.setSoftWalletSetup(!0),Be.current!==be)return;$(!0),J(Fe)}else{if(await At.saveHardWalletData(Ve),await At.setHardWalletSetup(!0),Be.current!==be)return;Q(!0),re(Fe)}}if(Be.current===be){y(Se),localStorage.setItem("walletMode",Se),c([]);try{if(Se==="soft_wallet"){const Ve=await At.isSoftWalletSetup();if(Be.current!==be)return;if($(Ve),Ve){const Xe=await At.getSoftWalletData();if(Be.current!==be)return;if(Xe.length>0){const xe=Xe.map(Pe=>({id:Pe.id,deviceId:"soft",chainId:Pe.chainId,address:Pe.address,balance:"0",isActive:!0,accountIndex:Pe.accountIndex??0,label:Pe.label}));J(xe),c(xe)}else c([])}else c([])}else{const Ve=await At.isHardWalletSetup(),Xe=await ur.hasStoredHardWallet();if(Be.current!==be)return;if(Ve||Xe){const xe=await At.getHardWalletData();if(Be.current!==be)return;if(xe.length>0){const Pe=xe.map(je=>({id:je.id,deviceId:"hard",chainId:je.chainId,address:je.address,balance:"0",isActive:!0,accountIndex:je.accountIndex??0,label:je.label}));re(Pe),Q(!0),c([])}else Q(!1),re([]),c([])}else Q(!1),c([])}}catch(Ve){console.error("Failed to load wallet data for mode:",Se,Ve),Be.current===be&&c([])}finally{Be.current===be&&(ze.current=!1)}}},[A,o,O,i]);F.useEffect(()=>{async function Se(){if(O){I(!0);try{const be=await mq(1e3);p(be);const Ee=new Set(be.map(Ve=>Ve.id));if(await At.hasEnabledAssetsPreference()){const Ve=await At.getEnabledAssets(),Xe=new Set;for(const xe of Array.from(Ve))Ee.has(xe)&&Xe.add(xe);Xe.size===0&&Ve.size>0?(S(Ee),await At.setEnabledAssets(Ee)):(S(Xe),Xe.size!==Ve.size&&await At.setEnabledAssets(Xe))}else{const Ve=new Set,Xe=["bitcoin","ethereum","binancecoin","tron"];for(const xe of Xe)Ee.has(xe)&&Ve.add(xe);Ve.size===0&&Array.from(Ee).slice(0,4).forEach(Pe=>Ve.add(Pe)),S(Ve),await At.setEnabledAssets(Ve)}}catch(be){console.error("Failed to load assets:",be)}finally{I(!1)}}}Se()},[O]),F.useEffect(()=>{async function Se(){if(O)try{const Ee=(await At.getAllTransactions()).map(Fe=>({id:Fe.id,walletId:Fe.walletId,chainId:Fe.chainId,type:Fe.type,status:Fe.status,amount:Fe.amount,tokenSymbol:Fe.tokenSymbol,toAddress:Fe.toAddress,fromAddress:Fe.fromAddress,txHash:Fe.txHash||void 0,gasUsed:Fe.gasUsed||void 0,timestamp:Fe.timestamp}));u(Ee)}catch(be){console.error("Failed to load transactions:",be)}}Se()},[O]),F.useEffect(()=>{const Se=Ui.map((Ee,Fe)=>({...Ee,id:`chain-${Fe}`})),be=pe.map(Ee=>({id:Ee.id,name:Ee.name,symbol:Ee.symbol,rpcUrl:Ee.rpcUrl,chainId:Ee.chainId,blockExplorer:Ee.blockExplorer||"",iconColor:Ee.iconColor||"#6B7280",isDefault:!1,decimals:Ee.decimals}));a([...Se,...be]),Se.length>0&&!m&&v(Se[0].id)},[pe]),F.useEffect(()=>{const Se=()=>{A==="soft_wallet"?n.status==="unlocked"&&Gr.resetSessionTimeout():e.status==="unlocked"&&ur.resetSessionTimeout()},be=["mousedown","keydown","touchstart","scroll"];return be.forEach(Ee=>{window.addEventListener(Ee,Se,{passive:!0})}),()=>{be.forEach(Ee=>{window.removeEventListener(Ee,Se)})}},[A,e.status,n.status]);const ne=F.useRef(new Set),le=F.useRef(!1);F.useEffect(()=>{ne.current=new Set},[A]),F.useEffect(()=>{if(le.current)return;if(o.length===0){ne.current=new Set;return}if(i.length===0)return;const Se=o.filter(be=>!ne.current.has(be.id));Se.length!==0&&(Se.forEach(be=>ne.current.add(be.id)),(async()=>{const be=new Map;await Promise.all(Se.map(async Ee=>{if(Ee.balance!=="0")return;const Fe=i.find(Ve=>Ve.id===Ee.chainId);if(!(!Fe||Fe.chainId===0))try{const Ve=!Fe.isDefault&&Fe.rpcUrl?Fe.rpcUrl:void 0,Xe=await a_(Ee.address,Fe.chainId,Fe.symbol,Ve);be.set(Ee.id,Xe)}catch{}})),c(Ee=>Ee.map(Fe=>{const Ve=be.get(Fe.id);return Ve?{...Fe,balance:Ve}:Fe}))})())},[o,i.length,A]);const de=A==="soft_wallet"?n.status==="locked"||n.status==="unlocked"||n.hasWallet:e.status==="connected"||e.status==="unlocked",me=A==="soft_wallet"?n.status==="unlocked":e.status==="unlocked",rt=A==="soft_wallet"?C:L;F.useMemo(()=>A==="soft_wallet"?U:e.status==="unlocked"?Z:[],[A,U,Z,e.status]);const ht=F.useRef(!1);F.useEffect(()=>{var Se;if(!ze.current)if(A==="hard_wallet"){const be=e.status==="unlocked",Ee=be&&!ht.current;ht.current=be,be&&Z.length>0?(o.length===0||Ee)&&(ne.current=new Set,c([...Z])):be||o.length>0&&((Se=o[0])==null?void 0:Se.deviceId)==="hard"&&c([])}else ht.current=!1},[A,e.status,Z,o.length]);const ot=F.useRef(!1);F.useEffect(()=>{if(A!=="hard_wallet"){ot.current=!1;return}const Se=e.status==="unlocked"&&!ot.current;ot.current=e.status==="unlocked",!(!Se||!O)&&(async()=>{try{console.log("[WalletContext] Hardware wallet unlocked - syncing chain preferences");const be=await ur.getChainPreferences();if(be&&be.length>0){console.log("[WalletContext] Loaded chain preferences from hardware:",be);const Ee=await ur.getSeedPhraseFromDevice();if(!Ee){console.error("[WalletContext] Cannot get seed phrase from device");return}const Fe=i.length>0?i:Ui.map((Xe,xe)=>({...Xe,id:`chain-${xe}`})),Ve=[];for(const Xe of be){const xe=Fe.find(Ze=>Ze.symbol===Xe.symbol);if(!xe)continue;const je=(await Fb(Ee,[Xe.symbol],Xe.accountIndex))[0];je&&je.address&&Ve.push({id:`wallet-${Date.now()}-${xe.id}-${Xe.accountIndex}`,deviceId:"hard",chainId:xe.id,address:je.address,balance:"0",isActive:!0,accountIndex:Xe.accountIndex,label:Xe.label})}if(Ve.length>0){console.log("[WalletContext] Derived wallets from chain preferences:",Ve.length),re(Ve),c(Ve),Q(!0);const Xe=Ve.map(xe=>{const Pe=Fe.find(je=>je.id===xe.chainId);return{id:xe.id,chainId:xe.chainId,chainName:(Pe==null?void 0:Pe.name)||"",chainSymbol:(Pe==null?void 0:Pe.symbol)||"",address:xe.address,balance:xe.balance,path:`m/44'/${(Pe==null?void 0:Pe.symbol)==="ETH"?"60":(Pe==null?void 0:Pe.symbol)==="BTC"?"0":"501"}'/0'/0/${xe.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:xe.accountIndex,label:xe.label}});await At.saveHardWalletData(Xe),await At.setHardWalletSetup(!0)}}}catch(be){console.error("[WalletContext] Failed to sync chain preferences:",be)}})()},[A,e.status,O,i]);const pt=F.useCallback(async()=>{D(!0),H(null);try{return await ur.connectLedger()}catch(Se){return H(Se.message||"Failed to connect Ledger"),!1}finally{D(!1)}},[]),Ct=F.useCallback(async()=>{console.log("[WalletContext] connectRaspberryPi() called"),D(!0),H(null);try{const Se=await ur.connectRaspberryPi();if(console.log("[WalletContext] hardwareWallet.connectRaspberryPi() result:",Se),Se){const be=ur.hasWalletOnDevice();return console.log("[WalletContext] Device has wallet:",be),be?console.log("[WalletContext] EXISTING DEVICE - Wallet found on device"):(console.log("[WalletContext] NEW DEVICE - No wallet found, clearing cache"),c([]),u([]),await At.clearAll()),{success:!0,hasWallet:be}}else return console.log("[WalletContext] Connection failed"),ur.setHasWalletOnDevice(!1),{success:!1,hasWallet:!1,error:ur.getState().error||void 0}}catch(Se){console.log("[WalletContext] Exception:",Se),ur.setHasWalletOnDevice(!1);const be=Se.message||"Failed to connect Raspberry Pi";return H(be),{success:!1,hasWallet:!1,error:be}}finally{D(!1)}},[]),St=F.useCallback(async Se=>{D(!0),H(null);try{return await ur.connectSimulated(Se)}catch(be){return H(be.message||"Failed to create simulated wallet"),!1}finally{D(!1)}},[]),Rt=F.useCallback(async Se=>{D(!0),H(null);try{let be;return A==="soft_wallet"?(be=await Gr.unlock(Se),!be&&Gr.getState().error&&H(Gr.getState().error)):be=await ur.unlock(Se),be&&k(!1),be}catch(be){return H(be.message||"Failed to unlock wallet"),!1}finally{D(!1)}},[A]),nr=F.useCallback(()=>{A==="soft_wallet"?Gr.lock():ur.lock()},[A]),De=F.useCallback(()=>{A==="soft_wallet"?Gr.resetSessionTimeout():ur.resetSessionTimeout()},[A]),He=F.useCallback(async()=>{A==="soft_wallet"?(await Gr.reset(),$(!1),J([])):(await ur.disconnect(),await At.clearHardWallet(),Q(!1),re([])),c([]),u([])},[A]),gt=F.useCallback(async Se=>{if(A==="soft_wallet"){if(Gr.getState().status!=="unlocked"){H("Wallet must be unlocked to derive wallets");return}}else if(ur.getState().status!=="unlocked"){H("Device must be unlocked to derive wallets");return}if(O&&!Se){const be=A==="soft_wallet"?await At.getSoftWalletData():await At.getHardWalletData();if(be.length>0){const Ee=be.map(Fe=>({id:Fe.id,deviceId:A==="soft_wallet"?"soft":"hard",chainId:Fe.chainId,address:Fe.address,balance:"0",isActive:!0,accountIndex:Fe.accountIndex??0,label:Fe.label}));c(Ee),A==="soft_wallet"?J(Ee):re(Ee);return}}D(!0);try{const be=i.length>0?i:Ui.map((Ee,Fe)=>({...Ee,id:`chain-${Fe}`}));if(Se&&Se.length>0){const Ee=A==="soft_wallet"?Gr.getSeedPhrase():await ur.getSeedPhraseFromDevice();if(!Ee)throw new Error("Cannot access seed phrase");const Fe=be.filter(Pe=>Se.includes(Pe.id)),Ve=Fe.map(Pe=>Pe.symbol),Xe=await Fb(Ee,Ve,0),xe=[];for(const Pe of Xe){const je=Fe.find(Ze=>Ze.symbol===Pe.chainSymbol);!je||!Pe.address||xe.push({id:`wallet-${Date.now()}-${je.id}-0`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:je.id,address:Pe.address,balance:"0",isActive:!0,accountIndex:0})}if(A==="soft_wallet"?J(xe):re(xe),c(xe),O){const Pe=xe.map(je=>{const Ze=Fe.find(dt=>dt.id===je.chainId);return{id:je.id,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",address:je.address,balance:je.balance,path:`m/44'/${(Ze==null?void 0:Ze.symbol)==="ETH"?"60":(Ze==null?void 0:Ze.symbol)==="BTC"?"0":"501"}'/0'/0/${je.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex,label:je.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Pe),await At.setSoftWalletSetup(!0),$(!0);else{await At.saveHardWalletData(Pe),await At.setHardWalletSetup(!0),Q(!0);const je=xe.map(Ze=>{const dt=Fe.find(ft=>ft.id===Ze.chainId);return{symbol:(dt==null?void 0:dt.symbol)||"",accountIndex:Ze.accountIndex,label:Ze.label}});await ur.saveChainPreferences(je)}}}else c([]),O&&(A==="soft_wallet"?(await At.saveSoftWalletData([]),await At.setSoftWalletSetup(!0),$(!0),J([])):(await At.saveHardWalletData([]),await At.setHardWalletSetup(!0),Q(!0),re([])));i.length===0&&a(be)}catch(be){H(be.message||"Failed to initialize wallet")}finally{D(!1)}},[i,m,O,A]);F.useCallback(async()=>{const Se=A==="soft_wallet"?U:Z;if(!(Se.length===0||i.length===0))try{const be=await At.getAllCachedBalances();if(be.length===0)return;const Ee=await At.getLastFullRefresh(),Fe=Ee>0?At.isCacheStale(Ee):!0;Ae(Xe=>({...Xe,isStale:Fe,lastUpdated:Ee||null}));const Ve=Se.map(Xe=>{const xe=i.find(je=>je.id===Xe.chainId);if(!xe)return Xe;const Pe=be.find(je=>je.address.toLowerCase()===Xe.address.toLowerCase()&&je.chainSymbol===xe.symbol);return Pe?{...Xe,balance:Pe.balance}:Xe});c([...Ve]),A==="soft_wallet"?J([...Ve]):re([...Ve])}catch(be){console.error("Failed to load cached balances:",be)}},[A,U,Z,i]);const nt=F.useCallback(async()=>{le.current=!0,ne.current=new Set,Ae(Se=>({...Se,isRefreshing:!0}));try{const Se=A==="soft_wallet"?U:Z;if(Se.length===0||i.length===0){Ae(Pe=>({...Pe,isStale:!1,isRefreshing:!1}));return}const be=_De(g),Ee=Se.filter(Pe=>{const je=i.find(Ze=>Ze.id===Pe.chainId);return je&&be.has(je.symbol)});if(Ee.length===0){Ae(Pe=>({...Pe,isStale:!1,isRefreshing:!1}));return}const Fe=[],Ve=await Promise.all(Ee.map(async Pe=>{const je=i.find(Ze=>Ze.id===Pe.chainId);if(!je)return Pe;try{const Ze=!je.isDefault&&je.rpcUrl?je.rpcUrl:void 0,dt=await a_(Pe.address,je.chainId,je.symbol,Ze);return Fe.push({address:Pe.address,chainSymbol:je.symbol,chainId:je.chainId,balance:dt}),{...Pe,balance:dt}}catch(Ze){return console.error(`Failed to fetch balance for ${Pe.address}:`,Ze),Pe}})),Xe=new Set(Ve.map(Pe=>Pe.id)),xe=Se.map(Pe=>Xe.has(Pe.id)&&Ve.find(je=>je.id===Pe.id)||Pe);if(Fe.length>0&&(c([...xe]),A==="soft_wallet"?J([...xe]):re([...xe])),O&&Fe.length>0){await At.setCachedBalances(Fe);const Pe=xe.map(je=>{const Ze=i.find(dt=>dt.id===je.chainId);return{id:je.id,address:je.address,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",balance:je.balance,path:"m/44'/60'/0'/0/0",lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex??0,label:je.label,walletGroupId:je.walletGroupId}});A==="soft_wallet"?await At.saveSoftWalletData(Pe):await At.saveHardWalletData(Pe),Ae({isStale:!1,lastUpdated:Date.now(),isRefreshing:!1})}else Ae(Pe=>({...Pe,isRefreshing:!1}))}catch(Se){console.error("Failed to refresh balances:",Se),Ae(be=>({...be,isRefreshing:!1}))}finally{le.current=!1}},[i,O,A,U,Z,g]),It=F.useCallback(async Se=>{const Ee=(A==="soft_wallet"?U:Z).find(Ve=>Ve.id===Se);if(!Ee)return;const Fe=i.find(Ve=>Ve.id===Ee.chainId);if(Fe)try{const Ve=!Fe.isDefault&&Fe.rpcUrl?Fe.rpcUrl:void 0,Xe=await a_(Ee.address,Fe.chainId,Fe.symbol,Ve),xe={...Ee,balance:Xe},Pe=je=>je.map(Ze=>Ze.id===Se?xe:Ze);c(je=>Pe(je)),A==="soft_wallet"?J(je=>Pe(je)):re(je=>Pe(je)),O&&await At.setCachedBalances([{address:Ee.address,chainSymbol:Fe.symbol,chainId:Fe.chainId,balance:Xe}])}catch(Ve){console.error(`Failed to fetch balance for wallet ${Se}:`,Ve)}},[i,O,A,U,Z]),Ut=F.useCallback(async()=>{if(!(o.length===0||i.length===0)){T(!0);try{const Se=o.map(xe=>{const Pe=i.find(je=>je.id===xe.chainId);return{id:xe.id,address:xe.address,chainId:xe.chainId,numericChainId:(Pe==null?void 0:Pe.chainId)||0,chainSymbol:(Pe==null?void 0:Pe.symbol)||"ETH",blockExplorerUrl:Pe==null?void 0:Pe.blockExplorer}}),be=await Dle(Se),Ee=await At.getAllTransactions(),Fe=new Set(Ee.map(xe=>xe.txHash).filter(Boolean)),Ve=be.filter(xe=>!Fe.has(xe.txHash)),Xe=[...Ee.map(xe=>({id:xe.id,walletId:xe.walletId,chainId:xe.chainId,type:xe.type,status:xe.status,amount:xe.amount,tokenSymbol:xe.tokenSymbol,toAddress:xe.toAddress,fromAddress:xe.fromAddress,txHash:xe.txHash||void 0,gasUsed:xe.gasUsed||void 0,timestamp:xe.timestamp})),...Ve.map(xe=>({id:xe.id,walletId:xe.walletId,chainId:xe.chainId,type:xe.type,status:xe.status,amount:xe.amount,tokenSymbol:xe.tokenSymbol,toAddress:xe.toAddress,fromAddress:xe.fromAddress,txHash:xe.txHash,gasUsed:void 0,timestamp:xe.timestamp}))];Xe.sort((xe,Pe)=>new Date(Pe.timestamp).getTime()-new Date(xe.timestamp).getTime()),u(Xe)}catch(Se){console.error("Failed to refresh transactions:",Se)}finally{T(!1)}}},[o,i]),bt=e.type==="raspberry_pi"?ur.hasWalletOnDevice():!0,Je=F.useCallback(async(Se,be)=>{const Ee=await At.toggleAsset(Se,be);S(new Set(Ee))},[]),Pt=F.useCallback(async()=>{I(!0);try{const Se=await mq(1e3);p(Se);const be=new Set(Se.map(Ee=>Ee.id));S(Ee=>{const Fe=new Set;for(const Ve of Array.from(Ee))be.has(Ve)&&Fe.add(Ve);return Fe.size===0&&Ee.size>0?(At.setEnabledAssets(be),be):(Fe.size!==Ee.size&&At.setEnabledAssets(Fe),Fe)})}catch(Se){console.error("Failed to refresh top assets:",Se)}finally{I(!1)}},[]),it=F.useCallback(async()=>{const Se=new Set(w.map(be=>be.id));S(Se),await At.setEnabledAssets(Se)},[w]),Tt=F.useCallback(async()=>{S(new Set),await At.setEnabledAssets(new Set)},[]),X=F.useCallback(async()=>{try{const be=(await At.getCustomTokens()).map(Ee=>{if(Ee.image)return Ee;const Fe=Ee.symbol.toUpperCase().trim(),Ve=Fd.find(Xe=>Xe.symbol.toUpperCase().trim()===Fe);return{...Ee,image:Ve==null?void 0:Ve.image}});ce(be)}catch(Se){console.error("Failed to load custom tokens:",Se)}},[]),ee=F.useCallback(async Se=>{const be=await At.addCustomToken(Se);return ce(Ee=>{const Fe=Ee.findIndex(Ve=>Ve.id===be.id);if(Fe>=0){const Ve=[...Ee];return Ve[Fe]=be,Ve}return[...Ee,be]}),be},[]),te=F.useCallback(async Se=>{await At.removeCustomToken(Se),ce(be=>be.filter(Ee=>Ee.id!==Se))},[]);F.useEffect(()=>{O&&X()},[O,X]);const W=F.useCallback(async()=>{try{const Se=await At.getCustomChains();Ce(Se)}catch(Se){console.error("Failed to load custom chains:",Se)}},[]),ie=F.useCallback(async Se=>{const be=await At.addCustomChain(Se);return Ce(Ee=>{const Fe=Ee.findIndex(Ve=>Ve.id===be.id);if(Fe>=0){const Ve=[...Ee];return Ve[Fe]=be,Ve}return[...Ee,be]}),be},[]),fe=F.useCallback(async Se=>{await At.removeCustomChain(Se),Ce(be=>be.filter(Ee=>Ee.id!==Se))},[]);F.useEffect(()=>{O&&!ct.current&&(ct.current=!0,W())},[O,W]),F.useEffect(()=>{if(o.length===0||w.length===0)return;const Se={};o.forEach(Fe=>{const Ve=i.find(Xe=>Xe.id===Fe.chainId);Ve&&(Se[Ve.symbol]=Fe.address)});const be=async()=>{const Ve=w.filter(Pe=>g.has(Pe.id)&&qw(Pe.id)).map(Pe=>Pe.id).map(async Pe=>{try{const je=await gDe(Pe,Se);return[Pe,je]}catch{return[Pe,"0"]}}),Xe=await Promise.all(Ve),xe={};Xe.forEach(([Pe,je])=>{xe[Pe]=je}),tt(xe)};be();const Ee=setInterval(be,3e4);return()=>clearInterval(Ee)},[o.length,w.length,g.size,i]),F.useEffect(()=>{if(o.length===0||se.length===0)return;const Se={};o.forEach(Fe=>{const Ve=i.find(Xe=>Xe.id===Fe.chainId);Ve&&(Se[Ve.symbol]=Fe.address,Se[Ve.id]=Fe.address)});const be=async()=>{const Fe=se.map(async xe=>{const Pe=Se[xe.chainId]||Se[xe.chainId.toUpperCase()];if(!Pe)return[xe.id,"0"];try{const je=await bDe(Pe,xe.contractAddress,xe.chainType,xe.evmChainId||0,xe.rpcUrl||"",xe.decimals);return[xe.id,je]}catch{return[xe.id,"0"]}}),Ve=await Promise.all(Fe),Xe={};Ve.forEach(([xe,Pe])=>{Xe[xe]=Pe}),we(Xe)};be();const Ee=setInterval(be,3e4);return()=>clearInterval(Ee)},[o.length,se.length,i]);const Ie=F.useCallback(async Se=>A!=="soft_wallet"?!1:await Gr.verifySeedPhrase(Se),[A]),ae=F.useCallback(()=>A!=="soft_wallet"?null:Gr.getSeedWordCount(),[A]),ye=F.useCallback(async Se=>{if(!Oe)return!1;try{const be=Oe.chainId,Ee=i.find(Pe=>Pe.id===be);if(!Ee)return We(null),!1;let Fe=null;if(A==="soft_wallet"){const Pe=await Gr.deriveAddresses([Ee.symbol],0);if(Pe.length===0)return We(null),!1;Fe=Pe[0].address}else{const Pe=await ur.getSeedPhraseFromDevice();if(!Pe)return We(null),!1;const je=await Fb(Pe,[Ee.symbol],0);if(je.length===0||!je[0].address)return We(null),!1;Fe=je[0].address}const Ve={id:`wallet-${be}-${Date.now()}`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:be,address:Fe,balance:"0",isActive:!0,accountIndex:0,label:Se||Ee.name},xe=[...A==="soft_wallet"?U:Z,Ve];if(A==="soft_wallet"?J(xe):re(xe),c(xe),O){const Pe=xe.map(je=>{const Ze=i.find(dt=>dt.id===je.chainId);return{id:je.id,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",address:je.address,balance:je.balance,path:`m/44'/${(Ze==null?void 0:Ze.symbol)==="ETH"?"60":(Ze==null?void 0:Ze.symbol)==="BTC"?"0":"501"}'/0'/0/${je.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex,label:je.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Pe);else{await At.saveHardWalletData(Pe);const je=xe.map(Ze=>{const dt=i.find(ft=>ft.id===Ze.chainId);return{symbol:(dt==null?void 0:dt.symbol)||"",accountIndex:Ze.accountIndex,label:Ze.label}});await ur.saveChainPreferences(je)}}return We(null),!0}catch(be){return console.error("Failed to add chain:",be),We(null),!1}},[Oe,i,A,U,Z,O]),Le=F.useCallback(()=>{We(null)},[]),Re=F.useCallback(async(Se,be)=>{const Fe=(A==="soft_wallet"?U:Z).map(Ve=>Ve.id===Se?{...Ve,label:be}:Ve);if(A==="soft_wallet"?J(Fe):re(Fe),c(Fe),O){const Ve=Fe.map(Xe=>{const xe=i.find(Pe=>Pe.id===Xe.chainId);return{id:Xe.id,chainId:Xe.chainId,chainName:(xe==null?void 0:xe.name)||"",chainSymbol:(xe==null?void 0:xe.symbol)||"",address:Xe.address,balance:Xe.balance,path:`m/44'/${(xe==null?void 0:xe.symbol)==="ETH"?"60":(xe==null?void 0:xe.symbol)==="BTC"?"0":"501"}'/0'/0/${Xe.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:Xe.accountIndex,label:Xe.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Ve);else{await At.saveHardWalletData(Ve);const Xe=Fe.map(xe=>{const Pe=i.find(je=>je.id===xe.chainId);return{symbol:(Pe==null?void 0:Pe.symbol)||"",accountIndex:xe.accountIndex,label:xe.label}});await ur.saveChainPreferences(Xe)}}},[A,U,Z,i,O]),Mt=F.useCallback(async(Se,be)=>{if(A==="soft_wallet"){if(Gr.getState().status!=="unlocked"){const Ee="Wallet must be unlocked to create additional wallet";throw H(Ee),new Error(Ee)}}else if(ur.getState().status!=="unlocked"){const Fe="Device must be unlocked to create additional wallet";throw H(Fe),new Error(Fe)}D(!0);try{let Ee;if(A==="soft_wallet"?Ee=Gr.getSeedPhrase():Ee=await ur.getSeedPhraseFromDevice(),!Ee)throw new Error("Cannot access seed phrase");const Fe=i.length>0?i:Ui.map((_e,et)=>({..._e,id:`chain-${et}`})),Ve=A==="soft_wallet"?await At.getSoftWalletData():await At.getHardWalletData(),Xe=Ve.map(_e=>({id:_e.id,deviceId:A==="soft_wallet"?"soft":"hard",chainId:_e.chainId,address:_e.address,balance:_e.balance||"0",isActive:!0,accountIndex:_e.accountIndex??0,label:_e.label})),xe=be?Ve.filter(_e=>_e.chainId===be):Ve,Pe=xe.length>0?Math.max(...xe.map(_e=>_e.accountIndex??0))+1:0,je=be?Fe.filter(_e=>_e.id===be):Fe;if(je.length===0)throw new Error("Invalid chain selected");const Ze=je.map(_e=>_e.symbol),dt=await Fb(Ee,Ze,Pe),ft=[];for(const _e of dt){const et=je.find(yt=>yt.symbol===_e.chainSymbol);if(!et||!_e.address)continue;const at={id:`wallet-${et.id}-${_e.address.slice(0,8)}-${Pe}`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:et.id,address:_e.address,balance:"0",isActive:!0,accountIndex:Pe,label:Se||`Wallet ${Pe+1}`};ft.push(at)}const Ue=[...Xe,...ft];if(c(Ue),O){const _e=Ue.map(et=>{const Qe=Fe.find(at=>at.id===et.chainId);return{id:et.id,address:et.address,chainId:et.chainId,chainName:(Qe==null?void 0:Qe.name)||"",chainSymbol:(Qe==null?void 0:Qe.symbol)||"",balance:et.balance,path:`m/44'/60'/${et.accountIndex??0}'/0/0`,lastUpdated:new Date().toISOString(),accountIndex:et.accountIndex??0,label:et.label}});A==="soft_wallet"?(await At.saveSoftWalletData(_e),J(Ue)):(await At.saveHardWalletData(_e),re(Ue))}}catch(Ee){throw H(Ee.message||"Failed to create additional wallet"),Ee}finally{D(!1)}},[i,o,A,O]),ut=F.useCallback(()=>Gr.generateNewSeedPhrase(),[]),Ot=F.useCallback(async(Se,be)=>{if(A!=="soft_wallet")throw new Error("Independent seed wallets are only available in soft wallet mode");if(!be)throw new Error("PIN is required to encrypt the new seed phrase");D(!0);try{const Ee=Gr.generateNewSeedPhrase(),Fe=`wallet-group-${Date.now()}`,{encryptedSeed:Ve,pinHash:Xe,pinSalt:xe}=await Gr.encryptSeedForWalletGroup(Ee,be,Fe);await At.saveWalletSeed({walletGroupId:Fe,encryptedSeed:Ve,pinHash:Xe,pinSalt:xe,createdAt:new Date().toISOString()});const Pe=i.length>0?i:Ui.map((et,Qe)=>({...et,id:`chain-${Qe}`})),je=await At.getSoftWalletData(),Ze=At.getNextAccountIndex(je),dt=Pe.map(et=>et.symbol),ft=await Fb(Ee,dt,0),Ue=[];for(const et of ft){const Qe=Pe.find(Yt=>Yt.symbol===et.chainSymbol);if(!Qe||!et.address)continue;const yt={id:`wallet-${Qe.id}-${et.address.slice(0,8)}-${Ze}`,deviceId:"soft",chainId:Qe.id,address:et.address,balance:"0",isActive:!0,accountIndex:Ze,label:Se||`Wallet ${Ze+1}`,walletGroupId:Fe};Ue.push(yt)}const _e=[...o,...Ue];if(c(_e),O){const et=_e.map(Qe=>{const at=Pe.find(yt=>yt.id===Qe.chainId);return{id:Qe.id,address:Qe.address,chainId:Qe.chainId,chainName:(at==null?void 0:at.name)||"",chainSymbol:(at==null?void 0:at.symbol)||"",balance:Qe.balance,path:`m/44'/60'/${Qe.accountIndex??0}'/0/0`,lastUpdated:new Date().toISOString(),accountIndex:Qe.accountIndex??0,label:Qe.label,walletGroupId:Qe.walletGroupId}});await At.saveSoftWalletData(et),J(_e)}return{seedPhrase:Ee,walletGroupId:Fe}}catch(Ee){throw H(Ee.message||"Failed to create wallet with new seed"),Ee}finally{D(!1)}},[i,o,A,O]);return d.jsx(Ule.Provider,{value:{hardwareState:e,isConnected:de,isUnlocked:me,hasWalletOnDevice:bt,walletMode:A,setWalletMode:q,hasSoftWalletSetup:C,hasHardWalletSetup:L,currentModeHasWallet:rt,chains:i,wallets:o,setWallets:c,transactions:l,setTransactions:u,tokens:f,setTokens:h,selectedChainId:m,setSelectedChainId:v,showPinModal:x,setShowPinModal:k,pinAction:E,setPinAction:P,pendingTransaction:_,setPendingTransaction:M,connectLedger:pt,connectRaspberryPi:Ct,connectSimulated:St,unlockWallet:Rt,lockWallet:nr,disconnectDevice:He,deriveWallets:gt,refreshBalances:nt,refreshWalletBalance:It,refreshTransactions:Ut,resetSessionTimeout:De,isLoading:B,isLoadingTransactions:j,error:R,topAssets:w,enabledAssetIds:g,isLoadingAssets:N,toggleAssetEnabled:Je,refreshTopAssets:Pt,enableAllAssets:it,disableAllAssets:Tt,createAdditionalWallet:Mt,createWalletWithNewSeed:Ot,generateNewSeedPhrase:ut,selectedAccountIndex:G,setSelectedAccountIndex:z,availableAccounts:Y,visibleWallets:V,customTokens:se,loadCustomTokens:X,addCustomToken:ee,removeCustomToken:te,tokenBalances:ke,setTokenBalances:tt,customTokenBalances:mt,setCustomTokenBalances:we,customChains:pe,loadCustomChains:W,addCustomChain:ie,removeCustomChain:fe,balanceCacheStatus:qe,pendingAddChain:Oe,setPendingAddChain:We,verifySeedForAddChain:Ie,confirmAddChain:ye,abortAddChain:Le,getSeedWordCount:ae,renameWallet:Re},children:t})}function Yi(){const t=F.useContext(Ule);if(!t)throw new Error("useWallet must be used within WalletProvider");return t}const TDe=[{title:"Dashboard",url:"/",icon:tre},{title:"Send / Receive",url:"/transfer",icon:Nwe},{title:"Chains & Tokens",url:"/chains",icon:EF,softWalletOnly:!0},{title:"Manage Crypto",url:"/manage-crypto",icon:ix},{title:"DApps",url:"/dapps",icon:uA,softWalletOnly:!0},{title:"Settings",url:"/settings",icon:t6},{title:"Setup Guide",url:"/setup",icon:Cwe},{title:"Mobile Bridge",url:"/bridge",icon:ox}];function jDe(){const[t]=sf(),{isConnected:e,isUnlocked:r,hardwareState:n,wallets:s,setShowPinModal:i,setPinAction:a,lockWallet:o,walletMode:c,setWalletMode:l,currentModeHasWallet:u}=Yi(),f=u,h=()=>{a(f?"unlock":"setup"),i(!0)};return d.jsxs(y5e,{children:[d.jsxs(v5e,{className:"border-b border-sidebar-border p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:d.jsx($s,{className:"h-6 w-6 text-primary-foreground"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-lg font-semibold",children:"VaultKey"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Crypto Wallet"})]})]}),d.jsxs("div",{className:"mt-3 flex rounded-md border border-border overflow-hidden",children:[d.jsxs("button",{onClick:()=>l("hard_wallet"),className:`flex-1 flex items-center justify-center gap-1.5 py-1.5 px-3 text-xs font-medium transition-colors ${c==="hard_wallet"?"bg-primary text-primary-foreground":"bg-background text-muted-foreground hover:bg-muted"}`,"data-testid":"button-mode-hard-wallet",children:[d.jsx(lA,{className:"h-3.5 w-3.5"}),"Hard Wallet"]}),d.jsxs("button",{onClick:()=>l("soft_wallet"),className:`flex-1 flex items-center justify-center gap-1.5 py-1.5 px-3 text-xs font-medium transition-colors ${c==="soft_wallet"?"bg-primary text-primary-foreground":"bg-background text-muted-foreground hover:bg-muted"}`,"data-testid":"button-mode-soft-wallet",children:[d.jsx(e6,{className:"h-3.5 w-3.5"}),"Soft Wallet"]})]}),d.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-sidebar-accent/50 p-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:c==="soft_wallet"?f?r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Active"})]}):d.jsxs(d.Fragment,{children:[d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Locked"})]}):d.jsxs(d.Fragment,{children:[d.jsx(e6,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Not Set Up"})]}):f?r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Connected"})]}):d.jsxs(d.Fragment,{children:[d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Locked"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/50"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"No Device"})]})}),f&&!r&&d.jsx(Te,{size:"sm",variant:"ghost",onClick:h,"data-testid":"button-sidebar-unlock",children:d.jsx(dA,{className:"h-4 w-4"})}),f&&r&&d.jsx(Te,{size:"sm",variant:"ghost",onClick:o,"data-testid":"button-sidebar-lock",children:d.jsx(hl,{className:"h-4 w-4"})})]})]}),d.jsx(w5e,{children:d.jsx(A5e,{children:d.jsx(S5e,{children:d.jsx(P5e,{children:TDe.filter(m=>!(m.softWalletOnly&&c==="hard_wallet")).map(m=>{const v=t===m.url||m.url!=="/"&&t.startsWith(m.url);return d.jsx(k5e,{children:d.jsx(N5e,{asChild:!0,isActive:v,className:v?"bg-sidebar-accent":"",children:d.jsxs(dl,{href:m.url,"data-testid":`link-${m.title.toLowerCase().replace(/\s+/g,"-")}`,children:[d.jsx(m.icon,{className:"h-5 w-5"}),d.jsx("span",{children:m.title})]})})},m.title)})})})})}),d.jsx(x5e,{className:"border-t border-sidebar-border p-4",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx($s,{className:"h-3 w-3"}),d.jsx("span",{children:"Secured by hardware encryption"})]})})]})}function $De(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Uk(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const B$=t=>Array.isArray(t);function zle(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function D6(t){return typeof t=="string"||Array.isArray(t)}function gq(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function bR(t,e,r,n){if(typeof e=="function"){const[s,i]=gq(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=gq(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function zk(t,e,r){const n=t.getProps();return bR(n,e,r!==void 0?r:n.custom,t)}const yR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vR=["initial",...yR],r5=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],W1=new Set(r5),gh=t=>t*1e3,bh=t=>t/1e3,MDe={type:"spring",stiffness:500,damping:25,restSpeed:10},ODe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FDe={type:"keyframes",duration:.8},BDe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RDe=(t,{keyframes:e})=>e.length>2?FDe:W1.has(t)?t.startsWith("scale")?ODe(e[1]):MDe:BDe;function xR(t,e){return t?t[e]||t.default||t:void 0}const DDe={skipAnimations:!1,useManualTiming:!1},UDe=t=>t!==null;function Lk(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(UDe),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const Oa=t=>t;let R$=Oa;function zDe(t){let e=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(l){i.has(l)&&(c.schedule(l),t()),l(a)}const c={schedule:(l,u=!1,f=!1)=>{const m=f&&n?e:r;return u&&i.add(l),m.has(l)||m.add(l),l},cancel:l=>{r.delete(l),i.delete(l)},process:l=>{if(a=l,n){s=!0;return}n=!0,[e,r]=[r,e],r.clear(),e.forEach(o),n=!1,s&&(s=!1,c.process(l))}};return c}const e9=["read","resolveKeyframes","update","preRender","render","postRender"],LDe=40;function Lle(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=e9.reduce((E,P)=>(E[P]=zDe(i),E),{}),{read:o,resolveKeyframes:c,update:l,preRender:u,render:f,postRender:h}=a,m=()=>{const E=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,LDe),1),s.timestamp=E,s.isProcessing=!0,o.process(s),c.process(s),l.process(s),u.process(s),f.process(s),h.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(m))},v=()=>{r=!0,n=!0,s.isProcessing||t(m)};return{schedule:e9.reduce((E,P)=>{const _=a[P];return E[P]=(M,B=!1,D=!1)=>(r||v(),_.schedule(M,B,D)),E},{}),cancel:E=>{for(let P=0;P<e9.length;P++)a[e9[P]].cancel(E)},state:s,steps:a}}const{schedule:Sn,cancel:Xp,state:Bi,steps:o_}=Lle(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oa,!0),Vle=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,VDe=1e-7,HDe=12;function WDe(t,e,r,n,s){let i,a,o=0;do a=e+(r-e)/2,i=Vle(a,n,s)-t,i>0?r=a:e=a;while(Math.abs(i)>VDe&&++o<HDe);return a}function n5(t,e,r,n){if(t===e&&r===n)return Oa;const s=i=>WDe(i,0,1,t,r);return i=>i===0||i===1?i:Vle(s(i),e,n)}const Hle=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wle=t=>e=>1-t(1-e),qle=n5(.33,1.53,.69,.99),wR=Wle(qle),Kle=Hle(wR),Xle=t=>(t*=2)<1?.5*wR(t):.5*(2-Math.pow(2,-10*(t-1))),AR=t=>1-Math.sin(Math.acos(t)),Zle=Wle(AR),Jle=Hle(AR),Qle=t=>/^0[^.\s]+$/u.test(t);function qDe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Qle(t):!0}const Yle=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Gle=t=>e=>typeof e=="string"&&e.startsWith(t),eue=Gle("--"),KDe=Gle("var(--"),SR=t=>KDe(t)?XDe.test(t.split("/*")[0].trim()):!1,XDe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ZDe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JDe(t){const e=ZDe.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function tue(t,e,r=1){const[n,s]=JDe(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return Yle(a)?parseFloat(a):a}return SR(s)?tue(s,e,r+1):s}const Oh=(t,e,r)=>r>e?e:r<t?t:r,y2={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},U6={...y2,transform:t=>Oh(0,1,t)},t9={...y2,default:1},s5=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),N0=s5("deg"),Vd=s5("%"),sr=s5("px"),QDe=s5("vh"),YDe=s5("vw"),bq={...Vd,parse:t=>Vd.parse(t)/100,transform:t=>Vd.transform(t*100)},GDe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yq=t=>t===y2||t===sr,vq=(t,e)=>parseFloat(t.split(", ")[e]),xq=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return vq(s[1],e);{const i=n.match(/^matrix\((.+)\)$/u);return i?vq(i[1],t):0}},eUe=new Set(["x","y","z"]),tUe=r5.filter(t=>!eUe.has(t));function rUe(t){const e=[];return tUe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Tx={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xq(4,13),y:xq(5,14)};Tx.translateX=Tx.x;Tx.translateY=Tx.y;const rue=t=>e=>e.test(t),nUe={test:t=>t==="auto",parse:t=>t},nue=[y2,sr,Vd,N0,YDe,QDe,nUe],wq=t=>nue.find(rue(t)),Jg=new Set;let D$=!1,U$=!1;function sue(){if(U$){const t=Array.from(Jg).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=rUe(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}U$=!1,D$=!1,Jg.forEach(t=>t.complete()),Jg.clear()}function iue(){Jg.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(U$=!0)})}function sUe(){iue(),sue()}class PR{constructor(e,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jg.add(this),D$||(D$=!0,Sn.read(iue),Sn.resolveKeyframes(sue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x3=t=>Math.round(t*1e5)/1e5,kR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iUe(t){return t==null}const aUe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IR=(t,e)=>r=>!!(typeof r=="string"&&aUe.test(r)&&r.startsWith(t)||e&&!iUe(r)&&Object.prototype.hasOwnProperty.call(r,e)),aue=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(kR);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},oUe=t=>Oh(0,255,t),c_={...y2,transform:t=>Math.round(oUe(t))},og={test:IR("rgb","red"),parse:aue("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+c_.transform(t)+", "+c_.transform(e)+", "+c_.transform(r)+", "+x3(U6.transform(n))+")"};function cUe(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const z$={test:IR("#"),parse:cUe,transform:og.transform},sy={test:IR("hsl","hue"),parse:aue("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Vd.transform(x3(e))+", "+Vd.transform(x3(r))+", "+x3(U6.transform(n))+")"},Pa={test:t=>og.test(t)||z$.test(t)||sy.test(t),parse:t=>og.test(t)?og.parse(t):sy.test(t)?sy.parse(t):z$.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?og.transform(t):sy.transform(t)},lUe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uUe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kR))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(lUe))===null||r===void 0?void 0:r.length)||0)>0}const oue="number",cue="color",dUe="var",fUe="var(",Aq="${}",hUe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function z6(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(hUe,c=>(Pa.test(c)?(n.color.push(i),s.push(cue),r.push(Pa.parse(c))):c.startsWith(fUe)?(n.var.push(i),s.push(dUe),r.push(c)):(n.number.push(i),s.push(oue),r.push(parseFloat(c))),++i,Aq)).split(Aq);return{values:r,split:o,indexes:n,types:s}}function lue(t){return z6(t).values}function uue(t){const{split:e,types:r}=z6(t),n=e.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],s[a]!==void 0){const o=r[a];o===oue?i+=x3(s[a]):o===cue?i+=Pa.transform(s[a]):i+=s[a]}return i}}const pUe=t=>typeof t=="number"?0:t;function mUe(t){const e=lue(t);return uue(t)(e.map(pUe))}const Zp={test:uUe,parse:lue,createTransformer:uue,getAnimatableNone:mUe},gUe=new Set(["brightness","contrast","saturate","opacity"]);function bUe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(kR)||[];if(!n)return t;const s=r.replace(n,"");let i=gUe.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const yUe=/\b([a-z-]*)\(.*?\)/gu,L$={...Zp,getAnimatableNone:t=>{const e=t.match(yUe);return e?e.map(bUe).join(" "):t}},vUe={borderWidth:sr,borderTopWidth:sr,borderRightWidth:sr,borderBottomWidth:sr,borderLeftWidth:sr,borderRadius:sr,radius:sr,borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomRightRadius:sr,borderBottomLeftRadius:sr,width:sr,maxWidth:sr,height:sr,maxHeight:sr,top:sr,right:sr,bottom:sr,left:sr,padding:sr,paddingTop:sr,paddingRight:sr,paddingBottom:sr,paddingLeft:sr,margin:sr,marginTop:sr,marginRight:sr,marginBottom:sr,marginLeft:sr,backgroundPositionX:sr,backgroundPositionY:sr},xUe={rotate:N0,rotateX:N0,rotateY:N0,rotateZ:N0,scale:t9,scaleX:t9,scaleY:t9,scaleZ:t9,skew:N0,skewX:N0,skewY:N0,distance:sr,translateX:sr,translateY:sr,translateZ:sr,x:sr,y:sr,z:sr,perspective:sr,transformPerspective:sr,opacity:U6,originX:bq,originY:bq,originZ:sr},Sq={...y2,transform:Math.round},NR={...vUe,...xUe,zIndex:Sq,size:sr,fillOpacity:U6,strokeOpacity:U6,numOctaves:Sq},wUe={...NR,color:Pa,backgroundColor:Pa,outlineColor:Pa,fill:Pa,stroke:Pa,borderColor:Pa,borderTopColor:Pa,borderRightColor:Pa,borderBottomColor:Pa,borderLeftColor:Pa,filter:L$,WebkitFilter:L$},ER=t=>wUe[t];function due(t,e){let r=ER(t);return r!==L$&&(r=Zp),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const AUe=new Set(["auto","none","0"]);function SUe(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!AUe.has(i)&&z6(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=due(r,s)}class fue extends PR{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),SR(l))){const u=tue(l,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!GDe.has(n)||e.length!==2)return;const[s,i]=e,a=wq(s),o=wq(i);if(a!==o)if(yq(a)&&yq(o))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)qDe(e[s])&&n.push(s);n.length&&SUe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Tx[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{r.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function _R(t){return typeof t=="function"}let g7;function PUe(){g7=void 0}const Hd={now:()=>(g7===void 0&&Hd.set(Bi.isProcessing||DDe.useManualTiming?Bi.timestamp:performance.now()),g7),set:t=>{g7=t,queueMicrotask(PUe)}},Pq=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zp.test(t)||t==="0")&&!t.startsWith("url("));function kUe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function IUe(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Pq(s,e),o=Pq(i,e);return!a||!o?!1:kUe(t)||(r==="spring"||_R(r))&&n}const NUe=40;class hue{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hd.now(),this.options={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>NUe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sUe(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Hd.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:l}=this.options;if(!l&&!IUe(e,n,s,i))if(a)this.options.duration=0;else{c==null||c(Lk(e,this.options,r)),o==null||o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jx=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},pue=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(jx(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function mue(t,e){return e?t*(1e3/e):0}const EUe=5;function gue(t,e,r){const n=Math.max(e-EUe,0);return mue(r-t(n),e-n)}const xs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},l_=.001;function _Ue({duration:t=xs.duration,bounce:e=xs.bounce,velocity:r=xs.velocity,mass:n=xs.mass}){let s,i,a=1-e;a=Oh(xs.minDamping,xs.maxDamping,a),t=Oh(xs.minDuration,xs.maxDuration,bh(t)),a<1?(s=l=>{const u=l*a,f=u*t,h=u-r,m=V$(l,a),v=Math.exp(-f);return l_-h/m*v},i=l=>{const f=l*a*t,h=f*r+r,m=Math.pow(a,2)*Math.pow(l,2)*t,v=Math.exp(-f),x=V$(Math.pow(l,2),a);return(-s(l)+l_>0?-1:1)*((h-m)*v)/x}):(s=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-l_+u*f},i=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const o=5/t,c=TUe(s,i,o);if(t=gh(t),isNaN(c))return{stiffness:xs.stiffness,damping:xs.damping,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:t}}}const CUe=12;function TUe(t,e,r){let n=r;for(let s=1;s<CUe;s++)n=n-t(n)/e(n);return n}function V$(t,e){return t*Math.sqrt(1-e*e)}const H$=2e4;function bue(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<H$;)e+=r,n=t.next(e);return e>=H$?1/0:e}const jUe=["duration","bounce"],$Ue=["stiffness","damping","mass"];function kq(t,e){return e.some(r=>t[r]!==void 0)}function MUe(t){let e={velocity:xs.velocity,stiffness:xs.stiffness,damping:xs.damping,mass:xs.mass,isResolvedFromDuration:!1,...t};if(!kq(t,$Ue)&&kq(t,jUe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Oh(.05,1,1-t.bounce)*Math.sqrt(s);e={...e,mass:xs.mass,stiffness:s,damping:i}}else{const r=_Ue(t);e={...e,...r,mass:xs.mass},e.isResolvedFromDuration=!0}return e}function yue(t=xs.visualDuration,e=xs.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=MUe({...r,velocity:-bh(r.velocity||0)}),v=h||0,x=l/(2*Math.sqrt(c*u)),k=a-i,E=bh(Math.sqrt(c/u)),P=Math.abs(k)<5;n||(n=P?xs.restSpeed.granular:xs.restSpeed.default),s||(s=P?xs.restDelta.granular:xs.restDelta.default);let _;if(x<1){const B=V$(E,x);_=D=>{const j=Math.exp(-x*E*D);return a-j*((v+x*E*k)/B*Math.sin(B*D)+k*Math.cos(B*D))}}else if(x===1)_=B=>a-Math.exp(-E*B)*(k+(v+E*k)*B);else{const B=E*Math.sqrt(x*x-1);_=D=>{const j=Math.exp(-x*E*D),T=Math.min(B*D,300);return a-j*((v+x*E*k)*Math.sinh(T)+B*k*Math.cosh(T))/B}}const M={calculatedDuration:m&&f||null,next:B=>{const D=_(B);if(m)o.done=B>=f;else{let j=0;x<1&&(j=B===0?gh(v):gue(_,B,D));const T=Math.abs(j)<=n,R=Math.abs(a-D)<=s;o.done=T&&R}return o.value=o.done?a:D,o},toString:()=>{const B=Math.min(bue(M),H$),D=pue(j=>M.next(B*j).value,B,30);return B+"ms "+D}};return M}function Iq({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:l=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},m=T=>o!==void 0&&T<o||c!==void 0&&T>c,v=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let x=r*e;const k=f+x,E=a===void 0?k:a(k);E!==k&&(x=E-f);const P=T=>-x*Math.exp(-T/n),_=T=>E+P(T),M=T=>{const R=P(T),H=_(T);h.done=Math.abs(R)<=l,h.value=h.done?E:H};let B,D;const j=T=>{m(h.value)&&(B=T,D=yue({keyframes:[h.value,v(h.value)],velocity:gue(_,T,h.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return j(0),{calculatedDuration:null,next:T=>{let R=!1;return!D&&B===void 0&&(R=!0,M(T),j(T)),B!==void 0&&T>=B?D.next(T-B):(!R&&M(T),h)}}}const OUe=n5(.42,0,1,1),FUe=n5(0,0,.58,1),vue=n5(.42,0,.58,1),BUe=t=>Array.isArray(t)&&typeof t[0]!="number",CR=t=>Array.isArray(t)&&typeof t[0]=="number",Nq={linear:Oa,easeIn:OUe,easeInOut:vue,easeOut:FUe,circIn:AR,circInOut:Jle,circOut:Zle,backIn:wR,backInOut:Kle,backOut:qle,anticipate:Xle},Eq=t=>{if(CR(t)){R$(t.length===4);const[e,r,n,s]=t;return n5(e,r,n,s)}else if(typeof t=="string")return R$(Nq[t]!==void 0),Nq[t];return t},RUe=(t,e)=>r=>e(t(r)),jp=(...t)=>t.reduce(RUe),us=(t,e,r)=>t+(e-t)*r;function u_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function DUe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,a=0;if(!e)s=i=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;s=u_(c,o,t+1/3),i=u_(c,o,t),a=u_(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function tS(t,e){return r=>r>0?e:t}const d_=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},UUe=[z$,og,sy],zUe=t=>UUe.find(e=>e.test(t));function _q(t){const e=zUe(t);if(!e)return!1;let r=e.parse(t);return e===sy&&(r=DUe(r)),r}const Cq=(t,e)=>{const r=_q(t),n=_q(e);if(!r||!n)return tS(t,e);const s={...r};return i=>(s.red=d_(r.red,n.red,i),s.green=d_(r.green,n.green,i),s.blue=d_(r.blue,n.blue,i),s.alpha=us(r.alpha,n.alpha,i),og.transform(s))},W$=new Set(["none","hidden"]);function LUe(t,e){return W$.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function VUe(t,e){return r=>us(t,e,r)}function TR(t){return typeof t=="number"?VUe:typeof t=="string"?SR(t)?tS:Pa.test(t)?Cq:qUe:Array.isArray(t)?xue:typeof t=="object"?Pa.test(t)?Cq:HUe:tS}function xue(t,e){const r=[...t],n=r.length,s=t.map((i,a)=>TR(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function HUe(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=TR(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function WUe(t,e){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],c=(r=t.values[o])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const qUe=(t,e)=>{const r=Zp.createTransformer(e),n=z6(t),s=z6(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?W$.has(t)&&!s.values.length||W$.has(e)&&!n.values.length?LUe(t,e):jp(xue(WUe(n,s),s.values),r):tS(t,e)};function wue(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?us(t,e,r):TR(t)(t,e)}function KUe(t,e,r){const n=[],s=r||wue,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Oa:e;o=jp(c,o)}n.push(o)}return n}function XUe(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(R$(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=KUe(e,n,s),o=a.length,c=l=>{let u=0;if(o>1)for(;u<t.length-2&&!(l<t[u+1]);u++);const f=jx(t[u],t[u+1],l);return a[u](f)};return r?l=>c(Oh(t[0],t[i-1],l)):c}function ZUe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=jx(0,e,n);t.push(us(r,1,s))}}function JUe(t){const e=[0];return ZUe(e,t.length-1),e}function QUe(t,e){return t.map(r=>r*e)}function YUe(t,e){return t.map(()=>e||vue).splice(0,t.length-1)}function rS({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=BUe(n)?n.map(Eq):Eq(n),i={done:!1,value:e[0]},a=QUe(r&&r.length===e.length?r:JUe(e),t),o=XUe(a,e,{ease:Array.isArray(s)?s:YUe(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const GUe=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Sn.update(e,!0),stop:()=>Xp(e),now:()=>Bi.isProcessing?Bi.timestamp:Hd.now()}},eze={decay:Iq,inertia:Iq,tween:rS,keyframes:rS,spring:yue},tze=t=>t/100;class jR extends hue{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||PR,o=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=_R(r)?r:eze[r]||rS;let c,l;o!==rS&&typeof e[0]!="number"&&(c=jp(tze,wue(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});i==="mirror"&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=bue(u));const{calculatedDuration:f}=u,h=f+s,m=h*(n+1)-s;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:x,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-h*(this.speed>=0?1:-1),P=this.speed>=0?E<0:E>u;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,M=i;if(m){const T=Math.min(this.currentTime,u)/f;let R=Math.floor(T),H=T%1;!H&&T>=1&&(H=1),H===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(H=1-H,x&&(H-=x/f)):v==="mirror"&&(M=a)),_=Oh(0,1,H)*f}const B=P?{done:!1,value:c[0]}:M.next(_);o&&(B.value=o(B.value));let{done:D}=B;!P&&l!==null&&(D=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return j&&s!==void 0&&(B.value=Lk(c,this.options,s)),k&&k(B.value),j&&this.finish(),B}get duration(){const{resolved:e}=this;return e?bh(e.calculatedDuration):0}get time(){return bh(this.currentTime)}set time(e){e=gh(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=bh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GUe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rze=new Set(["opacity","clipPath","filter","transform"]);function $R(t){let e;return()=>(e===void 0&&(e=t()),e)}const nze={linearEasing:void 0};function sze(t,e){const r=$R(t);return()=>{var n;return(n=nze[e])!==null&&n!==void 0?n:r()}}const nS=sze(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Aue(t){return!!(typeof t=="function"&&nS()||!t||typeof t=="string"&&(t in q$||nS())||CR(t)||Array.isArray(t)&&t.every(Aue))}const Kw=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,q$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kw([0,.65,.55,1]),circOut:Kw([.55,0,1,.45]),backIn:Kw([.31,.01,.66,-.59]),backOut:Kw([.33,1.53,.69,.99])};function Sue(t,e){if(t)return typeof t=="function"&&nS()?pue(t,e):CR(t)?Kw(t):Array.isArray(t)?t.map(r=>Sue(r,e)||q$.easeOut):q$[t]}function ize(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const l={[e]:r};c&&(l.offset=c);const u=Sue(o,s);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function Tq(t,e){t.timeline=e,t.onfinish=null}const aze=$R(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sS=10,oze=2e4;function cze(t){return _R(t.type)||t.type==="spring"||!Aue(t.ease)}function lze(t,e){const r=new jR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let i=0;for(;!n.done&&i<oze;)n=r.sample(i),s.push(n.value),i+=sS;return{times:void 0,keyframes:s,duration:i-sS,ease:"linear"}}const Pue={anticipate:Xle,backInOut:Kle,circInOut:Jle};function uze(t){return t in Pue}class jq extends hue{constructor(e){super(e);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new fue(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(e,r){var n;let{duration:s=300,times:i,ease:a,type:o,motionValue:c,name:l,startTime:u}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof a=="string"&&nS()&&uze(a)&&(a=Pue[a]),cze(this.options)){const{onComplete:h,onUpdate:m,motionValue:v,element:x,...k}=this.options,E=lze(e,k);e=E.keyframes,e.length===1&&(e[1]=e[0]),s=E.duration,i=E.times,a=E.ease,o="keyframes"}const f=ize(c.owner.current,l,e,{...this.options,duration:s,times:i,ease:a});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(Tq(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(Lk(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return bh(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return bh(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=gh(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Oa;const{animation:n}=r;Tq(n,e)}return Oa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:f,element:h,...m}=this.options,v=new jR({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),x=gh(this.time);l.setWithVelocity(v.sample(x-sS).value,v.sample(x).value,sS)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;return aze()&&n&&rze.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const dze=$R(()=>window.ScrollTimeline!==void 0);class fze{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(s=>dze()&&s.attachTimeline?s.attachTimeline(e):r(s));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function hze({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const MR=(t,e,r,n={},s,i)=>a=>{const o=xR(n,t)||{},c=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-gh(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-l,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};hze(o)||(u={...u,...RDe(t,u)}),u.duration&&(u.duration=gh(u.duration)),u.repeatDelay&&(u.repeatDelay=gh(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const h=Lk(u.keyframes,o);if(h!==void 0)return Sn.update(()=>{u.onUpdate(h),u.onComplete()}),new fze([])}return!i&&jq.supports(u)?new jq(u):new jR(u)},pze=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mze=t=>B$(t)?t[t.length-1]||0:t;function OR(t,e){t.indexOf(e)===-1&&t.push(e)}function FR(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class BR{constructor(){this.subscriptions=[]}add(e){return OR(this.subscriptions,e),()=>FR(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $q=30,gze=t=>!isNaN(parseFloat(t));class bze{constructor(e,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Hd.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Hd.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gze(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new BR);const n=this.events[e].add(r);return e==="change"?()=>{n(),Sn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hd.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$q)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$q);return mue(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function L6(t,e){return new bze(t,e)}function yze(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,L6(r))}function vze(t,e){const r=zk(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=mze(i[a]);yze(t,a,o)}}const RR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xze="framerAppearId",kue="data-"+RR(xze);function Iue(t){return t.props[kue]}const Ta=t=>!!(t&&t.getVelocity);function wze(t){return!!(Ta(t)&&t.add)}function K$(t,e){const r=t.getValue("willChange");if(wze(r))return r.add(e)}function Aze({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Nue(t,e,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const f in c){const h=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||u&&Aze(u,f))continue;const v={delay:r,...xR(a||{},f)};let x=!1;if(window.MotionHandoffAnimation){const E=Iue(t);if(E){const P=window.MotionHandoffAnimation(E,f,Sn);P!==null&&(v.startTime=P,x=!0)}}K$(t,f),h.start(MR(f,h,m,t.shouldReduceMotion&&W1.has(f)?{type:!1}:v,t,x));const k=h.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{Sn.update(()=>{o&&vze(t,o)})}),l}function X$(t,e,r={}){var n;const s=zk(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(Nue(t,s,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Sze(t,e,u+l,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[l,u]=c==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function Sze(t,e,r=0,n=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*n,c=s===1?(l=0)=>l*n:(l=0)=>o-l*n;return Array.from(t.variantChildren).sort(Pze).forEach((l,u)=>{l.notify("AnimationStart",e),a.push(X$(l,e,{...i,delay:r+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(a)}function Pze(t,e){return t.sortNodePosition(e)}function kze(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>X$(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=X$(t,e,r);else{const s=typeof e=="function"?zk(t,e,r.custom):e;n=Promise.all(Nue(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Ize=vR.length;function Eue(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Eue(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Ize;r++){const n=vR[r],s=t.props[n];(D6(s)||s===!1)&&(e[n]=s)}return e}const Nze=[...yR].reverse(),Eze=yR.length;function _ze(t){return e=>Promise.all(e.map(({animation:r,options:n})=>kze(t,r,n)))}function Cze(t){let e=_ze(t),r=Mq(),n=!0;const s=c=>(l,u)=>{var f;const h=zk(t,u,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...x}=h;l={...l,...x,...v}}return l};function i(c){e=c(t)}function a(c){const{props:l}=t,u=Eue(t.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let k=0;k<Eze;k++){const E=Nze[k],P=r[E],_=l[E]!==void 0?l[E]:u[E],M=D6(_),B=E===c?P.isActive:null;B===!1&&(v=k);let D=_===u[E]&&_!==l[E]&&M;if(D&&n&&t.manuallyAnimateOnMount&&(D=!1),P.protectedKeys={...m},!P.isActive&&B===null||!_&&!P.prevProp||Uk(_)||typeof _=="boolean")continue;const j=Tze(P.prevProp,_);let T=j||E===c&&P.isActive&&!D&&M||k>v&&M,R=!1;const H=Array.isArray(_)?_:[_];let O=H.reduce(s(E),{});B===!1&&(O={});const{prevResolvedValues:b={}}=P,w={...b,...O},p=N=>{T=!0,h.has(N)&&(R=!0,h.delete(N)),P.needsAnimating[N]=!0;const I=t.getValue(N);I&&(I.liveStyle=!1)};for(const N in w){const I=O[N],A=b[N];if(m.hasOwnProperty(N))continue;let y=!1;B$(I)&&B$(A)?y=!zle(I,A):y=I!==A,y?I!=null?p(N):h.add(N):I!==void 0&&h.has(N)?p(N):P.protectedKeys[N]=!0}P.prevProp=_,P.prevResolvedValues=O,P.isActive&&(m={...m,...O}),n&&t.blockInitialAnimation&&(T=!1),T&&(!(D&&j)||R)&&f.push(...H.map(N=>({animation:N,options:{type:E}})))}if(h.size){const k={};h.forEach(E=>{const P=t.getBaseTarget(E),_=t.getValue(E);_&&(_.liveStyle=!0),k[E]=P??null}),f.push({animation:k})}let x=!!f.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function o(c,l){var u;if(r[c].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,l)}),r[c].isActive=l;const f=a(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Mq(),n=!0}}}function Tze(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zle(e,t):!1}function Im(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mq(){return{animate:Im(!0),whileInView:Im(),whileHover:Im(),whileTap:Im(),whileDrag:Im(),whileFocus:Im(),exit:Im()}}class lm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jze extends lm{constructor(e){super(e),e.animationState||(e.animationState=Cze(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $ze=0;class Mze extends lm{constructor(){super(...arguments),this.id=$ze++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Oze={animation:{Feature:jze},exit:{Feature:Mze}};function Fze(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Zl={x:!1,y:!1};function _ue(){return Zl.x||Zl.y}function Oq(t){return e=>{e.pointerType==="touch"||_ue()||t(e)}}function Bze(t,e,r={}){const n=new AbortController,s={passive:!0,...r,signal:n.signal},i=Oq(a=>{const{target:o}=a,c=e(a);if(!c||!o)return;const l=Oq(u=>{c(u),o.removeEventListener("pointerleave",l)});o.addEventListener("pointerleave",l,s)});return Fze(t).forEach(a=>{a.addEventListener("pointerenter",i,s)}),()=>n.abort()}function Rze(t){return t==="x"||t==="y"?Zl[t]?null:(Zl[t]=!0,()=>{Zl[t]=!1}):Zl.x||Zl.y?null:(Zl.x=Zl.y=!0,()=>{Zl.x=Zl.y=!1})}const Cue=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function i5(t){return{point:{x:t.pageX,y:t.pageY}}}const Dze=t=>e=>Cue(e)&&t(e,i5(e));function ch(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function $p(t,e,r,n){return ch(t,e,Dze(r),n)}const Fq=(t,e)=>Math.abs(t-e);function Uze(t,e){const r=Fq(t.x,e.x),n=Fq(t.y,e.y);return Math.sqrt(r**2+n**2)}class Tue{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=h_(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Uze(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=f,{timestamp:x}=Bi;this.history.push({...v,timestamp:x});const{onStart:k,onMove:E}=this.handlers;h||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=f_(h,this.transformPagePoint),Sn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=h_(f.type==="pointercancel"?this.lastMoveEventInfo:f_(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,k),v&&v(f,k)},!Cue(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=i5(e),o=f_(a,this.transformPagePoint),{point:c}=o,{timestamp:l}=Bi;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=r;u&&u(e,h_(o,this.history)),this.removeListeners=jp($p(this.contextWindow,"pointermove",this.handlePointerMove),$p(this.contextWindow,"pointerup",this.handlePointerUp),$p(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xp(this.updatePoint)}}function f_(t,e){return e?{point:e(t.point)}:t}function Bq(t,e){return{x:t.x-e.x,y:t.y-e.y}}function h_({point:t},e){return{point:t,delta:Bq(t,jue(e)),offset:Bq(t,zze(e)),velocity:Lze(e,.1)}}function zze(t){return t[0]}function jue(t){return t[t.length-1]}function Lze(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=jue(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>gh(e)));)r--;if(!n)return{x:0,y:0};const i=bh(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function iy(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const $ue=1e-4,Vze=1-$ue,Hze=1+$ue,Mue=.01,Wze=0-Mue,qze=0+Mue;function vc(t){return t.max-t.min}function Kze(t,e,r){return Math.abs(t-e)<=r}function Rq(t,e,r,n=.5){t.origin=n,t.originPoint=us(e.min,e.max,t.origin),t.scale=vc(r)/vc(e),t.translate=us(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Vze&&t.scale<=Hze||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wze&&t.translate<=qze||isNaN(t.translate))&&(t.translate=0)}function w3(t,e,r,n){Rq(t.x,e.x,r.x,n?n.originX:void 0),Rq(t.y,e.y,r.y,n?n.originY:void 0)}function Dq(t,e,r){t.min=r.min+e.min,t.max=t.min+vc(e)}function Xze(t,e,r){Dq(t.x,e.x,r.x),Dq(t.y,e.y,r.y)}function Uq(t,e,r){t.min=e.min-r.min,t.max=t.min+vc(e)}function A3(t,e,r){Uq(t.x,e.x,r.x),Uq(t.y,e.y,r.y)}function Zze(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?us(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?us(r,t,n.max):Math.min(t,r)),t}function zq(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Jze(t,{top:e,left:r,bottom:n,right:s}){return{x:zq(t.x,r,s),y:zq(t.y,e,n)}}function Lq(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Qze(t,e){return{x:Lq(t.x,e.x),y:Lq(t.y,e.y)}}function Yze(t,e){let r=.5;const n=vc(t),s=vc(e);return s>n?r=jx(e.min,e.max-n,t.min):n>s&&(r=jx(t.min,t.max-s,e.min)),Oh(0,1,r)}function Gze(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Z$=.35;function eLe(t=Z$){return t===!1?t=0:t===!0&&(t=Z$),{x:Vq(t,"left","right"),y:Vq(t,"top","bottom")}}function Vq(t,e,r){return{min:Hq(t,e),max:Hq(t,r)}}function Hq(t,e){return typeof t=="number"?t:t[e]||0}const Wq=()=>({translate:0,scale:1,origin:0,originPoint:0}),ay=()=>({x:Wq(),y:Wq()}),qq=()=>({min:0,max:0}),Is=()=>({x:qq(),y:qq()});function Xc(t){return[t("x"),t("y")]}function Oue({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function tLe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rLe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function p_(t){return t===void 0||t===1}function J$({scale:t,scaleX:e,scaleY:r}){return!p_(t)||!p_(e)||!p_(r)}function Um(t){return J$(t)||Fue(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fue(t){return Kq(t.x)||Kq(t.y)}function Kq(t){return t&&t!=="0%"}function iS(t,e,r){const n=t-r,s=e*n;return r+s}function Xq(t,e,r,n,s){return s!==void 0&&(t=iS(t,s,n)),iS(t,r,n)+e}function Q$(t,e=0,r=1,n,s){t.min=Xq(t.min,e,r,n,s),t.max=Xq(t.max,e,r,n,s)}function Bue(t,{x:e,y:r}){Q$(t.x,e.translate,e.scale,e.originPoint),Q$(t.y,r.translate,r.scale,r.originPoint)}const Zq=.999999999999,Jq=1.0000000000001;function nLe(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cy(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Bue(t,a)),n&&Um(i.latestValues)&&cy(t,i.latestValues))}e.x<Jq&&e.x>Zq&&(e.x=1),e.y<Jq&&e.y>Zq&&(e.y=1)}function oy(t,e){t.min=t.min+e,t.max=t.max+e}function Qq(t,e,r,n,s=.5){const i=us(t.min,t.max,s);Q$(t,e,r,i,n)}function cy(t,e){Qq(t.x,e.x,e.scaleX,e.scale,e.originX),Qq(t.y,e.y,e.scaleY,e.scale,e.originY)}function Rue(t,e){return Oue(rLe(t.getBoundingClientRect(),e))}function sLe(t,e,r){const n=Rue(t,r),{scroll:s}=e;return s&&(oy(n.x,s.offset.x),oy(n.y,s.offset.y)),n}const Due=({current:t})=>t?t.ownerDocument.defaultView:null,iLe=new WeakMap;class aLe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(i5(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rze(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xc(k=>{let E=this.getAxisMotionValue(k).get()||0;if(Vd.test(E)){const{projection:P}=this.visualElement;if(P&&P.layout){const _=P.layout.layoutBox[k];_&&(E=vc(_)*(parseFloat(E)/100))}}this.originPoint[k]=E}),v&&Sn.postRender(()=>v(u,f)),K$(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:k}=f;if(m&&this.currentDirection===null){this.currentDirection=oLe(k),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),x&&x(u,f)},o=(u,f)=>this.stop(u,f),c=()=>Xc(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Tue(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Due(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Sn.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!r9(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Zze(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&iy(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=Jze(s.layoutBox,r):this.constraints=!1,this.elastic=eLe(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xc(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Gze(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!iy(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=sLe(n,s.root,this.visualElement.getTransformPagePoint());let a=Qze(s.layout.layoutBox,i);if(r){const o=r(tLe(a));this.hasMutatedConstraints=!!o,o&&(a=Oue(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},l=Xc(u=>{if(!r9(u,r,this.currentDirection))return;let f=c&&c[u]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(l).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return K$(this.visualElement,e),n.start(MR(e,n,0,r,this.visualElement,!1))}stopAnimation(){Xc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xc(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xc(r=>{const{drag:n}=this.getProps();if(!r9(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(e[r]-us(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!iy(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xc(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=Yze({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xc(a=>{if(!r9(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:l}=this.constraints[a];o.set(us(c,l,s[a]))})}addListeners(){if(!this.visualElement.current)return;iLe.set(this.visualElement,this);const e=this.visualElement.current,r=$p(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();iy(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Sn.read(n);const a=ch(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Xc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Z$,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function r9(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function oLe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class cLe extends lm{constructor(e){super(e),this.removeGroupControls=Oa,this.removeListeners=Oa,this.controls=new aLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yq=t=>(e,r)=>{t&&Sn.postRender(()=>t(e,r))};class lLe extends lm{constructor(){super(...arguments),this.removePointerDownListener=Oa}onPointerDown(e){this.session=new Tue(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Due(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Yq(e),onStart:Yq(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Sn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=$p(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const DR=F.createContext(null);function uLe(){const t=F.useContext(DR);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,s=F.useId();F.useEffect(()=>n(s),[]);const i=F.useCallback(()=>r&&r(s),[s,r]);return!e&&r?[!1,i]:[!0]}const Uue=F.createContext({}),zue=F.createContext({}),b7={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gq(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cw={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(sr.test(t))t=parseFloat(t);else return t;const r=Gq(t,e.target.x),n=Gq(t,e.target.y);return`${r}% ${n}%`}},dLe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Zp.parse(t);if(s.length>5)return n;const i=Zp.createTransformer(t),a=typeof s[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const l=us(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=l),typeof s[3+a]=="number"&&(s[3+a]/=l),i(s)}},aS={};function fLe(t){Object.assign(aS,t)}const{schedule:UR,cancel:i6t}=Lle(queueMicrotask,!1);class hLe extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;fLe(pLe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),b7.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Sn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lue(t){const[e,r]=uLe(),n=F.useContext(Uue);return d.jsx(hLe,{...t,layoutGroup:n,switchLayoutGroup:F.useContext(zue),isPresent:e,safeToRemove:r})}const pLe={borderRadius:{...cw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cw,borderTopRightRadius:cw,borderBottomLeftRadius:cw,borderBottomRightRadius:cw,boxShadow:dLe},Vue=["TopLeft","TopRight","BottomLeft","BottomRight"],mLe=Vue.length,eK=t=>typeof t=="string"?parseFloat(t):t,tK=t=>typeof t=="number"||sr.test(t);function gLe(t,e,r,n,s,i){s?(t.opacity=us(0,r.opacity!==void 0?r.opacity:1,bLe(n)),t.opacityExit=us(e.opacity!==void 0?e.opacity:1,0,yLe(n))):i&&(t.opacity=us(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<mLe;a++){const o=`border${Vue[a]}Radius`;let c=rK(e,o),l=rK(r,o);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||tK(c)===tK(l)?(t[o]=Math.max(us(eK(c),eK(l),n),0),(Vd.test(l)||Vd.test(c))&&(t[o]+="%")):t[o]=l}(e.rotate||r.rotate)&&(t.rotate=us(e.rotate||0,r.rotate||0,n))}function rK(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bLe=Hue(0,.5,Zle),yLe=Hue(.5,.95,Oa);function Hue(t,e,r){return n=>n<t?0:n>e?1:r(jx(t,e,n))}function nK(t,e){t.min=e.min,t.max=e.max}function Dc(t,e){nK(t.x,e.x),nK(t.y,e.y)}function sK(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iK(t,e,r,n,s){return t-=e,t=iS(t,1/r,n),s!==void 0&&(t=iS(t,1/s,n)),t}function vLe(t,e=0,r=1,n=.5,s,i=t,a=t){if(Vd.test(e)&&(e=parseFloat(e),e=us(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=us(i.min,i.max,n);t===i&&(o-=e),t.min=iK(t.min,e,r,o,s),t.max=iK(t.max,e,r,o,s)}function aK(t,e,[r,n,s],i,a){vLe(t,e[r],e[n],e[s],e.scale,i,a)}const xLe=["x","scaleX","originX"],wLe=["y","scaleY","originY"];function oK(t,e,r,n){aK(t.x,e,xLe,r?r.x:void 0,n?n.x:void 0),aK(t.y,e,wLe,r?r.y:void 0,n?n.y:void 0)}function cK(t){return t.translate===0&&t.scale===1}function Wue(t){return cK(t.x)&&cK(t.y)}function lK(t,e){return t.min===e.min&&t.max===e.max}function ALe(t,e){return lK(t.x,e.x)&&lK(t.y,e.y)}function uK(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function que(t,e){return uK(t.x,e.x)&&uK(t.y,e.y)}function dK(t){return vc(t.x)/vc(t.y)}function fK(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SLe{constructor(){this.members=[]}add(e){OR(this.members,e),e.scheduleRender()}remove(e){if(FR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PLe(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:l,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:v}=r;l&&(n=`perspective(${l}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const kLe=(t,e)=>t.depth-e.depth;class ILe{constructor(){this.children=[],this.isDirty=!1}add(e){OR(this.children,e),this.isDirty=!0}remove(e){FR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kLe),this.isDirty=!1,this.children.forEach(e)}}function y7(t){const e=Ta(t)?t.get():t;return pze(e)?e.toValue():e}function NLe(t,e){const r=Hd.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Xp(n),t(i-e))};return Sn.read(n,!0),()=>Xp(n)}function ELe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function _Le(t,e,r){const n=Ta(t)?t:L6(t);return n.start(MR("",n,e,r)),n.animation}const zm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xw=typeof window<"u"&&window.MotionDebug!==void 0,m_=["","X","Y","Z"],CLe={visibility:"hidden"},hK=1e3;let TLe=0;function g_(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Kue(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Iue(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Sn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Kue(n)}function Xue({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=TLe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xw&&(zm.totalNodes=zm.resolvedTargetDeltas=zm.recalculatedProjection=0),this.nodes.forEach(MLe),this.nodes.forEach(DLe),this.nodes.forEach(ULe),this.nodes.forEach(OLe),Xw&&window.MotionDebug.record(zm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ILe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new BR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ELe(a),this.instance=a;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=NLe(h,250),b7.hasAnimatedSinceResize&&(b7.hasAnimatedSinceResize=!1,this.nodes.forEach(mK))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||WLe,{onLayoutAnimationStart:k,onLayoutAnimationComplete:E}=u.getProps(),P=!this.targetLayout||!que(this.targetLayout,v)||m,_=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const M={...xR(x,"layout"),onPlay:k,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else h||mK(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zLe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Kue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pK);return}this.isUpdating||this.nodes.forEach(BLe),this.isUpdating=!1,this.nodes.forEach(RLe),this.nodes.forEach(jLe),this.nodes.forEach($Le),this.clearAllSnapshots();const o=Hd.now();Bi.delta=Oh(0,1e3/60,o-Bi.timestamp),Bi.timestamp=o,Bi.isProcessing=!0,o_.update.process(Bi),o_.preRender.process(Bi),o_.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FLe),this.sharedNodes.forEach(LLe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Wue(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;a&&(o||Um(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),qLe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Is();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(KLe))){const{scroll:u}=this.root;u&&(oy(c.x,u.offset.x),oy(c.y,u.offset.y))}return c}removeElementScroll(a){var o;const c=Is();if(Dc(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Dc(c,a),oy(c.x,f.offset.x),oy(c.y,f.offset.y))}return c}applyTransform(a,o=!1){const c=Is();Dc(c,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cy(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Um(u.latestValues)&&cy(c,u.latestValues)}return Um(this.latestValues)&&cy(c,this.latestValues),c}removeTransform(a){const o=Is();Dc(o,a);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Um(l.latestValues))continue;J$(l.latestValues)&&l.updateSnapshot();const u=Is(),f=l.measurePageBox();Dc(u,f),oK(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Um(this.latestValues)&&oK(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),A3(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Dc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xze(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dc(this.target,this.layout.layoutBox),Bue(this.target,this.targetDelta)):Dc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),A3(this.relativeTargetOrigin,this.target,m.target),Dc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xw&&zm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||J$(this.parent.latestValues)||Fue(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Dc(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;nLe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Is());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sK(this.prevProjectionDelta.x,this.projectionDelta.x),sK(this.prevProjectionDelta.y,this.projectionDelta.y)),w3(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!fK(this.projectionDelta.x,this.prevProjectionDelta.x)||!fK(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Xw&&zm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ay(),this.projectionDelta=ay(),this.projectionDeltaWithTransform=ay()}setAnimationOrigin(a,o=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},f=ay();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Is(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,k=this.getStack(),E=!k||k.members.length<=1,P=!!(x&&!E&&this.options.crossfade===!0&&!this.path.some(HLe));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const B=M/1e3;gK(f.x,a.x,B),gK(f.y,a.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(A3(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VLe(this.relativeTarget,this.relativeTargetOrigin,h,B),_&&ALe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Is()),Dc(_,this.relativeTarget)),x&&(this.animationValues=u,gLe(u,l,this.latestValues,B,P,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sn.update(()=>{b7.hasAnimatedSinceResize=!0,this.currentAnimation=_Le(0,hK,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:l,latestValues:u}=a;if(!(!o||!c||!l)){if(this!==a&&this.layout&&l&&Zue(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Is();const f=vc(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=vc(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Dc(o,c),cy(o,u),w3(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new SLe),this.sharedNodes.get(a).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const l={};c.z&&g_("z",a,l,this.animationValues);for(let u=0;u<m_.length;u++)g_(`rotate${m_[u]}`,a,l,this.animationValues),g_(`skew${m_[u]}`,a,l,this.animationValues);a.render();for(const u in l)a.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CLe;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=y7(a==null?void 0:a.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=y7(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Um(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=PLe(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:m,y:v}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in aS){if(h[x]===void 0)continue;const{correct:k,applyTo:E}=aS[x],P=l.transform==="none"?h[x]:k(h[x],f);if(E){const _=E.length;for(let M=0;M<_;M++)l[E[M]]=P}else l[x]=P}return this.options.layoutId&&(l.pointerEvents=f===this?y7(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(pK),this.root.sharedNodes.clear()}}}function jLe(t){t.updateLayout()}function $Le(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=r.source!==t.layout.source;i==="size"?Xc(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vc(h);h.min=n[f].min,h.max=h.min+m}):Zue(i,r.layoutBox,n)&&Xc(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vc(n[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=ay();w3(o,n,r.layoutBox);const c=ay();a?w3(c,t.applyTransform(s,!0),r.measuredBox):w3(c,n,r.layoutBox);const l=!Wue(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=Is();A3(v,r.layoutBox,h.layoutBox);const x=Is();A3(x,n,m.layoutBox),que(v,x)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function MLe(t){Xw&&zm.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OLe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FLe(t){t.clearSnapshot()}function pK(t){t.clearMeasurements()}function BLe(t){t.isLayoutDirty=!1}function RLe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mK(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DLe(t){t.resolveTargetDelta()}function ULe(t){t.calcProjection()}function zLe(t){t.resetSkewAndRotation()}function LLe(t){t.removeLeadSnapshot()}function gK(t,e,r){t.translate=us(e.translate,0,r),t.scale=us(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function bK(t,e,r,n){t.min=us(e.min,r.min,n),t.max=us(e.max,r.max,n)}function VLe(t,e,r,n){bK(t.x,e.x,r.x,n),bK(t.y,e.y,r.y,n)}function HLe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WLe={duration:.45,ease:[.4,0,.1,1]},yK=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vK=yK("applewebkit/")&&!yK("chrome/")?Math.round:Oa;function xK(t){t.min=vK(t.min),t.max=vK(t.max)}function qLe(t){xK(t.x),xK(t.y)}function Zue(t,e,r){return t==="position"||t==="preserve-aspect"&&!Kze(dK(e),dK(r),.2)}function KLe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const XLe=Xue({attachResizeListener:(t,e)=>ch(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b_={current:void 0},Jue=Xue({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!b_.current){const t=new XLe({});t.mount(window),t.setOptions({layoutScroll:!0}),b_.current=t}return b_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZLe={pan:{Feature:lLe},drag:{Feature:cLe,ProjectionNode:Jue,MeasureLayout:Lue}};function wK(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r);const s=n[r?"onHoverStart":"onHoverEnd"];s&&Sn.postRender(()=>s(e,i5(e)))}class JLe extends lm{mount(){const{current:e,props:r}=this.node;e&&(this.unmount=Bze(e,n=>(wK(this.node,n,!0),s=>wK(this.node,s,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class QLe extends lm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jp(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Que=(t,e)=>e?t===e?!0:Que(t,e.parentElement):!1;function y_(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,i5(r))}class YLe extends lm{constructor(){super(...arguments),this.removeStartListeners=Oa,this.removeEndListeners=Oa,this.removeAccessibleListeners=Oa,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=$p(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:f}=this.node.getProps(),h=!f&&!Que(this.node.current,o.target)?u:l;h&&Sn.update(()=>h(o,c))},{passive:!(n.onTap||n.onPointerUp)}),a=$p(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=jp(i,a),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||y_("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&Sn.postRender(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=ch(this.node.current,"keyup",a),y_("down",(o,c)=>{this.startPress(o,c)})},r=ch(this.node.current,"keydown",e),n=()=>{this.isPressing&&y_("cancel",(i,a)=>this.cancelPress(i,a))},s=ch(this.node.current,"blur",n);this.removeAccessibleListeners=jp(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Sn.postRender(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_ue()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Sn.postRender(()=>n(e,r))}mount(){const e=this.node.getProps(),r=$p(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ch(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jp(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Y$=new WeakMap,v_=new WeakMap,GLe=t=>{const e=Y$.get(t.target);e&&e(t)},eVe=t=>{t.forEach(GLe)};function tVe({root:t,...e}){const r=t||document;v_.has(r)||v_.set(r,{});const n=v_.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(eVe,{root:t,...e})),n[s]}function rVe(t,e,r){const n=tVe(e);return Y$.set(t,r),n.observe(t),()=>{Y$.delete(t),n.unobserve(t)}}const nVe={some:0,all:1};class sVe extends lm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:nVe[s]},o=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=l?u:f;h&&h(c)};return rVe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(iVe(e,r))&&this.startObserver()}unmount(){}}function iVe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const aVe={inView:{Feature:sVe},tap:{Feature:YLe},focus:{Feature:QLe},hover:{Feature:JLe}},oVe={layout:{ProjectionNode:Jue,MeasureLayout:Lue}},Yue=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Vk=F.createContext({}),zR=typeof window<"u",cVe=zR?F.useLayoutEffect:F.useEffect,Gue=F.createContext({strict:!1});function lVe(t,e,r,n,s){var i,a;const{visualElement:o}=F.useContext(Vk),c=F.useContext(Gue),l=F.useContext(DR),u=F.useContext(Yue).reducedMotion,f=F.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,m=F.useContext(zue);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&uVe(f.current,r,s,m);const v=F.useRef(!1);F.useInsertionEffect(()=>{h&&v.current&&h.update(r,l)});const x=r[kue],k=F.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return cVe(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),UR.render(h.render),k.current&&h.animationState&&h.animationState.animateChanges())}),F.useEffect(()=>{h&&(!k.current&&h.animationState&&h.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,x)}),k.current=!1))}),h}function uVe(t,e,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:l}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:ede(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&iy(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:l})}function ede(t){if(t)return t.options.allowProjection!==!1?t.projection:ede(t.parent)}function dVe(t,e,r){return F.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):iy(r)&&(r.current=n))},[e])}function Hk(t){return Uk(t.animate)||vR.some(e=>D6(t[e]))}function tde(t){return!!(Hk(t)||t.variants)}function fVe(t,e){if(Hk(t)){const{initial:r,animate:n}=t;return{initial:r===!1||D6(r)?r:void 0,animate:D6(n)?n:void 0}}return t.inherit!==!1?e:{}}function hVe(t){const{initial:e,animate:r}=fVe(t,F.useContext(Vk));return F.useMemo(()=>({initial:e,animate:r}),[AK(e),AK(r)])}function AK(t){return Array.isArray(t)?t.join(" "):t}const SK={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$x={};for(const t in SK)$x[t]={isEnabled:e=>SK[t].some(r=>!!e[r])};function pVe(t){for(const e in t)$x[e]={...$x[e],...t[e]}}const mVe=Symbol.for("motionComponentSymbol");function gVe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&pVe(t);function i(o,c){let l;const u={...F.useContext(Yue),...o,layoutId:bVe(o)},{isStatic:f}=u,h=hVe(o),m=n(o,f);if(!f&&zR){yVe();const v=vVe(u);l=v.MeasureLayout,h.visualElement=lVe(s,m,u,e,v.ProjectionNode)}return d.jsxs(Vk.Provider,{value:h,children:[l&&h.visualElement?d.jsx(l,{visualElement:h.visualElement,...u}):null,r(s,o,dVe(m,h.visualElement,c),m,f,h.visualElement)]})}const a=F.forwardRef(i);return a[mVe]=s,a}function bVe({layoutId:t}){const e=F.useContext(Uue).id;return e&&t!==void 0?e+"-"+t:t}function yVe(t,e){F.useContext(Gue).strict}function vVe(t){const{drag:e,layout:r}=$x;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const xVe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LR(t){return typeof t!="string"||t.includes("-")?!1:!!(xVe.indexOf(t)>-1||/[A-Z]/u.test(t))}function rde(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const nde=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sde(t,e,r,n){rde(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(nde.has(s)?s:RR(s),e.attrs[s])}function ide(t,{layout:e,layoutId:r}){return W1.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!aS[t]||t==="opacity")}function VR(t,e,r){var n;const{style:s}=t,i={};for(const a in s)(Ta(s[a])||e.style&&Ta(e.style[a])||ide(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function ade(t,e,r){const n=VR(t,e,r);for(const s in t)if(Ta(t[s])||Ta(e[s])){const i=r5.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function wVe(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}function AVe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,s,i){const a={latestValues:SVe(n,s,i,t),renderState:e()};return r&&(a.mount=o=>r(n,o,a)),a}const ode=t=>(e,r)=>{const n=F.useContext(Vk),s=F.useContext(DR),i=()=>AVe(t,e,n,s);return r?i():wVe(i)};function SVe(t,e,r,n){const s={},i=n(t,{});for(const h in i)s[h]=y7(i[h]);let{initial:a,animate:o}=t;const c=Hk(t),l=tde(t);e&&l&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!Uk(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=bR(t,h[m]);if(v){const{transitionEnd:x,transition:k,...E}=v;for(const P in E){let _=E[P];if(Array.isArray(_)){const M=u?_.length-1:0;_=_[M]}_!==null&&(s[P]=_)}for(const P in x)s[P]=x[P]}}}return s}const HR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cde=()=>({...HR(),attrs:{}}),lde=(t,e)=>e&&typeof t=="number"?e.transform(t):t,PVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kVe=r5.length;function IVe(t,e,r){let n="",s=!0;for(let i=0;i<kVe;i++){const a=r5[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const l=lde(o,NR[a]);if(!c){s=!1;const u=PVe[a]||a;n+=`${u}(${l}) `}r&&(e[a]=l)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function WR(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const l=e[c];if(W1.has(c)){a=!0;continue}else if(eue(c)){s[c]=l;continue}else{const u=lde(l,NR[c]);c.startsWith("origin")?(o=!0,i[c]=u):n[c]=u}}if(e.transform||(a||r?n.transform=IVe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${l} ${u}`}}function PK(t,e,r){return typeof t=="string"?t:sr.transform(e+r*t)}function NVe(t,e,r){const n=PK(e,t.x,t.width),s=PK(r,t.y,t.height);return`${n} ${s}`}const EVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},_Ve={offset:"strokeDashoffset",array:"strokeDasharray"};function CVe(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?EVe:_Ve;t[i.offset]=sr.transform(-n);const a=sr.transform(e),o=sr.transform(r);t[i.array]=`${a} ${o}`}function qR(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...l},u,f){if(WR(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:v}=t;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=NVe(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&CVe(h,a,o,c,!1)}const KR=t=>typeof t=="string"&&t.toLowerCase()==="svg",TVe={useVisualState:ode({scrapeMotionValuesFromProps:ade,createRenderState:cde,onMount:(t,e,{renderState:r,latestValues:n})=>{Sn.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Sn.render(()=>{qR(r,n,KR(e.tagName),t.transformTemplate),sde(e,r)})}})},jVe={useVisualState:ode({scrapeMotionValuesFromProps:VR,createRenderState:HR})};function ude(t,e,r){for(const n in e)!Ta(e[n])&&!ide(n,r)&&(t[n]=e[n])}function $Ve({transformTemplate:t},e){return F.useMemo(()=>{const r=HR();return WR(r,e,t),Object.assign({},r.vars,r.style)},[e])}function MVe(t,e){const r=t.style||{},n={};return ude(n,r,t),Object.assign(n,$Ve(t,e)),n}function OVe(t,e){const r={},n=MVe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const FVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FVe.has(t)}let dde=t=>!oS(t);function BVe(t){t&&(dde=e=>e.startsWith("on")?!oS(e):t(e))}try{BVe(require("@emotion/is-prop-valid").default)}catch{}function RVe(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(dde(s)||r===!0&&oS(s)||!e&&!oS(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function DVe(t,e,r,n){const s=F.useMemo(()=>{const i=cde();return qR(i,e,KR(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ude(i,t.style,t),s.style={...i,...s.style}}return s}function UVe(t=!1){return(r,n,s,{latestValues:i},a)=>{const c=(LR(r)?DVe:OVe)(n,i,a,r),l=RVe(n,typeof r=="string",t),u=r!==F.Fragment?{...l,...c,ref:s}:{},{children:f}=n,h=F.useMemo(()=>Ta(f)?f.get():f,[f]);return F.createElement(r,{...u,children:h})}}function zVe(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...LR(n)?TVe:jVe,preloadedFeatures:t,useRender:UVe(s),createVisualElement:e,Component:n};return gVe(a)}}const G$={current:null},fde={current:!1};function LVe(){if(fde.current=!0,!!zR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>G$.current=t.matches;t.addListener(e),e()}else G$.current=!1}function VVe(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ta(s))t.addValue(n,s);else if(Ta(i))t.addValue(n,L6(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(n);t.addValue(n,L6(a!==void 0?a:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const kK=new WeakMap,HVe=[...nue,Pa,Zp],WVe=t=>HVe.find(rue(t)),IK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qVe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Hd.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Sn.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Hk(r),this.isVariantNode=tde(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Ta(m)&&m.set(c[h],!1)}}mount(e){this.current=e,kK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),fde.current||LVe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kK.delete(this.current),this.projection&&this.projection.unmount(),Xp(this.notifyUpdate),Xp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=W1.has(e),s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Sn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $x){const r=$x[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<IK.length;n++){const s=IK[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=VVe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=L6(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Yle(s)||Qle(s))?s=parseFloat(s):!WVe(s)&&Zp.test(r)&&(s=due(e,r)),this.setBaseTarget(e,Ta(s)?s.get():s)),Ta(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=bR(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ta(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new BR),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class hde extends qVe{constructor(){super(...arguments),this.KeyframeResolver=fue}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ta(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KVe(t){return window.getComputedStyle(t)}class XVe extends hde{constructor(){super(...arguments),this.type="html",this.renderInstance=rde}readValueFromInstance(e,r){if(W1.has(r)){const n=ER(r);return n&&n.default||0}else{const n=KVe(e),s=(eue(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Rue(e,r)}build(e,r,n){WR(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return VR(e,r,n)}}class ZVe extends hde{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Is}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(W1.has(r)){const n=ER(r);return n&&n.default||0}return r=nde.has(r)?r:RR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return ade(e,r,n)}build(e,r,n){qR(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){sde(e,r,n,s)}mount(e){this.isSVGTag=KR(e.tagName),super.mount(e)}}const JVe=(t,e)=>LR(t)?new ZVe(e):new XVe(e,{allowProjection:t!==F.Fragment}),QVe=zVe({...Oze,...aVe,...ZLe,...oVe},JVe),NK=$De(QVe),YVe=O1("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function rr({className:t,variant:e,...r}){return d.jsx("div",{className:jt(YVe({variant:e}),t),...r})}var GVe="Label",pde=F.forwardRef((t,e)=>d.jsx(Qt.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pde.displayName=GVe;var mde=pde;const eHe=O1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zt=F.forwardRef(({className:t,...e},r)=>d.jsx(mde,{ref:r,className:jt(eHe(),t),...e}));Zt.displayName=mde.displayName;const tHe=O1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fn=F.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:jt(tHe({variant:e}),t),...r}));fn.displayName="Alert";const eM=F.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:jt("mb-1 font-medium leading-none tracking-tight",t),...e}));eM.displayName="AlertTitle";const hn=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-sm [&_p]:leading-relaxed",t),...e}));hn.displayName="AlertDescription";function Wk(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var XR="Checkbox",[rHe,o6t]=Zi(XR),[nHe,sHe]=rHe(XR),gde=F.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:l,form:u,...f}=t,[h,m]=F.useState(null),v=yr(e,M=>m(M)),x=F.useRef(!1),k=h?u||!!h.closest("form"):!0,[E=!1,P]=Iu({prop:s,defaultProp:i,onChange:l}),_=F.useRef(E);return F.useEffect(()=>{const M=h==null?void 0:h.form;if(M){const B=()=>P(_.current);return M.addEventListener("reset",B),()=>M.removeEventListener("reset",B)}},[h,P]),d.jsxs(nHe,{scope:r,state:E,disabled:o,children:[d.jsx(Qt.button,{type:"button",role:"checkbox","aria-checked":Mp(E)?"mixed":E,"aria-required":a,"data-state":vde(E),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:v,onKeyDown:_t(t.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:_t(t.onClick,M=>{P(B=>Mp(B)?!0:!B),k&&(x.current=M.isPropagationStopped(),x.current||M.stopPropagation())})}),k&&d.jsx(iHe,{control:h,bubbles:!x.current,name:n,value:c,checked:E,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Mp(i)?!1:i})]})});gde.displayName=XR;var bde="CheckboxIndicator",yde=F.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=sHe(bde,r);return d.jsx(Ji,{present:n||Mp(i.state)||i.state===!0,children:d.jsx(Qt.span,{"data-state":vde(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});yde.displayName=bde;var iHe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...i}=t,a=F.useRef(null),o=Wk(r),c=jP(e);F.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const v=new Event("click",{bubbles:n});u.indeterminate=Mp(r),m.call(u,Mp(r)?!1:r),u.dispatchEvent(v)}},[o,r,n]);const l=F.useRef(Mp(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...i,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mp(t){return t==="indeterminate"}function vde(t){return Mp(t)?"indeterminate":t?"checked":"unchecked"}var xde=gde,aHe=yde;const yh=F.forwardRef(({className:t,...e},r)=>d.jsx(xde,{ref:r,className:jt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(aHe,{className:jt("flex items-center justify-center text-current"),children:d.jsx(Ga,{className:"h-4 w-4"})})}));yh.displayName=xde.displayName;const es=QF,Uy=wne,oHe=YF,wde=F.forwardRef(({className:t,...e},r)=>d.jsx(M4,{ref:r,className:jt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wde.displayName=M4.displayName;const Hn=F.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(oHe,{children:[d.jsx(wde,{}),d.jsxs(O4,{ref:n,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(zP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(F1,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=O4.displayName;const Wn=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wn.displayName="DialogHeader";const Ss=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ss.displayName="DialogFooter";const qn=F.forwardRef(({className:t,...e},r)=>d.jsx(F4,{ref:r,className:jt("text-lg font-semibold leading-none tracking-tight",t),...e}));qn.displayName=F4.displayName;const Kn=F.forwardRef(({className:t,...e},r)=>d.jsx(B4,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Kn.displayName=B4.displayName;var cHe=F.createContext(void 0);function v2(t){const e=F.useContext(cHe);return t||e||"ltr"}var x_="rovingFocusGroup.onEntryFocus",lHe={bubbles:!1,cancelable:!0},qk="RovingFocusGroup",[tM,Ade,uHe]=IP(qk),[dHe,x2]=Zi(qk,[uHe]),[fHe,hHe]=dHe(qk),Sde=F.forwardRef((t,e)=>d.jsx(tM.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(tM.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(pHe,{...t,ref:e})})}));Sde.displayName=qk;var pHe=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,h=F.useRef(null),m=yr(e,h),v=v2(i),[x=null,k]=Iu({prop:a,defaultProp:o,onChange:c}),[E,P]=F.useState(!1),_=ls(l),M=Ade(r),B=F.useRef(!1),[D,j]=F.useState(0);return F.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(x_,_),()=>T.removeEventListener(x_,_)},[_]),d.jsx(fHe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:x,onItemFocus:F.useCallback(T=>k(T),[k]),onItemShiftTab:F.useCallback(()=>P(!0),[]),onFocusableItemAdd:F.useCallback(()=>j(T=>T+1),[]),onFocusableItemRemove:F.useCallback(()=>j(T=>T-1),[]),children:d.jsx(Qt.div,{tabIndex:E||D===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:_t(t.onMouseDown,()=>{B.current=!0}),onFocus:_t(t.onFocus,T=>{const R=!B.current;if(T.target===T.currentTarget&&R&&!E){const H=new CustomEvent(x_,lHe);if(T.currentTarget.dispatchEvent(H),!H.defaultPrevented){const O=M().filter(S=>S.focusable),b=O.find(S=>S.active),w=O.find(S=>S.id===x),g=[b,w,...O].filter(Boolean).map(S=>S.ref.current);Ide(g,u)}}B.current=!1}),onBlur:_t(t.onBlur,()=>P(!1))})})}),Pde="RovingFocusGroupItem",kde=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=t,o=Au(),c=i||o,l=hHe(Pde,r),u=l.currentTabStopId===c,f=Ade(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=l;return F.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),d.jsx(tM.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:d.jsx(Qt.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...a,ref:e,onMouseDown:_t(t.onMouseDown,v=>{n?l.onItemFocus(c):v.preventDefault()}),onFocus:_t(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:_t(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){l.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=bHe(v,l.orientation,l.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let E=f().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const P=E.indexOf(v.currentTarget);E=l.loop?yHe(E,P+1):E.slice(P+1)}setTimeout(()=>Ide(E))}})})})});kde.displayName=Pde;var mHe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gHe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bHe(t,e,r){const n=gHe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mHe[n]}function Ide(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function yHe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ZR=Sde,JR=kde,QR="Tabs",[vHe,c6t]=Zi(QR,[x2]),Nde=x2(),[xHe,YR]=vHe(QR),Ede=F.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...l}=t,u=v2(o),[f,h]=Iu({prop:n,onChange:s,defaultProp:i});return d.jsx(xHe,{scope:r,baseId:Au(),value:f,onValueChange:h,orientation:a,dir:u,activationMode:c,children:d.jsx(Qt.div,{dir:u,"data-orientation":a,...l,ref:e})})});Ede.displayName=QR;var _de="TabsList",Cde=F.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=YR(_de,r),a=Nde(r);return d.jsx(ZR,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(Qt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Cde.displayName=_de;var Tde="TabsTrigger",jde=F.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,a=YR(Tde,r),o=Nde(r),c=Ode(a.baseId,n),l=Fde(a.baseId,n),u=n===a.value;return d.jsx(JR,{asChild:!0,...o,focusable:!s,active:u,children:d.jsx(Qt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:_t(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:_t(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:_t(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!s&&f&&a.onValueChange(n)})})})});jde.displayName=Tde;var $de="TabsContent",Mde=F.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=t,o=YR($de,r),c=Ode(o.baseId,n),l=Fde(o.baseId,n),u=n===o.value,f=F.useRef(u);return F.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(Ji,{present:s||u,children:({present:h})=>d.jsx(Qt.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Mde.displayName=$de;function Ode(t,e){return`${t}-trigger-${e}`}function Fde(t,e){return`${t}-content-${e}`}var wHe=Ede,Bde=Cde,Rde=jde,Dde=Mde;const a5=wHe,w2=F.forwardRef(({className:t,...e},r)=>d.jsx(Bde,{ref:r,className:jt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));w2.displayName=Bde.displayName;const No=F.forwardRef(({className:t,...e},r)=>d.jsx(Rde,{ref:r,className:jt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));No.displayName=Rde.displayName;const Eo=F.forwardRef(({className:t,...e},r)=>d.jsx(Dde,{ref:r,className:jt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Eo.displayName=Dde.displayName;function rM(t,[e,r]){return Math.min(r,Math.max(e,t))}function AHe(t,e){return F.useReducer((r,n)=>e[r][n]??r,t)}var GR="ScrollArea",[Ude,l6t]=Zi(GR),[SHe,_l]=Ude(GR),zde=F.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=t,[o,c]=F.useState(null),[l,u]=F.useState(null),[f,h]=F.useState(null),[m,v]=F.useState(null),[x,k]=F.useState(null),[E,P]=F.useState(0),[_,M]=F.useState(0),[B,D]=F.useState(!1),[j,T]=F.useState(!1),R=yr(e,O=>c(O)),H=v2(s);return d.jsx(SHe,{scope:r,type:n,dir:H,scrollHideDelay:i,scrollArea:o,viewport:l,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:B,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:k,scrollbarYEnabled:j,onScrollbarYEnabledChange:T,onCornerWidthChange:P,onCornerHeightChange:M,children:d.jsx(Qt.div,{dir:H,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});zde.displayName=GR;var Lde="ScrollAreaViewport",Vde=F.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=t,a=_l(Lde,r),o=F.useRef(null),c=yr(e,o,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Qt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Vde.displayName=Lde;var df="ScrollAreaScrollbar",eD=F.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_l(df,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=t.orientation==="horizontal";return F.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?d.jsx(PHe,{...n,ref:e,forceMount:r}):s.type==="scroll"?d.jsx(kHe,{...n,ref:e,forceMount:r}):s.type==="auto"?d.jsx(Hde,{...n,ref:e,forceMount:r}):s.type==="always"?d.jsx(tD,{...n,ref:e}):null});eD.displayName=df;var PHe=F.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_l(df,t.__scopeScrollArea),[i,a]=F.useState(!1);return F.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const l=()=>{window.clearTimeout(c),a(!0)},u=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",l),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",l),o.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Ji,{present:r||i,children:d.jsx(Hde,{"data-state":i?"visible":"hidden",...n,ref:e})})}),kHe=F.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_l(df,t.__scopeScrollArea),i=t.orientation==="horizontal",a=Xk(()=>c("SCROLL_END"),100),[o,c]=AHe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return F.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay,c]),F.useEffect(()=>{const l=s.viewport,u=i?"scrollLeft":"scrollTop";if(l){let f=l[u];const h=()=>{const m=l[u];f!==m&&(c("SCROLL"),a()),f=m};return l.addEventListener("scroll",h),()=>l.removeEventListener("scroll",h)}},[s.viewport,i,c,a]),d.jsx(Ji,{present:r||o!=="hidden",children:d.jsx(tD,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:_t(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:_t(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Hde=F.forwardRef((t,e)=>{const r=_l(df,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,a]=F.useState(!1),o=t.orientation==="horizontal",c=Xk(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?l:u)}},10);return Mx(r.viewport,c),Mx(r.content,c),d.jsx(Ji,{present:n||i,children:d.jsx(tD,{"data-state":i?"visible":"hidden",...s,ref:e})})}),tD=F.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=_l(df,t.__scopeScrollArea),i=F.useRef(null),a=F.useRef(0),[o,c]=F.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=Zde(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return THe(h,a.current,o,m)}return r==="horizontal"?d.jsx(IHe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=EK(h,o,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?d.jsx(NHe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=EK(h,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),IHe=F.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=_l(df,t.__scopeScrollArea),[a,o]=F.useState(),c=F.useRef(null),l=yr(e,c,i.onScrollbarXChange);return F.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),d.jsx(qde,{"data-orientation":"horizontal",...s,ref:l,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kk(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),Qde(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:lS(a.paddingLeft),paddingEnd:lS(a.paddingRight)}})}})}),NHe=F.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=_l(df,t.__scopeScrollArea),[a,o]=F.useState(),c=F.useRef(null),l=yr(e,c,i.onScrollbarYChange);return F.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),d.jsx(qde,{"data-orientation":"vertical",...s,ref:l,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kk(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),Qde(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:lS(a.paddingTop),paddingEnd:lS(a.paddingBottom)}})}})}),[EHe,Wde]=Ude(df),qde=F.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:f,...h}=t,m=_l(df,r),[v,x]=F.useState(null),k=yr(e,R=>x(R)),E=F.useRef(null),P=F.useRef(""),_=m.viewport,M=n.content-n.viewport,B=ls(u),D=ls(c),j=Xk(f,10);function T(R){if(E.current){const H=R.clientX-E.current.left,O=R.clientY-E.current.top;l({x:H,y:O})}}return F.useEffect(()=>{const R=H=>{const O=H.target;(v==null?void 0:v.contains(O))&&B(H,M)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,v,M,B]),F.useEffect(D,[n,D]),Mx(v,j),Mx(m.content,j),d.jsx(EHe,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:ls(i),onThumbPointerUp:ls(a),onThumbPositionChange:D,onThumbPointerDown:ls(o),children:d.jsx(Qt.div,{...h,ref:k,style:{position:"absolute",...h.style},onPointerDown:_t(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),E.current=v.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(R))}),onPointerMove:_t(t.onPointerMove,T),onPointerUp:_t(t.onPointerUp,R=>{const H=R.target;H.hasPointerCapture(R.pointerId)&&H.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=P.current,m.viewport&&(m.viewport.style.scrollBehavior=""),E.current=null})})})}),cS="ScrollAreaThumb",Kde=F.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Wde(cS,t.__scopeScrollArea);return d.jsx(Ji,{present:r||s.hasThumb,children:d.jsx(_He,{ref:e,...n})})}),_He=F.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=_l(cS,r),a=Wde(cS,r),{onThumbPositionChange:o}=a,c=yr(e,f=>a.onThumbChange(f)),l=F.useRef(void 0),u=Xk(()=>{l.current&&(l.current(),l.current=void 0)},100);return F.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!l.current){const m=jHe(f,o);l.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,o]),d.jsx(Qt.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:_t(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,x=f.clientY-m.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:_t(t.onPointerUp,a.onThumbPointerUp)})});Kde.displayName=cS;var rD="ScrollAreaCorner",Xde=F.forwardRef((t,e)=>{const r=_l(rD,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(CHe,{...t,ref:e}):null});Xde.displayName=rD;var CHe=F.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=_l(rD,r),[i,a]=F.useState(0),[o,c]=F.useState(0),l=!!(i&&o);return Mx(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),Mx(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),a(u)}),l?d.jsx(Qt.div,{...n,ref:e,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function lS(t){return t?parseInt(t,10):0}function Zde(t,e){const r=t/e;return isNaN(r)?0:r}function Kk(t){const e=Zde(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function THe(t,e,r,n="ltr"){const s=Kk(r),i=s/2,a=e||i,o=s-a,c=r.scrollbar.paddingStart+a,l=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return Jde([c,l],f)(t)}function EK(t,e,r="ltr"){const n=Kk(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,o=i-n,c=r==="ltr"?[0,a]:[a*-1,0],l=rM(t,c);return Jde([0,a],[0,o])(l)}function Jde(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Qde(t,e){return t>0&&t<e}var jHe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=r.left!==i.left,o=r.top!==i.top;(a||o)&&e(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Xk(t,e){const r=ls(t),n=F.useRef(0);return F.useEffect(()=>()=>window.clearTimeout(n.current),[]),F.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Mx(t,e){const r=ls(e);Xi(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var Yde=zde,$He=Vde,MHe=Xde;const Zk=F.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Yde,{ref:n,className:jt("relative overflow-hidden",t),...r,children:[d.jsx($He,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(Gde,{}),d.jsx(MHe,{})]}));Zk.displayName=Yde.displayName;const Gde=F.forwardRef(({className:t,orientation:e="vertical",...r},n)=>d.jsx(eD,{ref:n,orientation:e,className:jt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:d.jsx(Kde,{className:"relative flex-1 rounded-full bg-border"})}));Gde.displayName=eD.displayName;var efe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_K=Qr.createContext&&Qr.createContext(efe),OHe=["attr","size","title"];function FHe(t,e){if(t==null)return{};var r=BHe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uS.apply(this,arguments)}function CK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CK(Object(r),!0).forEach(function(n){RHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RHe(t,e,r){return e=DHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DHe(t){var e=UHe(t,"string");return typeof e=="symbol"?e:e+""}function UHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tfe(t){return t&&t.map((e,r)=>Qr.createElement(e.tag,dS({key:r},e.attr),tfe(e.child)))}function ff(t){return e=>Qr.createElement(zHe,uS({attr:dS({},t.attr)},e),tfe(t.child))}function zHe(t){var e=r=>{var{attr:n,size:s,title:i}=t,a=FHe(t,OHe),o=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Qr.createElement("svg",uS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:dS(dS({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Qr.createElement("title",null,i),t.children)};return _K!==void 0?Qr.createElement(_K.Consumer,null,r=>e(r)):e(efe)}function LHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.624 13.9202l2.7175 2.7154-7.353 7.353-7.353-7.352 2.7175-2.7164 4.6355 4.6595 4.6356-4.6595zm4.6366-4.6366L24 12l-2.7154 2.7164L18.5682 12l2.6924-2.7164zm-9.272.001l2.7163 2.6914-2.7164 2.7174v-.001L9.2721 12l2.7164-2.7154zm-9.2722-.001L5.4088 12l-2.6914 2.6924L0 12l2.7164-2.7164zM11.9885.0115l7.353 7.329-2.7174 2.7154-4.6356-4.6356-4.6355 4.6595-2.7174-2.7154 7.353-7.353z"},child:[]}]})(t)}function VHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.5765 11.92c-.0488.8906.6316 1.653 1.5219 1.7056h.0934c.8928-.0006 1.6161-.725 1.6155-1.6178-.0006-.8928-.725-1.6161-1.6178-1.6155-.8578.0006-1.5658.6711-1.613 1.5277Zm-6.025-.416c-.288-.0161-.5345.2042-.5507.4922-.0161.288.2042.5345.4922.5507.2878.0161.5343-.204.5506-.4918.0167-.2876-.2029-.5343-.4905-.5509H.5514Zm5.9226-8.9645c.257-.1309.3593-.4453.2284-.7024-.1309-.257-.4453-.3593-.7024-.2284-.2558.1302-.3585.4424-.2301.6991.13.2582.4448.3622.703.2322.0003-.0002.0007-.0003.001-.0005Zm1.6397 2.8589c.398-.2006.558-.6859.3573-1.0839-.2006-.398-.6859-.558-1.0839-.3573-.3978.2006-.5579.6856-.3575 1.0835.2007.398.686.5581 1.0842.3578ZM2.597 7.3645c.3072.2013.7194.1154.9206-.1918.2013-.3072.1154-.7194-.1918-.9206-.3072-.2013-.7194-.1154-.9206.1918 0 .0001-.0001.0002-.0002.0003-.201.3072-.1151.7191.192.9203Zm.9824 3.8515c-.4453-.0254-.827.3149-.8524.7603s.3149.827.7603.8524c.4453.0254.827-.3149.8524-.7603v-.0006c.0251-.4451-.3152-.8264-.7603-.8518Zm-.8915 5.4221c-.328.1652-.46.565-.2948.893.1652.328.565.46.893.2948.328-.1652.46-.565.2948-.893l-.0002-.0004c-.1645-.3276-.5633-.4598-.8909-.2954-.0006.0003-.0013.0006-.0019.001Zm3.136-7.0931c.4386.2876 1.0274.1653 1.315-.2734.2876-.4386.1653-1.0274-.2734-1.315-.4386-.2876-1.0273-.1653-1.3149.2732-.2878.4381-.166 1.0266.2721 1.3144.0004.0003.0008.0005.0012.0008Zm9.9501-4.2106c.3729.2447.8737.1408 1.1184-.2321.2447-.3729.1408-.8737-.2321-1.1184-.3729-.2447-.8737-.1408-1.1184.2321 0 .0001-.0001.0002-.0002.0003-.2447.3726-.141.8729.2316 1.1176.0003.0002.0005.0003.0008.0005Zm1.6563-2.8499c.2413.1579.565.0904.723-.151s.0904-.565-.151-.723c-.241-.1577-.5642-.0906-.7224.1501-.1584.241-.0915.5648.1495.7233l.0009.0006Zm-1.5296 7.8938c-.8911-.0507-1.6546.6305-1.7053 1.5216-.0507.8911.6305 1.6546 1.5216 1.7053h.0928c.8925 0 1.616-.7235 1.616-1.616 0-.8572-.6693-1.5652-1.5251-1.6134v.0026ZM8.645 9.433c.2737.5459.8331.8896 1.4438.887.8925-.0002 1.6159-.7238 1.6157-1.6163 0-.2526-.0593-.5018-.1731-.7273-.4017-.7971-1.3735-1.1176-2.1706-.7158-.7971.4017-1.1176 1.3735-.7158 2.1706v.0019Zm12.6669-2.0704c.3273-.1666.4575-.567.2909-.8943-.1666-.3273-.567-.4575-.8943-.2909-.3259.1659-.4567.5639-.2927.8908.1652.3284.5653.4607.8937.2956.0008-.0004.0015-.0008.0023-.0012Zm-4.096.5146c-.4683.2362-.6565.8074-.4203 1.2757.2362.4683.8074.6565 1.2757.4203.468-.2361.6563-.8066.4207-1.2749-.2364-.4683-.8074-.6568-1.2762-.4211Zm-5.2768-5.6365c.3667.0205.6806-.2601.7011-.6267s-.2601-.6806-.6267-.7011c-.3655-.0205-.6789.2584-.7009.6238-.0225.3662.2562.6813.6224.7038.0014 0 .0028.0002.0042.0002Zm-.0077 4.1837c.5237.0288.9717-.3724 1.0006-.8961.0288-.5237-.3723-.9717-.8961-1.0006-.5231-.0288-.9707.3714-1.0005.8944-.0298.5237.3706.9724.8943 1.0021h.0017Zm-5.1475 9.6992c.4685-.2359.657-.807.421-1.2755-.2359-.4685-.807-.657-1.2755-.421-.4684.2359-.6569.8069-.4211 1.2754.2362.4682.807.6567 1.2755.4211Zm5.76-8.313c-.4881.7459-.2792 1.7463.4667 2.2344s1.7463.2792 2.2344-.4667.2792-1.7463-.4667-2.2344c-.262-.1715-.5683-.263-.8815-.2635-.5452-.0001-1.0538.2744-1.353.7302Zm2.8109 6.7571c-.4015-.7975-1.3735-1.1185-2.171-.7169-.7975.4015-1.1185 1.3735-.7169 2.171.4015.7975 1.3735 1.1185 2.171.7169.0005-.0002.0009-.0005.0014-.0007.7947-.3952 1.1186-1.3598.7235-2.1545-.0026-.0053-.0053-.0105-.0079-.0158Zm2.8211-.112c-.4386-.2876-1.0274-.1653-1.315.2734-.2876.4386-.1653 1.0274.2734 1.315.4386.2876 1.0273.1653 1.3149-.2732.2877-.4386.1654-1.0274-.2731-1.3151h-.0002Zm3.0963-2.4282c.0254-.4453-.3149-.827-.7603-.8524-.4453-.0254-.827.3149-.8524.7603-.0254.4453.3149.827.7603.8524h.0006c.4451.0251.8264-.3152.8518-.7603Zm2.2349-.5741c-.288-.0161-.5345.2042-.5507.4922s.2042.5345.4922.5507c.2878.0161.5343-.204.5506-.4918.016-.288-.2042-.5345-.4922-.551Zm-2.1043 5.1821c-.3073-.2011-.7194-.115-.9205.1923-.2011.3073-.115.7194.1923.9205.3071.201.719.1151.9202-.1918.2013-.3071.1156-.7193-.1916-.9207l-.0004-.0003ZM6.5695 21.5161c-.2411-.1584-.5649-.0913-.7232.1497-.1584.2411-.0913.5649.1497.7232.2411.1584.5649.0913.7232-.1497.158-.2411.091-.5646-.1498-.7232Zm10.9555-.055c-.257.1309-.3593.4453-.2284.7024.1309.257.4453.3593.7023.2284.2558-.1302.3585-.4424.2301-.6991-.1291-.2579-.4428-.3624-.7007-.2333-.0011.0005-.0022.0011-.0033.0016Zm-6.0691-5.2717c.4892-.7465.2806-1.7482-.4659-2.2374-.7465-.4892-1.7482-.2806-2.2374.4659s-.2806 1.7482.4659 2.2374c.2628.1722.5702.2641.8844.2644.5458.0022 1.0553-.2728 1.353-.7302Zm-3.2301 2.4768c-.3729-.2447-.8737-.1408-1.1184.2321-.2447.3729-.1408.8737.2321 1.1184s.8737.1408 1.1184-.2321c0-.0001.0001-.0002.0002-.0003.2445-.3729.1405-.8734-.2323-1.1181Zm3.7664 3.0931c-.3667-.0209-.6808.2594-.7017.6261s.2594.6808.6261.7017c.3658.0208.6795-.2581.7016-.6238.0222-.3666-.2571-.6817-.6236-.7039-.0008 0-.0015 0-.0023-.0001Zm.007-4.1837c-.5237-.0288-.9717.3724-1.0005.8961-.0288.5237.3724.9717.8961 1.0005.5228.0288.9703-.371 1.0004-.8938.0298-.524-.3709-.973-.8949-1.0028h-.0011Zm3.8861 1.0259c-.3976.2022-.556.6884-.3539 1.086.2022.3976.6884.556 1.086.3539.3961-.2014.5551-.685.3558-1.0821-.2-.3987-.6854-.5598-1.0841-.3597-.0013.0007-.0026.0013-.0039.002Z"},child:[]}]})(t)}function HHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.288 7.908h-1.715v3.38h2.697v1.415h-2.697v3.38h1.799c.462 0 3.794.052 3.789-3.933-.005-3.984-3.232-4.242-3.873-4.242zM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.472 18.481H8.126v-5.778H6.594v-1.415h1.532V5.511h3.73c.882 0 6.727-.183 6.727 6.594-.001 6.888-6.111 6.376-6.111 6.376z"},child:[]}]})(t)}function WHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"},child:[]}]})(t)}function qHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0a12 12 0 1012 12A12 12 0 0012 0zm-.2617 3.6777h2.584a.3425.3425 0 01.33.4356l-2.0312 6.918 1.9062-.582-.4082 1.3847-1.9238.5605-1.248 4.213h6.6757a.3425.3425 0 01.3282.4374l-.582 2a.4586.4586 0 01-.4395.3301H6.7324l1.7227-5.8223-1.9063.5801.42-1.3613 1.9101-.58 2.4219-8.1798a.4557.4557 0 01.4375-.334Z"},child:[]}]})(t)}function KHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12,0c2.39,0,4.328,1.127,4.328,2.517S14.39,5.034,12,5.034,7.672,3.907,7.672,2.517,9.61,0,12,0Zm0,18.966c2.39,0,4.328,1.127,4.328,2.517S14.39,24,12,24s-4.328-1.127-4.328-2.517S9.61,18.966,12,18.966ZM1.606,6C2.8,3.93,4.747,2.816,5.952,3.511s1.212,2.937.017,5.007S2.828,11.7,1.624,11.007.411,8.07,1.606,6Zm16.427,9.483c1.2-2.07,3.139-3.184,4.343-2.489s1.211,2.936.016,5.006-3.14,3.185-4.344,2.49S16.837,17.553,18.033,15.483ZM1.624,12.993c1.205-.7,3.15.419,4.346,2.489s1.187,4.311-.018,5.007S2.8,20.07,1.607,18,.42,13.689,1.624,12.993ZM18.049,3.512c1.2-.695,3.149.419,4.344,2.489s1.188,4.311-.016,5.007-3.148-.42-4.343-2.49S16.846,4.207,18.049,3.512Z"},child:[]}]})(t)}function XHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m17.82 16.342 5.692-3.287A.98.98 0 0 0 24 12.21V5.635a.98.98 0 0 0-.488-.846l-5.693-3.286a.98.98 0 0 0-.977 0L11.15 4.789a.98.98 0 0 0-.489.846v11.747L6.67 19.686l-3.992-2.304v-4.61l3.992-2.304 2.633 1.52V8.896L7.158 7.658a.98.98 0 0 0-.977 0L.488 10.945a.98.98 0 0 0-.488.846v6.573a.98.98 0 0 0 .488.847l5.693 3.286a.981.981 0 0 0 .977 0l5.692-3.286a.98.98 0 0 0 .489-.846V6.618l.072-.041 3.92-2.263 3.99 2.305v4.609l-3.99 2.304-2.63-1.517v3.092l2.14 1.236a.981.981 0 0 0 .978 0v-.001Z"},child:[]}]})(t)}function ZHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.55 14.65c-.846-.486-1.805-.632-2.752-.666-.79-.023-1.974-.541-1.974-1.985 0-1.072.868-1.94 1.985-1.985.947-.034 1.906-.18 2.752-.666A5.018 5.018 0 0022.4 2.502 5.04 5.04 0 0015.53.674a4.993 4.993 0 00-2.504 4.343c0 .97.35 1.861.79 2.696.372.699.553 1.996-.71 2.73-.948.54-2.132.202-2.719-.745-.496-.801-1.094-1.545-1.94-2.03C6.045 6.28 2.977 7.104 1.6 9.495A5.018 5.018 0 003.44 16.34a5.025 5.025 0 005.008 0c.846-.485 1.444-1.23 1.94-2.03.406-.654 1.433-1.489 2.718-.744.948.541 1.241 1.737.711 2.73-.44.823-.79 1.725-.79 2.695A5.011 5.011 0 0018.034 24a5.011 5.011 0 005.008-5.008 4.982 4.982 0 00-2.492-4.343z"},child:[]}]})(t)}function JHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m23.8764 18.0313-3.962 4.1393a.9201.9201 0 0 1-.306.2106.9407.9407 0 0 1-.367.0742H.4599a.4689.4689 0 0 1-.2522-.0733.4513.4513 0 0 1-.1696-.1962.4375.4375 0 0 1-.0314-.2545.4438.4438 0 0 1 .117-.2298l3.9649-4.1393a.92.92 0 0 1 .3052-.2102.9407.9407 0 0 1 .3658-.0746H23.54a.4692.4692 0 0 1 .2523.0734.4531.4531 0 0 1 .1697.196.438.438 0 0 1 .0313.2547.4442.4442 0 0 1-.1169.2297zm-3.962-8.3355a.9202.9202 0 0 0-.306-.2106.941.941 0 0 0-.367-.0742H.4599a.4687.4687 0 0 0-.2522.0734.4513.4513 0 0 0-.1696.1961.4376.4376 0 0 0-.0314.2546.444.444 0 0 0 .117.2297l3.9649 4.1394a.9204.9204 0 0 0 .3052.2102c.1154.049.24.0744.3658.0746H23.54a.469.469 0 0 0 .2523-.0734.453.453 0 0 0 .1697-.1961.4382.4382 0 0 0 .0313-.2546.4444.4444 0 0 0-.1169-.2297zM.46 6.7225h18.7815a.9411.9411 0 0 0 .367-.0742.9202.9202 0 0 0 .306-.2106l3.962-4.1394a.4442.4442 0 0 0 .117-.2297.4378.4378 0 0 0-.0314-.2546.453.453 0 0 0-.1697-.196.469.469 0 0 0-.2523-.0734H4.7596a.941.941 0 0 0-.3658.0745.9203.9203 0 0 0-.3052.2102L.1246 5.9687a.4438.4438 0 0 0-.1169.2295.4375.4375 0 0 0 .0312.2544.4512.4512 0 0 0 .1692.196.4689.4689 0 0 0 .2518.0739z"},child:[]}]})(t)}function QHe(t){return ff({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.7538 10.5176c0 .6251-2.2379 1.1483-5.2381 1.2812l.0028.0007c-.0848.0064-.5233.0325-1.5012.0325-.7778 0-1.33-.0233-1.5237-.0325-3.0059-.1322-5.2495-.6555-5.2495-1.2819s2.2436-1.149 5.2495-1.2834v2.0442c.1965.0142.7594.0474 1.5372.0474.9334 0 1.4008-.0389 1.4849-.0466V9.2356c2.9994.1337 5.2381.657 5.2381 1.282zm5.19.5466L12.1248 22.389a.1803.1803 0 0 1-.2496 0L.0562 11.0635a.1781.1781 0 0 1-.0382-.2079l4.3762-9.1921a.1767.1767 0 0 1 .1626-.1026h14.8878a.1768.1768 0 0 1 .1612.1032l4.3762 9.1922a.1782.1782 0 0 1-.0382.2079zm-4.478-.4038c0-.8068-2.5515-1.4799-5.9473-1.6369V7.195h4.186V4.4055H6.3076V7.195h4.1852v1.8286c-3.4018.1562-5.9601.83-5.9601 1.6376 0 .8075 2.5583 1.4806 5.9601 1.6376v5.8618h3.025v-5.8639c3.394-.1563 5.948-.8295 5.948-1.6363z"},child:[]}]})(t)}const YHe={sm:"h-5 w-5",md:"h-8 w-8",lg:"h-12 w-12"},Us={BTC:"#F7931A",ETH:"#627EEA",BNB:"#F3BA2F",MATIC:"#8247E5",SOL:"#14F195",AVAX:"#E84142",ARB:"#12AAFF",XRP:"#23292F",DOGE:"#C2A633",ADA:"#0033AD",TRX:"#FF0013",DOT:"#E6007A",LTC:"#345D9D",BCH:"#8DC351",USDT:"#26A17B",USDC:"#2775CA",ATOM:"#2E3148",OSMO:"#750BBB",OP:"#FF0420"};function GHe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L2 19.5h6.5L12 13l3.5 6.5H22L12 2z"})})}function eWe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L3 21h4.5l4.5-9 4.5 9H21L12 2zm0 7l2.5 5h-5L12 9z"})})}function tWe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L3 8.5v7L12 22l9-6.5v-7L12 2zm0 2.5l6 4.3-6 8.2-6-8.2 6-4.3z"})})}function rWe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 14.5v1.5h-2v-1.5c-1.5-.3-2.5-1.1-2.8-2.3l1.5-.5c.2.8.9 1.3 1.8 1.3.7 0 1.5-.3 1.5-1 0-.6-.5-.9-1.5-1.2-1.5-.4-3-1-3-2.8 0-1.3 1-2.3 2.5-2.5V6h2v1.5c1.2.2 2.1.9 2.5 2l-1.5.5c-.2-.6-.7-1-1.5-1-.7 0-1.2.3-1.2.8 0 .5.4.8 1.5 1.1 1.5.4 3 1 3 2.9 0 1.5-1.2 2.5-2.8 2.7z"})})}function TK({className:t,style:e}){return d.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5",transform:"rotate(60 12 12)"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5",transform:"rotate(120 12 12)"})]})}function nWe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("circle",{cx:"12",cy:"12",r:"10"})})}function Yn({symbol:t,iconColor:e,className:r="",size:n="md"}){const s=YHe[n],i=t.toUpperCase(),a=e||Us[i]||"#6B7280",o={BTC:d.jsx(_we,{className:`${s} ${r}`,style:{color:Us.BTC}}),ETH:d.jsx(WHe,{className:`${s} ${r}`,style:{color:Us.ETH}}),BNB:d.jsx(LHe,{className:`${s} ${r}`,style:{color:Us.BNB}}),MATIC:d.jsx(XHe,{className:`${s} ${r}`,style:{color:Us.MATIC}}),SOL:d.jsx(JHe,{className:`${s} ${r}`,style:{color:Us.SOL}}),LTC:d.jsx(qHe,{className:`${s} ${r}`,style:{color:Us.LTC}}),DOGE:d.jsx(HHe,{className:`${s} ${r}`,style:{color:Us.DOGE}}),XRP:d.jsx(ZHe,{className:`${s} ${r}`,style:{color:Us.XRP}}),ADA:d.jsx(VHe,{className:`${s} ${r}`,style:{color:Us.ADA}}),DOT:d.jsx(KHe,{className:`${s} ${r}`,style:{color:Us.DOT}}),USDT:d.jsx(QHe,{className:`${s} ${r}`,style:{color:Us.USDT}}),AVAX:d.jsx(GHe,{className:`${s} ${r}`,style:{color:Us.AVAX}}),ARB:d.jsx(eWe,{className:`${s} ${r}`,style:{color:Us.ARB}}),TRX:d.jsx(tWe,{className:`${s} ${r}`,style:{color:Us.TRX}}),BCH:d.jsx(rWe,{className:`${s} ${r}`,style:{color:Us.BCH}}),ATOM:d.jsx(TK,{className:`${s} ${r}`,style:{color:Us.ATOM}}),OSMO:d.jsx(TK,{className:`${s} ${r}`,style:{color:Us.OSMO}}),OP:d.jsx(nWe,{className:`${s} ${r}`,style:{color:Us.OP}})};return o[i]?o[i]:d.jsx("div",{className:`flex items-center justify-center rounded-full ${s} ${r}`,style:{backgroundColor:a},children:d.jsx("span",{className:"text-white font-bold text-xs",children:i.slice(0,2)})})}function rfe(t){return d.jsx(Yn,{symbol:t,size:"sm"})}function sWe(){const{isConnected:t,isUnlocked:e,hardwareState:r,setShowPinModal:n,setPinAction:s,lockWallet:i,connectRaspberryPi:a,connectLedger:o,connectSimulated:c,unlockWallet:l,deriveWallets:u,isLoading:f,walletMode:h,setWalletMode:m}=Yi(),{toast:v}=ki(),[x,k]=F.useState(!1),[E,P]=F.useState(!1),[_,M]=F.useState("soft_wallet"),[B,D]=F.useState("select-chains"),[j,T]=F.useState(24),[R,H]=F.useState(""),[O,b]=F.useState(!1),[w,p]=F.useState(!1),[g,S]=F.useState("create"),[N,I]=F.useState(""),[A,y]=F.useState(new Set),[C,$]=F.useState(""),[L,Q]=F.useState(""),[U,J]=F.useState(""),[Z,re]=F.useState(!1),[G,z]=F.useState("choose"),[se,ce]=F.useState(24),[pe,Ce]=F.useState(""),[ke,tt]=F.useState(!1),[mt,we]=F.useState(!1),[qe,Ae]=F.useState(""),[Oe,We]=F.useState(""),[Be,ze]=F.useState(""),[Ke,ct]=F.useState(!1),[Y,V]=F.useState("create"),[q,ne]=F.useState(""),le=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),de=()=>{if(console.log("[HardwareStatus] handleConnect() - isConnected:",t,"isUnlocked:",e,"isMobile:",le),t)e||(console.log("[HardwareStatus] Connected but locked - showing PIN unlock"),s("unlock"),n(!0));else{if(h==="hard_wallet"&&le){console.log("[HardwareStatus] Mobile hard wallet - navigating to bridge"),window.location.href="/bridge";return}console.log("[HardwareStatus] Not connected - showing setup dialog"),M(h);const He=new Set;Ui.forEach((gt,nt)=>{["ETH","BTC","BNB","TRX"].includes(gt.symbol)&&He.add(`chain-${nt}`)}),y(He),D("select-chains"),k(!0)}},me=async()=>{console.log("[HardwareStatus] handleHeaderConnectRaspberryPi() called");const He=await a();console.log("[HardwareStatus] connectRaspberryPi result:",He),He.success?(k(!1),He.hasWallet?(console.log("[HardwareStatus] EXISTING WALLET - showing PIN unlock"),v({title:"Wallet Found",description:"Existing wallet detected. Please enter your PIN to unlock."}),s("unlock"),n(!0)):(console.log("[HardwareStatus] NEW DEVICE - showing wallet setup"),v({title:"New Device Detected",description:"This is a new device. Let's set up your wallet."}),z("choose"),V("create"),ce(24),Ce(""),tt(!1),we(!1),Ae(""),We(""),ze(""),ne(""),P(!0))):(console.log("[HardwareStatus] Connection failed:",He.error),v({title:"Connection Failed",description:He.error||"Failed to connect",variant:"destructive"}))},rt=()=>{try{let He;if(j===12){const gt=Hi(16);He=mn.entropyToPhrase(gt)}else{const gt=Hi(32);He=mn.entropyToPhrase(gt)}H(He),D("display")}catch{J("Failed to generate seed phrase")}},ht=async()=>{try{await navigator.clipboard.writeText(R),p(!0),setTimeout(()=>p(!1),2e3)}catch{v({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},ot=()=>{if(A.size===0){J("Please select at least one chain.");return}J(""),D("choose")},pt=()=>{J("");const He=g==="create"?R:N;if(!He||He.trim().length===0){J("No recovery phrase found. Please go back and generate one.");return}const gt=He.trim().toLowerCase().split(/\s+/);if(gt.length!==12&&gt.length!==24){J("Recovery phrase must be 12 or 24 words.");return}if(C.length!==5||!/^\d+$/.test(C)){J("PIN must be 5 digits.");return}if(C!==L){J("PINs do not match.");return}Ct()},Ct=async()=>{if(console.log("[handleSetupSoftWallet] Starting soft wallet setup"),J(""),A.size===0){J("Please select at least one chain.");return}const gt=(g==="create"?R:N).trim().toLowerCase().split(/\s+/);re(!0);try{console.log("[handleSetupSoftWallet] Calling softWallet.setup()");const nt=await Gr.setup(gt.join(" "),C);if(console.log("[handleSetupSoftWallet] softWallet.setup() result:",nt),nt)console.log("[handleSetupSoftWallet] Creating wallets for selected chains:",Array.from(A)),await u(Array.from(A)),console.log("[handleSetupSoftWallet] deriveWallets() completed"),k(!1),D("select-chains"),H(""),I(""),$(""),Q(""),b(!1),y(new Set),v({title:"Wallet Created",description:"Your soft wallet is ready."});else{const It=Gr.getState().error;console.log("[handleSetupSoftWallet] Setup failed:",It),J(It||"Failed to set up wallet.")}}catch(nt){console.error("[handleSetupSoftWallet] Exception:",nt),J(nt.message||"Failed to create wallet.")}finally{re(!1)}},St=()=>{try{let He;if(se===12){const gt=Hi(16);He=mn.entropyToPhrase(gt)}else{const gt=Hi(32);He=mn.entropyToPhrase(gt)}Ce(He),z("display")}catch{ze("Failed to generate seed phrase")}},Rt=async()=>{try{await navigator.clipboard.writeText(pe),we(!0),setTimeout(()=>we(!1),2e3)}catch{v({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},nr=async()=>{ze("");const gt=(Y==="create"?pe:q).trim().toLowerCase().split(/\s+/);if(gt.length!==12&&gt.length!==24){ze("Recovery phrase must be 12 or 24 words.");return}if(qe.length<4||qe.length>6||!/^\d+$/.test(qe)){ze("PIN must be 4-6 digits.");return}if(qe!==Oe){ze("PINs do not match.");return}ct(!0);try{if(await ur.setupWallet(qe,gt.join(" "))){if(ur.setHasWalletOnDevice(!0),await l(qe)){const Ut=[];Ui.forEach((bt,Je)=>{["ETH","BTC","BNB","TRX"].includes(bt.symbol)&&Ut.push(`chain-${Je}`)}),await u(Ut),P(!1),Ce(""),ne(""),Ae(""),We(""),v({title:"Wallet Created",description:"Your hardware wallet is ready."})}}else ze("Failed to set up wallet on device.")}catch(nt){ze(nt.message||"Failed to create wallet.")}finally{ct(!1)}};ur.isWebHIDSupported();const De=h==="soft_wallet"?t?e?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"hidden sm:inline",children:"Active"})]}),d.jsx(Te,{size:"sm",variant:"ghost",onClick:i,"data-testid":"button-lock-wallet",children:d.jsx(hl,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{variant:"secondary",className:"gap-1.5",children:[d.jsx(hl,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Locked"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-unlock-wallet",children:[d.jsx(dA,{className:"mr-1.5 h-4 w-4"}),"Unlock"]})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{variant:"outline",className:"gap-1.5 text-muted-foreground",children:[d.jsx(e6,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Not Set Up"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-setup-soft-wallet",children:[d.jsx($s,{className:"mr-1.5 h-4 w-4"}),"Set Up"]})]}):t?e?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"hidden sm:inline",children:r.deviceName||"Connected"})]}),d.jsx(Te,{size:"sm",variant:"ghost",onClick:i,"data-testid":"button-lock-wallet",children:d.jsx(hl,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{variant:"secondary",className:"gap-1.5",children:[d.jsx(hl,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Locked"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-unlock-wallet",children:[d.jsx(dA,{className:"mr-1.5 h-4 w-4"}),"Unlock"]})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rr,{variant:"outline",className:"gap-1.5 text-muted-foreground",children:[d.jsx(Hwe,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"No Device"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-connect-device",children:[d.jsx(fA,{className:"mr-1.5 h-4 w-4"}),"Connect"]})]});return d.jsxs(d.Fragment,{children:[De,d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:h==="soft_wallet"?d.jsxs(d.Fragment,{children:[B==="select-chains"&&"Select Chains",B==="choose"&&"Set Up Recovery Phrase",B==="display"&&"Your Recovery Phrase",B==="confirm"&&"Confirm Backup",B==="pin"&&"Create Your PIN"]}):"Connect Your Wallet"}),d.jsx(Kn,{children:h==="soft_wallet"?d.jsxs(d.Fragment,{children:[B==="select-chains"&&"Choose the blockchain networks for your wallet.",B==="choose"&&"Generate a new recovery phrase or import an existing one.",B==="display"&&"Write down these words in order and store them safely.",B==="confirm"&&"Confirm that you have saved your recovery phrase.",B==="pin"&&"Set a PIN to protect your wallet."]}):"Choose how you want to set up your wallet."})]}),h==="hard_wallet"&&d.jsx("div",{className:"space-y-4 mt-4",children:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?d.jsxs(d.Fragment,{children:[d.jsxs(fn,{children:[d.jsx(ox,{className:"h-4 w-4"}),d.jsx(hn,{children:"USB connection is not available on mobile devices. Use the Mobile Bridge to connect through a desktop computer."})]}),d.jsxs(Te,{className:"w-full",onClick:()=>{k(!1),window.location.href="/bridge"},"data-testid":"button-mobile-bridge",children:[d.jsx(ox,{className:"h-4 w-4 mr-2"}),"Open Mobile Bridge"]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Or use a desktop browser with USB support."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your hardware wallet device via USB."}),d.jsx(Te,{className:"w-full",onClick:me,disabled:f,"data-testid":"button-header-connect-hard-wallet",children:f?"Connecting...":"Connect Hard Wallet"})]})}),h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[B==="select-chains"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the blockchain networks you want to use. You can add more chains later."}),d.jsx(Zk,{className:"h-64",children:d.jsx("div",{className:"space-y-2 pr-4",children:Ui.map((He,gt)=>{const nt=`chain-${gt}`,It=A.has(nt);return d.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border cursor-pointer transition-colors ${It?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"}`,onClick:()=>{const Ut=new Set(A);It?Ut.delete(nt):Ut.add(nt),y(Ut)},"data-testid":`chain-select-${He.symbol}`,children:[d.jsx(yh,{checked:It,onCheckedChange:Ut=>{const bt=new Set(A);Ut?bt.add(nt):bt.delete(nt),y(bt)}}),d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[rfe(He.symbol),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:He.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:He.symbol})]})]})]},nt)})})}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[d.jsxs("span",{children:[A.size," chain",A.size!==1?"s":""," selected"]}),d.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>{A.size===Ui.length?y(new Set):y(new Set(Ui.map((He,gt)=>`chain-${gt}`)))},children:A.size===Ui.length?"Deselect All":"Select All"})]}),U&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:U})]}),d.jsx(Te,{className:"w-full",onClick:ot,disabled:A.size===0,"data-testid":"button-confirm-chains",children:"Continue"})]}),B==="choose"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the number of words for your recovery phrase:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:j===12?"default":"outline",onClick:()=>T(12),className:"flex-1","data-testid":"button-soft-12-words",children:"12 Words"}),d.jsx(Te,{variant:j===24?"default":"outline",onClick:()=>T(24),className:"flex-1","data-testid":"button-soft-24-words",children:"24 Words (Recommended)"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D("select-chains"),className:"flex-1","data-testid":"button-back-to-chains",children:"Back"}),d.jsxs(Te,{className:"flex-1",onClick:rt,"data-testid":"button-soft-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate"]})]})]}),B==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:R.split(" ").map((He,gt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[gt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`soft-word-${gt+1}`,children:He})]},gt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:ht,"data-testid":"button-soft-copy-seed",children:w?d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yh,{id:"soft-seed-confirmed",checked:O,onCheckedChange:He=>b(He===!0),"data-testid":"checkbox-soft-seed-confirmed"}),d.jsx("label",{htmlFor:"soft-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>D("confirm"),disabled:!O,"data-testid":"button-soft-continue-to-confirm",children:"Continue"})]}),B==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsxs(hn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D("display"),className:"flex-1","data-testid":"button-soft-go-back",children:"Go Back"}),d.jsx(Te,{onClick:()=>D("pin"),className:"flex-1","data-testid":"button-soft-continue-to-pin",children:"I Understand, Continue"})]})]}),B==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (5 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:C,onChange:He=>{$(He.target.value.replace(/\D/g,"")),J("")},"data-testid":"input-soft-wallet-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:L,onChange:He=>{Q(He.target.value.replace(/\D/g,"")),J("")},"data-testid":"input-soft-wallet-confirm-pin"})]}),U&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:U})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D(g==="create"?"confirm":"choose"),className:"flex-1","data-testid":"button-soft-back",children:"Back"}),d.jsx(Te,{onClick:pt,disabled:!C||!L||Z,className:"flex-1","data-testid":"button-soft-wallet-create",children:Z?"Creating...":"Create Wallet"})]})]})]})]})}),d.jsx(es,{open:E,onOpenChange:P,children:d.jsxs(Hn,{className:"max-w-lg",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{children:[G==="choose"&&"Set Up New Wallet",G==="display"&&"Your Recovery Phrase",G==="confirm"&&"Confirm Backup",G==="pin"&&"Create Your PIN"]}),d.jsxs(Kn,{children:[G==="choose"&&"Create a new wallet or import an existing one",G==="display"&&"Write down these words in order and store them safely",G==="confirm"&&"Confirm that you have saved your recovery phrase",G==="pin"&&"Set a PIN to protect your wallet"]})]}),G==="choose"&&d.jsx("div",{className:"space-y-4",children:d.jsxs(a5,{value:Y,onValueChange:He=>V(He),children:[d.jsxs(w2,{className:"grid w-full grid-cols-2",children:[d.jsxs(No,{value:"create","data-testid":"tab-create-new",children:[d.jsx(Nd,{className:"mr-2 h-4 w-4"}),"Create New"]}),d.jsxs(No,{value:"import","data-testid":"tab-import-existing",children:[d.jsx(ere,{className:"mr-2 h-4 w-4"}),"Import Existing"]})]}),d.jsxs(Eo,{value:"create",className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a new recovery phrase for your wallet. Choose the number of words:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:se===12?"default":"outline",onClick:()=>ce(12),className:"flex-1","data-testid":"button-12-words",children:"12 Words"}),d.jsx(Te,{variant:se===24?"default":"outline",onClick:()=>ce(24),className:"flex-1","data-testid":"button-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:St,"data-testid":"button-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),d.jsxs(Eo,{value:"import",className:"space-y-4 mt-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Only import a phrase you trust. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Recovery Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your recovery phrase, separated by spaces",value:q,onChange:He=>{ne(He.target.value),ze("")},"data-testid":"input-import-seed"})]}),Be&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:Be})]}),d.jsx(Te,{className:"w-full",onClick:()=>{const He=q.trim().toLowerCase().split(/\s+/);if(He.length!==12&&He.length!==24){ze("Recovery phrase must be 12 or 24 words.");return}z("pin")},disabled:!q.trim(),"data-testid":"button-continue-import",children:"Continue to PIN Setup"})]})]})}),G==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:pe.split(" ").map((He,gt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[gt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`word-${gt+1}`,children:He})]},gt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:Rt,"data-testid":"button-copy-seed",children:mt?d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yh,{id:"seed-confirmed",checked:ke,onCheckedChange:He=>tt(He===!0),"data-testid":"checkbox-seed-confirmed"}),d.jsx("label",{htmlFor:"seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>z("confirm"),disabled:!ke,"data-testid":"button-continue-to-confirm",children:"Continue"})]}),G==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsxs(hn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>z("display"),className:"flex-1",children:"Go Back"}),d.jsx(Te,{onClick:()=>z("pin"),className:"flex-1","data-testid":"button-continue-to-pin",children:"I Understand, Continue"})]})]}),G==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (4-6 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (4-6 digits)"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Enter PIN",value:qe,onChange:He=>{Ae(He.target.value.replace(/\D/g,"")),ze("")},"data-testid":"input-header-pico-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Confirm PIN",value:Oe,onChange:He=>{We(He.target.value.replace(/\D/g,"")),ze("")},"data-testid":"input-header-pico-confirm-pin"})]}),Be&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:Be})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>z(Y==="create"?"confirm":"choose"),className:"flex-1",children:"Back"}),d.jsx(Te,{onClick:nr,disabled:!qe||!Oe||Ke,className:"flex-1","data-testid":"button-header-setup-pico",children:Ke?"Setting up...":"Create Wallet"})]})]}),d.jsx(Ss,{className:"flex-col sm:flex-row gap-2",children:d.jsx(Te,{variant:"ghost",onClick:()=>P(!1),className:"w-full sm:w-auto",children:"Cancel"})})]})})]})}function o5(){const{isConnected:t,isUnlocked:e,hardwareState:r,hasWalletOnDevice:n,setShowPinModal:s,setPinAction:i,connectLedger:a,connectRaspberryPi:o,connectSimulated:c,unlockWallet:l,deriveWallets:u,isLoading:f,walletMode:h}=Yi(),{toast:m}=ki(),[v,x]=F.useState(!1),[k,E]=F.useState(!1),[P,_]=F.useState(!1),[M,B]=F.useState(""),[D,j]=F.useState(""),[T,R]=F.useState(""),[H,O]=F.useState(""),[b,w]=F.useState(!1);F.useState("soft_wallet");const[p,g]=F.useState("select-chains"),[S,N]=F.useState(()=>{const Je=new Set;return Ui.forEach((Pt,it)=>{["ETH","BTC","BNB","TRX"].includes(Pt.symbol)&&Je.add(`chain-${it}`)}),Je}),[I,A]=F.useState(24),[y,C]=F.useState(""),[$,L]=F.useState(!1),[Q,U]=F.useState(!1),[J,Z]=F.useState("create"),[re,G]=F.useState(""),[z,se]=F.useState(""),[ce,pe]=F.useState(""),[Ce,ke]=F.useState(""),[tt,mt]=F.useState(!1),[we,qe]=F.useState("choose"),[Ae,Oe]=F.useState(24),[We,Be]=F.useState(""),[ze,Ke]=F.useState(!1),[ct,Y]=F.useState(!1),[V,q]=F.useState("create"),[ne,le]=F.useState(""),[de,me]=F.useState(""),[rt,ht]=F.useState(""),[ot,pt]=F.useState(""),[Ct,St]=F.useState(!1),Rt=()=>{t?e||(i("unlock"),s(!0)):x(!0)},nr=async()=>{console.log("[HardwareStatusCard] handleConnectRaspberryPi() called");const Je=await o();console.log("[HardwareStatusCard] connectRaspberryPi result:",Je),Je.success?(x(!1),Je.hasWallet?(console.log("[HardwareStatusCard] EXISTING WALLET DETECTED - showing PIN unlock"),m({title:"Hard Wallet Connected",description:"Your hardware wallet is now connected. Please enter your PIN to unlock."}),i("unlock"),s(!0)):(console.log("[HardwareStatusCard] NEW DEVICE DETECTED - showing wallet setup dialog"),m({title:"Hard Wallet Connected",description:"This is a new device. Please set up your wallet."}),qe("choose"),q("create"),Oe(24),Be(""),Ke(!1),Y(!1),le(""),me(""),ht(""),pt(""),_(!0))):(console.log("[HardwareStatusCard] Connection failed:",Je.error),m({title:"Connection Failed",description:Je.error||"Failed to connect to hardware wallet",variant:"destructive"}))},De=()=>{try{let Je;if(Ae===12){const Pt=Hi(16);Je=mn.entropyToPhrase(Pt)}else{const Pt=Hi(32);Je=mn.entropyToPhrase(Pt)}Be(Je),qe("display")}catch{pt("Failed to generate seed phrase")}},He=()=>{try{let Je;if(I===12){const Pt=Hi(16);Je=mn.entropyToPhrase(Pt)}else{const Pt=Hi(32);Je=mn.entropyToPhrase(Pt)}C(Je),g("display")}catch{ke("Failed to generate seed phrase")}},gt=async()=>{try{await navigator.clipboard.writeText(y),U(!0),setTimeout(()=>U(!1),2e3)}catch{m({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},nt=async()=>{console.log("[HardwareStatusCard] handleSetupSoftWallet() called"),ke("");const Je=J==="create"?y:re;if(console.log("[HardwareStatusCard] Mode:",J,"Seed length:",(Je==null?void 0:Je.length)||0),!Je||Je.trim().length===0){ke("No recovery phrase found. Please go back and generate one.");return}const Pt=Je.trim().toLowerCase().split(/\s+/);if(console.log("[HardwareStatusCard] Word count:",Pt.length),Pt.length!==12&&Pt.length!==24){ke("Recovery phrase must be 12 or 24 words.");return}if(z.length!==5){ke("PIN must be 5 digits.");return}if(!/^\d+$/.test(z)){ke("PIN must contain only numbers.");return}if(z!==ce){ke("PINs do not match.");return}mt(!0);try{console.log("[HardwareStatusCard] Calling softWallet.setup()");const it=await Gr.setup(Pt.join(" "),z);if(console.log("[HardwareStatusCard] softWallet.setup() result:",it),it)console.log("[HardwareStatusCard] Creating wallets for selected chains:",Array.from(S)),await u(Array.from(S)),console.log("[HardwareStatusCard] deriveWallets() completed"),x(!1),g("select-chains"),C(""),G(""),se(""),pe(""),L(!1),m({title:"Wallet Created",description:"Your soft wallet has been set up successfully."});else{const Tt=Gr.getState().error;console.log("[HardwareStatusCard] Setup failed:",Tt),ke(Tt||"Failed to set up wallet.")}}catch(it){console.error("[HardwareStatusCard] Exception:",it),ke(it.message||"Failed to create wallet.")}finally{mt(!1)}},It=async()=>{try{await navigator.clipboard.writeText(We),Y(!0),setTimeout(()=>Y(!1),2e3)}catch{m({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},Ut=async()=>{O(""),console.log("[handleRecover] Starting recovery, walletMode:",h);const Je=M.trim().toLowerCase().split(/\s+/);if(Je.length!==12&&Je.length!==24){O("Recovery phrase must be 12 or 24 words.");return}if(h==="soft_wallet"){if(D.length!==5){O("PIN must be exactly 5 digits for soft wallet.");return}}else if(D.length<4||D.length>6){O("PIN must be 4-6 digits.");return}if(!/^\d+$/.test(D)){O("PIN must contain only numbers.");return}if(D!==T){O("PINs do not match.");return}w(!0);try{if(h==="soft_wallet"){console.log("[handleRecover] Using soft wallet import");const Pt=await Gr.setup(Je.join(" "),D);if(console.log("[handleRecover] Soft wallet setup result:",Pt),Pt){const it=await l(D);console.log("[handleRecover] Soft wallet unlock result:",it),it&&(await u(),E(!1),B(""),j(""),R(""),m({title:"Wallet Recovered",description:"Your wallet has been successfully restored from the recovery phrase."}))}else{const it=Gr.getState();O(it.error||"Failed to import wallet.")}}else{console.log("[handleRecover] Using hardware wallet import"),await ur.setPin(D);const Pt=await c(Je.join(" "));if(console.log("[handleRecover] Hardware wallet connect result:",Pt),Pt){const it=await l(D);console.log("[handleRecover] Hardware wallet unlock result:",it),it&&(await u(),E(!1),B(""),j(""),R(""),m({title:"Wallet Recovered",description:"Your wallet has been successfully restored from the recovery phrase."}))}else r.error&&O(r.error)}}catch(Pt){console.error("[handleRecover] Error:",Pt),O(Pt.message||"Failed to recover wallet.")}finally{w(!1)}},bt=async()=>{pt("");const Pt=(V==="create"?We:ne).trim().toLowerCase().split(/\s+/);if(Pt.length!==12&&Pt.length!==24){pt("Recovery phrase must be 12 or 24 words.");return}if(de.length<4||de.length>6){pt("PIN must be 4-6 digits.");return}if(!/^\d+$/.test(de)){pt("PIN must contain only numbers.");return}if(de!==rt){pt("PINs do not match.");return}St(!0);try{if(await ur.setupWallet(de,Pt.join(" "))){if(ur.setHasWalletOnDevice(!0),await l(de)){const X=[];Ui.forEach((ee,te)=>{["ETH","BTC","BNB","TRX"].includes(ee.symbol)&&X.push(`chain-${te}`)}),await u(X),_(!1),Be(""),le(""),me(""),ht(""),m({title:"Wallet Created",description:"Your Raspberry Pi wallet has been set up successfully."})}}else pt("Failed to set up wallet on device.")}catch(it){pt(it.message||"Failed to create wallet.")}finally{St(!1)}};return ur.isWebHIDSupported(),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-muted-foreground/30 bg-muted/20 p-8 text-center",children:[h==="hard_wallet"?d.jsxs("div",{className:"mb-4 relative h-52 w-40 flex flex-col items-center",children:[d.jsxs("div",{className:"relative w-24 h-40 rounded-3xl border-2 border-muted-foreground/30 bg-muted/20",children:[d.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-8 h-1.5 rounded-full bg-muted-foreground/20"}),d.jsx("div",{className:"absolute inset-2 top-5 bottom-6 rounded-2xl bg-background flex flex-col items-center justify-center p-3 border border-border/50",children:d.jsxs(NK.div,{className:"text-center flex flex-col items-center",animate:{opacity:[0,1,1,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",times:[.1,.14,.86,.9]},children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center mb-1.5",children:d.jsx($s,{className:"w-3.5 h-3.5 text-primary"})}),d.jsx("p",{className:"text-[10px] font-bold text-foreground leading-none tracking-tight",children:"VaultKey"}),d.jsxs("div",{className:"flex items-center gap-1 mt-1.5 px-2 py-0.5 rounded-full bg-green-500/10 border border-green-500/20",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),d.jsx("p",{className:"text-[7px] font-semibold text-green-600 dark:text-green-400 leading-none",children:"Connected"})]})]})}),d.jsx("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-6 h-1.5 rounded-full bg-muted-foreground/15"})]}),d.jsx(NK.div,{className:"-mt-1",animate:{y:[10,-2,-2,10]},transition:{duration:7,repeat:1/0,ease:"easeInOut",times:[0,.1,.9,1]},children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-3 h-1.5 bg-muted-foreground/40 rounded-t-sm"}),d.jsxs("div",{className:"w-8 h-12 bg-primary rounded-lg border-2 border-primary flex flex-col items-center justify-center gap-0.5 shadow-md",children:[d.jsx("div",{className:"w-4 h-0.5 bg-background/50 rounded-full"}),d.jsx("div",{className:"w-4 h-0.5 bg-background/50 rounded-full"}),d.jsx(fA,{className:"h-4 w-4 text-background/80 mt-0.5"})]})]})})]}):d.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:d.jsx($s,{className:"h-10 w-10 text-primary"})}),t?e?null:d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Wallet Locked"}),d.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:"Enter your PIN to unlock and access your wallet."}),d.jsxs(Te,{onClick:Rt,"data-testid":"button-unlock-wallet-card",children:[d.jsx(dA,{className:"mr-2 h-4 w-4"}),"Unlock Wallet"]})]}):d.jsxs(d.Fragment,{children:[h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Set Up Your Soft Wallet"}),d.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:"Generate a new recovery phrase to secure your wallet."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[d.jsxs(Te,{onClick:Rt,"data-testid":"button-setup-wallet",children:[h==="soft_wallet"?d.jsx(e6,{className:"mr-2 h-4 w-4"}):d.jsx(fA,{className:"mr-2 h-4 w-4"}),h==="soft_wallet"?"Create Wallet":"Connect Wallet"]}),h==="soft_wallet"&&d.jsxs(Te,{variant:"outline",onClick:()=>E(!0),"data-testid":"button-recover-wallet",children:[d.jsx(sre,{className:"mr-2 h-4 w-4"}),"Recover Wallet"]})]})]})]}),d.jsx(es,{open:v,onOpenChange:x,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:h==="soft_wallet"?"Set Up Soft Wallet":"Connect Your Wallet"}),d.jsx(Kn,{children:h==="soft_wallet"?"Generate a new recovery phrase to secure your wallet.":"Connect your hardware wallet device via USB."})]}),h==="hard_wallet"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your hardware wallet device via USB."}),d.jsxs("ol",{className:"text-sm text-muted-foreground list-decimal list-inside space-y-1",children:[d.jsx("li",{children:"Connect your hardware wallet via USB"}),d.jsx("li",{children:"Ensure the wallet software is running"}),d.jsx("li",{children:'Click "Connect Hard Wallet" below'})]}),d.jsx(Te,{className:"w-full",onClick:nr,disabled:f,"data-testid":"button-connect-hard-wallet",children:f?"Connecting...":"Connect Hard Wallet"})]}),h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[p==="select-chains"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which blockchain networks you want to use:"}),d.jsx(Zk,{className:"h-[300px] pr-4",children:d.jsx("div",{className:"space-y-2",children:Ui.map((Je,Pt)=>{const it=`chain-${Pt}`,Tt=S.has(it);return d.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${Tt?"border-primary bg-primary/5":"border-border hover-elevate"}`,onClick:()=>{const X=new Set(S);Tt?X.delete(it):X.add(it),N(X)},"data-testid":`chain-select-${Je.symbol}`,children:[d.jsx(yh,{checked:Tt,onCheckedChange:X=>{const ee=new Set(S);X?ee.add(it):ee.delete(it),N(ee)}}),d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[rfe(Je.symbol),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:Je.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:Je.symbol})]})]})]},it)})})}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[d.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.size," chain",S.size!==1?"s":""," selected"]}),d.jsx(Te,{onClick:()=>g("choose"),disabled:S.size===0,"data-testid":"button-continue-to-phrase",children:"Continue"})]})]}),p==="choose"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the number of words for your recovery phrase:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:I===12?"default":"outline",onClick:()=>A(12),className:"flex-1","data-testid":"button-card-12-words",children:"12 Words"}),d.jsx(Te,{variant:I===24?"default":"outline",onClick:()=>A(24),className:"flex-1","data-testid":"button-card-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:He,"data-testid":"button-card-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),p==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:y.split(" ").map((Je,Pt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[Pt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`card-word-${Pt+1}`,children:Je})]},Pt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:gt,"data-testid":"button-card-copy-seed",children:Q?d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yh,{id:"card-seed-confirmed",checked:$,onCheckedChange:Je=>L(Je===!0),"data-testid":"checkbox-card-seed-confirmed"}),d.jsx("label",{htmlFor:"card-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>g("confirm"),disabled:!$,"data-testid":"button-card-continue-to-confirm",children:"Continue"})]}),p==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsxs(hn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>g("display"),className:"flex-1","data-testid":"button-card-go-back",children:"Go Back"}),d.jsx(Te,{onClick:()=>g("pin"),className:"flex-1","data-testid":"button-card-continue-to-pin",children:"I Understand, Continue"})]})]}),p==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (5 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:z,onChange:Je=>{se(Je.target.value.replace(/\D/g,"")),ke("")},"data-testid":"input-card-wallet-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:ce,onChange:Je=>{pe(Je.target.value.replace(/\D/g,"")),ke("")},"data-testid":"input-card-wallet-confirm-pin"})]}),Ce&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:Ce})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>g(J==="create"?"confirm":"choose"),className:"flex-1","data-testid":"button-card-back",children:"Back"}),d.jsx(Te,{onClick:nt,disabled:!z||!ce||tt,className:"flex-1","data-testid":"button-card-wallet-create",children:tt?"Creating...":"Create Wallet"})]})]})]})]})}),d.jsx(es,{open:k,onOpenChange:E,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Recover Your Wallet"}),d.jsx(Kn,{children:"Enter your 12 or 24 word recovery phrase to restore your wallet."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Only enter your recovery phrase on trusted devices. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"seed-phrase",children:"Recovery Phrase"}),d.jsx("textarea",{id:"seed-phrase",className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"Enter your 12 or 24 word recovery phrase, separated by spaces",value:M,onChange:Je=>{B(Je.target.value),O("")},"data-testid":"input-recovery-phrase"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"new-pin",children:"New PIN (5 digits)"}),d.jsx(ir,{id:"new-pin",type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter new PIN",value:D,onChange:Je=>{const Pt=Je.target.value.replace(/\D/g,"");j(Pt),O("")},"data-testid":"input-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"confirm-pin",children:"Confirm PIN"}),d.jsx(ir,{id:"confirm-pin",type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm new PIN",value:T,onChange:Je=>{const Pt=Je.target.value.replace(/\D/g,"");R(Pt),O("")},"data-testid":"input-confirm-pin"})]}),H&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:H})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),d.jsx(Te,{onClick:Ut,disabled:!M.trim()||!D||!T||b,"data-testid":"button-confirm-recover",children:b?"Recovering...":"Recover Wallet"})]})]})}),d.jsx(es,{open:P,onOpenChange:_,children:d.jsxs(Hn,{className:"max-w-lg",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{children:[we==="choose"&&"Set Up New Wallet",we==="display"&&"Your Recovery Phrase",we==="confirm"&&"Confirm Backup",we==="pin"&&"Create Your PIN"]}),d.jsxs(Kn,{children:[we==="choose"&&"Create a new wallet or import an existing one",we==="display"&&"Write down these words in order and store them safely",we==="confirm"&&"Confirm that you have saved your recovery phrase",we==="pin"&&"Set a PIN to protect your wallet"]})]}),we==="choose"&&d.jsx("div",{className:"space-y-4",children:d.jsxs(a5,{value:V,onValueChange:Je=>q(Je),children:[d.jsxs(w2,{className:"grid w-full grid-cols-2",children:[d.jsxs(No,{value:"create","data-testid":"card-tab-create-new",children:[d.jsx(Nd,{className:"mr-2 h-4 w-4"}),"Create New"]}),d.jsxs(No,{value:"import","data-testid":"card-tab-import-existing",children:[d.jsx(ere,{className:"mr-2 h-4 w-4"}),"Import Existing"]})]}),d.jsxs(Eo,{value:"create",className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a new recovery phrase for your wallet. Choose the number of words:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:Ae===12?"default":"outline",onClick:()=>Oe(12),className:"flex-1","data-testid":"card-button-12-words",children:"12 Words"}),d.jsx(Te,{variant:Ae===24?"default":"outline",onClick:()=>Oe(24),className:"flex-1","data-testid":"card-button-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:De,"data-testid":"card-button-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),d.jsxs(Eo,{value:"import",className:"space-y-4 mt-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Only import a phrase you trust. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Recovery Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your recovery phrase, separated by spaces",value:ne,onChange:Je=>{le(Je.target.value),pt("")},"data-testid":"card-input-import-seed"})]}),ot&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:ot})]}),d.jsx(Te,{className:"w-full",onClick:()=>{const Je=ne.trim().toLowerCase().split(/\s+/);if(Je.length!==12&&Je.length!==24){pt("Recovery phrase must be 12 or 24 words.");return}qe("pin")},disabled:!ne.trim(),"data-testid":"card-button-continue-import",children:"Continue to PIN Setup"})]})]})}),we==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:We.split(" ").map((Je,Pt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[Pt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`card-word-${Pt+1}`,children:Je})]},Pt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:It,"data-testid":"card-button-copy-seed",children:ct?d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yh,{id:"card-seed-confirmed",checked:ze,onCheckedChange:Je=>Ke(Je===!0),"data-testid":"card-checkbox-seed-confirmed"}),d.jsx("label",{htmlFor:"card-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>qe("confirm"),disabled:!ze,"data-testid":"card-button-continue-to-confirm",children:"Continue"})]}),we==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsxs(hn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>qe("display"),className:"flex-1",children:"Go Back"}),d.jsx(Te,{onClick:()=>qe("pin"),className:"flex-1","data-testid":"card-button-continue-to-pin",children:"I Understand, Continue"})]})]}),we==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (4-6 digits) to protect your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (4-6 digits)"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Enter PIN",value:de,onChange:Je=>{me(Je.target.value.replace(/\D/g,"")),pt("")},"data-testid":"card-input-pico-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Confirm PIN",value:rt,onChange:Je=>{ht(Je.target.value.replace(/\D/g,"")),pt("")},"data-testid":"card-input-pico-confirm-pin"})]}),ot&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:ot})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>qe(V==="create"?"confirm":"choose"),className:"flex-1",children:"Back"}),d.jsx(Te,{onClick:bt,disabled:!de||!rt||Ct,className:"flex-1","data-testid":"button-setup-pico-wallet",children:Ct?"Setting up...":"Create Wallet"})]})]}),d.jsx(Ss,{children:d.jsx(Te,{variant:"ghost",onClick:()=>_(!1),children:"Cancel"})})]})})]})}function iWe(){const{isConnected:t,isUnlocked:e,hardwareState:r,disconnectDevice:n,setShowPinModal:s,setPinAction:i,connectRaspberryPi:a,connectSimulated:o,unlockWallet:c,deriveWallets:l,isLoading:u,hasSoftWalletSetup:f,walletMode:h,setWalletMode:m}=Yi(),{toast:v}=ki(),[x,k]=F.useState(!1),[E,P]=F.useState("soft_wallet"),[_,M]=F.useState(!1),[B,D]=F.useState(""),[j,T]=F.useState(""),[R,H]=F.useState(""),[O,b]=F.useState(""),[w,p]=F.useState(!1),g=async I=>{I!==h&&(P(I),k(!0))},S=async()=>{if(k(!1),await n(),E==="hard_wallet"){const I=await a();I.success?I.hasWallet?(i("unlock"),s(!0)):M(!0):v({title:"Connection Failed",description:I.error||"Could not connect to hardware wallet",variant:"destructive"})}else m("soft_wallet"),f?(i("unlock"),s(!0)):(D(""),T(""),H(""),b(""),M(!0))},N=async()=>{b("");const I=B.trim().toLowerCase().split(/\s+/);if(I.length!==12&&I.length!==24){b("Recovery phrase must be 12 or 24 words.");return}if(j.length<4||j.length>6||!/^\d+$/.test(j)){b("PIN must be 4-6 digits.");return}if(j!==R){b("PINs do not match.");return}p(!0);try{const{hardwareWallet:A}=await Km(async()=>{const{hardwareWallet:C}=await Promise.resolve().then(()=>kRe);return{hardwareWallet:C}},void 0);await A.setPin(j),await o(I.join(" "))&&await c(j)&&(await l(),M(!1),v({title:"Wallet Created",description:"Your soft wallet is ready."}))}catch(A){b(A.message||"Failed to create wallet.")}finally{p(!1)}};return!t||!e?null:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-lg bg-muted/50",children:[d.jsxs(Te,{size:"sm",variant:h==="hard_wallet"?"default":"ghost",onClick:()=>g("hard_wallet"),className:"gap-1.5",disabled:u,"data-testid":"button-mode-hard-wallet",children:[d.jsx(lA,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Hard Wallet"})]}),d.jsxs(Te,{size:"sm",variant:h==="soft_wallet"?"default":"ghost",onClick:()=>g("soft_wallet"),className:"gap-1.5",disabled:u,"data-testid":"button-mode-soft-wallet",children:[d.jsx(e6,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Soft Wallet"})]})]}),d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-sm",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Switch Wallet Mode"}),d.jsxs(Kn,{children:["Switching to ",E==="hard_wallet"?"Hard Wallet":"Soft Wallet"," will disconnect your current wallet. You'll need to set up or unlock the new wallet."]})]}),d.jsxs(Ss,{className:"gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),d.jsx(Te,{onClick:S,"data-testid":"button-confirm-switch",children:"Switch"})]})]})}),d.jsx(es,{open:_&&E==="soft_wallet",onOpenChange:M,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Set Up Soft Wallet"}),d.jsx(Kn,{children:"Enter a seed phrase to create your soft wallet."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(fn,{children:[d.jsx($s,{className:"h-4 w-4"}),d.jsx(hn,{children:"For testing only. Enter a seed phrase to simulate a hardware wallet."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Seed Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your seed phrase separated by spaces",value:B,onChange:I=>{D(I.target.value),b("")},"data-testid":"input-mode-seed-phrase"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:j,onChange:I=>{T(I.target.value.replace(/\D/g,"")),b("")},"data-testid":"input-mode-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ir,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:R,onChange:I=>{H(I.target.value.replace(/\D/g,"")),b("")},"data-testid":"input-mode-confirm-pin"})]}),O&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:O})]})]}),d.jsxs(Ss,{className:"gap-2",children:[d.jsx(Te,{variant:"ghost",onClick:()=>M(!1),children:"Cancel"}),d.jsx(Te,{onClick:N,disabled:!B.trim()||!j||!R||w,"data-testid":"button-create-soft-wallet",children:w?"Creating...":"Create Wallet"})]})]})})]})}var nfe="AlertDialog",[aWe,u6t]=Zi(nfe,[ine]),Vh=ine(),sfe=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vh(e);return d.jsx(QF,{...n,...r,modal:!0})};sfe.displayName=nfe;var oWe="AlertDialogTrigger",cWe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vh(r);return d.jsx(wne,{...s,...n,ref:e})});cWe.displayName=oWe;var lWe="AlertDialogPortal",ife=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vh(e);return d.jsx(YF,{...n,...r})};ife.displayName=lWe;var uWe="AlertDialogOverlay",afe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vh(r);return d.jsx(M4,{...s,...n,ref:e})});afe.displayName=uWe;var zy="AlertDialogContent",[dWe,fWe]=aWe(zy),hWe=kte("AlertDialogContent"),ofe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Vh(r),a=F.useRef(null),o=yr(e,a),c=F.useRef(null);return d.jsx(s5e,{contentName:zy,titleName:cfe,docsSlug:"alert-dialog",children:d.jsx(dWe,{scope:r,cancelRef:c,children:d.jsxs(O4,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:_t(s.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[d.jsx(hWe,{children:n}),d.jsx(mWe,{contentRef:a})]})})})});ofe.displayName=zy;var cfe="AlertDialogTitle",lfe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vh(r);return d.jsx(F4,{...s,...n,ref:e})});lfe.displayName=cfe;var ufe="AlertDialogDescription",dfe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vh(r);return d.jsx(B4,{...s,...n,ref:e})});dfe.displayName=ufe;var pWe="AlertDialogAction",ffe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vh(r);return d.jsx(zP,{...s,...n,ref:e})});ffe.displayName=pWe;var hfe="AlertDialogCancel",pfe=F.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=fWe(hfe,r),i=Vh(r),a=yr(e,s);return d.jsx(zP,{...i,...n,ref:a})});pfe.displayName=hfe;var mWe=({contentRef:t})=>{const e=`\`${zy}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zy}\` by passing a \`${ufe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zy}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return F.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},gWe=sfe,bWe=ife,mfe=afe,gfe=ofe,bfe=ffe,yfe=pfe,vfe=lfe,xfe=dfe;const yWe=gWe,vWe=bWe,wfe=F.forwardRef(({className:t,...e},r)=>d.jsx(mfe,{className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));wfe.displayName=mfe.displayName;const Afe=F.forwardRef(({className:t,...e},r)=>d.jsxs(vWe,{children:[d.jsx(wfe,{}),d.jsx(gfe,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Afe.displayName=gfe.displayName;const Sfe=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Sfe.displayName="AlertDialogHeader";const Pfe=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Pfe.displayName="AlertDialogFooter";const kfe=F.forwardRef(({className:t,...e},r)=>d.jsx(vfe,{ref:r,className:jt("text-lg font-semibold",t),...e}));kfe.displayName=vfe.displayName;const Ife=F.forwardRef(({className:t,...e},r)=>d.jsx(xfe,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Ife.displayName=xfe.displayName;const Nfe=F.forwardRef(({className:t,...e},r)=>d.jsx(bfe,{ref:r,className:jt(HF(),t),...e}));Nfe.displayName=bfe.displayName;const Efe=F.forwardRef(({className:t,...e},r)=>d.jsx(yfe,{ref:r,className:jt(HF({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Efe.displayName=yfe.displayName;const xWe={"chain-0":{evmChainId:1,type:"evm"},"chain-1":{evmChainId:0,type:"bitcoin"},"chain-2":{evmChainId:56,type:"evm"},"chain-3":{evmChainId:137,type:"evm"},"chain-4":{evmChainId:43114,type:"evm"},"chain-5":{evmChainId:42161,type:"evm"},"chain-6":{evmChainId:0,type:"bitcoin"},"chain-7":{evmChainId:0,type:"bitcoin"},"chain-8":{evmChainId:0,type:"tron"},"chain-9":{evmChainId:0,type:"bitcoin"},"chain-10":{evmChainId:0,type:"bitcoin"},"chain-11":{evmChainId:0,type:"solana"}},wWe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io"},AWe=["function transfer(address to, uint256 amount) returns (bool)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"];function nD(t){return xWe[t]||null}function SWe(t){return{"chain-0":"ETH","chain-1":"BTC","chain-2":"BNB","chain-3":"MATIC","chain-4":"AVAX","chain-5":"ARB","chain-6":"XRP","chain-7":"DOGE","chain-8":"TRX","chain-9":"LTC","chain-10":"BCH","chain-11":"SOL"}[t]||"ETH"}async function sD(t){const e=wWe[t];return e?new g2(e,t):null}async function PWe(t,e){try{const r=await sD(e);if(!r)return null;const[n,s,i]=await Promise.all([r.getFeeData().then(c=>c.gasPrice),r.getTransactionCount(t.from),r.getFeeData()]),a=GTe(t.amount),o={to:t.to,value:a,chainId:e,gasLimit:BigInt(21e3),nonce:s};return i.maxFeePerGas&&i.maxPriorityFeePerGas?(o.maxFeePerGas=i.maxFeePerGas,o.maxPriorityFeePerGas=i.maxPriorityFeePerGas):o.gasPrice=n||BigInt(2e10),o}catch(r){return console.error("Failed to build EVM native transaction:",r),null}}async function kWe(t,e){try{if(!t.tokenContractAddress)return console.error("Token contract address required for ERC20 transfer"),null;const r=await sD(e);if(!r)return null;const n=new mh(t.tokenContractAddress,AWe,r),s=t.decimals||await n.decimals(),i=cae(t.amount,s),a=n.interface.encodeFunctionData("transfer",[t.to,i]),[o,c,l]=await Promise.all([r.getFeeData().then(h=>h.gasPrice),r.getTransactionCount(t.from),r.getFeeData()]),u=await r.estimateGas({from:t.from,to:t.tokenContractAddress,data:a}),f={to:t.tokenContractAddress,value:BigInt(0),data:a,chainId:e,gasLimit:u*BigInt(12)/BigInt(10),nonce:c};return l.maxFeePerGas&&l.maxPriorityFeePerGas?(f.maxFeePerGas=l.maxFeePerGas,f.maxPriorityFeePerGas=l.maxPriorityFeePerGas):f.gasPrice=o||BigInt(2e10),f}catch(r){return console.error("Failed to build ERC20 transaction:",r),null}}async function IWe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e9));return{from:t.from,to:t.to,amount:t.amount,lamports:e}}catch(e){return console.error("Failed to build Solana transaction:",e),null}}async function NWe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e6));return{from:t.from,to:t.to,amount:t.amount,sunAmount:e}}catch(e){return console.error("Failed to build TRON transaction:",e),null}}async function EWe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e8));return{from:t.from,to:t.to,amount:t.amount,satoshis:e}}catch(e){return console.error("Failed to build Bitcoin transaction:",e),null}}async function _We(t){const e=nD(t.chainId);if(!e)return console.error("Unknown chain:",t.chainId),null;if(e.type==="evm")if(t.isNativeToken){const r=await PWe(t,e.evmChainId);return r?{tx:r,chainType:"evm",evmChainId:e.evmChainId}:null}else{const r=await kWe(t,e.evmChainId);return r?{tx:r,chainType:"evm",evmChainId:e.evmChainId}:null}if(e.type==="solana"){const r=await IWe(t);return r?{tx:null,chainType:"solana",evmChainId:0,solanaData:r}:null}if(e.type==="tron"){const r=await NWe(t);return r?{tx:null,chainType:"tron",evmChainId:0,tronData:r}:null}if(e.type==="bitcoin"){const r=await EWe(t);return r?{tx:null,chainType:"bitcoin",evmChainId:0,bitcoinData:r}:null}return null}async function CWe(t,e){try{const r=await sD(e);return r?{success:!0,txHash:(await r.broadcastTransaction(t)).hash}:{success:!1,error:`No RPC endpoint for chain ${e}`}}catch(r){return{success:!1,error:r.message||"Failed to broadcast transaction"}}}async function TWe(t){try{const r=await(await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[t,{encoding:"base64"}]})})).json();return r.error?{success:!1,error:r.error.message}:{success:!0,txHash:r.result}}catch(e){return{success:!1,error:e.message||"Failed to broadcast Solana transaction"}}}async function jWe(t){try{const r=await(await fetch("https://api.trongrid.io/wallet/broadcasttransaction",{method:"POST",headers:{"Content-Type":"application/json"},body:t})).json();return r.result?{success:!0,txHash:r.txid}:{success:!1,error:r.message||"Failed to broadcast TRON transaction"}}catch(e){return{success:!1,error:e.message||"Failed to broadcast TRON transaction"}}}async function $We(t,e,r){switch(e){case"evm":return r?CWe(t,r):{success:!1,error:"EVM chain ID required"};case"solana":return TWe(t);case"tron":return jWe(t);case"bitcoin":return{success:!1,error:"Bitcoin transactions not yet supported"};default:return{success:!1,error:"Unknown chain type"}}}const MWe={USDT:{"chain-0":{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",decimals:6},"chain-2":{address:"0x55d398326f99059fF775485246999027B3197955",decimals:18},"chain-3":{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",decimals:6},"chain-5":{address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",decimals:6}},USDC:{"chain-0":{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",decimals:6},"chain-2":{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",decimals:18},"chain-3":{address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",decimals:6},"chain-5":{address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",decimals:6}},WBTC:{"chain-0":{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",decimals:8}},LINK:{"chain-0":{address:"0x514910771AF9Ca656af840dff83E8264EcF986CA",decimals:18},"chain-2":{address:"0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD",decimals:18}},UNI:{"chain-0":{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",decimals:18}},SHIB:{"chain-0":{address:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",decimals:18}},STETH:{"chain-0":{address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:18}},AAVE:{"chain-0":{address:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",decimals:18}},MKR:{"chain-0":{address:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",decimals:18}},GRT:{"chain-0":{address:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",decimals:18}},DAI:{"chain-0":{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",decimals:18},"chain-2":{address:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",decimals:18}}};function OWe(t,e){const r=t.toUpperCase(),n=MWe[r];return n&&n[e]||null}function FWe(t){const e=nD(t);if(!e)return{supported:!1,type:"unknown",reason:"Unknown chain"};switch(e.type){case"evm":return{supported:!0,type:"evm",evmChainId:e.evmChainId};case"solana":return{supported:!0,type:"solana"};case"tron":return{supported:!0,type:"tron"};case"bitcoin":return{supported:!0,type:"bitcoin"};default:return{supported:!1,type:"unknown",reason:"Unknown chain type"}}}const BWe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc"},RWe={1:12,56:15,137:128,43114:12,42161:12};class DWe{constructor(){this.transactions=new Map,this.listeners=new Set,this.pollingIntervals=new Map}addTransaction(e){const r={...e,status:"pending",currentConfirmations:0,requiredConfirmations:e.evmChainId&&RWe[e.evmChainId]||12};this.transactions.set(e.id,r),this.notifyListeners(),this.startPolling(e.id)}async startPolling(e){const r=this.transactions.get(e);if(!r||!r.evmChainId)return;const n=BWe[r.evmChainId];if(!n){this.updateTransaction(e,{status:"confirmed"});return}const s=new g2(n);let i=0;const a=60,o=async()=>{try{const l=await s.getTransactionReceipt(r.txHash);if(l){if(l.status===0){this.updateTransaction(e,{status:"failed"}),this.stopPolling(e),setTimeout(()=>{this.removeTransaction(e)},1e4);return}const f=await s.getBlockNumber()-l.blockNumber+1,h=this.transactions.get(e);if(!h)return;if(f>=h.requiredConfirmations){this.updateTransaction(e,{status:"confirmed",currentConfirmations:f}),this.stopPolling(e),setTimeout(()=>{this.removeTransaction(e)},5e3);return}else this.updateTransaction(e,{status:"confirming",currentConfirmations:f})}else if(i++,i>=a){this.updateTransaction(e,{status:"failed"}),this.stopPolling(e);return}}catch(l){console.error("Error polling transaction:",l),i++,i>=a&&(this.updateTransaction(e,{status:"failed"}),this.stopPolling(e))}};o();const c=setInterval(o,3e3);this.pollingIntervals.set(e,c)}stopPolling(e){const r=this.pollingIntervals.get(e);r&&(clearInterval(r),this.pollingIntervals.delete(e))}updateTransaction(e,r){const n=this.transactions.get(e);n&&(this.transactions.set(e,{...n,...r}),this.notifyListeners())}removeTransaction(e){this.stopPolling(e),this.transactions.delete(e),this.notifyListeners()}getTransactions(){return Array.from(this.transactions.values())}getTransactionsForChain(e){return this.getTransactions().filter(r=>r.chainId===e)}subscribe(e){return this.listeners.add(e),e(this.getTransactions()),()=>this.listeners.delete(e)}notifyListeners(){const e=this.getTransactions();this.listeners.forEach(r=>r(e))}clear(){this.pollingIntervals.forEach((e,r)=>this.stopPolling(r)),this.transactions.clear(),this.notifyListeners()}}const _fe=new DWe;function UWe(){const{showPinModal:t,setShowPinModal:e,pinAction:r,setPinAction:n,hardwareState:s,walletMode:i,unlockWallet:a,deriveWallets:o,pendingTransaction:c,setPendingTransaction:l,disconnectDevice:u,refreshBalances:f}=Yi(),{toast:h}=ki(),[,m]=sf(),[v,x]=F.useState(""),[k,E]=F.useState(""),[P,_]=F.useState("enter"),[M,B]=F.useState(i==="soft_wallet"?5:6),[D,j]=F.useState(!1),[T,R]=F.useState(""),[H,O]=F.useState(!1),[b,w]=F.useState(!1),p=M;F.useEffect(()=>{t&&(x(""),E(""),_("enter"),R(""),j(!1))},[t]),F.useEffect(()=>{t||(x(""),E(""),R(""),j(!1))},[t]);const g=F.useCallback(L=>{R(""),P==="enter"&&v.length<p?x(Q=>Q+L):P==="confirm"&&k.length<p&&E(Q=>Q+L)},[P,v.length,k.length,p]),S=F.useCallback(()=>{P==="enter"?x(L=>L.slice(0,-1)):E(L=>L.slice(0,-1)),R("")},[P]),N=F.useCallback(()=>{P==="enter"?x(""):E(""),R("")},[P]),I=F.useCallback(async()=>{var L,Q;if(r==="unlock"||r==="sign"){if(v.length<4){R("PIN must be at least 4 digits");return}j(!0);try{if(await a(v)){if(await o(),r==="sign"&&c){const J=FWe(c.chainId);if(!J.supported){h({title:"Chain Not Supported",description:J.reason||"This chain is not yet supported for transactions",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const Z=J.evmChainId||1,re=i==="soft_wallet"?await Gr.getAddress(Z):await ur.getAddress(Z);if(!re){h({title:"Wallet Error",description:"Could not get wallet address",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const G=SWe(c.chainId);if(J.type==="bitcoin"||J.type==="solana"||J.type==="tron"){const se={chainType:J.type,from:re,to:c.toAddress,amount:c.amount,isNativeToken:c.isNativeToken??!0},ce=i==="soft_wallet"?await Gr.signNonEvmTransaction(se):await ur.signNonEvmTransaction(se);if(!ce){h({title:"Signing Failed",description:i==="soft_wallet"?"Could not sign the transaction":"Non-EVM signing is only supported in simulated hardware wallet mode",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const pe=await SRe(ce.chainType,ce.signedTx);if(pe.success){const ke={id:`tx-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,walletId:c.chainId,chainId:c.chainId,type:"send",status:"confirmed",amount:c.amount,tokenSymbol:c.tokenSymbol||G,toAddress:c.toAddress,fromAddress:re,txHash:pe.txHash||ce.txHash,timestamp:new Date().toISOString()};await At.saveTransaction(ke),h({title:"Transaction Sent",description:`Transaction broadcast successfully. Hash: ${(L=pe.txHash||ce.txHash)==null?void 0:L.slice(0,10)}...`}),dq(),f();const tt=c.isNativeToken?"native":c.tokenSymbol||"native";m(`/wallet/${c.chainId}/token/${tt}`)}else h({title:"Broadcast Failed",description:pe.error||"Failed to broadcast transaction",variant:"destructive"}),f()}else{let se=null;if(!c.isNativeToken&&c.tokenSymbol){const ke=OWe(c.tokenSymbol,c.chainId);ke?se={address:ke.address,decimals:ke.decimals}:c.tokenContractAddress&&(se={address:c.tokenContractAddress,decimals:18})}const ce={chainId:c.chainId,from:re,to:c.toAddress,amount:c.amount,tokenSymbol:c.tokenSymbol,tokenContractAddress:(se==null?void 0:se.address)||c.tokenContractAddress,isNativeToken:c.isNativeToken??!0,decimals:se==null?void 0:se.decimals},pe=await _We(ce);if(!pe){h({title:"Transaction Build Failed",description:"Could not build transaction. Please try again.",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}if(!pe.tx){h({title:"Transaction Error",description:"Could not build transaction data. Please try again.",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const Ce=i==="soft_wallet"?await Gr.signTransaction(pe.tx):await ur.signTransaction(pe.tx);if(Ce){const ke=await $We(Ce,pe.chainType,pe.evmChainId);if(ke.success){const tt=`tx-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,mt={id:tt,walletId:c.chainId,chainId:c.chainId,type:"send",status:"confirmed",amount:c.amount,tokenSymbol:c.tokenSymbol||G,toAddress:c.toAddress,fromAddress:re,txHash:ke.txHash,timestamp:new Date().toISOString()};await At.saveTransaction(mt);const we=nD(c.chainId);_fe.addTransaction({id:tt,txHash:ke.txHash||"",chainId:c.chainId,evmChainId:we==null?void 0:we.evmChainId,tokenSymbol:c.tokenSymbol||G,amount:c.amount,toAddress:c.toAddress,fromAddress:re,timestamp:new Date().toISOString()}),h({title:"Transaction Sent",description:`Transaction broadcast successfully. Hash: ${(Q=ke.txHash)==null?void 0:Q.slice(0,10)}...`}),dq(),f();const qe=c.isNativeToken?"native":c.tokenSymbol||"native";m(`/wallet/${c.chainId}/token/${qe}`)}else h({title:"Broadcast Failed",description:ke.error||"Failed to broadcast transaction",variant:"destructive"}),f()}else h({title:"Signing Failed",description:"Could not sign the transaction",variant:"destructive"}),f()}l(null)}else h({title:"Wallet Unlocked",description:"You can now access your wallet.",duration:2e3});e(!1),n(null)}else R("Incorrect PIN. Please try again."),x("")}catch(U){R(U.message||"Verification failed. Please try again."),x("")}finally{j(!1)}}},[r,v,a,o,c,l,e,n,h,f,i]);F.useEffect(()=>{if(t&&(r==="unlock"||r==="sign")&&v.length===p&&!D&&v!==""){const L=setTimeout(()=>{v.length===p&&I()},100);return()=>clearTimeout(L)}},[v,p,r,I,t,D]);const A=()=>r==="sign"?"Sign Transaction":"Enter Your PIN",y=()=>r==="sign"?"Enter your PIN to authorize this transaction":"Enter your PIN to unlock your wallet",C=async()=>{w(!0);try{await ai.factoryReset()?(await u(),e(!1),n(null),h({title:"Device Reset",description:"Your device has been reset. Reconnect to set up a new wallet."})):h({title:"Reset Not Supported",description:"Your device firmware doesn't support remote reset. Please reflash the firmware to reset.",variant:"destructive"})}catch{h({title:"Reset Failed",description:"Could not reset device. Please reflash the firmware manually.",variant:"destructive"})}finally{w(!1),O(!1)}},$=P==="enter"?v:k;return d.jsxs(es,{open:t,onOpenChange:L=>{!L&&!D&&(x(""),E(""),_("enter"),R(""),e(!1),n(null),l(null))},children:[d.jsxs(Hn,{className:"sm:max-w-md","data-testid":"pin-modal",children:[d.jsxs(Wn,{className:"text-center",children:[d.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:r==="sign"?d.jsx(Ewe,{className:"h-8 w-8 text-primary"}):d.jsx(hl,{className:"h-8 w-8 text-primary"})}),d.jsx(qn,{className:"text-xl font-semibold",children:A()}),d.jsx(Kn,{className:"text-muted-foreground",children:y()})]}),i==="hard_wallet"&&s.deviceName&&d.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Device: ",s.deviceName]}),i==="soft_wallet"&&d.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Soft Wallet"}),i==="hard_wallet"&&d.jsx("div",{className:"flex justify-center gap-2 py-2",children:[4,5,6].map(L=>d.jsxs(Te,{variant:M===L?"default":"outline",size:"sm",onClick:()=>{B(L),x("")},"data-testid":`button-pin-length-${L}`,children:[L," digits"]},L))}),d.jsx("div",{className:"flex justify-center gap-3 py-6",children:Array.from({length:p}).map((L,Q)=>d.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 transition-all ${Q<$.length?"border-primary bg-primary":"border-muted-foreground/30 bg-muted/30"}`,"data-testid":`pin-dot-${Q}`,children:Q<$.length&&d.jsx("div",{className:"h-3 w-3 rounded-full bg-primary-foreground"})},Q))}),T&&d.jsx("p",{className:"text-center text-sm text-destructive","data-testid":"pin-error",children:T}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 px-4",children:[[1,2,3,4,5,6,7,8,9].map(L=>d.jsx(Te,{variant:"outline",className:"h-14 text-xl font-semibold",onClick:()=>g(L.toString()),disabled:D,"data-testid":`button-pin-${L}`,children:L},L)),d.jsx(Te,{variant:"ghost",className:"h-14",onClick:N,disabled:D,"data-testid":"button-pin-clear",children:d.jsx(F1,{className:"h-5 w-5"})}),d.jsx(Te,{variant:"outline",className:"h-14 text-xl font-semibold",onClick:()=>g("0"),disabled:D,"data-testid":"button-pin-0",children:"0"}),d.jsx(Te,{variant:"ghost",className:"h-14",onClick:S,disabled:D,"data-testid":"button-pin-delete",children:d.jsx(Mwe,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[d.jsx($s,{className:"h-3 w-3"}),d.jsx("span",{children:"Secured by hardware encryption"})]}),i==="hard_wallet"&&s.type==="raspberry_pi"&&d.jsxs("div",{className:"mt-2 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Existing wallet detected on device"}),d.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>O(!0),disabled:D||b,className:"text-destructive","data-testid":"button-reset-device",children:[d.jsx(sre,{className:"h-3 w-3 mr-1"}),"Forgot PIN? Reset Device"]})]})]}),d.jsx(yWe,{open:H,onOpenChange:O,children:d.jsxs(Afe,{"data-testid":"reset-confirm-dialog",children:[d.jsxs(Sfe,{children:[d.jsxs(kfe,{className:"flex items-center gap-2",children:[d.jsx(dn,{className:"h-5 w-5 text-destructive"}),"Reset Device?"]}),d.jsx(Ife,{children:"This will attempt to erase all wallet data from your device. Your funds will be lost forever unless you have backed up your recovery phrase. This action cannot be undone."})]}),d.jsxs(Pfe,{children:[d.jsx(Efe,{disabled:b,"data-testid":"button-reset-cancel",children:"Cancel"}),d.jsx(Nfe,{onClick:C,disabled:b,className:"bg-destructive text-destructive-foreground","data-testid":"button-reset-confirm",children:b?"Resetting...":"Yes, Reset Device"})]})]})})]})}function zWe(){const[t]=sf(),{walletMode:e,setWalletMode:r}=Yi(),i=e==="soft_wallet"?[{label:"Chains",href:"/",icon:d.jsx(EF,{className:"h-5 w-5"})},{label:"DApps",href:"/dapps",icon:d.jsx(uA,{className:"h-5 w-5"})},{label:"Settings",href:"/settings",icon:d.jsx(t6,{className:"h-5 w-5"})}]:[{label:"Dashboard",href:"/",icon:d.jsx(tre,{className:"h-5 w-5"})},{label:"Accounts",href:"/chains",icon:d.jsx(Wwe,{className:"h-5 w-5"})},{label:"Settings",href:"/settings",icon:d.jsx(t6,{className:"h-5 w-5"})},{label:"Manage",href:"/manage-crypto",icon:d.jsx(ix,{className:"h-5 w-5"})}],a=o=>o==="/"?t==="/":t.startsWith(o);return d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background md:hidden",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 border-b border-border/50 px-4 py-2",children:[d.jsxs(Te,{variant:e==="hard_wallet"?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>r("hard_wallet"),"data-testid":"button-hard-wallet-mode",children:[d.jsx($s,{className:"h-4 w-4"}),"Hard Wallet"]}),d.jsxs(Te,{variant:e==="soft_wallet"?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>r("soft_wallet"),"data-testid":"button-soft-wallet-mode",children:[d.jsx(Py,{className:"h-4 w-4"}),"Soft Wallet"]})]}),d.jsx("nav",{className:"flex items-center justify-around px-2 py-2",children:i.map(o=>d.jsxs(dl,{href:o.href,className:jt("flex flex-col items-center gap-1 rounded-lg px-4 py-2 text-xs transition-colors",a(o.href)?"bg-primary/10 text-primary":"text-muted-foreground hover-elevate"),"data-testid":`nav-${o.label.toLowerCase()}`,children:[o.icon,d.jsx("span",{children:o.label})]},o.href))})]})}const Gt=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Gt.displayName="Card";const jn=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("flex flex-col space-y-1.5 p-6",t),...e}));jn.displayName="CardHeader";const $n=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-2xl font-semibold leading-none tracking-tight",t),...e}));$n.displayName="CardTitle";const Qg=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Qg.displayName="CardDescription";const er=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("p-6 pt-0",t),...e}));er.displayName="CardContent";const LWe=F.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("flex items-center p-6 pt-0",t),...e}));LWe.displayName="CardFooter";var VWe=[" ","Enter","ArrowUp","ArrowDown"],HWe=[" ","Enter"],c5="Select",[Jk,Qk,WWe]=IP(c5),[A2,d6t]=Zi(c5,[WWe,e2]),Yk=e2(),[qWe,um]=A2(c5),[KWe,XWe]=A2(c5),Cfe=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:h,required:m,form:v}=t,x=Yk(e),[k,E]=F.useState(null),[P,_]=F.useState(null),[M,B]=F.useState(!1),D=v2(l),[j=!1,T]=Iu({prop:n,defaultProp:s,onChange:i}),[R,H]=Iu({prop:a,defaultProp:o,onChange:c}),O=F.useRef(null),b=k?v||!!k.closest("form"):!0,[w,p]=F.useState(new Set),g=Array.from(w).map(S=>S.props.value).join(";");return d.jsx(DF,{...x,children:d.jsxs(qWe,{required:m,scope:e,trigger:k,onTriggerChange:E,valueNode:P,onValueNodeChange:_,valueNodeHasChildren:M,onValueNodeHasChildrenChange:B,contentId:Au(),value:R,onValueChange:H,open:j,onOpenChange:T,dir:D,triggerPointerDownPosRef:O,disabled:h,children:[d.jsx(Jk.Provider,{scope:e,children:d.jsx(KWe,{scope:t.__scopeSelect,onNativeOptionAdd:F.useCallback(S=>{p(N=>new Set(N).add(S))},[]),onNativeOptionRemove:F.useCallback(S=>{p(N=>{const I=new Set(N);return I.delete(S),I})},[]),children:r})}),b?d.jsxs(the,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:S=>H(S.target.value),disabled:h,form:v,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(w)]},g):null]})})};Cfe.displayName=c5;var Tfe="SelectTrigger",jfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Yk(r),a=um(Tfe,r),o=a.disabled||n,c=yr(e,a.onTriggerChange),l=Qk(r),u=F.useRef("touch"),[f,h,m]=rhe(x=>{const k=l().filter(_=>!_.disabled),E=k.find(_=>_.value===a.value),P=nhe(k,x,E);P!==void 0&&a.onValueChange(P.value)}),v=x=>{o||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(UF,{asChild:!0,...i,children:d.jsx(Qt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ehe(a.value)?"":void 0,...s,ref:c,onClick:_t(s.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&v(x)}),onPointerDown:_t(s.onPointerDown,x=>{u.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:_t(s.onKeyDown,x=>{const k=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(k&&x.key===" ")&&VWe.includes(x.key)&&(v(),x.preventDefault())})})})});jfe.displayName=Tfe;var $fe="SelectValue",Mfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=t,c=um($fe,r),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,f=yr(e,c.onValueNodeChange);return Xi(()=>{l(u)},[l,u]),d.jsx(Qt.span,{...o,ref:f,style:{pointerEvents:"none"},children:ehe(c.value)?d.jsx(d.Fragment,{children:a}):i})});Mfe.displayName=$fe;var ZWe="SelectIcon",Ofe=F.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return d.jsx(Qt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});Ofe.displayName=ZWe;var JWe="SelectPortal",Ffe=t=>d.jsx(C4,{asChild:!0,...t});Ffe.displayName=JWe;var P1="SelectContent",Bfe=F.forwardRef((t,e)=>{const r=um(P1,t.__scopeSelect),[n,s]=F.useState();if(Xi(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?M1.createPortal(d.jsx(Rfe,{scope:t.__scopeSelect,children:d.jsx(Jk.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(Dfe,{...t,ref:e})});Bfe.displayName=P1;var Jl=10,[Rfe,dm]=A2(P1),QWe="SelectContentImpl",YWe=c1("SelectContent.RemoveScroll"),Dfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:k,...E}=t,P=um(P1,r),[_,M]=F.useState(null),[B,D]=F.useState(null),j=yr(e,Z=>M(Z)),[T,R]=F.useState(null),[H,O]=F.useState(null),b=Qk(r),[w,p]=F.useState(!1),g=F.useRef(!1);F.useEffect(()=>{if(_)return qF(_)},[_]),WF();const S=F.useCallback(Z=>{const[re,...G]=b().map(ce=>ce.ref.current),[z]=G.slice(-1),se=document.activeElement;for(const ce of Z)if(ce===se||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===re&&B&&(B.scrollTop=0),ce===z&&B&&(B.scrollTop=B.scrollHeight),ce==null||ce.focus(),document.activeElement!==se))return},[b,B]),N=F.useCallback(()=>S([T,_]),[S,T,_]);F.useEffect(()=>{w&&N()},[w,N]);const{onOpenChange:I,triggerPointerDownPosRef:A}=P;F.useEffect(()=>{if(_){let Z={x:0,y:0};const re=z=>{var se,ce;Z={x:Math.abs(Math.round(z.pageX)-(((se=A.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(z.pageY)-(((ce=A.current)==null?void 0:ce.y)??0))}},G=z=>{Z.x<=10&&Z.y<=10?z.preventDefault():_.contains(z.target)||I(!1),document.removeEventListener("pointermove",re),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",G,{capture:!0})}}},[_,I,A]),F.useEffect(()=>{const Z=()=>I(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[I]);const[y,C]=rhe(Z=>{const re=b().filter(se=>!se.disabled),G=re.find(se=>se.ref.current===document.activeElement),z=nhe(re,Z,G);z&&setTimeout(()=>z.ref.current.focus())}),$=F.useCallback((Z,re,G)=>{const z=!g.current&&!G;(P.value!==void 0&&P.value===re||z)&&(R(Z),z&&(g.current=!0))},[P.value]),L=F.useCallback(()=>_==null?void 0:_.focus(),[_]),Q=F.useCallback((Z,re,G)=>{const z=!g.current&&!G;(P.value!==void 0&&P.value===re||z)&&O(Z)},[P.value]),U=n==="popper"?nM:Ufe,J=U===nM?{side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:k}:{};return d.jsx(Rfe,{scope:r,content:_,viewport:B,onViewportChange:D,itemRefCallback:$,selectedItem:T,onItemLeave:L,itemTextRefCallback:Q,focusSelectedItem:N,selectedItemText:H,position:n,isPositioned:w,searchRef:y,children:d.jsx(UP,{as:YWe,allowPinchZoom:!0,children:d.jsx(BP,{asChild:!0,trapped:P.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:_t(s,Z=>{var re;(re=P.trigger)==null||re.focus({preventScroll:!0}),Z.preventDefault()}),children:d.jsx(Jx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:d.jsx(U,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Z=>Z.preventDefault(),...E,...J,onPlaced:()=>p(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:_t(E.onKeyDown,Z=>{const re=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!re&&Z.key.length===1&&C(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let z=b().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const se=Z.target,ce=z.indexOf(se);z=z.slice(ce+1)}setTimeout(()=>S(z)),Z.preventDefault()}})})})})})})});Dfe.displayName=QWe;var GWe="SelectItemAlignedPosition",Ufe=F.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=um(P1,r),a=dm(P1,r),[o,c]=F.useState(null),[l,u]=F.useState(null),f=yr(e,j=>u(j)),h=Qk(r),m=F.useRef(!1),v=F.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:E,focusSelectedItem:P}=a,_=F.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&l&&x&&k&&E){const j=i.trigger.getBoundingClientRect(),T=l.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),H=E.getBoundingClientRect();if(i.dir!=="rtl"){const se=H.left-T.left,ce=R.left-se,pe=j.left-ce,Ce=j.width+pe,ke=Math.max(Ce,T.width),tt=window.innerWidth-Jl,mt=rM(ce,[Jl,Math.max(Jl,tt-ke)]);o.style.minWidth=Ce+"px",o.style.left=mt+"px"}else{const se=T.right-H.right,ce=window.innerWidth-R.right-se,pe=window.innerWidth-j.right-ce,Ce=j.width+pe,ke=Math.max(Ce,T.width),tt=window.innerWidth-Jl,mt=rM(ce,[Jl,Math.max(Jl,tt-ke)]);o.style.minWidth=Ce+"px",o.style.right=mt+"px"}const O=h(),b=window.innerHeight-Jl*2,w=x.scrollHeight,p=window.getComputedStyle(l),g=parseInt(p.borderTopWidth,10),S=parseInt(p.paddingTop,10),N=parseInt(p.borderBottomWidth,10),I=parseInt(p.paddingBottom,10),A=g+S+w+I+N,y=Math.min(k.offsetHeight*5,A),C=window.getComputedStyle(x),$=parseInt(C.paddingTop,10),L=parseInt(C.paddingBottom,10),Q=j.top+j.height/2-Jl,U=b-Q,J=k.offsetHeight/2,Z=k.offsetTop+J,re=g+S+Z,G=A-re;if(re<=Q){const se=O.length>0&&k===O[O.length-1].ref.current;o.style.bottom="0px";const ce=l.clientHeight-x.offsetTop-x.offsetHeight,pe=Math.max(U,J+(se?L:0)+ce+N),Ce=re+pe;o.style.height=Ce+"px"}else{const se=O.length>0&&k===O[0].ref.current;o.style.top="0px";const pe=Math.max(Q,g+x.offsetTop+(se?$:0)+J)+G;o.style.height=pe+"px",x.scrollTop=re-Q+x.offsetTop}o.style.margin=`${Jl}px 0`,o.style.minHeight=y+"px",o.style.maxHeight=b+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,l,x,k,E,i.dir,n]);Xi(()=>_(),[_]);const[M,B]=F.useState();Xi(()=>{l&&B(window.getComputedStyle(l).zIndex)},[l]);const D=F.useCallback(j=>{j&&v.current===!0&&(_(),P==null||P(),v.current=!1)},[_,P]);return d.jsx(tqe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:d.jsx(Qt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ufe.displayName=GWe;var eqe="SelectPopperPosition",nM=F.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Jl,...i}=t,a=Yk(r);return d.jsx(zF,{...a,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nM.displayName=eqe;var[tqe,iD]=A2(P1,{}),sM="SelectViewport",zfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=dm(sM,r),a=iD(sM,r),o=yr(e,i.onViewportChange),c=F.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(Jk.Slot,{scope:r,children:d.jsx(Qt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:_t(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const v=window.innerHeight-Jl*2,x=parseFloat(f.style.minHeight),k=parseFloat(f.style.height),E=Math.max(x,k);if(E<v){const P=E+m,_=Math.min(v,P),M=P-_;f.style.height=_+"px",f.style.bottom==="0px"&&(u.scrollTop=M>0?M:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});zfe.displayName=sM;var Lfe="SelectGroup",[rqe,nqe]=A2(Lfe),sqe=F.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Au();return d.jsx(rqe,{scope:r,id:s,children:d.jsx(Qt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});sqe.displayName=Lfe;var Vfe="SelectLabel",Hfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=nqe(Vfe,r);return d.jsx(Qt.div,{id:s.id,...n,ref:e})});Hfe.displayName=Vfe;var fS="SelectItem",[iqe,Wfe]=A2(fS),qfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=t,o=um(fS,r),c=dm(fS,r),l=o.value===n,[u,f]=F.useState(i??""),[h,m]=F.useState(!1),v=yr(e,P=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,P,n,s)}),x=Au(),k=F.useRef("touch"),E=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(iqe,{scope:r,value:n,disabled:s,textId:x,isSelected:l,onItemTextChange:F.useCallback(P=>{f(_=>_||((P==null?void 0:P.textContent)??"").trim())},[]),children:d.jsx(Jk.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:d.jsx(Qt.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:_t(a.onFocus,()=>m(!0)),onBlur:_t(a.onBlur,()=>m(!1)),onClick:_t(a.onClick,()=>{k.current!=="mouse"&&E()}),onPointerUp:_t(a.onPointerUp,()=>{k.current==="mouse"&&E()}),onPointerDown:_t(a.onPointerDown,P=>{k.current=P.pointerType}),onPointerMove:_t(a.onPointerMove,P=>{var _;k.current=P.pointerType,s?(_=c.onItemLeave)==null||_.call(c):k.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_t(a.onPointerLeave,P=>{var _;P.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:_t(a.onKeyDown,P=>{var M;((M=c.searchRef)==null?void 0:M.current)!==""&&P.key===" "||(HWe.includes(P.key)&&E(),P.key===" "&&P.preventDefault())})})})})});qfe.displayName=fS;var Zw="SelectItemText",Kfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,a=um(Zw,r),o=dm(Zw,r),c=Wfe(Zw,r),l=XWe(Zw,r),[u,f]=F.useState(null),h=yr(e,E=>f(E),c.onItemTextChange,E=>{var P;return(P=o.itemTextRefCallback)==null?void 0:P.call(o,E,c.value,c.disabled)}),m=u==null?void 0:u.textContent,v=F.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=l;return Xi(()=>(x(v),()=>k(v)),[x,k,v]),d.jsxs(d.Fragment,{children:[d.jsx(Qt.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?M1.createPortal(i.children,a.valueNode):null]})});Kfe.displayName=Zw;var Xfe="SelectItemIndicator",Zfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Wfe(Xfe,r).isSelected?d.jsx(Qt.span,{"aria-hidden":!0,...n,ref:e}):null});Zfe.displayName=Xfe;var iM="SelectScrollUpButton",Jfe=F.forwardRef((t,e)=>{const r=dm(iM,t.__scopeSelect),n=iD(iM,t.__scopeSelect),[s,i]=F.useState(!1),a=yr(e,n.onScrollButtonChange);return Xi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollTop>0;i(l)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?d.jsx(Yfe,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Jfe.displayName=iM;var aM="SelectScrollDownButton",Qfe=F.forwardRef((t,e)=>{const r=dm(aM,t.__scopeSelect),n=iD(aM,t.__scopeSelect),[s,i]=F.useState(!1),a=yr(e,n.onScrollButtonChange);return Xi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?d.jsx(Yfe,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Qfe.displayName=aM;var Yfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=dm("SelectScrollButton",r),a=F.useRef(null),o=Qk(r),c=F.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return F.useEffect(()=>()=>c(),[c]),Xi(()=>{var u;const l=o().find(f=>f.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),d.jsx(Qt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:_t(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:_t(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:_t(s.onPointerLeave,()=>{c()})})}),aqe="SelectSeparator",Gfe=F.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(Qt.div,{"aria-hidden":!0,...n,ref:e})});Gfe.displayName=aqe;var oM="SelectArrow",oqe=F.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Yk(r),i=um(oM,r),a=dm(oM,r);return i.open&&a.position==="popper"?d.jsx(LF,{...s,...n,ref:e}):null});oqe.displayName=oM;function ehe(t){return t===""||t===void 0}var the=F.forwardRef((t,e)=>{const{value:r,...n}=t,s=F.useRef(null),i=yr(e,s),a=Wk(r);return F.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&u){const f=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(f)}},[a,r]),d.jsx(T4,{asChild:!0,children:d.jsx("select",{...n,ref:i,defaultValue:r})})});the.displayName="BubbleSelect";function rhe(t){const e=ls(t),r=F.useRef(""),n=F.useRef(0),s=F.useCallback(a=>{const o=r.current+a;e(o),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),i=F.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function nhe(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=cqe(t,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function cqe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var lqe=Cfe,she=jfe,uqe=Mfe,dqe=Ofe,fqe=Ffe,ihe=Bfe,hqe=zfe,ahe=Hfe,ohe=qfe,pqe=Kfe,mqe=Zfe,che=Jfe,lhe=Qfe,uhe=Gfe;const k1=lqe,Ox=uqe,Jp=F.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(she,{ref:n,className:jt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(dqe,{asChild:!0,children:d.jsx(Qte,{className:"h-4 w-4 opacity-50"})})]}));Jp.displayName=she.displayName;const dhe=F.forwardRef(({className:t,...e},r)=>d.jsx(che,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(jwe,{className:"h-4 w-4"})}));dhe.displayName=che.displayName;const fhe=F.forwardRef(({className:t,...e},r)=>d.jsx(lhe,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Qte,{className:"h-4 w-4"})}));fhe.displayName=lhe.displayName;const Qp=F.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>d.jsx(fqe,{children:d.jsxs(ihe,{ref:s,className:jt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(dhe,{}),d.jsx(hqe,{className:jt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(fhe,{})]})}));Qp.displayName=ihe.displayName;const gqe=F.forwardRef(({className:t,...e},r)=>d.jsx(ahe,{ref:r,className:jt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gqe.displayName=ahe.displayName;const ll=F.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(ohe,{ref:n,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(mqe,{children:d.jsx(Ga,{className:"h-4 w-4"})})}),d.jsx(pqe,{children:e})]}));ll.displayName=ohe.displayName;const bqe=F.forwardRef(({className:t,...e},r)=>d.jsx(uhe,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",t),...e}));bqe.displayName=uhe.displayName;var aD="Radio",[yqe,hhe]=Zi(aD),[vqe,xqe]=yqe(aD),phe=F.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:c,form:l,...u}=t,[f,h]=F.useState(null),m=yr(e,k=>h(k)),v=F.useRef(!1),x=f?l||!!f.closest("form"):!0;return d.jsxs(vqe,{scope:r,checked:s,disabled:a,children:[d.jsx(Qt.button,{type:"button",role:"radio","aria-checked":s,"data-state":bhe(s),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:m,onClick:_t(t.onClick,k=>{s||c==null||c(),x&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})}),x&&d.jsx(wqe,{control:f,bubbles:!v.current,name:n,value:o,checked:s,required:i,disabled:a,form:l,style:{transform:"translateX(-100%)"}})]})});phe.displayName=aD;var mhe="RadioIndicator",ghe=F.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,i=xqe(mhe,r);return d.jsx(Ji,{present:n||i.checked,children:d.jsx(Qt.span,{"data-state":bhe(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});ghe.displayName=mhe;var wqe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=F.useRef(null),a=Wk(r),o=jP(e);return F.useEffect(()=>{const c=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bhe(t){return t?"checked":"unchecked"}var Aqe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oD="RadioGroup",[Sqe,f6t]=Zi(oD,[x2,hhe]),yhe=x2(),vhe=hhe(),[Pqe,kqe]=Sqe(oD),xhe=F.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:c,dir:l,loop:u=!0,onValueChange:f,...h}=t,m=yhe(r),v=v2(l),[x,k]=Iu({prop:i,defaultProp:s,onChange:f});return d.jsx(Pqe,{scope:r,name:n,required:a,disabled:o,value:x,onValueChange:k,children:d.jsx(ZR,{asChild:!0,...m,orientation:c,dir:v,loop:u,children:d.jsx(Qt.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":o?"":void 0,dir:v,...h,ref:e})})})});xhe.displayName=oD;var whe="RadioGroupItem",Ahe=F.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,i=kqe(whe,r),a=i.disabled||n,o=yhe(r),c=vhe(r),l=F.useRef(null),u=yr(e,l),f=i.value===s.value,h=F.useRef(!1);return F.useEffect(()=>{const m=x=>{Aqe.includes(x.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),d.jsx(JR,{asChild:!0,...o,focusable:!a,active:f,children:d.jsx(phe,{disabled:a,required:i.required,checked:f,...c,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:_t(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:_t(s.onFocus,()=>{var m;h.current&&((m=l.current)==null||m.click())})})})});Ahe.displayName=whe;var Iqe="RadioGroupIndicator",She=F.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=vhe(r);return d.jsx(ghe,{...s,...n,ref:e})});She.displayName=Iqe;var Phe=xhe,khe=Ahe,Nqe=She;const cD=F.forwardRef(({className:t,...e},r)=>d.jsx(Phe,{className:jt("grid gap-2",t),...e,ref:r}));cD.displayName=Phe.displayName;const hS=F.forwardRef(({className:t,...e},r)=>d.jsx(khe,{ref:r,className:jt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(Nqe,{className:"flex items-center justify-center",children:d.jsx(Gte,{className:"h-2.5 w-2.5 fill-current text-current"})})}));hS.displayName=khe.displayName;const Lm=gR;function Ihe(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:""}const Vs="https://cdn.jsdelivr.net/npm/cryptocurrency-icons@0.16.1/128/color",wf="https://assets.coingecko.com/coins/images",n9={bitcoin:`${Vs}/btc.png`,ethereum:`${Vs}/eth.png`,tether:`${Vs}/usdt.png`,binancecoin:`${Vs}/bnb.png`,solana:`${wf}/4128/small/solana.png`,"usd-coin":`${Vs}/usdc.png`,ripple:`${Vs}/xrp.png`,"staked-ether":`${wf}/13442/small/steth_logo.png`,dogecoin:`${Vs}/doge.png`,cardano:`${Vs}/ada.png`,tron:`${Vs}/trx.png`,"avalanche-2":`${wf}/12559/small/Avalanche_Circle_RedWhite_Trans.png`,"shiba-inu":`${wf}/11939/small/shiba.png`,chainlink:`${wf}/877/small/chainlink-new-logo.png`,"wrapped-bitcoin":`${wf}/7598/small/wrapped_bitcoin_wbtc.png`,polkadot:`${wf}/12171/small/polkadot.png`,"bitcoin-cash":`${Vs}/bch.png`,"matic-network":`${Vs}/matic.png`,litecoin:`${Vs}/ltc.png`,uniswap:`${wf}/12504/small/uniswap.png`,cosmos:`${Vs}/atom.png`,osmosis:`${wf}/16724/small/osmo.png`},w_={CAKE:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png",TWT:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png",BABY:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png",XVS:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png",USDT:`${Vs}/usdt.png`,USDC:`${Vs}/usdc.png`,BTC:`${Vs}/btc.png`,ETH:`${Vs}/eth.png`,BNB:`${Vs}/bnb.png`,SOL:"https://assets-cdn.trustwallet.com/blockchains/solana/info/logo.png",DOGE:`${Vs}/doge.png`},Eqe={"tether-bsc":"tether","tether-tron":"tether","tether-ethereum":"tether","usd-coin-bsc":"usd-coin","usd-coin-ethereum":"usd-coin","usd-coin-solana":"usd-coin","staked-ether-ethereum":"staked-ether"};function pS(t,e){if(e&&e.trim())return e;if(n9[t])return n9[t];const r=Eqe[t];if(r&&n9[r])return n9[r];const n=Fd.find(s=>s.id===t);if(n!=null&&n.image&&n.image.trim())return n.image}function s9(t){if(console.log("[ICON_DEBUG] Looking for icon for token:",t.symbol,"stored image:",t.image),t.image&&typeof t.image=="string"&&t.image.trim())return console.log(`[ICON_DEBUG]  Found stored image for ${t.symbol}:`,t.image),t.image;const e=t.symbol.toUpperCase().trim();if(console.log(`[ICON_DEBUG] Checking CUSTOM_TOKEN_LOGOS for symbol: "${e}"`),w_[e])return console.log(`[ICON_DEBUG]  Found in CUSTOM_TOKEN_LOGOS for ${e}:`,w_[e]),w_[e];const r=Fd.find(n=>n.symbol.toUpperCase().trim()===e);if(r!=null&&r.image&&r.image.trim())return console.log(`[ICON_DEBUG]  Found in FALLBACK_TOP_ASSETS for ${e}:`,r.image),r.image;console.log(`[ICON_DEBUG]  NO ICON found for symbol: "${e}"`)}function _qe({asset:t,wallet:e,chain:r,prices:n,tokenBalance:s}){const{toast:i}=ki();sf();const a=e&&r,o=Zg[t.id],c=!!o,l=c?t.symbol.toUpperCase():(r==null?void 0:r.symbol)||t.symbol.toUpperCase(),u=c&&s?s:a?e.balance:"0",h=parseFloat(u)*(t.currentPrice||0),m=k=>{k.preventDefault(),k.stopPropagation(),e&&(navigator.clipboard.writeText(e.address),i({title:"Address Copied",description:"Wallet address copied to clipboard."}))},v=k=>{k.preventDefault(),k.stopPropagation(),r&&e&&window.open(`${r.blockExplorer}/address/${e.address}`,"_blank")},x=d.jsx(Gt,{className:"hover-elevate cursor-pointer transition-all h-full","data-testid":`card-asset-${t.id}`,children:d.jsxs(er,{className:"p-3 sm:p-4 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[pS(t.id,t.image)?d.jsx("img",{src:pS(t.id,t.image),alt:t.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:k=>{k.target.style.display="none"}}):r?d.jsx(Yn,{symbol:r.symbol,iconColor:r.iconColor,size:"md"}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted shrink-0"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold truncate",children:t.name}),d.jsxs("span",{className:`text-xs font-medium shrink-0 ${t.priceChangePercentage24h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[t.priceChangePercentage24h>=0?"+":"",t.priceChangePercentage24h.toFixed(1),"%"]})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.symbol.toUpperCase(),o&&d.jsxs("span",{className:"ml-1 opacity-70",children:["on ",o]})]})]})]}),d.jsx("div",{className:"text-right shrink-0",children:a?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold","data-testid":`text-value-${t.id}`,children:xd(h)}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lm(u)," ",l]})]}):d.jsx("p",{className:"text-sm text-muted-foreground",children:xd(t.currentPrice)})})]}),a&&d.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[d.jsx("code",{className:"text-xs font-mono text-muted-foreground",children:Ihe(e.address)}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Te,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:m,"data-testid":`button-copy-${t.id}`,children:d.jsx(Oo,{className:"h-3 w-3"})}),r.blockExplorer&&d.jsx(Te,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:v,"data-testid":`button-explorer-${t.id}`,children:d.jsx(ax,{className:"h-3 w-3"})})]})]})]})});if(a){const k=c?`/wallet/${r.id}/token/${t.id}`:`/wallet/${r.id}/token/native`;return d.jsx(dl,{href:k,children:x})}return x}function Cqe(){const{isConnected:t,isUnlocked:e,chains:r,wallets:n,refreshBalances:s,refreshWalletBalance:i,topAssets:a,enabledAssetIds:o,isLoadingAssets:c,refreshTopAssets:l,createAdditionalWallet:u,createWalletWithNewSeed:f,walletMode:h,isLoading:m,selectedAccountIndex:v,setSelectedAccountIndex:x,availableAccounts:k,visibleWallets:E,customTokens:P,balanceCacheStatus:_,hasSoftWalletSetup:M,hasHardWalletSetup:B,tokenBalances:D,customTokenBalances:j}=Yi(),{toast:T}=ki(),[,R]=sf(),H=lte(),O=new URLSearchParams(H),b=O.get("chain"),w=O.get("wallet"),[p,g]=F.useState({}),[S,N]=F.useState(!1),[I,A]=F.useState(""),[y,C]=F.useState(!1),[$,L]=F.useState(""),[Q,U]=F.useState("derive"),[J,Z]=F.useState(""),[re,G]=F.useState(!1),[z,se]=F.useState(""),[ce,pe]=F.useState(!1),[Ce,ke]=F.useState(!0),[tt,mt]=F.useState("chains"),[we,qe]=F.useState(null),[Ae,Oe]=F.useState(null);F.useEffect(()=>{if(!(r.length===0||E.length===0)&&b){const ae=r.find(ye=>ye.id===b);if(ae)if(qe(ae),w){const ye=E.find(Le=>Le.id===w);ye?(Oe(ye),mt("tokens")):mt("wallets")}else mt("wallets")}},[b,w,r,E]);const[We,Be]=F.useState(!1);F.useState(null);const[ze,Ke]=F.useState(!1),[ct,Y]=F.useState(new Set),[V,q]=F.useState(!1),[ne,le]=F.useState({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""});F.useEffect(()=>{Dy().then(g);const ae=setInterval(()=>{Dy().then(g)},5e3);return()=>clearInterval(ae)},[]),F.useEffect(()=>{if(n.length===0)return;const ae=setInterval(()=>{Ae&&tt==="tokens"?i(Ae.id):s()},5e3);return()=>clearInterval(ae)},[n.length,s,i,Ae,tt]);const de=r,me=E,rt=a.filter(ae=>o.has(ae.id)),ht=ae=>{const ye=Cx[ae.id];if(ye){const ut=de.find(Se=>Se.symbol===ye);return ut?{wallet:me.find(Se=>Se.chainId===ut.id),chain:ut}:{}}const Le=Bb[ae.id];if(!Le)return{};const Re=de.find(ut=>ut.symbol===Le);return Re?{wallet:me.find(ut=>ut.chainId===Re.id),chain:Re}:{}},ot=ae=>{const ye=Cx[ae.id];if(ye){const Le=de.find(Re=>Re.symbol===ye);return Le?me.some(Re=>Re.chainId===Le.id):!1}else{const{wallet:Le}=ht(ae);return!!Le}},St=[...[...rt.filter(ae=>{if(e&&me.length>0&&!ot(ae))return!1;if(!I.trim())return!0;const ye=I.toLowerCase();return ae.name.toLowerCase().includes(ye)||ae.symbol.toLowerCase().includes(ye)})].sort((ae,ye)=>{const Le=ht(ae),Re=ht(ye),Mt=qw(ae.id),ut=qw(ye.id),Ot=Mt&&D[ae.id]?parseFloat(D[ae.id])*(ae.currentPrice||0):Le.wallet&&Le.chain?xf(Le.wallet.balance,Le.chain.symbol,p):0,Se=ut&&D[ye.id]?parseFloat(D[ye.id])*(ye.currentPrice||0):Re.wallet&&Re.chain?xf(Re.wallet.balance,Re.chain.symbol,p):0;return Se!==Ot?Se-Ot:(ae.marketCapRank||999)-(ye.marketCapRank||999)})];if(Ae&&tt==="tokens"){const ae=P.filter(ye=>ye.walletId===Ae.id&&ye.chainId===(we==null?void 0:we.symbol));St.push(...ae)}else St.push(...P);const Rt=[...St].sort((ae,ye)=>{var Ot,Se;const Le="walletId"in ae,Re="walletId"in ye;let Mt=0,ut=0;if(Le){const be=ae;Mt=parseFloat(j[be.id]||"0")*(((Ot=a.find(Ee=>Ee.symbol.toUpperCase()===be.symbol.toUpperCase()))==null?void 0:Ot.currentPrice)||0)}else{const be=ae,Ee=ht(be);Mt=qw(be.id)&&D[be.id]?parseFloat(D[be.id])*(be.currentPrice||0):Ee.wallet&&Ee.chain?xf(Ee.wallet.balance,Ee.chain.symbol,p):0}if(Re){const be=ye;ut=parseFloat(j[be.id]||"0")*(((Se=a.find(Ee=>Ee.symbol.toUpperCase()===be.symbol.toUpperCase()))==null?void 0:Se.currentPrice)||0)}else{const be=ye,Ee=ht(be);ut=qw(be.id)&&D[be.id]?parseFloat(D[be.id])*(be.currentPrice||0):Ee.wallet&&Ee.chain?xf(Ee.wallet.balance,Ee.chain.symbol,p):0}return ut-Mt}),nr=me.reduce((ae,ye)=>{const Le=de.find(Re=>Re.id===ye.chainId);return Le?ae+xf(ye.balance,Le.symbol,p):ae},0),De=Object.entries(D).reduce((ae,[ye,Le])=>{const Re=a.find(Mt=>Mt.id===ye);return Re?ae+parseFloat(Le)*(Re.currentPrice||0):ae},0),He=nr+De,gt=me.length>0,nt=F.useMemo(()=>{const ae=new Set(n.map(ye=>ye.chainId));return de.filter(ye=>ae.has(ye.id))},[de,n]),It=F.useMemo(()=>{const ae=new Set(n.map(ye=>ye.chainId));return de.filter(ye=>!ae.has(ye.id))},[de,n]),Ut=ae=>n.filter(Le=>Le.chainId===ae.id).reduce((Le,Re)=>Le+xf(Re.balance,ae.symbol,p),0),bt=F.useMemo(()=>we?n.filter(ae=>ae.chainId===we.id):[],[we,n]),Je=F.useMemo(()=>{if(!Ae||!we)return[];const ae=a.find(Re=>Bb[Re.id]===we.symbol&&!Zg[Re.id]),ye=a.filter(Re=>Bb[Re.id]===we.symbol&&Zg[Re.id]&&o.has(Re.id)),Le=[];return ae&&Le.push(ae),Le.push(...ye),Le},[Ae,we,a,o]),Pt=F.useMemo(()=>{if(!Ae||!we)return 0;const ae=xf(Ae.balance,we.symbol,p),ye=Object.entries(D).reduce((Le,[Re,Mt])=>{const ut=a.find(Se=>Se.id===Re);return!ut||Bb[Re]!==we.symbol?Le:Le+parseFloat(Mt)*(ut.currentPrice||0)},0);return ae+ye},[Ae,we,p,D,a]);F.useMemo(()=>{if(!we)return 0;const ae=Ut(we),ye=Object.entries(D).reduce((Le,[Re,Mt])=>{const ut=a.find(Se=>Se.id===Re);return!ut||Bb[Re]!==we.symbol?Le:Le+parseFloat(Mt)*(ut.currentPrice||0)},0);return ae+ye},[we,p,D,a,n]);const it=async()=>{N(!0);try{await Promise.all([s(),l(),Dy().then(g)]),T({title:"Refreshed",description:"Balances and prices updated"})}finally{N(!1)}},Tt=async()=>{try{if(Q==="derive")await u($||void 0,we==null?void 0:we.id),C(!1),L(""),U("derive"),T({title:"Wallet Created",description:`New ${(we==null?void 0:we.name)||""} wallet has been created successfully`});else{if(!J||J.length<4){T({title:"Error",description:"Please enter a PIN with at least 4 characters",variant:"destructive"});return}const ae=await f($||void 0,J);se(ae.seedPhrase),C(!1),G(!0),L(""),Z(""),U("derive")}}catch(ae){const ye=(ae==null?void 0:ae.message)||"Failed to create new wallet";T({title:"Error",description:ye,variant:"destructive"})}},X=ae=>{Oe(ae),mt("tokens")},ee=()=>{tt==="tokens"?(Oe(null),mt("wallets")):tt==="wallets"&&(qe(null),Oe(null),mt("chains"))},te=ae=>{V||Y(ye=>{const Le=new Set(ye);return Le.has(ae)?Le.delete(ae):Le.add(ae),Le})},W=async()=>{if(ct.size!==0){if(!e){T({title:"Wallet Locked",description:"Please unlock your wallet first to add new networks.",variant:"destructive"});return}q(!0);try{const ae=Array.from(ct),ye=[],Le=[];for(const Re of ae)try{await u(void 0,Re),ye.push(Re)}catch{Le.push(Re)}if(ye.length>0&&(Y(Re=>{const Mt=new Set(Re);return ye.forEach(ut=>Mt.delete(ut)),Mt}),navigator.vibrate&&navigator.vibrate([50,30,50]),T({title:"Chains Added",description:`${ye.length} chain${ye.length>1?"s have":" has"} been added to your wallet.`})),Le.length>0){const Re=Le.map(Mt=>{var ut;return(ut=de.find(Ot=>Ot.id===Mt))==null?void 0:ut.name}).filter(Boolean).join(", ");navigator.vibrate&&navigator.vibrate([100,50,100]),T({title:"Some Chains Failed",description:`Failed to add: ${Re}. They remain selected for retry.`,variant:"destructive"})}}catch(ae){navigator.vibrate&&navigator.vibrate([100,50,100]),T({title:"Error",description:(ae==null?void 0:ae.message)||"Failed to add chains",variant:"destructive"})}finally{q(!1)}}},ie=async()=>{try{T({title:"Coming Soon",description:"Custom chain support will be available in a future update."}),Ke(!1),le({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""})}catch(ae){T({title:"Error",description:(ae==null?void 0:ae.message)||"Failed to add custom chain",variant:"destructive"})}};return(h==="hard_wallet"?!t:!gt&&!(h==="soft_wallet"?M:B))?d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"mb-4 md:mb-6 text-2xl md:text-3xl font-bold",children:"Dashboard"}),d.jsx(o5,{})]}):h==="soft_wallet"?d.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[tt!=="chains"&&d.jsxs("div",{className:"shrink-0 bg-background",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:ee,className:"text-muted-foreground hover:text-foreground","data-testid":"button-back",children:d.jsx(Twe,{className:"h-5 w-5"})}),d.jsxs("span",{className:"font-semibold",children:[tt==="wallets"&&`${we==null?void 0:we.name}`,tt==="tokens"&&`${we==null?void 0:we.name} Wallet`]})]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:it,disabled:S||_.isRefreshing,"data-testid":"button-refresh-portfolio",children:d.jsx(l1,{className:`h-4 w-4 ${S||_.isRefreshing?"animate-spin":""}`})})]}),tt!=="tokens"&&d.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-2 bg-muted/40 text-sm border-y",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("button",{onClick:()=>{mt("chains"),qe(null),Oe(null)},className:"text-muted-foreground hover:text-foreground","data-testid":"breadcrumb-chains",children:"Chains"}),we&&d.jsxs(d.Fragment,{children:[d.jsx(gp,{className:"h-4 w-4 text-muted-foreground shrink-0"}),tt==="tokens"?d.jsxs(k1,{value:we.id,onValueChange:ae=>{const ye=nt.find(Le=>Le.id===ae);ye&&(qe(ye),Oe(null),mt("wallets"))},children:[d.jsx(Jp,{className:"h-auto text-sm border-0 bg-transparent px-0 py-0 gap-1 w-auto","data-testid":"select-chain-dropdown",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"sm"}),d.jsx("span",{children:we.name})]})}),d.jsx(Qp,{children:nt.map(ae=>d.jsx(ll,{value:ae.id,"data-testid":`select-chain-option-${ae.symbol}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"sm"}),d.jsx("span",{children:ae.name})]})},ae.id))})]}):d.jsxs("button",{onClick:()=>{mt("wallets"),Oe(null)},className:`flex items-center gap-2 ${tt==="wallets"?"font-medium text-foreground":"text-muted-foreground hover:text-foreground"}`,"data-testid":"breadcrumb-wallets",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"sm"}),we.name]})]}),Ae&&d.jsxs(d.Fragment,{children:[d.jsx(gp,{className:"h-4 w-4 text-muted-foreground shrink-0"}),d.jsx("span",{className:"font-medium text-foreground","data-testid":"breadcrumb-tokens",children:"Tokens"})]})]}),tt==="wallets"&&we&&d.jsxs(es,{open:y,onOpenChange:C,children:[d.jsx(Uy,{asChild:!0,children:d.jsxs(Te,{size:"sm",className:"gap-2 flex-shrink-0","data-testid":"button-create-chain-wallet",children:[d.jsx(Nd,{className:"h-4 w-4"}),d.jsx("span",{children:"Add Wallet"})]})}),d.jsxs(Hn,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[d.jsxs(Wn,{className:"pb-2",children:[d.jsxs(qn,{className:"text-base",children:["Create ",we.name," Wallet"]}),d.jsxs(Kn,{className:"text-xs",children:["Create a new wallet for ",we.name,"."]})]}),d.jsxs("div",{className:"py-2 space-y-3",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"wallet-label",className:"text-sm",children:"Wallet Label (optional)"}),d.jsx(ir,{id:"wallet-label",placeholder:"e.g., Savings, Trading, DeFi",value:$,onChange:ae=>L(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-wallet-label"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{className:"text-sm",children:"Wallet Type"}),d.jsxs(cD,{value:Q,onValueChange:ae=>U(ae),className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 rounded-md border",children:[d.jsx(hS,{value:"derive",id:"derive",className:"mt-0.5","data-testid":"radio-derive"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(Zt,{htmlFor:"derive",className:"text-sm font-medium cursor-pointer",children:"Derive from existing seed"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Uses your main seed phrase with a new account index."})]})]}),d.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 rounded-md border",children:[d.jsx(hS,{value:"new-seed",id:"new-seed",className:"mt-0.5","data-testid":"radio-new-seed"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(Zt,{htmlFor:"new-seed",className:"text-sm font-medium cursor-pointer",children:"Generate new seed phrase"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Creates a completely independent wallet with its own seed phrase."})]})]})]}),Q==="new-seed"&&d.jsxs("div",{className:"space-y-3 pt-2 border-t mt-3",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"seed-wallet-name",className:"text-sm",children:"Wallet Name"}),d.jsx(ir,{id:"seed-wallet-name",placeholder:"e.g., My Savings Wallet",value:$,onChange:ae=>L(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-seed-wallet-name"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"seed-pin",className:"text-sm",children:"PIN for new seed (min 4 characters)"}),d.jsx(ir,{id:"seed-pin",type:"password",placeholder:"Enter PIN to encrypt new seed",value:J,onChange:ae=>Z(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-seed-pin"})]})]})]})]}),d.jsxs(Ss,{className:"flex-col sm:flex-row gap-2 pt-2",children:[d.jsx(Te,{variant:"outline",size:"sm",className:"w-full sm:w-auto order-2 sm:order-1",onClick:()=>{C(!1),U("derive"),Z("")},children:"Cancel"}),d.jsx(Te,{size:"sm",className:"w-full sm:w-auto order-1 sm:order-2",onClick:Tt,disabled:m,"data-testid":"button-confirm-create-wallet",children:m?"Creating...":"Create Wallet"})]})]})]})]})]}),d.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[tt!=="tokens"&&d.jsx("div",{className:"hidden md:flex w-20 flex-col min-h-0",children:d.jsx("div",{className:"flex-1 overflow-y-auto py-2 scrollbar-hide",style:{overscrollBehavior:"contain",scrollbarWidth:"none",msOverflowStyle:"none"},children:nt.map(ae=>d.jsx("div",{className:`p-3 cursor-pointer flex justify-center hover-elevate ${(we==null?void 0:we.id)===ae.id?"bg-muted border-r-2 border-primary":""}`,onClick:()=>{qe(ae),Oe(null),mt("wallets")},"data-testid":`chain-icon-${ae.symbol}`,children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"lg"})},ae.id))})}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 sm:p-4 pb-44 md:pb-4",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:we?tt==="wallets"?d.jsx("div",{className:"space-y-4",children:bt.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(Py,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsxs("p",{className:"text-muted-foreground",children:["No wallets for ",we.name]})]})}):bt.map((ae,ye)=>{const Le=xf(ae.balance,we.symbol,p);return d.jsx(Gt,{className:"hover-elevate cursor-pointer border bg-background",onClick:()=>X(ae),"data-testid":`card-wallet-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-sm",children:ae.label||(ye===0?"Main Wallet":`Wallet ${ye+1}`)}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:Ihe(ae.address)})]})]}),d.jsxs("div",{className:"flex-shrink-0 text-right",children:[d.jsx("p",{className:"font-semibold text-sm",children:xd(Le)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[Lm(ae.balance)," ",we.symbol]})]}),d.jsx(gp,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})},ae.id)})}):tt==="tokens"&&Ae?d.jsxs("div",{className:"space-y-3",children:[d.jsx(Gt,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:d.jsx(er,{className:"p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Main Wallet Balance"}),d.jsx("p",{className:"text-3xl font-bold",children:xd(Pt)}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Lm(Ae.balance)," ",we.symbol]})]}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs(Te,{className:"gap-2 flex-1 sm:flex-none",onClick:()=>R(`/transfer?chain=${we.id}`),"data-testid":"button-send",children:[d.jsx(sx,{className:"h-4 w-4"}),"Send"]}),d.jsxs(Te,{variant:"outline",className:"gap-2 flex-1 sm:flex-none",onClick:()=>R(`/transfer?chain=${we.id}&type=receive`),"data-testid":"button-receive",children:[d.jsx(Y3,{className:"h-4 w-4"}),"Receive"]})]})]})})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:Ce?"default":"outline",className:"flex-1",onClick:()=>ke(!0),"data-testid":"button-toggle-assets",children:"Assets"}),d.jsx(Te,{variant:Ce?"outline":"default",className:"flex-1",onClick:()=>ke(!1),"data-testid":"button-toggle-nft",children:"NFT"})]}),Ce&&d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/native`),"data-testid":"card-token-native",children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold",children:we.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:we.symbol})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-semibold",children:xd(xf(Ae.balance,we.symbol,p))}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lm(Ae.balance)," ",we.symbol]})]})]})})}),Ce&&Je.filter(ae=>Zg[ae.id]).map(ae=>{const ye=D[ae.id]||"0",Re=parseFloat(ye)*(ae.currentPrice||0);return d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/${ae.id}`),"data-testid":`card-token-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[pS(ae.id,ae.image)?d.jsx("img",{src:pS(ae.id,ae.image),alt:ae.name,className:"h-10 w-10 rounded-full bg-muted",onError:Mt=>{Mt.target.style.display="none"}}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center text-sm font-semibold",children:ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold",children:ae.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:ae.symbol.toUpperCase()})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-semibold",children:xd(Re)}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lm(ye)," ",ae.symbol.toUpperCase()]})]})]})})},ae.id)}),Ce&&h==="soft_wallet"&&P.filter(ae=>ae.chainId===we.symbol&&(!ae.walletId||ae.walletId===Ae.id)).map(ae=>{const ye=j[ae.id]||"0";return d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/${ae.id}`),"data-testid":`card-custom-token-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[s9(ae)?d.jsx("img",{src:s9(ae),alt:ae.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:Le=>{Le.target.style.display="none"}}):null,d.jsx("div",{className:`h-10 w-10 rounded-full bg-muted flex items-center justify-center text-sm font-semibold shrink-0 ${s9(ae)?"hidden":""}`,children:ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("h3",{className:"font-semibold",children:ae.name}),d.jsx(rr,{variant:"outline",className:"text-xs",children:"Custom"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:ae.symbol})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-semibold",children:[Lm(ye)," ",ae.symbol]})})]})})},ae.id)}),h==="soft_wallet"&&d.jsx("div",{className:"pt-2",children:d.jsx(dl,{href:`/manage-crypto?chain=${we.symbol}&wallet=${Ae.id}`,children:d.jsxs(Te,{variant:"outline",className:"w-full justify-start gap-3 h-14","data-testid":"button-add-custom-token",children:[d.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:d.jsx(Nd,{className:"h-4 w-4"})}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("p",{className:"font-semibold text-sm",children:"Add Custom Token"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:we.symbol==="ETH"?"Import ERC-20 tokens":we.symbol==="BNB"?"Import BEP-20 tokens":we.symbol==="MATIC"?"Import Polygon tokens":we.symbol==="ARB"?"Import Arbitrum tokens":we.symbol==="TRX"?"Import TRC-20 tokens":`Import ${we.name} tokens`})]})]})})})]}):null:d.jsxs("div",{className:"space-y-6",children:[m&&r.length===0&&d.jsxs("div",{children:[d.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse mb-3"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[1,2,3,4,5,6].map(ae=>d.jsx(Gt,{"data-testid":`skeleton-chain-${ae}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsx(Yc,{className:"h-10 w-10 rounded-full"}),d.jsx(Yc,{className:"h-3 w-16"}),d.jsx(Yc,{className:"h-3 w-12"})]})},ae))})]}),!m&&nt.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm py-3 -mx-4 px-4 border-b mb-4",children:[d.jsx("h3",{className:"font-bold text-base tracking-tight","data-testid":"text-your-chains",children:"Your Chains"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[nt.length," network",nt.length!==1?"s":""," active"]})]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:nt.slice(0,We?void 0:8).map((ae,ye)=>d.jsx(Gt,{className:"hover-elevate cursor-pointer relative transition-all duration-200 active:scale-[0.98]",onClick:()=>{navigator.vibrate&&navigator.vibrate(10),qe(ae),Oe(null),mt("wallets")},"data-testid":`card-chain-${ae.symbol}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted/50 flex items-center justify-center",children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"md"})}),d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-4 w-4 rounded-full bg-green-500 dark:bg-green-500 flex items-center justify-center ring-2 ring-background",children:d.jsx(Ga,{className:"h-2.5 w-2.5 text-white"})})]}),d.jsx("div",{className:"text-center w-full",children:d.jsx("span",{className:"text-xs font-semibold block truncate",children:ae.name})})]})},ae.id))}),nt.length>6&&d.jsxs(Te,{variant:"ghost",className:"w-full mt-3",onClick:()=>Be(!We),"data-testid":"button-view-all-chains",children:[We?"Show Less":`View All ${nt.length} Chains`,d.jsx(gp,{className:`h-4 w-4 ml-1 transition-transform ${We?"rotate-90":""}`})]})]}),!m&&nt.length===0&&It.length>0&&d.jsxs("div",{className:"text-center py-10 px-6 bg-gradient-to-b from-primary/5 to-transparent rounded-xl border border-dashed border-primary/20","data-testid":"empty-state-no-chains",children:[d.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(Py,{className:"h-8 w-8 text-primary"})}),d.jsx("p",{className:"font-semibold text-lg text-foreground mb-1",children:"Get Started"}),d.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:"Select the blockchain networks you want to add to your wallet"})]}),!m&&It.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm py-3 -mx-4 px-4 border-b mb-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-base tracking-tight","data-testid":"text-add-new-chain",children:"Add Networks"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[It.length," available"]})]}),ct.size>0&&d.jsxs(rr,{variant:"secondary",className:"cursor-pointer",onClick:()=>!V&&Y(new Set),"data-testid":"button-clear-selection",children:[ct.size," selected"]})]})}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:It.map(ae=>{const ye=ct.has(ae.id);return d.jsx(Gt,{className:`cursor-pointer transition-all duration-200 active:scale-[0.98] ${ye?"ring-2 ring-primary shadow-md shadow-primary/10":"hover-elevate"} ${V?"opacity-50 pointer-events-none":""}`,onClick:()=>{navigator.vibrate&&navigator.vibrate(10),te(ae.id)},"data-testid":`card-add-chain-${ae.symbol}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center transition-colors ${ye?"bg-primary/10":"bg-muted/50"}`,children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"md"})}),ye&&d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-4 w-4 rounded-full bg-primary flex items-center justify-center ring-2 ring-background",children:d.jsx(Ga,{className:"h-2.5 w-2.5 text-primary-foreground"})})]}),d.jsxs("div",{className:"text-center w-full",children:[d.jsx("span",{className:"text-xs font-semibold block truncate",children:ae.name}),d.jsx("span",{className:`text-[10px] mt-0.5 block ${ye?"text-primary font-medium":"text-muted-foreground"}`,children:ye?"Selected":"Tap to add"})]})]})},ae.id)})})]}),!m&&nt.length===0&&It.length===0&&d.jsxs("div",{className:"text-center py-12","data-testid":"empty-state-no-available",children:[d.jsx(Py,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"No chains available"})]}),d.jsx("div",{className:"mt-6 mb-4",children:d.jsxs("div",{className:"p-4 space-y-2",children:[ct.size>0&&d.jsx(Te,{className:"w-full h-12 text-base font-semibold rounded-xl shadow-lg shadow-primary/20",onClick:W,disabled:V,"data-testid":"button-confirm-chains",children:V?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-5 w-5 mr-2 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Adding ",ct.size," Network",ct.size>1?"s":"","..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"h-5 w-5 mr-2"}),"Add ",ct.size," Network",ct.size>1?"s":""]})}),d.jsxs(es,{open:ze,onOpenChange:Ke,children:[d.jsx(Uy,{asChild:!0,children:d.jsxs(Te,{className:`w-full ${ct.size>0?"h-10":"h-12 text-base font-semibold rounded-xl"}`,variant:ct.size>0?"ghost":"outline","data-testid":"button-add-custom-chain",children:[d.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Add Custom Network"]})}),d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Add Custom Chain"}),d.jsx(Kn,{children:"Enter the details for your custom blockchain network."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-name",children:"Chain Name"}),d.jsx(ir,{id:"custom-chain-name",placeholder:"e.g., My Network",value:ne.name,onChange:ae=>le({...ne,name:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-name"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-rpc",children:"RPC URL"}),d.jsx(ir,{id:"custom-chain-rpc",placeholder:"https://rpc.example.com",value:ne.rpcUrl,onChange:ae=>le({...ne,rpcUrl:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-rpc"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-id",children:"Chain ID"}),d.jsx(ir,{id:"custom-chain-id",placeholder:"e.g., 1",type:"number",value:ne.chainId,onChange:ae=>le({...ne,chainId:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-id"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-symbol",children:"Currency Symbol"}),d.jsx(ir,{id:"custom-chain-symbol",placeholder:"e.g., ETH",value:ne.symbol,onChange:ae=>le({...ne,symbol:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-symbol"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-explorer",children:"Block Explorer URL (optional)"}),d.jsx(ir,{id:"custom-chain-explorer",placeholder:"https://explorer.example.com",value:ne.explorerUrl,onChange:ae=>le({...ne,explorerUrl:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-explorer"})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{Ke(!1),le({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""})},children:"Cancel"}),d.jsx(Te,{onClick:ie,disabled:!ne.name||!ne.rpcUrl||!ne.chainId||!ne.symbol,"data-testid":"button-save-custom-chain",children:"Add Chain"})]})]})]})]})})]})})]}),d.jsx(es,{open:re,onOpenChange:ae=>{!ae&&!ce||(G(ae),ae||(se(""),pe(!1)))},children:d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Your New Seed Phrase"}),d.jsx(Kn,{children:"Write down these 12 words and store them securely."})]}),d.jsx("div",{className:"p-4 bg-muted rounded-md font-mono text-sm break-words","data-testid":"text-seed-phrase",children:z}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsx(yh,{id:"seed-confirmed",checked:ce,onCheckedChange:ae=>pe(!!ae),"data-testid":"checkbox-seed-confirmed"}),d.jsx(Zt,{htmlFor:"seed-confirmed",className:"cursor-pointer",children:"I have written down my seed phrase"})]}),d.jsx(Ss,{children:d.jsx(Te,{disabled:!ce,onClick:()=>{G(!1),se(""),pe(!1),T({title:"Wallet Created",description:"New wallet with independent seed created"})},"data-testid":"button-seed-done",children:"Done"})})]})})]}):d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-4 md:mb-6 flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Dashboard"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(iWe,{})})]}),d.jsx(Gt,{className:"mb-4 md:mb-6",children:d.jsxs(er,{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Hard Wallet Portfolio"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[_.isStale&&_.lastUpdated&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["Updated ",At.getCacheAge(_.lastUpdated)]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:it,disabled:S||_.isRefreshing,"data-testid":"button-refresh-portfolio",children:d.jsx(l1,{className:`h-4 w-4 ${S||_.isRefreshing?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"flex flex-wrap items-baseline gap-4",children:[d.jsx("h2",{className:"text-2xl md:text-4xl font-bold","data-testid":"text-portfolio-value",children:xd(He)}),_.isRefreshing&&d.jsx("span",{className:"text-xs text-muted-foreground animate-pulse",children:"Refreshing..."})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Your Assets"}),d.jsxs(es,{open:y,onOpenChange:C,children:[d.jsx(Uy,{asChild:!0,children:d.jsx(Te,{size:"icon",variant:"ghost","data-testid":"button-create-wallet",children:d.jsx(Nd,{className:"h-4 w-4"})})}),d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Create New Wallet"}),d.jsx(Kn,{children:"Create an additional wallet for your portfolio."})]}),d.jsx("div",{className:"py-4 space-y-4",children:d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"wallet-label",children:"Wallet Label (optional)"}),d.jsx(ir,{id:"wallet-label",placeholder:"e.g., Savings, Trading, DeFi",value:$,onChange:ae=>L(ae.target.value),className:"mt-2","data-testid":"input-wallet-label"})]})}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{C(!1),U("derive"),Z("")},children:"Cancel"}),d.jsx(Te,{onClick:Tt,disabled:m,"data-testid":"button-confirm-create-wallet",children:m?"Creating...":"Create Wallet"})]})]})]}),d.jsx(es,{open:re,onOpenChange:ae=>{!ae&&!ce||(G(ae),ae||(se(""),pe(!1)))},children:d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Your New Seed Phrase"}),d.jsx(Kn,{children:"Write down these 12 words and store them securely. You will need them to recover this wallet."})]}),d.jsx("div",{className:"p-4 bg-muted rounded-md font-mono text-sm break-words","data-testid":"text-seed-phrase",children:z}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsx(yh,{id:"seed-confirmed",checked:ce,onCheckedChange:ae=>pe(!!ae),"data-testid":"checkbox-seed-confirmed"}),d.jsx(Zt,{htmlFor:"seed-confirmed",className:"cursor-pointer",children:"I have written down my seed phrase"})]}),d.jsx(Ss,{children:d.jsx(Te,{disabled:!ce,onClick:()=>{G(!1),se(""),pe(!1),T({title:"Wallet Created",description:"New wallet with independent seed created"})},"data-testid":"button-seed-done",children:"Done"})})]})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ire,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(ir,{placeholder:"Search assets...",value:I,onChange:ae=>A(ae.target.value),className:"pl-8 h-8 w-40 sm:w-48","data-testid":"input-search-assets"})]}),d.jsx(Te,{variant:"ghost",size:"sm",asChild:!0,children:d.jsxs(dl,{href:"/manage-crypto",children:[d.jsx(t6,{className:"mr-1 h-4 w-4"}),"Manage"]})}),d.jsx(Te,{variant:"ghost",size:"sm",asChild:!0,children:d.jsxs(dl,{href:"/chains",children:["View All",d.jsx(sx,{className:"ml-1 h-4 w-4"})]})})]})]}),c?d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(ae=>d.jsx(Gt,{children:d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Yc,{className:"h-8 w-8 rounded-full"}),d.jsxs("div",{children:[d.jsx(Yc,{className:"h-4 w-20 mb-1"}),d.jsx(Yc,{className:"h-3 w-12"})]})]}),d.jsx(Yc,{className:"h-4 w-24 mt-4"}),d.jsx(Yc,{className:"h-6 w-32 mt-2"}),d.jsx(Yc,{className:"h-10 w-full mt-4"})]})},ae))}):Rt.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(t6,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"No assets enabled"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1 mb-4",children:"Enable assets to track in Manage Crypto"}),d.jsx(Te,{variant:"outline",size:"sm",asChild:!0,children:d.jsx(dl,{href:"/manage-crypto",children:"Manage Crypto"})})]})}):d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Rt.map(ae=>{var Le;if("walletId"in ae){const Re=ae,Mt=j[Re.id]||"0",ut=((Le=a.find(Se=>Se.symbol.toUpperCase()===Re.symbol.toUpperCase()))==null?void 0:Le.currentPrice)||0,Ot=parseFloat(Mt)*ut;return d.jsx(Gt,{className:"hover-elevate cursor-pointer transition-all h-full","data-testid":`card-custom-token-${Re.id}`,children:d.jsx(er,{className:"p-3 sm:p-4 flex flex-col h-full",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(()=>{const Se=s9(Re);return Se&&Se.trim()?d.jsx("img",{src:Se,alt:Re.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:be=>{be.target.style.display="none"}}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted shrink-0 flex items-center justify-center text-xs font-semibold",children:Re.symbol.slice(0,2).toUpperCase()})})(),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold truncate text-sm",children:Re.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Re.symbol.toUpperCase()})]})]}),d.jsxs("div",{className:"text-right shrink-0",children:[d.jsx("p",{className:"font-semibold text-sm","data-testid":`text-value-${Re.id}`,children:xd(Ot)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[Lm(Mt)," ",Re.symbol.toUpperCase()]})]})]})})},Re.id)}else{const Re=ae,{wallet:Mt,chain:ut}=ht(Re);return d.jsx(_qe,{asset:Re,wallet:Mt,chain:ut,prices:p,tokenBalance:D[Re.id]},Re.id)}})})]})]})}var Tqe=Object.defineProperty,mS=Object.getOwnPropertySymbols,Nhe=Object.prototype.hasOwnProperty,Ehe=Object.prototype.propertyIsEnumerable,jK=(t,e,r)=>e in t?Tqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cM=(t,e)=>{for(var r in e||(e={}))Nhe.call(e,r)&&jK(t,r,e[r]);if(mS)for(var r of mS(e))Ehe.call(e,r)&&jK(t,r,e[r]);return t},lM=(t,e)=>{var r={};for(var n in t)Nhe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&mS)for(var n of mS(t))e.indexOf(n)<0&&Ehe.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var I1;(t=>{const e=class $r{constructor(c,l,u,f){if(this.version=c,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],c<$r.MIN_VERSION||c>$r.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(u);if(this.drawCodewords(m),f==-1){let v=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const k=this.getPenaltyScore();k<v&&(f=x,v=k),this.applyMask(x)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,l){const u=t.QrSegment.makeSegments(c);return $r.encodeSegments(u,l)}static encodeBinary(c,l){const u=t.QrSegment.makeBytes(c);return $r.encodeSegments([u],l)}static encodeSegments(c,l,u=1,f=40,h=-1,m=!0){if(!($r.MIN_VERSION<=u&&u<=f&&f<=$r.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,x;for(v=u;;v++){const _=$r.getNumDataCodewords(v,l)*8,M=a.getTotalBits(c,v);if(M<=_){x=M;break}if(v>=f)throw new RangeError("Data too long")}for(const _ of[$r.Ecc.MEDIUM,$r.Ecc.QUARTILE,$r.Ecc.HIGH])m&&x<=$r.getNumDataCodewords(v,_)*8&&(l=_);let k=[];for(const _ of c){r(_.mode.modeBits,4,k),r(_.numChars,_.mode.numCharCountBits(v),k);for(const M of _.getData())k.push(M)}s(k.length==x);const E=$r.getNumDataCodewords(v,l)*8;s(k.length<=E),r(0,Math.min(4,E-k.length),k),r(0,(8-k.length%8)%8,k),s(k.length%8==0);for(let _=236;k.length<E;_^=253)r(_,8,k);let P=[];for(;P.length*8<k.length;)P.push(0);return k.forEach((_,M)=>P[M>>>3]|=_<<7-(M&7)),new $r(v,l,P,h)}getModule(c,l){return 0<=c&&c<this.size&&0<=l&&l<this.size&&this.modules[l][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),l=c.length;for(let u=0;u<l;u++)for(let f=0;f<l;f++)u==0&&f==0||u==0&&f==l-1||u==l-1&&f==0||this.drawAlignmentPattern(c[u],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const l=this.errorCorrectionLevel.formatBits<<3|c;let u=l;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const f=(l<<10|u)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const l=this.version<<12|c;s(l>>>18==0);for(let u=0;u<18;u++){const f=n(l,u),h=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,l){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(u)),m=c+f,v=l+u;0<=m&&m<this.size&&0<=v&&v<this.size&&this.setFunctionModule(m,v,h!=2&&h!=4)}}drawAlignmentPattern(c,l){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,l+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(c,l,u){this.modules[l][c]=u,this.isFunction[l][c]=!0}addEccAndInterleave(c){const l=this.version,u=this.errorCorrectionLevel;if(c.length!=$r.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const f=$r.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],h=$r.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],m=Math.floor($r.getNumRawDataModules(l)/8),v=f-m%f,x=Math.floor(m/f);let k=[];const E=$r.reedSolomonComputeDivisor(h);for(let _=0,M=0;_<f;_++){let B=c.slice(M,M+x-h+(_<v?0:1));M+=B.length;const D=$r.reedSolomonComputeRemainder(B,E);_<v&&B.push(0),k.push(B.concat(D))}let P=[];for(let _=0;_<k[0].length;_++)k.forEach((M,B)=>{(_!=x-h||B>=v)&&P.push(M[_])});return s(P.length==m),P}drawCodewords(c){if(c.length!=Math.floor($r.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=u-h,x=(u+1&2)==0?this.size-1-f:f;!this.isFunction[x][m]&&l<c.length*8&&(this.modules[x][m]=n(c[l>>>3],7-(l&7)),l++)}}s(l==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let f;switch(c){case 0:f=(u+l)%2==0;break;case 1:f=l%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+l)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:f=u*l%2+u*l%3==0;break;case 6:f=(u*l%2+u*l%3)%2==0;break;case 7:f=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&f&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,v=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[h][k]==m?(v++,v==5?c+=$r.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,x),m||(c+=this.finderPenaltyCountPatterns(x)*$r.PENALTY_N3),m=this.modules[h][k],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,x)*$r.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,v=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][h]==m?(v++,v==5?c+=$r.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,x),m||(c+=this.finderPenaltyCountPatterns(x)*$r.PENALTY_N3),m=this.modules[k][h],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,x)*$r.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const v=this.modules[h][m];v==this.modules[h][m+1]&&v==this.modules[h+1][m]&&v==this.modules[h+1][m+1]&&(c+=$r.PENALTY_N2)}let l=0;for(const h of this.modules)l=h.reduce((m,v)=>m+(v?1:0),l);const u=this.size*this.size,f=Math.ceil(Math.abs(l*20-u*10)/u)-1;return s(0<=f&&f<=9),c+=f*$r.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let f=this.size-7;u.length<c;f-=l)u.splice(1,0,f);return u}}static getNumRawDataModules(c){if(c<$r.MIN_VERSION||c>$r.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;l-=(25*u-10)*u-55,c>=7&&(l-=36)}return s(208<=l&&l<=29648),l}static getNumDataCodewords(c,l){return Math.floor($r.getNumRawDataModules(c)/8)-$r.ECC_CODEWORDS_PER_BLOCK[l.ordinal][c]*$r.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let l=[];for(let f=0;f<c-1;f++)l.push(0);l.push(1);let u=1;for(let f=0;f<c;f++){for(let h=0;h<l.length;h++)l[h]=$r.reedSolomonMultiply(l[h],u),h+1<l.length&&(l[h]^=l[h+1]);u=$r.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(c,l){let u=l.map(f=>0);for(const f of c){const h=f^u.shift();u.push(0),l.forEach((m,v)=>u[v]^=$r.reedSolomonMultiply(m,h))}return u}static reedSolomonMultiply(c,l){if(c>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(l>>>f&1)*c;return s(u>>>8==0),u}finderPenaltyCountPatterns(c){const l=c[1];s(l<=this.size*3);const u=l>0&&c[2]==l&&c[3]==l*3&&c[4]==l&&c[5]==l;return(u&&c[0]>=l*4&&c[6]>=l?1:0)+(u&&c[6]>=l*4&&c[0]>=l?1:0)}finderPenaltyTerminateAndCount(c,l,u){return c&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,l){l[0]==0&&(c+=this.size),l.pop(),l.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(o,c,l){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)l.push(o>>>u&1)}function n(o,c){return(o>>>c&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}const i=class bs{constructor(c,l,u){if(this.mode=c,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let l=[];for(const u of c)r(u,8,l);return new bs(bs.Mode.BYTE,c.length,l)}static makeNumeric(c){if(!bs.isNumeric(c))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<c.length;){const f=Math.min(c.length-u,3);r(parseInt(c.substring(u,u+f),10),f*3+1,l),u+=f}return new bs(bs.Mode.NUMERIC,c.length,l)}static makeAlphanumeric(c){if(!bs.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=c.length;u+=2){let f=bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;f+=bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),r(f,11,l)}return u<c.length&&r(bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,l),new bs(bs.Mode.ALPHANUMERIC,c.length,l)}static makeSegments(c){return c==""?[]:bs.isNumeric(c)?[bs.makeNumeric(c)]:bs.isAlphanumeric(c)?[bs.makeAlphanumeric(c)]:[bs.makeBytes(bs.toUtf8ByteArray(c))]}static makeEci(c){let l=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,l);else if(c<16384)r(2,2,l),r(c,14,l);else if(c<1e6)r(6,3,l),r(c,21,l);else throw new RangeError("ECI assignment value out of range");return new bs(bs.Mode.ECI,0,l)}static isNumeric(c){return bs.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return bs.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,l){let u=0;for(const f of c){const h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let l=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?l.push(c.charCodeAt(u)):(l.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return l}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(I1||(I1={}));(t=>{(e=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(I1||(I1={}));(t=>{(e=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(I1||(I1={}));var ly=I1;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jqe={L:ly.QrCode.Ecc.LOW,M:ly.QrCode.Ecc.MEDIUM,Q:ly.QrCode.Ecc.QUARTILE,H:ly.QrCode.Ecc.HIGH},_he=128,Che="L",The="#FFFFFF",jhe="#000000",$he=!1,Mhe=1,$qe=4,Mqe=0,Oqe=.1;function Ohe(t,e=0){const r=[];return t.forEach(function(n,s){let i=null;n.forEach(function(a,o){if(!a&&i!==null){r.push(`M${i+e} ${s+e}h${o-i}v1H${i+e}z`),i=null;return}if(o===n.length-1){if(!a)return;i===null?r.push(`M${o+e},${s+e} h1v1H${o+e}z`):r.push(`M${i+e},${s+e} h${o+1-i}v1H${i+e}z`);return}a&&i===null&&(i=o)})}),r.join("")}function Fhe(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Fqe(t,e,r,n){if(n==null)return null;const s=t.length+r*2,i=Math.floor(e*Oqe),a=s/e,o=(n.width||i)*a,c=(n.height||i)*a,l=n.x==null?t.length/2-o/2:n.x*a,u=n.y==null?t.length/2-c/2:n.y*a,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let v=Math.floor(l),x=Math.floor(u),k=Math.ceil(o+l-v),E=Math.ceil(c+u-x);h={x:v,y:x,w:k,h:E}}const m=n.crossOrigin;return{x:l,y:u,h:c,w:o,excavation:h,opacity:f,crossOrigin:m}}function Bqe(t,e){return e!=null?Math.max(Math.floor(e),0):t?$qe:Mqe}function Bhe({value:t,level:e,minVersion:r,includeMargin:n,marginSize:s,imageSettings:i,size:a,boostLevel:o}){let c=Qr.useMemo(()=>{const v=(Array.isArray(t)?t:[t]).reduce((x,k)=>(x.push(...ly.QrSegment.makeSegments(k)),x),[]);return ly.QrCode.encodeSegments(v,jqe[e],r,void 0,void 0,o)},[t,e,r,o]);const{cells:l,margin:u,numCells:f,calculatedImageSettings:h}=Qr.useMemo(()=>{let m=c.getModules();const v=Bqe(n,s),x=m.length+v*2,k=Fqe(m,a,v,i);return{cells:m,margin:v,numCells:x,calculatedImageSettings:k}},[c,a,i,n,s]);return{qrcode:c,margin:u,cells:l,numCells:f,calculatedImageSettings:h}}var Rqe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Dqe=Qr.forwardRef(function(e,r){const n=e,{value:s,size:i=_he,level:a=Che,bgColor:o=The,fgColor:c=jhe,includeMargin:l=$he,minVersion:u=Mhe,boostLevel:f,marginSize:h,imageSettings:m}=n,x=lM(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=x,E=lM(x,["style"]),P=m==null?void 0:m.src,_=Qr.useRef(null),M=Qr.useRef(null),B=Qr.useCallback(p=>{_.current=p,typeof r=="function"?r(p):r&&(r.current=p)},[r]),[D,j]=Qr.useState(!1),{margin:T,cells:R,numCells:H,calculatedImageSettings:O}=Bhe({value:s,level:a,minVersion:u,boostLevel:f,includeMargin:l,marginSize:h,imageSettings:m,size:i});Qr.useEffect(()=>{if(_.current!=null){const p=_.current,g=p.getContext("2d");if(!g)return;let S=R;const N=M.current,I=O!=null&&N!==null&&N.complete&&N.naturalHeight!==0&&N.naturalWidth!==0;I&&O.excavation!=null&&(S=Fhe(R,O.excavation));const A=window.devicePixelRatio||1;p.height=p.width=i*A;const y=i/H*A;g.scale(y,y),g.fillStyle=o,g.fillRect(0,0,H,H),g.fillStyle=c,Rqe?g.fill(new Path2D(Ohe(S,T))):R.forEach(function(C,$){C.forEach(function(L,Q){L&&g.fillRect(Q+T,$+T,1,1)})}),O&&(g.globalAlpha=O.opacity),I&&g.drawImage(N,O.x+T,O.y+T,O.w,O.h)}}),Qr.useEffect(()=>{j(!1)},[P]);const b=cM({height:i,width:i},k);let w=null;return P!=null&&(w=Qr.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{j(!0)},ref:M,crossOrigin:O==null?void 0:O.crossOrigin})),Qr.createElement(Qr.Fragment,null,Qr.createElement("canvas",cM({style:b,height:i,width:i,ref:B,role:"img"},E)),w)});Dqe.displayName="QRCodeCanvas";var lD=Qr.forwardRef(function(e,r){const n=e,{value:s,size:i=_he,level:a=Che,bgColor:o=The,fgColor:c=jhe,includeMargin:l=$he,minVersion:u=Mhe,boostLevel:f,title:h,marginSize:m,imageSettings:v}=n,x=lM(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:E,numCells:P,calculatedImageSettings:_}=Bhe({value:s,level:a,minVersion:u,boostLevel:f,includeMargin:l,marginSize:m,imageSettings:v,size:i});let M=E,B=null;v!=null&&_!=null&&(_.excavation!=null&&(M=Fhe(E,_.excavation)),B=Qr.createElement("image",{href:v.src,height:_.h,width:_.w,x:_.x+k,y:_.y+k,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const D=Ohe(M,k);return Qr.createElement("svg",cM({height:i,width:i,viewBox:`0 0 ${P} ${P}`,ref:r,role:"img"},x),!!h&&Qr.createElement("title",null,h),Qr.createElement("path",{fill:o,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),Qr.createElement("path",{fill:c,d:D,shapeRendering:"crispEdges"}),B)});lD.displayName="QRCodeSVG";function S2({fallbackPath:t="/",className:e}){const[,r]=sf(),n=()=>{window.history.length>1?window.history.back():r(t)};return d.jsx(Te,{variant:"ghost",size:"icon",onClick:n,className:e,"data-testid":"button-back",children:d.jsx(G3,{className:"h-5 w-5"})})}const A_=gR;function Uqe(t){if(!t)return"Enter address...";switch(t.toUpperCase()){case"BTC":return"bc1... or 1... or 3...";case"SOL":return"Base58 address...";case"XRP":return"r...";case"ADA":return"addr1...";case"DOGE":return"D...";case"DOT":return"1... (SS58 format)";case"LTC":return"L... or M... or ltc1...";case"BCH":return"bitcoincash:q...";case"TRX":return"T...";case"ATOM":case"OSMO":return"cosmos1... or osmo1...";case"ETH":case"BNB":case"MATIC":case"AVAX":case"ARB":default:return"0x..."}}const zqe={"chain-0":"https://eth.llamarpc.com","chain-3":"https://bsc-dataseed1.binance.org","chain-4":"https://polygon-rpc.com","chain-5":"https://api.avax.network/ext/bc/C/rpc","chain-6":"https://arb1.arbitrum.io/rpc","chain-7":"https://mainnet.optimism.io"},Lqe={"chain-0":21e3,"chain-1":250,"chain-2":5e3,"chain-3":21e3,"chain-4":21e3,"chain-5":21e3,"chain-6":21e3,"chain-7":21e3,"chain-8":0},Vqe={"chain-0":65e3,"chain-3":65e3,"chain-4":65e3,"chain-5":65e3,"chain-6":65e3,"chain-7":65e3},Hqe={BTC:{fee:"0.00001",unit:"BTC"},SOL:{fee:"0.000005",unit:"SOL"},TRX:{fee:"0",unit:"TRX"},XRP:{fee:"0.00001",unit:"XRP"},DOGE:{fee:"1",unit:"DOGE"},LTC:{fee:"0.0001",unit:"LTC"},BCH:{fee:"0.00001",unit:"BCH"},ADA:{fee:"0.17",unit:"ADA"},ATOM:{fee:"0.005",unit:"ATOM"},OSMO:{fee:"0.005",unit:"OSMO"},DOT:{fee:"0.01",unit:"DOT"}};async function $K(t,e,r){const n=r||"ETH",s=Hqe[n];if(s)return{gasPrice:"0",gasPriceGwei:"N/A",estimatedGas:"0",estimatedFee:s.fee,estimatedFeeUsd:null,symbol:s.unit};const i=zqe[t];if(!i)return{gasPrice:"0",gasPriceGwei:"20",estimatedGas:"21000",estimatedFee:"0.00042",estimatedFeeUsd:null,symbol:n,error:"No RPC endpoint available"};try{console.log("[GasEstimate] Fetching gas price for chain:",t,"RPC:",i);const o=await(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:1})})).json();if(console.log("[GasEstimate] Response:",o),!o.result)throw console.error("[GasEstimate] No result in response:",o),new Error("No gas price result");const c=BigInt(o.result),l=(Number(c)/1e9).toFixed(2),u=e?Lqe[t]||21e3:Vqe[t]||65e3,f=c*BigInt(u),h=(Number(f)/1e18).toFixed(6);return{gasPrice:c.toString(),gasPriceGwei:l,estimatedGas:u.toString(),estimatedFee:h,estimatedFeeUsd:null,symbol:n}}catch(a){return console.error("[GasEstimate] Client-side fetch failed:",a),{gasPrice:"0",gasPriceGwei:"20",estimatedGas:"21000",estimatedFee:"0.00042",estimatedFeeUsd:null,symbol:n,error:"Failed to fetch gas price"}}}function Wqe({chains:t,wallets:e,initialChainId:r,initialTokenId:n}){const{setShowPinModal:s,setPinAction:i,setPendingTransaction:a,topAssets:o,enabledAssetIds:c,tokenBalances:l,customTokenBalances:u}=Yi(),[f,h]=F.useState(r||""),[m,v]=F.useState(n||"native"),x=!!n,[k,E]=F.useState([]),[P,_]=F.useState(""),[M,B]=F.useState(""),[D,j]=F.useState("");console.log("[SendTab] initialChainId:",r,"selectedChainId:",f,"chains.length:",t.length);const T=t.find(y=>y.id===f),R=e.find(y=>y.chainId===f),H=k.find(y=>y.id===m)||k[0],O=(H==null?void 0:H.isNative)??!0,b=S1.isNativePlatform(),p=T?new Set(["BTC","SOL","TRX","XRP","DOGE","LTC","BCH","ADA","ATOM","OSMO","DOT"]).has(T.symbol):!1,{data:g,isLoading:S}=E2e({queryKey:["/api/gas-estimate",f,O,b,p,T==null?void 0:T.symbol],queryFn:async()=>p||b?$K(f,O,T==null?void 0:T.symbol):(await fetch(`/api/gas-estimate?chainId=${f}&isNative=${O}`)).json(),enabled:!!f&&!!T,refetchInterval:3e4});F.useEffect(()=>{console.log("[SendTab useEffect] initialChainId:",r,"chains.length:",t.length,"current selectedChainId:",f),r&&t.find(y=>y.id===r)?(console.log("[SendTab useEffect] Setting selectedChainId to initialChainId:",r),h(r)):t.length>0&&!f&&(console.log("[SendTab useEffect] Defaulting to first chain:",t[0].id),h(t[0].id))},[t,r]),F.useEffect(()=>{async function y(){if(!T||!R){E([]);return}const C=[{id:"native",symbol:T.symbol,name:T.name,balance:R.balance,isNative:!0}],$=T.symbol;o.forEach(L=>{if(Cx[L.id]===$&&c.has(L.id)){const U=l[L.id]||"0";C.push({id:L.id,symbol:L.symbol.toUpperCase(),name:L.name,balance:U,isNative:!1,image:L.image})}});try{const Q=(await At.getCustomTokens()).filter(U=>U.chainId===f&&(U.walletId===R.id||!U.walletId));for(const U of Q){const J=u[U.id]||"0";C.push({id:U.id,symbol:U.symbol,name:U.name,balance:J,isNative:!1,contractAddress:U.contractAddress,decimals:U.decimals,image:U.image})}}catch(L){console.error("Failed to load custom tokens:",L)}E(C),n||v("native")}y()},[f,T,R,n,o,c,l,u]);const N=()=>{if(j(""),!P){j("Please enter a recipient address");return}if(!M||parseFloat(M)<=0){j("Please enter a valid amount");return}const y=parseFloat((H==null?void 0:H.balance)||"0");if(parseFloat(M)>y){j("Insufficient balance");return}a({toAddress:P,amount:M,chainId:f,tokenSymbol:H==null?void 0:H.symbol,tokenContractAddress:H==null?void 0:H.contractAddress,isNativeToken:(H==null?void 0:H.isNative)??!0}),i("sign"),s(!0)},I=()=>{H&&B(H.balance)},A=y=>{h(y),v("native"),B("")};return d.jsxs("div",{className:"space-y-6",children:[!r&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Network"}),d.jsxs(k1,{value:f,onValueChange:A,children:[d.jsx(Jp,{id:"chain","data-testid":"select-send-chain",children:d.jsx(Ox,{placeholder:"Select network"})}),d.jsx(Qp,{children:t.map(y=>{const C=e.find($=>$.chainId===y.id);return d.jsx(ll,{value:y.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:y.symbol,iconColor:y.iconColor,size:"sm"}),d.jsx("span",{children:y.name}),d.jsxs("span",{className:"text-muted-foreground",children:["(",A_((C==null?void 0:C.balance)||"0")," ",y.symbol,")"]})]})},y.id)})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"token",children:["Coin / Token ",x&&d.jsx("span",{className:"text-xs text-muted-foreground",children:"(locked)"})]}),d.jsxs(k1,{value:m,onValueChange:v,disabled:x,children:[d.jsx(Jp,{id:"token","data-testid":"select-send-token",className:x?"opacity-70":"",children:d.jsx(Ox,{placeholder:"Select coin or token"})}),d.jsx(Qp,{children:k.map(y=>d.jsx(ll,{value:y.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[y.isNative?d.jsx(Yn,{symbol:y.symbol,size:"sm"}):y.image?d.jsx("img",{src:y.image,alt:y.symbol,className:"h-5 w-5 rounded-full object-cover",onError:C=>{C.target.style.display="none"}}):d.jsx(ix,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:y.symbol}),d.jsx("span",{className:"text-muted-foreground",children:y.name}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",A_(y.balance),")"]})]})},y.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"recipient",children:"Recipient Address"}),d.jsx(ir,{id:"recipient",placeholder:Uqe(T==null?void 0:T.symbol),value:P,onChange:y=>_(y.target.value),className:"font-mono","data-testid":"input-recipient-address"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx(Zt,{htmlFor:"amount",children:"Amount"}),d.jsxs(Te,{type:"button",variant:"ghost",size:"sm",className:"h-auto py-0 text-xs",onClick:I,"data-testid":"button-max-amount",children:["Max: ",A_((H==null?void 0:H.balance)||"0")," ",(H==null?void 0:H.symbol)||(T==null?void 0:T.symbol)]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ir,{id:"amount",type:"number",placeholder:"0.00",value:M,onChange:y=>B(y.target.value),className:"pr-16","data-testid":"input-send-amount"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:(H==null?void 0:H.symbol)||(T==null?void 0:T.symbol)})]})]}),D&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(j4,{className:"h-4 w-4"}),d.jsx(hn,{children:D})]}),d.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Gas Price"}),S?d.jsx(Yc,{className:"h-4 w-16"}):d.jsx("span",{"data-testid":"text-gas-price",children:p?"Fixed fee":g!=null&&g.gasPriceGwei&&g.gasPriceGwei!=="N/A"?`${g.gasPriceGwei} Gwei`:"~20 Gwei"})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estimated Gas Fee"}),S?d.jsx(Yc,{className:"h-4 w-20"}):d.jsxs("span",{"data-testid":"text-gas-fee",children:["~",(g==null?void 0:g.estimatedFee)||"0.00042"," ",T==null?void 0:T.symbol]})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total"}),S?d.jsx(Yc,{className:"h-4 w-24"}):d.jsx("span",{className:"font-medium","data-testid":"text-total-amount",children:O?d.jsxs(d.Fragment,{children:[M?(parseFloat(M)+parseFloat((g==null?void 0:g.estimatedFee)||"0")).toFixed(6):"0.00"," ",T==null?void 0:T.symbol]}):d.jsxs(d.Fragment,{children:[M||"0"," ",H==null?void 0:H.symbol," + ~",(g==null?void 0:g.estimatedFee)||"0"," ",T==null?void 0:T.symbol]})})]}),(g==null?void 0:g.error)&&d.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Using estimated values (live data unavailable)"})]}),d.jsxs(Te,{type:"button",className:"w-full",size:"lg",onClick:N,disabled:!P||!M,"data-testid":"button-sign-transaction",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Sign & Send Transaction"]}),d.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"You will need to enter your PIN to authorize this transaction"})]})}function qqe({chains:t,wallets:e,initialChainId:r}){const{toast:n}=ki(),[s,i]=F.useState(r||""),a=t.find(l=>l.id===s),o=e.find(l=>l.chainId===s);F.useEffect(()=>{r&&t.find(l=>l.id===r)?i(r):t.length>0&&!s&&i(t[0].id)},[t,r]);const c=()=>{o&&(navigator.clipboard.writeText(o.address),n({title:"Address Copied",description:"Wallet address copied to clipboard."}))};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"receive-chain",children:"Network"}),d.jsxs(k1,{value:s,onValueChange:i,children:[d.jsx(Jp,{id:"receive-chain","data-testid":"select-receive-chain",children:d.jsx(Ox,{placeholder:"Select network"})}),d.jsx(Qp,{children:t.map(l=>d.jsx(ll,{value:l.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:l.symbol,iconColor:l.iconColor,size:"sm"}),d.jsx("span",{children:l.name})]})},l.id))})]})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[d.jsx("div",{className:"mb-6 flex h-64 w-64 items-center justify-center rounded-xl bg-white p-4",children:o?d.jsx(lD,{value:o.address,size:224,level:"M",includeMargin:!1,"data-testid":"qr-code-address"}):d.jsxs("div",{className:"text-center",children:[d.jsx(nre,{className:"mx-auto h-32 w-32 text-muted-foreground/50"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select a network"})]})}),o&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4 text-center",children:[d.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Your ",a==null?void 0:a.name," Address"]}),d.jsx("code",{className:"block rounded-lg bg-muted/50 px-4 py-3 font-mono text-sm break-all",children:o.address})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs(Te,{type:"button",variant:"outline",onClick:c,"data-testid":"button-copy-receive-address",children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy Address"]})})]})]}),d.jsxs(fn,{children:[d.jsx(j4,{className:"h-4 w-4"}),d.jsxs(hn,{children:["Only send ",a==null?void 0:a.symbol," and tokens on the ",a==null?void 0:a.name," network to this address. Sending other assets may result in permanent loss."]})]})]})}function Kqe(){const{isConnected:t,isUnlocked:e,chains:r,wallets:n,visibleWallets:s,walletMode:i,refreshBalances:a}=Yi(),o=i==="hard_wallet"?s:n,[c,l]=F.useState(()=>window.location.search);F.useEffect(()=>{const E=()=>{l(window.location.search)};return window.addEventListener("popstate",E),E(),()=>{window.removeEventListener("popstate",E)}},[]),F.useEffect(()=>{const E=setInterval(()=>{window.location.search!==c&&l(window.location.search)},100);return()=>clearInterval(E)},[c]);const u=new URLSearchParams(c),f=u.get("type")==="receive"?"receive":"send",h=u.get("chain")||void 0,m=u.get("token")||void 0,[v,x]=F.useState(f);F.useEffect(()=>{const P=new URLSearchParams(c).get("type");(P==="receive"||P==="send")&&x(P)},[c]),console.log("[Transfer] chainParam:",h,"search:",c);const k=F.useRef(!1);return F.useEffect(()=>{i==="hard_wallet"&&o.length>0&&!k.current&&(k.current=!0,a())},[i,o.length,a]),o.length===0?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Send / Receive"}),d.jsx(o5,{})]}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[d.jsx(S2,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Send / Receive"})]}),d.jsx(Gt,{className:"max-w-lg mx-auto",children:d.jsx(er,{className:"p-6",children:d.jsxs(a5,{value:v,onValueChange:x,children:[d.jsxs(w2,{className:"grid w-full grid-cols-2 mb-6",children:[d.jsxs(No,{value:"send","data-testid":"tab-send",children:[d.jsx(sx,{className:"mr-2 h-4 w-4"}),"Send"]}),d.jsxs(No,{value:"receive","data-testid":"tab-receive",children:[d.jsx(Y3,{className:"mr-2 h-4 w-4"}),"Receive"]})]}),d.jsx(Eo,{value:"send",children:d.jsx(Wqe,{chains:r,wallets:o,initialChainId:h,initialTokenId:m},`send-${h}-${m}`)}),d.jsx(Eo,{value:"receive",children:d.jsx(qqe,{chains:r,wallets:o,initialChainId:h},`receive-${h}`)})]})})})]})}const Rhe=F.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:jt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Rhe.displayName="Textarea";function Xqe({open:t,onOpenChange:e}){const{pendingAddChain:r,verifySeedForAddChain:n,confirmAddChain:s,abortAddChain:i,getSeedWordCount:a}=Yi(),{toast:o}=ki(),[c,l]=F.useState(""),[u,f]=F.useState(""),[h,m]=F.useState(!1),[v,x]=F.useState(0),[k,E]=F.useState(""),_=a()||12,M=F.useCallback(()=>{l(""),f(""),E(""),x(0),i(),e(!1)},[i,e]),B=async()=>{if(!c.trim()){E("Please enter your recovery phrase");return}if(c.trim().split(/\s+/).length!==_){E(`Please enter all ${_} words of your recovery phrase`);return}m(!0),E("");try{if(await n(c))await s(u.trim()||void 0)?(o({title:"Network Added",description:`${(r==null?void 0:r.chainName)||"Network"} wallet has been created.`}),l(""),f(""),x(0),e(!1)):E("Failed to create wallet. Please try again.");else{const T=v+1;x(T),T>=3?E("Too many failed attempts. Please close and try again later."):E(`Incorrect recovery phrase. ${3-T} attempts remaining.`)}}catch{E("Verification failed. Please try again.")}finally{m(!1)}};return r?d.jsx(es,{open:t,onOpenChange:D=>{D||M()},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{className:"flex items-center gap-2",children:[d.jsx($s,{className:"h-5 w-5 text-primary"}),"Security Verification"]}),d.jsxs(Kn,{children:["To add ",r.chainName," to your wallet, please verify ownership by entering your recovery phrase."]})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-amber-200 bg-amber-50 p-3 dark:border-amber-900 dark:bg-amber-950/30",children:[d.jsx(dn,{className:"mt-0.5 h-4 w-4 shrink-0 text-amber-600 dark:text-amber-400"}),d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"This security check ensures only you can add new networks to your wallet. Your recovery phrase is never stored or transmitted."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"seed-phrase",children:["Recovery Phrase (",_," words)"]}),d.jsx(Rhe,{id:"seed-phrase",placeholder:`Enter your ${_}-word recovery phrase...`,value:c,onChange:D=>{l(D.target.value),E("")},className:"min-h-[100px] font-mono text-sm",disabled:h||v>=3,"data-testid":"input-seed-verification"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"wallet-label",className:"flex items-center gap-1",children:[d.jsx(rre,{className:"h-3 w-3"}),"Wallet Name (Optional)"]}),d.jsx(ir,{id:"wallet-label",placeholder:r.chainName,value:u,onChange:D=>f(D.target.value),disabled:h||v>=3,"data-testid":"input-wallet-label"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Give this wallet a custom name to easily identify it"})]}),k&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),k]})]}),d.jsxs(Ss,{className:"gap-2 sm:gap-0",children:[d.jsx(Te,{variant:"outline",onClick:M,disabled:h,children:"Cancel"}),d.jsx(Te,{onClick:B,disabled:h||v>=3||!c.trim(),"data-testid":"button-verify-seed",children:h?d.jsxs(d.Fragment,{children:[d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify & Add Network"})]})]})}):null}function Zqe({chain:t,wallet:e,onRename:r}){const{toast:n}=ki(),[s,i]=F.useState(!1),[a,o]=F.useState((e==null?void 0:e.label)||t.name),[c,l]=F.useState(!1),u=()=>{e&&(navigator.clipboard.writeText(e.address),n({title:"Address Copied",description:"Wallet address copied to clipboard."}))},f=async()=>{if(!(!e||!r||!a.trim())){l(!0);try{await r(e.id,a.trim()),n({title:"Wallet Renamed",description:`Wallet renamed to "${a.trim()}"`}),i(!1)}catch{n({title:"Error",description:"Failed to rename wallet",variant:"destructive"})}finally{l(!1)}}};return d.jsxs(Gt,{className:"overflow-hidden","data-testid":`card-chain-${t.symbol}`,children:[d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Yn,{symbol:t.symbol,iconColor:t.iconColor,size:"lg"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("h3",{className:"font-semibold",children:(e==null?void 0:e.label)||t.name}),e&&r&&d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{o(e.label||t.name),i(!0)},"data-testid":`button-rename-${t.symbol}`,children:d.jsx(rre,{className:"h-3 w-3"})})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.symbol})]})]}),d.jsx("div",{className:"flex gap-1",children:t.isDefault&&d.jsx(rr,{variant:"secondary",className:"text-xs",children:"Default"})})]}),d.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Chain ID"}),d.jsx("span",{className:"font-mono",children:t.chainId})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:t.decimals})]}),e&&d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("code",{className:"text-xs font-mono",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:u,children:d.jsx(Oo,{className:"h-3 w-3"})})]})]})]}),t.blockExplorer&&d.jsxs(Te,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:()=>window.open(t.blockExplorer,"_blank"),"data-testid":`button-explorer-${t.symbol}`,children:[d.jsx(ax,{className:"mr-2 h-4 w-4"}),"Block Explorer"]})]}),d.jsx(es,{open:s,onOpenChange:i,children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Rename Wallet"}),d.jsxs(Kn,{children:["Give your ",t.name," wallet a custom name"]})]}),d.jsxs("div",{className:"py-4",children:[d.jsx(Zt,{htmlFor:"wallet-name",children:"Wallet Name"}),d.jsx(ir,{id:"wallet-name",value:a,onChange:h=>o(h.target.value),placeholder:"My Wallet",className:"mt-2","data-testid":"input-rename-wallet"})]}),d.jsxs(Ss,{className:"gap-2 sm:gap-0",children:[d.jsx(Te,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),d.jsx(Te,{onClick:f,disabled:c||!a.trim(),"data-testid":"button-confirm-rename",children:c?d.jsxs(d.Fragment,{children:[d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})}function Jqe({addCustomChain:t}){const{toast:e}=ki(),[r,n]=F.useState(!1),[s,i]=F.useState(!1),[a,o]=F.useState({name:"",symbol:"",rpcUrl:"",chainId:"",blockExplorer:"",decimals:"18"}),c=()=>{o({name:"",symbol:"",rpcUrl:"",chainId:"",blockExplorer:"",decimals:"18"})},l=async u=>{u.preventDefault(),i(!0);try{await t({name:a.name,symbol:a.symbol.toUpperCase(),rpcUrl:a.rpcUrl,chainId:parseInt(a.chainId),blockExplorer:a.blockExplorer||void 0,decimals:parseInt(a.decimals),iconColor:"#6B7280"}),e({title:"Network Added",description:`${a.name} has been added successfully.`}),n(!1),c()}catch{e({title:"Error",description:"Failed to add network. Please try again.",variant:"destructive"})}finally{i(!1)}};return d.jsxs(es,{open:r,onOpenChange:n,children:[d.jsx(Uy,{asChild:!0,children:d.jsxs(Te,{"data-testid":"button-add-chain",children:[d.jsx(Nd,{className:"mr-2 h-4 w-4"}),"Add Network"]})}),d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Add Custom Network"}),d.jsx(Kn,{children:"Add a new blockchain network to your wallet"})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"name",children:"Network Name"}),d.jsx(ir,{id:"name",placeholder:"Ethereum Mainnet",value:a.name,onChange:u=>o({...a,name:u.target.value}),required:!0,"data-testid":"input-chain-name"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"symbol",children:"Currency Symbol"}),d.jsx(ir,{id:"symbol",placeholder:"ETH",value:a.symbol,onChange:u=>o({...a,symbol:u.target.value.toUpperCase()}),required:!0,"data-testid":"input-chain-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chainId",children:"Chain ID"}),d.jsx(ir,{id:"chainId",type:"number",placeholder:"1",value:a.chainId,onChange:u=>o({...a,chainId:u.target.value}),required:!0,"data-testid":"input-chain-id"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"rpcUrl",children:"RPC URL"}),d.jsx(ir,{id:"rpcUrl",placeholder:"https://mainnet.infura.io/v3/...",value:a.rpcUrl,onChange:u=>o({...a,rpcUrl:u.target.value}),required:!0,"data-testid":"input-chain-rpc"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"blockExplorer",children:"Block Explorer URL (Optional)"}),d.jsx(ir,{id:"blockExplorer",placeholder:"https://etherscan.io",value:a.blockExplorer,onChange:u=>o({...a,blockExplorer:u.target.value}),"data-testid":"input-chain-explorer"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"decimals",children:"Decimals"}),d.jsx(ir,{id:"decimals",type:"number",placeholder:"18",value:a.decimals,onChange:u=>o({...a,decimals:u.target.value}),required:!0,"data-testid":"input-chain-decimals"})]}),d.jsxs(Ss,{children:[d.jsx(Te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),d.jsx(Te,{type:"submit",disabled:s,"data-testid":"button-submit-chain",children:s?"Adding...":"Add Network"})]})]})]})]})}const Dhe=[{id:"ETH",name:"Ethereum (ERC-20)",evmChainId:1,rpcUrl:"https://eth.llamarpc.com",type:"evm"},{id:"BNB",name:"BNB Chain (BEP-20)",evmChainId:56,rpcUrl:"https://bsc-dataseed.binance.org",type:"evm"},{id:"MATIC",name:"Polygon",evmChainId:137,rpcUrl:"https://polygon-rpc.com",type:"evm"},{id:"ARB",name:"Arbitrum",evmChainId:42161,rpcUrl:"https://arb1.arbitrum.io/rpc",type:"evm"},{id:"TRX",name:"TRON (TRC-20)",evmChainId:0,rpcUrl:"",type:"tron"}];function MK({addCustomToken:t,customChains:e}){const{toast:r}=ki(),[n,s]=F.useState(!1),[i,a]=F.useState(""),[o,c]=F.useState(""),[l,u]=F.useState(null),[f,h]=F.useState(!1),[m,v]=F.useState(""),[x,k]=F.useState(!1),[E,P]=F.useState(""),[_,M]=F.useState(""),[B,D]=F.useState("18"),j=[...Dhe,...e.map(S=>({id:S.id,name:`${S.name} (Custom)`,evmChainId:S.chainId,rpcUrl:S.rpcUrl,type:"evm",isCustom:!0}))],T=j.find(S=>S.id===i),R=(T==null?void 0:T.type)==="tron",H=S=>{a(S),u(null),v(""),P(""),M(""),D("18")},O=S=>{c(S),u(null),v("")},b=async()=>{if(!i||!o)return;const S=j.find(N=>N.id===i);if(S){if(S.type==="tron"){v("TRON tokens require manual entry. Please fill in the token details below.");return}h(!0),v("");try{const N=await jle(o,S.rpcUrl,S.evmChainId);N?u(N):v("Could not fetch token info. Please verify the contract address.")}catch{v("Failed to fetch token info. Please check the address.")}finally{h(!1)}}},w=()=>!i||!o?!1:R?E.trim()&&_.trim()&&B:!!l,p=async()=>{if(!i||!o)return;const S=j.find(I=>I.id===i);if(!S)return;const N=R?{name:E.trim(),symbol:_.trim().toUpperCase(),decimals:parseInt(B)||18}:l;if(N){k(!0);try{await t({chainId:S.id,chainType:S.type,contractAddress:o.trim(),name:N.name,symbol:N.symbol,decimals:N.decimals,evmChainId:S.evmChainId,rpcUrl:S.rpcUrl}),r({title:"Token Added",description:`${N.name} has been added successfully.`}),g(),s(!1)}catch{r({title:"Error",description:"Failed to add token. Please try again.",variant:"destructive"})}finally{k(!1)}}},g=()=>{a(""),c(""),u(null),v(""),P(""),M(""),D("18")};return d.jsxs(es,{open:n,onOpenChange:S=>{s(S),S||g()},children:[d.jsx(Uy,{asChild:!0,children:d.jsxs(Te,{variant:"outline","data-testid":"button-add-token",children:[d.jsx(Nd,{className:"mr-2 h-4 w-4"}),"Add Token"]})}),d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Add Custom Token"}),d.jsx(Kn,{children:"Add an ERC-20, BEP-20, or TRC-20 token by entering its contract address."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Blockchain Network"}),d.jsxs(k1,{value:i,onValueChange:H,children:[d.jsx(Jp,{id:"chain","data-testid":"select-token-chain",children:d.jsx(Ox,{placeholder:"Select a network"})}),d.jsx(Qp,{children:j.map(S=>d.jsx(ll,{value:S.id,children:S.name},S.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"contract",children:"Contract Address"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ir,{id:"contract",placeholder:R?"T...":"0x...",value:o,onChange:S=>O(S.target.value),className:"font-mono","data-testid":"input-token-contract"}),!R&&d.jsx(Te,{variant:"outline",onClick:b,disabled:!i||!o||f,"data-testid":"button-fetch-info",children:f?d.jsx(fl,{className:"h-4 w-4 animate-spin"}):"Fetch"})]})]}),m&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[d.jsx(j4,{className:"h-4 w-4"}),m]}),R&&i&&d.jsxs("div",{className:"space-y-3 rounded-md border p-3 bg-muted/50",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter token details manually for TRC-20 tokens:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualName",children:"Token Name"}),d.jsx(ir,{id:"manualName",placeholder:"e.g., Tether USD",value:E,onChange:S=>P(S.target.value),"data-testid":"input-manual-name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualSymbol",children:"Token Symbol"}),d.jsx(ir,{id:"manualSymbol",placeholder:"e.g., USDT",value:_,onChange:S=>M(S.target.value),"data-testid":"input-manual-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualDecimals",children:"Decimals"}),d.jsx(ir,{id:"manualDecimals",type:"number",min:"0",max:"18",placeholder:"18",value:B,onChange:S=>D(S.target.value),"data-testid":"input-manual-decimals"})]})]}),l&&!R&&d.jsxs("div",{className:"rounded-md border p-3 space-y-2 bg-muted/50",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),d.jsx("span",{className:"font-medium",children:l.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Symbol:"}),d.jsx("span",{className:"font-medium",children:l.symbol})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Decimals:"}),d.jsx("span",{className:"font-medium",children:l.decimals})]})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{g(),s(!1)},children:"Cancel"}),d.jsxs(Te,{onClick:p,disabled:!w()||x,"data-testid":"button-submit-token",children:[x?d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Token"]})]})]})]})}function Qqe({token:t,onRemove:e}){const r=Dhe.find(n=>n.id===t.chainId);return d.jsx(Gt,{"data-testid":`card-token-${t.symbol}`,children:d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:d.jsx(ix,{className:"h-5 w-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:t.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.symbol})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[r&&d.jsx(rr,{variant:"outline",className:"text-xs",children:r.name.split(" ")[0]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>e(t.id),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900/20","data-testid":`button-remove-token-${t.id}`,children:d.jsx(m3,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contract"}),d.jsxs("code",{className:"text-xs font-mono",children:[t.contractAddress.slice(0,6),"...",t.contractAddress.slice(-4)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:t.decimals})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Type"}),d.jsx("span",{className:"uppercase text-xs",children:t.chainType})]})]})]})})}function Yqe({chain:t,onClick:e}){return d.jsx(Gt,{className:"cursor-pointer hover-elevate active-elevate-2 transition-all",onClick:e,"data-testid":`card-add-network-${t.symbol}`,children:d.jsxs(er,{className:"flex flex-col items-center justify-center p-6 text-center",children:[d.jsx(Yn,{symbol:t.symbol,iconColor:t.iconColor,size:"lg"}),d.jsx("h3",{className:"mt-3 font-semibold",children:t.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap to add"})]})})}function Gqe(){const{wallets:t,isUnlocked:e,chains:r,customTokens:n,addCustomToken:s,removeCustomToken:i,addCustomChain:a,customChains:o,pendingAddChain:c,setPendingAddChain:l,walletMode:u,renameWallet:f}=Yi(),h=t.length>0,[m,v]=F.useState("chains"),[x,k]=F.useState(!1),E=r.filter(M=>t.some(B=>B.chainId===M.id)),P=r.filter(M=>!t.some(B=>B.chainId===M.id)),_=M=>{u==="soft_wallet"&&(l({chainId:M.id,chainName:M.name}),k(!0))};return!h||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Chains & Tokens"}),d.jsx(o5,{})]}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(S2,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Chains & Tokens"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(MK,{addCustomToken:s,customChains:o}),d.jsx(Jqe,{addCustomChain:a})]})]}),d.jsxs(a5,{value:m,onValueChange:v,children:[d.jsxs(w2,{className:"mb-6",children:[d.jsxs(No,{value:"chains","data-testid":"tab-chains",children:[d.jsx(EF,{className:"mr-2 h-4 w-4"}),"Networks (",E.length,")"]}),d.jsxs(No,{value:"tokens","data-testid":"tab-tokens",children:[d.jsx(ix,{className:"mr-2 h-4 w-4"}),"Tokens (",n.length,")"]})]}),d.jsxs(Eo,{value:"chains",className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Chains"}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[E.length," network",E.length!==1?"s":""," active"]}),E.length>0?d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:E.map(M=>{const B=t.find(D=>D.chainId===M.id);return d.jsx(Zqe,{chain:M,wallet:B,onRename:f},M.id)})}):d.jsx(Gt,{children:d.jsx(er,{className:"py-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No active networks. Add one below."})})})]}),P.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Add Networks"}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[P.length," available"]}),d.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:P.map(M=>d.jsx(Yqe,{chain:M,onClick:()=>_(M)},M.id))})]})]}),d.jsx(Eo,{value:"tokens",children:n.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(ix,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Custom Tokens"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add custom ERC-20, BEP-20, or TRC-20 tokens to track"}),d.jsx(MK,{addCustomToken:s,customChains:o})]})}):d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(M=>d.jsx(Qqe,{token:M,onRemove:i},M.id))})})]}),d.jsx(Xqe,{open:x&&!!c,onOpenChange:k})]})}var uD="Switch",[eKe,m6t]=Zi(uD),[tKe,rKe]=eKe(uD),Uhe=F.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:l,form:u,...f}=t,[h,m]=F.useState(null),v=yr(e,_=>m(_)),x=F.useRef(!1),k=h?u||!!h.closest("form"):!0,[E=!1,P]=Iu({prop:s,defaultProp:i,onChange:l});return d.jsxs(tKe,{scope:r,checked:E,disabled:o,children:[d.jsx(Qt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":a,"data-state":Vhe(E),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:v,onClick:_t(t.onClick,_=>{P(M=>!M),k&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),k&&d.jsx(nKe,{control:h,bubbles:!x.current,name:n,value:c,checked:E,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Uhe.displayName=uD;var zhe="SwitchThumb",Lhe=F.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=rKe(zhe,r);return d.jsx(Qt.span,{"data-state":Vhe(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Lhe.displayName=zhe;var nKe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=F.useRef(null),a=Wk(r),o=jP(e);return F.useEffect(()=>{const c=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Vhe(t){return t?"checked":"unchecked"}var Hhe=Uhe,sKe=Lhe;const gS=F.forwardRef(({className:t,...e},r)=>d.jsx(Hhe,{className:jt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:d.jsx(sKe,{className:jt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gS.displayName=Hhe.displayName;var $e={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uM=function(t,e){return uM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},uM(t,e)};function iKe(t,e){uM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dM=function(){return dM=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},dM.apply(this,arguments)};function aKe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function oKe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function cKe(t,e){return function(r,n){e(r,n,t)}}function lKe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function uKe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{l(n.next(u))}catch(f){a(f)}}function c(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function dKe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fKe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function hKe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function fM(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Whe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function pKe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Whe(arguments[e]));return t}function mKe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function V6(t){return this instanceof V6?(this.v=t,this):new V6(t)}function gKe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(m){return new Promise(function(v,x){i.push([h,m,v,x])>1||o(h,m)})})}function o(h,m){try{c(n[h](m))}catch(v){f(i[0][3],v)}}function c(h){h.value instanceof V6?Promise.resolve(h.value.v).then(l,u):f(i[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,m){h(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}function bKe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:V6(t[s](a)),done:s==="return"}:i?i(a):a}:i}}function yKe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fM=="function"?fM(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function vKe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function xKe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function wKe(t){return t&&t.__esModule?t:{default:t}}function AKe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function SKe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const PKe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return dM},__asyncDelegator:bKe,__asyncGenerator:gKe,__asyncValues:yKe,__await:V6,__awaiter:uKe,__classPrivateFieldGet:AKe,__classPrivateFieldSet:SKe,__createBinding:fKe,__decorate:oKe,__exportStar:hKe,__extends:iKe,__generator:dKe,__importDefault:wKe,__importStar:xKe,__makeTemplateObject:vKe,__metadata:lKe,__param:cKe,__read:Whe,__rest:aKe,__spread:pKe,__spreadArrays:mKe,__values:fM},Symbol.toStringTag,{value:"Module"})),Gk=oP(PKe);var S_={},lw={},OK;function kKe(){if(OK)return lw;OK=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return lw.delay=t,lw}var Nm={},P_={},Em={},FK;function IKe(){return FK||(FK=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.ONE_THOUSAND=Em.ONE_HUNDRED=void 0,Em.ONE_HUNDRED=100,Em.ONE_THOUSAND=1e3),Em}var k_={},BK;function NKe(){return BK||(BK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(k_)),k_}var RK;function qhe(){return RK||(RK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Gk;e.__exportStar(IKe(),t),e.__exportStar(NKe(),t)}(P_)),P_}var DK;function EKe(){if(DK)return Nm;DK=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.fromMiliseconds=Nm.toMiliseconds=void 0;const t=qhe();function e(n){return n*t.ONE_THOUSAND}Nm.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Nm.fromMiliseconds=r,Nm}var UK;function _Ke(){return UK||(UK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Gk;e.__exportStar(kKe(),t),e.__exportStar(EKe(),t)}(S_)),S_}var fb={},zK;function CKe(){if(zK)return fb;zK=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return fb.Watch=t,fb.default=t,fb}var I_={},uw={},LK;function TKe(){if(LK)return uw;LK=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.IWatch=void 0;class t{}return uw.IWatch=t,uw}var VK;function jKe(){return VK||(VK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Gk.__exportStar(TKe(),t)}(I_)),I_}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Gk;e.__exportStar(_Ke(),t),e.__exportStar(CKe(),t),e.__exportStar(jKe(),t),e.__exportStar(qhe(),t)})($e);class Js{}let $Ke=class extends Js{constructor(e){super()}};const HK=$e.FIVE_SECONDS,Gi={pulse:"heartbeat_pulse"};let dD=class Khe extends $Ke{constructor(e){super(e),this.events=new Un.EventEmitter,this.interval=HK,this.interval=(e==null?void 0:e.interval)||HK}static async init(e){const r=new Khe(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),$e.toMiliseconds(this.interval))}pulse(){this.events.emit(Gi.pulse)}};const MKe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,OKe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,FKe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function BKe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){RKe(t);return}return e}function RKe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function i9(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!FKe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(MKe.test(t)||OKe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,BKe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function DKe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ii(t,...e){try{return DKe(t(...e))}catch(r){return Promise.reject(r)}}function UKe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function zKe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function v7(t){if(UKe(t))return String(t);if(zKe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return v7(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const hM="base64:";function LKe(t){return typeof t=="string"?t:hM+WKe(t)}function VKe(t){return typeof t!="string"||!t.startsWith(hM)?t:HKe(t.slice(hM.length))}function HKe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function WKe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function yo(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function qKe(...t){return yo(t.join(":"))}function a9(t){return t=yo(t),t?t+":":""}function KKe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function XKe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ZKe="memory",JKe=()=>{const t=new Map;return{name:ZKe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function fD(t={}){const e={mounts:{"":t.driver||JKe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=yo(u);for(const f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await WK(e.mounts[l],s,l)}},a=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},o=(l,u,f)=>{const h=new Map,m=v=>{let x=h.get(v.base);return x||(x={driver:v.driver,base:v.base,items:[]},h.set(v.base,x)),x};for(const v of l){const x=typeof v=="string",k=yo(x?v:v.key),E=x?void 0:v.value,P=x||!v.options?u:{...u,...v.options},_=r(k);m(_).items.push({key:k,value:E,relativeKey:_.relativeKey,options:P})}return Promise.all([...h.values()].map(v=>f(v))).then(v=>v.flat())},c={hasItem(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return ii(h.hasItem,f,u)},getItem(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return ii(h.getItem,f,u).then(m=>i9(m))},getItems(l,u={}){return o(l,u,f=>f.driver.getItems?ii(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(m=>({key:qKe(f.base,m.key),value:i9(m.value)}))):Promise.all(f.items.map(h=>ii(f.driver.getItem,h.relativeKey,h.options).then(m=>({key:h.key,value:i9(m)})))))},getItemRaw(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return h.getItemRaw?ii(h.getItemRaw,f,u):ii(h.getItem,f,u).then(m=>VKe(m))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=yo(l);const{relativeKey:h,driver:m}=r(l);m.setItem&&(await ii(m.setItem,h,v7(u),f),m.watch||s("update",l))},async setItems(l,u){await o(l,u,async f=>{if(f.driver.setItems)return ii(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:v7(h.value),options:h.options})),u);f.driver.setItem&&await Promise.all(f.items.map(h=>ii(f.driver.setItem,h.relativeKey,v7(h.value),h.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=yo(l);const{relativeKey:h,driver:m}=r(l);if(m.setItemRaw)await ii(m.setItemRaw,h,u,f);else if(m.setItem)await ii(m.setItem,h,LKe(u),f);else return;m.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=yo(l);const{relativeKey:f,driver:h}=r(l);h.removeItem&&(await ii(h.removeItem,f,u),(u.removeMeta||u.removeMata)&&await ii(h.removeItem,f+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=yo(l);const{relativeKey:f,driver:h}=r(l),m=Object.create(null);if(h.getMeta&&Object.assign(m,await ii(h.getMeta,f,u)),!u.nativeOnly){const v=await ii(h.getItem,f+"$",u).then(x=>i9(x));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(m,v))}return m},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var k;l=a9(l);const f=n(l,!0);let h=[];const m=[];let v=!0;for(const E of f){(k=E.driver.flags)!=null&&k.maxDepth||(v=!1);const P=await ii(E.driver.getKeys,E.relativeBase,u);for(const _ of P){const M=E.mountpoint+yo(_);h.some(B=>M.startsWith(B))||m.push(M)}h=[E.mountpoint,...h.filter(_=>!_.startsWith(E.mountpoint))]}const x=u.maxDepth!==void 0&&!v;return m.filter(E=>(!x||KKe(E,u.maxDepth))&&XKe(E,l))},async clear(l,u={}){l=a9(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return ii(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(h.map(m=>f.driver.removeItem(m,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>qK(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(l,u){if(l=a9(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(WK(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,h;l=a9(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(f=e.unwatch)[l])==null||h.call(f),delete e.unwatch[l]),u&&await qK(e.mounts[l]),e.mountpoints=e.mountpoints.filter(m=>m!==l),delete e.mounts[l])},getMount(l=""){l=yo(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=yo(l),n(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function WK(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function qK(t){typeof t.dispose=="function"&&await ii(t.dispose)}function q1(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function eI(t,e){let r;const n=()=>{if(r)return r;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),r=q1(s),r.then(i=>{i.onclose=()=>r=void 0},()=>{}),r};return(s,i)=>n().then(a=>i(a.transaction(e,s).objectStore(e)))}let N_;function l5(){return N_||(N_=eI("keyval-store","keyval")),N_}function Fx(t,e=l5()){return e("readonly",r=>q1(r.get(t)))}function hD(t,e,r=l5()){return r("readwrite",n=>(n.put(e,t),q1(n.transaction)))}function pD(t,e=l5()){return e("readwrite",r=>(r.delete(t),q1(r.transaction)))}function mD(t=l5()){return t("readwrite",e=>(e.clear(),q1(e.transaction)))}function QKe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},q1(t.transaction)}function gD(t=l5()){return t("readonly",e=>{if(e.getAllKeys)return q1(e.getAllKeys());const r=[];return QKe(e,n=>r.push(n.key)).then(()=>r)})}const YKe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),GKe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Ai(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return GKe(t)}catch{return t}}function Zs(t){return typeof t=="string"?t:YKe(t)||""}const eXe="idb-keyval";var tXe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=eI(t.dbName,t.storeName)),{name:eXe,options:t,async hasItem(s){return!(typeof await Fx(r(s),n)>"u")},async getItem(s){return await Fx(r(s),n)??null},setItem(s,i){return hD(r(s),i,n)},removeItem(s){return pD(r(s),n)},getKeys(){return gD(n)},clear(){return mD(n)}}};const rXe="WALLET_CONNECT_V2_INDEXED_DB",nXe="keyvaluestorage";let sXe=class{constructor(){this.indexedDb=fD({driver:tXe({dbName:rXe,storeName:nXe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Zs(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof E_<"u"&&E_.localStorage?x7.exports=E_.localStorage:typeof window<"u"&&window.localStorage?x7.exports=window.localStorage:x7.exports=new e})();function iXe(t){var e;return[t[0],Ai((e=t[1])!=null?e:"")]}let aXe=class{constructor(){this.localStorage=x7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(iXe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ai(r)}async setItem(e,r){this.localStorage.setItem(e,Zs(r))}async removeItem(e){this.localStorage.removeItem(e)}};const oXe="wc_storage_version",KK=1,cXe=async(t,e,r)=>{const n=oXe,s=await e.getItem(n);if(s&&s>=KK){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,KK),r(e),lXe(t,a)},lXe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let uXe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new aXe;this.storage=e;try{const r=new sXe;cXe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Id={exports:{}};function dXe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var fXe=hXe;function hXe(t,e,r){var n=r&&r.stringify||dXe,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var a=new Array(i);a[0]=n(t);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,f=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Number(e[u]),f=m+2,m++;break;case 105:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Math.floor(Number(e[u])),f=m+2,m++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<m&&(l+=t.slice(f,m));var v=typeof e[u];if(v==="string"){l+="'"+e[u]+"'",f=m+2,m++;break}if(v==="function"){l+=e[u].name||"<anonymous>",f=m+2,m++;break}l+=n(e[u]),f=m+2,m++;break;case 115:if(u>=c)break;f<m&&(l+=t.slice(f,m)),l+=String(e[u]),f=m+2,m++;break;case 37:f<m&&(l+=t.slice(f,m)),l+="%",f=m+2,m++,u--;break}++u}++m}return f===-1?t:(f<h&&(l+=t.slice(f)),l)}const XK=fXe;Id.exports=vh;const H6=EXe().console||{},pXe={mapHttpRequest:o9,mapHttpResponse:o9,wrapRequestSerializer:__,wrapResponseSerializer:__,wrapErrorSerializer:__,req:o9,res:o9,err:JK,errWithCause:JK};function bp(t,e){return t==="silent"?1/0:e.levels.values[t]}const bD=Symbol("pino.logFuncs"),pM=Symbol("pino.hierarchy"),mXe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function ZK(t,e){const r={logger:e,parent:t[pM]};e[pM]=r}function gXe(t,e,r){const n={};e.forEach(s=>{n[s]=r[s]?r[s]:H6[s]||H6[mXe[s]||"log"]||Ly}),t[bD]=n}function bXe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function vh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||H6;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=bXe(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&o.forEach(function(x){r[x]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const c=t.level||"info",l=Object.create(r);l.log||(l.log=Ly),gXe(l,o,r),ZK({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:h,set:m});const u={transmit:e,serialize:s,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:o,timestamp:kXe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Ly};l.levels=yXe(t),l.level=c,l.isLevelEnabled=function(x){return this.levels.values[x]?this.levels.values[x]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Ly,l.serializers=n,l._serialize=s,l._stdErrSerialize=i,l.child=function(...x){return v.call(this,u,...x)},e&&(l._logEvent=mM());function f(){return bp(this.level,this)}function h(){return this._level}function m(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,_m(this,u,l,"error"),_m(this,u,l,"fatal"),_m(this,u,l,"warn"),_m(this,u,l,"info"),_m(this,u,l,"debug"),_m(this,u,l,"trace"),a.forEach(k=>{_m(this,u,l,k)})}function v(x,k,E){if(!k)throw new Error("missing bindings for child Pino");E=E||{},s&&k.serializers&&(E.serializers=k.serializers);const P=E.serializers;if(s&&P){var _=Object.assign({},n,P),M=t.browser.serialize===!0?Object.keys(_):s;delete k.serializers,yD([k],M,_,this._stdErrSerialize)}function B(j){this._childLevel=(j._childLevel|0)+1,this.bindings=k,_&&(this.serializers=_,this._serialize=M),e&&(this._logEvent=mM([].concat(j._logEvent.bindings,k)))}B.prototype=this;const D=new B(this);return ZK(this,D),D.child=function(...j){return v.call(this,x,...j)},D.level=E.level||this.level,x.onChild(D),D}return l}function yXe(t){const e=t.customLevels||{},r=Object.assign({},vh.levels.values,e),n=Object.assign({},vh.levels.labels,vXe(e));return{values:r,labels:n}}function vXe(t){const e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}vh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},vh.stdSerializers=pXe,vh.stdTimeFunctions=Object.assign({},{nullTime:Xhe,epochTime:Zhe,unixTime:IXe,isoTime:NXe});function xXe(t){const e=[];t.bindings&&e.push(t.bindings);let r=t[pM];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function _m(t,e,r,n){if(Object.defineProperty(t,n,{value:bp(t.level,r)>bp(n,r)?Ly:r[bD][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Ly){if(!e.transmit)return;const i=e.transmit.level||t.level,a=bp(i,r);if(bp(n,r)<a)return}t[n]=AXe(t,e,r,n);const s=xXe(t);s.length!==0&&(t[n]=wXe(s,t[n]))}function wXe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function AXe(t,e,r,n){return function(s){return function(){const i=e.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===H6?H6:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];var l=!1;if(e.serialize&&(yD(a,this._serialize,this.serializers,this._stdErrSerialize),l=!0),e.asObject||e.formatters?s.call(o,...SXe(this,n,a,i,e)):s.apply(o,a),e.transmit){const u=e.transmit.level||t._level,f=bp(u,r),h=bp(n,r);if(h<f)return;PXe(this,{ts:i,methodLevel:n,methodValue:h,transmitLevel:u,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:bp(t._level,r)},a,l)}}}(t[bD][n])}function SXe(t,e,r,n,s){const{level:i,log:a=f=>f}=s.formatters||{},o=r.slice();let c=o[0];const l={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),n&&(l.time=n),i){const f=i(e,t.levels.values[e]);Object.assign(l,f)}else l.level=t.levels.values[e];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());return[a(l),...o]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());c=o.length?XK(o.shift(),o):void 0}else typeof c=="string"&&(c=XK(o.shift(),o));return c!==void 0&&(l[s.messageKey]=c),[a(l)]}}function yD(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=vh.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s])&&e)for(const i in t[s])e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function PXe(t,e,r,n=!1){const s=e.send,i=e.ts,a=e.methodLevel,o=e.methodValue,c=e.val,l=t._logEvent.bindings;n||yD(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return l.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,s(a,t._logEvent,c),t._logEvent=mM(l)}function mM(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function JK(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function kXe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Xhe:Zhe}function o9(){return{}}function __(t){return t}function Ly(){}function Xhe(){return!1}function Zhe(){return Date.now()}function IXe(){return Math.round(Date.now()/1e3)}function NXe(){return new Date(Date.now()).toISOString()}function EXe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}Id.exports.default=vh;Id.exports.pino=vh;const _Xe={level:"info"},tI="custom_context",vD=1e3*1024;var CXe=Object.defineProperty,TXe=(t,e,r)=>e in t?CXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,z0=(t,e,r)=>TXe(t,typeof e!="symbol"?e+"":e,r);let jXe=class{constructor(e){z0(this,"nodeValue"),z0(this,"sizeInBytes"),z0(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},QK=class{constructor(e){z0(this,"lengthInNodes"),z0(this,"sizeInBytes"),z0(this,"head"),z0(this,"tail"),z0(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new jXe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}};const $Xe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);function YK(t){return typeof t=="string"?t:$Xe(t)||""}var MXe=Object.defineProperty,OXe=(t,e,r)=>e in t?MXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c9=(t,e,r)=>OXe(t,typeof e!="symbol"?e+"":e,r);let Jhe=class{constructor(e,r=vD){c9(this,"logs"),c9(this,"level"),c9(this,"levelValue"),c9(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Id.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new QK(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Id.exports.levels.values.error?console.error(e):r===Id.exports.levels.values.warn?console.warn(e):r===Id.exports.levels.values.debug?console.debug(e):r===Id.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(YK({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new QK(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(YK({extraMetadata:e})),new Blob(r,{type:"application/json"})}};var FXe=Object.defineProperty,BXe=(t,e,r)=>e in t?FXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RXe=(t,e,r)=>BXe(t,e+"",r);let DXe=class{constructor(e,r=vD){RXe(this,"baseChunkLogger"),this.baseChunkLogger=new Jhe(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}};var UXe=Object.defineProperty,zXe=(t,e,r)=>e in t?UXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,LXe=(t,e,r)=>zXe(t,e+"",r);let VXe=class{constructor(e,r=vD){LXe(this,"baseChunkLogger"),this.baseChunkLogger=new Jhe(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var HXe=Object.defineProperty,WXe=Object.defineProperties,qXe=Object.getOwnPropertyDescriptors,GK=Object.getOwnPropertySymbols,KXe=Object.prototype.hasOwnProperty,XXe=Object.prototype.propertyIsEnumerable,eX=(t,e,r)=>e in t?HXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bS=(t,e)=>{for(var r in e||(e={}))KXe.call(e,r)&&eX(t,r,e[r]);if(GK)for(var r of GK(e))XXe.call(e,r)&&eX(t,r,e[r]);return t},yS=(t,e)=>WXe(t,qXe(e));function ZXe(t){return yS(bS({},t),{level:(t==null?void 0:t.level)||_Xe.level})}function JXe(t,e,r=tI){return t[r]=e,t}function Pc(t,e=tI){return t[e]||""}function QXe(t,e,r=tI){const n=Pc(t,r);return n.trim()?`${n}/${e}`:e}function kc(t,e,r=tI){const n=QXe(t,e,r),s=t.child({context:n});return JXe(s,n,r)}function YXe(t){var e,r;const n=new DXe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Id.exports(yS(bS({},t.opts),{level:"trace",browser:yS(bS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function GXe(t){var e;const r=new VXe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Id.exports(yS(bS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function Qhe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?YXe(t):GXe(t)}var eZe=Object.defineProperty,tZe=(t,e,r)=>e in t?eZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tX=(t,e,r)=>tZe(t,typeof e!="symbol"?e+"":e,r);let rZe=class extends Js{constructor(e){super(),this.opts=e,tX(this,"protocol","wc"),tX(this,"version",2)}};var nZe=Object.defineProperty,sZe=(t,e,r)=>e in t?nZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iZe=(t,e,r)=>sZe(t,e+"",r);let aZe=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r,iZe(this,"records",new Map)}},oZe=class{constructor(e,r){this.logger=e,this.core=r}},cZe=class extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}},lZe=class extends Js{constructor(e){super()}},uZe=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},dZe=class extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}},fZe=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r}},hZe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},pZe=class{constructor(e,r){this.projectId=e,this.logger=r}},mZe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};function gZe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yhe(t,...e){if(!gZe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function rX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bZe(t,e){Yhe(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const hb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yZe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ghe(t){return typeof t=="string"&&(t=yZe(t)),Yhe(t),t}let vZe=class{clone(){return this._cloneInto()}};function xZe(t){const e=n=>t().update(Ghe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function e0e(t=32){if(hb&&typeof hb.getRandomValues=="function")return hb.getRandomValues(new Uint8Array(t));if(hb&&typeof hb.randomBytes=="function")return hb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function wZe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}let AZe=class extends vZe{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C_(this.buffer)}update(e){rX(this);const{view:r,buffer:n,blockLen:s}=this;e=Ghe(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=C_(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rX(this),bZe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;wZe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=C_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}};const l9=BigInt(2**32-1),gM=BigInt(32);function t0e(t,e=!1){return e?{h:Number(t&l9),l:Number(t>>gM&l9)}:{h:Number(t>>gM&l9)|0,l:Number(t&l9)|0}}function SZe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=t0e(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const PZe=(t,e)=>BigInt(t>>>0)<<gM|BigInt(e>>>0),kZe=(t,e,r)=>t>>>r,IZe=(t,e,r)=>t<<32-r|e>>>r,NZe=(t,e,r)=>t>>>r|e<<32-r,EZe=(t,e,r)=>t<<32-r|e>>>r,_Ze=(t,e,r)=>t<<64-r|e>>>r-32,CZe=(t,e,r)=>t>>>r-32|e<<64-r,TZe=(t,e)=>e,jZe=(t,e)=>t,$Ze=(t,e,r)=>t<<r|e>>>32-r,MZe=(t,e,r)=>e<<r|t>>>32-r,OZe=(t,e,r)=>e<<r-32|t>>>64-r,FZe=(t,e,r)=>t<<r-32|e>>>64-r;function BZe(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const RZe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),DZe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,UZe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),zZe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,LZe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),VZe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Er={fromBig:t0e,split:SZe,toBig:PZe,shrSH:kZe,shrSL:IZe,rotrSH:NZe,rotrSL:EZe,rotrBH:_Ze,rotrBL:CZe,rotr32H:TZe,rotr32L:jZe,rotlSH:$Ze,rotlSL:MZe,rotlBH:OZe,rotlBL:FZe,add:BZe,add3L:RZe,add3H:DZe,add4L:UZe,add4H:zZe,add5H:VZe,add5L:LZe},[HZe,WZe]=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),d0=new Uint32Array(80),f0=new Uint32Array(80);let qZe=class extends AZe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:v,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)d0[_]=e.getUint32(r),f0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const M=d0[_-15]|0,B=f0[_-15]|0,D=Er.rotrSH(M,B,1)^Er.rotrSH(M,B,8)^Er.shrSH(M,B,7),j=Er.rotrSL(M,B,1)^Er.rotrSL(M,B,8)^Er.shrSL(M,B,7),T=d0[_-2]|0,R=f0[_-2]|0,H=Er.rotrSH(T,R,19)^Er.rotrBH(T,R,61)^Er.shrSH(T,R,6),O=Er.rotrSL(T,R,19)^Er.rotrBL(T,R,61)^Er.shrSL(T,R,6),b=Er.add4L(j,O,f0[_-7],f0[_-16]),w=Er.add4H(b,D,H,d0[_-7],d0[_-16]);d0[_]=w|0,f0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:v,Gh:x,Gl:k,Hh:E,Hl:P}=this;for(let _=0;_<80;_++){const M=Er.rotrSH(f,h,14)^Er.rotrSH(f,h,18)^Er.rotrBH(f,h,41),B=Er.rotrSL(f,h,14)^Er.rotrSL(f,h,18)^Er.rotrBL(f,h,41),D=f&m^~f&x,j=h&v^~h&k,T=Er.add5L(P,B,j,WZe[_],f0[_]),R=Er.add5H(T,E,M,D,HZe[_],d0[_]),H=T|0,O=Er.rotrSH(n,s,28)^Er.rotrBH(n,s,34)^Er.rotrBH(n,s,39),b=Er.rotrSL(n,s,28)^Er.rotrBL(n,s,34)^Er.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;E=x|0,P=k|0,x=m|0,k=v|0,m=f|0,v=h|0,{h:f,l:h}=Er.add(l|0,u|0,R|0,H|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Er.add3L(H,b,p);n=Er.add3H(g,R,O,w),s=g|0}({h:n,l:s}=Er.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Er.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Er.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Er.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Er.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:v}=Er.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:x,l:k}=Er.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:E,l:P}=Er.add(this.Hh|0,this.Hl|0,E|0,P|0),this.set(n,s,i,a,o,c,l,u,f,h,m,v,x,k,E,P)}roundClean(){d0.fill(0),f0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const KZe=xZe(()=>new qZe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xD=BigInt(0),r0e=BigInt(1),XZe=BigInt(2);function wD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function AD(t){if(!wD(t))throw new Error("Uint8Array expected")}function T_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const ZZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function SD(t){AD(t);let e="";for(let r=0;r<t.length;r++)e+=ZZe[t[r]];return e}function n0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?xD:BigInt("0x"+t)}const Af={_0:48,_9:57,A:65,F:70,a:97,f:102};function nX(t){if(t>=Af._0&&t<=Af._9)return t-Af._0;if(t>=Af.A&&t<=Af.F)return t-(Af.A-10);if(t>=Af.a&&t<=Af.f)return t-(Af.a-10)}function s0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const a=nX(t.charCodeAt(i)),o=nX(t.charCodeAt(i+1));if(a===void 0||o===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=a*16+o}return n}function JZe(t){return n0e(SD(t))}function w7(t){return AD(t),n0e(SD(Uint8Array.from(t).reverse()))}function i0e(t,e){return s0e(t.toString(16).padStart(e*2,"0"))}function bM(t,e){return i0e(t,e).reverse()}function Sf(t,e,r){let n;if(typeof e=="string")try{n=s0e(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(wD(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function sX(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];AD(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const j_=t=>typeof t=="bigint"&&xD<=t;function QZe(t,e,r){return j_(t)&&j_(e)&&j_(r)&&e<=t&&t<r}function dw(t,e,r,n){if(!QZe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function YZe(t){let e;for(e=0;t>xD;t>>=r0e,e+=1);return e}const GZe=t=>(XZe<<BigInt(t-1))-r0e,eJe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wD(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function PD(t,e,r={}){const n=(s,i,a)=>{const o=eJe[i];if(typeof o!="function")throw new Error("invalid validator function");const c=t[s];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function iX(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const pi=BigInt(0),js=BigInt(1),Xm=BigInt(2),tJe=BigInt(3),yM=BigInt(4),aX=BigInt(5),oX=BigInt(8);function qs(t,e){const r=t%e;return r>=pi?r:e+r}function rJe(t,e,r){if(e<pi)throw new Error("invalid exponent, negatives unsupported");if(r<=pi)throw new Error("invalid modulus");if(r===js)return pi;let n=js;for(;e>pi;)e&js&&(n=n*t%r),t=t*t%r,e>>=js;return n}function Hu(t,e,r){let n=t;for(;e-- >pi;)n*=n,n%=r;return n}function cX(t,e){if(t===pi)throw new Error("invert: expected non-zero number");if(e<=pi)throw new Error("invert: expected positive modulus, got "+e);let r=qs(t,e),n=e,s=pi,i=js;for(;r!==pi;){const a=n/r,o=n%r,c=s-i*a;n=r,r=o,s=i,i=c}if(n!==js)throw new Error("invert: does not exist");return qs(s,e)}function nJe(t){const e=(t-js)/Xm;let r,n,s;for(r=t-js,n=0;r%Xm===pi;r/=Xm,n++);for(s=Xm;s<t&&rJe(s,e,t)!==t-js;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(t+js)/yM;return function(o,c){const l=o.pow(c,a);if(!o.eql(o.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(r+js)/Xm;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,l=a.pow(a.mul(a.ONE,s),r),u=a.pow(o,i),f=a.pow(o,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let v=a.sqr(f);h<c&&!a.eql(v,a.ONE);h++)v=a.sqr(v);const m=a.pow(l,js<<BigInt(c-h-1));l=a.sqr(m),u=a.mul(u,m),f=a.mul(f,l),c=h}return u}}function sJe(t){if(t%yM===tJe){const e=(t+js)/yM;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%oX===aX){const e=(t-aX)/oX;return function(r,n){const s=r.mul(n,Xm),i=r.pow(s,e),a=r.mul(n,i),o=r.mul(r.mul(a,Xm),i),c=r.mul(a,r.sub(o,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return nJe(t)}const iJe=(t,e)=>(qs(t,e)&js)===js,aJe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oJe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=aJe.reduce((n,s)=>(n[s]="function",n),e);return PD(t,r)}function cJe(t,e,r){if(r<pi)throw new Error("invalid exponent, negatives unsupported");if(r===pi)return t.ONE;if(r===js)return e;let n=t.ONE,s=e;for(;r>pi;)r&js&&(n=t.mul(n,s)),s=t.sqr(s),r>>=js;return n}function lJe(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function a0e(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function o0e(t,e,r=!1,n={}){if(t<=pi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=a0e(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:GZe(s),ZERO:pi,ONE:js,create:c=>qs(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return pi<=c&&c<t},is0:c=>c===pi,isOdd:c=>(c&js)===js,neg:c=>qs(-c,t),eql:(c,l)=>c===l,sqr:c=>qs(c*c,t),add:(c,l)=>qs(c+l,t),sub:(c,l)=>qs(c-l,t),mul:(c,l)=>qs(c*l,t),pow:(c,l)=>cJe(o,c,l),div:(c,l)=>qs(c*cX(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>cX(c,t),sqrt:n.sqrt||(c=>(a||(a=sJe(t)),a(o,c))),invertBatch:c=>lJe(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?bM(c,i):i0e(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?w7(c):JZe(c)}});return Object.freeze(o)}const lX=BigInt(0),u9=BigInt(1);function $_(t,e){const r=e.negate();return t?r:e}function c0e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function M_(t,e){c0e(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function uJe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function dJe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const O_=new WeakMap,l0e=new WeakMap;function F_(t){return l0e.get(t)||1}function fJe(t,e){return{constTimeNegate:$_,hasPrecomputes(r){return F_(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>lX;)n&u9&&(s=s.add(i)),i=i.double(),n>>=u9;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=M_(n,e),a=[];let o=r,c=o;for(let l=0;l<s;l++){c=o,a.push(c);for(let u=1;u<i;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(r,n,s){const{windows:i,windowSize:a}=M_(r,e);let o=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<i;h++){const m=h*a;let v=Number(s&l);s>>=f,v>a&&(v-=u,s+=u9);const x=m,k=m+Math.abs(v)-1,E=h%2!==0,P=v<0;v===0?c=c.add($_(E,n[x])):o=o.add($_(P,n[k]))}return{p:o,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:a,windowSize:o}=M_(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<a;f++){const h=f*o;if(s===lX)break;let m=Number(s&c);if(s>>=u,m>o&&(m-=l,s+=u9),m===0)continue;let v=n[h+Math.abs(m)-1];m<0&&(v=v.negate()),i=i.add(v)}return i},getPrecomputes(r,n,s){let i=O_.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&O_.set(n,s(i))),i},wNAFCached(r,n,s){const i=F_(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const a=F_(r);return a===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),n,i)},setWindowSize(r,n){c0e(n,e),l0e.set(r,n),O_.delete(r)}}}function hJe(t,e,r,n){if(uJe(r,t),dJe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=YZe(BigInt(r.length)),a=i>12?i-3:i>4?i-2:i?2:1,o=(1<<a)-1,c=new Array(o+1).fill(s),l=Math.floor((e.BITS-1)/a)*a;let u=s;for(let f=l;f>=0;f-=a){c.fill(s);for(let m=0;m<n.length;m++){const v=n[m],x=Number(v>>BigInt(f)&BigInt(o));c[x]=c[x].add(r[m])}let h=s;for(let m=c.length-1,v=s;m>0;m--)v=v.add(c[m]),h=h.add(v);if(u=u.add(h),f!==0)for(let m=0;m<a;m++)u=u.double()}return u}function pJe(t){return oJe(t.Fp),PD(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...a0e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Rl=BigInt(0),po=BigInt(1),d9=BigInt(2),mJe=BigInt(8),gJe={zip215:!0};function bJe(t){const e=pJe(t);return PD(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function yJe(t){const e=bJe(t),{Fp:r,n,prehash:s,hash:i,randomBytes:a,nByteLength:o,h:c}=e,l=d9<<BigInt(o*8)-po,u=r.create,f=o0e(e.n,e.nBitLength),h=e.uvRatio||((g,S)=>{try{return{isValid:!0,value:r.sqrt(g*r.inv(S))}}catch{return{isValid:!1,value:Rl}}}),m=e.adjustScalarBytes||(g=>g),v=e.domain||((g,S,N)=>{if(T_("phflag",N),S.length||N)throw new Error("Contexts/pre-hash are not supported");return g});function x(g,S){dw("coordinate "+g,S,Rl,l)}function k(g){if(!(g instanceof _))throw new Error("ExtendedPoint expected")}const E=iX((g,S)=>{const{ex:N,ey:I,ez:A}=g,y=g.is0();S==null&&(S=y?mJe:r.inv(A));const C=u(N*S),$=u(I*S),L=u(A*S);if(y)return{x:Rl,y:po};if(L!==po)throw new Error("invZ was invalid");return{x:C,y:$}}),P=iX(g=>{const{a:S,d:N}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:I,ey:A,ez:y,et:C}=g,$=u(I*I),L=u(A*A),Q=u(y*y),U=u(Q*Q),J=u($*S),Z=u(Q*u(J+L)),re=u(U+u(N*u($*L)));if(Z!==re)throw new Error("bad point: equation left != right (1)");const G=u(I*A),z=u(y*C);if(G!==z)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(S,N,I,A){this.ex=S,this.ey=N,this.ez=I,this.et=A,x("x",S),x("y",N),x("z",I),x("t",A),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof _)throw new Error("extended point not allowed");const{x:N,y:I}=S||{};return x("x",N),x("y",I),new _(N,I,po,u(N*I))}static normalizeZ(S){const N=r.invertBatch(S.map(I=>I.ez));return S.map((I,A)=>I.toAffine(N[A])).map(_.fromAffine)}static msm(S,N){return hJe(_,f,S,N)}_setWindowSize(S){D.setWindowSize(this,S)}assertValidity(){P(this)}equals(S){k(S);const{ex:N,ey:I,ez:A}=this,{ex:y,ey:C,ez:$}=S,L=u(N*$),Q=u(y*A),U=u(I*$),J=u(C*A);return L===Q&&U===J}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:N,ey:I,ez:A}=this,y=u(N*N),C=u(I*I),$=u(d9*u(A*A)),L=u(S*y),Q=N+I,U=u(u(Q*Q)-y-C),J=L+C,Z=J-$,re=L-C,G=u(U*Z),z=u(J*re),se=u(U*re),ce=u(Z*J);return new _(G,z,ce,se)}add(S){k(S);const{a:N,d:I}=e,{ex:A,ey:y,ez:C,et:$}=this,{ex:L,ey:Q,ez:U,et:J}=S;if(N===BigInt(-1)){const qe=u((y-A)*(Q+L)),Ae=u((y+A)*(Q-L)),Oe=u(Ae-qe);if(Oe===Rl)return this.double();const We=u(C*d9*J),Be=u($*d9*U),ze=Be+We,Ke=Ae+qe,ct=Be-We,Y=u(ze*Oe),V=u(Ke*ct),q=u(ze*ct),ne=u(Oe*Ke);return new _(Y,V,ne,q)}const Z=u(A*L),re=u(y*Q),G=u($*I*J),z=u(C*U),se=u((A+y)*(L+Q)-Z-re),ce=z-G,pe=z+G,Ce=u(re-N*Z),ke=u(se*ce),tt=u(pe*Ce),mt=u(se*Ce),we=u(ce*pe);return new _(ke,tt,we,mt)}subtract(S){return this.add(S.negate())}wNAF(S){return D.wNAFCached(this,S,_.normalizeZ)}multiply(S){const N=S;dw("scalar",N,po,n);const{p:I,f:A}=this.wNAF(N);return _.normalizeZ([I,A])[0]}multiplyUnsafe(S,N=_.ZERO){const I=S;return dw("scalar",I,Rl,n),I===Rl?B:this.is0()||I===po?this:D.wNAFCachedUnsafe(this,I,_.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,n).is0()}toAffine(S){return E(this,S)}clearCofactor(){const{h:S}=e;return S===po?this:this.multiplyUnsafe(S)}static fromHex(S,N=!1){const{d:I,a:A}=e,y=r.BYTES;S=Sf("pointHex",S,y),T_("zip215",N);const C=S.slice(),$=S[y-1];C[y-1]=$&-129;const L=w7(C),Q=N?l:r.ORDER;dw("pointHex.y",L,Rl,Q);const U=u(L*L),J=u(U-po),Z=u(I*U-A);let{isValid:re,value:G}=h(J,Z);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const z=(G&po)===po,se=($&128)!==0;if(!N&&G===Rl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==z&&(G=u(-G)),_.fromAffine({x:G,y:L})}static fromPrivateKey(S){return R(S).point}toRawBytes(){const{x:S,y:N}=this.toAffine(),I=bM(N,r.BYTES);return I[I.length-1]|=S&po?128:0,I}toHex(){return SD(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,po,u(e.Gx*e.Gy)),_.ZERO=new _(Rl,po,po,Rl);const{BASE:M,ZERO:B}=_,D=fJe(_,o*8);function j(g){return qs(g,n)}function T(g){return j(w7(g))}function R(g){const S=r.BYTES;g=Sf("private key",g,S);const N=Sf("hashed private key",i(g),2*S),I=m(N.slice(0,S)),A=N.slice(S,2*S),y=T(I),C=M.multiply(y),$=C.toRawBytes();return{head:I,prefix:A,scalar:y,point:C,pointBytes:$}}function H(g){return R(g).pointBytes}function O(g=new Uint8Array,...S){const N=sX(...S);return T(i(v(N,Sf("context",g),!!s)))}function b(g,S,N={}){g=Sf("message",g),s&&(g=s(g));const{prefix:I,scalar:A,pointBytes:y}=R(S),C=O(N.context,I,g),$=M.multiply(C).toRawBytes(),L=O(N.context,$,y,g),Q=j(C+L*A);dw("signature.s",Q,Rl,n);const U=sX($,bM(Q,r.BYTES));return Sf("result",U,r.BYTES*2)}const w=gJe;function p(g,S,N,I=w){const{context:A,zip215:y}=I,C=r.BYTES;g=Sf("signature",g,2*C),S=Sf("message",S),N=Sf("publicKey",N,C),y!==void 0&&T_("zip215",y),s&&(S=s(S));const $=w7(g.slice(C,2*C));let L,Q,U;try{L=_.fromHex(N,y),Q=_.fromHex(g.slice(0,C),y),U=M.multiplyUnsafe($)}catch{return!1}if(!y&&L.isSmallOrder())return!1;const J=O(A,Q.toRawBytes(),L.toRawBytes(),S);return Q.add(L.multiplyUnsafe(J)).subtract(U).clearCofactor().equals(_.ZERO)}return M._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:b,verify:p,ExtendedPoint:_,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>a(r.BYTES),precompute(g=8,S=_.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const kD=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),uX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const vJe=BigInt(1),dX=BigInt(2);BigInt(3);const xJe=BigInt(5),wJe=BigInt(8);function AJe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=kD,a=t*t%i*t%i,o=Hu(a,dX,i)*a%i,c=Hu(o,vJe,i)*t%i,l=Hu(c,xJe,i)*c%i,u=Hu(l,e,i)*l%i,f=Hu(u,r,i)*u%i,h=Hu(f,n,i)*f%i,m=Hu(h,s,i)*h%i,v=Hu(m,s,i)*h%i,x=Hu(v,e,i)*l%i;return{pow_p_5_8:Hu(x,dX,i)*t%i,b2:a}}function SJe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function PJe(t,e){const r=kD,n=qs(e*e*e,r),s=qs(n*n*e,r),i=AJe(t*s).pow_p_5_8;let a=qs(t*n*i,r);const o=qs(e*a*a,r),c=a,l=qs(a*uX,r),u=o===t,f=o===qs(-t,r),h=o===qs(-t*uX,r);return u&&(a=c),(f||h)&&(a=l),iJe(a,r)&&(a=qs(-a,r)),{isValid:u||f,value:a}}const kJe=o0e(kD,void 0,!0),IJe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kJe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:wJe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:KZe,randomBytes:e0e,adjustScalarBytes:SJe,uvRatio:PJe},u0e=yJe(IJe),NJe="EdDSA",EJe="JWT",vS=".",rI="base64url",d0e="utf8",f0e="utf8",_Je=":",CJe="did",TJe="key",fX="base58btc",jJe="z",$Je="K36",MJe=32;function ID(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function h0e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ID(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function p0e(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=h0e(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return ID(r)}function OJe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var FJe=OJe,BJe=FJe;const m0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},RJe=t=>new TextEncoder().encode(t),DJe=t=>new TextDecoder().decode(t);let UJe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},zJe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return g0e(this,e)}},LJe=class{constructor(e){this.decoders=e}or(e){return g0e(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const g0e=(t,e)=>new LJe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let VJe=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new UJe(e,r,n),this.decoder=new zJe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const nI=({name:t,prefix:e,encode:r,decode:n})=>new VJe(t,e,r,n),u5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=BJe(r,e);return nI({prefix:t,name:e,encode:n,decode:i=>m0e(s(i))})},HJe=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},WJe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ea=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>nI({prefix:e,name:t,encode(s){return WJe(s,n,r)},decode(s){return HJe(s,n,r,t)}}),qJe=nI({prefix:"\0",name:"identity",encode:t=>DJe(t),decode:t=>RJe(t)});var KJe=Object.freeze({__proto__:null,identity:qJe});const XJe=ea({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ZJe=Object.freeze({__proto__:null,base2:XJe});const JJe=ea({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var QJe=Object.freeze({__proto__:null,base8:JJe});const YJe=u5({prefix:"9",name:"base10",alphabet:"0123456789"});var GJe=Object.freeze({__proto__:null,base10:YJe});const eQe=ea({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tQe=ea({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var rQe=Object.freeze({__proto__:null,base16:eQe,base16upper:tQe});const nQe=ea({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sQe=ea({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iQe=ea({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aQe=ea({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oQe=ea({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cQe=ea({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lQe=ea({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uQe=ea({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dQe=ea({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fQe=Object.freeze({__proto__:null,base32:nQe,base32upper:sQe,base32pad:iQe,base32padupper:aQe,base32hex:oQe,base32hexupper:cQe,base32hexpad:lQe,base32hexpadupper:uQe,base32z:dQe});const hQe=u5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pQe=u5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mQe=Object.freeze({__proto__:null,base36:hQe,base36upper:pQe});const gQe=u5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bQe=u5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var yQe=Object.freeze({__proto__:null,base58btc:gQe,base58flickr:bQe});const vQe=ea({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xQe=ea({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wQe=ea({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),AQe=ea({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var SQe=Object.freeze({__proto__:null,base64:vQe,base64pad:xQe,base64url:wQe,base64urlpad:AQe});const b0e=Array.from(""),PQe=b0e.reduce((t,e,r)=>(t[r]=e,t),[]),kQe=b0e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function IQe(t){return t.reduce((e,r)=>(e+=PQe[r],e),"")}function NQe(t){const e=[];for(const r of t){const n=kQe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const EQe=nI({prefix:"",name:"base256emoji",encode:IQe,decode:NQe});var _Qe=Object.freeze({__proto__:null,base256emoji:EQe}),CQe=y0e,hX=128,TQe=127,jQe=~TQe,$Qe=Math.pow(2,31);function y0e(t,e,r){e=e||[],r=r||0;for(var n=r;t>=$Qe;)e[r++]=t&255|hX,t/=128;for(;t&jQe;)e[r++]=t&255|hX,t>>>=7;return e[r]=t|0,y0e.bytes=r-n+1,e}var MQe=vM,OQe=128,pX=127;function vM(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw vM.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&pX)<<s:(a&pX)*Math.pow(2,s),s+=7}while(a>=OQe);return vM.bytes=i-n,r}var FQe=Math.pow(2,7),BQe=Math.pow(2,14),RQe=Math.pow(2,21),DQe=Math.pow(2,28),UQe=Math.pow(2,35),zQe=Math.pow(2,42),LQe=Math.pow(2,49),VQe=Math.pow(2,56),HQe=Math.pow(2,63),WQe=function(t){return t<FQe?1:t<BQe?2:t<RQe?3:t<DQe?4:t<UQe?5:t<zQe?6:t<LQe?7:t<VQe?8:t<HQe?9:10},qQe={encode:CQe,decode:MQe,encodingLength:WQe},v0e=qQe;const mX=(t,e,r=0)=>(v0e.encode(t,e,r),e),gX=t=>v0e.encodingLength(t),xM=(t,e)=>{const r=e.byteLength,n=gX(t),s=n+gX(r),i=new Uint8Array(s+r);return mX(t,i,0),mX(r,i,n),i.set(e,s),new KQe(t,r,e,i)};let KQe=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const x0e=({name:t,code:e,encode:r})=>new XQe(t,e,r);let XQe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?xM(this.code,r):r.then(n=>xM(this.code,n))}else throw Error("Unknown type, must be binary type")}};const w0e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ZQe=x0e({name:"sha2-256",code:18,encode:w0e("SHA-256")}),JQe=x0e({name:"sha2-512",code:19,encode:w0e("SHA-512")});var QQe=Object.freeze({__proto__:null,sha256:ZQe,sha512:JQe});const A0e=0,YQe="identity",S0e=m0e,GQe=t=>xM(A0e,S0e(t)),eYe={code:A0e,name:YQe,encode:S0e,digest:GQe};var tYe=Object.freeze({__proto__:null,identity:eYe});new TextEncoder,new TextDecoder;const bX={...KJe,...ZJe,...QJe,...GJe,...rQe,...fQe,...mQe,...yQe,...SQe,..._Qe};({...QQe,...tYe});function P0e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const yX=P0e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),B_=P0e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=h0e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),k0e={utf8:yX,"utf-8":yX,hex:bX.base16,latin1:B_,ascii:B_,binary:B_,...bX};function sI(t,e="utf8"){const r=k0e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function P2(t,e="utf8"){const r=k0e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ID(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function vX(t){return Ai(sI(P2(t,rI),d0e))}function xS(t){return sI(P2(Zs(t),d0e),rI)}function I0e(t){const e=P2($Je,fX),r=jJe+sI(p0e([e,t]),fX);return[CJe,TJe,r].join(_Je)}function rYe(t){return sI(t,rI)}function nYe(t){return P2(t,rI)}function sYe(t){return P2([xS(t.header),xS(t.payload)].join(vS),f0e)}function iYe(t){return[xS(t.header),xS(t.payload),rYe(t.signature)].join(vS)}function wM(t){const e=t.split(vS),r=vX(e[0]),n=vX(e[1]),s=nYe(e[2]),i=P2(e.slice(0,2).join(vS),f0e);return{header:r,payload:n,signature:s,data:i}}function xX(t=e0e(MJe)){const e=u0e.getPublicKey(t);return{secretKey:p0e([t,e]),publicKey:e}}async function aYe(t,e,r,n,s=$e.fromMiliseconds(Date.now())){const i={alg:NJe,typ:EJe},a=I0e(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=sYe({header:i,payload:c}),u=u0e.sign(l,n.secretKey.slice(0,32));return iYe({header:i,payload:c,signature:u})}var wX=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},oYe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),cYe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),lYe=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),uYe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),dYe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),fYe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hYe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,AX=3,pYe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fYe]],SX=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ND(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dYe:typeof navigator<"u"?gYe(navigator.userAgent):yYe()}function mYe(t){return t!==""&&pYe.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function gYe(t){var e=mYe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new uYe;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<AX&&(s=wX(wX([],s,!0),vYe(AX-s.length),!0)):s=[];var i=s.join("."),a=bYe(t),o=hYe.exec(t);return o&&o[1]?new lYe(r,i,a,o[1]):new oYe(r,i,a)}function bYe(t){for(var e=0,r=SX.length;e<r;e++){var n=SX[e],s=n[0],i=n[1],a=i.exec(t);if(a)return s}return null}function yYe(){var t=typeof process<"u"&&process.version;return t?new cYe(process.version.slice(1)):null}function vYe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.getLocalStorage=Cn.getLocalStorageOrThrow=Cn.getCrypto=Cn.getCryptoOrThrow=iI=Cn.getLocation=Cn.getLocationOrThrow=X1=Cn.getNavigator=Cn.getNavigatorOrThrow=xc=Cn.getDocument=Cn.getDocumentOrThrow=Cn.getFromWindowOrThrow=Cn.getFromWindow=void 0;function K1(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Cn.getFromWindow=K1;function k2(t){const e=K1(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Cn.getFromWindowOrThrow=k2;function xYe(){return k2("document")}Cn.getDocumentOrThrow=xYe;function wYe(){return K1("document")}var xc=Cn.getDocument=wYe;function AYe(){return k2("navigator")}Cn.getNavigatorOrThrow=AYe;function SYe(){return K1("navigator")}var X1=Cn.getNavigator=SYe;function PYe(){return k2("location")}Cn.getLocationOrThrow=PYe;function kYe(){return K1("location")}var iI=Cn.getLocation=kYe;function IYe(){return k2("crypto")}Cn.getCryptoOrThrow=IYe;function NYe(){return K1("crypto")}Cn.getCrypto=NYe;function EYe(){return k2("localStorage")}Cn.getLocalStorageOrThrow=EYe;function _Ye(){return K1("localStorage")}Cn.getLocalStorage=_Ye;var ED={};Object.defineProperty(ED,"__esModule",{value:!0});var aI=ED.getWindowMetadata=void 0;const PX=Cn;function CYe(){let t,e;try{t=PX.getDocumentOrThrow(),e=PX.getLocationOrThrow()}catch{return null}function r(){const f=t.getElementsByTagName("link"),h=[];for(let m=0;m<f.length;m++){const v=f[m],x=v.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const k=v.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let E=e.protocol+"//"+e.host;if(k.indexOf("/")===0)E+=k;else{const P=e.pathname.split("/");P.pop();const _=P.join("/");E+=_+"/"+k}h.push(E)}else if(k.indexOf("//")===0){const E=e.protocol+k;h.push(E)}else h.push(k)}}return h}function n(...f){const h=t.getElementsByTagName("meta");for(let m=0;m<h.length;m++){const v=h[m],x=["itemprop","property","name"].map(k=>v.getAttribute(k)).filter(k=>k?f.includes(k):!1);if(x.length&&x){const k=v.getAttribute("content");if(k)return k}}return""}function s(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function i(){return n("description","og:description","twitter:description","keywords")}const a=s(),o=i(),c=e.origin,l=r();return{description:o,url:c,icons:l,name:a}}aI=ED.getWindowMetadata=CYe;function _D(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function N0e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_D(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function S3(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=N0e(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return _D(r)}function TYe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var jYe=TYe,$Ye=jYe;const MYe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},OYe=t=>new TextEncoder().encode(t),FYe=t=>new TextDecoder().decode(t);class BYe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class RYe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return E0e(this,e)}}class DYe{constructor(e){this.decoders=e}or(e){return E0e(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const E0e=(t,e)=>new DYe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class UYe{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new BYe(e,r,n),this.decoder=new RYe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const oI=({name:t,prefix:e,encode:r,decode:n})=>new UYe(t,e,r,n),d5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=$Ye(r,e);return oI({prefix:t,name:e,encode:n,decode:i=>MYe(s(i))})},zYe=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},LYe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ta=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>oI({prefix:e,name:t,encode(s){return LYe(s,n,r)},decode(s){return zYe(s,n,r,t)}}),VYe=oI({prefix:"\0",name:"identity",encode:t=>FYe(t),decode:t=>OYe(t)}),HYe=Object.freeze(Object.defineProperty({__proto__:null,identity:VYe},Symbol.toStringTag,{value:"Module"})),WYe=ta({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),qYe=Object.freeze(Object.defineProperty({__proto__:null,base2:WYe},Symbol.toStringTag,{value:"Module"})),KYe=ta({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),XYe=Object.freeze(Object.defineProperty({__proto__:null,base8:KYe},Symbol.toStringTag,{value:"Module"})),ZYe=d5({prefix:"9",name:"base10",alphabet:"0123456789"}),JYe=Object.freeze(Object.defineProperty({__proto__:null,base10:ZYe},Symbol.toStringTag,{value:"Module"})),QYe=ta({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YYe=ta({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),GYe=Object.freeze(Object.defineProperty({__proto__:null,base16:QYe,base16upper:YYe},Symbol.toStringTag,{value:"Module"})),eGe=ta({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tGe=ta({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rGe=ta({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nGe=ta({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sGe=ta({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iGe=ta({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aGe=ta({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oGe=ta({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cGe=ta({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lGe=Object.freeze(Object.defineProperty({__proto__:null,base32:eGe,base32hex:sGe,base32hexpad:aGe,base32hexpadupper:oGe,base32hexupper:iGe,base32pad:rGe,base32padupper:nGe,base32upper:tGe,base32z:cGe},Symbol.toStringTag,{value:"Module"})),uGe=d5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dGe=d5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),fGe=Object.freeze(Object.defineProperty({__proto__:null,base36:uGe,base36upper:dGe},Symbol.toStringTag,{value:"Module"})),hGe=d5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pGe=d5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),mGe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:hGe,base58flickr:pGe},Symbol.toStringTag,{value:"Module"})),gGe=ta({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bGe=ta({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yGe=ta({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vGe=ta({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),xGe=Object.freeze(Object.defineProperty({__proto__:null,base64:gGe,base64pad:bGe,base64url:yGe,base64urlpad:vGe},Symbol.toStringTag,{value:"Module"})),_0e=Array.from(""),wGe=_0e.reduce((t,e,r)=>(t[r]=e,t),[]),AGe=_0e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function SGe(t){return t.reduce((e,r)=>(e+=wGe[r],e),"")}function PGe(t){const e=[];for(const r of t){const n=AGe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const kGe=oI({prefix:"",name:"base256emoji",encode:SGe,decode:PGe}),IGe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:kGe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Bx={...HYe,...qYe,...XYe,...JYe,...GYe,...lGe,...fGe,...mGe,...xGe,...IGe};function C0e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const kX=C0e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),R_=C0e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=N0e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),T0e={utf8:kX,"utf-8":kX,hex:Bx.base16,latin1:R_,ascii:R_,binary:R_,...Bx};function pl(t,e="utf8"){const r=T0e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_D(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ro(t,e="utf8"){const r=T0e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const CD={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var NGe={};const EGe="ReactNative",yu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},_Ge="js";function wS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Z1(){return!xc()&&!!X1()&&navigator.product===EGe}function CGe(){return Z1()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function TGe(){return Z1()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function I2(){return!wS()&&!!X1()&&!!xc()}function cI(){return Z1()?yu.reactNative:wS()?yu.node:I2()?yu.browser:yu.unknown}function IX(){var t;try{return Z1()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function jGe(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function $Ge(){return aI()||{name:"",description:"",url:"",icons:[""]}}function MGe(){if(cI()===yu.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=ND();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function OGe(){var t;const e=cI();return e===yu.browser?[e,((t=iI())==null?void 0:t.host)||"unknown"].join(":"):e}function j0e(t,e,r){const n=MGe(),s=OGe();return[[t,e].join("-"),[_Ge,r].join("-"),n,s].join("/")}function FGe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o,packageName:c}){const l=r.split("?"),u=j0e(t,e,n),f={auth:s,ua:u,projectId:i,useOnCloseEvent:a||void 0,packageName:c||void 0,bundleId:o||void 0},h=jGe(l[1]||"",f);return l[0]+"?"+h}function D_(t,e){return t.filter(r=>e.includes(r)).length===t.length}function AM(t){return Object.fromEntries(t.entries())}function SM(t){return new Map(Object.entries(t))}function BGe(t=$e.FIVE_MINUTES,e){const r=$e.toMiliseconds(t||$e.FIVE_MINUTES);let n,s,i,a;return{resolve:o=>{i&&n&&(clearTimeout(i),n(o),a=Promise.resolve(o))},reject:o=>{i&&s&&(clearTimeout(i),s(o))},done:()=>new Promise((o,c)=>{if(a)return o(a);i=setTimeout(()=>{const l=new Error(e);a=Promise.reject(l),c(l)},r),n=o,s=c})}}function Td(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function $0e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function RGe(t){return $0e("topic",t)}function DGe(t){return $0e("id",t)}function UGe(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function P3(t,e){return $e.fromMiliseconds(Date.now()+$e.toMiliseconds(t))}function NX(t){return Date.now()>=$e.toMiliseconds(t)}function U_(t,e){return`${t}${e?`:${e}`:""}`}function cg(t=[],e=[]){return[...new Set([...t,...e])]}function EX(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function M0e(){return typeof process<"u"&&NGe.IS_VITEST==="true"}function O0e(t){return Buffer.from(t,"base64").toString("utf-8")}function zGe(t){return new Promise(e=>setTimeout(e,t))}const f9=BigInt(2**32-1),_X=BigInt(32);function F0e(t,e=!1){return e?{h:Number(t&f9),l:Number(t>>_X&f9)}:{h:Number(t>>_X&f9)|0,l:Number(t&f9)|0}}function B0e(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:a,l:o}=F0e(t[i],e);[n[i],s[i]]=[a,o]}return[n,s]}const CX=(t,e,r)=>t>>>r,TX=(t,e,r)=>t<<32-r|e>>>r,j0=(t,e,r)=>t>>>r|e<<32-r,$0=(t,e,r)=>t<<32-r|e>>>r,Jw=(t,e,r)=>t<<64-r|e>>>r-32,Qw=(t,e,r)=>t>>>r-32|e<<64-r,LGe=(t,e)=>e,VGe=(t,e)=>t,HGe=(t,e,r)=>t<<r|e>>>32-r,WGe=(t,e,r)=>e<<r|t>>>32-r,qGe=(t,e,r)=>e<<r-32|t>>>64-r,KGe=(t,e,r)=>t<<r-32|e>>>64-r;function Ql(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const TD=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),jD=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,XGe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),ZGe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,JGe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),QGe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,pb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function lI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ju(t,...e){if(!lI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Fh(t.outputLen),Fh(t.blockLen)}function Yp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $D(t,e){ju(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function W6(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Pl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function z_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wu(t,e){return t<<32-e|t>>>e}const R0e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function D0e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Mf=R0e?t=>t:t=>D0e(t);function YGe(t){for(let e=0;e<t.length;e++)t[e]=D0e(t[e]);return t}const M0=R0e?t=>t:YGe,U0e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",GGe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vy(t){if(ju(t),U0e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=GGe[t[r]];return e}const Pf={_0:48,_9:57,A:65,F:70,a:97,f:102};function jX(t){if(t>=Pf._0&&t<=Pf._9)return t-Pf._0;if(t>=Pf.A&&t<=Pf.F)return t-(Pf.A-10);if(t>=Pf.a&&t<=Pf.f)return t-(Pf.a-10)}function AS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(U0e)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const a=jX(t.charCodeAt(i)),o=jX(t.charCodeAt(i+1));if(a===void 0||o===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=a*16+o}return n}function z0e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Pu(t){return typeof t=="string"&&(t=z0e(t)),ju(t),t}function L0(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];ju(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let dI=class{};function f5(t){const e=n=>t().update(Pu(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function eet(t){const e=(n,s)=>t(s).update(Pu(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function J1(t=32){if(pb&&typeof pb.getRandomValues=="function")return pb.getRandomValues(new Uint8Array(t));if(pb&&typeof pb.randomBytes=="function")return Uint8Array.from(pb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tet=BigInt(0),fw=BigInt(1),ret=BigInt(2),net=BigInt(7),set=BigInt(256),iet=BigInt(113),L0e=[],V0e=[],H0e=[];for(let t=0,e=fw,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],L0e.push(2*(5*n+r)),V0e.push((t+1)*(t+2)/2%64);let s=tet;for(let i=0;i<7;i++)e=(e<<fw^(e>>net)*iet)%set,e&ret&&(s^=fw<<(fw<<BigInt(i))-fw);H0e.push(s)}const W0e=B0e(H0e,!0),aet=W0e[0],oet=W0e[1],$X=(t,e,r)=>r>32?qGe(t,e,r):HGe(t,e,r),MX=(t,e,r)=>r>32?KGe(t,e,r):WGe(t,e,r);function cet(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],f=$X(l,u,1)^r[o],h=MX(l,u,1)^r[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=V0e[a],c=$X(s,i,o),l=MX(s,i,o),u=L0e[a];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=aet[n],t[1]^=oet[n]}Pl(r)}let uet=class q0e extends dI{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Fh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=W6(this.state)}clone(){return this._cloneInto()}keccak(){M0(this.state32),cet(this.state32,this.rounds),M0(this.state32),this.posOut=0,this.pos=0}update(e){Yp(this),e=Pu(e),ju(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Yp(this,!1),ju(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($D(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Pl(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new q0e(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const det=(t,e,r)=>f5(()=>new uet(e,t,r));det(1,136,256/8);function fet(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}function het(t,e,r){return t&e^~t&r}function pet(t,e,r){return t&e^t&r^e&r}let K0e=class extends dI{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=z_(this.buffer)}update(e){Yp(this),e=Pu(e),ju(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=z_(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yp(this),$D(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,Pl(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;fet(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=z_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const h0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ma=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ga=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),met=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),p0=new Uint32Array(64);class get extends K0e{constructor(e=32){super(64,e,8,!1),this.A=h0[0]|0,this.B=h0[1]|0,this.C=h0[2]|0,this.D=h0[3]|0,this.E=h0[4]|0,this.F=h0[5]|0,this.G=h0[6]|0,this.H=h0[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)p0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=p0[f-15],m=p0[f-2],v=Wu(h,7)^Wu(h,18)^h>>>3,x=Wu(m,17)^Wu(m,19)^m>>>10;p0[f]=x+p0[f-7]+v+p0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Wu(o,6)^Wu(o,11)^Wu(o,25),m=u+h+het(o,c,l)+met[f]+p0[f]|0,v=(Wu(n,2)^Wu(n,13)^Wu(n,22))+pet(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+v|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){Pl(p0)}destroy(){this.set(0,0,0,0,0,0,0,0),Pl(this.buffer)}}const X0e=B0e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),bet=X0e[0],yet=X0e[1],m0=new Uint32Array(80),g0=new Uint32Array(80);let MD=class extends K0e{constructor(e=64){super(128,e,16,!1),this.Ah=ga[0]|0,this.Al=ga[1]|0,this.Bh=ga[2]|0,this.Bl=ga[3]|0,this.Ch=ga[4]|0,this.Cl=ga[5]|0,this.Dh=ga[6]|0,this.Dl=ga[7]|0,this.Eh=ga[8]|0,this.El=ga[9]|0,this.Fh=ga[10]|0,this.Fl=ga[11]|0,this.Gh=ga[12]|0,this.Gl=ga[13]|0,this.Hh=ga[14]|0,this.Hl=ga[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:v,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)m0[_]=e.getUint32(r),g0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const M=m0[_-15]|0,B=g0[_-15]|0,D=j0(M,B,1)^j0(M,B,8)^CX(M,B,7),j=$0(M,B,1)^$0(M,B,8)^TX(M,B,7),T=m0[_-2]|0,R=g0[_-2]|0,H=j0(T,R,19)^Jw(T,R,61)^CX(T,R,6),O=$0(T,R,19)^Qw(T,R,61)^TX(T,R,6),b=XGe(j,O,g0[_-7],g0[_-16]),w=ZGe(b,D,H,m0[_-7],m0[_-16]);m0[_]=w|0,g0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:v,Gh:x,Gl:k,Hh:E,Hl:P}=this;for(let _=0;_<80;_++){const M=j0(f,h,14)^j0(f,h,18)^Jw(f,h,41),B=$0(f,h,14)^$0(f,h,18)^Qw(f,h,41),D=f&m^~f&x,j=h&v^~h&k,T=JGe(P,B,j,yet[_],g0[_]),R=QGe(T,E,M,D,bet[_],m0[_]),H=T|0,O=j0(n,s,28)^Jw(n,s,34)^Jw(n,s,39),b=$0(n,s,28)^Qw(n,s,34)^Qw(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;E=x|0,P=k|0,x=m|0,k=v|0,m=f|0,v=h|0,{h:f,l:h}=Ql(l|0,u|0,R|0,H|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=TD(H,b,p);n=jD(g,R,O,w),s=g|0}({h:n,l:s}=Ql(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Ql(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ql(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ql(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Ql(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:v}=Ql(this.Fh|0,this.Fl|0,m|0,v|0),{h:x,l:k}=Ql(this.Gh|0,this.Gl|0,x|0,k|0),{h:E,l:P}=Ql(this.Hh|0,this.Hl|0,E|0,P|0),this.set(n,s,i,a,o,c,l,u,f,h,m,v,x,k,E,P)}roundClean(){Pl(m0,g0)}destroy(){Pl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class vet extends MD{constructor(){super(48),this.Ah=ma[0]|0,this.Al=ma[1]|0,this.Bh=ma[2]|0,this.Bl=ma[3]|0,this.Ch=ma[4]|0,this.Cl=ma[5]|0,this.Dh=ma[6]|0,this.Dl=ma[7]|0,this.Eh=ma[8]|0,this.El=ma[9]|0,this.Fh=ma[10]|0,this.Fl=ma[11]|0,this.Gh=ma[12]|0,this.Gl=ma[13]|0,this.Hh=ma[14]|0,this.Hl=ma[15]|0}}const ba=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class xet extends MD{constructor(){super(32),this.Ah=ba[0]|0,this.Al=ba[1]|0,this.Bh=ba[2]|0,this.Bl=ba[3]|0,this.Ch=ba[4]|0,this.Cl=ba[5]|0,this.Dh=ba[6]|0,this.Dl=ba[7]|0,this.Eh=ba[8]|0,this.El=ba[9]|0,this.Fh=ba[10]|0,this.Fl=ba[11]|0,this.Gh=ba[12]|0,this.Gl=ba[13]|0,this.Hh=ba[14]|0,this.Hl=ba[15]|0}}const Z0e=f5(()=>new get),wet=f5(()=>new MD),Aet=f5(()=>new vet);f5(()=>new xet);const Pet=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),zs=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Dt=new Uint32Array(32);function b0(t,e,r,n,s,i){const a=s[i],o=s[i+1];let c=Dt[2*t],l=Dt[2*t+1],u=Dt[2*e],f=Dt[2*e+1],h=Dt[2*r],m=Dt[2*r+1],v=Dt[2*n],x=Dt[2*n+1],k=TD(c,u,a);l=jD(k,l,f,o),c=k|0,{Dh:x,Dl:v}={Dh:x^l,Dl:v^c},{Dh:x,Dl:v}={Dh:LGe(x,v),Dl:VGe(x)},{h:m,l:h}=Ql(m,h,x,v),{Bh:f,Bl:u}={Bh:f^m,Bl:u^h},{Bh:f,Bl:u}={Bh:j0(f,u,24),Bl:$0(f,u,24)},Dt[2*t]=c,Dt[2*t+1]=l,Dt[2*e]=u,Dt[2*e+1]=f,Dt[2*r]=h,Dt[2*r+1]=m,Dt[2*n]=v,Dt[2*n+1]=x}function y0(t,e,r,n,s,i){const a=s[i],o=s[i+1];let c=Dt[2*t],l=Dt[2*t+1],u=Dt[2*e],f=Dt[2*e+1],h=Dt[2*r],m=Dt[2*r+1],v=Dt[2*n],x=Dt[2*n+1],k=TD(c,u,a);l=jD(k,l,f,o),c=k|0,{Dh:x,Dl:v}={Dh:x^l,Dl:v^c},{Dh:x,Dl:v}={Dh:j0(x,v,16),Dl:$0(x,v,16)},{h:m,l:h}=Ql(m,h,x,v),{Bh:f,Bl:u}={Bh:f^m,Bl:u^h},{Bh:f,Bl:u}={Bh:Jw(f,u,63),Bl:Qw(f,u,63)},Dt[2*t]=c,Dt[2*t+1]=l,Dt[2*e]=u,Dt[2*e+1]=f,Dt[2*r]=h,Dt[2*r+1]=m,Dt[2*n]=v,Dt[2*n+1]=x}function ket(t,e={},r,n,s){if(Fh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:i,salt:a,personalization:o}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(o!==void 0&&o.length!==s)throw new Error("personalization must be undefined or "+s)}class Iet extends dI{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Fh(e),Fh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=W6(this.buffer)}update(e){Yp(this),e=Pu(e),ju(e);const{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,a=e.byteOffset,o=e.buffer;for(let c=0;c<i;){this.pos===r&&(M0(s),this.compress(s,0,!1),M0(s),this.pos=0);const l=Math.min(r-this.pos,i-c),u=a+c;if(l===r&&!(u%4)&&c+l<i){const f=new Uint32Array(o,u,Math.floor((i-c)/4));M0(f);for(let h=0;c+r<i;h+=s.length,c+=r)this.length+=r,this.compress(f,h,!1);M0(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Yp(this),$D(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Pl(this.buffer.subarray(r)),M0(n),this.compress(n,0,!0),M0(n);const s=W6(e);this.get().forEach((i,a)=>s[a]=Mf(i))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:s,destroyed:i,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}}class Net extends Iet{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=zs[0]|0,this.v0h=zs[1]|0,this.v1l=zs[2]|0,this.v1h=zs[3]|0,this.v2l=zs[4]|0,this.v2h=zs[5]|0,this.v3l=zs[6]|0,this.v3h=zs[7]|0,this.v4l=zs[8]|0,this.v4h=zs[9]|0,this.v5l=zs[10]|0,this.v5h=zs[11]|0,this.v6l=zs[12]|0,this.v6h=zs[13]|0,this.v7l=zs[14]|0,this.v7h=zs[15]|0,ket(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,a=0;if(n!==void 0&&(n=Pu(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,i!==void 0){i=Pu(i);const o=W6(i);this.v4l^=Mf(o[0]),this.v4h^=Mf(o[1]),this.v5l^=Mf(o[2]),this.v5h^=Mf(o[3])}if(s!==void 0){s=Pu(s);const o=W6(s);this.v6l^=Mf(o[0]),this.v6h^=Mf(o[1]),this.v7l^=Mf(o[2]),this.v7h^=Mf(o[3])}if(n!==void 0){const o=new Uint8Array(this.blockLen);o.set(n),this.update(o)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:a,v3l:o,v3h:c,v4l:l,v4h:u,v5l:f,v5h:h,v6l:m,v6h:v,v7l:x,v7h:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,v,x,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=a|0,this.v3l=o|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=h|0,this.v6l=m|0,this.v6h=v|0,this.v7l=x|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((c,l)=>Dt[l]=c),Dt.set(zs,16);let{h:s,l:i}=F0e(BigInt(this.length));Dt[24]=zs[8]^i,Dt[25]=zs[9]^s,n&&(Dt[28]=~Dt[28],Dt[29]=~Dt[29]);let a=0;const o=Pet;for(let c=0;c<12;c++)b0(0,4,8,12,e,r+2*o[a++]),y0(0,4,8,12,e,r+2*o[a++]),b0(1,5,9,13,e,r+2*o[a++]),y0(1,5,9,13,e,r+2*o[a++]),b0(2,6,10,14,e,r+2*o[a++]),y0(2,6,10,14,e,r+2*o[a++]),b0(3,7,11,15,e,r+2*o[a++]),y0(3,7,11,15,e,r+2*o[a++]),b0(0,5,10,15,e,r+2*o[a++]),y0(0,5,10,15,e,r+2*o[a++]),b0(1,6,11,12,e,r+2*o[a++]),y0(1,6,11,12,e,r+2*o[a++]),b0(2,7,8,13,e,r+2*o[a++]),y0(2,7,8,13,e,r+2*o[a++]),b0(3,4,9,14,e,r+2*o[a++]),y0(3,4,9,14,e,r+2*o[a++]);this.v0l^=Dt[0]^Dt[16],this.v0h^=Dt[1]^Dt[17],this.v1l^=Dt[2]^Dt[18],this.v1h^=Dt[3]^Dt[19],this.v2l^=Dt[4]^Dt[20],this.v2h^=Dt[5]^Dt[21],this.v3l^=Dt[6]^Dt[22],this.v3h^=Dt[7]^Dt[23],this.v4l^=Dt[8]^Dt[24],this.v4h^=Dt[9]^Dt[25],this.v5l^=Dt[10]^Dt[26],this.v5h^=Dt[11]^Dt[27],this.v6l^=Dt[12]^Dt[28],this.v6h^=Dt[13]^Dt[29],this.v7l^=Dt[14]^Dt[30],this.v7h^=Dt[15]^Dt[31],Pl(Dt)}destroy(){this.destroyed=!0,Pl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}eet(t=>new Net(t));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function J0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function PM(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function L_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Po(t,...e){if(!J0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Eet(t,e){Po(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Op(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function _et(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Cet=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tet(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function kM(t){if(typeof t=="string")t=Tet(t);else if(J0e(t))t=IM(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function jet(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function $et(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Met=(t,e)=>{function r(n,...s){if(Po(n),!Cet)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Po(l):Po(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Po(s[1]);const a=e(n,...s),o=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Po(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Po(l),o(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(Po(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(r,t),r};function FX(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Fet(e))throw new Error("invalid output, must be aligned");return e}function BX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i);t.setUint32(e+4,a,n),t.setUint32(e+0,o,n)}function Oet(t,e,r){PM(r);const n=new Uint8Array(16),s=_et(n);return BX(s,0,BigInt(e),r),BX(s,8,BigInt(t),r),n}function Fet(t){return t.byteOffset%4===0}function IM(t){return Uint8Array.from(t)}const Q0e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Bet=Q0e("expand 16-byte k"),Ret=Q0e("expand 32-byte k"),Det=Op(Bet),Uet=Op(Ret);function sn(t,e){return t<<e|t>>>32-e}function NM(t){return t.byteOffset%4===0}const h9=64,zet=16,Y0e=2**32-1,RX=new Uint32Array;function Let(t,e,r,n,s,i,a,o){const c=s.length,l=new Uint8Array(h9),u=Op(l),f=NM(s)&&NM(i),h=f?Op(s):RX,m=f?Op(i):RX;for(let v=0;v<c;a++){if(t(e,r,n,u,a,o),a>=Y0e)throw new Error("arx: counter overflow");const x=Math.min(h9,c-v);if(f&&x===h9){const k=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let E=0,P;E<zet;E++)P=k+E,m[P]=h[P]^u[E];v+=h9;continue}for(let k=0,E;k<x;k++)E=v+k,i[E]=s[E]^l[k];v+=x}}function Vet(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:a}=jet({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return L_(s),L_(a),PM(i),PM(r),(o,c,l,u,f=0)=>{Po(o),Po(c),Po(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Po(u),L_(f),f<0||f>=Y0e)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const m=[];let v=o.length,x,k;if(v===32)m.push(x=IM(o)),k=Uet;else if(v===16&&r)x=new Uint8Array(32),x.set(o),x.set(o,16),k=Det,m.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);NM(c)||m.push(c=IM(c));const E=Op(x);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(k,E,Op(c.subarray(0,16)),E),c=c.subarray(16)}const P=16-s;if(P!==c.length)throw new Error(`arx: nonce must be ${P} or 16 bytes`);if(P!==12){const M=new Uint8Array(12);M.set(c,i?0:12-c.length),c=M,m.push(c)}const _=Op(c);return Let(t,k,E,_,l,u,f,a),Rx(...m),u}}const $i=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Het{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=kM(e),Po(e,32);const r=$i(e,0),n=$i(e,2),s=$i(e,4),i=$i(e,6),a=$i(e,8),o=$i(e,10),c=$i(e,12),l=$i(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=$i(e,16+2*u)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:a}=this,o=a[0],c=a[1],l=a[2],u=a[3],f=a[4],h=a[5],m=a[6],v=a[7],x=a[8],k=a[9],E=$i(e,r+0),P=$i(e,r+2),_=$i(e,r+4),M=$i(e,r+6),B=$i(e,r+8),D=$i(e,r+10),j=$i(e,r+12),T=$i(e,r+14);let R=i[0]+(E&8191),H=i[1]+((E>>>13|P<<3)&8191),O=i[2]+((P>>>10|_<<6)&8191),b=i[3]+((_>>>7|M<<9)&8191),w=i[4]+((M>>>4|B<<12)&8191),p=i[5]+(B>>>1&8191),g=i[6]+((B>>>14|D<<2)&8191),S=i[7]+((D>>>11|j<<5)&8191),N=i[8]+((j>>>8|T<<8)&8191),I=i[9]+(T>>>5|s),A=0,y=A+R*o+H*(5*k)+O*(5*x)+b*(5*v)+w*(5*m);A=y>>>13,y&=8191,y+=p*(5*h)+g*(5*f)+S*(5*u)+N*(5*l)+I*(5*c),A+=y>>>13,y&=8191;let C=A+R*c+H*o+O*(5*k)+b*(5*x)+w*(5*v);A=C>>>13,C&=8191,C+=p*(5*m)+g*(5*h)+S*(5*f)+N*(5*u)+I*(5*l),A+=C>>>13,C&=8191;let $=A+R*l+H*c+O*o+b*(5*k)+w*(5*x);A=$>>>13,$&=8191,$+=p*(5*v)+g*(5*m)+S*(5*h)+N*(5*f)+I*(5*u),A+=$>>>13,$&=8191;let L=A+R*u+H*l+O*c+b*o+w*(5*k);A=L>>>13,L&=8191,L+=p*(5*x)+g*(5*v)+S*(5*m)+N*(5*h)+I*(5*f),A+=L>>>13,L&=8191;let Q=A+R*f+H*u+O*l+b*c+w*o;A=Q>>>13,Q&=8191,Q+=p*(5*k)+g*(5*x)+S*(5*v)+N*(5*m)+I*(5*h),A+=Q>>>13,Q&=8191;let U=A+R*h+H*f+O*u+b*l+w*c;A=U>>>13,U&=8191,U+=p*o+g*(5*k)+S*(5*x)+N*(5*v)+I*(5*m),A+=U>>>13,U&=8191;let J=A+R*m+H*h+O*f+b*u+w*l;A=J>>>13,J&=8191,J+=p*c+g*o+S*(5*k)+N*(5*x)+I*(5*v),A+=J>>>13,J&=8191;let Z=A+R*v+H*m+O*h+b*f+w*u;A=Z>>>13,Z&=8191,Z+=p*l+g*c+S*o+N*(5*k)+I*(5*x),A+=Z>>>13,Z&=8191;let re=A+R*x+H*v+O*m+b*h+w*f;A=re>>>13,re&=8191,re+=p*u+g*l+S*c+N*o+I*(5*k),A+=re>>>13,re&=8191;let G=A+R*k+H*x+O*v+b*m+w*h;A=G>>>13,G&=8191,G+=p*f+g*u+S*l+N*c+I*o,A+=G>>>13,G&=8191,A=(A<<2)+A|0,A=A+y|0,y=A&8191,A=A>>>13,C+=A,i[0]=y,i[1]=C,i[2]=$,i[3]=L,i[4]=Q,i[5]=U,i[6]=J,i[7]=Z,i[8]=re,i[9]=G}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=s,s=e[o]>>>13,e[o]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+s,s=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(s^1)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+r[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+r[o]|0)+(a>>>16)|0,e[o]=a&65535;Rx(n)}update(e){OX(this),e=kM(e),Po(e);const{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);if(a===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Rx(this.h,this.r,this.buffer,this.pad)}digestInto(e){OX(this),Eet(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let a=0;a<8;a++)e[i++]=n[a]>>>0,e[i++]=n[a]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function Wet(t){const e=(n,s)=>t(s).update(kM(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const qet=Wet(t=>new Het(t));function Ket(t,e,r,n,s,i=20){let a=t[0],o=t[1],c=t[2],l=t[3],u=e[0],f=e[1],h=e[2],m=e[3],v=e[4],x=e[5],k=e[6],E=e[7],P=s,_=r[0],M=r[1],B=r[2],D=a,j=o,T=c,R=l,H=u,O=f,b=h,w=m,p=v,g=x,S=k,N=E,I=P,A=_,y=M,C=B;for(let L=0;L<i;L+=2)D=D+H|0,I=sn(I^D,16),p=p+I|0,H=sn(H^p,12),D=D+H|0,I=sn(I^D,8),p=p+I|0,H=sn(H^p,7),j=j+O|0,A=sn(A^j,16),g=g+A|0,O=sn(O^g,12),j=j+O|0,A=sn(A^j,8),g=g+A|0,O=sn(O^g,7),T=T+b|0,y=sn(y^T,16),S=S+y|0,b=sn(b^S,12),T=T+b|0,y=sn(y^T,8),S=S+y|0,b=sn(b^S,7),R=R+w|0,C=sn(C^R,16),N=N+C|0,w=sn(w^N,12),R=R+w|0,C=sn(C^R,8),N=N+C|0,w=sn(w^N,7),D=D+O|0,C=sn(C^D,16),S=S+C|0,O=sn(O^S,12),D=D+O|0,C=sn(C^D,8),S=S+C|0,O=sn(O^S,7),j=j+b|0,I=sn(I^j,16),N=N+I|0,b=sn(b^N,12),j=j+b|0,I=sn(I^j,8),N=N+I|0,b=sn(b^N,7),T=T+w|0,A=sn(A^T,16),p=p+A|0,w=sn(w^p,12),T=T+w|0,A=sn(A^T,8),p=p+A|0,w=sn(w^p,7),R=R+H|0,y=sn(y^R,16),g=g+y|0,H=sn(H^g,12),R=R+H|0,y=sn(y^R,8),g=g+y|0,H=sn(H^g,7);let $=0;n[$++]=a+D|0,n[$++]=o+j|0,n[$++]=c+T|0,n[$++]=l+R|0,n[$++]=u+H|0,n[$++]=f+O|0,n[$++]=h+b|0,n[$++]=m+w|0,n[$++]=v+p|0,n[$++]=x+g|0,n[$++]=k+S|0,n[$++]=E+N|0,n[$++]=P+I|0,n[$++]=_+A|0,n[$++]=M+y|0,n[$++]=B+C|0}const Xet=Vet(Ket,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Zet=new Uint8Array(16),DX=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Zet.subarray(r))},Jet=new Uint8Array(32);function UX(t,e,r,n,s){const i=t(e,r,Jet),a=qet.create(i);s&&DX(a,s),DX(a,n);const o=Oet(n.length,s?s.length:0,!0);a.update(o);const c=a.digest();return Rx(i,o),c}const Qet=t=>(e,r,n)=>({encrypt(s,i){const a=s.length;i=FX(a+16,i,!1),i.set(s);const o=i.subarray(0,-16);t(e,r,o,o,1);const c=UX(t,e,r,o,n);return i.set(c,a),Rx(c),i},decrypt(s,i){i=FX(s.length-16,i,!1);const a=s.subarray(0,-16),o=s.subarray(-16),c=UX(t,e,r,a,n);if(!$et(o,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),Rx(c),i}}),G0e=Met({blockSize:64,nonceLength:12,tagLength:16},Qet(Xet));let epe=class extends dI{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,uI(e);const n=Pu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),Pl(i)}update(e){return Yp(this),this.iHash.update(e),this}digestInto(e){Yp(this),ju(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fI=(t,e,r)=>new epe(t,e).update(r).digest();fI.create=(t,e)=>new epe(t,e);function Yet(t,e,r){return uI(t),r===void 0&&(r=new Uint8Array(t.outputLen)),fI(t,Pu(r),Pu(e))}const V_=Uint8Array.from([0]),zX=Uint8Array.of();function Get(t,e,r,n=32){uI(t),Fh(n);const s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/s);r===void 0&&(r=zX);const a=new Uint8Array(i*s),o=fI.create(t,e),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)V_[0]=u+1,c.update(u===0?zX:l).update(r).update(V_).digestInto(l),a.set(l,s*u),o._cloneInto(c);return o.destroy(),c.destroy(),Pl(l,V_),a.slice(0,n)}const ett=(t,e,r,n,s)=>Get(t,Yet(t,e,r),n,s),hI=Z0e,OD=BigInt(0),EM=BigInt(1);function SS(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function lg(t,e,r=""){const n=lI(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){const a=r&&`"${r}" `,o=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+o+", got "+c)}return t}function p9(t){const e=t.toString(16);return e.length&1?"0"+e:e}function tpe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?OD:BigInt("0x"+t)}function pI(t){return tpe(Vy(t))}function PS(t){return ju(t),tpe(Vy(Uint8Array.from(t).reverse()))}function FD(t,e){return AS(t.toString(16).padStart(e*2,"0"))}function BD(t,e){return FD(t,e).reverse()}function ka(t,e,r){let n;if(typeof e=="string")try{n=AS(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(lI(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}const H_=t=>typeof t=="bigint"&&OD<=t;function ttt(t,e,r){return H_(t)&&H_(e)&&H_(r)&&e<=t&&t<r}function _M(t,e,r,n){if(!ttt(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function rpe(t){let e;for(e=0;t>OD;t>>=EM,e+=1);return e}const h5=t=>(EM<<BigInt(t))-EM;function rtt(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=n(t),a=n(t),o=0;const c=()=>{i.fill(1),a.fill(0),o=0},l=(...h)=>r(a,i,...h),u=(h=n(0))=>{a=l(s(0),h),i=l(),h.length!==0&&(a=l(s(1),h),i=l())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){i=l();const v=i.slice();m.push(v),h+=i.length}return L0(...m)};return(h,m)=>{c(),u(h);let v;for(;!(v=m(f()));)u();return c(),v}}function mI(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,a){const o=t[s];if(a&&o===void 0)return;const c=typeof o;if(c!==i||o===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function LX(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const To=BigInt(0),eo=BigInt(1),ug=BigInt(2),npe=BigInt(3),spe=BigInt(4),ipe=BigInt(5),ntt=BigInt(7),ape=BigInt(8),stt=BigInt(9),ope=BigInt(16);function nc(t,e){const r=t%e;return r>=To?r:e+r}function Wl(t,e,r){let n=t;for(;e-- >To;)n*=n,n%=r;return n}function VX(t,e){if(t===To)throw new Error("invert: expected non-zero number");if(e<=To)throw new Error("invert: expected positive modulus, got "+e);let r=nc(t,e),n=e,s=To,i=eo;for(;r!==To;){const a=n/r,o=n%r,c=s-i*a;n=r,r=o,s=i,i=c}if(n!==eo)throw new Error("invert: does not exist");return nc(s,e)}function RD(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function cpe(t,e){const r=(t.ORDER+eo)/spe,n=t.pow(e,r);return RD(t,n,e),n}function itt(t,e){const r=(t.ORDER-ipe)/ape,n=t.mul(e,ug),s=t.pow(n,r),i=t.mul(e,s),a=t.mul(t.mul(i,ug),s),o=t.mul(i,t.sub(a,t.ONE));return RD(t,o,e),o}function att(t){const e=fm(t),r=lpe(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),a=(t+ntt)/ope;return(o,c)=>{let l=o.pow(c,a),u=o.mul(l,n);const f=o.mul(l,s),h=o.mul(l,i),m=o.eql(o.sqr(u),c),v=o.eql(o.sqr(f),c);l=o.cmov(l,u,m),u=o.cmov(h,f,v);const x=o.eql(o.sqr(u),c),k=o.cmov(l,u,x);return RD(o,k,c),k}}function lpe(t){if(t<npe)throw new Error("sqrt is not defined for small field");let e=t-eo,r=0;for(;e%ug===To;)e/=ug,r++;let n=ug;const s=fm(t);for(;HX(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return cpe;let i=s.pow(n,e);const a=(e+eo)/ug;return function(o,c){if(o.is0(c))return c;if(HX(o,c)!==1)throw new Error("Cannot find square root");let l=r,u=o.mul(o.ONE,i),f=o.pow(c,e),h=o.pow(c,a);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let m=1,v=o.sqr(f);for(;!o.eql(v,o.ONE);)if(m++,v=o.sqr(v),m===l)throw new Error("Cannot find square root");const x=eo<<BigInt(l-m-1),k=o.pow(u,x);l=m,u=o.sqr(k),f=o.mul(f,u),h=o.mul(h,k)}return h}}function ott(t){return t%spe===npe?cpe:t%ape===ipe?itt:t%ope===stt?att(t):lpe(t)}const ctt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ltt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=ctt.reduce((n,s)=>(n[s]="function",n),e);return mI(t,r),t}function utt(t,e,r){if(r<To)throw new Error("invalid exponent, negatives unsupported");if(r===To)return t.ONE;if(r===eo)return e;let n=t.ONE,s=e;for(;r>To;)r&eo&&(n=t.mul(n,s)),s=t.sqr(s),r>>=eo;return n}function upe(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((a,o,c)=>t.is0(o)?a:(n[c]=a,t.mul(a,o)),t.ONE),i=t.inv(s);return e.reduceRight((a,o,c)=>t.is0(o)?a:(n[c]=t.mul(a,n[c]),t.mul(a,o)),i),n}function HX(t,e){const r=(t.ORDER-eo)/ug,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function dpe(t,e){e!==void 0&&Fh(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function fm(t,e,r=!1,n={}){if(t<=To)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,a=!1,o;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(s=h.BITS),h.sqrt&&(i=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(a=h.modFromBytes),o=h.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);const{nBitLength:c,nByteLength:l}=dpe(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:h5(c),ZERO:To,ONE:eo,allowedLengths:o,create:h=>nc(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return To<=h&&h<t},is0:h=>h===To,isValidNot0:h=>!f.is0(h)&&f.isValid(h),isOdd:h=>(h&eo)===eo,neg:h=>nc(-h,t),eql:(h,m)=>h===m,sqr:h=>nc(h*h,t),add:(h,m)=>nc(h+m,t),sub:(h,m)=>nc(h-m,t),mul:(h,m)=>nc(h*m,t),pow:(h,m)=>utt(f,h,m),div:(h,m)=>nc(h*VX(m,t),t),sqrN:h=>h*h,addN:(h,m)=>h+m,subN:(h,m)=>h-m,mulN:(h,m)=>h*m,inv:h=>VX(h,t),sqrt:i||(h=>(u||(u=ott(t)),u(f,h))),toBytes:h=>r?BD(h,l):FD(h,l),fromBytes:(h,m=!0)=>{if(o){if(!o.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);const x=new Uint8Array(l);x.set(h,r?0:x.length-h.length),h=x}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let v=r?PS(h):pI(h);if(a&&(v=nc(v,t)),!m&&!f.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:h=>upe(f,h),cmov:(h,m,v)=>v?m:h});return Object.freeze(f)}function fpe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hpe(t){const e=fpe(t);return e+Math.ceil(e/2)}function dtt(t,e,r=!1){const n=t.length,s=fpe(e),i=hpe(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const a=r?PS(t):pI(t),o=nc(a,e-eo)+eo;return r?BD(o,s):FD(o,s)}const Dx=BigInt(0),dg=BigInt(1);function kS(t,e){const r=e.negate();return t?r:e}function W_(t,e){const r=upe(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function ppe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function q_(t,e){ppe(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=h5(t),a=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:a}}function WX(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:a}=r;let o=Number(t&s),c=t>>a;o>n&&(o-=i,c+=dg);const l=e*n,u=l+Math.abs(o)-1,f=o===0,h=o<0,m=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:m,offsetF:l}}function ftt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function htt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const K_=new WeakMap,mpe=new WeakMap;function X_(t){return mpe.get(t)||1}function qX(t){if(t!==Dx)throw new Error("invalid wNAF")}class ptt{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>Dx;)r&dg&&(n=n.add(s)),s=s.double(),r>>=dg;return n}precomputeWindow(e,r){const{windows:n,windowSize:s}=q_(r,this.bits),i=[];let a=e,o=a;for(let c=0;c<n;c++){o=a,i.push(o);for(let l=1;l<s;l++)o=o.add(a),i.push(o);a=o.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const a=q_(e,this.bits);for(let o=0;o<a.windows;o++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:h,offsetF:m}=WX(n,o,a);n=c,u?i=i.add(kS(h,r[m])):s=s.add(kS(f,r[l]))}return qX(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){const i=q_(e,this.bits);for(let a=0;a<i.windows&&n!==Dx;a++){const{nextN:o,offset:c,isZero:l,isNeg:u}=WX(n,a,i);if(n=o,!l){const f=r[c];s=s.add(u?f.negate():f)}}return qX(n),s}getPrecomputes(e,r,n){let s=K_.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),K_.set(r,s))),s}cached(e,r,n){const s=X_(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){const i=X_(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){ppe(r,this.bits),mpe.set(e,r),K_.delete(e)}hasCache(e){return X_(e)!==1}}function mtt(t,e,r,n){let s=e,i=t.ZERO,a=t.ZERO;for(;r>Dx||n>Dx;)r&dg&&(i=i.add(s)),n&dg&&(a=a.add(s)),s=s.double(),r>>=dg,n>>=dg;return{p1:i,p2:a}}function gtt(t,e,r,n){ftt(r,t),htt(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=rpe(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=h5(c),u=new Array(Number(l)+1).fill(a),f=Math.floor((e.BITS-1)/c)*c;let h=a;for(let m=f;m>=0;m-=c){u.fill(a);for(let x=0;x<i;x++){const k=n[x],E=Number(k>>BigInt(m)&l);u[E]=u[E].add(r[x])}let v=a;for(let x=u.length-1,k=a;x>0;x--)k=k.add(u[x]),v=v.add(k);if(h=h.add(v),m!==0)for(let x=0;x<c;x++)h=h.double()}return h}function KX(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ltt(e),e}else return fm(t,{isLE:r})}function btt(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const c=e[o];if(!(typeof c=="bigint"&&c>Dx))throw new Error(`CURVE.${o} must be positive bigint`)}const s=KX(e.p,r.Fp,n),i=KX(e.n,r.Fn,n),a=["Gx","Gy","a","b"];for(const o of a)if(!s.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),z0e("HashToScalar-");const hw=BigInt(0),mb=BigInt(1),m9=BigInt(2);function ytt(t){return mI(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function vtt(t){const e=ytt(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:a}=e,o=n==="x25519";if(!o&&n!=="x448")throw new Error("invalid type");const c=a||J1,l=o?255:448,u=o?32:56,f=BigInt(o?9:5),h=BigInt(o?121665:39081),m=o?m9**BigInt(254):m9**BigInt(447),v=o?BigInt(8)*m9**BigInt(251)-mb:BigInt(4)*m9**BigInt(445)-mb,x=m+v+mb,k=b=>nc(b,r),E=P(f);function P(b){return BD(k(b),u)}function _(b){const w=ka("u coordinate",b,u);return o&&(w[31]&=127),k(PS(w))}function M(b){return PS(s(ka("scalar",b,u)))}function B(b,w){const p=T(_(w),M(b));if(p===hw)throw new Error("invalid private or public key received");return P(p)}function D(b){return B(b,E)}function j(b,w,p){const g=k(b*(w-p));return w=k(w-g),p=k(p+g),{x_2:w,x_3:p}}function T(b,w){_M("u",b,hw,r),_M("scalar",w,m,x);const p=w,g=b;let S=mb,N=hw,I=b,A=mb,y=hw;for(let $=BigInt(l-1);$>=hw;$--){const L=p>>$&mb;y^=L,{x_2:S,x_3:I}=j(y,S,I),{x_2:N,x_3:A}=j(y,N,A),y=L;const Q=S+N,U=k(Q*Q),J=S-N,Z=k(J*J),re=U-Z,G=I+A,z=I-A,se=k(z*Q),ce=k(G*J),pe=se+ce,Ce=se-ce;I=k(pe*pe),A=k(g*k(Ce*Ce)),S=k(U*Z),N=k(re*(U+k(h*re)))}({x_2:S,x_3:I}=j(y,S,I)),{x_2:N,x_3:A}=j(y,N,A);const C=i(N);return k(S*C)}const R={secretKey:u,publicKey:u,seed:u},H=(b=c(u))=>(ju(b,R.seed),b);function O(b){const w=H(b);return{secretKey:w,publicKey:D(w)}}return{keygen:O,getSharedSecret:(b,w)=>B(b,w),getPublicKey:b=>D(b),scalarMult:B,scalarMultBase:D,utils:{randomSecretKey:H,randomPrivateKey:H},GuBytes:E.slice(),lengths:R}}const xtt=BigInt(1),XX=BigInt(2),wtt=BigInt(3),Att=BigInt(5),Stt=BigInt(8),gpe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Ptt={p:gpe,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Stt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ktt(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=gpe,a=t*t%i*t%i,o=Wl(a,XX,i)*a%i,c=Wl(o,xtt,i)*t%i,l=Wl(c,Att,i)*c%i,u=Wl(l,e,i)*l%i,f=Wl(u,r,i)*u%i,h=Wl(f,n,i)*f%i,m=Wl(h,s,i)*h%i,v=Wl(m,s,i)*h%i,x=Wl(v,e,i)*l%i;return{pow_p_5_8:Wl(x,XX,i)*t%i,b2:a}}function Itt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ntt=fm(Ptt.p,{isLE:!0}),CM=(()=>{const t=Ntt.ORDER;return vtt({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=ktt(e);return nc(Wl(r,wtt,t)*n,t)},adjustScalarBytes:Itt})})(),ZX=(t,e)=>(t+(t>=0?e:-e)/bpe)/e;function Ett(t,e,r){const[[n,s],[i,a]]=e,o=ZX(a*t,r),c=ZX(-s*t,r);let l=t-o*n-c*i,u=-o*s-c*a;const f=l<lh,h=u<lh;f&&(l=-l),h&&(u=-u);const m=h5(Math.ceil(rpe(r)/2))+Hy;if(l<lh||l>=m||u<lh||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}function TM(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Z_(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return SS(r.lowS,"lowS"),SS(r.prehash,"prehash"),r.format!==void 0&&TM(r.format),r}class _tt extends Error{constructor(e=""){super(e)}}const Vf={Err:_tt,_tlv:{encode:(t,e)=>{const{Err:r}=Vf;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=p9(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?p9(s.length/2|128):"";return p9(t)+i+s+e},decode(t,e){const{Err:r}=Vf;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let a=0;if(!i)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+a);if(o.length!==a)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+a)}}},_int:{encode(t){const{Err:e}=Vf;if(t<lh)throw new e("integer: negative integers are not allowed");let r=p9(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Vf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pI(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Vf,s=ka("signature",t),{v:i,l:a}=n.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Vf,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},lh=BigInt(0),Hy=BigInt(1),bpe=BigInt(2),g9=BigInt(3),Ctt=BigInt(4);function uy(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let s=ka("private key",e);try{n=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Ttt(t,e={}){const r=btt("weierstrass",t,e),{Fp:n,Fn:s}=r;let i=r.CURVE;const{h:a,n:o}=i;mI(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=vpe(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(b,w,p){const{x:g,y:S}=w.toAffine(),N=n.toBytes(g);if(SS(p,"isCompressed"),p){u();const I=!n.isOdd(S);return L0(ype(I),N)}else return L0(Uint8Array.of(4),N,n.toBytes(S))}function h(b){lg(b,void 0,"Point");const{publicKey:w,publicKeyUncompressed:p}=l,g=b.length,S=b[0],N=b.subarray(1);if(g===w&&(S===2||S===3)){const I=n.fromBytes(N);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const A=x(I);let y;try{y=n.sqrt(A)}catch($){const L=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}u();const C=n.isOdd(y);return(S&1)===1!==C&&(y=n.neg(y)),{x:I,y}}else if(g===p&&S===4){const I=n.BYTES,A=n.fromBytes(N.subarray(0,I)),y=n.fromBytes(N.subarray(I,I*2));if(!k(A,y))throw new Error("bad point: is not on curve");return{x:A,y}}else throw new Error(`bad point: got length ${g}, expected compressed=${w} or uncompressed=${p}`)}const m=e.toBytes||f,v=e.fromBytes||h;function x(b){const w=n.sqr(b),p=n.mul(w,b);return n.add(n.add(p,n.mul(b,i.a)),i.b)}function k(b,w){const p=n.sqr(w),g=x(b);return n.eql(p,g)}if(!k(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const E=n.mul(n.pow(i.a,g9),Ctt),P=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(E,P)))throw new Error("bad curve params: a or b");function _(b,w,p=!1){if(!n.isValid(w)||p&&n.is0(w))throw new Error(`bad point coordinate ${b}`);return w}function M(b){if(!(b instanceof R))throw new Error("ProjectivePoint expected")}function B(b){if(!c||!c.basises)throw new Error("no endo");return Ett(b,c.basises,s.ORDER)}const D=LX((b,w)=>{const{X:p,Y:g,Z:S}=b;if(n.eql(S,n.ONE))return{x:p,y:g};const N=b.is0();w==null&&(w=N?n.ONE:n.inv(S));const I=n.mul(p,w),A=n.mul(g,w),y=n.mul(S,w);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(y,n.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),j=LX(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:p}=b.toAffine();if(!n.isValid(w)||!n.isValid(p))throw new Error("bad point: x or y not field elements");if(!k(w,p))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function T(b,w,p,g,S){return p=new R(n.mul(p.X,b),p.Y,p.Z),w=kS(g,w),p=kS(S,p),w.add(p)}class R{constructor(w,p,g){this.X=_("x",w),this.Y=_("y",p,!0),this.Z=_("z",g),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:p,y:g}=w||{};if(!w||!n.isValid(p)||!n.isValid(g))throw new Error("invalid affine point");if(w instanceof R)throw new Error("projective point not allowed");return n.is0(p)&&n.is0(g)?R.ZERO:new R(p,g,n.ONE)}static fromBytes(w){const p=R.fromAffine(v(lg(w,void 0,"point")));return p.assertValidity(),p}static fromHex(w){return R.fromBytes(ka("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,p=!0){return O.createCache(this,w),p||this.multiply(g9),this}assertValidity(){j(this)}hasEvenY(){const{y:w}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(w)}equals(w){M(w);const{X:p,Y:g,Z:S}=this,{X:N,Y:I,Z:A}=w,y=n.eql(n.mul(p,A),n.mul(N,S)),C=n.eql(n.mul(g,A),n.mul(I,S));return y&&C}negate(){return new R(this.X,n.neg(this.Y),this.Z)}double(){const{a:w,b:p}=i,g=n.mul(p,g9),{X:S,Y:N,Z:I}=this;let A=n.ZERO,y=n.ZERO,C=n.ZERO,$=n.mul(S,S),L=n.mul(N,N),Q=n.mul(I,I),U=n.mul(S,N);return U=n.add(U,U),C=n.mul(S,I),C=n.add(C,C),A=n.mul(w,C),y=n.mul(g,Q),y=n.add(A,y),A=n.sub(L,y),y=n.add(L,y),y=n.mul(A,y),A=n.mul(U,A),C=n.mul(g,C),Q=n.mul(w,Q),U=n.sub($,Q),U=n.mul(w,U),U=n.add(U,C),C=n.add($,$),$=n.add(C,$),$=n.add($,Q),$=n.mul($,U),y=n.add(y,$),Q=n.mul(N,I),Q=n.add(Q,Q),$=n.mul(Q,U),A=n.sub(A,$),C=n.mul(Q,L),C=n.add(C,C),C=n.add(C,C),new R(A,y,C)}add(w){M(w);const{X:p,Y:g,Z:S}=this,{X:N,Y:I,Z:A}=w;let y=n.ZERO,C=n.ZERO,$=n.ZERO;const L=i.a,Q=n.mul(i.b,g9);let U=n.mul(p,N),J=n.mul(g,I),Z=n.mul(S,A),re=n.add(p,g),G=n.add(N,I);re=n.mul(re,G),G=n.add(U,J),re=n.sub(re,G),G=n.add(p,S);let z=n.add(N,A);return G=n.mul(G,z),z=n.add(U,Z),G=n.sub(G,z),z=n.add(g,S),y=n.add(I,A),z=n.mul(z,y),y=n.add(J,Z),z=n.sub(z,y),$=n.mul(L,G),y=n.mul(Q,Z),$=n.add(y,$),y=n.sub(J,$),$=n.add(J,$),C=n.mul(y,$),J=n.add(U,U),J=n.add(J,U),Z=n.mul(L,Z),G=n.mul(Q,G),J=n.add(J,Z),Z=n.sub(U,Z),Z=n.mul(L,Z),G=n.add(G,Z),U=n.mul(J,G),C=n.add(C,U),U=n.mul(z,G),y=n.mul(re,y),y=n.sub(y,U),U=n.mul(re,J),$=n.mul(z,$),$=n.add($,U),new R(y,C,$)}subtract(w){return this.add(w.negate())}is0(){return this.equals(R.ZERO)}multiply(w){const{endo:p}=e;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let g,S;const N=I=>O.cached(this,I,A=>W_(R,A));if(p){const{k1neg:I,k1:A,k2neg:y,k2:C}=B(w),{p:$,f:L}=N(A),{p:Q,f:U}=N(C);S=L.add(U),g=T(p.beta,$,Q,I,y)}else{const{p:I,f:A}=N(w);g=I,S=A}return W_(R,[g,S])[0]}multiplyUnsafe(w){const{endo:p}=e,g=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===lh||g.is0())return R.ZERO;if(w===Hy)return g;if(O.hasCache(this))return this.multiply(w);if(p){const{k1neg:S,k1:N,k2neg:I,k2:A}=B(w),{p1:y,p2:C}=mtt(R,g,N,A);return T(p.beta,y,C,S,I)}else return O.unsafe(g,w)}multiplyAndAddUnsafe(w,p,g){const S=this.multiplyUnsafe(p).add(w.multiplyUnsafe(g));return S.is0()?void 0:S}toAffine(w){return D(this,w)}isTorsionFree(){const{isTorsionFree:w}=e;return a===Hy?!0:w?w(R,this):O.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:w}=e;return a===Hy?this:w?w(R,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(w=!0){return SS(w,"isCompressed"),this.assertValidity(),m(R,this,w)}toHex(w=!0){return Vy(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return W_(R,w)}static msm(w,p){return gtt(R,s,w,p)}static fromPrivateKey(w){return R.BASE.multiply(uy(s,w))}}R.BASE=new R(i.Gx,i.Gy,n.ONE),R.ZERO=new R(n.ZERO,n.ONE,n.ZERO),R.Fp=n,R.Fn=s;const H=s.BITS,O=new ptt(R,e.endo?Math.ceil(H/2):H);return R.BASE.precompute(8),R}function ype(t){return Uint8Array.of(t?2:3)}function vpe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function jtt(t,e={}){const{Fn:r}=t,n=e.randomBytes||J1,s=Object.assign(vpe(t.Fp,r),{seed:hpe(r.ORDER)});function i(h){try{return!!uy(r,h)}catch{return!1}}function a(h,m){const{publicKey:v,publicKeyUncompressed:x}=s;try{const k=h.length;return m===!0&&k!==v||m===!1&&k!==x?!1:!!t.fromBytes(h)}catch{return!1}}function o(h=n(s.seed)){return dtt(lg(h,s.seed,"seed"),r.ORDER)}function c(h,m=!0){return t.BASE.multiply(uy(r,h)).toBytes(m)}function l(h){const m=o(h);return{secretKey:m,publicKey:c(m)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:m,publicKey:v,publicKeyUncompressed:x}=s;if(r.allowedLengths||m===v)return;const k=ka("key",h).length;return k===v||k===x}function f(h,m,v=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(m)===!1)throw new Error("second arg must be public key");const x=uy(r,h);return t.fromHex(m).multiply(x).toBytes(v)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:o,isValidPrivateKey:i,randomPrivateKey:o,normPrivateKeyToScalar:h=>uy(r,h),precompute(h=8,m=t.BASE){return m.precompute(h,!1)}},lengths:s})}function $tt(t,e,r={}){uI(e),mI(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||J1,s=r.hmac||((p,...g)=>fI(e,p,L0(...g))),{Fp:i,Fn:a}=t,{ORDER:o,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:h,lengths:m}=jtt(t,r),v={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function k(p){const g=o>>Hy;return p>g}function E(p,g){if(!a.isValidNot0(g))throw new Error(`invalid signature ${p}: out of range 1..Point.Fn.ORDER`);return g}function P(p,g){TM(g);const S=m.signature,N=g==="compact"?S:g==="recovered"?S+1:void 0;return lg(p,N,`${g} signature`)}class _{constructor(g,S,N){this.r=E("r",g),this.s=E("s",S),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(g,S=x){P(g,S);let N;if(S==="der"){const{r:C,s:$}=Vf.toSig(lg(g));return new _(C,$)}S==="recovered"&&(N=g[0],S="compact",g=g.subarray(1));const I=a.BYTES,A=g.subarray(0,I),y=g.subarray(I,I*2);return new _(a.fromBytes(A),a.fromBytes(y),N)}static fromHex(g,S){return this.fromBytes(AS(g),S)}addRecoveryBit(g){return new _(this.r,this.s,g)}recoverPublicKey(g){const S=i.ORDER,{r:N,s:I,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(o*bpe<S&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const y=A===2||A===3?N+o:N;if(!i.isValid(y))throw new Error("recovery id 2 or 3 invalid");const C=i.toBytes(y),$=t.fromBytes(L0(ype((A&1)===0),C)),L=a.inv(y),Q=B(ka("msgHash",g)),U=a.create(-Q*L),J=a.create(I*L),Z=t.BASE.multiplyUnsafe(U).add($.multiplyUnsafe(J));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return k(this.s)}toBytes(g=x){if(TM(g),g==="der")return AS(Vf.hexFromSig(this));const S=a.toBytes(this.r),N=a.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return L0(Uint8Array.of(this.recovery),S,N)}return L0(S,N)}toHex(g){return Vy(this.toBytes(g))}assertValidity(){}static fromCompact(g){return _.fromBytes(ka("sig",g),"compact")}static fromDER(g){return _.fromBytes(ka("sig",g),"der")}normalizeS(){return this.hasHighS()?new _(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vy(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vy(this.toBytes("compact"))}}const M=r.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const g=pI(p),S=p.length*8-c;return S>0?g>>BigInt(S):g},B=r.bits2int_modN||function(p){return a.create(M(p))},D=h5(c);function j(p){return _M("num < 2^"+c,p,lh,D),a.toBytes(p)}function T(p,g){return lg(p,void 0,"message"),g?lg(e(p),void 0,"prehashed message"):p}function R(p,g,S){if(["recovered","canonical"].some(J=>J in S))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:I,extraEntropy:A}=Z_(S,v);p=T(p,I);const y=B(p),C=uy(a,g),$=[j(C),j(y)];if(A!=null&&A!==!1){const J=A===!0?n(m.secretKey):A;$.push(ka("extraEntropy",J))}const L=L0(...$),Q=y;function U(J){const Z=M(J);if(!a.isValidNot0(Z))return;const re=a.inv(Z),G=t.BASE.multiply(Z).toAffine(),z=a.create(G.x);if(z===lh)return;const se=a.create(re*a.create(Q+z*C));if(se===lh)return;let ce=(G.x===z?0:2)|Number(G.y&Hy),pe=se;return N&&k(se)&&(pe=a.neg(se),ce^=1),new _(z,pe,ce)}return{seed:L,k2sig:U}}function H(p,g,S={}){p=ka("message",p);const{seed:N,k2sig:I}=R(p,g,S);return rtt(e.outputLen,a.BYTES,s)(N,I)}function O(p){let g;const S=typeof p=="string"||lI(p),N=!S&&p!==null&&typeof p=="object"&&typeof p.r=="bigint"&&typeof p.s=="bigint";if(!S&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)g=new _(p.r,p.s);else if(S){try{g=_.fromBytes(ka("sig",p),"der")}catch(I){if(!(I instanceof Vf.Err))throw I}if(!g)try{g=_.fromBytes(ka("sig",p),"compact")}catch{return!1}}return g||!1}function b(p,g,S,N={}){const{lowS:I,prehash:A,format:y}=Z_(N,v);if(S=ka("publicKey",S),g=T(ka("message",g),A),"strict"in N)throw new Error("options.strict was renamed to lowS");const C=y===void 0?O(p):_.fromBytes(ka("sig",p),y);if(C===!1)return!1;try{const $=t.fromBytes(S);if(I&&C.hasHighS())return!1;const{r:L,s:Q}=C,U=B(g),J=a.inv(Q),Z=a.create(U*J),re=a.create(L*J),G=t.BASE.multiplyUnsafe(Z).add($.multiplyUnsafe(re));return G.is0()?!1:a.create(G.x)===L}catch{return!1}}function w(p,g,S={}){const{prehash:N}=Z_(S,v);return g=T(g,N),_.fromBytes(p,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:h,lengths:m,Point:t,sign:H,verify:b,recoverPublicKey:w,Signature:_,hash:e})}function Mtt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=fm(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Ott(t){const{CURVE:e,curveOpts:r}=Mtt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function Ftt(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,dpe(r.Fn.ORDER,r.Fn.BITS))})}function Btt(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=Ott(t),i=Ttt(e,r),a=$tt(i,n,s);return Ftt(t,a)}function jM(t,e){const r=n=>Btt({...t,hash:n});return{...r(e),create:r}}const xpe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},wpe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Ape={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Rtt=fm(xpe.p),Dtt=fm(wpe.p),Utt=fm(Ape.p),ztt=jM({...xpe,Fp:Rtt,lowS:!1},Z0e);jM({...wpe,Fp:Dtt,lowS:!1},Aet),jM({...Ape,Fp:Utt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},wet);const Ltt=ztt,Spe="base10",to="base16",Yg="base64pad",DD="base64url",p5="utf8",Ppe=0,Q1=1,gI=2,Vtt=0,JX=1,k3=12,UD=32;function Htt(){const t=CM.utils.randomPrivateKey(),e=CM.getPublicKey(t);return{privateKey:Ro(t,to),publicKey:Ro(e,to)}}function $M(){const t=J1(UD);return Ro(t,to)}function Wtt(t,e){const r=CM.getSharedSecret(pl(t,to),pl(e,to)),n=ett(hI,r,void 0,void 0,UD);return Ro(n,to)}function MM(t){const e=hI(pl(t,to));return Ro(e,to)}function A7(t){const e=hI(pl(t,p5));return Ro(e,to)}function kpe(t){return pl(`${t}`,Spe)}function N1(t){return Number(Ro(t,Spe))}function Ipe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Npe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function qtt(t){const e=kpe(typeof t.type<"u"?t.type:Ppe);if(N1(e)===Q1&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?pl(t.senderPublicKey,to):void 0,n=typeof t.iv<"u"?pl(t.iv,to):J1(k3),s=pl(t.symKey,to),i=G0e(s,n).encrypt(pl(t.message,p5)),a=Epe({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===DD?Ipe(a):a}function Ktt(t){const e=pl(t.symKey,to),{sealed:r,iv:n}=q6({encoded:t.encoded,encoding:t.encoding}),s=G0e(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return Ro(s,p5)}function Xtt(t,e){const r=kpe(gI),n=J1(k3),s=pl(t,p5),i=Epe({type:r,sealed:s,iv:n});return e===DD?Ipe(i):i}function Ztt(t,e){const{sealed:r}=q6({encoded:t,encoding:e});return Ro(r,p5)}function Epe(t){if(N1(t.type)===gI)return Ro(S3([t.type,t.sealed]),Yg);if(N1(t.type)===Q1){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ro(S3([t.type,t.senderPublicKey,t.iv,t.sealed]),Yg)}return Ro(S3([t.type,t.iv,t.sealed]),Yg)}function q6(t){const e=(t.encoding||Yg)===DD?Npe(t.encoded):t.encoded,r=pl(e,Yg),n=r.slice(Vtt,JX),s=JX;if(N1(n)===Q1){const c=s+UD,l=c+k3,u=r.slice(s,c),f=r.slice(c,l),h=r.slice(l);return{type:n,sealed:h,iv:f,senderPublicKey:u}}if(N1(n)===gI){const c=r.slice(s),l=J1(k3);return{type:n,sealed:c,iv:l}}const i=s+k3,a=r.slice(s,i),o=r.slice(i);return{type:n,sealed:o,iv:a}}function Jtt(t,e){const r=q6({encoded:t,encoding:e==null?void 0:e.encoding});return _pe({type:N1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ro(r.senderPublicKey,to):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function _pe(t){const e=(t==null?void 0:t.type)||Ppe;if(e===Q1){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function QX(t){return t.type===Q1&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function YX(t){return t.type===gI}function Qtt(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return S3([new Uint8Array([4]),e,r])}function Ytt(t,e){const[r,n,s]=t.split("."),i=Buffer.from(Npe(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32),o=i.slice(32,64),c=`${r}.${n}`,l=hI(c),u=Qtt(e);if(!Ltt.verify(S3([a,o]),l,u))throw new Error("Invalid signature");return wM(t).payload}const Gtt="irn";function IS(t){return(t==null?void 0:t.relay)||{protocol:Gtt}}function dy(t){const e=CD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var ert=Object.defineProperty,trt=Object.defineProperties,rrt=Object.getOwnPropertyDescriptors,GX=Object.getOwnPropertySymbols,nrt=Object.prototype.hasOwnProperty,srt=Object.prototype.propertyIsEnumerable,eZ=(t,e,r)=>e in t?ert(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J_=(t,e)=>{for(var r in e||(e={}))nrt.call(e,r)&&eZ(t,r,e[r]);if(GX)for(var r of GX(e))srt.call(e,r)&&eZ(t,r,e[r]);return t},irt=(t,e)=>trt(t,rrt(e));function art(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function tZ(t){if(!t.includes("wc:")){const l=O0e(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=new URLSearchParams(i),o=Object.fromEntries(a.entries()),c=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:ort(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:art(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function ort(t){return t.startsWith("//")?t.substring(2):t}function crt(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,a=r+e+i;t[i]&&(n[a]=t[i])}),n}function rZ(t){const e=new URLSearchParams,r=J_(J_(irt(J_({},crt(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}var lrt=Object.defineProperty,urt=Object.defineProperties,drt=Object.getOwnPropertyDescriptors,nZ=Object.getOwnPropertySymbols,frt=Object.prototype.hasOwnProperty,hrt=Object.prototype.propertyIsEnumerable,sZ=(t,e,r)=>e in t?lrt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,prt=(t,e)=>{for(var r in e||(e={}))frt.call(e,r)&&sZ(t,r,e[r]);if(nZ)for(var r of nZ(e))hrt.call(e,r)&&sZ(t,r,e[r]);return t},mrt=(t,e)=>urt(t,drt(e));function Cpe(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function grt(t){var e;const{proposal:{requiredNamespaces:r,optionalNamespaces:n={}},supportedNamespaces:s}=t,i=iZ(r),a=iZ(n),o={};Object.keys(s).forEach(u=>{const f=s[u].chains,h=s[u].methods,m=s[u].events,v=s[u].accounts;f.forEach(x=>{if(!v.some(k=>k.includes(x)))throw new Error(`No accounts provided for chain ${x} in namespace ${u}`)}),o[u]={chains:f,methods:h,events:m,accounts:v}});const c=Prt(r,o,"approve()");if(c)throw new Error(c.message);const l={};if(!Object.keys(r).length&&!Object.keys(n).length)return o;Object.keys(i).forEach(u=>{const f=s[u].chains.filter(x=>{var k,E;return(E=(k=i[u])==null?void 0:k.chains)==null?void 0:E.includes(x)}),h=s[u].methods.filter(x=>{var k,E;return(E=(k=i[u])==null?void 0:k.methods)==null?void 0:E.includes(x)}),m=s[u].events.filter(x=>{var k,E;return(E=(k=i[u])==null?void 0:k.events)==null?void 0:E.includes(x)}),v=f.map(x=>s[u].accounts.filter(k=>k.includes(`${x}:`))).flat();l[u]={chains:f,methods:h,events:m,accounts:v}}),Object.keys(a).forEach(u=>{var f,h,m,v,x,k;if(!s[u])return;const E=(h=(f=a[u])==null?void 0:f.chains)==null?void 0:h.filter(B=>s[u].chains.includes(B)),P=s[u].methods.filter(B=>{var D,j;return(j=(D=a[u])==null?void 0:D.methods)==null?void 0:j.includes(B)}),_=s[u].events.filter(B=>{var D,j;return(j=(D=a[u])==null?void 0:D.events)==null?void 0:j.includes(B)}),M=E==null?void 0:E.map(B=>s[u].accounts.filter(D=>D.includes(`${B}:`))).flat();l[u]={chains:cg((m=l[u])==null?void 0:m.chains,E),methods:cg((v=l[u])==null?void 0:v.methods,P),events:cg((x=l[u])==null?void 0:x.events,_),accounts:cg((k=l[u])==null?void 0:k.accounts,M)}});for(const[u,f]of Object.entries(l))(f.accounts.length===0||((e=f==null?void 0:f.chains)==null?void 0:e.length)===0)&&delete l[u];return l}function Tpe(t){return t.includes(":")}function brt(t){return Tpe(t)?t.split(":")[0]:t}function iZ(t){var e,r,n;const s={};if(!xrt(t))return s;for(const[i,a]of Object.entries(t)){const o=Tpe(i)?[i]:a.chains,c=a.methods||[],l=a.events||[],u=brt(i);s[u]=mrt(prt({},s[u]),{chains:cg(o,(e=s[u])==null?void 0:e.chains),methods:cg(c,(r=s[u])==null?void 0:r.methods),events:cg(l,(n=s[u])==null?void 0:n.events)})}return s}const yrt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},vrt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Or(t,e){const{message:r,code:n}=vrt[t];return{message:e?`${r} ${e}`:r,code:n}}function yp(t,e){const{message:r,code:n}=yrt[t];return{message:e?`${r} ${e}`:r,code:n}}function xrt(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Yw(t){return typeof t>"u"}function jpe(t,e){return typeof t=="string"&&!!t.trim().length}function wrt(t,e){return typeof t=="number"&&!isNaN(t)}function $pe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(jpe(t,!1)){if(e(t))return!0;const r=O0e(t);return e(r)}}catch{}return!1}function Art(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Srt(t){return t==null?void 0:t.topic}function Q_(t){return typeof t<"u"&&typeof t!==null}function Prt(t,e,r){let n=null;const s=krt(t),i=Irt(e),a=Object.keys(s),o=Object.keys(i),c=aZ(Object.keys(t)),l=aZ(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),D_(a,o)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=Cpe(e[f].accounts);h.includes(f)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),a.forEach(f=>{n||(D_(s[f].methods,i[f].methods)?D_(s[f].events,i[f].events)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function krt(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function aZ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Irt(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Cpe(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Nrt(t,e){return wrt(t)&&t<=e.max&&t>=e.min}function oZ(){const t=cI();return new Promise(e=>{switch(t){case yu.browser:e(Ert());break;case yu.reactNative:e(_rt());break;case yu.node:e(Crt());break;default:e(!0)}})}function Ert(){return I2()&&(navigator==null?void 0:navigator.onLine)}async function _rt(){if(Z1()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Crt(){return!0}function Trt(t){switch(cI()){case yu.browser:jrt(t);break;case yu.reactNative:$rt(t);break}}function jrt(t){!Z1()&&I2()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function $rt(t){Z1()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Mrt(){var t;return I2()&&xc()?((t=xc())==null?void 0:t.visibilityState)==="visible":!0}function Ort({logger:t,name:e}){const r=typeof t=="string"?Qhe({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}const Frt="PARSE_ERROR",Brt="INVALID_REQUEST",Rrt="METHOD_NOT_FOUND",Drt="INVALID_PARAMS",Mpe="INTERNAL_ERROR",zD="SERVER_ERROR",Urt=[-32700,-32600,-32601,-32602,-32603],I3={[Frt]:{code:-32700,message:"Parse error"},[Brt]:{code:-32600,message:"Invalid Request"},[Rrt]:{code:-32601,message:"Method not found"},[Drt]:{code:-32602,message:"Invalid params"},[Mpe]:{code:-32603,message:"Internal error"},[zD]:{code:-32e3,message:"Server error"}},Ope=zD;function zrt(t){return Urt.includes(t)}function cZ(t){return Object.keys(I3).includes(t)?I3[t]:I3[Ope]}function Lrt(t){const e=Object.values(I3).find(r=>r.code===t);return e||I3[Ope]}function LD(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var bI={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OM=function(t,e){return OM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},OM(t,e)};function Vrt(t,e){OM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var FM=function(){return FM=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},FM.apply(this,arguments)};function Hrt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Wrt(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function qrt(t,e){return function(r,n){e(r,n,t)}}function Krt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Xrt(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{l(n.next(u))}catch(f){a(f)}}function c(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function Zrt(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Jrt(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Qrt(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function BM(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fpe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Yrt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fpe(arguments[e]));return t}function Grt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function K6(t){return this instanceof K6?(this.v=t,this):new K6(t)}function ent(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(m){return new Promise(function(v,x){i.push([h,m,v,x])>1||o(h,m)})})}function o(h,m){try{c(n[h](m))}catch(v){f(i[0][3],v)}}function c(h){h.value instanceof K6?Promise.resolve(h.value.v).then(l,u):f(i[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,m){h(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}function tnt(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:K6(t[s](a)),done:s==="return"}:i?i(a):a}:i}}function rnt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof BM=="function"?BM(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function nnt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function snt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function int(t){return t&&t.__esModule?t:{default:t}}function ant(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function ont(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const cnt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return FM},__asyncDelegator:tnt,__asyncGenerator:ent,__asyncValues:rnt,__await:K6,__awaiter:Xrt,__classPrivateFieldGet:ant,__classPrivateFieldSet:ont,__createBinding:Jrt,__decorate:Wrt,__exportStar:Qrt,__extends:Vrt,__generator:Zrt,__importDefault:int,__importStar:snt,__makeTemplateObject:nnt,__metadata:Krt,__param:qrt,__read:Fpe,__rest:Hrt,__spread:Yrt,__spreadArrays:Grt,__values:BM},Symbol.toStringTag,{value:"Module"})),lnt=oP(cnt);var kf={},lZ;function unt(){if(lZ)return kf;lZ=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.isBrowserCryptoAvailable=kf.getSubtleCrypto=kf.getBrowerCrypto=void 0;function t(){return(Rs==null?void 0:Rs.crypto)||(Rs==null?void 0:Rs.msCrypto)||{}}kf.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}kf.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return kf.isBrowserCryptoAvailable=r,kf}var If={},uZ;function dnt(){if(uZ)return If;uZ=1,Object.defineProperty(If,"__esModule",{value:!0}),If.isBrowser=If.isNode=If.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}If.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}If.isNode=e;function r(){return!t()&&!e()}return If.isBrowser=r,If}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lnt;e.__exportStar(unt(),t),e.__exportStar(dnt(),t)})(bI);function O0(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function ml(t=6){return BigInt(O0(t))}function gl(t,e,r){return{id:r||O0(),jsonrpc:"2.0",method:t,params:e}}function hm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function pm(t,e,r){return{id:t,jsonrpc:"2.0",error:fnt(e)}}function fnt(t,e){return typeof t>"u"?cZ(Mpe):(typeof t=="string"&&(t=Object.assign(Object.assign({},cZ(zD)),{message:t})),zrt(t.code)&&(t=Lrt(t.code)),t)}class hnt{}let pnt=class extends hnt{constructor(){super()}},mnt=class extends pnt{constructor(e){super()}};const gnt="^wss?:";function bnt(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function ynt(t,e){const r=bnt(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function Ux(t){return ynt(t,gnt)}function VD(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Bpe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function mm(t){return Bpe(t)&&"method"in t}function Hh(t){return Bpe(t)&&(sc(t)||Ri(t))}function sc(t){return"result"in t}function Ri(t){return"error"in t}let HD=class extends mnt{constructor(e){super(e),this.events=new Un.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(gl(e.method,e.params||[],e.id||ml().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ri(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Hh(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const vnt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),xnt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",dZ=t=>t.split("?")[0],fZ=10,wnt=vnt();let Ant=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Zs(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=bI.isReactNative()?void 0:{rejectUnauthorized:!VD(e)},i=new wnt(e,[],s);xnt()?i.onerror=a=>{const o=a;n(this.emitError(o.error))}:i.on("error",a=>{n(this.emitError(a))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ai(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=pm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return LD(e,dZ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>fZ&&this.events.setMaxListeners(fZ)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${dZ(this.url)}`));return this.events.emit("register_error",r),r}};var Snt={};const Rpe="wc",Dpe=2,NS="core",tf=`${Rpe}@2:${NS}:`,Pnt={name:NS,logger:"error"},knt={database:":memory:"},Int="crypto",hZ="client_ed25519_seed",Nnt=$e.ONE_DAY,Ent="keychain",_nt="0.3",Cnt="messages",Tnt="0.3",jnt=$e.SIX_HOURS,$nt="publisher",Mnt="irn",Ont="error",Upe="wss://relay.walletconnect.org",Fnt="relayer",Bs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Bnt="_subscription",Uc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Rnt=.1,RM="2.23.1",zx={link_mode:"link_mode",relay:"relay"},S7={inbound:"inbound",outbound:"outbound"},Dnt="0.3",Unt="WALLETCONNECT_CLIENT_ID",pZ="WALLETCONNECT_LINK_MODE_APPS",Xo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},znt="subscription",Lnt="0.3",Vnt="pairing",Hnt="0.3",pw={wc_pairingDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:0},res:{ttl:$e.ONE_DAY,prompt:!1,tag:0}}},Rb={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Dl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Wnt="history",qnt="0.3",Knt="expirer",ql={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Xnt="0.3",Znt="verify-api",Jnt="https://verify.walletconnect.com",zpe="https://verify.walletconnect.org",P7=zpe,Qnt=`${P7}/v3`,Ynt=[Jnt,zpe],Gnt="echo",est="https://echo.walletconnect.com",Nf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},v0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},tst=.1,rst="event-client",nst=86400,sst="https://pulse.walletconnect.org/batch";function ist(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var ast=ist,ost=ast;const Lpe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},cst=t=>new TextEncoder().encode(t),lst=t=>new TextDecoder().decode(t);let ust=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dst=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Vpe(this,e)}},fst=class{constructor(e){this.decoders=e}or(e){return Vpe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Vpe=(t,e)=>new fst({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let hst=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new ust(e,r,n),this.decoder=new dst(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const yI=({name:t,prefix:e,encode:r,decode:n})=>new hst(t,e,r,n),m5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=ost(r,e);return yI({prefix:t,name:e,encode:n,decode:i=>Lpe(s(i))})},pst=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},mst=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ra=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>yI({prefix:e,name:t,encode(s){return mst(s,n,r)},decode(s){return pst(s,n,r,t)}}),gst=yI({prefix:"\0",name:"identity",encode:t=>lst(t),decode:t=>cst(t)});var bst=Object.freeze({__proto__:null,identity:gst});const yst=ra({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vst=Object.freeze({__proto__:null,base2:yst});const xst=ra({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wst=Object.freeze({__proto__:null,base8:xst});const Ast=m5({prefix:"9",name:"base10",alphabet:"0123456789"});var Sst=Object.freeze({__proto__:null,base10:Ast});const Pst=ra({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kst=ra({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ist=Object.freeze({__proto__:null,base16:Pst,base16upper:kst});const Nst=ra({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Est=ra({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_st=ra({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Cst=ra({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tst=ra({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jst=ra({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$st=ra({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mst=ra({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ost=ra({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fst=Object.freeze({__proto__:null,base32:Nst,base32upper:Est,base32pad:_st,base32padupper:Cst,base32hex:Tst,base32hexupper:jst,base32hexpad:$st,base32hexpadupper:Mst,base32z:Ost});const Bst=m5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rst=m5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dst=Object.freeze({__proto__:null,base36:Bst,base36upper:Rst});const Ust=m5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zst=m5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lst=Object.freeze({__proto__:null,base58btc:Ust,base58flickr:zst});const Vst=ra({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hst=ra({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wst=ra({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qst=ra({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Kst=Object.freeze({__proto__:null,base64:Vst,base64pad:Hst,base64url:Wst,base64urlpad:qst});const Hpe=Array.from(""),Xst=Hpe.reduce((t,e,r)=>(t[r]=e,t),[]),Zst=Hpe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Jst(t){return t.reduce((e,r)=>(e+=Xst[r],e),"")}function Qst(t){const e=[];for(const r of t){const n=Zst[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Yst=yI({prefix:"",name:"base256emoji",encode:Jst,decode:Qst});var Gst=Object.freeze({__proto__:null,base256emoji:Yst}),eit=Wpe,mZ=128,tit=127,rit=~tit,nit=Math.pow(2,31);function Wpe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=nit;)e[r++]=t&255|mZ,t/=128;for(;t&rit;)e[r++]=t&255|mZ,t>>>=7;return e[r]=t|0,Wpe.bytes=r-n+1,e}var sit=DM,iit=128,gZ=127;function DM(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw DM.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&gZ)<<s:(a&gZ)*Math.pow(2,s),s+=7}while(a>=iit);return DM.bytes=i-n,r}var ait=Math.pow(2,7),oit=Math.pow(2,14),cit=Math.pow(2,21),lit=Math.pow(2,28),uit=Math.pow(2,35),dit=Math.pow(2,42),fit=Math.pow(2,49),hit=Math.pow(2,56),pit=Math.pow(2,63),mit=function(t){return t<ait?1:t<oit?2:t<cit?3:t<lit?4:t<uit?5:t<dit?6:t<fit?7:t<hit?8:t<pit?9:10},git={encode:eit,decode:sit,encodingLength:mit},qpe=git;const bZ=(t,e,r=0)=>(qpe.encode(t,e,r),e),yZ=t=>qpe.encodingLength(t),UM=(t,e)=>{const r=e.byteLength,n=yZ(t),s=n+yZ(r),i=new Uint8Array(s+r);return bZ(t,i,0),bZ(r,i,n),i.set(e,s),new bit(t,r,e,i)};let bit=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const Kpe=({name:t,code:e,encode:r})=>new yit(t,e,r);let yit=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?UM(this.code,r):r.then(n=>UM(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Xpe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),vit=Kpe({name:"sha2-256",code:18,encode:Xpe("SHA-256")}),xit=Kpe({name:"sha2-512",code:19,encode:Xpe("SHA-512")});var wit=Object.freeze({__proto__:null,sha256:vit,sha512:xit});const Zpe=0,Ait="identity",Jpe=Lpe,Sit=t=>UM(Zpe,Jpe(t)),Pit={code:Zpe,name:Ait,encode:Jpe,digest:Sit};var kit=Object.freeze({__proto__:null,identity:Pit});new TextEncoder,new TextDecoder;const vZ={...bst,...vst,...wst,...Sst,...Ist,...Fst,...Dst,...Lst,...Kst,...Gst};({...wit,...kit});function Qpe(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Iit(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Qpe(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ype(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xZ=Ype("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Y_=Ype("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Iit(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nit={utf8:xZ,"utf-8":xZ,hex:vZ.base16,latin1:Y_,ascii:Y_,binary:Y_,...vZ};function Eit(t,e="utf8"){const r=Nit[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Qpe(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var _it=Object.defineProperty,Cit=(t,e,r)=>e in t?_it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qu=(t,e,r)=>Cit(t,typeof e!="symbol"?e+"":e,r);let Tit=class{constructor(e,r){this.core=e,this.logger=r,qu(this,"keychain",new Map),qu(this,"name",Ent),qu(this,"version",_nt),qu(this,"initialized",!1),qu(this,"storagePrefix",tf),qu(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),qu(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),qu(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),qu(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=Or("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),qu(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,AM(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?SM(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}};var jit=Object.defineProperty,$it=(t,e,r)=>e in t?jit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>$it(t,typeof e!="symbol"?e+"":e,r);class Mit{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",Int),ri(this,"keychain"),ri(this,"randomSessionIdentifier",$M()),ri(this,"initialized",!1),ri(this,"clientId"),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),ri(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=xX(s),a=I0e(i.publicKey);return this.clientId=a,a}),ri(this,"generateKeyPair",()=>{this.isInitialized();const s=Htt();return this.setPrivateKey(s.publicKey,s.privateKey)}),ri(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),a=xX(i),o=this.randomSessionIdentifier;return await aYe(o,s,Nnt,a)}),ri(this,"generateSharedKey",(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=Wtt(o,i);return this.setSymKey(c,a)}),ri(this,"setSymKey",async(s,i)=>{this.isInitialized();const a=i||MM(s);return await this.keychain.set(a,s),a}),ri(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),ri(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),ri(this,"encode",async(s,i,a)=>{this.isInitialized();const o=_pe(a),c=Zs(i);if(YX(o))return Xtt(c,a==null?void 0:a.encoding);if(QX(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return qtt({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})}),ri(this,"decode",async(s,i,a)=>{this.isInitialized();const o=Jtt(i,a);if(YX(o)){const c=Ztt(i,a==null?void 0:a.encoding);return Ai(c)}if(QX(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Ktt({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Ai(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ri(this,"getPayloadType",(s,i=Yg)=>{const a=q6({encoded:s,encoding:i});return N1(a.type)}),ri(this,"getPayloadSenderPublicKey",(s,i=Yg)=>{const a=q6({encoded:s,encoding:i});return a.senderPublicKey?Ro(a.senderPublicKey,to):void 0}),this.core=e,this.logger=kc(r,this.name),this.keychain=n||new Tit(this.core,this.logger)}get context(){return Pc(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(hZ)}catch{e=$M(),await this.keychain.set(hZ,e)}return Eit(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Oit=Object.defineProperty,Fit=Object.defineProperties,Bit=Object.getOwnPropertyDescriptors,wZ=Object.getOwnPropertySymbols,Rit=Object.prototype.hasOwnProperty,Dit=Object.prototype.propertyIsEnumerable,zM=(t,e,r)=>e in t?Oit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Uit=(t,e)=>{for(var r in e||(e={}))Rit.call(e,r)&&zM(t,r,e[r]);if(wZ)for(var r of wZ(e))Dit.call(e,r)&&zM(t,r,e[r]);return t},zit=(t,e)=>Fit(t,Bit(e)),qo=(t,e,r)=>zM(t,typeof e!="symbol"?e+"":e,r);class Lit extends oZe{constructor(e,r){super(e,r),this.logger=e,this.core=r,qo(this,"messages",new Map),qo(this,"messagesWithoutClientAck",new Map),qo(this,"name",Cnt),qo(this,"version",Tnt),qo(this,"initialized",!1),qo(this,"storagePrefix",tf),qo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),qo(this,"set",async(n,s,i)=>{this.isInitialized();const a=A7(s);let o=this.messages.get(n);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=s,this.messages.set(n,o),i===S7.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,zit(Uit({},c),{[a]:s}))}return await this.persist(),a}),qo(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),qo(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const a=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(a)}return s}),qo(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),a=A7(s);return typeof i[a]<"u"}),qo(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const a=A7(s);delete i[a],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),qo(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=kc(e,this.name),this.core=r}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,AM(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,AM(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?SM(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?SM(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Vit=Object.defineProperty,Hit=Object.defineProperties,Wit=Object.getOwnPropertyDescriptors,AZ=Object.getOwnPropertySymbols,qit=Object.prototype.hasOwnProperty,Kit=Object.prototype.propertyIsEnumerable,LM=(t,e,r)=>e in t?Vit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gb=(t,e)=>{for(var r in e||(e={}))qit.call(e,r)&&LM(t,r,e[r]);if(AZ)for(var r of AZ(e))Kit.call(e,r)&&LM(t,r,e[r]);return t},SZ=(t,e)=>Hit(t,Wit(e)),zc=(t,e,r)=>LM(t,typeof e!="symbol"?e+"":e,r);let Xit=class extends cZe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,zc(this,"events",new Un.EventEmitter),zc(this,"name",$nt),zc(this,"queue",new Map),zc(this,"publishTimeout",$e.toMiliseconds($e.ONE_MINUTE)),zc(this,"initialPublishTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),zc(this,"needsTransportRestart",!1),zc(this,"publish",async(n,s,i)=>{var a,o,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const f=(i==null?void 0:i.ttl)||jnt,h=(i==null?void 0:i.prompt)||!1,m=(i==null?void 0:i.tag)||0,v=(i==null?void 0:i.id)||ml().toString(),x=dy(IS().protocol),k={id:v,method:(i==null?void 0:i.publishMethod)||x.publish,params:gb({topic:n,message:s,ttl:f,prompt:h,tag:m,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},E=`Failed to publish payload, please try again. id:${v} tag:${m}`;try{Yw((a=k.params)==null?void 0:a.prompt)&&((o=k.params)==null||delete o.prompt),Yw((c=k.params)==null?void 0:c.tag)&&((l=k.params)==null||delete l.tag);const P=new Promise(async _=>{const M=({id:D})=>{var j;((j=k.id)==null?void 0:j.toString())===D.toString()&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(Bs.publish,M),_())};this.relayer.events.on(Bs.publish,M);const B=Td(new Promise((D,j)=>{this.rpcPublish(k,i).then(D).catch(T=>{this.logger.warn(T,T==null?void 0:T.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${v} tag:${m}`);try{await B,this.events.removeListener(Bs.publish,M)}catch(D){this.queue.set(v,{request:k,opts:i,attempt:1}),this.logger.warn(D,D==null?void 0:D.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,topic:n,message:s,opts:i}}),await Td(P,this.publishTimeout,E)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(u=i==null?void 0:i.internal)!=null&&u.throwOnFailedPublish)throw P}finally{this.queue.delete(v)}}),zc(this,"publishCustom",async n=>{var s,i,a,o,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:h,publishMethod:m,prompt:v,tag:x,ttl:k=$e.FIVE_MINUTES}=u,E=u.id||ml().toString(),P=dy(IS().protocol),_=m||P.publish,M={id:E,method:_,params:gb(SZ(gb({},l),{ttl:k,prompt:v,tag:x,attestation:f}),h)},B=`Failed to publish custom payload, please try again. id:${E} tag:${x}`;try{Yw((s=M.params)==null?void 0:s.prompt)&&((i=M.params)==null||delete i.prompt),Yw((a=M.params)==null?void 0:a.tag)&&((o=M.params)==null||delete o.tag);const D=new Promise(async j=>{const T=({id:H})=>{var O;((O=M.id)==null?void 0:O.toString())===H.toString()&&(this.removeRequestFromQueue(H),this.relayer.events.removeListener(Bs.publish,T),j())};this.relayer.events.on(Bs.publish,T);const R=Td(new Promise((H,O)=>{this.rpcPublish(M,u).then(H).catch(b=>{this.logger.warn(b,b==null?void 0:b.message),O(b)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${E} tag:${x}`);try{await R,this.events.removeListener(Bs.publish,T)}catch(H){this.queue.set(E,{request:M,opts:u,attempt:1}),this.logger.warn(H,H==null?void 0:H.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:l,opts:u}}),await Td(D,this.publishTimeout,B)}catch(D){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(D),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw D}finally{this.queue.delete(E)}}),zc(this,"on",(n,s)=>{this.events.on(n,s)}),zc(this,"once",(n,s)=>{this.events.once(n,s)}),zc(this,"off",(n,s)=>{this.events.off(n,s)}),zc(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=kc(r,this.name),this.registerEventListeners()}get context(){return Pc(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Bs.publish,gb(gb({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const s=e.attempt+1;this.queue.set(r,SZ(gb({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Bs.connection_stalled);return}this.checkQueue()}),this.relayer.on(Bs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var Zit=Object.defineProperty,Jit=(t,e,r)=>e in t?Zit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bb=(t,e,r)=>Jit(t,typeof e!="symbol"?e+"":e,r);let Qit=class{constructor(){bb(this,"map",new Map),bb(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),bb(this,"get",e=>this.map.get(e)||[]),bb(this,"exists",(e,r)=>this.get(e).includes(r)),bb(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),bb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Yit=Object.defineProperty,Git=Object.defineProperties,eat=Object.getOwnPropertyDescriptors,PZ=Object.getOwnPropertySymbols,tat=Object.prototype.hasOwnProperty,rat=Object.prototype.propertyIsEnumerable,VM=(t,e,r)=>e in t?Yit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mw=(t,e)=>{for(var r in e||(e={}))tat.call(e,r)&&VM(t,r,e[r]);if(PZ)for(var r of PZ(e))rat.call(e,r)&&VM(t,r,e[r]);return t},G_=(t,e)=>Git(t,eat(e)),kn=(t,e,r)=>VM(t,typeof e!="symbol"?e+"":e,r);class nat extends dZe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,kn(this,"subscriptions",new Map),kn(this,"topicMap",new Qit),kn(this,"events",new Un.EventEmitter),kn(this,"name",znt),kn(this,"version",Lnt),kn(this,"pending",new Map),kn(this,"cached",[]),kn(this,"initialized",!1),kn(this,"storagePrefix",tf),kn(this,"subscribeTimeout",$e.toMiliseconds($e.ONE_MINUTE)),kn(this,"initialSubscribeTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),kn(this,"clientId"),kn(this,"batchSubscribeTopicsLimit",500),kn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),kn(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const a=IS(s),o={topic:n,relay:a,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,o);const c=await this.rpcSubscribe(n,a,s);return typeof c=="string"&&(this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),kn(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),kn(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),kn(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),kn(this,"on",(n,s)=>{this.events.on(n,s)}),kn(this,"once",(n,s)=>{this.events.once(n,s)}),kn(this,"off",(n,s)=>{this.events.off(n,s)}),kn(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),kn(this,"start",async()=>{await this.onConnect()}),kn(this,"stop",async()=>{await this.onDisconnect()}),kn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),kn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),kn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(Xo.created,async n=>{const s=Xo.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Xo.deleted,async n=>{const s=Xo.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=kc(r,this.name),this.clientId=""}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=IS(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=yp("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;const a=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return a;(!n||(n==null?void 0:n.transportType)===zx.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const o={method:dy(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===zx.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(f=>this.logger.warn(f))},$e.toMiliseconds($e.ONE_SECOND)),a;const l=new Promise(async f=>{const h=m=>{m.topic===e&&(this.events.removeListener(Xo.created,h),f(m.id))};this.events.on(Xo.created,h);try{const m=await Td(new Promise((v,x)=>{this.relayer.request(o).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),x(k)}).then(v)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Xo.created,h),f(m)}catch{}}),u=await Td(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Bs.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:dy(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Td(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Bs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:dy(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Td(new Promise((i,a)=>{this.relayer.request(n).catch(o=>{this.logger.warn(o),a(o)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Bs.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:dy(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,G_(mw({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,mw({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,mw({},r)),this.topicMap.set(r.topic,e),this.events.emit(Xo.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Xo.deleted,G_(mw({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Xo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Xo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>G_(mw({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await zGe($e.toMiliseconds($e.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return A7(e+await this.getClientId())}}var sat=Object.defineProperty,kZ=Object.getOwnPropertySymbols,iat=Object.prototype.hasOwnProperty,aat=Object.prototype.propertyIsEnumerable,HM=(t,e,r)=>e in t?sat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IZ=(t,e)=>{for(var r in e||(e={}))iat.call(e,r)&&HM(t,r,e[r]);if(kZ)for(var r of kZ(e))aat.call(e,r)&&HM(t,r,e[r]);return t},an=(t,e,r)=>HM(t,typeof e!="symbol"?e+"":e,r);class oat extends lZe{constructor(e){var r;super(e),an(this,"protocol","wc"),an(this,"version",2),an(this,"core"),an(this,"logger"),an(this,"events",new Un.EventEmitter),an(this,"provider"),an(this,"messages"),an(this,"subscriber"),an(this,"publisher"),an(this,"name",Fnt),an(this,"transportExplicitlyClosed",!1),an(this,"initialized",!1),an(this,"connectionAttemptInProgress",!1),an(this,"relayUrl"),an(this,"projectId"),an(this,"packageName"),an(this,"bundleId"),an(this,"hasExperiencedNetworkDisruption",!1),an(this,"pingTimeout"),an(this,"heartBeatTimeout",$e.toMiliseconds($e.THIRTY_SECONDS+$e.FIVE_SECONDS)),an(this,"reconnectTimeout"),an(this,"connectPromise"),an(this,"reconnectInProgress",!1),an(this,"requestsInFlight",[]),an(this,"connectTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),an(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const a=n.id||ml().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const o=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),c}catch(o){throw this.logger.debug(`Failed to Publish Request: ${a}`),o}}),an(this,"resetPingTimeout",()=>{wS()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),an(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),an(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Bs.connect)}),an(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),an(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Bs.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),an(this,"registerProviderListeners",()=>{this.provider.on(Uc.payload,this.onPayloadHandler),this.provider.on(Uc.connect,this.onConnectHandler),this.provider.on(Uc.disconnect,this.onDisconnectHandler),this.provider.on(Uc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=Ort({logger:(r=e.logger)!=null?r:Ont,name:this.name}),this.messages=new Lit(this.logger,e.core),this.subscriber=new nat(this,this.logger),this.publisher=new Xit(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Upe,CGe()?this.packageName=IX():TGe()&&(this.bundleId=IX()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Pc(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:zx.relay},S7.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Xo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Xo.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,IZ({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Td(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await oZ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=P3($e.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(Bs.message,e),await this.recordMessageEvent(e,S7.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Uc.disconnect,i),await Td(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{s(a)}).finally(()=>{this.provider.off(Uc.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Uc.disconnect,c),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Uc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,$e.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(wS())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new HD(new Ant(FGe({sdkVersion:RM,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),mm(e)){if(!e.method.endsWith(Bnt))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:zx.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(IZ({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Hh(e)&&this.events.emit(Bs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,S7.inbound),this.events.emit(Bs.message,e))}async acknowledgePayload(e){const r=hm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Uc.payload,this.onPayloadHandler),this.provider.off(Uc.connect,this.onConnectHandler),this.provider.off(Uc.disconnect,this.onDisconnectHandler),this.provider.off(Uc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await oZ();Trt(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Gi.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Mrt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Bs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},$e.toMiliseconds(Rnt)))))}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function cat(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function NZ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function EZ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const lat="[object RegExp]",uat="[object String]",dat="[object Number]",fat="[object Boolean]",_Z="[object Arguments]",hat="[object Symbol]",pat="[object Date]",mat="[object Map]",gat="[object Set]",bat="[object Array]",yat="[object Function]",vat="[object ArrayBuffer]",eC="[object Object]",xat="[object Error]",wat="[object DataView]",Aat="[object Uint8Array]",Sat="[object Uint8ClampedArray]",Pat="[object Uint16Array]",kat="[object Uint32Array]",Iat="[object BigUint64Array]",Nat="[object Int8Array]",Eat="[object Int16Array]",_at="[object Int32Array]",Cat="[object BigInt64Array]",Tat="[object Float32Array]",jat="[object Float64Array]";function $at(){}function CZ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Mat(t,e,r){return Gw(t,e,void 0,void 0,void 0,void 0,r)}function Gw(t,e,r,n,s,i,a){const o=a(t,e,r,n,s,i);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return N3(t,e,i,a)}return N3(t,e,i,a)}function N3(t,e,r,n){if(Object.is(t,e))return!0;let s=EZ(t),i=EZ(e);if(s===_Z&&(s=eC),i===_Z&&(i=eC),s!==i)return!1;switch(s){case uat:return t.toString()===e.toString();case dat:{const c=t.valueOf(),l=e.valueOf();return cat(c,l)}case fat:case pat:case hat:return Object.is(t.valueOf(),e.valueOf());case lat:return t.source===e.source&&t.flags===e.flags;case yat:return t===e}r=r??new Map;const a=r.get(t),o=r.get(e);if(a!=null&&o!=null)return a===e;r.set(t,e),r.set(e,t);try{switch(s){case mat:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Gw(l,e.get(c),c,t,e,r,n))return!1;return!0}case gat:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],h=l.findIndex(m=>Gw(f,m,void 0,t,e,r,n));if(h===-1)return!1;l.splice(h,1)}return!0}case bat:case Aat:case Sat:case Pat:case kat:case Iat:case Nat:case Eat:case _at:case Cat:case Tat:case jat:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Gw(t[c],e[c],c,t,e,r,n))return!1;return!0}case vat:return t.byteLength!==e.byteLength?!1:N3(new Uint8Array(t),new Uint8Array(e),r,n);case wat:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:N3(new Uint8Array(t),new Uint8Array(e),r,n);case xat:return t.name===e.name&&t.message===e.message;case eC:{if(!(N3(t.constructor,e.constructor,r,n)||CZ(t)&&CZ(e)))return!1;const c=[...Object.keys(t),...NZ(t)],l=[...Object.keys(e),...NZ(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],h=t[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!Gw(h,m,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Oat(t,e){return Mat(t,e,$at)}var Fat=Object.defineProperty,TZ=Object.getOwnPropertySymbols,Bat=Object.prototype.hasOwnProperty,Rat=Object.prototype.propertyIsEnumerable,WM=(t,e,r)=>e in t?Fat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jZ=(t,e)=>{for(var r in e||(e={}))Bat.call(e,r)&&WM(t,r,e[r]);if(TZ)for(var r of TZ(e))Rat.call(e,r)&&WM(t,r,e[r]);return t},mo=(t,e,r)=>WM(t,typeof e!="symbol"?e+"":e,r);class k7 extends uZe{constructor(e,r,n,s=tf,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,mo(this,"map",new Map),mo(this,"version",Dnt),mo(this,"cached",[]),mo(this,"initialized",!1),mo(this,"getKey"),mo(this,"storagePrefix",tf),mo(this,"recentlyDeleted",[]),mo(this,"recentlyDeletedLimit",200),mo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Yw(a)?this.map.set(this.getKey(a),a):Art(a)?this.map.set(a.id,a):Srt(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),mo(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),mo(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),mo(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>Oat(o[c],a[c]))):this.values)),mo(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=jZ(jZ({},this.getData(a)),o);this.map.set(a,c),await this.persist()}),mo(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=kc(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=Or("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Dat=Object.defineProperty,Uat=(t,e,r)=>e in t?Dat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vr=(t,e,r)=>Uat(t,typeof e!="symbol"?e+"":e,r);class zat{constructor(e,r){this.core=e,this.logger=r,Vr(this,"name",Vnt),Vr(this,"version",Hnt),Vr(this,"events",new D4),Vr(this,"pairings"),Vr(this,"initialized",!1),Vr(this,"storagePrefix",tf),Vr(this,"ignoredPayloadTypes",[Q1]),Vr(this,"registeredMethods",[]),Vr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Vr(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Vr(this,"create",async n=>{this.isInitialized();const s=$M(),i=await this.core.crypto.setSymKey(s),a=P3($e.FIVE_MINUTES),o={protocol:Mnt},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=rZ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(Rb.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:l}}),Vr(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Nf.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=tZ(n.uri);s.props.properties.topic=i,s.addTrace(Nf.pairing_uri_validation_success),s.addTrace(Nf.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Nf.existing_pairing),u.active)throw s.setError(v0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Nf.pairing_not_expired)}const f=c||P3($e.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(Nf.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Rb.create,h),s.addTrace(Nf.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(Nf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(v0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(v0.subscribe_pairing_topic_failure),m}return s.addTrace(Nf.subscribe_pairing_topic_success),h}),Vr(this,"activate",async({topic:n})=>{this.isInitialized();const s=P3($e.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),Vr(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=BGe();this.events.once(U_("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}}),Vr(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),Vr(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),Vr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Vr(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",yp("USER_DISCONNECTED")),await this.deletePairing(s))}),Vr(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return rZ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})}),Vr(this,"sendRequest",async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=pw[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id}),Vr(this,"sendResult",async(n,s,i)=>{const a=hm(n,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,n)).request.method,l=pw[c].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),Vr(this,"sendError",async(n,s,i)=>{const a=pm(n,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,n)).request.method,l=pw[c]?pw[c].res:pw.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),Vr(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,yp("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),Vr(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>NX(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),Vr(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Vr(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}}),Vr(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(Rb.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),Vr(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit(U_("pairing_ping",i),{}):Ri(s)&&this.events.emit(U_("pairing_ping",i),{error:s.error})},500)}),Vr(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Rb.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),Vr(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=yp("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),Vr(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(yp("WC_METHOD_UNSUPPORTED",n))}),Vr(this,"isValidPair",(n,s)=>{var i;if(!Q_(n)){const{message:o}=Or("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(v0.malformed_pairing_uri),new Error(o)}if(!$pe(n.uri)){const{message:o}=Or("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(v0.malformed_pairing_uri),new Error(o)}const a=tZ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=Or("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(v0.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=Or("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(v0.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&$e.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(v0.pairing_expired);const{message:o}=Or("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),Vr(this,"isValidPing",async n=>{if(!Q_(n)){const{message:i}=Or("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Vr(this,"isValidDisconnect",async n=>{if(!Q_(n)){const{message:i}=Or("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Vr(this,"isValidPairingTopic",async n=>{if(!jpe(n)){const{message:s}=Or("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Or("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(NX(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Or("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=kc(r,this.name),this.pairings=new k7(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Pc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Bs.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==zx.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);mm(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Hh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(ql.expired,async e=>{const{topic:r}=UGe(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Rb.expire,{topic:r}))})}}var Lat=Object.defineProperty,Vat=(t,e,r)=>e in t?Lat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mi=(t,e,r)=>Vat(t,typeof e!="symbol"?e+"":e,r);class Hat extends aZe{constructor(e,r){super(e,r),this.core=e,this.logger=r,Mi(this,"records",new Map),Mi(this,"events",new Un.EventEmitter),Mi(this,"name",Wnt),Mi(this,"version",qnt),Mi(this,"cached",[]),Mi(this,"initialized",!1),Mi(this,"storagePrefix",tf),Mi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mi(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:P3($e.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Dl.created,a)}),Mi(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Dl.updated,s))}),Mi(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Mi(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Dl.deleted,i)}}),this.persist()}),Mi(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Mi(this,"on",(n,s)=>{this.events.on(n,s)}),Mi(this,"once",(n,s)=>{this.events.once(n,s)}),Mi(this,"off",(n,s)=>{this.events.off(n,s)}),Mi(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Dl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Dl.created,e=>{const r=Dl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Dl.updated,e=>{const r=Dl.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Dl.deleted,e=>{const r=Dl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{$e.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Dl.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Wat=Object.defineProperty,qat=(t,e,r)=>e in t?Wat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ya=(t,e,r)=>qat(t,typeof e!="symbol"?e+"":e,r);class Kat extends fZe{constructor(e,r){super(e,r),this.core=e,this.logger=r,ya(this,"expirations",new Map),ya(this,"events",new Un.EventEmitter),ya(this,"name",Knt),ya(this,"version",Xnt),ya(this,"cached",[]),ya(this,"initialized",!1),ya(this,"storagePrefix",tf),ya(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ya(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ya(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(ql.created,{target:i,expiration:a})}),ya(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),ya(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ql.deleted,{target:s,expiration:i})}}),ya(this,"on",(n,s)=>{this.events.on(n,s)}),ya(this,"once",(n,s)=>{this.events.once(n,s)}),ya(this,"off",(n,s)=>{this.events.off(n,s)}),ya(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return RGe(e);if(typeof e=="number")return DGe(e);const{message:r}=Or("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ql.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;$e.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ql.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(ql.created,e=>{const r=ql.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ql.expired,e=>{const r=ql.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ql.deleted,e=>{const r=ql.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xat=Object.defineProperty,Zat=(t,e,r)=>e in t?Xat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Os=(t,e,r)=>Zat(t,typeof e!="symbol"?e+"":e,r);class Jat extends hZe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Os(this,"name",Znt),Os(this,"abortController"),Os(this,"isDevEnv"),Os(this,"verifyUrlV3",Qnt),Os(this,"storagePrefix",tf),Os(this,"version",Dpe),Os(this,"publicKey"),Os(this,"fetchPromise"),Os(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&$e.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Os(this,"register",async s=>{if(!I2()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer($e.ONE_SECOND*5),f=await new Promise((h,m)=>{const v=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",v,{signal:this.abortController.signal});const k=E=>{if(E.data&&typeof E.data=="string")try{const P=JSON.parse(E.data);if(P.type==="verify_attestation"){if(wM(P.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",k),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(l){this.logger.warn(l)}return""}),Os(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(wM(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)}),Os(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer($e.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),Os(this,"getVerifyUrl",s=>{let i=s||P7;return Ynt.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${P7}`),i=P7),i}),Os(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer($e.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Os(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Os(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Os(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),Os(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Os(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Os(this,"validateAttestation",(s,i)=>{const a=Ytt(s,i.publicKey),o={hasExpired:$e.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=kc(r,this.name),this.abortController=new AbortController,this.isDevEnv=M0e(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Pc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),$e.toMiliseconds(e))}}var Qat=Object.defineProperty,Yat=(t,e,r)=>e in t?Qat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$Z=(t,e,r)=>Yat(t,typeof e!="symbol"?e+"":e,r);class Gat extends pZe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,$Z(this,"context",Gnt),$Z(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${est}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})}),this.logger=kc(r,this.context)}}var eot=Object.defineProperty,MZ=Object.getOwnPropertySymbols,tot=Object.prototype.hasOwnProperty,rot=Object.prototype.propertyIsEnumerable,qM=(t,e,r)=>e in t?eot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gw=(t,e)=>{for(var r in e||(e={}))tot.call(e,r)&&qM(t,r,e[r]);if(MZ)for(var r of MZ(e))rot.call(e,r)&&qM(t,r,e[r]);return t},ni=(t,e,r)=>qM(t,typeof e!="symbol"?e+"":e,r);class not extends mZe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ni(this,"context",rst),ni(this,"storagePrefix",tf),ni(this,"storageVersion",tst),ni(this,"events",new Map),ni(this,"shouldPersist",!1),ni(this,"init",async()=>{if(!M0e())try{const s={eventId:EX(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:j0e(this.core.relayer.protocol,this.core.relayer.version,RM)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ni(this,"createEvent",s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=EX(),u=this.core.projectId||"",f=Date.now(),h=gw({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ni(this,"getEvent",s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return gw(gw({},o),this.setMethods(o.eventId))}),ni(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ni(this,"setEventListeners",()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{$e.fromMiliseconds(Date.now())-$e.fromMiliseconds(s.timestamp)>nst&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ni(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ni(this,"addTrace",(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)}),ni(this,"setError",(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)}),ni(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ni(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,gw(gw({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ni(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ni(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${sst}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${RM}${i}`,{method:"POST",body:JSON.stringify(s)})}),ni(this,"getAppDomain",()=>$Ge().url),this.logger=kc(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var sot=Object.defineProperty,OZ=Object.getOwnPropertySymbols,iot=Object.prototype.hasOwnProperty,aot=Object.prototype.propertyIsEnumerable,KM=(t,e,r)=>e in t?sot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,FZ=(t,e)=>{for(var r in e||(e={}))iot.call(e,r)&&KM(t,r,e[r]);if(OZ)for(var r of OZ(e))aot.call(e,r)&&KM(t,r,e[r]);return t},Nn=(t,e,r)=>KM(t,typeof e!="symbol"?e+"":e,r);class WD extends rZe{constructor(e){var r;super(e),Nn(this,"protocol",Rpe),Nn(this,"version",Dpe),Nn(this,"name",NS),Nn(this,"relayUrl"),Nn(this,"projectId"),Nn(this,"customStoragePrefix"),Nn(this,"events",new Un.EventEmitter),Nn(this,"logger"),Nn(this,"heartbeat"),Nn(this,"relayer"),Nn(this,"crypto"),Nn(this,"storage"),Nn(this,"history"),Nn(this,"expirer"),Nn(this,"pairing"),Nn(this,"verify"),Nn(this,"echoClient"),Nn(this,"linkModeSupportedApps"),Nn(this,"eventClient"),Nn(this,"initialized",!1),Nn(this,"logChunkController"),Nn(this,"on",(o,c)=>this.events.on(o,c)),Nn(this,"once",(o,c)=>this.events.once(o,c)),Nn(this,"off",(o,c)=>this.events.off(o,c)),Nn(this,"removeListener",(o,c)=>this.events.removeListener(o,c)),Nn(this,"dispatchEnvelope",({topic:o,message:c,sessionExists:l})=>{if(!o||!c)return;const u={topic:o,message:c,publishedAt:Date.now(),transportType:zx.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Upe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=ZXe({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Pnt.logger,name:NS}),{logger:i,chunkLoggerController:a}=Qhe({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,c;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=kc(i,this.name),this.heartbeat=new dD,this.crypto=new Mit(this,this.logger,e==null?void 0:e.keychain),this.history=new Hat(this,this.logger),this.expirer=new Kat(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new uXe(FZ(FZ({},knt),e==null?void 0:e.storageOptions)),this.relayer=new oat({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new zat(this,this.logger),this.verify=new Jat(this,this.logger,this.storage),this.echoClient=new Gat(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new not(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new WD(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Unt,n),r}get context(){return Pc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(pZ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(pZ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Snt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const Gpe=WD;function oot(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var qD=cot;function cot(t,e,r){var n=r&&r.stringify||oot,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var a=new Array(i);a[0]=n(t);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,f=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Number(e[u]),f=m+2,m++;break;case 105:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Math.floor(Number(e[u])),f=m+2,m++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<m&&(l+=t.slice(f,m));var v=typeof e[u];if(v==="string"){l+="'"+e[u]+"'",f=m+2,m++;break}if(v==="function"){l+=e[u].name||"<anonymous>",f=m+2,m++;break}l+=n(e[u]),f=m+2,m++;break;case 115:if(u>=c)break;f<m&&(l+=t.slice(f,m)),l+=String(e[u]),f=m+2,m++;break;case 37:f<m&&(l+=t.slice(f,m)),l+="%",f=m+2,m++,u--;break}++u}++m}return f===-1?t:(f<h&&(l+=t.slice(f)),l)}const BZ=qD;var eme=Wd;const X6=yot().console||{},lot={mapHttpRequest:b9,mapHttpResponse:b9,wrapRequestSerializer:tC,wrapResponseSerializer:tC,wrapErrorSerializer:tC,req:b9,res:b9,err:pot};function uot(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Wd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||X6;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=uot(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=Z6),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:mot(t)};c.levels=Wd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Z6,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=XM());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,yb(l,c,"error","log"),yb(l,c,"fatal","error"),yb(l,c,"warn","error"),yb(l,c,"info","log"),yb(l,c,"debug","log"),yb(l,c,"trace","log")}function m(v,x){if(!v)throw new Error("missing bindings for child Pino");x=x||{},s&&v.serializers&&(x.serializers=v.serializers);const k=x.serializers;if(s&&k){var E=Object.assign({},n,k),P=t.browser.serialize===!0?Object.keys(E):s;delete v.serializers,vI([v],P,E,this._stdErrSerialize)}function _(M){this._childLevel=(M._childLevel|0)+1,this.error=vb(M,v,"error"),this.fatal=vb(M,v,"fatal"),this.warn=vb(M,v,"warn"),this.info=vb(M,v,"info"),this.debug=vb(M,v,"debug"),this.trace=vb(M,v,"trace"),E&&(this.serializers=E,this._serialize=P),e&&(this._logEvent=XM([].concat(M._logEvent.bindings,v)))}return _.prototype=this,new _(this)}return c}Wd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Wd.stdSerializers=lot;Wd.stdTimeFunctions=Object.assign({},{nullTime:tme,epochTime:rme,unixTime:got,isoTime:bot});function yb(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Z6:s[r]?s[r]:X6[r]||X6[n]||Z6,dot(t,e,r)}function dot(t,e,r){!t.transmit&&e[r]===Z6||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===X6?X6:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&vI(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,fot(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=Wd.levels.values[l],f=Wd.levels.values[r];if(f<u)return;hot(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:Wd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function fot(t,e,r,n){t._serialize&&vI(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=Wd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?BZ(s.shift(),s):void 0}else typeof i=="string"&&(i=BZ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function vI(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Wd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function vb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function hot(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;vI(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=XM(c)}function XM(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function pot(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function mot(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?tme:rme}function b9(){return{}}function tC(t){return t}function Z6(){}function tme(){return!1}function rme(){return Date.now()}function got(){return Math.round(Date.now()/1e3)}function bot(){return new Date(Date.now()).toISOString()}function yot(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const nme=Ua(eme),vot=RY({__proto__:null,default:nme},[eme]),xot={level:"info"},g5="custom_context";var wot=Object.defineProperty,Aot=Object.defineProperties,Sot=Object.getOwnPropertyDescriptors,RZ=Object.getOwnPropertySymbols,Pot=Object.prototype.hasOwnProperty,kot=Object.prototype.propertyIsEnumerable,DZ=(t,e,r)=>e in t?wot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Iot=(t,e)=>{for(var r in e||(e={}))Pot.call(e,r)&&DZ(t,r,e[r]);if(RZ)for(var r of RZ(e))kot.call(e,r)&&DZ(t,r,e[r]);return t},Not=(t,e)=>Aot(t,Sot(e));function Eot(t){return Not(Iot({},t),{level:(t==null?void 0:t.level)||xot.level})}function _ot(t,e=g5){return t[e]||""}function Cot(t,e,r=g5){return t[r]=e,t}function sme(t,e=g5){let r="";return typeof t.bindings>"u"?r=_ot(t,e):r=t.bindings().context||"",r}function Tot(t,e,r=g5){const n=sme(t,r);return n.trim()?`${n}/${e}`:e}function jot(t,e,r=g5){const n=Tot(t,e,r),s=t.child({context:n});return Cot(s,n,r)}var UZ;const $ot=(UZ=nme)!=null?UZ:vot;function Mot(t,e){return e=e||{},new Promise(function(r,n){var s=new XMLHttpRequest,i=[],a=[],o={},c=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return a},get:function(u){return o[u.toLowerCase()]},has:function(u){return u.toLowerCase()in o}}}};for(var l in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,h){i.push(f=f.toLowerCase()),a.push([f,h]),o[f]=o[f]?o[f]+","+h:h}),r(c())},s.onerror=n,s.withCredentials=e.credentials=="include",e.headers)s.setRequestHeader(l,e.headers[l]);s.send(e.body||null)})}const Oot=Object.freeze(Object.defineProperty({__proto__:null,default:Mot},Symbol.toStringTag,{value:"Module"})),zZ=oP(Oot);var Fot=self.fetch||(self.fetch=zZ.default||zZ);const Bot=Ua(Fot);var Ic={},xI={},wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.BrowserRandomSource=void 0;const LZ=65536;class Rot{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=LZ)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,LZ)));return r}}wI.BrowserRandomSource=Rot;var AI={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});function Dot(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Nc.wipe=Dot;Object.defineProperty(AI,"__esModule",{value:!0});AI.NodeRandomSource=void 0;const Uot=Nc;class zot{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof $B<"u"){const e=B1;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=r[s];return(0,Uot.wipe)(r),n}}AI.NodeRandomSource=zot;Object.defineProperty(xI,"__esModule",{value:!0});xI.SystemRandomSource=void 0;const Lot=wI,Vot=AI;class Hot{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Lot.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Vot.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}xI.SystemRandomSource=Hot;var Ar={},ime={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(o,c){var l=o>>>16&65535,u=o&65535,f=c>>>16&65535,h=c&65535;return u*h+(l*h+u*f<<16>>>0)|0}t.mul=Math.imul||e;function r(o,c){return o+c|0}t.add=r;function n(o,c){return o-c|0}t.sub=n;function s(o,c){return o<<c|o>>>32-c}t.rotl=s;function i(o,c){return o<<32-c|o>>>c}t.rotr=i;function a(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}t.isInteger=Number.isInteger||a,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(o){return t.isInteger(o)&&o>=-t.MAX_SAFE_INTEGER&&o<=t.MAX_SAFE_INTEGER}})(ime);Object.defineProperty(Ar,"__esModule",{value:!0});var ame=ime;function Wot(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ar.readInt16BE=Wot;function qot(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ar.readUint16BE=qot;function Kot(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ar.readInt16LE=Kot;function Xot(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ar.readUint16LE=Xot;function ome(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ar.writeUint16BE=ome;Ar.writeInt16BE=ome;function cme(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ar.writeUint16LE=cme;Ar.writeInt16LE=cme;function ZM(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ar.readInt32BE=ZM;function JM(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ar.readUint32BE=JM;function QM(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ar.readInt32LE=QM;function YM(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ar.readUint32LE=YM;function ES(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ar.writeUint32BE=ES;Ar.writeInt32BE=ES;function _S(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ar.writeUint32LE=_S;Ar.writeInt32LE=_S;function Zot(t,e){e===void 0&&(e=0);var r=ZM(t,e),n=ZM(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ar.readInt64BE=Zot;function Jot(t,e){e===void 0&&(e=0);var r=JM(t,e),n=JM(t,e+4);return r*4294967296+n}Ar.readUint64BE=Jot;function Qot(t,e){e===void 0&&(e=0);var r=QM(t,e),n=QM(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ar.readInt64LE=Qot;function Yot(t,e){e===void 0&&(e=0);var r=YM(t,e),n=YM(t,e+4);return n*4294967296+r}Ar.readUint64LE=Yot;function lme(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),ES(t/4294967296>>>0,e,r),ES(t>>>0,e,r+4),e}Ar.writeUint64BE=lme;Ar.writeInt64BE=lme;function ume(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),_S(t>>>0,e,r),_S(t/4294967296>>>0,e,r+4),e}Ar.writeUint64LE=ume;Ar.writeInt64LE=ume;function Got(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,i=t/8+r-1;i>=r;i--)n+=e[i]*s,s*=256;return n}Ar.readUintBE=Got;function ect(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,i=r;i<r+t/8;i++)n+=e[i]*s,s*=256;return n}Ar.readUintLE=ect;function tct(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ame.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,i=t/8+n-1;i>=n;i--)r[i]=e/s&255,s*=256;return r}Ar.writeUintBE=tct;function rct(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ame.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,i=n;i<n+t/8;i++)r[i]=e/s&255,s*=256;return r}Ar.writeUintLE=rct;function nct(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ar.readFloat32BE=nct;function sct(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ar.readFloat32LE=sct;function ict(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ar.readFloat64BE=ict;function act(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ar.readFloat64LE=act;function oct(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ar.writeFloat32BE=oct;function cct(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ar.writeFloat32LE=cct;function lct(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ar.writeFloat64BE=lct;function uct(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ar.writeFloat64LE=uct;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=xI,r=Ar,n=Nc;t.defaultRandomSource=new e.SystemRandomSource;function s(l,u=t.defaultRandomSource){return u.randomBytes(l)}t.randomBytes=s;function i(l=t.defaultRandomSource){const u=s(4,l),f=(0,r.readUint32LE)(u);return(0,n.wipe)(u),f}t.randomUint32=i;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(l,u=a,f=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const m=u.length,v=256-256%m;for(;l>0;){const x=s(Math.ceil(l*256/v),f);for(let k=0;k<x.length&&l>0;k++){const E=x[k];E<v&&(h+=u.charAt(E%m),l--)}(0,n.wipe)(x)}return h}t.randomString=o;function c(l,u=a,f=t.defaultRandomSource){const h=Math.ceil(l/(Math.log(u.length)/Math.LN2));return o(h,u,f)}t.randomStringForEntropy=c})(Ic);var hf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ar,r=Nc;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},o.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=i(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},o.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,m=l%64<56?64:128;this._buffer[u]=128;for(var v=u+1;v<m-8;v++)this._buffer[v]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),i(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var v=0;v<this.digestLength/4;v++)e.writeUint32BE(this._state[v],c,v*4);return this},o.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},o}();t.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(o,c,l,u,f){for(;f>=64;){for(var h=c[0],m=c[1],v=c[2],x=c[3],k=c[4],E=c[5],P=c[6],_=c[7],M=0;M<16;M++){var B=u+M*4;o[M]=e.readUint32BE(l,B)}for(var M=16;M<64;M++){var D=o[M-2],j=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10;D=o[M-15];var T=(D>>>7|D<<25)^(D>>>18|D<<14)^D>>>3;o[M]=(j+o[M-7]|0)+(T+o[M-16]|0)}for(var M=0;M<64;M++){var j=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&E^~k&P)|0)+(_+(s[M]+o[M]|0)|0)|0,T=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&v^m&v)|0;_=P,P=E,E=k,k=x+j|0,x=v,v=m,m=h,h=j+T|0}c[0]+=h,c[1]+=m,c[2]+=v,c[3]+=x,c[4]+=k,c[5]+=E,c[6]+=P,c[7]+=_,u+=64,f-=64}return u}function a(o){var c=new n;c.update(o);var l=c.digest();return c.clean(),l}t.hash=a})(hf);let dct=class{constructor(e){this.client=e}},fct=class{constructor(e){this.opts=e}};const hct="https://rpc.walletconnect.com/v1",y9={wc_authRequest:{req:{ttl:$e.ONE_DAY,prompt:!0,tag:3e3},res:{ttl:$e.ONE_DAY,prompt:!1,tag:3001}}},rC={min:$e.FIVE_MINUTES,max:$e.SEVEN_DAYS},dme="wc",pct=1,mct="auth",VZ="authClient",I7=`${dme}@1:${mct}:`,e3=`${I7}:PUB_KEY`;function KD(t){return t==null?void 0:t.split(":")}function gct(t){const e=t&&KD(t);if(e)return e[3]}function bct(t){const e=t&&KD(t);if(e)return e[2]+":"+e[3]}function HZ(t){const e=t&&KD(t);if(e)return e.pop()}async function yct(t,e,r,n,s){switch(r.t){case"eip191":return vct(t,e,r.s);case"eip1271":return await xct(t,e,r.s,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function vct(t,e,r){return vB(Tie(e),r).toLowerCase()===t.toLowerCase()}async function xct(t,e,r,n,s){try{const i="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",o="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),l=Tie(e).substring(2),u=i+l+a+o+c,f=await Bot(`${hct}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:wct(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:u},"latest"]})}),{result:h}=await f.json();return h?h.slice(0,i.length).toLowerCase()===i.toLowerCase():!1}catch(i){return console.error("isValidEip1271Signature: ",i),!1}}function wct(){return Date.now()+Math.floor(Math.random()*1e3)}function fme(t){return t.getAll().filter(e=>"requester"in e)}function hme(t,e){return fme(t).find(r=>r.id===e)}function Act(t){const e=$pe(t.aud),r=new RegExp(`${t.domain}`).test(t.aud),n=!!t.nonce,s=t.type?t.type==="eip4361":!0,i=t.expiry;if(i&&!Nrt(i,rC)){const{message:a}=Or("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${rC.min} and ${rC.max}`);throw new Error(a)}return!!(e&&r&&n&&s)}function Sct(t,e){return!!hme(e,t.id)}function Pct(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function kct(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var Ict=kct,Nct=Ict;const pme=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Ect=t=>new TextEncoder().encode(t),_ct=t=>new TextDecoder().decode(t);let Cct=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Tct=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mme(this,e)}},jct=class{constructor(e){this.decoders=e}or(e){return mme(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const mme=(t,e)=>new jct({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let $ct=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Cct(e,r,n),this.decoder=new Tct(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const SI=({name:t,prefix:e,encode:r,decode:n})=>new $ct(t,e,r,n),b5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=Nct(r,e);return SI({prefix:t,name:e,encode:n,decode:i=>pme(s(i))})},Mct=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Oct=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},na=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>SI({prefix:e,name:t,encode(s){return Oct(s,n,r)},decode(s){return Mct(s,n,r,t)}}),Fct=SI({prefix:"\0",name:"identity",encode:t=>_ct(t),decode:t=>Ect(t)});var Bct=Object.freeze({__proto__:null,identity:Fct});const Rct=na({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dct=Object.freeze({__proto__:null,base2:Rct});const Uct=na({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var zct=Object.freeze({__proto__:null,base8:Uct});const Lct=b5({prefix:"9",name:"base10",alphabet:"0123456789"});var Vct=Object.freeze({__proto__:null,base10:Lct});const Hct=na({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Wct=na({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var qct=Object.freeze({__proto__:null,base16:Hct,base16upper:Wct});const Kct=na({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xct=na({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zct=na({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jct=na({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qct=na({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yct=na({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gct=na({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),elt=na({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tlt=na({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var rlt=Object.freeze({__proto__:null,base32:Kct,base32upper:Xct,base32pad:Zct,base32padupper:Jct,base32hex:Qct,base32hexupper:Yct,base32hexpad:Gct,base32hexpadupper:elt,base32z:tlt});const nlt=b5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),slt=b5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ilt=Object.freeze({__proto__:null,base36:nlt,base36upper:slt});const alt=b5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),olt=b5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var clt=Object.freeze({__proto__:null,base58btc:alt,base58flickr:olt});const llt=na({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ult=na({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dlt=na({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),flt=na({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hlt=Object.freeze({__proto__:null,base64:llt,base64pad:ult,base64url:dlt,base64urlpad:flt});const gme=Array.from(""),plt=gme.reduce((t,e,r)=>(t[r]=e,t),[]),mlt=gme.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function glt(t){return t.reduce((e,r)=>(e+=plt[r],e),"")}function blt(t){const e=[];for(const r of t){const n=mlt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const ylt=SI({prefix:"",name:"base256emoji",encode:glt,decode:blt});var vlt=Object.freeze({__proto__:null,base256emoji:ylt}),xlt=bme,WZ=128,wlt=127,Alt=~wlt,Slt=Math.pow(2,31);function bme(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Slt;)e[r++]=t&255|WZ,t/=128;for(;t&Alt;)e[r++]=t&255|WZ,t>>>=7;return e[r]=t|0,bme.bytes=r-n+1,e}var Plt=GM,klt=128,qZ=127;function GM(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw GM.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&qZ)<<s:(a&qZ)*Math.pow(2,s),s+=7}while(a>=klt);return GM.bytes=i-n,r}var Ilt=Math.pow(2,7),Nlt=Math.pow(2,14),Elt=Math.pow(2,21),_lt=Math.pow(2,28),Clt=Math.pow(2,35),Tlt=Math.pow(2,42),jlt=Math.pow(2,49),$lt=Math.pow(2,56),Mlt=Math.pow(2,63),Olt=function(t){return t<Ilt?1:t<Nlt?2:t<Elt?3:t<_lt?4:t<Clt?5:t<Tlt?6:t<jlt?7:t<$lt?8:t<Mlt?9:10},Flt={encode:xlt,decode:Plt,encodingLength:Olt},yme=Flt;const KZ=(t,e,r=0)=>(yme.encode(t,e,r),e),XZ=t=>yme.encodingLength(t),eO=(t,e)=>{const r=e.byteLength,n=XZ(t),s=n+XZ(r),i=new Uint8Array(s+r);return KZ(t,i,0),KZ(r,i,n),i.set(e,s),new Blt(t,r,e,i)};let Blt=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const vme=({name:t,code:e,encode:r})=>new Rlt(t,e,r);let Rlt=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?eO(this.code,r):r.then(n=>eO(this.code,n))}else throw Error("Unknown type, must be binary type")}};const xme=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Dlt=vme({name:"sha2-256",code:18,encode:xme("SHA-256")}),Ult=vme({name:"sha2-512",code:19,encode:xme("SHA-512")});var zlt=Object.freeze({__proto__:null,sha256:Dlt,sha512:Ult});const wme=0,Llt="identity",Ame=pme,Vlt=t=>eO(wme,Ame(t)),Hlt={code:wme,name:Llt,encode:Ame,digest:Vlt};var Wlt=Object.freeze({__proto__:null,identity:Hlt});new TextEncoder,new TextDecoder;const ZZ={...Bct,...Dct,...zct,...Vct,...qct,...rlt,...ilt,...clt,...hlt,...vlt};({...zlt,...Wlt});function Sme(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const JZ=Sme("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),nC=Sme("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Pct(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Pme={utf8:JZ,"utf-8":JZ,hex:ZZ.base16,latin1:nC,ascii:nC,binary:nC,...ZZ};function qlt(t,e="utf8"){const r=Pme[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Klt(t,e="utf8"){const r=Pme[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const Xlt="base16",Zlt="utf8";function QZ(t){const e=hf.hash(qlt(t,Zlt));return Klt(e,Xlt)}var Jlt=Object.defineProperty,Qlt=Object.defineProperties,Ylt=Object.getOwnPropertyDescriptors,YZ=Object.getOwnPropertySymbols,Glt=Object.prototype.hasOwnProperty,eut=Object.prototype.propertyIsEnumerable,GZ=(t,e,r)=>e in t?Jlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bw=(t,e)=>{for(var r in e||(e={}))Glt.call(e,r)&&GZ(t,r,e[r]);if(YZ)for(var r of YZ(e))eut.call(e,r)&&GZ(t,r,e[r]);return t},sC=(t,e)=>Qlt(t,Ylt(e));let tut=class extends dct{constructor(e){super(e),this.initialized=!1,this.name="authEngine",this.init=()=>{this.initialized||(this.registerRelayerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(y9)}),this.initialized=!0)},this.request=async(r,n)=>{if(this.isInitialized(),!Act(r))throw new Error("Invalid request");if(n!=null&&n.topic)return await this.requestOnKnownPairing(n.topic,r);const{chainId:s,statement:i,aud:a,domain:o,nonce:c,type:l,exp:u,nbf:f}=r,{topic:h,uri:m}=await this.client.core.pairing.create();this.client.logger.info({message:"Generated new pairing",pairing:{topic:h,uri:m}});const v=await this.client.core.crypto.generateKeyPair(),x=MM(v);await this.client.authKeys.set(e3,{responseTopic:x,publicKey:v}),await this.client.pairingTopics.set(x,{topic:x,pairingTopic:h}),await this.client.core.relayer.subscribe(x),this.client.logger.info(`sending request to new pairing topic: ${h}`);const k=await this.sendRequest(h,"wc_authRequest",{payloadParams:{type:l??"eip4361",chainId:s,statement:i,aud:a,domain:o,version:"1",nonce:c,iat:new Date().toISOString(),exp:u,nbf:f},requester:{publicKey:v,metadata:this.client.metadata}},{},r.expiry);return this.client.logger.info(`sent request to new pairing topic: ${h}`),{uri:m,id:k}},this.respond=async(r,n)=>{if(this.isInitialized(),!Sct(r,this.client.requests))throw new Error("Invalid response");const s=hme(this.client.requests,r.id);if(!s)throw new Error(`Could not find pending auth request with id ${r.id}`);const i=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),o=MM(i),c={type:Q1,receiverPublicKey:i,senderPublicKey:a};if("error"in r){await this.sendError(s.id,o,r,c);return}const l={h:{t:"eip4361"},p:sC(bw({},s.cacaoPayload),{iss:n}),s:r.signature};await this.sendResult(s.id,o,l,c),await this.client.core.pairing.activate({topic:s.pairingTopic}),await this.client.requests.update(s.id,bw({},l))},this.getPendingRequests=()=>fme(this.client.requests),this.formatMessage=(r,n)=>{this.client.logger.debug(`formatMessage, cacao is: ${JSON.stringify(r)}`);const s=`${r.domain} wants you to sign in with your Ethereum account:`,i=HZ(n),a=r.statement,o=`URI: ${r.aud}`,c=`Version: ${r.version}`,l=`Chain ID: ${gct(n)}`,u=`Nonce: ${r.nonce}`,f=`Issued At: ${r.iat}`,h=r.exp?`Expiry: ${r.exp}`:void 0,m=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(v=>`- ${v}`).join(`
`)}`:void 0;return[s,i,"",a,"",o,c,l,u,f,h,m].filter(v=>v!=null).join(`
`)},this.setExpiry=async(r,n)=>{this.client.core.pairing.pairings.keys.includes(r)&&await this.client.core.pairing.updateExpiry({topic:r,expiry:n}),this.client.core.expirer.set(r,n)},this.sendRequest=async(r,n,s,i,a)=>{const o=gl(n,s),c=await this.client.core.crypto.encode(r,o,i),l=y9[n].req;if(a&&(l.ttl=a),this.client.core.history.set(r,o),I2()){const u=QZ(JSON.stringify(o));this.client.core.verify.register({attestationId:u})}return await this.client.core.relayer.publish(r,c,sC(bw({},l),{internal:{throwOnFailedPublish:!0}})),o.id},this.sendResult=async(r,n,s,i)=>{const a=hm(r,s),o=await this.client.core.crypto.encode(n,a,i),c=await this.client.core.history.get(n,r),l=y9[c.request.method].res;return await this.client.core.relayer.publish(n,o,sC(bw({},l),{internal:{throwOnFailedPublish:!0}})),await this.client.core.history.resolve(a),a.id},this.sendError=async(r,n,s,i)=>{const a=pm(r,s.error),o=await this.client.core.crypto.encode(n,a,i),c=await this.client.core.history.get(n,r),l=y9[c.request.method].res;return await this.client.core.relayer.publish(n,o,l),await this.client.core.history.resolve(a),a.id},this.requestOnKnownPairing=async(r,n)=>{const s=this.client.core.pairing.pairings.getAll({active:!0}).find(m=>m.topic===r);if(!s)throw new Error(`Could not find pairing for provided topic ${r}`);const{publicKey:i}=this.client.authKeys.get(e3),{chainId:a,statement:o,aud:c,domain:l,nonce:u,type:f}=n,h=await this.sendRequest(s.topic,"wc_authRequest",{payloadParams:{type:f??"eip4361",chainId:a,statement:o,aud:c,domain:l,version:"1",nonce:u,iat:new Date().toISOString()},requester:{publicKey:i,metadata:this.client.metadata}},{},n.expiry);return this.client.logger.info(`sent request to known pairing topic: ${s.topic}`),{id:h}},this.onPairingCreated=r=>{const n=this.getPendingRequests();if(n){const s=Object.values(n).find(i=>i.pairingTopic===r.topic);s&&this.handleAuthRequest(s)}},this.onRelayEventRequest=r=>{const{topic:n,payload:s}=r,i=s.method;switch(i){case"wc_authRequest":return this.onAuthRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s}=r,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_authRequest":return this.onAuthResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onAuthRequest=async(r,n)=>{const{requester:s,payloadParams:i}=n.params;this.client.logger.info({type:"onAuthRequest",topic:r,payload:n});const a=QZ(JSON.stringify(n)),o=await this.getVerifyContext(a,this.client.metadata),c={requester:s,pairingTopic:r,id:n.id,cacaoPayload:i,verifyContext:o};await this.client.requests.set(n.id,c),this.handleAuthRequest(c)},this.handleAuthRequest=async r=>{const{id:n,pairingTopic:s,requester:i,cacaoPayload:a,verifyContext:o}=r;try{this.client.emit("auth_request",{id:n,topic:s,params:{requester:i,cacaoPayload:a},verifyContext:o})}catch(c){await this.sendError(r.id,r.pairingTopic,c),this.client.logger.error(c)}},this.onAuthResponse=async(r,n)=>{const{id:s}=n;if(this.client.logger.info({type:"onAuthResponse",topic:r,response:n}),sc(n)){const{pairingTopic:i}=this.client.pairingTopics.get(r);await this.client.core.pairing.activate({topic:i});const{s:a,p:o}=n.result;await this.client.requests.set(s,bw({id:s,pairingTopic:i},n.result));const c=this.formatMessage(o,o.iss);this.client.logger.debug(`reconstructed message:
`,JSON.stringify(c)),this.client.logger.debug("payload.iss:",o.iss),this.client.logger.debug("signature:",a);const l=HZ(o.iss),u=bct(o.iss);if(!l)throw new Error("Could not derive address from `payload.iss`");if(!u)throw new Error("Could not derive chainId from `payload.iss`");this.client.logger.debug("walletAddress extracted from `payload.iss`:",l),await yct(l,c,a,u,this.client.projectId)?this.client.emit("auth_response",{id:s,topic:r,params:n}):this.client.emit("auth_response",{id:s,topic:r,params:{message:"Invalid signature",code:-1}})}else Ri(n)&&this.client.emit("auth_response",{id:s,topic:r,params:n})},this.getVerifyContext=async(r,n)=>{const s={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});i&&(s.verified.origin=i.origin,s.verified.isScam=i.isScam,s.verified.validation=origin===new URL(n.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.error(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(Bs.message,async e=>{const{topic:r,message:n}=e,{responseTopic:s,publicKey:i}=this.client.authKeys.keys.includes(e3)?this.client.authKeys.get(e3):{responseTopic:void 0,publicKey:void 0};if(s&&r!==s){this.client.logger.debug("[Auth] Ignoring message from unknown topic",r);return}const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:i});mm(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):Hh(a)&&(await this.client.core.history.resolve(a),this.onRelayEventResponse({topic:r,payload:a}))})}registerPairingEvents(){this.client.core.pairing.events.on(Rb.create,e=>this.onPairingCreated(e))}},rut=class kme extends fct{constructor(e){super(e),this.protocol=dme,this.version=pct,this.name=VZ,this.events=new Un.EventEmitter,this.emit=(n,s)=>this.events.emit(n,s),this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.request=async(n,s)=>{try{return await this.engine.request(n,s)}catch(i){throw this.logger.error(i.message),i}},this.respond=async(n,s)=>{try{return await this.engine.respond(n,s)}catch(i){throw this.logger.error(i.message),i}},this.getPendingRequests=()=>{try{return this.engine.getPendingRequests()}catch(n){throw this.logger.error(n.message),n}},this.formatMessage=(n,s)=>{try{return this.engine.formatMessage(n,s)}catch(i){throw this.logger.error(i.message),i}};const r=typeof e.logger<"u"&&typeof e.logger!="string"?e.logger:$ot(Eot({level:e.logger||"error"}));this.name=(e==null?void 0:e.name)||VZ,this.metadata=e.metadata,this.projectId=e.projectId,this.core=e.core||new Gpe(e),this.logger=jot(r,this.name),this.authKeys=new k7(this.core,this.logger,"authKeys",I7,()=>e3),this.pairingTopics=new k7(this.core,this.logger,"pairingTopics",I7),this.requests=new k7(this.core,this.logger,"requests",I7,n=>n.id),this.engine=new tut(this)}static async init(e){const r=new kme(e);return await r.initialize(),r}get context(){return sme(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.authKeys.init(),await this.requests.init(),await this.pairingTopics.init(),await this.engine.init(),this.logger.info("AuthClient Initialization Success"),this.logger.info({authClient:this})}catch(e){throw this.logger.info("AuthClient Initialization Failure"),this.logger.error(e.message),e}}};const nut=rut,sut="idb-keyval";var iut=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=eI(t.dbName,t.storeName)),{name:sut,options:t,async hasItem(s){return!(typeof await Fx(r(s),n)>"u")},async getItem(s){return await Fx(r(s),n)??null},setItem(s,i){return hD(r(s),i,n)},removeItem(s){return pD(r(s),n)},getKeys(){return gD(n)},clear(){return mD(n)}}};const aut="WALLET_CONNECT_V2_INDEXED_DB",out="keyvaluestorage";let cut=class{constructor(){this.indexedDb=fD({driver:iut({dbName:aut,storeName:out})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Zs(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var iC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof iC<"u"&&iC.localStorage?N7.exports=iC.localStorage:typeof window<"u"&&window.localStorage?N7.exports=window.localStorage:N7.exports=new e})();function lut(t){var e;return[t[0],Ai((e=t[1])!=null?e:"")]}let uut=class{constructor(){this.localStorage=N7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(lut)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ai(r)}async setItem(e,r){this.localStorage.setItem(e,Zs(r))}async removeItem(e){this.localStorage.removeItem(e)}};const dut="wc_storage_version",eJ=1,fut=async(t,e,r)=>{const n=dut,s=await e.getItem(n);if(s&&s>=eJ){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,eJ),r(e),hut(t,a)},hut=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let put=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new uut;this.storage=e;try{const r=new cut;fut(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};const tJ=qD;var Db=qd;const J6=Put().console||{},mut={mapHttpRequest:v9,mapHttpResponse:v9,wrapRequestSerializer:aC,wrapResponseSerializer:aC,wrapErrorSerializer:aC,req:v9,res:v9,err:xut};function gut(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function qd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||J6;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=gut(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=Q6),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:wut(t)};c.levels=qd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Q6,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=tO());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,xb(l,c,"error","log"),xb(l,c,"fatal","error"),xb(l,c,"warn","error"),xb(l,c,"info","log"),xb(l,c,"debug","log"),xb(l,c,"trace","log")}function m(v,x){if(!v)throw new Error("missing bindings for child Pino");x=x||{},s&&v.serializers&&(x.serializers=v.serializers);const k=x.serializers;if(s&&k){var E=Object.assign({},n,k),P=t.browser.serialize===!0?Object.keys(E):s;delete v.serializers,PI([v],P,E,this._stdErrSerialize)}function _(M){this._childLevel=(M._childLevel|0)+1,this.error=wb(M,v,"error"),this.fatal=wb(M,v,"fatal"),this.warn=wb(M,v,"warn"),this.info=wb(M,v,"info"),this.debug=wb(M,v,"debug"),this.trace=wb(M,v,"trace"),E&&(this.serializers=E,this._serialize=P),e&&(this._logEvent=tO([].concat(M._logEvent.bindings,v)))}return _.prototype=this,new _(this)}return c}qd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qd.stdSerializers=mut;qd.stdTimeFunctions=Object.assign({},{nullTime:Ime,epochTime:Nme,unixTime:Aut,isoTime:Sut});function xb(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Q6:s[r]?s[r]:J6[r]||J6[n]||Q6,but(t,e,r)}function but(t,e,r){!t.transmit&&e[r]===Q6||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===J6?J6:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&PI(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,yut(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=qd.levels.values[l],f=qd.levels.values[r];if(f<u)return;vut(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:qd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function yut(t,e,r,n){t._serialize&&PI(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=qd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?tJ(s.shift(),s):void 0}else typeof i=="string"&&(i=tJ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function PI(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=qd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function wb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function vut(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;PI(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=tO(c)}function tO(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function xut(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function wut(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Ime:Nme}function v9(){return{}}function aC(t){return t}function Q6(){}function Ime(){return!1}function Nme(){return Date.now()}function Aut(){return Math.round(Date.now()/1e3)}function Sut(){return new Date(Date.now()).toISOString()}function Put(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const kI=Ua(Db),kut={level:"info"},y5="custom_context",XD=1e3*1024;let Iut=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},rJ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Iut(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Eme=class{constructor(e,r=XD){this.level=e??"error",this.levelValue=Db.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new rJ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Db.levels.values.error?console.error(e):r===Db.levels.values.warn?console.warn(e):r===Db.levels.values.debug?console.debug(e):r===Db.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Zs({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new rJ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Zs({extraMetadata:e})),new Blob(r,{type:"application/json"})}},Nut=class{constructor(e,r=XD){this.baseChunkLogger=new Eme(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},Eut=class{constructor(e,r=XD){this.baseChunkLogger=new Eme(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var _ut=Object.defineProperty,Cut=Object.defineProperties,Tut=Object.getOwnPropertyDescriptors,nJ=Object.getOwnPropertySymbols,jut=Object.prototype.hasOwnProperty,$ut=Object.prototype.propertyIsEnumerable,sJ=(t,e,r)=>e in t?_ut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,CS=(t,e)=>{for(var r in e||(e={}))jut.call(e,r)&&sJ(t,r,e[r]);if(nJ)for(var r of nJ(e))$ut.call(e,r)&&sJ(t,r,e[r]);return t},TS=(t,e)=>Cut(t,Tut(e));function ZD(t){return TS(CS({},t),{level:(t==null?void 0:t.level)||kut.level})}function Mut(t,e=y5){return t[e]||""}function Out(t,e,r=y5){return t[r]=e,t}function Vo(t,e=y5){let r="";return typeof t.bindings>"u"?r=Mut(t,e):r=t.bindings().context||"",r}function Fut(t,e,r=y5){const n=Vo(t,r);return n.trim()?`${n}/${e}`:e}function uo(t,e,r=y5){const n=Fut(t,e,r),s=t.child({context:n});return Out(s,n,r)}function But(t){var e,r;const n=new Nut((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kI(TS(CS({},t.opts),{level:"trace",browser:TS(CS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Rut(t){var e;const r=new Eut((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kI(TS(CS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function Dut(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?But(t):Rut(t)}let Uut=class extends Js{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},zut=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},Lut=class{constructor(e,r){this.logger=e,this.core=r}},Vut=class extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}},Hut=class extends Js{constructor(e){super()}},Wut=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},qut=class extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}},Kut=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r}},Xut=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},Zut=class{constructor(e,r){this.projectId=e,this.logger=r}},Jut=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},Qut=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Yut=class{constructor(e){this.client=e}};var v5={},_me={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ar,r=Nc;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function o(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},o.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,m=l%128<112?128:256;this._buffer[u]=128;for(var v=u+1;v<m-8;v++)this._buffer[v]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,m),this._finished=!0}for(var v=0;v<this.digestLength/8;v++)e.writeUint32BE(this._stateHi[v],c,v*8),e.writeUint32BE(this._stateLo[v],c,v*8+4);return this},o.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},o}();t.SHA512=n;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(o,c,l,u,f,h,m){for(var v=l[0],x=l[1],k=l[2],E=l[3],P=l[4],_=l[5],M=l[6],B=l[7],D=u[0],j=u[1],T=u[2],R=u[3],H=u[4],O=u[5],b=u[6],w=u[7],p,g,S,N,I,A,y,C;m>=128;){for(var $=0;$<16;$++){var L=8*$+h;o[$]=e.readUint32BE(f,L),c[$]=e.readUint32BE(f,L+4)}for(var $=0;$<80;$++){var Q=v,U=x,J=k,Z=E,re=P,G=_,z=M,se=B,ce=D,pe=j,Ce=T,ke=R,tt=H,mt=O,we=b,qe=w;if(p=B,g=w,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=(P>>>14|H<<18)^(P>>>18|H<<14)^(H>>>9|P<<23),g=(H>>>14|P<<18)^(H>>>18|P<<14)^(P>>>9|H<<23),I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,p=P&_^~P&M,g=H&O^~H&b,I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,p=s[$*2],g=s[$*2+1],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,p=o[$%16],g=c[$%16],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,S=y&65535|C<<16,N=I&65535|A<<16,p=S,g=N,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=(v>>>28|D<<4)^(D>>>2|v<<30)^(D>>>7|v<<25),g=(D>>>28|v<<4)^(v>>>2|D<<30)^(v>>>7|D<<25),I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,p=v&x^v&k^x&k,g=D&j^D&T^j&T,I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,se=y&65535|C<<16,qe=I&65535|A<<16,p=Z,g=ke,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=S,g=N,I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,Z=y&65535|C<<16,ke=I&65535|A<<16,x=Q,k=U,E=J,P=Z,_=re,M=G,B=z,v=se,j=ce,T=pe,R=Ce,H=ke,O=tt,b=mt,w=we,D=qe,$%16===15)for(var L=0;L<16;L++)p=o[L],g=c[L],I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=o[(L+9)%16],g=c[(L+9)%16],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,S=o[(L+1)%16],N=c[(L+1)%16],p=(S>>>1|N<<31)^(S>>>8|N<<24)^S>>>7,g=(N>>>1|S<<31)^(N>>>8|S<<24)^(N>>>7|S<<25),I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,S=o[(L+14)%16],N=c[(L+14)%16],p=(S>>>19|N<<13)^(N>>>29|S<<3)^S>>>6,g=(N>>>19|S<<13)^(S>>>29|N<<3)^(N>>>6|S<<26),I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,o[L]=y&65535|C<<16,c[L]=I&65535|A<<16}p=v,g=D,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[0],g=u[0],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[0]=v=y&65535|C<<16,u[0]=D=I&65535|A<<16,p=x,g=j,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[1],g=u[1],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[1]=x=y&65535|C<<16,u[1]=j=I&65535|A<<16,p=k,g=T,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[2],g=u[2],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[2]=k=y&65535|C<<16,u[2]=T=I&65535|A<<16,p=E,g=R,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[3],g=u[3],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[3]=E=y&65535|C<<16,u[3]=R=I&65535|A<<16,p=P,g=H,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[4],g=u[4],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[4]=P=y&65535|C<<16,u[4]=H=I&65535|A<<16,p=_,g=O,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[5],g=u[5],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[5]=_=y&65535|C<<16,u[5]=O=I&65535|A<<16,p=M,g=b,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[6],g=u[6],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[6]=M=y&65535|C<<16,u[6]=b=I&65535|A<<16,p=B,g=w,I=g&65535,A=g>>>16,y=p&65535,C=p>>>16,p=l[7],g=u[7],I+=g&65535,A+=g>>>16,y+=p&65535,C+=p>>>16,A+=I>>>16,y+=A>>>16,C+=y>>>16,l[7]=B=y&65535|C<<16,u[7]=w=I&65535|A<<16,h+=128,m-=128}return h}function a(o){var c=new n;c.update(o);var l=c.digest();return c.clean(),l}t.hash=a})(_me);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Ic,r=_me,n=Nc;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function s(Z){const re=new Float64Array(16);if(Z)for(let G=0;G<Z.length;G++)re[G]=Z[G];return re}const i=new Uint8Array(32);i[0]=9;const a=s(),o=s([1]),c=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(Z,re){for(let G=0;G<16;G++)Z[G]=re[G]|0}function v(Z){let re=1;for(let G=0;G<16;G++){let z=Z[G]+re+65535;re=Math.floor(z/65536),Z[G]=z-re*65536}Z[0]+=re-1+37*(re-1)}function x(Z,re,G){const z=~(G-1);for(let se=0;se<16;se++){const ce=z&(Z[se]^re[se]);Z[se]^=ce,re[se]^=ce}}function k(Z,re){const G=s(),z=s();for(let se=0;se<16;se++)z[se]=re[se];v(z),v(z),v(z);for(let se=0;se<2;se++){G[0]=z[0]-65517;for(let pe=1;pe<15;pe++)G[pe]=z[pe]-65535-(G[pe-1]>>16&1),G[pe-1]&=65535;G[15]=z[15]-32767-(G[14]>>16&1);const ce=G[15]>>16&1;G[14]&=65535,x(z,G,1-ce)}for(let se=0;se<16;se++)Z[2*se]=z[se]&255,Z[2*se+1]=z[se]>>8}function E(Z,re){let G=0;for(let z=0;z<32;z++)G|=Z[z]^re[z];return(1&G-1>>>8)-1}function P(Z,re){const G=new Uint8Array(32),z=new Uint8Array(32);return k(G,Z),k(z,re),E(G,z)}function _(Z){const re=new Uint8Array(32);return k(re,Z),re[0]&1}function M(Z,re){for(let G=0;G<16;G++)Z[G]=re[2*G]+(re[2*G+1]<<8);Z[15]&=32767}function B(Z,re,G){for(let z=0;z<16;z++)Z[z]=re[z]+G[z]}function D(Z,re,G){for(let z=0;z<16;z++)Z[z]=re[z]-G[z]}function j(Z,re,G){let z,se,ce=0,pe=0,Ce=0,ke=0,tt=0,mt=0,we=0,qe=0,Ae=0,Oe=0,We=0,Be=0,ze=0,Ke=0,ct=0,Y=0,V=0,q=0,ne=0,le=0,de=0,me=0,rt=0,ht=0,ot=0,pt=0,Ct=0,St=0,Rt=0,nr=0,De=0,He=G[0],gt=G[1],nt=G[2],It=G[3],Ut=G[4],bt=G[5],Je=G[6],Pt=G[7],it=G[8],Tt=G[9],X=G[10],ee=G[11],te=G[12],W=G[13],ie=G[14],fe=G[15];z=re[0],ce+=z*He,pe+=z*gt,Ce+=z*nt,ke+=z*It,tt+=z*Ut,mt+=z*bt,we+=z*Je,qe+=z*Pt,Ae+=z*it,Oe+=z*Tt,We+=z*X,Be+=z*ee,ze+=z*te,Ke+=z*W,ct+=z*ie,Y+=z*fe,z=re[1],pe+=z*He,Ce+=z*gt,ke+=z*nt,tt+=z*It,mt+=z*Ut,we+=z*bt,qe+=z*Je,Ae+=z*Pt,Oe+=z*it,We+=z*Tt,Be+=z*X,ze+=z*ee,Ke+=z*te,ct+=z*W,Y+=z*ie,V+=z*fe,z=re[2],Ce+=z*He,ke+=z*gt,tt+=z*nt,mt+=z*It,we+=z*Ut,qe+=z*bt,Ae+=z*Je,Oe+=z*Pt,We+=z*it,Be+=z*Tt,ze+=z*X,Ke+=z*ee,ct+=z*te,Y+=z*W,V+=z*ie,q+=z*fe,z=re[3],ke+=z*He,tt+=z*gt,mt+=z*nt,we+=z*It,qe+=z*Ut,Ae+=z*bt,Oe+=z*Je,We+=z*Pt,Be+=z*it,ze+=z*Tt,Ke+=z*X,ct+=z*ee,Y+=z*te,V+=z*W,q+=z*ie,ne+=z*fe,z=re[4],tt+=z*He,mt+=z*gt,we+=z*nt,qe+=z*It,Ae+=z*Ut,Oe+=z*bt,We+=z*Je,Be+=z*Pt,ze+=z*it,Ke+=z*Tt,ct+=z*X,Y+=z*ee,V+=z*te,q+=z*W,ne+=z*ie,le+=z*fe,z=re[5],mt+=z*He,we+=z*gt,qe+=z*nt,Ae+=z*It,Oe+=z*Ut,We+=z*bt,Be+=z*Je,ze+=z*Pt,Ke+=z*it,ct+=z*Tt,Y+=z*X,V+=z*ee,q+=z*te,ne+=z*W,le+=z*ie,de+=z*fe,z=re[6],we+=z*He,qe+=z*gt,Ae+=z*nt,Oe+=z*It,We+=z*Ut,Be+=z*bt,ze+=z*Je,Ke+=z*Pt,ct+=z*it,Y+=z*Tt,V+=z*X,q+=z*ee,ne+=z*te,le+=z*W,de+=z*ie,me+=z*fe,z=re[7],qe+=z*He,Ae+=z*gt,Oe+=z*nt,We+=z*It,Be+=z*Ut,ze+=z*bt,Ke+=z*Je,ct+=z*Pt,Y+=z*it,V+=z*Tt,q+=z*X,ne+=z*ee,le+=z*te,de+=z*W,me+=z*ie,rt+=z*fe,z=re[8],Ae+=z*He,Oe+=z*gt,We+=z*nt,Be+=z*It,ze+=z*Ut,Ke+=z*bt,ct+=z*Je,Y+=z*Pt,V+=z*it,q+=z*Tt,ne+=z*X,le+=z*ee,de+=z*te,me+=z*W,rt+=z*ie,ht+=z*fe,z=re[9],Oe+=z*He,We+=z*gt,Be+=z*nt,ze+=z*It,Ke+=z*Ut,ct+=z*bt,Y+=z*Je,V+=z*Pt,q+=z*it,ne+=z*Tt,le+=z*X,de+=z*ee,me+=z*te,rt+=z*W,ht+=z*ie,ot+=z*fe,z=re[10],We+=z*He,Be+=z*gt,ze+=z*nt,Ke+=z*It,ct+=z*Ut,Y+=z*bt,V+=z*Je,q+=z*Pt,ne+=z*it,le+=z*Tt,de+=z*X,me+=z*ee,rt+=z*te,ht+=z*W,ot+=z*ie,pt+=z*fe,z=re[11],Be+=z*He,ze+=z*gt,Ke+=z*nt,ct+=z*It,Y+=z*Ut,V+=z*bt,q+=z*Je,ne+=z*Pt,le+=z*it,de+=z*Tt,me+=z*X,rt+=z*ee,ht+=z*te,ot+=z*W,pt+=z*ie,Ct+=z*fe,z=re[12],ze+=z*He,Ke+=z*gt,ct+=z*nt,Y+=z*It,V+=z*Ut,q+=z*bt,ne+=z*Je,le+=z*Pt,de+=z*it,me+=z*Tt,rt+=z*X,ht+=z*ee,ot+=z*te,pt+=z*W,Ct+=z*ie,St+=z*fe,z=re[13],Ke+=z*He,ct+=z*gt,Y+=z*nt,V+=z*It,q+=z*Ut,ne+=z*bt,le+=z*Je,de+=z*Pt,me+=z*it,rt+=z*Tt,ht+=z*X,ot+=z*ee,pt+=z*te,Ct+=z*W,St+=z*ie,Rt+=z*fe,z=re[14],ct+=z*He,Y+=z*gt,V+=z*nt,q+=z*It,ne+=z*Ut,le+=z*bt,de+=z*Je,me+=z*Pt,rt+=z*it,ht+=z*Tt,ot+=z*X,pt+=z*ee,Ct+=z*te,St+=z*W,Rt+=z*ie,nr+=z*fe,z=re[15],Y+=z*He,V+=z*gt,q+=z*nt,ne+=z*It,le+=z*Ut,de+=z*bt,me+=z*Je,rt+=z*Pt,ht+=z*it,ot+=z*Tt,pt+=z*X,Ct+=z*ee,St+=z*te,Rt+=z*W,nr+=z*ie,De+=z*fe,ce+=38*V,pe+=38*q,Ce+=38*ne,ke+=38*le,tt+=38*de,mt+=38*me,we+=38*rt,qe+=38*ht,Ae+=38*ot,Oe+=38*pt,We+=38*Ct,Be+=38*St,ze+=38*Rt,Ke+=38*nr,ct+=38*De,se=1,z=ce+se+65535,se=Math.floor(z/65536),ce=z-se*65536,z=pe+se+65535,se=Math.floor(z/65536),pe=z-se*65536,z=Ce+se+65535,se=Math.floor(z/65536),Ce=z-se*65536,z=ke+se+65535,se=Math.floor(z/65536),ke=z-se*65536,z=tt+se+65535,se=Math.floor(z/65536),tt=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=we+se+65535,se=Math.floor(z/65536),we=z-se*65536,z=qe+se+65535,se=Math.floor(z/65536),qe=z-se*65536,z=Ae+se+65535,se=Math.floor(z/65536),Ae=z-se*65536,z=Oe+se+65535,se=Math.floor(z/65536),Oe=z-se*65536,z=We+se+65535,se=Math.floor(z/65536),We=z-se*65536,z=Be+se+65535,se=Math.floor(z/65536),Be=z-se*65536,z=ze+se+65535,se=Math.floor(z/65536),ze=z-se*65536,z=Ke+se+65535,se=Math.floor(z/65536),Ke=z-se*65536,z=ct+se+65535,se=Math.floor(z/65536),ct=z-se*65536,z=Y+se+65535,se=Math.floor(z/65536),Y=z-se*65536,ce+=se-1+37*(se-1),se=1,z=ce+se+65535,se=Math.floor(z/65536),ce=z-se*65536,z=pe+se+65535,se=Math.floor(z/65536),pe=z-se*65536,z=Ce+se+65535,se=Math.floor(z/65536),Ce=z-se*65536,z=ke+se+65535,se=Math.floor(z/65536),ke=z-se*65536,z=tt+se+65535,se=Math.floor(z/65536),tt=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=we+se+65535,se=Math.floor(z/65536),we=z-se*65536,z=qe+se+65535,se=Math.floor(z/65536),qe=z-se*65536,z=Ae+se+65535,se=Math.floor(z/65536),Ae=z-se*65536,z=Oe+se+65535,se=Math.floor(z/65536),Oe=z-se*65536,z=We+se+65535,se=Math.floor(z/65536),We=z-se*65536,z=Be+se+65535,se=Math.floor(z/65536),Be=z-se*65536,z=ze+se+65535,se=Math.floor(z/65536),ze=z-se*65536,z=Ke+se+65535,se=Math.floor(z/65536),Ke=z-se*65536,z=ct+se+65535,se=Math.floor(z/65536),ct=z-se*65536,z=Y+se+65535,se=Math.floor(z/65536),Y=z-se*65536,ce+=se-1+37*(se-1),Z[0]=ce,Z[1]=pe,Z[2]=Ce,Z[3]=ke,Z[4]=tt,Z[5]=mt,Z[6]=we,Z[7]=qe,Z[8]=Ae,Z[9]=Oe,Z[10]=We,Z[11]=Be,Z[12]=ze,Z[13]=Ke,Z[14]=ct,Z[15]=Y}function T(Z,re){j(Z,re,re)}function R(Z,re){const G=s();let z;for(z=0;z<16;z++)G[z]=re[z];for(z=253;z>=0;z--)T(G,G),z!==2&&z!==4&&j(G,G,re);for(z=0;z<16;z++)Z[z]=G[z]}function H(Z,re){const G=s();let z;for(z=0;z<16;z++)G[z]=re[z];for(z=250;z>=0;z--)T(G,G),z!==1&&j(G,G,re);for(z=0;z<16;z++)Z[z]=G[z]}function O(Z,re){const G=s(),z=s(),se=s(),ce=s(),pe=s(),Ce=s(),ke=s(),tt=s(),mt=s();D(G,Z[1],Z[0]),D(mt,re[1],re[0]),j(G,G,mt),B(z,Z[0],Z[1]),B(mt,re[0],re[1]),j(z,z,mt),j(se,Z[3],re[3]),j(se,se,l),j(ce,Z[2],re[2]),B(ce,ce,ce),D(pe,z,G),D(Ce,ce,se),B(ke,ce,se),B(tt,z,G),j(Z[0],pe,Ce),j(Z[1],tt,ke),j(Z[2],ke,Ce),j(Z[3],pe,tt)}function b(Z,re,G){for(let z=0;z<4;z++)x(Z[z],re[z],G)}function w(Z,re){const G=s(),z=s(),se=s();R(se,re[2]),j(G,re[0],se),j(z,re[1],se),k(Z,z),Z[31]^=_(G)<<7}function p(Z,re,G){m(Z[0],a),m(Z[1],o),m(Z[2],o),m(Z[3],a);for(let z=255;z>=0;--z){const se=G[z/8|0]>>(z&7)&1;b(Z,re,se),O(re,Z),O(Z,Z),b(Z,re,se)}}function g(Z,re){const G=[s(),s(),s(),s()];m(G[0],u),m(G[1],f),m(G[2],o),j(G[3],u,f),p(Z,G,re)}function S(Z){if(Z.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const re=(0,r.hash)(Z);re[0]&=248,re[31]&=127,re[31]|=64;const G=new Uint8Array(32),z=[s(),s(),s(),s()];g(z,re),w(G,z);const se=new Uint8Array(64);return se.set(Z),se.set(G,32),{publicKey:G,secretKey:se}}t.generateKeyPairFromSeed=S;function N(Z){const re=(0,e.randomBytes)(32,Z),G=S(re);return(0,n.wipe)(re),G}t.generateKeyPair=N;function I(Z){if(Z.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Z.subarray(32))}t.extractPublicKeyFromSecretKey=I;const A=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function y(Z,re){let G,z,se,ce;for(z=63;z>=32;--z){for(G=0,se=z-32,ce=z-12;se<ce;++se)re[se]+=G-16*re[z]*A[se-(z-32)],G=Math.floor((re[se]+128)/256),re[se]-=G*256;re[se]+=G,re[z]=0}for(G=0,se=0;se<32;se++)re[se]+=G-(re[31]>>4)*A[se],G=re[se]>>8,re[se]&=255;for(se=0;se<32;se++)re[se]-=G*A[se];for(z=0;z<32;z++)re[z+1]+=re[z]>>8,Z[z]=re[z]&255}function C(Z){const re=new Float64Array(64);for(let G=0;G<64;G++)re[G]=Z[G];for(let G=0;G<64;G++)Z[G]=0;y(Z,re)}function $(Z,re){const G=new Float64Array(64),z=[s(),s(),s(),s()],se=(0,r.hash)(Z.subarray(0,32));se[0]&=248,se[31]&=127,se[31]|=64;const ce=new Uint8Array(64);ce.set(se.subarray(32),32);const pe=new r.SHA512;pe.update(ce.subarray(32)),pe.update(re);const Ce=pe.digest();pe.clean(),C(Ce),g(z,Ce),w(ce,z),pe.reset(),pe.update(ce.subarray(0,32)),pe.update(Z.subarray(32)),pe.update(re);const ke=pe.digest();C(ke);for(let tt=0;tt<32;tt++)G[tt]=Ce[tt];for(let tt=0;tt<32;tt++)for(let mt=0;mt<32;mt++)G[tt+mt]+=ke[tt]*se[mt];return y(ce.subarray(32),G),ce}t.sign=$;function L(Z,re){const G=s(),z=s(),se=s(),ce=s(),pe=s(),Ce=s(),ke=s();return m(Z[2],o),M(Z[1],re),T(se,Z[1]),j(ce,se,c),D(se,se,Z[2]),B(ce,Z[2],ce),T(pe,ce),T(Ce,pe),j(ke,Ce,pe),j(G,ke,se),j(G,G,ce),H(G,G),j(G,G,se),j(G,G,ce),j(G,G,ce),j(Z[0],G,ce),T(z,Z[0]),j(z,z,ce),P(z,se)&&j(Z[0],Z[0],h),T(z,Z[0]),j(z,z,ce),P(z,se)?-1:(_(Z[0])===re[31]>>7&&D(Z[0],a,Z[0]),j(Z[3],Z[0],Z[1]),0)}function Q(Z,re,G){const z=new Uint8Array(32),se=[s(),s(),s(),s()],ce=[s(),s(),s(),s()];if(G.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(L(ce,Z))return!1;const pe=new r.SHA512;pe.update(G.subarray(0,32)),pe.update(Z),pe.update(re);const Ce=pe.digest();return C(Ce),p(se,ce,Ce),g(ce,G.subarray(32)),O(se,ce),w(z,se),!E(G,z)}t.verify=Q;function U(Z){let re=[s(),s(),s(),s()];if(L(re,Z))throw new Error("Ed25519: invalid public key");let G=s(),z=s(),se=re[1];B(G,o,se),D(z,o,se),R(z,z),j(G,G,z);let ce=new Uint8Array(32);return k(ce,G),ce}t.convertPublicKeyToX25519=U;function J(Z){const re=(0,r.hash)(Z.subarray(0,32));re[0]&=248,re[31]&=127,re[31]|=64;const G=new Uint8Array(re.subarray(0,32));return(0,n.wipe)(re),G}t.convertSecretKeyToX25519=J})(v5);const Gut="EdDSA",edt="JWT",jS=".",II="base64url",Cme="utf8",Tme="utf8",tdt=":",rdt="did",ndt="key",iJ="base58btc",sdt="z",idt="K36",adt=32;function jme(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function E7(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=jme(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function $me(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const aJ=$me("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),oC=$me("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=jme(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Mme={utf8:aJ,"utf-8":aJ,hex:Bx.base16,latin1:oC,ascii:oC,binary:oC,...Bx};function yi(t,e="utf8"){const r=Mme[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function mi(t,e="utf8"){const r=Mme[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function oJ(t){return Ai(yi(mi(t,II),Cme))}function $S(t){return yi(mi(Zs(t),Cme),II)}function Ome(t){const e=mi(idt,iJ),r=sdt+yi(E7([e,t]),iJ);return[rdt,ndt,r].join(tdt)}function odt(t){return yi(t,II)}function cdt(t){return mi(t,II)}function ldt(t){return mi([$S(t.header),$S(t.payload)].join(jS),Tme)}function udt(t){return[$S(t.header),$S(t.payload),odt(t.signature)].join(jS)}function rO(t){const e=t.split(jS),r=oJ(e[0]),n=oJ(e[1]),s=cdt(e[2]),i=mi(e.slice(0,2).join(jS),Tme);return{header:r,payload:n,signature:s,data:i}}function cJ(t=Ic.randomBytes(adt)){return v5.generateKeyPairFromSeed(t)}async function ddt(t,e,r,n,s=$e.fromMiliseconds(Date.now())){const i={alg:Gut,typ:edt},a=Ome(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=ldt({header:i,payload:c}),u=v5.sign(n.secretKey,l);return udt({header:i,payload:c,signature:u})}var Bh={},fdt=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Fme="%[a-f0-9]{2}",lJ=new RegExp("("+Fme+")|([^%]+?)","gi"),uJ=new RegExp("("+Fme+")+","gi");function nO(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],nO(r),nO(n))}function hdt(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(lJ)||[],r=1;r<e.length;r++)t=nO(e,r).join(""),e=t.match(lJ)||[];return t}}function pdt(t){for(var e={"%FE%FF":"","%FF%FE":""},r=uJ.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=hdt(r[0]);n!==r[0]&&(e[r[0]]=n)}r=uJ.exec(t)}e["%C2"]="";for(var s=Object.keys(e),i=0;i<s.length;i++){var a=s[i];t=t.replace(new RegExp(a,"g"),e[a])}return t}var mdt=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return pdt(t)}},gdt=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},bdt=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),i=0;i<n.length;i++){var a=n[i],o=t[a];(s?e.indexOf(a)!==-1:e(a,o,t))&&(r[a]=o)}return r};(function(t){const e=fdt,r=mdt,n=gdt,s=bdt,i=P=>P==null,a=Symbol("encodeFragmentIdentifier");function o(P){switch(P.arrayFormat){case"index":return _=>(M,B)=>{const D=M.length;return B===void 0||P.skipNull&&B===null||P.skipEmptyString&&B===""?M:B===null?[...M,[u(_,P),"[",D,"]"].join("")]:[...M,[u(_,P),"[",u(D,P),"]=",u(B,P)].join("")]};case"bracket":return _=>(M,B)=>B===void 0||P.skipNull&&B===null||P.skipEmptyString&&B===""?M:B===null?[...M,[u(_,P),"[]"].join("")]:[...M,[u(_,P),"[]=",u(B,P)].join("")];case"colon-list-separator":return _=>(M,B)=>B===void 0||P.skipNull&&B===null||P.skipEmptyString&&B===""?M:B===null?[...M,[u(_,P),":list="].join("")]:[...M,[u(_,P),":list=",u(B,P)].join("")];case"comma":case"separator":case"bracket-separator":{const _=P.arrayFormat==="bracket-separator"?"[]=":"=";return M=>(B,D)=>D===void 0||P.skipNull&&D===null||P.skipEmptyString&&D===""?B:(D=D===null?"":D,B.length===0?[[u(M,P),_,u(D,P)].join("")]:[[B,u(D,P)].join(P.arrayFormatSeparator)])}default:return _=>(M,B)=>B===void 0||P.skipNull&&B===null||P.skipEmptyString&&B===""?M:B===null?[...M,u(_,P)]:[...M,[u(_,P),"=",u(B,P)].join("")]}}function c(P){let _;switch(P.arrayFormat){case"index":return(M,B,D)=>{if(_=/\[(\d*)\]$/.exec(M),M=M.replace(/\[\d*\]$/,""),!_){D[M]=B;return}D[M]===void 0&&(D[M]={}),D[M][_[1]]=B};case"bracket":return(M,B,D)=>{if(_=/(\[\])$/.exec(M),M=M.replace(/\[\]$/,""),!_){D[M]=B;return}if(D[M]===void 0){D[M]=[B];return}D[M]=[].concat(D[M],B)};case"colon-list-separator":return(M,B,D)=>{if(_=/(:list)$/.exec(M),M=M.replace(/:list$/,""),!_){D[M]=B;return}if(D[M]===void 0){D[M]=[B];return}D[M]=[].concat(D[M],B)};case"comma":case"separator":return(M,B,D)=>{const j=typeof B=="string"&&B.includes(P.arrayFormatSeparator),T=typeof B=="string"&&!j&&f(B,P).includes(P.arrayFormatSeparator);B=T?f(B,P):B;const R=j||T?B.split(P.arrayFormatSeparator).map(H=>f(H,P)):B===null?B:f(B,P);D[M]=R};case"bracket-separator":return(M,B,D)=>{const j=/(\[\])$/.test(M);if(M=M.replace(/\[\]$/,""),!j){D[M]=B&&f(B,P);return}const T=B===null?[]:B.split(P.arrayFormatSeparator).map(R=>f(R,P));if(D[M]===void 0){D[M]=T;return}D[M]=[].concat(D[M],T)};default:return(M,B,D)=>{if(D[M]===void 0){D[M]=B;return}D[M]=[].concat(D[M],B)}}}function l(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(P,_){return _.encode?_.strict?e(P):encodeURIComponent(P):P}function f(P,_){return _.decode?r(P):P}function h(P){return Array.isArray(P)?P.sort():typeof P=="object"?h(Object.keys(P)).sort((_,M)=>Number(_)-Number(M)).map(_=>P[_]):P}function m(P){const _=P.indexOf("#");return _!==-1&&(P=P.slice(0,_)),P}function v(P){let _="";const M=P.indexOf("#");return M!==-1&&(_=P.slice(M)),_}function x(P){P=m(P);const _=P.indexOf("?");return _===-1?"":P.slice(_+1)}function k(P,_){return _.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):_.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function E(P,_){_=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},_),l(_.arrayFormatSeparator);const M=c(_),B=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return B;for(const D of P.split("&")){if(D==="")continue;let[j,T]=n(_.decode?D.replace(/\+/g," "):D,"=");T=T===void 0?null:["comma","separator","bracket-separator"].includes(_.arrayFormat)?T:f(T,_),M(f(j,_),T,B)}for(const D of Object.keys(B)){const j=B[D];if(typeof j=="object"&&j!==null)for(const T of Object.keys(j))j[T]=k(j[T],_);else B[D]=k(j,_)}return _.sort===!1?B:(_.sort===!0?Object.keys(B).sort():Object.keys(B).sort(_.sort)).reduce((D,j)=>{const T=B[j];return T&&typeof T=="object"&&!Array.isArray(T)?D[j]=h(T):D[j]=T,D},Object.create(null))}t.extract=x,t.parse=E,t.stringify=(P,_)=>{if(!P)return"";_=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},_),l(_.arrayFormatSeparator);const M=T=>_.skipNull&&i(P[T])||_.skipEmptyString&&P[T]==="",B=o(_),D={};for(const T of Object.keys(P))M(T)||(D[T]=P[T]);const j=Object.keys(D);return _.sort!==!1&&j.sort(_.sort),j.map(T=>{const R=P[T];return R===void 0?"":R===null?u(T,_):Array.isArray(R)?R.length===0&&_.arrayFormat==="bracket-separator"?u(T,_)+"[]":R.reduce(B(T),[]).join("&"):u(T,_)+"="+u(R,_)}).filter(T=>T.length>0).join("&")},t.parseUrl=(P,_)=>{_=Object.assign({decode:!0},_);const[M,B]=n(P,"#");return Object.assign({url:M.split("?")[0]||"",query:E(x(P),_)},_&&_.parseFragmentIdentifier&&B?{fragmentIdentifier:f(B,_)}:{})},t.stringifyUrl=(P,_)=>{_=Object.assign({encode:!0,strict:!0,[a]:!0},_);const M=m(P.url).split("?")[0]||"",B=t.extract(P.url),D=t.parse(B,{sort:!1}),j=Object.assign(D,P.query);let T=t.stringify(j,_);T&&(T=`?${T}`);let R=v(P.url);return P.fragmentIdentifier&&(R=`#${_[a]?u(P.fragmentIdentifier,_):P.fragmentIdentifier}`),`${M}${T}${R}`},t.pick=(P,_,M)=>{M=Object.assign({parseFragmentIdentifier:!0,[a]:!1},M);const{url:B,query:D,fragmentIdentifier:j}=t.parseUrl(P,M);return t.stringifyUrl({url:B,query:s(D,_),fragmentIdentifier:j},M)},t.exclude=(P,_,M)=>{const B=Array.isArray(_)?D=>!_.includes(D):(D,j)=>!_(D,j);return t.pick(P,B,M)}})(Bh);const ydt=`Ethereum Signed Message:
`;function Bme(t){return typeof t=="string"&&(t=Cp(t)),bc(_p([Cp(ydt),Cp(String(t.length)),t]))}var dJ;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(dJ||(dJ={}));function vdt(t){const e=bB(t);return Eh(v6(bc(v6(e,1)),12))}function xdt(t,e){return vdt(zse(Kr(t),e))}var x5={},NI={};Object.defineProperty(NI,"__esModule",{value:!0});var va=Ar,sO=Nc,wdt=20;function Adt(t,e,r){for(var n=1634760805,s=857760878,i=2036477234,a=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],h=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],v=r[31]<<24|r[30]<<16|r[29]<<8|r[28],x=e[3]<<24|e[2]<<16|e[1]<<8|e[0],k=e[7]<<24|e[6]<<16|e[5]<<8|e[4],E=e[11]<<24|e[10]<<16|e[9]<<8|e[8],P=e[15]<<24|e[14]<<16|e[13]<<8|e[12],_=n,M=s,B=i,D=a,j=o,T=c,R=l,H=u,O=f,b=h,w=m,p=v,g=x,S=k,N=E,I=P,A=0;A<wdt;A+=2)_=_+j|0,g^=_,g=g>>>16|g<<16,O=O+g|0,j^=O,j=j>>>20|j<<12,M=M+T|0,S^=M,S=S>>>16|S<<16,b=b+S|0,T^=b,T=T>>>20|T<<12,B=B+R|0,N^=B,N=N>>>16|N<<16,w=w+N|0,R^=w,R=R>>>20|R<<12,D=D+H|0,I^=D,I=I>>>16|I<<16,p=p+I|0,H^=p,H=H>>>20|H<<12,B=B+R|0,N^=B,N=N>>>24|N<<8,w=w+N|0,R^=w,R=R>>>25|R<<7,D=D+H|0,I^=D,I=I>>>24|I<<8,p=p+I|0,H^=p,H=H>>>25|H<<7,M=M+T|0,S^=M,S=S>>>24|S<<8,b=b+S|0,T^=b,T=T>>>25|T<<7,_=_+j|0,g^=_,g=g>>>24|g<<8,O=O+g|0,j^=O,j=j>>>25|j<<7,_=_+T|0,I^=_,I=I>>>16|I<<16,w=w+I|0,T^=w,T=T>>>20|T<<12,M=M+R|0,g^=M,g=g>>>16|g<<16,p=p+g|0,R^=p,R=R>>>20|R<<12,B=B+H|0,S^=B,S=S>>>16|S<<16,O=O+S|0,H^=O,H=H>>>20|H<<12,D=D+j|0,N^=D,N=N>>>16|N<<16,b=b+N|0,j^=b,j=j>>>20|j<<12,B=B+H|0,S^=B,S=S>>>24|S<<8,O=O+S|0,H^=O,H=H>>>25|H<<7,D=D+j|0,N^=D,N=N>>>24|N<<8,b=b+N|0,j^=b,j=j>>>25|j<<7,M=M+R|0,g^=M,g=g>>>24|g<<8,p=p+g|0,R^=p,R=R>>>25|R<<7,_=_+T|0,I^=_,I=I>>>24|I<<8,w=w+I|0,T^=w,T=T>>>25|T<<7;va.writeUint32LE(_+n|0,t,0),va.writeUint32LE(M+s|0,t,4),va.writeUint32LE(B+i|0,t,8),va.writeUint32LE(D+a|0,t,12),va.writeUint32LE(j+o|0,t,16),va.writeUint32LE(T+c|0,t,20),va.writeUint32LE(R+l|0,t,24),va.writeUint32LE(H+u|0,t,28),va.writeUint32LE(O+f|0,t,32),va.writeUint32LE(b+h|0,t,36),va.writeUint32LE(w+m|0,t,40),va.writeUint32LE(p+v|0,t,44),va.writeUint32LE(g+x|0,t,48),va.writeUint32LE(S+k|0,t,52),va.writeUint32LE(N+E|0,t,56),va.writeUint32LE(I+P|0,t,60)}function Rme(t,e,r,n,s){if(s===void 0&&(s=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var i,a;if(s===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),a=i.length-e.length,i.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=e,a=s}for(var o=new Uint8Array(64),c=0;c<r.length;c+=64){Adt(o,i,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^o[l-c];Pdt(i,0,a)}return sO.wipe(o),s===0&&sO.wipe(i),n}NI.streamXOR=Rme;function Sdt(t,e,r,n){return n===void 0&&(n=0),sO.wipe(r),Rme(t,e,r,r,n)}NI.stream=Sdt;function Pdt(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Dme={},gm={};Object.defineProperty(gm,"__esModule",{value:!0});function kdt(t,e,r){return~(t-1)&e|t-1&r}gm.select=kdt;function Idt(t,e){return(t|0)-(e|0)-1>>>31&1}gm.lessOrEqual=Idt;function Ume(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}gm.compare=Ume;function Ndt(t,e){return t.length===0||e.length===0?!1:Ume(t,e)!==0}gm.equal=Ndt;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gm,r=Nc;t.DIGEST_LENGTH=16;var n=function(){function a(o){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=o[0]|o[1]<<8;this._r[0]=c&8191;var l=o[2]|o[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=o[4]|o[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var f=o[6]|o[7]<<8;this._r[3]=(u>>>7|f<<9)&8191;var h=o[8]|o[9]<<8;this._r[4]=(f>>>4|h<<12)&255,this._r[5]=h>>>1&8190;var m=o[10]|o[11]<<8;this._r[6]=(h>>>14|m<<2)&8191;var v=o[12]|o[13]<<8;this._r[7]=(m>>>11|v<<5)&8065;var x=o[14]|o[15]<<8;this._r[8]=(v>>>8|x<<8)&8191,this._r[9]=x>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return a.prototype._blocks=function(o,c,l){for(var u=this._fin?0:2048,f=this._h[0],h=this._h[1],m=this._h[2],v=this._h[3],x=this._h[4],k=this._h[5],E=this._h[6],P=this._h[7],_=this._h[8],M=this._h[9],B=this._r[0],D=this._r[1],j=this._r[2],T=this._r[3],R=this._r[4],H=this._r[5],O=this._r[6],b=this._r[7],w=this._r[8],p=this._r[9];l>=16;){var g=o[c+0]|o[c+1]<<8;f+=g&8191;var S=o[c+2]|o[c+3]<<8;h+=(g>>>13|S<<3)&8191;var N=o[c+4]|o[c+5]<<8;m+=(S>>>10|N<<6)&8191;var I=o[c+6]|o[c+7]<<8;v+=(N>>>7|I<<9)&8191;var A=o[c+8]|o[c+9]<<8;x+=(I>>>4|A<<12)&8191,k+=A>>>1&8191;var y=o[c+10]|o[c+11]<<8;E+=(A>>>14|y<<2)&8191;var C=o[c+12]|o[c+13]<<8;P+=(y>>>11|C<<5)&8191;var $=o[c+14]|o[c+15]<<8;_+=(C>>>8|$<<8)&8191,M+=$>>>5|u;var L=0,Q=L;Q+=f*B,Q+=h*(5*p),Q+=m*(5*w),Q+=v*(5*b),Q+=x*(5*O),L=Q>>>13,Q&=8191,Q+=k*(5*H),Q+=E*(5*R),Q+=P*(5*T),Q+=_*(5*j),Q+=M*(5*D),L+=Q>>>13,Q&=8191;var U=L;U+=f*D,U+=h*B,U+=m*(5*p),U+=v*(5*w),U+=x*(5*b),L=U>>>13,U&=8191,U+=k*(5*O),U+=E*(5*H),U+=P*(5*R),U+=_*(5*T),U+=M*(5*j),L+=U>>>13,U&=8191;var J=L;J+=f*j,J+=h*D,J+=m*B,J+=v*(5*p),J+=x*(5*w),L=J>>>13,J&=8191,J+=k*(5*b),J+=E*(5*O),J+=P*(5*H),J+=_*(5*R),J+=M*(5*T),L+=J>>>13,J&=8191;var Z=L;Z+=f*T,Z+=h*j,Z+=m*D,Z+=v*B,Z+=x*(5*p),L=Z>>>13,Z&=8191,Z+=k*(5*w),Z+=E*(5*b),Z+=P*(5*O),Z+=_*(5*H),Z+=M*(5*R),L+=Z>>>13,Z&=8191;var re=L;re+=f*R,re+=h*T,re+=m*j,re+=v*D,re+=x*B,L=re>>>13,re&=8191,re+=k*(5*p),re+=E*(5*w),re+=P*(5*b),re+=_*(5*O),re+=M*(5*H),L+=re>>>13,re&=8191;var G=L;G+=f*H,G+=h*R,G+=m*T,G+=v*j,G+=x*D,L=G>>>13,G&=8191,G+=k*B,G+=E*(5*p),G+=P*(5*w),G+=_*(5*b),G+=M*(5*O),L+=G>>>13,G&=8191;var z=L;z+=f*O,z+=h*H,z+=m*R,z+=v*T,z+=x*j,L=z>>>13,z&=8191,z+=k*D,z+=E*B,z+=P*(5*p),z+=_*(5*w),z+=M*(5*b),L+=z>>>13,z&=8191;var se=L;se+=f*b,se+=h*O,se+=m*H,se+=v*R,se+=x*T,L=se>>>13,se&=8191,se+=k*j,se+=E*D,se+=P*B,se+=_*(5*p),se+=M*(5*w),L+=se>>>13,se&=8191;var ce=L;ce+=f*w,ce+=h*b,ce+=m*O,ce+=v*H,ce+=x*R,L=ce>>>13,ce&=8191,ce+=k*T,ce+=E*j,ce+=P*D,ce+=_*B,ce+=M*(5*p),L+=ce>>>13,ce&=8191;var pe=L;pe+=f*p,pe+=h*w,pe+=m*b,pe+=v*O,pe+=x*H,L=pe>>>13,pe&=8191,pe+=k*R,pe+=E*T,pe+=P*j,pe+=_*D,pe+=M*B,L+=pe>>>13,pe&=8191,L=(L<<2)+L|0,L=L+Q|0,Q=L&8191,L=L>>>13,U+=L,f=Q,h=U,m=J,v=Z,x=re,k=G,E=z,P=se,_=ce,M=pe,c+=16,l-=16}this._h[0]=f,this._h[1]=h,this._h[2]=m,this._h[3]=v,this._h[4]=x,this._h[5]=k,this._h[6]=E,this._h[7]=P,this._h[8]=_,this._h[9]=M},a.prototype.finish=function(o,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,f,h,m;if(this._leftover){for(m=this._leftover,this._buffer[m++]=1;m<16;m++)this._buffer[m]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,m=2;m<10;m++)this._h[m]+=u,u=this._h[m]>>>13,this._h[m]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,m=1;m<10;m++)l[m]=this._h[m]+u,u=l[m]>>>13,l[m]&=8191;for(l[9]-=8192,f=(u^1)-1,m=0;m<10;m++)l[m]&=f;for(f=~f,m=0;m<10;m++)this._h[m]=this._h[m]&f|l[m];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,h=this._h[0]+this._pad[0],this._h[0]=h&65535,m=1;m<8;m++)h=(this._h[m]+this._pad[m]|0)+(h>>>16)|0,this._h[m]=h&65535;return o[c+0]=this._h[0]>>>0,o[c+1]=this._h[0]>>>8,o[c+2]=this._h[1]>>>0,o[c+3]=this._h[1]>>>8,o[c+4]=this._h[2]>>>0,o[c+5]=this._h[2]>>>8,o[c+6]=this._h[3]>>>0,o[c+7]=this._h[3]>>>8,o[c+8]=this._h[4]>>>0,o[c+9]=this._h[4]>>>8,o[c+10]=this._h[5]>>>0,o[c+11]=this._h[5]>>>8,o[c+12]=this._h[6]>>>0,o[c+13]=this._h[6]>>>8,o[c+14]=this._h[7]>>>0,o[c+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(o){var c=0,l=o.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var f=0;f<u;f++)this._buffer[this._leftover+f]=o[c+f];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(o,c,u),c+=u,l-=u),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=o[c+f];this._leftover+=l}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();t.Poly1305=n;function s(a,o){var c=new n(a);c.update(o);var l=c.digest();return c.clean(),l}t.oneTimeAuth=s;function i(a,o){return a.length!==t.DIGEST_LENGTH||o.length!==t.DIGEST_LENGTH?!1:e.equal(a,o)}t.equal=i})(Dme);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=NI,r=Dme,n=Nc,s=Ar,i=gm;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var a=new Uint8Array(16),o=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var m=new Uint8Array(16);m.set(l,m.length-l.length);var v=new Uint8Array(32);e.stream(this._key,m,v,4);var x=u.length+this.tagLength,k;if(h){if(h.length!==x)throw new Error("ChaCha20Poly1305: incorrect destination length");k=h}else k=new Uint8Array(x);return e.streamXOR(this._key,m,u,k,4),this._authenticate(k.subarray(k.length-this.tagLength,k.length),v,k.subarray(0,k.length-this.tagLength),f),n.wipe(m),k},c.prototype.open=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var m=new Uint8Array(16);m.set(l,m.length-l.length);var v=new Uint8Array(32);e.stream(this._key,m,v,4);var x=new Uint8Array(this.tagLength);if(this._authenticate(x,v,u.subarray(0,u.length-this.tagLength),f),!i.equal(x,u.subarray(u.length-this.tagLength,u.length)))return null;var k=u.length-this.tagLength,E;if(h){if(h.length!==k)throw new Error("ChaCha20Poly1305: incorrect destination length");E=h}else E=new Uint8Array(k);return e.streamXOR(this._key,m,u.subarray(0,u.length-this.tagLength),E,4),n.wipe(m),E},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,f,h){var m=new r.Poly1305(u);h&&(m.update(h),h.length%16>0&&m.update(a.subarray(h.length%16))),m.update(f),f.length%16>0&&m.update(a.subarray(f.length%16));var v=new Uint8Array(8);h&&s.writeUint64LE(h.length,v),m.update(v),s.writeUint64LE(f.length,v),m.update(v);for(var x=m.digest(),k=0;k<x.length;k++)l[k]=x[k];m.clean(),n.wipe(x),n.wipe(v)},c}();t.ChaCha20Poly1305=o})(x5);var zme={},w5={},JD={};Object.defineProperty(JD,"__esModule",{value:!0});function Edt(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}JD.isSerializableHash=Edt;Object.defineProperty(w5,"__esModule",{value:!0});var Ku=JD,_dt=gm,Cdt=Nc,Lme=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(var s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),Ku.isSerializableHash(this._inner)&&Ku.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Cdt.wipe(n)}return t.prototype.reset=function(){if(!Ku.isSerializableHash(this._inner)||!Ku.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Ku.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ku.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Ku.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Ku.isSerializableHash(this._inner)||!Ku.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Ku.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();w5.HMAC=Lme;function Tdt(t,e,r){var n=new Lme(t,e);n.update(r);var s=n.digest();return n.clean(),s}w5.hmac=Tdt;w5.equal=_dt.equal;Object.defineProperty(zme,"__esModule",{value:!0});var fJ=w5,hJ=Nc,jdt=function(){function t(e,r,n,s){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var i=fJ.hmac(this._hash,n,r);this._hmac=new fJ.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),hJ.wipe(this._buffer),hJ.wipe(this._counter),this._bufpos=0},t}(),Vme=zme.HKDF=jdt,A5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Ic,r=Nc;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(M){const B=new Float64Array(16);if(M)for(let D=0;D<M.length;D++)B[D]=M[D];return B}const s=new Uint8Array(32);s[0]=9;const i=n([56129,1]);function a(M){let B=1;for(let D=0;D<16;D++){let j=M[D]+B+65535;B=Math.floor(j/65536),M[D]=j-B*65536}M[0]+=B-1+37*(B-1)}function o(M,B,D){const j=~(D-1);for(let T=0;T<16;T++){const R=j&(M[T]^B[T]);M[T]^=R,B[T]^=R}}function c(M,B){const D=n(),j=n();for(let T=0;T<16;T++)j[T]=B[T];a(j),a(j),a(j);for(let T=0;T<2;T++){D[0]=j[0]-65517;for(let H=1;H<15;H++)D[H]=j[H]-65535-(D[H-1]>>16&1),D[H-1]&=65535;D[15]=j[15]-32767-(D[14]>>16&1);const R=D[15]>>16&1;D[14]&=65535,o(j,D,1-R)}for(let T=0;T<16;T++)M[2*T]=j[T]&255,M[2*T+1]=j[T]>>8}function l(M,B){for(let D=0;D<16;D++)M[D]=B[2*D]+(B[2*D+1]<<8);M[15]&=32767}function u(M,B,D){for(let j=0;j<16;j++)M[j]=B[j]+D[j]}function f(M,B,D){for(let j=0;j<16;j++)M[j]=B[j]-D[j]}function h(M,B,D){let j,T,R=0,H=0,O=0,b=0,w=0,p=0,g=0,S=0,N=0,I=0,A=0,y=0,C=0,$=0,L=0,Q=0,U=0,J=0,Z=0,re=0,G=0,z=0,se=0,ce=0,pe=0,Ce=0,ke=0,tt=0,mt=0,we=0,qe=0,Ae=D[0],Oe=D[1],We=D[2],Be=D[3],ze=D[4],Ke=D[5],ct=D[6],Y=D[7],V=D[8],q=D[9],ne=D[10],le=D[11],de=D[12],me=D[13],rt=D[14],ht=D[15];j=B[0],R+=j*Ae,H+=j*Oe,O+=j*We,b+=j*Be,w+=j*ze,p+=j*Ke,g+=j*ct,S+=j*Y,N+=j*V,I+=j*q,A+=j*ne,y+=j*le,C+=j*de,$+=j*me,L+=j*rt,Q+=j*ht,j=B[1],H+=j*Ae,O+=j*Oe,b+=j*We,w+=j*Be,p+=j*ze,g+=j*Ke,S+=j*ct,N+=j*Y,I+=j*V,A+=j*q,y+=j*ne,C+=j*le,$+=j*de,L+=j*me,Q+=j*rt,U+=j*ht,j=B[2],O+=j*Ae,b+=j*Oe,w+=j*We,p+=j*Be,g+=j*ze,S+=j*Ke,N+=j*ct,I+=j*Y,A+=j*V,y+=j*q,C+=j*ne,$+=j*le,L+=j*de,Q+=j*me,U+=j*rt,J+=j*ht,j=B[3],b+=j*Ae,w+=j*Oe,p+=j*We,g+=j*Be,S+=j*ze,N+=j*Ke,I+=j*ct,A+=j*Y,y+=j*V,C+=j*q,$+=j*ne,L+=j*le,Q+=j*de,U+=j*me,J+=j*rt,Z+=j*ht,j=B[4],w+=j*Ae,p+=j*Oe,g+=j*We,S+=j*Be,N+=j*ze,I+=j*Ke,A+=j*ct,y+=j*Y,C+=j*V,$+=j*q,L+=j*ne,Q+=j*le,U+=j*de,J+=j*me,Z+=j*rt,re+=j*ht,j=B[5],p+=j*Ae,g+=j*Oe,S+=j*We,N+=j*Be,I+=j*ze,A+=j*Ke,y+=j*ct,C+=j*Y,$+=j*V,L+=j*q,Q+=j*ne,U+=j*le,J+=j*de,Z+=j*me,re+=j*rt,G+=j*ht,j=B[6],g+=j*Ae,S+=j*Oe,N+=j*We,I+=j*Be,A+=j*ze,y+=j*Ke,C+=j*ct,$+=j*Y,L+=j*V,Q+=j*q,U+=j*ne,J+=j*le,Z+=j*de,re+=j*me,G+=j*rt,z+=j*ht,j=B[7],S+=j*Ae,N+=j*Oe,I+=j*We,A+=j*Be,y+=j*ze,C+=j*Ke,$+=j*ct,L+=j*Y,Q+=j*V,U+=j*q,J+=j*ne,Z+=j*le,re+=j*de,G+=j*me,z+=j*rt,se+=j*ht,j=B[8],N+=j*Ae,I+=j*Oe,A+=j*We,y+=j*Be,C+=j*ze,$+=j*Ke,L+=j*ct,Q+=j*Y,U+=j*V,J+=j*q,Z+=j*ne,re+=j*le,G+=j*de,z+=j*me,se+=j*rt,ce+=j*ht,j=B[9],I+=j*Ae,A+=j*Oe,y+=j*We,C+=j*Be,$+=j*ze,L+=j*Ke,Q+=j*ct,U+=j*Y,J+=j*V,Z+=j*q,re+=j*ne,G+=j*le,z+=j*de,se+=j*me,ce+=j*rt,pe+=j*ht,j=B[10],A+=j*Ae,y+=j*Oe,C+=j*We,$+=j*Be,L+=j*ze,Q+=j*Ke,U+=j*ct,J+=j*Y,Z+=j*V,re+=j*q,G+=j*ne,z+=j*le,se+=j*de,ce+=j*me,pe+=j*rt,Ce+=j*ht,j=B[11],y+=j*Ae,C+=j*Oe,$+=j*We,L+=j*Be,Q+=j*ze,U+=j*Ke,J+=j*ct,Z+=j*Y,re+=j*V,G+=j*q,z+=j*ne,se+=j*le,ce+=j*de,pe+=j*me,Ce+=j*rt,ke+=j*ht,j=B[12],C+=j*Ae,$+=j*Oe,L+=j*We,Q+=j*Be,U+=j*ze,J+=j*Ke,Z+=j*ct,re+=j*Y,G+=j*V,z+=j*q,se+=j*ne,ce+=j*le,pe+=j*de,Ce+=j*me,ke+=j*rt,tt+=j*ht,j=B[13],$+=j*Ae,L+=j*Oe,Q+=j*We,U+=j*Be,J+=j*ze,Z+=j*Ke,re+=j*ct,G+=j*Y,z+=j*V,se+=j*q,ce+=j*ne,pe+=j*le,Ce+=j*de,ke+=j*me,tt+=j*rt,mt+=j*ht,j=B[14],L+=j*Ae,Q+=j*Oe,U+=j*We,J+=j*Be,Z+=j*ze,re+=j*Ke,G+=j*ct,z+=j*Y,se+=j*V,ce+=j*q,pe+=j*ne,Ce+=j*le,ke+=j*de,tt+=j*me,mt+=j*rt,we+=j*ht,j=B[15],Q+=j*Ae,U+=j*Oe,J+=j*We,Z+=j*Be,re+=j*ze,G+=j*Ke,z+=j*ct,se+=j*Y,ce+=j*V,pe+=j*q,Ce+=j*ne,ke+=j*le,tt+=j*de,mt+=j*me,we+=j*rt,qe+=j*ht,R+=38*U,H+=38*J,O+=38*Z,b+=38*re,w+=38*G,p+=38*z,g+=38*se,S+=38*ce,N+=38*pe,I+=38*Ce,A+=38*ke,y+=38*tt,C+=38*mt,$+=38*we,L+=38*qe,T=1,j=R+T+65535,T=Math.floor(j/65536),R=j-T*65536,j=H+T+65535,T=Math.floor(j/65536),H=j-T*65536,j=O+T+65535,T=Math.floor(j/65536),O=j-T*65536,j=b+T+65535,T=Math.floor(j/65536),b=j-T*65536,j=w+T+65535,T=Math.floor(j/65536),w=j-T*65536,j=p+T+65535,T=Math.floor(j/65536),p=j-T*65536,j=g+T+65535,T=Math.floor(j/65536),g=j-T*65536,j=S+T+65535,T=Math.floor(j/65536),S=j-T*65536,j=N+T+65535,T=Math.floor(j/65536),N=j-T*65536,j=I+T+65535,T=Math.floor(j/65536),I=j-T*65536,j=A+T+65535,T=Math.floor(j/65536),A=j-T*65536,j=y+T+65535,T=Math.floor(j/65536),y=j-T*65536,j=C+T+65535,T=Math.floor(j/65536),C=j-T*65536,j=$+T+65535,T=Math.floor(j/65536),$=j-T*65536,j=L+T+65535,T=Math.floor(j/65536),L=j-T*65536,j=Q+T+65535,T=Math.floor(j/65536),Q=j-T*65536,R+=T-1+37*(T-1),T=1,j=R+T+65535,T=Math.floor(j/65536),R=j-T*65536,j=H+T+65535,T=Math.floor(j/65536),H=j-T*65536,j=O+T+65535,T=Math.floor(j/65536),O=j-T*65536,j=b+T+65535,T=Math.floor(j/65536),b=j-T*65536,j=w+T+65535,T=Math.floor(j/65536),w=j-T*65536,j=p+T+65535,T=Math.floor(j/65536),p=j-T*65536,j=g+T+65535,T=Math.floor(j/65536),g=j-T*65536,j=S+T+65535,T=Math.floor(j/65536),S=j-T*65536,j=N+T+65535,T=Math.floor(j/65536),N=j-T*65536,j=I+T+65535,T=Math.floor(j/65536),I=j-T*65536,j=A+T+65535,T=Math.floor(j/65536),A=j-T*65536,j=y+T+65535,T=Math.floor(j/65536),y=j-T*65536,j=C+T+65535,T=Math.floor(j/65536),C=j-T*65536,j=$+T+65535,T=Math.floor(j/65536),$=j-T*65536,j=L+T+65535,T=Math.floor(j/65536),L=j-T*65536,j=Q+T+65535,T=Math.floor(j/65536),Q=j-T*65536,R+=T-1+37*(T-1),M[0]=R,M[1]=H,M[2]=O,M[3]=b,M[4]=w,M[5]=p,M[6]=g,M[7]=S,M[8]=N,M[9]=I,M[10]=A,M[11]=y,M[12]=C,M[13]=$,M[14]=L,M[15]=Q}function m(M,B){h(M,B,B)}function v(M,B){const D=n();for(let j=0;j<16;j++)D[j]=B[j];for(let j=253;j>=0;j--)m(D,D),j!==2&&j!==4&&h(D,D,B);for(let j=0;j<16;j++)M[j]=D[j]}function x(M,B){const D=new Uint8Array(32),j=new Float64Array(80),T=n(),R=n(),H=n(),O=n(),b=n(),w=n();for(let N=0;N<31;N++)D[N]=M[N];D[31]=M[31]&127|64,D[0]&=248,l(j,B);for(let N=0;N<16;N++)R[N]=j[N];T[0]=O[0]=1;for(let N=254;N>=0;--N){const I=D[N>>>3]>>>(N&7)&1;o(T,R,I),o(H,O,I),u(b,T,H),f(T,T,H),u(H,R,O),f(R,R,O),m(O,b),m(w,T),h(T,H,T),h(H,R,b),u(b,T,H),f(T,T,H),m(R,T),f(H,O,w),h(T,H,i),u(T,T,O),h(H,H,T),h(T,O,w),h(O,R,j),m(R,b),o(T,R,I),o(H,O,I)}for(let N=0;N<16;N++)j[N+16]=T[N],j[N+32]=H[N],j[N+48]=R[N],j[N+64]=O[N];const p=j.subarray(32),g=j.subarray(16);v(p,p),h(g,g,p);const S=new Uint8Array(32);return c(S,g),S}t.scalarMult=x;function k(M){return x(M,s)}t.scalarMultBase=k;function E(M){if(M.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const B=new Uint8Array(M);return{publicKey:k(B),secretKey:B}}t.generateKeyPairFromSeed=E;function P(M){const B=(0,e.randomBytes)(32,M),D=E(B);return(0,r.wipe)(B),D}t.generateKeyPair=P;function _(M,B,D=!1){if(M.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(B.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const j=x(M,B);if(D){let T=0;for(let R=0;R<j.length;R++)T|=j[R];if(T===0)throw new Error("X25519: invalid shared key")}return j}t.sharedKey=_})(A5);var Hme={};const $dt="elliptic",Mdt="6.5.7",Odt="EC cryptography",Fdt="lib/elliptic.js",Bdt=["lib"],Rdt={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Ddt={type:"git",url:"git@github.com:indutny/elliptic"},Udt=["EC","Elliptic","curve","Cryptography"],zdt="Fedor Indutny <fedor@indutny.com>",Ldt="MIT",Vdt={url:"https://github.com/indutny/elliptic/issues"},Hdt="https://github.com/indutny/elliptic",Wdt={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},qdt={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Kdt={name:$dt,version:Mdt,description:Odt,main:Fdt,files:Bdt,scripts:Rdt,repository:Ddt,keywords:Udt,author:zdt,license:Ldt,bugs:Vdt,homepage:Hdt,devDependencies:Wdt,dependencies:qdt};var Ec={},QD={exports:{}};QD.exports;(function(t){(function(e,r){function n(O,b){if(!O)throw new Error(b||"Assertion failed")}function s(O,b){O.super_=b;var w=function(){};w.prototype=b.prototype,O.prototype=new w,O.prototype.constructor=O}function i(O,b,w){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((b==="le"||b==="be")&&(w=b,b=10),this._init(O||0,b||10,w||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=B1.Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,w){return b.cmp(w)>0?b:w},i.min=function(b,w){return b.cmp(w)<0?b:w},i.prototype._init=function(b,w,p){if(typeof b=="number")return this._initNumber(b,w,p);if(typeof b=="object")return this._initArray(b,w,p);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),b=b.toString().replace(/\s+/g,"");var g=0;b[0]==="-"&&(g++,this.negative=1),g<b.length&&(w===16?this._parseHex(b,g,p):(this._parseBase(b,w,g),p==="le"&&this._initArray(this.toArray(),w,p)))},i.prototype._initNumber=function(b,w,p){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),w,p)},i.prototype._initArray=function(b,w,p){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,N,I=0;if(p==="be")for(g=b.length-1,S=0;g>=0;g-=3)N=b[g]|b[g-1]<<8|b[g-2]<<16,this.words[S]|=N<<I&67108863,this.words[S+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);else if(p==="le")for(g=0,S=0;g<b.length;g+=3)N=b[g]|b[g+1]<<8|b[g+2]<<16,this.words[S]|=N<<I&67108863,this.words[S+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);return this.strip()};function o(O,b){var w=O.charCodeAt(b);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function c(O,b,w){var p=o(O,w);return w-1>=b&&(p|=o(O,w-1)<<4),p}i.prototype._parseHex=function(b,w,p){this.length=Math.ceil((b.length-w)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S=0,N=0,I;if(p==="be")for(g=b.length-1;g>=w;g-=2)I=c(b,w,g)<<S,this.words[N]|=I&67108863,S>=18?(S-=18,N+=1,this.words[N]|=I>>>26):S+=8;else{var A=b.length-w;for(g=A%2===0?w+1:w;g<b.length;g+=2)I=c(b,w,g)<<S,this.words[N]|=I&67108863,S>=18?(S-=18,N+=1,this.words[N]|=I>>>26):S+=8}this.strip()};function l(O,b,w,p){for(var g=0,S=Math.min(O.length,w),N=b;N<S;N++){var I=O.charCodeAt(N)-48;g*=p,I>=49?g+=I-49+10:I>=17?g+=I-17+10:g+=I}return g}i.prototype._parseBase=function(b,w,p){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=w)g++;g--,S=S/w|0;for(var N=b.length-p,I=N%g,A=Math.min(N,N-I)+p,y=0,C=p;C<A;C+=g)y=l(b,C,C+g,w),this.imuln(S),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(I!==0){var $=1;for(y=l(b,C,b.length,w),C=0;C<I;C++)$*=w;this.imuln($),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this.strip()},i.prototype.copy=function(b){b.words=new Array(this.length);for(var w=0;w<this.length;w++)b.words[w]=this.words[w];b.length=this.length,b.negative=this.negative,b.red=this.red},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,w){b=b||10,w=w|0||1;var p;if(b===16||b==="hex"){p="";for(var g=0,S=0,N=0;N<this.length;N++){var I=this.words[N],A=((I<<g|S)&16777215).toString(16);S=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,N--),S!==0||N!==this.length-1?p=u[6-A.length]+A+p:p=A+p}for(S!==0&&(p=S.toString(16)+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(b===(b|0)&&b>=2&&b<=36){var y=f[b],C=h[b];p="";var $=this.clone();for($.negative=0;!$.isZero();){var L=$.modn(C).toString(b);$=$.idivn(C),$.isZero()?p=L+p:p=u[y-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(b,w){return n(typeof a<"u"),this.toArrayLike(a,b,w)},i.prototype.toArray=function(b,w){return this.toArrayLike(Array,b,w)},i.prototype.toArrayLike=function(b,w,p){var g=this.byteLength(),S=p||Math.max(1,g);n(g<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var N=w==="le",I=new b(S),A,y,C=this.clone();if(N){for(y=0;!C.isZero();y++)A=C.andln(255),C.iushrn(8),I[y]=A;for(;y<S;y++)I[y]=0}else{for(y=0;y<S-g;y++)I[y]=0;for(y=0;!C.isZero();y++)A=C.andln(255),C.iushrn(8),I[S-y-1]=A}return I},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var w=b,p=0;return w>=4096&&(p+=13,w>>>=13),w>=64&&(p+=7,w>>>=7),w>=8&&(p+=4,w>>>=4),w>=2&&(p+=2,w>>>=2),p+w},i.prototype._zeroBits=function(b){if(b===0)return 26;var w=b,p=0;return w&8191||(p+=13,w>>>=13),w&127||(p+=7,w>>>=7),w&15||(p+=4,w>>>=4),w&3||(p+=2,w>>>=2),w&1||p++,p},i.prototype.bitLength=function(){var b=this.words[this.length-1],w=this._countBits(b);return(this.length-1)*26+w};function m(O){for(var b=new Array(O.bitLength()),w=0;w<b.length;w++){var p=w/26|0,g=w%26;b[w]=(O.words[p]&1<<g)>>>g}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,w=0;w<this.length;w++){var p=this._zeroBits(this.words[w]);if(b+=p,p!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]|b.words[w];return this.strip()},i.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var w;this.length>b.length?w=b:w=this;for(var p=0;p<w.length;p++)this.words[p]=this.words[p]&b.words[p];return this.length=w.length,this.strip()},i.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var w,p;this.length>b.length?(w=this,p=b):(w=b,p=this);for(var g=0;g<p.length;g++)this.words[g]=w.words[g]^p.words[g];if(this!==w)for(;g<w.length;g++)this.words[g]=w.words[g];return this.length=w.length,this.strip()},i.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var w=Math.ceil(b/26)|0,p=b%26;this._expand(w),p>0&&w--;for(var g=0;g<w;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,w){n(typeof b=="number"&&b>=0);var p=b/26|0,g=b%26;return this._expand(p+1),w?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(b){var w;if(this.negative!==0&&b.negative===0)return this.negative=0,w=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,w=this.isub(b),b.negative=1,w._normSign();var p,g;this.length>b.length?(p=this,g=b):(p=b,g=this);for(var S=0,N=0;N<g.length;N++)w=(p.words[N]|0)+(g.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;for(;S!==0&&N<p.length;N++)w=(p.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;if(this.length=p.length,S!==0)this.words[this.length]=S,this.length++;else if(p!==this)for(;N<p.length;N++)this.words[N]=p.words[N];return this},i.prototype.add=function(b){var w;return b.negative!==0&&this.negative===0?(b.negative=0,w=this.sub(b),b.negative^=1,w):b.negative===0&&this.negative!==0?(this.negative=0,w=b.sub(this),this.negative=1,w):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var w=this.iadd(b);return b.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var p=this.cmp(b);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,S;p>0?(g=this,S=b):(g=b,S=this);for(var N=0,I=0;I<S.length;I++)w=(g.words[I]|0)-(S.words[I]|0)+N,N=w>>26,this.words[I]=w&67108863;for(;N!==0&&I<g.length;I++)w=(g.words[I]|0)+N,N=w>>26,this.words[I]=w&67108863;if(N===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function v(O,b,w){w.negative=b.negative^O.negative;var p=O.length+b.length|0;w.length=p,p=p-1|0;var g=O.words[0]|0,S=b.words[0]|0,N=g*S,I=N&67108863,A=N/67108864|0;w.words[0]=I;for(var y=1;y<p;y++){for(var C=A>>>26,$=A&67108863,L=Math.min(y,b.length-1),Q=Math.max(0,y-O.length+1);Q<=L;Q++){var U=y-Q|0;g=O.words[U]|0,S=b.words[Q]|0,N=g*S+$,C+=N/67108864|0,$=N&67108863}w.words[y]=$|0,A=C|0}return A!==0?w.words[y]=A|0:w.length--,w.strip()}var x=function(b,w,p){var g=b.words,S=w.words,N=p.words,I=0,A,y,C,$=g[0]|0,L=$&8191,Q=$>>>13,U=g[1]|0,J=U&8191,Z=U>>>13,re=g[2]|0,G=re&8191,z=re>>>13,se=g[3]|0,ce=se&8191,pe=se>>>13,Ce=g[4]|0,ke=Ce&8191,tt=Ce>>>13,mt=g[5]|0,we=mt&8191,qe=mt>>>13,Ae=g[6]|0,Oe=Ae&8191,We=Ae>>>13,Be=g[7]|0,ze=Be&8191,Ke=Be>>>13,ct=g[8]|0,Y=ct&8191,V=ct>>>13,q=g[9]|0,ne=q&8191,le=q>>>13,de=S[0]|0,me=de&8191,rt=de>>>13,ht=S[1]|0,ot=ht&8191,pt=ht>>>13,Ct=S[2]|0,St=Ct&8191,Rt=Ct>>>13,nr=S[3]|0,De=nr&8191,He=nr>>>13,gt=S[4]|0,nt=gt&8191,It=gt>>>13,Ut=S[5]|0,bt=Ut&8191,Je=Ut>>>13,Pt=S[6]|0,it=Pt&8191,Tt=Pt>>>13,X=S[7]|0,ee=X&8191,te=X>>>13,W=S[8]|0,ie=W&8191,fe=W>>>13,Ie=S[9]|0,ae=Ie&8191,ye=Ie>>>13;p.negative=b.negative^w.negative,p.length=19,A=Math.imul(L,me),y=Math.imul(L,rt),y=y+Math.imul(Q,me)|0,C=Math.imul(Q,rt);var Le=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Le>>>26)|0,Le&=67108863,A=Math.imul(J,me),y=Math.imul(J,rt),y=y+Math.imul(Z,me)|0,C=Math.imul(Z,rt),A=A+Math.imul(L,ot)|0,y=y+Math.imul(L,pt)|0,y=y+Math.imul(Q,ot)|0,C=C+Math.imul(Q,pt)|0;var Re=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Re>>>26)|0,Re&=67108863,A=Math.imul(G,me),y=Math.imul(G,rt),y=y+Math.imul(z,me)|0,C=Math.imul(z,rt),A=A+Math.imul(J,ot)|0,y=y+Math.imul(J,pt)|0,y=y+Math.imul(Z,ot)|0,C=C+Math.imul(Z,pt)|0,A=A+Math.imul(L,St)|0,y=y+Math.imul(L,Rt)|0,y=y+Math.imul(Q,St)|0,C=C+Math.imul(Q,Rt)|0;var Mt=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,A=Math.imul(ce,me),y=Math.imul(ce,rt),y=y+Math.imul(pe,me)|0,C=Math.imul(pe,rt),A=A+Math.imul(G,ot)|0,y=y+Math.imul(G,pt)|0,y=y+Math.imul(z,ot)|0,C=C+Math.imul(z,pt)|0,A=A+Math.imul(J,St)|0,y=y+Math.imul(J,Rt)|0,y=y+Math.imul(Z,St)|0,C=C+Math.imul(Z,Rt)|0,A=A+Math.imul(L,De)|0,y=y+Math.imul(L,He)|0,y=y+Math.imul(Q,De)|0,C=C+Math.imul(Q,He)|0;var ut=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(ut>>>26)|0,ut&=67108863,A=Math.imul(ke,me),y=Math.imul(ke,rt),y=y+Math.imul(tt,me)|0,C=Math.imul(tt,rt),A=A+Math.imul(ce,ot)|0,y=y+Math.imul(ce,pt)|0,y=y+Math.imul(pe,ot)|0,C=C+Math.imul(pe,pt)|0,A=A+Math.imul(G,St)|0,y=y+Math.imul(G,Rt)|0,y=y+Math.imul(z,St)|0,C=C+Math.imul(z,Rt)|0,A=A+Math.imul(J,De)|0,y=y+Math.imul(J,He)|0,y=y+Math.imul(Z,De)|0,C=C+Math.imul(Z,He)|0,A=A+Math.imul(L,nt)|0,y=y+Math.imul(L,It)|0,y=y+Math.imul(Q,nt)|0,C=C+Math.imul(Q,It)|0;var Ot=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,A=Math.imul(we,me),y=Math.imul(we,rt),y=y+Math.imul(qe,me)|0,C=Math.imul(qe,rt),A=A+Math.imul(ke,ot)|0,y=y+Math.imul(ke,pt)|0,y=y+Math.imul(tt,ot)|0,C=C+Math.imul(tt,pt)|0,A=A+Math.imul(ce,St)|0,y=y+Math.imul(ce,Rt)|0,y=y+Math.imul(pe,St)|0,C=C+Math.imul(pe,Rt)|0,A=A+Math.imul(G,De)|0,y=y+Math.imul(G,He)|0,y=y+Math.imul(z,De)|0,C=C+Math.imul(z,He)|0,A=A+Math.imul(J,nt)|0,y=y+Math.imul(J,It)|0,y=y+Math.imul(Z,nt)|0,C=C+Math.imul(Z,It)|0,A=A+Math.imul(L,bt)|0,y=y+Math.imul(L,Je)|0,y=y+Math.imul(Q,bt)|0,C=C+Math.imul(Q,Je)|0;var Se=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Se>>>26)|0,Se&=67108863,A=Math.imul(Oe,me),y=Math.imul(Oe,rt),y=y+Math.imul(We,me)|0,C=Math.imul(We,rt),A=A+Math.imul(we,ot)|0,y=y+Math.imul(we,pt)|0,y=y+Math.imul(qe,ot)|0,C=C+Math.imul(qe,pt)|0,A=A+Math.imul(ke,St)|0,y=y+Math.imul(ke,Rt)|0,y=y+Math.imul(tt,St)|0,C=C+Math.imul(tt,Rt)|0,A=A+Math.imul(ce,De)|0,y=y+Math.imul(ce,He)|0,y=y+Math.imul(pe,De)|0,C=C+Math.imul(pe,He)|0,A=A+Math.imul(G,nt)|0,y=y+Math.imul(G,It)|0,y=y+Math.imul(z,nt)|0,C=C+Math.imul(z,It)|0,A=A+Math.imul(J,bt)|0,y=y+Math.imul(J,Je)|0,y=y+Math.imul(Z,bt)|0,C=C+Math.imul(Z,Je)|0,A=A+Math.imul(L,it)|0,y=y+Math.imul(L,Tt)|0,y=y+Math.imul(Q,it)|0,C=C+Math.imul(Q,Tt)|0;var be=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(ze,me),y=Math.imul(ze,rt),y=y+Math.imul(Ke,me)|0,C=Math.imul(Ke,rt),A=A+Math.imul(Oe,ot)|0,y=y+Math.imul(Oe,pt)|0,y=y+Math.imul(We,ot)|0,C=C+Math.imul(We,pt)|0,A=A+Math.imul(we,St)|0,y=y+Math.imul(we,Rt)|0,y=y+Math.imul(qe,St)|0,C=C+Math.imul(qe,Rt)|0,A=A+Math.imul(ke,De)|0,y=y+Math.imul(ke,He)|0,y=y+Math.imul(tt,De)|0,C=C+Math.imul(tt,He)|0,A=A+Math.imul(ce,nt)|0,y=y+Math.imul(ce,It)|0,y=y+Math.imul(pe,nt)|0,C=C+Math.imul(pe,It)|0,A=A+Math.imul(G,bt)|0,y=y+Math.imul(G,Je)|0,y=y+Math.imul(z,bt)|0,C=C+Math.imul(z,Je)|0,A=A+Math.imul(J,it)|0,y=y+Math.imul(J,Tt)|0,y=y+Math.imul(Z,it)|0,C=C+Math.imul(Z,Tt)|0,A=A+Math.imul(L,ee)|0,y=y+Math.imul(L,te)|0,y=y+Math.imul(Q,ee)|0,C=C+Math.imul(Q,te)|0;var Ee=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,A=Math.imul(Y,me),y=Math.imul(Y,rt),y=y+Math.imul(V,me)|0,C=Math.imul(V,rt),A=A+Math.imul(ze,ot)|0,y=y+Math.imul(ze,pt)|0,y=y+Math.imul(Ke,ot)|0,C=C+Math.imul(Ke,pt)|0,A=A+Math.imul(Oe,St)|0,y=y+Math.imul(Oe,Rt)|0,y=y+Math.imul(We,St)|0,C=C+Math.imul(We,Rt)|0,A=A+Math.imul(we,De)|0,y=y+Math.imul(we,He)|0,y=y+Math.imul(qe,De)|0,C=C+Math.imul(qe,He)|0,A=A+Math.imul(ke,nt)|0,y=y+Math.imul(ke,It)|0,y=y+Math.imul(tt,nt)|0,C=C+Math.imul(tt,It)|0,A=A+Math.imul(ce,bt)|0,y=y+Math.imul(ce,Je)|0,y=y+Math.imul(pe,bt)|0,C=C+Math.imul(pe,Je)|0,A=A+Math.imul(G,it)|0,y=y+Math.imul(G,Tt)|0,y=y+Math.imul(z,it)|0,C=C+Math.imul(z,Tt)|0,A=A+Math.imul(J,ee)|0,y=y+Math.imul(J,te)|0,y=y+Math.imul(Z,ee)|0,C=C+Math.imul(Z,te)|0,A=A+Math.imul(L,ie)|0,y=y+Math.imul(L,fe)|0,y=y+Math.imul(Q,ie)|0,C=C+Math.imul(Q,fe)|0;var Fe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,A=Math.imul(ne,me),y=Math.imul(ne,rt),y=y+Math.imul(le,me)|0,C=Math.imul(le,rt),A=A+Math.imul(Y,ot)|0,y=y+Math.imul(Y,pt)|0,y=y+Math.imul(V,ot)|0,C=C+Math.imul(V,pt)|0,A=A+Math.imul(ze,St)|0,y=y+Math.imul(ze,Rt)|0,y=y+Math.imul(Ke,St)|0,C=C+Math.imul(Ke,Rt)|0,A=A+Math.imul(Oe,De)|0,y=y+Math.imul(Oe,He)|0,y=y+Math.imul(We,De)|0,C=C+Math.imul(We,He)|0,A=A+Math.imul(we,nt)|0,y=y+Math.imul(we,It)|0,y=y+Math.imul(qe,nt)|0,C=C+Math.imul(qe,It)|0,A=A+Math.imul(ke,bt)|0,y=y+Math.imul(ke,Je)|0,y=y+Math.imul(tt,bt)|0,C=C+Math.imul(tt,Je)|0,A=A+Math.imul(ce,it)|0,y=y+Math.imul(ce,Tt)|0,y=y+Math.imul(pe,it)|0,C=C+Math.imul(pe,Tt)|0,A=A+Math.imul(G,ee)|0,y=y+Math.imul(G,te)|0,y=y+Math.imul(z,ee)|0,C=C+Math.imul(z,te)|0,A=A+Math.imul(J,ie)|0,y=y+Math.imul(J,fe)|0,y=y+Math.imul(Z,ie)|0,C=C+Math.imul(Z,fe)|0,A=A+Math.imul(L,ae)|0,y=y+Math.imul(L,ye)|0,y=y+Math.imul(Q,ae)|0,C=C+Math.imul(Q,ye)|0;var Ve=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A=Math.imul(ne,ot),y=Math.imul(ne,pt),y=y+Math.imul(le,ot)|0,C=Math.imul(le,pt),A=A+Math.imul(Y,St)|0,y=y+Math.imul(Y,Rt)|0,y=y+Math.imul(V,St)|0,C=C+Math.imul(V,Rt)|0,A=A+Math.imul(ze,De)|0,y=y+Math.imul(ze,He)|0,y=y+Math.imul(Ke,De)|0,C=C+Math.imul(Ke,He)|0,A=A+Math.imul(Oe,nt)|0,y=y+Math.imul(Oe,It)|0,y=y+Math.imul(We,nt)|0,C=C+Math.imul(We,It)|0,A=A+Math.imul(we,bt)|0,y=y+Math.imul(we,Je)|0,y=y+Math.imul(qe,bt)|0,C=C+Math.imul(qe,Je)|0,A=A+Math.imul(ke,it)|0,y=y+Math.imul(ke,Tt)|0,y=y+Math.imul(tt,it)|0,C=C+Math.imul(tt,Tt)|0,A=A+Math.imul(ce,ee)|0,y=y+Math.imul(ce,te)|0,y=y+Math.imul(pe,ee)|0,C=C+Math.imul(pe,te)|0,A=A+Math.imul(G,ie)|0,y=y+Math.imul(G,fe)|0,y=y+Math.imul(z,ie)|0,C=C+Math.imul(z,fe)|0,A=A+Math.imul(J,ae)|0,y=y+Math.imul(J,ye)|0,y=y+Math.imul(Z,ae)|0,C=C+Math.imul(Z,ye)|0;var Xe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,A=Math.imul(ne,St),y=Math.imul(ne,Rt),y=y+Math.imul(le,St)|0,C=Math.imul(le,Rt),A=A+Math.imul(Y,De)|0,y=y+Math.imul(Y,He)|0,y=y+Math.imul(V,De)|0,C=C+Math.imul(V,He)|0,A=A+Math.imul(ze,nt)|0,y=y+Math.imul(ze,It)|0,y=y+Math.imul(Ke,nt)|0,C=C+Math.imul(Ke,It)|0,A=A+Math.imul(Oe,bt)|0,y=y+Math.imul(Oe,Je)|0,y=y+Math.imul(We,bt)|0,C=C+Math.imul(We,Je)|0,A=A+Math.imul(we,it)|0,y=y+Math.imul(we,Tt)|0,y=y+Math.imul(qe,it)|0,C=C+Math.imul(qe,Tt)|0,A=A+Math.imul(ke,ee)|0,y=y+Math.imul(ke,te)|0,y=y+Math.imul(tt,ee)|0,C=C+Math.imul(tt,te)|0,A=A+Math.imul(ce,ie)|0,y=y+Math.imul(ce,fe)|0,y=y+Math.imul(pe,ie)|0,C=C+Math.imul(pe,fe)|0,A=A+Math.imul(G,ae)|0,y=y+Math.imul(G,ye)|0,y=y+Math.imul(z,ae)|0,C=C+Math.imul(z,ye)|0;var xe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ne,De),y=Math.imul(ne,He),y=y+Math.imul(le,De)|0,C=Math.imul(le,He),A=A+Math.imul(Y,nt)|0,y=y+Math.imul(Y,It)|0,y=y+Math.imul(V,nt)|0,C=C+Math.imul(V,It)|0,A=A+Math.imul(ze,bt)|0,y=y+Math.imul(ze,Je)|0,y=y+Math.imul(Ke,bt)|0,C=C+Math.imul(Ke,Je)|0,A=A+Math.imul(Oe,it)|0,y=y+Math.imul(Oe,Tt)|0,y=y+Math.imul(We,it)|0,C=C+Math.imul(We,Tt)|0,A=A+Math.imul(we,ee)|0,y=y+Math.imul(we,te)|0,y=y+Math.imul(qe,ee)|0,C=C+Math.imul(qe,te)|0,A=A+Math.imul(ke,ie)|0,y=y+Math.imul(ke,fe)|0,y=y+Math.imul(tt,ie)|0,C=C+Math.imul(tt,fe)|0,A=A+Math.imul(ce,ae)|0,y=y+Math.imul(ce,ye)|0,y=y+Math.imul(pe,ae)|0,C=C+Math.imul(pe,ye)|0;var Pe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,A=Math.imul(ne,nt),y=Math.imul(ne,It),y=y+Math.imul(le,nt)|0,C=Math.imul(le,It),A=A+Math.imul(Y,bt)|0,y=y+Math.imul(Y,Je)|0,y=y+Math.imul(V,bt)|0,C=C+Math.imul(V,Je)|0,A=A+Math.imul(ze,it)|0,y=y+Math.imul(ze,Tt)|0,y=y+Math.imul(Ke,it)|0,C=C+Math.imul(Ke,Tt)|0,A=A+Math.imul(Oe,ee)|0,y=y+Math.imul(Oe,te)|0,y=y+Math.imul(We,ee)|0,C=C+Math.imul(We,te)|0,A=A+Math.imul(we,ie)|0,y=y+Math.imul(we,fe)|0,y=y+Math.imul(qe,ie)|0,C=C+Math.imul(qe,fe)|0,A=A+Math.imul(ke,ae)|0,y=y+Math.imul(ke,ye)|0,y=y+Math.imul(tt,ae)|0,C=C+Math.imul(tt,ye)|0;var je=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(je>>>26)|0,je&=67108863,A=Math.imul(ne,bt),y=Math.imul(ne,Je),y=y+Math.imul(le,bt)|0,C=Math.imul(le,Je),A=A+Math.imul(Y,it)|0,y=y+Math.imul(Y,Tt)|0,y=y+Math.imul(V,it)|0,C=C+Math.imul(V,Tt)|0,A=A+Math.imul(ze,ee)|0,y=y+Math.imul(ze,te)|0,y=y+Math.imul(Ke,ee)|0,C=C+Math.imul(Ke,te)|0,A=A+Math.imul(Oe,ie)|0,y=y+Math.imul(Oe,fe)|0,y=y+Math.imul(We,ie)|0,C=C+Math.imul(We,fe)|0,A=A+Math.imul(we,ae)|0,y=y+Math.imul(we,ye)|0,y=y+Math.imul(qe,ae)|0,C=C+Math.imul(qe,ye)|0;var Ze=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,A=Math.imul(ne,it),y=Math.imul(ne,Tt),y=y+Math.imul(le,it)|0,C=Math.imul(le,Tt),A=A+Math.imul(Y,ee)|0,y=y+Math.imul(Y,te)|0,y=y+Math.imul(V,ee)|0,C=C+Math.imul(V,te)|0,A=A+Math.imul(ze,ie)|0,y=y+Math.imul(ze,fe)|0,y=y+Math.imul(Ke,ie)|0,C=C+Math.imul(Ke,fe)|0,A=A+Math.imul(Oe,ae)|0,y=y+Math.imul(Oe,ye)|0,y=y+Math.imul(We,ae)|0,C=C+Math.imul(We,ye)|0;var dt=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863,A=Math.imul(ne,ee),y=Math.imul(ne,te),y=y+Math.imul(le,ee)|0,C=Math.imul(le,te),A=A+Math.imul(Y,ie)|0,y=y+Math.imul(Y,fe)|0,y=y+Math.imul(V,ie)|0,C=C+Math.imul(V,fe)|0,A=A+Math.imul(ze,ae)|0,y=y+Math.imul(ze,ye)|0,y=y+Math.imul(Ke,ae)|0,C=C+Math.imul(Ke,ye)|0;var ft=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(ft>>>26)|0,ft&=67108863,A=Math.imul(ne,ie),y=Math.imul(ne,fe),y=y+Math.imul(le,ie)|0,C=Math.imul(le,fe),A=A+Math.imul(Y,ae)|0,y=y+Math.imul(Y,ye)|0,y=y+Math.imul(V,ae)|0,C=C+Math.imul(V,ye)|0;var Ue=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,A=Math.imul(ne,ae),y=Math.imul(ne,ye),y=y+Math.imul(le,ae)|0,C=Math.imul(le,ye);var _e=(I+A|0)+((y&8191)<<13)|0;return I=(C+(y>>>13)|0)+(_e>>>26)|0,_e&=67108863,N[0]=Le,N[1]=Re,N[2]=Mt,N[3]=ut,N[4]=Ot,N[5]=Se,N[6]=be,N[7]=Ee,N[8]=Fe,N[9]=Ve,N[10]=Xe,N[11]=xe,N[12]=Pe,N[13]=je,N[14]=Ze,N[15]=dt,N[16]=ft,N[17]=Ue,N[18]=_e,I!==0&&(N[19]=I,p.length++),p};Math.imul||(x=v);function k(O,b,w){w.negative=b.negative^O.negative,w.length=O.length+b.length;for(var p=0,g=0,S=0;S<w.length-1;S++){var N=g;g=0;for(var I=p&67108863,A=Math.min(S,b.length-1),y=Math.max(0,S-O.length+1);y<=A;y++){var C=S-y,$=O.words[C]|0,L=b.words[y]|0,Q=$*L,U=Q&67108863;N=N+(Q/67108864|0)|0,U=U+I|0,I=U&67108863,N=N+(U>>>26)|0,g+=N>>>26,N&=67108863}w.words[S]=I,p=N,N=g}return p!==0?w.words[S]=p:w.length--,w.strip()}function E(O,b,w){var p=new P;return p.mulp(O,b,w)}i.prototype.mulTo=function(b,w){var p,g=this.length+b.length;return this.length===10&&b.length===10?p=x(this,b,w):g<63?p=v(this,b,w):g<1024?p=k(this,b,w):p=E(this,b,w),p};function P(O,b){this.x=O,this.y=b}P.prototype.makeRBT=function(b){for(var w=new Array(b),p=i.prototype._countBits(b)-1,g=0;g<b;g++)w[g]=this.revBin(g,p,b);return w},P.prototype.revBin=function(b,w,p){if(b===0||b===p-1)return b;for(var g=0,S=0;S<w;S++)g|=(b&1)<<w-S-1,b>>=1;return g},P.prototype.permute=function(b,w,p,g,S,N){for(var I=0;I<N;I++)g[I]=w[b[I]],S[I]=p[b[I]]},P.prototype.transform=function(b,w,p,g,S,N){this.permute(N,b,w,p,g,S);for(var I=1;I<S;I<<=1)for(var A=I<<1,y=Math.cos(2*Math.PI/A),C=Math.sin(2*Math.PI/A),$=0;$<S;$+=A)for(var L=y,Q=C,U=0;U<I;U++){var J=p[$+U],Z=g[$+U],re=p[$+U+I],G=g[$+U+I],z=L*re-Q*G;G=L*G+Q*re,re=z,p[$+U]=J+re,g[$+U]=Z+G,p[$+U+I]=J-re,g[$+U+I]=Z-G,U!==A&&(z=y*L-C*Q,Q=y*Q+C*L,L=z)}},P.prototype.guessLen13b=function(b,w){var p=Math.max(w,b)|1,g=p&1,S=0;for(p=p/2|0;p;p=p>>>1)S++;return 1<<S+1+g},P.prototype.conjugate=function(b,w,p){if(!(p<=1))for(var g=0;g<p/2;g++){var S=b[g];b[g]=b[p-g-1],b[p-g-1]=S,S=w[g],w[g]=-w[p-g-1],w[p-g-1]=-S}},P.prototype.normalize13b=function(b,w){for(var p=0,g=0;g<w/2;g++){var S=Math.round(b[2*g+1]/w)*8192+Math.round(b[2*g]/w)+p;b[g]=S&67108863,S<67108864?p=0:p=S/67108864|0}return b},P.prototype.convert13b=function(b,w,p,g){for(var S=0,N=0;N<w;N++)S=S+(b[N]|0),p[2*N]=S&8191,S=S>>>13,p[2*N+1]=S&8191,S=S>>>13;for(N=2*w;N<g;++N)p[N]=0;n(S===0),n((S&-8192)===0)},P.prototype.stub=function(b){for(var w=new Array(b),p=0;p<b;p++)w[p]=0;return w},P.prototype.mulp=function(b,w,p){var g=2*this.guessLen13b(b.length,w.length),S=this.makeRBT(g),N=this.stub(g),I=new Array(g),A=new Array(g),y=new Array(g),C=new Array(g),$=new Array(g),L=new Array(g),Q=p.words;Q.length=g,this.convert13b(b.words,b.length,I,g),this.convert13b(w.words,w.length,C,g),this.transform(I,N,A,y,g,S),this.transform(C,N,$,L,g,S);for(var U=0;U<g;U++){var J=A[U]*$[U]-y[U]*L[U];y[U]=A[U]*L[U]+y[U]*$[U],A[U]=J}return this.conjugate(A,y,g),this.transform(A,y,Q,N,g,S),this.conjugate(Q,N,g),this.normalize13b(Q,g),p.negative=b.negative^w.negative,p.length=b.length+w.length,p.strip()},i.prototype.mul=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),this.mulTo(b,w)},i.prototype.mulf=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),E(this,b,w)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var w=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*b,S=(g&67108863)+(w&67108863);w>>=26,w+=g/67108864|0,w+=S>>>26,this.words[p]=S&67108863}return w!==0&&(this.words[p]=w,this.length++),this.length=b===0?1:this.length,this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var w=m(b);if(w.length===0)return new i(1);for(var p=this,g=0;g<w.length&&w[g]===0;g++,p=p.sqr());if(++g<w.length)for(var S=p.sqr();g<w.length;g++,S=S.sqr())w[g]!==0&&(p=p.mul(S));return p},i.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=67108863>>>26-w<<26-w,S;if(w!==0){var N=0;for(S=0;S<this.length;S++){var I=this.words[S]&g,A=(this.words[S]|0)-I<<w;this.words[S]=A|N,N=I>>>26-w}N&&(this.words[S]=N,this.length++)}if(p!==0){for(S=this.length-1;S>=0;S--)this.words[S+p]=this.words[S];for(S=0;S<p;S++)this.words[S]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,w,p){n(typeof b=="number"&&b>=0);var g;w?g=(w-w%26)/26:g=0;var S=b%26,N=Math.min((b-S)/26,this.length),I=67108863^67108863>>>S<<S,A=p;if(g-=N,g=Math.max(0,g),A){for(var y=0;y<N;y++)A.words[y]=this.words[y];A.length=N}if(N!==0)if(this.length>N)for(this.length-=N,y=0;y<this.length;y++)this.words[y]=this.words[y+N];else this.words[0]=0,this.length=1;var C=0;for(y=this.length-1;y>=0&&(C!==0||y>=g);y--){var $=this.words[y]|0;this.words[y]=C<<26-S|$>>>S,C=$&I}return A&&C!==0&&(A.words[A.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(b,w,p){return n(this.negative===0),this.iushrn(b,w,p)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return!1;var S=this.words[p];return!!(S&g)},i.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(w!==0&&p++,this.length=Math.min(p,this.length),w!==0){var g=67108863^67108863>>>w<<w;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,w,p){var g=b.length+p,S;this._expand(g);var N,I=0;for(S=0;S<b.length;S++){N=(this.words[S+p]|0)+I;var A=(b.words[S]|0)*w;N-=A&67108863,I=(N>>26)-(A/67108864|0),this.words[S+p]=N&67108863}for(;S<this.length-p;S++)N=(this.words[S+p]|0)+I,I=N>>26,this.words[S+p]=N&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,S=0;S<this.length;S++)N=-(this.words[S]|0)+I,I=N>>26,this.words[S]=N&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(b,w){var p=this.length-b.length,g=this.clone(),S=b,N=S.words[S.length-1]|0,I=this._countBits(N);p=26-I,p!==0&&(S=S.ushln(p),g.iushln(p),N=S.words[S.length-1]|0);var A=g.length-S.length,y;if(w!=="mod"){y=new i(null),y.length=A+1,y.words=new Array(y.length);for(var C=0;C<y.length;C++)y.words[C]=0}var $=g.clone()._ishlnsubmul(S,1,A);$.negative===0&&(g=$,y&&(y.words[A]=1));for(var L=A-1;L>=0;L--){var Q=(g.words[S.length+L]|0)*67108864+(g.words[S.length+L-1]|0);for(Q=Math.min(Q/N|0,67108863),g._ishlnsubmul(S,Q,L);g.negative!==0;)Q--,g.negative=0,g._ishlnsubmul(S,1,L),g.isZero()||(g.negative^=1);y&&(y.words[L]=Q)}return y&&y.strip(),g.strip(),w!=="div"&&p!==0&&g.iushrn(p),{div:y||null,mod:g}},i.prototype.divmod=function(b,w,p){if(n(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,S,N;return this.negative!==0&&b.negative===0?(N=this.neg().divmod(b,w),w!=="mod"&&(g=N.div.neg()),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.iadd(b)),{div:g,mod:S}):this.negative===0&&b.negative!==0?(N=this.divmod(b.neg(),w),w!=="mod"&&(g=N.div.neg()),{div:g,mod:N.mod}):this.negative&b.negative?(N=this.neg().divmod(b.neg(),w),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.isub(b)),{div:N.div,mod:S}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?w==="div"?{div:this.divn(b.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modn(b.words[0]))}:this._wordDiv(b,w)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var w=this.divmod(b);if(w.mod.isZero())return w.div;var p=w.div.negative!==0?w.mod.isub(b):w.mod,g=b.ushrn(1),S=b.andln(1),N=p.cmp(g);return N<0||S===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modn=function(b){n(b<=67108863);for(var w=(1<<26)%b,p=0,g=this.length-1;g>=0;g--)p=(w*p+(this.words[g]|0))%b;return p},i.prototype.idivn=function(b){n(b<=67108863);for(var w=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+w*67108864;this.words[p]=g/b|0,w=g%b}return this.strip()},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=new i(0),I=new i(1),A=0;w.isEven()&&p.isEven();)w.iushrn(1),p.iushrn(1),++A;for(var y=p.clone(),C=w.clone();!w.isZero();){for(var $=0,L=1;!(w.words[0]&L)&&$<26;++$,L<<=1);if($>0)for(w.iushrn($);$-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(y),S.isub(C)),g.iushrn(1),S.iushrn(1);for(var Q=0,U=1;!(p.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd(y),I.isub(C)),N.iushrn(1),I.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(N),S.isub(I)):(p.isub(w),N.isub(g),I.isub(S))}return{a:N,b:I,gcd:p.iushln(A)}},i.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=p.clone();w.cmpn(1)>0&&p.cmpn(1)>0;){for(var I=0,A=1;!(w.words[0]&A)&&I<26;++I,A<<=1);if(I>0)for(w.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);for(var y=0,C=1;!(p.words[0]&C)&&y<26;++y,C<<=1);if(y>0)for(p.iushrn(y);y-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(S)):(p.isub(w),S.isub(g))}var $;return w.cmpn(1)===0?$=g:$=S,$.cmpn(0)<0&&$.iadd(b),$},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var w=this.clone(),p=b.clone();w.negative=0,p.negative=0;for(var g=0;w.isEven()&&p.isEven();g++)w.iushrn(1),p.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;p.isEven();)p.iushrn(1);var S=w.cmp(p);if(S<0){var N=w;w=p,p=N}else if(S===0||p.cmpn(1)===0)break;w.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){n(typeof b=="number");var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var S=g,N=p;S!==0&&N<this.length;N++){var I=this.words[N]|0;I+=S,S=I>>>26,I&=67108863,this.words[N]=I}return S!==0&&(this.words[N]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var w=b<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var p;if(this.length>1)p=1;else{w&&(b=-b),n(b<=67108863,"Number is too big");var g=this.words[0]|0;p=g===b?0:g<b?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var w=this.ucmp(b);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var w=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,S=b.words[p]|0;if(g!==S){g<S?w=-1:g>S&&(w=1);break}}return w},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new R(b)},i.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var _={k256:null,p224:null,p192:null,p25519:null};function M(O,b){this.name=O,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},M.prototype.ireduce=function(b){var w=b,p;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),p=w.bitLength();while(p>this.n);var g=p<this.n?-1:w.ucmp(this.p);return g===0?(w.words[0]=0,w.length=1):g>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},M.prototype.split=function(b,w){b.iushrn(this.n,0,w)},M.prototype.imulK=function(b){return b.imul(this.k)};function B(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(B,M),B.prototype.split=function(b,w){for(var p=4194303,g=Math.min(b.length,9),S=0;S<g;S++)w.words[S]=b.words[S];if(w.length=g,b.length<=9){b.words[0]=0,b.length=1;return}var N=b.words[9];for(w.words[w.length++]=N&p,S=10;S<b.length;S++){var I=b.words[S]|0;b.words[S-10]=(I&p)<<4|N>>>22,N=I}N>>>=22,b.words[S-10]=N,N===0&&b.length>10?b.length-=10:b.length-=9},B.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var w=0,p=0;p<b.length;p++){var g=b.words[p]|0;w+=g*977,b.words[p]=w&67108863,w=g*64+(w/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function D(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,M);function T(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(T,M),T.prototype.imulK=function(b){for(var w=0,p=0;p<b.length;p++){var g=(b.words[p]|0)*19+w,S=g&67108863;g>>>=26,b.words[p]=S,w=g}return w!==0&&(b.words[b.length++]=w),b},i._prime=function(b){if(_[b])return _[b];var w;if(b==="k256")w=new B;else if(b==="p224")w=new D;else if(b==="p192")w=new j;else if(b==="p25519")w=new T;else throw new Error("Unknown prime "+b);return _[b]=w,w};function R(O){if(typeof O=="string"){var b=i._prime(O);this.m=b.p,this.prime=b}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}R.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},R.prototype._verify2=function(b,w){n((b.negative|w.negative)===0,"red works only with positives"),n(b.red&&b.red===w.red,"red works only with red numbers")},R.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},R.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},R.prototype.add=function(b,w){this._verify2(b,w);var p=b.add(w);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},R.prototype.iadd=function(b,w){this._verify2(b,w);var p=b.iadd(w);return p.cmp(this.m)>=0&&p.isub(this.m),p},R.prototype.sub=function(b,w){this._verify2(b,w);var p=b.sub(w);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},R.prototype.isub=function(b,w){this._verify2(b,w);var p=b.isub(w);return p.cmpn(0)<0&&p.iadd(this.m),p},R.prototype.shl=function(b,w){return this._verify1(b),this.imod(b.ushln(w))},R.prototype.imul=function(b,w){return this._verify2(b,w),this.imod(b.imul(w))},R.prototype.mul=function(b,w){return this._verify2(b,w),this.imod(b.mul(w))},R.prototype.isqr=function(b){return this.imul(b,b.clone())},R.prototype.sqr=function(b){return this.mul(b,b)},R.prototype.sqrt=function(b){if(b.isZero())return b.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(b,p)}for(var g=this.m.subn(1),S=0;!g.isZero()&&g.andln(1)===0;)S++,g.iushrn(1);n(!g.isZero());var N=new i(1).toRed(this),I=N.redNeg(),A=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,A).cmp(I)!==0;)y.redIAdd(I);for(var C=this.pow(y,g),$=this.pow(b,g.addn(1).iushrn(1)),L=this.pow(b,g),Q=S;L.cmp(N)!==0;){for(var U=L,J=0;U.cmp(N)!==0;J++)U=U.redSqr();n(J<Q);var Z=this.pow(C,new i(1).iushln(Q-J-1));$=$.redMul(Z),C=Z.redSqr(),L=L.redMul(C),Q=J}return $},R.prototype.invm=function(b){var w=b._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(b,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return b.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=b;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],b);var N=g[0],I=0,A=0,y=w.bitLength()%26;for(y===0&&(y=26),S=w.length-1;S>=0;S--){for(var C=w.words[S],$=y-1;$>=0;$--){var L=C>>$&1;if(N!==g[0]&&(N=this.sqr(N)),L===0&&I===0){A=0;continue}I<<=1,I|=L,A++,!(A!==p&&(S!==0||$!==0))&&(N=this.mul(N,g[I]),A=0,I=0)}y=26}return N},R.prototype.convertTo=function(b){var w=b.umod(this.m);return w===b?w.clone():w},R.prototype.convertFrom=function(b){var w=b.clone();return w.red=null,w},i.mont=function(b){return new H(b)};function H(O){R.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(H,R),H.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},H.prototype.convertFrom=function(b){var w=this.imod(b.mul(this.rinv));return w.red=null,w},H.prototype.imul=function(b,w){if(b.isZero()||w.isZero())return b.words[0]=0,b.length=1,b;var p=b.imul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},H.prototype.mul=function(b,w){if(b.isZero()||w.isZero())return new i(0)._forceRed(this);var p=b.mul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},H.prototype.invm=function(b){var w=this.imod(b._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,Rs)})(QD);var Wh=QD.exports,EI={};(function(t){var e=t;function r(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var o=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)o[c]=i[c]|0;return o}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)o.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var l=i.charCodeAt(c),u=l>>8,f=l&255;u?o.push(u,f):o.push(f)}return o}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var a="",o=0;o<i.length;o++)a+=n(i[o].toString(16));return a}e.toHex=s,e.encode=function(a,o){return o==="hex"?s(a):a}})(EI);(function(t){var e=t,r=Wh,n=sm,s=EI;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(u,f,h){var m=new Array(Math.max(u.bitLength(),h)+1),v;for(v=0;v<m.length;v+=1)m[v]=0;var x=1<<f+1,k=u.clone();for(v=0;v<m.length;v++){var E,P=k.andln(x-1);k.isOdd()?(P>(x>>1)-1?E=(x>>1)-P:E=P,k.isubn(E)):E=0,m[v]=E,k.iushrn(1)}return m}e.getNAF=i;function a(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var m=0,v=0,x;u.cmpn(-m)>0||f.cmpn(-v)>0;){var k=u.andln(3)+m&3,E=f.andln(3)+v&3;k===3&&(k=-1),E===3&&(E=-1);var P;k&1?(x=u.andln(7)+m&7,(x===3||x===5)&&E===2?P=-k:P=k):P=0,h[0].push(P);var _;E&1?(x=f.andln(7)+v&7,(x===3||x===5)&&k===2?_=-E:_=E):_=0,h[1].push(_),2*m===P+1&&(m=1-m),2*v===_+1&&(v=1-v),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=a;function o(u,f,h){var m="_"+f;u.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l})(Ec);var YD={exports:{}},cC;YD.exports=function(e){return cC||(cC=new vp(null)),cC.generate(e)};function vp(t){this.rand=t}YD.exports.Rand=vp;vp.prototype.generate=function(e){return this._rand(e)};vp.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?vp.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?vp.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(vp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var pJ=B1;if(typeof pJ.randomBytes!="function")throw new Error("Not supported");vp.prototype._rand=function(e){return pJ.randomBytes(e)}}catch{}var _I=YD.exports,GD={},Cm=Wh,S5=Ec,MS=S5.getNAF,Xdt=S5.getJSF,OS=S5.assert;function bm(t,e){this.type=t,this.p=new Cm(e.p,16),this.red=e.prime?Cm.red(e.prime):Cm.mont(this.p),this.zero=new Cm(0).toRed(this.red),this.one=new Cm(1).toRed(this.red),this.two=new Cm(2).toRed(this.red),this.n=e.n&&new Cm(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var CI=bm;bm.prototype.point=function(){throw new Error("Not implemented")};bm.prototype.validate=function(){throw new Error("Not implemented")};bm.prototype._fixedNafMul=function(e,r){OS(e.precomputed);var n=e._getDoubles(),s=MS(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};bm.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=MS(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];OS(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};bm.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var v=u-1,x=u;if(a[v]!==1||a[x]!==1){c[v]=MS(n[v],a[v],this._bitLength),c[x]=MS(n[x],a[x],this._bitLength),l=Math.max(c[v].length,l),l=Math.max(c[x].length,l);continue}var k=[r[v],null,null,r[x]];r[v].y.cmp(r[x].y)===0?(k[1]=r[v].add(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg())):r[v].y.cmp(r[x].y.redNeg())===0?(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].add(r[x].neg())):(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],P=Xdt(n[v],n[x]);for(l=Math.max(P[0].length,l),c[v]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=P[0][f]|0,M=P[1][f]|0;c[v][f]=E[(_+1)*3+(M+1)],c[x][f]=0,o[v]=k}}var B=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,B=B.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?B=B.mixedAdd(h):B=B.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?B:B.toP()};function Cl(t,e){this.curve=t,this.type=e,this.precomputed=null}bm.BasePoint=Cl;Cl.prototype.eq=function(){throw new Error("Not implemented")};Cl.prototype.validate=function(){return this.curve.validate(this)};bm.prototype.decodePoint=function(e,r){e=S5.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?OS(e[e.length-1]%2===0):e[0]===7&&OS(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Cl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Cl.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Cl.prototype.encode=function(e,r){return S5.encode(this._encode(r),e)};Cl.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Cl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Cl.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};Cl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};Cl.prototype._getBeta=function(){return null};Cl.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Zdt=Ec,Ps=Wh,eU=D1,N2=CI,Jdt=Zdt.assert;function Tl(t){N2.call(this,"short",t),this.a=new Ps(t.a,16).toRed(this.red),this.b=new Ps(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}eU(Tl,N2);var Qdt=Tl;Tl.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ps(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new Ps(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Jdt(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ps(o.a,16),b:new Ps(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Tl.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ps.mont(e),n=new Ps(2).toRed(r).redInvm(),s=n.redNeg(),i=new Ps(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};Tl.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new Ps(1),a=new Ps(0),o=new Ps(0),c=new Ps(1),l,u,f,h,m,v,x,k=0,E,P;n.cmpn(0)!==0;){var _=s.div(n);E=s.sub(_.mul(n)),P=o.sub(_.mul(i));var M=c.sub(_.mul(a));if(!f&&E.cmp(r)<0)l=x.neg(),u=i,f=E.neg(),h=P;else if(f&&++k===2)break;x=E,s=n,n=E,o=i,i=P,c=a,a=M}m=E.neg(),v=P;var B=f.sqr().add(h.sqr()),D=m.sqr().add(v.sqr());return D.cmp(B)>=0&&(m=l,v=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:f,b:h},{a:m,b:v}]};Tl.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Tl.prototype.pointFromX=function(e,r){e=new Ps(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};Tl.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Tl.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ni(t,e,r,n){N2.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ps(e,16),this.y=new Ps(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}eU(Ni,N2.BasePoint);Tl.prototype.point=function(e,r,n){return new Ni(this,e,r,n)};Tl.prototype.pointFromJSON=function(e,r){return Ni.fromJSON(this,e,r)};Ni.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ni.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ni.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ni.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ni.prototype.isInfinity=function(){return this.inf};Ni.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ni.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ni.prototype.getX=function(){return this.x.fromRed()};Ni.prototype.getY=function(){return this.y.fromRed()};Ni.prototype.mul=function(e){return e=new Ps(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ni.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ni.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ni.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ni.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ni.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function sa(t,e,r,n){N2.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ps(0)):(this.x=new Ps(e,16),this.y=new Ps(r,16),this.z=new Ps(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eU(sa,N2.BasePoint);Tl.prototype.jpoint=function(e,r,n){return new sa(this,e,r,n)};sa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};sa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};sa.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),v=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};sa.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),v=this.z.redMul(o);return this.curve.jpoint(h,m,v)};sa.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=v.redSqr().redISub(x.redAdd(x)),E=x.redISub(k),P=v.redMul(E);P=P.redIAdd(P).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=P}return this.curve.jpoint(a,u.redMul(i),c)};sa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};sa.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),v=this.x.redAdd(h).redSqr().redISub(f).redISub(m);v=v.redIAdd(v);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),E=m.redIAdd(m);E=E.redIAdd(E),E=E.redIAdd(E),e=k.redISub(v).redISub(v),r=x.redMul(v.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};sa.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=v.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var E=h.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=v.redMul(x.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};sa.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,v,x)};sa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,v)};sa.prototype.mul=function(e,r){return e=new Ps(e,r),this.curve._wnafMul(this,e)};sa.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};sa.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};sa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};sa.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var fy=Wh,Wme=D1,TI=CI,Ydt=Ec;function E2(t){TI.call(this,"mont",t),this.a=new fy(t.a,16).toRed(this.red),this.b=new fy(t.b,16).toRed(this.red),this.i4=new fy(4).toRed(this.red).redInvm(),this.two=new fy(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Wme(E2,TI);var Gdt=E2;E2.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function Si(t,e,r){TI.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fy(e,16),this.z=new fy(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Wme(Si,TI.BasePoint);E2.prototype.decodePoint=function(e,r){return this.point(Ydt.toArray(e,r),1)};E2.prototype.point=function(e,r){return new Si(this,e,r)};E2.prototype.pointFromJSON=function(e){return Si.fromJSON(this,e)};Si.prototype.precompute=function(){};Si.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Si.fromJSON=function(e,r){return new Si(e,r[0],r[1]||e.one)};Si.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Si.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Si.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),a=r.redMul(s),o=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)};Si.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Si.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),c=i.redMul(s),l=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(l,u)};Si.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};Si.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Si.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Si.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Si.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Si.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var eft=Ec,uh=Wh,qme=D1,jI=CI,tft=eft.assert;function pf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,jI.call(this,"edwards",t),this.a=new uh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new uh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new uh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),tft(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}qme(pf,jI);var rft=pf;pf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};pf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};pf.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};pf.prototype.pointFromX=function(e,r){e=new uh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=s.redMul(i.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};pf.prototype.pointFromY=function(e,r){e=new uh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=s.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};pf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function Rn(t,e,r,n,s){jI.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new uh(e,16),this.y=new uh(r,16),this.z=n?new uh(n,16):this.curve.one,this.t=s&&new uh(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}qme(Rn,jI.BasePoint);pf.prototype.pointFromJSON=function(e){return Rn.fromJSON(this,e)};pf.prototype.point=function(e,r,n,s){return new Rn(this,e,r,n,s)};Rn.fromJSON=function(e,r){return new Rn(e,r[0],r[1],r[2])};Rn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Rn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Rn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=s.redAdd(r),o=a.redSub(n),c=s.redSub(r),l=i.redMul(o),u=a.redMul(c),f=i.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,f)};Rn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,a,o,c,l;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(o.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),s=e.redSub(r).redISub(n).redMul(l),i=u.redMul(o.redSub(n)),a=u.redMul(l))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=o.redSub(c).redSub(c),s=this.curve._mulC(e.redISub(o)).redMul(l),i=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(l);return this.curve.point(s,i,a)};Rn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Rn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=i.redSub(s),c=i.redAdd(s),l=n.redAdd(r),u=a.redMul(o),f=c.redMul(l),h=a.redMul(l),m=o.redMul(c);return this.curve.point(u,f,m,h)};Rn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(i),o=n.redSub(a),c=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),u=r.redMul(o).redMul(l),f,h;return this.curve.twisted?(f=r.redMul(c).redMul(i.redSub(this.curve._mulA(s))),h=o.redMul(c)):(f=r.redMul(c).redMul(i.redSub(s)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,f,h)};Rn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Rn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Rn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Rn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Rn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Rn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Rn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Rn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Rn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Rn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Rn.prototype.toP=Rn.prototype.normalize;Rn.prototype.mixedAdd=Rn.prototype.add;(function(t){var e=t;e.base=CI,e.short=Qdt,e.mont=Gdt,e.edwards=rft})(GD);var $I={},lC,mJ;function nft(){return mJ||(mJ=1,lC={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),lC}(function(t){var e=t,r=R1,n=GD,s=Ec,i=s.assert;function a(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function o(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=nft()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})($I);var sft=R1,Gg=EI,Kme=sm;function Gp(t){if(!(this instanceof Gp))return new Gp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Gg.toArray(t.entropy,t.entropyEnc||"hex"),r=Gg.toArray(t.nonce,t.nonceEnc||"hex"),n=Gg.toArray(t.pers,t.persEnc||"hex");Kme(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Xme=Gp;Gp.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Gp.prototype._hmac=function(){return new sft.hmac(this.hash,this.K)};Gp.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Gp.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=Gg.toArray(e,r),n=Gg.toArray(n,s),Kme(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Gp.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=Gg.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,Gg.encode(a,r)};var ift=Wh,aft=Ec,iO=aft.assert;function Fa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var oft=Fa;Fa.fromPublic=function(e,r,n){return r instanceof Fa?r:new Fa(e,{pub:r,pubEnc:n})};Fa.fromPrivate=function(e,r,n){return r instanceof Fa?r:new Fa(e,{priv:r,privEnc:n})};Fa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Fa.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Fa.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Fa.prototype._importPrivate=function(e,r){this.priv=new ift(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Fa.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?iO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&iO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Fa.prototype.derive=function(e){return e.validate()||iO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Fa.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Fa.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Fa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var FS=Wh,tU=Ec,cft=tU.assert;function MI(t,e){if(t instanceof MI)return t;this._importDER(t,e)||(cft(t.r&&t.s,"Signature without r or s"),this.r=new FS(t.r,16),this.s=new FS(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var lft=MI;function uft(){this.place=0}function uC(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function gJ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}MI.prototype._importDER=function(e,r){e=tU.toArray(e,r);var n=new uft;if(e[n.place++]!==48)return!1;var s=uC(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=uC(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=uC(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new FS(a),this.s=new FS(c),this.recoveryParam=null,!0};function dC(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}MI.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=gJ(r),n=gJ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];dC(s,r.length),s=s.concat(r),s.push(2),dC(s,n.length);var i=s.concat(n),a=[48];return dC(a,i.length),a=a.concat(i),tU.encode(a,e)};var e1=Wh,Zme=Xme,dft=Ec,fC=$I,fft=_I,Jme=dft.assert,rU=oft,OI=lft;function kl(t){if(!(this instanceof kl))return new kl(t);typeof t=="string"&&(Jme(Object.prototype.hasOwnProperty.call(fC,t),"Unknown curve "+t),t=fC[t]),t instanceof fC.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hft=kl;kl.prototype.keyPair=function(e){return new rU(this,e)};kl.prototype.keyFromPrivate=function(e,r){return rU.fromPrivate(this,e,r)};kl.prototype.keyFromPublic=function(e,r){return rU.fromPublic(this,e,r)};kl.prototype.genKeyPair=function(e){e||(e={});for(var r=new Zme({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fft(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new e1(2));;){var i=new e1(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};kl.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};kl.prototype.sign=function(e,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new e1(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=e.toArray("be",i),c=new Zme({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),l=this.n.sub(new e1(1)),u=0;;u++){var f=s.k?s.k(u):new e1(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var m=h.getX(),v=m.umod(this.n);if(v.cmpn(0)!==0){var x=f.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var k=(h.getY().isOdd()?1:0)|(m.cmp(v)!==0?2:0);return s.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),k^=1),new OI({r:v,s:x,recoveryParam:k})}}}}}};kl.prototype.verify=function(e,r,n,s){e=this._truncateToN(new e1(e,16)),n=this.keyFromPublic(n,s),r=new OI(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),l=o.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};kl.prototype.recoverPubKey=function(t,e,r,n){Jme((3&r)===r,"The recovery param is more than two bits"),e=new OI(e,n);var s=this.n,i=new e1(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};kl.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new OI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var P5=Ec,Qme=P5.assert,bJ=P5.parseBytes,_2=P5.cachedProperty;function vi(t,e){this.eddsa=t,this._secret=bJ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=bJ(e.pub)}vi.fromPublic=function(e,r){return r instanceof vi?r:new vi(e,{pub:r})};vi.fromSecret=function(e,r){return r instanceof vi?r:new vi(e,{secret:r})};vi.prototype.secret=function(){return this._secret};_2(vi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});_2(vi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});_2(vi,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});_2(vi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});_2(vi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});_2(vi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});vi.prototype.sign=function(e){return Qme(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};vi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};vi.prototype.getSecret=function(e){return Qme(this._secret,"KeyPair is public only"),P5.encode(this.secret(),e)};vi.prototype.getPublic=function(e){return P5.encode(this.pubBytes(),e)};var pft=vi,mft=Wh,FI=Ec,yJ=FI.assert,BI=FI.cachedProperty,gft=FI.parseBytes;function Y1(t,e){this.eddsa=t,typeof e!="object"&&(e=gft(e)),Array.isArray(e)&&(yJ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),yJ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof mft&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}BI(Y1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});BI(Y1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});BI(Y1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});BI(Y1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Y1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Y1.prototype.toHex=function(){return FI.encode(this.toBytes(),"hex").toUpperCase()};var bft=Y1,yft=R1,vft=$I,Lx=Ec,xft=Lx.assert,Yme=Lx.parseBytes,Gme=pft,vJ=bft;function zo(t){if(xft(t==="ed25519","only tested with ed25519 so far"),!(this instanceof zo))return new zo(t);t=vft[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=yft.sha512}var wft=zo;zo.prototype.sign=function(e,r){e=Yme(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=s.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};zo.prototype.verify=function(e,r,n){if(e=Yme(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(s.pub().mul(i));return o.eq(a)};zo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Lx.intFromLE(e.digest()).umod(this.curve.n)};zo.prototype.keyFromPublic=function(e){return Gme.fromPublic(this,e)};zo.prototype.keyFromSecret=function(e){return Gme.fromSecret(this,e)};zo.prototype.makeSignature=function(e){return e instanceof vJ?e:new vJ(this,e)};zo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};zo.prototype.decodePoint=function(e){e=Lx.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=Lx.intFromLE(n);return this.curve.pointFromY(i,s)};zo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};zo.prototype.decodeInt=function(e){return Lx.intFromLE(e)};zo.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Kdt.version,e.utils=Ec,e.rand=_I,e.curve=GD,e.curves=$I,e.ec=hft,e.eddsa=wft})(Hme);var Aft={};const Sft=":";function _7(t){const[e,r]=t.split(Sft);return{namespace:e,reference:r}}function ege(t,e){return t.includes(":")?[t]:e.chains||[]}var Pft=Object.defineProperty,xJ=Object.getOwnPropertySymbols,kft=Object.prototype.hasOwnProperty,Ift=Object.prototype.propertyIsEnumerable,wJ=(t,e,r)=>e in t?Pft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AJ=(t,e)=>{for(var r in e||(e={}))kft.call(e,r)&&wJ(t,r,e[r]);if(xJ)for(var r of xJ(e))Ift.call(e,r)&&wJ(t,r,e[r]);return t};const Nft="ReactNative",dc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Eft="js";function BS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function C2(){return!xc()&&!!X1()&&navigator.product===Nft}function k5(){return!BS()&&!!X1()&&!!xc()}function I5(){return C2()?dc.reactNative:BS()?dc.node:k5()?dc.browser:dc.unknown}function _ft(){var t;try{return C2()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cft(t,e){let r=Bh.parse(t);return r=AJ(AJ({},r),e),t=Bh.stringify(r),t}function tge(){return aI()||{name:"",description:"",url:"",icons:[""]}}function Tft(){if(I5()===dc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=ND();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function jft(){var t;const e=I5();return e===dc.browser?[e,((t=iI())==null?void 0:t.host)||"unknown"].join(":"):e}function rge(t,e,r){const n=Tft(),s=jft();return[[t,e].join("-"),[Eft,r].join("-"),n,s].join("/")}function $ft({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const c=r.split("?"),l=rge(t,e,n),u={auth:s,ua:l,projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},f=Cft(c[1]||"",u);return c[0]+"?"+f}function fg(t,e){return t.filter(r=>e.includes(r)).length===t.length}function nge(t){return Object.fromEntries(t.entries())}function sge(t){return new Map(Object.entries(t))}function Vm(t=$e.FIVE_MINUTES,e){const r=$e.toMiliseconds(t||$e.FIVE_MINUTES);let n,s,i;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,o)=>{i=setTimeout(()=>{o(new Error(e))},r),n=a,s=o})}}function Wy(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function ige(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Mft(t){return ige("topic",t)}function Oft(t){return ige("id",t)}function age(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Ls(t,e){return $e.fromMiliseconds(Date.now()+$e.toMiliseconds(t))}function F0(t){return Date.now()>=$e.toMiliseconds(t)}function Mr(t,e){return`${t}${e?`:${e}`:""}`}function Fft(t=[],e=[]){return[...new Set([...t,...e])]}async function Bft({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const a=Rft(i,t,e),o=I5();if(o===dc.browser){if(!((n=xc())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,Uft()?"_blank":"_self","noreferrer noopener")}else o===dc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(s){console.error(s)}}function Rft(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${zft(n,!0)}`}else s=`${s}/wc?${n}`;return s}async function Dft(t,e){let r="";try{if(k5()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function SJ(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function PJ(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function nU(){return typeof process<"u"&&Aft.IS_VITEST==="true"}function Uft(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function zft(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function oge(t){return Buffer.from(t,"base64").toString("utf-8")}const Lft="https://rpc.walletconnect.org/v1";async function Vft(t,e,r,n,s,i){switch(r.t){case"eip191":return Hft(t,e,r.s);case"eip1271":return await Wft(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function Hft(t,e,r){return xdt(Bme(e),r).toLowerCase()===t.toLowerCase()}async function Wft(t,e,r,n,s,i){const a=_7(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const o="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=Bme(e).substring(2),h=o+f+c+l+u,m=await fetch(`${i||Lft}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:qft(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:v}=await m.json();return v?v.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function qft(){return Date.now()+Math.floor(Math.random()*1e3)}var Kft=Object.defineProperty,Xft=Object.defineProperties,Zft=Object.getOwnPropertyDescriptors,kJ=Object.getOwnPropertySymbols,Jft=Object.prototype.hasOwnProperty,Qft=Object.prototype.propertyIsEnumerable,IJ=(t,e,r)=>e in t?Kft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yft=(t,e)=>{for(var r in e||(e={}))Jft.call(e,r)&&IJ(t,r,e[r]);if(kJ)for(var r of kJ(e))Qft.call(e,r)&&IJ(t,r,e[r]);return t},Gft=(t,e)=>Xft(t,Zft(e));const eht="did:pkh:",sU=t=>t==null?void 0:t.split(":"),tht=t=>{const e=t&&sU(t);if(e)return t.includes(eht)?e[3]:e[1]},aO=t=>{const e=t&&sU(t);if(e)return e[2]+":"+e[3]},RS=t=>{const e=t&&sU(t);if(e)return e.pop()};async function NJ(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=cge(s,s.iss),a=RS(s.iss);return await Vft(a,i,n,aO(s.iss),r)}const cge=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=RS(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${tht(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(x=>`
- ${x}`).join("")}`:void 0,v=C7(t.resources);if(v){const x=Y6(v);s=uht(s,x)}return[r,n,"",s,"",i,a,o,c,l,u,f,h,m].filter(x=>x!=null).join(`
`)};function rht(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function nht(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function E1(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${a}`)})})})}function sht(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:iht(e,r,n)}}}function iht(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function lge(t){return E1(t),`urn:recap:${rht(t).replace(/=/g,"")}`}function Y6(t){const e=nht(t.replace("urn:recap:",""));return E1(e),e}function aht(t,e,r){const n=sht(t,e,r);return lge(n)}function oht(t){return t&&t.includes("urn:recap:")}function cht(t,e){const r=Y6(t),n=Y6(e),s=lht(r,n);return lge(s)}function lht(t,e){E1(t),E1(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,a;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[s])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,l;n.att[s]=Gft(Yft({},n.att[s]),{[o]:((c=t.att[s])==null?void 0:c[o])||((l=e.att[s])==null?void 0:l[o])})})}),n}function uht(t="",e){E1(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(o=>{const c=Object.keys(e.att[o]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,h)=>f.action.localeCompare(h.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${o}'.`));n.push(u.join(", ").replace(".,","."))});const i=n.join(" "),a=`${r}${i}`;return`${t?t+" ":""}${a}`}function EJ(t){var e;const r=Y6(t);E1(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function _J(t){const e=Y6(t);E1(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function C7(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return oht(e)?e:void 0}const uge="base10",ro="base16",xp="base64pad",yw="base64url",N5="utf8",dge=0,xh=1,E5=2,dht=0,CJ=1,E3=12,iU=32;function fht(){const t=A5.generateKeyPair();return{privateKey:yi(t.secretKey,ro),publicKey:yi(t.publicKey,ro)}}function oO(){const t=Ic.randomBytes(iU);return yi(t,ro)}function hht(t,e){const r=A5.sharedKey(mi(t,ro),mi(e,ro),!0),n=new Vme(hf.SHA256,r).expand(iU);return yi(n,ro)}function T7(t){const e=hf.hash(mi(t,ro));return yi(e,ro)}function Hf(t){const e=hf.hash(mi(t,N5));return yi(e,ro)}function fge(t){return mi(`${t}`,uge)}function _1(t){return Number(yi(t,uge))}function pht(t){const e=fge(typeof t.type<"u"?t.type:dge);if(_1(e)===xh&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?mi(t.senderPublicKey,ro):void 0,n=typeof t.iv<"u"?mi(t.iv,ro):Ic.randomBytes(E3),s=new x5.ChaCha20Poly1305(mi(t.symKey,ro)).seal(n,mi(t.message,N5));return hge({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function mht(t,e){const r=fge(E5),n=Ic.randomBytes(E3),s=mi(t,N5);return hge({type:r,sealed:s,iv:n,encoding:e})}function ght(t){const e=new x5.ChaCha20Poly1305(mi(t.symKey,ro)),{sealed:r,iv:n}=G6({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return yi(s,N5)}function bht(t,e){const{sealed:r}=G6({encoded:t,encoding:e});return yi(r,N5)}function hge(t){const{encoding:e=xp}=t;if(_1(t.type)===E5)return yi(E7([t.type,t.sealed]),e);if(_1(t.type)===xh){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return yi(E7([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return yi(E7([t.type,t.iv,t.sealed]),e)}function G6(t){const{encoded:e,encoding:r=xp}=t,n=mi(e,r),s=n.slice(dht,CJ),i=CJ;if(_1(s)===xh){const l=i+iU,u=l+E3,f=n.slice(i,l),h=n.slice(l,u),m=n.slice(u);return{type:s,sealed:m,iv:h,senderPublicKey:f}}if(_1(s)===E5){const l=n.slice(i),u=Ic.randomBytes(E3);return{type:s,sealed:l,iv:u}}const a=i+E3,o=n.slice(i,a),c=n.slice(a);return{type:s,sealed:c,iv:o}}function yht(t,e){const r=G6({encoded:t,encoding:e==null?void 0:e.encoding});return pge({type:_1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?yi(r.senderPublicKey,ro):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function pge(t){const e=(t==null?void 0:t.type)||dge;if(e===xh){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function TJ(t){return t.type===xh&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function jJ(t){return t.type===E5}function vht(t){return new Hme.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function xht(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function wht(t){return Buffer.from(xht(t),"base64")}function Aht(t,e){const[r,n,s]=t.split("."),i=wht(s);if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32).toString("hex"),o=i.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new hf.SHA256().update(Buffer.from(c)).digest(),u=vht(e),f=Buffer.from(l).toString("hex");if(!u.verify(f,{r:a,s:o}))throw new Error("Invalid signature");return rO(t).payload}const Sht="irn";function cO(t){return(t==null?void 0:t.relay)||{protocol:Sht}}function t3(t){const e=CD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Pht=Object.defineProperty,kht=Object.defineProperties,Iht=Object.getOwnPropertyDescriptors,$J=Object.getOwnPropertySymbols,Nht=Object.prototype.hasOwnProperty,Eht=Object.prototype.propertyIsEnumerable,MJ=(t,e,r)=>e in t?Pht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OJ=(t,e)=>{for(var r in e||(e={}))Nht.call(e,r)&&MJ(t,r,e[r]);if($J)for(var r of $J(e))Eht.call(e,r)&&MJ(t,r,e[r]);return t},_ht=(t,e)=>kht(t,Iht(e));function Cht(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function FJ(t){if(!t.includes("wc:")){const c=oge(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=Bh.parse(i),o=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Tht(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Cht(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Tht(t){return t.startsWith("//")?t.substring(2):t}function jht(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=r+e+s;t[s]&&(n[i]=t[s])}),n}function BJ(t){return`${t.protocol}:${t.topic}@${t.version}?`+Bh.stringify(OJ(_ht(OJ({symKey:t.symKey},jht(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function x9(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function T2(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function $ht(t){const e=[];return Object.values(t).forEach(r=>{e.push(...T2(r.accounts))}),e}function Mht(t,e){const r=[];return Object.values(t).forEach(n=>{T2(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Oht(t,e){const r=[];return Object.values(t).forEach(n=>{T2(n.accounts).includes(e)&&r.push(...n.events)}),r}function Fht(t){const e={};return t==null||t.forEach(r=>{const[n,s]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${s}`)}),e}function RJ(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Fht(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=Fft(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}const Bht={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Rht={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $t(t,e){const{message:r,code:n}=Rht[t];return{message:e?`${r} ${e}`:r,code:n}}function _n(t,e){const{message:r,code:n}=Bht[t];return{message:e?`${r} ${e}`:r,code:n}}function _5(t,e){return!!Array.isArray(t)}function DS(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function _o(t){return typeof t>"u"}function Es(t,e){return e&&_o(t)?!0:typeof t=="string"&&!!t.trim().length}function aU(t,e){return typeof t=="number"&&!isNaN(t)}function Dht(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return fg(s,n)?(n.forEach(a=>{const{accounts:o,methods:c,events:l}=t.namespaces[a],u=T2(o),f=r[a];(!fg(ege(a,f),u)||!fg(f.methods,c)||!fg(f.events,l))&&(i=!1)}),i):!1}function US(t){return Es(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Uht(t){if(Es(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&US(r)}}return!1}function zht(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Es(t,!1)){if(e(t))return!0;const r=oge(t);return e(r)}}catch{}return!1}function Lht(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Vht(t){return t==null?void 0:t.topic}function Hht(t,e){let r=null;return Es(t==null?void 0:t.publicKey,!1)||(r=$t("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function DJ(t){let e=!0;return _5(t)?t.length&&(e=t.every(r=>Es(r,!1))):e=!1,e}function Wht(t,e,r){let n=null;return _5(e)&&e.length?e.forEach(s=>{n||US(s)||(n=_n("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):US(t)||(n=_n("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function qht(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const a=Wht(s,ege(s,i),`${e} ${r}`);a&&(n=a)}),n}function Kht(t,e){let r=null;return _5(t)?t.forEach(n=>{r||Uht(n)||(r=_n("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=_n("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Xht(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=Kht(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function Zht(t,e){let r=null;return DJ(t==null?void 0:t.methods)?DJ(t==null?void 0:t.events)||(r=_n("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=_n("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function mge(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=Zht(n,`${e}, namespace`);s&&(r=s)}),r}function Jht(t,e,r){let n=null;if(t&&DS(t)){const s=mge(t,e);s&&(n=s);const i=qht(t,e,r);i&&(n=i)}else n=$t("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function hC(t,e){let r=null;if(t&&DS(t)){const n=mge(t,e);n&&(r=n);const s=Xht(t,e);s&&(r=s)}else r=$t("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function gge(t){return Es(t.protocol,!0)}function Qht(t,e){let r=!1;return t?t&&_5(t)&&t.length&&t.forEach(n=>{r=gge(n)}):r=!0,r}function Yht(t){return typeof t=="number"}function vo(t){return typeof t<"u"&&typeof t!==null}function Ght(t){return!(!t||typeof t!="object"||!t.code||!aU(t.code)||!t.message||!Es(t.message,!1))}function e0t(t){return!(_o(t)||!Es(t.method,!1))}function t0t(t){return!(_o(t)||_o(t.result)&&_o(t.error)||!aU(t.id)||!Es(t.jsonrpc,!1))}function r0t(t){return!(_o(t)||!Es(t.name,!1))}function UJ(t,e){return!(!US(e)||!$ht(t).includes(e))}function n0t(t,e,r){return Es(r,!1)?Mht(t,e).includes(r):!1}function s0t(t,e,r){return Es(r,!1)?Oht(t,e).includes(r):!1}function zJ(t,e,r){let n=null;const s=i0t(t),i=a0t(e),a=Object.keys(s),o=Object.keys(i),c=LJ(Object.keys(t)),l=LJ(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=$t("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),fg(a,o)||(n=$t("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=T2(e[f].accounts);h.includes(f)||(n=$t("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),a.forEach(f=>{n||(fg(s[f].methods,i[f].methods)?fg(s[f].events,i[f].events)||(n=$t("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=$t("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function i0t(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function LJ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function a0t(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=T2(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function o0t(t,e){return aU(t)&&t<=e.max&&t>=e.min}function VJ(){const t=I5();return new Promise(e=>{switch(t){case dc.browser:e(c0t());break;case dc.reactNative:e(l0t());break;case dc.node:e(u0t());break;default:e(!0)}})}function c0t(){return k5()&&(navigator==null?void 0:navigator.onLine)}async function l0t(){if(C2()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function u0t(){return!0}function d0t(t){switch(I5()){case dc.browser:f0t(t);break;case dc.reactNative:h0t(t);break}}function f0t(t){!C2()&&k5()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function h0t(t){C2()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const pC={};class vw{static get(e){return pC[e]}static set(e,r){pC[e]=r}static delete(e){delete pC[e]}}const p0t=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),m0t=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",HJ=t=>t.split("?")[0],WJ=10,g0t=p0t();let b0t=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Zs(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=new URLSearchParams(e).get("origin"),i=bI.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!VD(e)},a=new g0t(e,[],i);m0t()?a.onerror=o=>{const c=o;n(this.emitError(c.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ai(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=pm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return LD(e,HJ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>WJ&&this.events.setMaxListeners(WJ)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${HJ(this.url)}`));return this.events.emit("register_error",r),r}};var zS={exports:{}};zS.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",v="[object GeneratorFunction]",x="[object Map]",k="[object Number]",E="[object Null]",P="[object Object]",_="[object Promise]",M="[object Proxy]",B="[object RegExp]",D="[object Set]",j="[object String]",T="[object Symbol]",R="[object Undefined]",H="[object WeakMap]",O="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",p="[object Float64Array]",g="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",I="[object Uint8Array]",A="[object Uint8ClampedArray]",y="[object Uint16Array]",C="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,U={};U[w]=U[p]=U[g]=U[S]=U[N]=U[I]=U[A]=U[y]=U[C]=!0,U[o]=U[c]=U[O]=U[u]=U[b]=U[f]=U[h]=U[m]=U[x]=U[k]=U[P]=U[B]=U[D]=U[j]=U[H]=!1;var J=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,Z=typeof self=="object"&&self&&self.Object===Object&&self,re=J||Z||Function("return this")(),G=e&&!e.nodeType&&e,z=G&&!0&&t&&!t.nodeType&&t,se=z&&z.exports===G,ce=se&&J.process,pe=function(){try{return ce&&ce.binding&&ce.binding("util")}catch{}}(),Ce=pe&&pe.isTypedArray;function ke(ue,Me){for(var vt=-1,Vt=ue==null?0:ue.length,zn=0,Pr=[];++vt<Vt;){var ms=ue[vt];Me(ms,vt,ue)&&(Pr[zn++]=ms)}return Pr}function tt(ue,Me){for(var vt=-1,Vt=Me.length,zn=ue.length;++vt<Vt;)ue[zn+vt]=Me[vt];return ue}function mt(ue,Me){for(var vt=-1,Vt=ue==null?0:ue.length;++vt<Vt;)if(Me(ue[vt],vt,ue))return!0;return!1}function we(ue,Me){for(var vt=-1,Vt=Array(ue);++vt<ue;)Vt[vt]=Me(vt);return Vt}function qe(ue){return function(Me){return ue(Me)}}function Ae(ue,Me){return ue.has(Me)}function Oe(ue,Me){return ue==null?void 0:ue[Me]}function We(ue){var Me=-1,vt=Array(ue.size);return ue.forEach(function(Vt,zn){vt[++Me]=[zn,Vt]}),vt}function Be(ue,Me){return function(vt){return ue(Me(vt))}}function ze(ue){var Me=-1,vt=Array(ue.size);return ue.forEach(function(Vt){vt[++Me]=Vt}),vt}var Ke=Array.prototype,ct=Function.prototype,Y=Object.prototype,V=re["__core-js_shared__"],q=ct.toString,ne=Y.hasOwnProperty,le=function(){var ue=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return ue?"Symbol(src)_1."+ue:""}(),de=Y.toString,me=RegExp("^"+q.call(ne).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=se?re.Buffer:void 0,ht=re.Symbol,ot=re.Uint8Array,pt=Y.propertyIsEnumerable,Ct=Ke.splice,St=ht?ht.toStringTag:void 0,Rt=Object.getOwnPropertySymbols,nr=rt?rt.isBuffer:void 0,De=Be(Object.keys,Object),He=bn(re,"DataView"),gt=bn(re,"Map"),nt=bn(re,"Promise"),It=bn(re,"Set"),Ut=bn(re,"WeakMap"),bt=bn(Object,"create"),Je=vm(He),Pt=vm(gt),it=vm(nt),Tt=vm(It),X=vm(Ut),ee=ht?ht.prototype:void 0,te=ee?ee.valueOf:void 0;function W(ue){var Me=-1,vt=ue==null?0:ue.length;for(this.clear();++Me<vt;){var Vt=ue[Me];this.set(Vt[0],Vt[1])}}function ie(){this.__data__=bt?bt(null):{},this.size=0}function fe(ue){var Me=this.has(ue)&&delete this.__data__[ue];return this.size-=Me?1:0,Me}function Ie(ue){var Me=this.__data__;if(bt){var vt=Me[ue];return vt===n?void 0:vt}return ne.call(Me,ue)?Me[ue]:void 0}function ae(ue){var Me=this.__data__;return bt?Me[ue]!==void 0:ne.call(Me,ue)}function ye(ue,Me){var vt=this.__data__;return this.size+=this.has(ue)?0:1,vt[ue]=bt&&Me===void 0?n:Me,this}W.prototype.clear=ie,W.prototype.delete=fe,W.prototype.get=Ie,W.prototype.has=ae,W.prototype.set=ye;function Le(ue){var Me=-1,vt=ue==null?0:ue.length;for(this.clear();++Me<vt;){var Vt=ue[Me];this.set(Vt[0],Vt[1])}}function Re(){this.__data__=[],this.size=0}function Mt(ue){var Me=this.__data__,vt=yt(Me,ue);if(vt<0)return!1;var Vt=Me.length-1;return vt==Vt?Me.pop():Ct.call(Me,vt,1),--this.size,!0}function ut(ue){var Me=this.__data__,vt=yt(Me,ue);return vt<0?void 0:Me[vt][1]}function Ot(ue){return yt(this.__data__,ue)>-1}function Se(ue,Me){var vt=this.__data__,Vt=yt(vt,ue);return Vt<0?(++this.size,vt.push([ue,Me])):vt[Vt][1]=Me,this}Le.prototype.clear=Re,Le.prototype.delete=Mt,Le.prototype.get=ut,Le.prototype.has=Ot,Le.prototype.set=Se;function be(ue){var Me=-1,vt=ue==null?0:ue.length;for(this.clear();++Me<vt;){var Vt=ue[Me];this.set(Vt[0],Vt[1])}}function Ee(){this.size=0,this.__data__={hash:new W,map:new(gt||Le),string:new W}}function Fe(ue){var Me=Zr(this,ue).delete(ue);return this.size-=Me?1:0,Me}function Ve(ue){return Zr(this,ue).get(ue)}function Xe(ue){return Zr(this,ue).has(ue)}function xe(ue,Me){var vt=Zr(this,ue),Vt=vt.size;return vt.set(ue,Me),this.size+=vt.size==Vt?0:1,this}be.prototype.clear=Ee,be.prototype.delete=Fe,be.prototype.get=Ve,be.prototype.has=Xe,be.prototype.set=xe;function Pe(ue){var Me=-1,vt=ue==null?0:ue.length;for(this.__data__=new be;++Me<vt;)this.add(ue[Me])}function je(ue){return this.__data__.set(ue,n),this}function Ze(ue){return this.__data__.has(ue)}Pe.prototype.add=Pe.prototype.push=je,Pe.prototype.has=Ze;function dt(ue){var Me=this.__data__=new Le(ue);this.size=Me.size}function ft(){this.__data__=new Le,this.size=0}function Ue(ue){var Me=this.__data__,vt=Me.delete(ue);return this.size=Me.size,vt}function _e(ue){return this.__data__.get(ue)}function et(ue){return this.__data__.has(ue)}function Qe(ue,Me){var vt=this.__data__;if(vt instanceof Le){var Vt=vt.__data__;if(!gt||Vt.length<r-1)return Vt.push([ue,Me]),this.size=++vt.size,this;vt=this.__data__=new be(Vt)}return vt.set(ue,Me),this.size=vt.size,this}dt.prototype.clear=ft,dt.prototype.delete=Ue,dt.prototype.get=_e,dt.prototype.has=et,dt.prototype.set=Qe;function at(ue,Me){var vt=D5(ue),Vt=!vt&&Rbe(ue),zn=!vt&&!Vt&&rN(ue),Pr=!vt&&!Vt&&!zn&&UU(ue),ms=vt||Vt||zn||Pr,ei=ms?we(ue.length,String):[],_i=ei.length;for(var rs in ue)ne.call(ue,rs)&&!(ms&&(rs=="length"||zn&&(rs=="offset"||rs=="parent")||Pr&&(rs=="buffer"||rs=="byteLength"||rs=="byteOffset")||Qs(rs,_i)))&&ei.push(rs);return ei}function yt(ue,Me){for(var vt=ue.length;vt--;)if(FU(ue[vt][0],Me))return vt;return-1}function Yt(ue,Me,vt){var Vt=Me(ue);return D5(ue)?Vt:tt(Vt,vt(ue))}function or(ue){return ue==null?ue===void 0?R:E:St&&St in Object(ue)?Jn(ue):Bbe(ue)}function pr(ue){return F2(ue)&&or(ue)==o}function hr(ue,Me,vt,Vt,zn){return ue===Me?!0:ue==null||Me==null||!F2(ue)&&!F2(Me)?ue!==ue&&Me!==Me:ge(ue,Me,vt,Vt,hr,zn)}function ge(ue,Me,vt,Vt,zn,Pr){var ms=D5(ue),ei=D5(Me),_i=ms?c:vn(ue),rs=ei?c:vn(Me);_i=_i==o?P:_i,rs=rs==o?P:rs;var Wo=_i==P,Ml=rs==P,ca=_i==rs;if(ca&&rN(ue)){if(!rN(Me))return!1;ms=!0,Wo=!1}if(ca&&!Wo)return Pr||(Pr=new dt),ms||UU(ue)?gr(ue,Me,vt,Vt,zn,Pr):Br(ue,Me,_i,vt,Vt,zn,Pr);if(!(vt&s)){var Tc=Wo&&ne.call(ue,"__wrapped__"),jc=Ml&&ne.call(Me,"__wrapped__");if(Tc||jc){var Kh=Tc?ue.value():ue,gf=jc?Me.value():Me;return Pr||(Pr=new dt),zn(Kh,gf,vt,Vt,Pr)}}return ca?(Pr||(Pr=new dt),Rr(ue,Me,vt,Vt,zn,Pr)):!1}function Sr(ue){if(!DU(ue)||Gs(ue))return!1;var Me=BU(ue)?me:L;return Me.test(vm(ue))}function zr(ue){return F2(ue)&&RU(ue.length)&&!!U[or(ue)]}function Lr(ue){if(!Fbe(ue))return De(ue);var Me=[];for(var vt in Object(ue))ne.call(ue,vt)&&vt!="constructor"&&Me.push(vt);return Me}function gr(ue,Me,vt,Vt,zn,Pr){var ms=vt&s,ei=ue.length,_i=Me.length;if(ei!=_i&&!(ms&&_i>ei))return!1;var rs=Pr.get(ue);if(rs&&Pr.get(Me))return rs==Me;var Wo=-1,Ml=!0,ca=vt&i?new Pe:void 0;for(Pr.set(ue,Me),Pr.set(Me,ue);++Wo<ei;){var Tc=ue[Wo],jc=Me[Wo];if(Vt)var Kh=ms?Vt(jc,Tc,Wo,Me,ue,Pr):Vt(Tc,jc,Wo,ue,Me,Pr);if(Kh!==void 0){if(Kh)continue;Ml=!1;break}if(ca){if(!mt(Me,function(gf,xm){if(!Ae(ca,xm)&&(Tc===gf||zn(Tc,gf,vt,Vt,Pr)))return ca.push(xm)})){Ml=!1;break}}else if(!(Tc===jc||zn(Tc,jc,vt,Vt,Pr))){Ml=!1;break}}return Pr.delete(ue),Pr.delete(Me),Ml}function Br(ue,Me,vt,Vt,zn,Pr,ms){switch(vt){case b:if(ue.byteLength!=Me.byteLength||ue.byteOffset!=Me.byteOffset)return!1;ue=ue.buffer,Me=Me.buffer;case O:return!(ue.byteLength!=Me.byteLength||!Pr(new ot(ue),new ot(Me)));case u:case f:case k:return FU(+ue,+Me);case h:return ue.name==Me.name&&ue.message==Me.message;case B:case j:return ue==Me+"";case x:var ei=We;case D:var _i=Vt&s;if(ei||(ei=ze),ue.size!=Me.size&&!_i)return!1;var rs=ms.get(ue);if(rs)return rs==Me;Vt|=i,ms.set(ue,Me);var Wo=gr(ei(ue),ei(Me),Vt,zn,Pr,ms);return ms.delete(ue),Wo;case T:if(te)return te.call(ue)==te.call(Me)}return!1}function Rr(ue,Me,vt,Vt,zn,Pr){var ms=vt&s,ei=Zn(ue),_i=ei.length,rs=Zn(Me),Wo=rs.length;if(_i!=Wo&&!ms)return!1;for(var Ml=_i;Ml--;){var ca=ei[Ml];if(!(ms?ca in Me:ne.call(Me,ca)))return!1}var Tc=Pr.get(ue);if(Tc&&Pr.get(Me))return Tc==Me;var jc=!0;Pr.set(ue,Me),Pr.set(Me,ue);for(var Kh=ms;++Ml<_i;){ca=ei[Ml];var gf=ue[ca],xm=Me[ca];if(Vt)var zU=ms?Vt(xm,gf,ca,Me,ue,Pr):Vt(gf,xm,ca,ue,Me,Pr);if(!(zU===void 0?gf===xm||zn(gf,xm,vt,Vt,Pr):zU)){jc=!1;break}Kh||(Kh=ca=="constructor")}if(jc&&!Kh){var U5=ue.constructor,z5=Me.constructor;U5!=z5&&"constructor"in ue&&"constructor"in Me&&!(typeof U5=="function"&&U5 instanceof U5&&typeof z5=="function"&&z5 instanceof z5)&&(jc=!1)}return Pr.delete(ue),Pr.delete(Me),jc}function Zn(ue){return Yt(ue,zbe,Qn)}function Zr(ue,Me){var vt=ue.__data__;return Ys(Me)?vt[typeof Me=="string"?"string":"hash"]:vt.map}function bn(ue,Me){var vt=Oe(ue,Me);return Sr(vt)?vt:void 0}function Jn(ue){var Me=ne.call(ue,St),vt=ue[St];try{ue[St]=void 0;var Vt=!0}catch{}var zn=de.call(ue);return Vt&&(Me?ue[St]=vt:delete ue[St]),zn}var Qn=Rt?function(ue){return ue==null?[]:(ue=Object(ue),ke(Rt(ue),function(Me){return pt.call(ue,Me)}))}:Lbe,vn=or;(He&&vn(new He(new ArrayBuffer(1)))!=b||gt&&vn(new gt)!=x||nt&&vn(nt.resolve())!=_||It&&vn(new It)!=D||Ut&&vn(new Ut)!=H)&&(vn=function(ue){var Me=or(ue),vt=Me==P?ue.constructor:void 0,Vt=vt?vm(vt):"";if(Vt)switch(Vt){case Je:return b;case Pt:return x;case it:return _;case Tt:return D;case X:return H}return Me});function Qs(ue,Me){return Me=Me??a,!!Me&&(typeof ue=="number"||Q.test(ue))&&ue>-1&&ue%1==0&&ue<Me}function Ys(ue){var Me=typeof ue;return Me=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?ue!=="__proto__":ue===null}function Gs(ue){return!!le&&le in ue}function Fbe(ue){var Me=ue&&ue.constructor,vt=typeof Me=="function"&&Me.prototype||Y;return ue===vt}function Bbe(ue){return de.call(ue)}function vm(ue){if(ue!=null){try{return q.call(ue)}catch{}try{return ue+""}catch{}}return""}function FU(ue,Me){return ue===Me||ue!==ue&&Me!==Me}var Rbe=pr(function(){return arguments}())?pr:function(ue){return F2(ue)&&ne.call(ue,"callee")&&!pt.call(ue,"callee")},D5=Array.isArray;function Dbe(ue){return ue!=null&&RU(ue.length)&&!BU(ue)}var rN=nr||Vbe;function Ube(ue,Me){return hr(ue,Me)}function BU(ue){if(!DU(ue))return!1;var Me=or(ue);return Me==m||Me==v||Me==l||Me==M}function RU(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=a}function DU(ue){var Me=typeof ue;return ue!=null&&(Me=="object"||Me=="function")}function F2(ue){return ue!=null&&typeof ue=="object"}var UU=Ce?qe(Ce):zr;function zbe(ue){return Dbe(ue)?at(ue):Lr(ue)}function Lbe(){return[]}function Vbe(){return!1}t.exports=Ube})(zS,zS.exports);var y0t=zS.exports;const bge=Ua(y0t),yge="wc",vge=2,oU="core",rf=`${yge}@2:${oU}:`,v0t={name:oU,logger:"error"},x0t={database:":memory:"},w0t="crypto",qJ="client_ed25519_seed",A0t=$e.ONE_DAY,S0t="keychain",P0t="0.3",k0t="messages",I0t="0.3",N0t=$e.SIX_HOURS,E0t="publisher",xge="irn",_0t="error",wge="wss://relay.walletconnect.org",C0t="relayer",Ka={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},T0t="_subscription",Lc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},j0t=.1,lO="2.17.1",En={link_mode:"link_mode",relay:"relay"},$0t="0.3",M0t="WALLETCONNECT_CLIENT_ID",KJ="WALLETCONNECT_LINK_MODE_APPS",ed={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},O0t="subscription",F0t="0.3",B0t=$e.FIVE_SECONDS*1e3,R0t="pairing",D0t="0.3",xw={wc_pairingDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:0},res:{ttl:$e.ONE_DAY,prompt:!1,tag:0}}},Zm={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ul={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},U0t="history",z0t="0.3",L0t="expirer",Zc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},V0t="0.3",H0t="verify-api",W0t="https://verify.walletconnect.com",Age="https://verify.walletconnect.org",_3=Age,q0t=`${_3}/v3`,K0t=[W0t,Age],X0t="echo",Z0t="https://echo.walletconnect.com",Yu={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Of={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Tm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},jm={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},ww={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},J0t=.1,Q0t="event-client",Y0t=86400,G0t="https://pulse.walletconnect.org/batch";function ept(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var tpt=ept,rpt=tpt;const Sge=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},npt=t=>new TextEncoder().encode(t),spt=t=>new TextDecoder().decode(t);let ipt=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},apt=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Pge(this,e)}},opt=class{constructor(e){this.decoders=e}or(e){return Pge(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Pge=(t,e)=>new opt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let cpt=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new ipt(e,r,n),this.decoder=new apt(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const RI=({name:t,prefix:e,encode:r,decode:n})=>new cpt(t,e,r,n),C5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=rpt(r,e);return RI({prefix:t,name:e,encode:n,decode:i=>Sge(s(i))})},lpt=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},upt=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ia=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>RI({prefix:e,name:t,encode(s){return upt(s,n,r)},decode(s){return lpt(s,n,r,t)}}),dpt=RI({prefix:"\0",name:"identity",encode:t=>spt(t),decode:t=>npt(t)});var fpt=Object.freeze({__proto__:null,identity:dpt});const hpt=ia({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ppt=Object.freeze({__proto__:null,base2:hpt});const mpt=ia({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gpt=Object.freeze({__proto__:null,base8:mpt});const bpt=C5({prefix:"9",name:"base10",alphabet:"0123456789"});var ypt=Object.freeze({__proto__:null,base10:bpt});const vpt=ia({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xpt=ia({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var wpt=Object.freeze({__proto__:null,base16:vpt,base16upper:xpt});const Apt=ia({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Spt=ia({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ppt=ia({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kpt=ia({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ipt=ia({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Npt=ia({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ept=ia({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_pt=ia({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cpt=ia({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tpt=Object.freeze({__proto__:null,base32:Apt,base32upper:Spt,base32pad:Ppt,base32padupper:kpt,base32hex:Ipt,base32hexupper:Npt,base32hexpad:Ept,base32hexpadupper:_pt,base32z:Cpt});const jpt=C5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$pt=C5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Mpt=Object.freeze({__proto__:null,base36:jpt,base36upper:$pt});const Opt=C5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fpt=C5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Bpt=Object.freeze({__proto__:null,base58btc:Opt,base58flickr:Fpt});const Rpt=ia({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Dpt=ia({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Upt=ia({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zpt=ia({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Lpt=Object.freeze({__proto__:null,base64:Rpt,base64pad:Dpt,base64url:Upt,base64urlpad:zpt});const kge=Array.from(""),Vpt=kge.reduce((t,e,r)=>(t[r]=e,t),[]),Hpt=kge.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Wpt(t){return t.reduce((e,r)=>(e+=Vpt[r],e),"")}function qpt(t){const e=[];for(const r of t){const n=Hpt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Kpt=RI({prefix:"",name:"base256emoji",encode:Wpt,decode:qpt});var Xpt=Object.freeze({__proto__:null,base256emoji:Kpt}),Zpt=Ige,XJ=128,Jpt=127,Qpt=~Jpt,Ypt=Math.pow(2,31);function Ige(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Ypt;)e[r++]=t&255|XJ,t/=128;for(;t&Qpt;)e[r++]=t&255|XJ,t>>>=7;return e[r]=t|0,Ige.bytes=r-n+1,e}var Gpt=uO,emt=128,ZJ=127;function uO(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw uO.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&ZJ)<<s:(a&ZJ)*Math.pow(2,s),s+=7}while(a>=emt);return uO.bytes=i-n,r}var tmt=Math.pow(2,7),rmt=Math.pow(2,14),nmt=Math.pow(2,21),smt=Math.pow(2,28),imt=Math.pow(2,35),amt=Math.pow(2,42),omt=Math.pow(2,49),cmt=Math.pow(2,56),lmt=Math.pow(2,63),umt=function(t){return t<tmt?1:t<rmt?2:t<nmt?3:t<smt?4:t<imt?5:t<amt?6:t<omt?7:t<cmt?8:t<lmt?9:10},dmt={encode:Zpt,decode:Gpt,encodingLength:umt},Nge=dmt;const JJ=(t,e,r=0)=>(Nge.encode(t,e,r),e),QJ=t=>Nge.encodingLength(t),dO=(t,e)=>{const r=e.byteLength,n=QJ(t),s=n+QJ(r),i=new Uint8Array(s+r);return JJ(t,i,0),JJ(r,i,n),i.set(e,s),new fmt(t,r,e,i)};let fmt=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const Ege=({name:t,code:e,encode:r})=>new hmt(t,e,r);let hmt=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?dO(this.code,r):r.then(n=>dO(this.code,n))}else throw Error("Unknown type, must be binary type")}};const _ge=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),pmt=Ege({name:"sha2-256",code:18,encode:_ge("SHA-256")}),mmt=Ege({name:"sha2-512",code:19,encode:_ge("SHA-512")});var gmt=Object.freeze({__proto__:null,sha256:pmt,sha512:mmt});const Cge=0,bmt="identity",Tge=Sge,ymt=t=>dO(Cge,Tge(t)),vmt={code:Cge,name:bmt,encode:Tge,digest:ymt};var xmt=Object.freeze({__proto__:null,identity:vmt});new TextEncoder,new TextDecoder;const YJ={...fpt,...ppt,...gpt,...ypt,...wpt,...Tpt,...Mpt,...Bpt,...Lpt,...Xpt};({...gmt,...xmt});function wmt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function jge(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const GJ=jge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),mC=jge("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=wmt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Amt={utf8:GJ,"utf-8":GJ,hex:YJ.base16,latin1:mC,ascii:mC,binary:mC,...YJ};function Smt(t,e="utf8"){const r=Amt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}let Pmt=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=S0t,this.version=P0t,this.initialized=!1,this.storagePrefix=rf,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=$t("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=uo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,nge(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?sge(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},kmt=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=w0t,this.randomSessionIdentifier=oO(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=cJ(s);return Ome(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=fht();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),a=cJ(i),o=this.randomSessionIdentifier;return await ddt(o,s,A0t,a)},this.generateSharedKey=(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=hht(o,i);return this.setSymKey(c,a)},this.setSymKey=async(s,i)=>{this.isInitialized();const a=i||T7(s);return await this.keychain.set(a,s),a},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,a)=>{this.isInitialized();const o=pge(a),c=Zs(i);if(jJ(o))return mht(c,a==null?void 0:a.encoding);if(TJ(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return pht({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})},this.decode=async(s,i,a)=>{this.isInitialized();const o=yht(i,a);if(jJ(o)){const c=bht(i,a==null?void 0:a.encoding);return Ai(c)}if(TJ(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=ght({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Ai(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(s,i=xp)=>{const a=G6({encoded:s,encoding:i});return _1(a.type)},this.getPayloadSenderPublicKey=(s,i=xp)=>{const a=G6({encoded:s,encoding:i});return a.senderPublicKey?yi(a.senderPublicKey,ro):void 0},this.core=e,this.logger=uo(r,this.name),this.keychain=n||new Pmt(this.core,this.logger)}get context(){return Vo(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(qJ)}catch{e=oO(),await this.keychain.set(qJ,e)}return Smt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},Imt=class extends Lut{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=k0t,this.version=I0t,this.initialized=!1,this.storagePrefix=rf,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=Hf(s);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[i]<"u"||(a[i]=s,this.messages.set(n,a),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),a=Hf(s);return typeof i[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=uo(e,this.name),this.core=r}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,nge(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?sge(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},Nmt=class extends Vut{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Un.EventEmitter,this.name=E0t,this.queue=new Map,this.publishTimeout=$e.toMiliseconds($e.ONE_MINUTE),this.failedPublishTimeout=$e.toMiliseconds($e.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const o=(i==null?void 0:i.ttl)||N0t,c=cO(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||ml().toString(),h={topic:n,message:s,opts:{ttl:o,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation}},m=`Failed to publish payload, please try again. id:${f} tag:${u}`,v=Date.now();let x,k=1;try{for(;x===void 0;){if(Date.now()-v>this.publishTimeout)throw new Error(m);this.logger.trace({id:f,attempts:k},`publisher.publish - attempt ${k}`),x=await await Wy(this.rpcPublish(n,s,o,c,l,u,f,i==null?void 0:i.attestation).catch(E=>this.logger.warn(E)),this.publishTimeout,m),k++,x||await new Promise(E=>setTimeout(E,this.failedPublishTimeout))}this.relayer.events.emit(Ka.publish,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:s,opts:i}})}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw E;this.queue.set(f,h)}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=uo(r,this.name),this.registerEventListeners()}get context(){return Vo(this.logger)}rpcPublish(e,r,n,s,i,a,o,c){var l,u,f,h;const m={method:t3(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:i,tag:a,attestation:c},id:o};return _o((l=m.params)==null?void 0:l.prompt)&&((u=m.params)==null||delete u.prompt),_o((f=m.params)==null?void 0:f.tag)&&((h=m.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.request(m)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ka.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ka.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},Emt=class{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var _mt=Object.defineProperty,Cmt=Object.defineProperties,Tmt=Object.getOwnPropertyDescriptors,eQ=Object.getOwnPropertySymbols,jmt=Object.prototype.hasOwnProperty,$mt=Object.prototype.propertyIsEnumerable,tQ=(t,e,r)=>e in t?_mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Aw=(t,e)=>{for(var r in e||(e={}))jmt.call(e,r)&&tQ(t,r,e[r]);if(eQ)for(var r of eQ(e))$mt.call(e,r)&&tQ(t,r,e[r]);return t},gC=(t,e)=>Cmt(t,Tmt(e));let Mmt=class extends qut{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new Emt,this.events=new Un.EventEmitter,this.name=O0t,this.version=F0t,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=rf,this.subscribeTimeout=$e.toMiliseconds($e.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=cO(s),a={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,a);const o=await this.rpcSubscribe(n,i,s);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const s=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((i,a)=>{const o=new $e.Watch;o.start(s);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),o.stop(s),i(!0)),o.elapsed(s)>=B0t&&(clearInterval(c),o.stop(s),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=uo(r,this.name),this.clientId=""}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=cO(n);await this.rpcUnsubscribe(e,r,s);const i=_n("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(n==null?void 0:n.transportType)===En.relay&&await this.restartToComplete();const i={method:t3(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const a=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const o=Hf(e+this.clientId);if((n==null?void 0:n.transportType)===En.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(l=>this.logger.warn(l))},$e.toMiliseconds($e.ONE_SECOND)),o;const c=await Wy(this.relayer.request(i).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ka.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:t3(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Wy(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Ka.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:t3(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Wy(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Ka.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:t3(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,gC(Aw({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Aw({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Aw({},r)),this.topicMap.set(r.topic,e),this.events.emit(ed.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=$t("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(ed.deleted,gC(Aw({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ed.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(ed.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=$t("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);_5(r)&&this.onBatchSubscribe(r.map((n,s)=>gC(Aw({},e[s]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(ed.created,async e=>{const r=ed.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(ed.deleted,async e=>{const r=ed.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}};var Omt=Object.defineProperty,rQ=Object.getOwnPropertySymbols,Fmt=Object.prototype.hasOwnProperty,Bmt=Object.prototype.propertyIsEnumerable,nQ=(t,e,r)=>e in t?Omt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sQ=(t,e)=>{for(var r in e||(e={}))Fmt.call(e,r)&&nQ(t,r,e[r]);if(rQ)for(var r of rQ(e))Bmt.call(e,r)&&nQ(t,r,e[r]);return t};let Rmt=class extends Hut{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Un.EventEmitter,this.name=C0t,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=$e.toMiliseconds($e.THIRTY_SECONDS+$e.ONE_SECOND),this.request=async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||ml().toString();await this.toEstablishConnection();try{const a=this.provider.request(r);this.requestsInFlight.set(i,{promise:a,request:r}),this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const o=await new Promise(async(c,l)=>{const u=()=>{l(new Error(`relayer.request - publish interrupted, id: ${i}`))};this.provider.on(Lc.disconnect,u);const f=await a;this.provider.off(Lc.disconnect,u),c(f)});return this.logger.trace({id:i,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - published"),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(BS())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s;(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||s.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Ka.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Ka.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Lc.payload,this.onPayloadHandler),this.provider.on(Lc.connect,this.onConnectHandler),this.provider.on(Lc.disconnect,this.onDisconnectHandler),this.provider.on(Lc.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?uo(e.logger,this.name):kI(ZD({level:e.logger||_0t})),this.messages=new Imt(this.logger,e.core),this.subscriber=new Mmt(this,this.logger),this.publisher=new Nmt(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||wge,this.projectId=e.projectId,this.bundleId=_ft(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Vo(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:En.relay})}async subscribe(e,r){var n,s,i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ed.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ed.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,sQ({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Wy(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const s=()=>{this.provider.off(Lc.disconnect,s),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Lc.disconnect,s),await Wy(this.provider.connect(),$e.toMiliseconds($e.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{n(i)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(i=>{this.logger.error(i),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await VJ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=Ls($e.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(Ka.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,s,i;if(BS())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new HD(new b0t($ft({sdkVersion:lO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),mm(e)){if(!e.method.endsWith(T0t))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:En.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(sQ({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Hh(e)&&this.events.emit(Ka.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Ka.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=hm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Lc.payload,this.onPayloadHandler),this.provider.off(Lc.connect,this.onConnectHandler),this.provider.off(Lc.disconnect,this.onDisconnectHandler),this.provider.off(Lc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await VJ();d0t(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Ka.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},$e.toMiliseconds(j0t))))}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}};var Dmt=Object.defineProperty,iQ=Object.getOwnPropertySymbols,Umt=Object.prototype.hasOwnProperty,zmt=Object.prototype.propertyIsEnumerable,aQ=(t,e,r)=>e in t?Dmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oQ=(t,e)=>{for(var r in e||(e={}))Umt.call(e,r)&&aQ(t,r,e[r]);if(iQ)for(var r of iQ(e))zmt.call(e,r)&&aQ(t,r,e[r]);return t};let G1=class extends Wut{constructor(e,r,n,s=rf,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=$0t,this.cached=[],this.initialized=!1,this.storagePrefix=rf,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!_o(a)?this.map.set(this.getKey(a),a):Lht(a)?this.map.set(a.id,a):Vht(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>bge(o[c],a[c]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=oQ(oQ({},this.getData(a)),o);this.map.set(a,c),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())},this.logger=uo(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=$t("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=$t("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=$t("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},Lmt=class{constructor(e,r){this.core=e,this.logger=r,this.name=R0t,this.version=D0t,this.events=new D4,this.initialized=!1,this.storagePrefix=rf,this.ignoredPayloadTypes=[xh],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const s=oO(),i=await this.core.crypto.setSymKey(s),a=Ls($e.FIVE_MINUTES),o={protocol:xge},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=BJ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(Zm.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:l}},this.pair=async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Yu.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=FJ(n.uri);s.props.properties.topic=i,s.addTrace(Yu.pairing_uri_validation_success),s.addTrace(Yu.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Yu.existing_pairing),u.active)throw s.setError(Of.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Yu.pairing_not_expired)}const f=c||Ls($e.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(Yu.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Zm.create,h),s.addTrace(Yu.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(Yu.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Of.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(Of.subscribe_pairing_topic_failure),m}return s.addTrace(Yu.subscribe_pairing_topic_success),h},this.activate=async({topic:n})=>{this.isInitialized();const s=Ls($e.THIRTY_DAYS);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Vm();this.events.once(Mr("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",_n("USER_DISCONNECTED")),await this.deletePairing(s))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return BJ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})},this.sendRequest=async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=xw[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id},this.sendResult=async(n,s,i)=>{const a=hm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=xw[c.request.method].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.sendError=async(n,s,i)=>{const a=pm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=xw[c.request.method]?xw[c.request.method].res:xw.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,_n("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>F0(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(Zm.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit(Mr("pairing_ping",i),{}):Ri(s)&&this.events.emit(Mr("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Zm.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=_n("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(_n("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,s)=>{var i;if(!vo(n)){const{message:o}=$t("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(Of.malformed_pairing_uri),new Error(o)}if(!zht(n.uri)){const{message:o}=$t("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(Of.malformed_pairing_uri),new Error(o)}const a=FJ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=$t("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Of.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=$t("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Of.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&$e.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(Of.pairing_expired);const{message:o}=$t("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!vo(n)){const{message:i}=$t("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!vo(n)){const{message:i}=$t("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!Es(n,!1)){const{message:s}=$t("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=$t("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(F0(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=$t("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=uo(r,this.name),this.pairings=new G1(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Vo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ka.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(!this.pairings.keys.includes(r)||s===En.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{mm(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Hh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Zc.expired,async e=>{const{topic:r}=age(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Zm.expire,{topic:r}))})}},Vmt=class extends zut{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Un.EventEmitter,this.name=U0t,this.version=z0t,this.cached=[],this.initialized=!1,this.storagePrefix=rf,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:Ls($e.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ul.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ul.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ul.deleted,i)}}),this.persist()},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=uo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=$t("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ul.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=$t("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ul.created,e=>{const r=Ul.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ul.updated,e=>{const r=Ul.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ul.deleted,e=>{const r=Ul.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{$e.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ul.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},Hmt=class extends Kut{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Un.EventEmitter,this.name=L0t,this.version=V0t,this.cached=[],this.initialized=!1,this.storagePrefix=rf,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Zc.created,{target:i,expiration:a})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Zc.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=uo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Mft(e);if(typeof e=="number")return Oft(e);const{message:r}=$t("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=$t("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=$t("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;$e.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Zc.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(Zc.created,e=>{const r=Zc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zc.expired,e=>{const r=Zc.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zc.deleted,e=>{const r=Zc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}},Wmt=class extends Xut{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=H0t,this.verifyUrlV3=q0t,this.storagePrefix=rf,this.version=vge,this.init=async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&$e.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async s=>{if(!k5()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer($e.ONE_SECOND*5),f=await new Promise((h,m)=>{const v=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",v,{signal:this.abortController.signal});const k=E=>{if(E.data&&typeof E.data=="string")try{const P=JSON.parse(E.data);if(P.type==="verify_attestation"){if(rO(P.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",k),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""},this.resolve=async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(rO(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)},this.fetchAttestation=async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer($e.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0},this.getVerifyUrl=s=>{let i=s||_3;return K0t.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${_3}`),i=_3),i},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer($e.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}},this.persistPublicKey=async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s},this.validateAttestation=(s,i)=>{const a=Aht(s,i.publicKey),o={hasExpired:$e.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}},this.logger=uo(r,this.name),this.abortController=new AbortController,this.isDevEnv=nU(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Vo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),$e.toMiliseconds(e))}},qmt=class extends Zut{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=X0t,this.registerDeviceToken=async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${Z0t}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})},this.logger=uo(r,this.context)}};var Kmt=Object.defineProperty,cQ=Object.getOwnPropertySymbols,Xmt=Object.prototype.hasOwnProperty,Zmt=Object.prototype.propertyIsEnumerable,lQ=(t,e,r)=>e in t?Kmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sw=(t,e)=>{for(var r in e||(e={}))Xmt.call(e,r)&&lQ(t,r,e[r]);if(cQ)for(var r of cQ(e))Zmt.call(e,r)&&lQ(t,r,e[r]);return t};let Jmt=class extends Jut{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=Q0t,this.storagePrefix=rf,this.storageVersion=J0t,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!nU())try{const s={eventId:PJ(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:rge(this.core.relayer.protocol,this.core.relayer.version,lO)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}},this.createEvent=s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=PJ(),u=this.core.projectId||"",f=Date.now(),h=Sw({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return Sw(Sw({},o),this.setMethods(o.eventId))},this.deleteEvent=s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{$e.fromMiliseconds(Date.now())-$e.fromMiliseconds(s.timestamp)>Y0t&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})},this.setMethods=s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)}),this.addTrace=(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)},this.setError=(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Sw(Sw({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}},this.sendEvent=async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${G0t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${lO}${i}`,{method:"POST",body:JSON.stringify(s)})},this.getAppDomain=()=>tge().url,this.logger=uo(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var Qmt=Object.defineProperty,uQ=Object.getOwnPropertySymbols,Ymt=Object.prototype.hasOwnProperty,Gmt=Object.prototype.propertyIsEnumerable,dQ=(t,e,r)=>e in t?Qmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fQ=(t,e)=>{for(var r in e||(e={}))Ymt.call(e,r)&&dQ(t,r,e[r]);if(uQ)for(var r of uQ(e))Gmt.call(e,r)&&dQ(t,r,e[r]);return t};let egt=class $ge extends Uut{constructor(e){var r;super(e),this.protocol=yge,this.version=vge,this.name=oU,this.events=new Un.EventEmitter,this.initialized=!1,this.on=(a,o)=>this.events.on(a,o),this.once=(a,o)=>this.events.once(a,o),this.off=(a,o)=>this.events.off(a,o),this.removeListener=(a,o)=>this.events.removeListener(a,o),this.dispatchEnvelope=({topic:a,message:o,sessionExists:c})=>{if(!a||!o)return;const l={topic:a,message:o,publishedAt:Date.now(),transportType:En.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||wge,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=ZD({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:v0t.logger}),{logger:s,chunkLoggerController:i}=Dut({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,o;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((o=this.logChunkController)==null||o.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=uo(s,this.name),this.heartbeat=new dD,this.crypto=new kmt(this,this.logger,e==null?void 0:e.keychain),this.history=new Vmt(this,this.logger),this.expirer=new Hmt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new put(fQ(fQ({},x0t),e==null?void 0:e.storageOptions)),this.relayer=new Rmt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Lmt(this,this.logger),this.verify=new Wmt(this,this.logger,this.storage),this.echoClient=new qmt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Jmt(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new $ge(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(M0t,n),r}get context(){return Vo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(KJ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(KJ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const tgt=egt,Mge="wc",Oge=2,Fge="client",cU=`${Mge}@${Oge}:${Fge}:`,bC={name:Fge,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},hQ="WALLETCONNECT_DEEPLINK_CHOICE",rgt="proposal",ngt="Proposal expired",sgt="session",Ab=$e.SEVEN_DAYS,igt="engine",si={wc_sessionPropose:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1104},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1106},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1112},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1114},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:$e.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:$e.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1119}}},yC={min:$e.FIVE_MINUTES,max:$e.SEVEN_DAYS},Xu={idle:"IDLE",active:"ACTIVE"},agt="request",ogt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],cgt="wc",lgt="auth",ugt="authKeys",dgt="pairingTopics",fgt="requests",DI=`${cgt}@${1.5}:${lgt}:`,j7=`${DI}:PUB_KEY`;var hgt=Object.defineProperty,pgt=Object.defineProperties,mgt=Object.getOwnPropertyDescriptors,pQ=Object.getOwnPropertySymbols,ggt=Object.prototype.hasOwnProperty,bgt=Object.prototype.propertyIsEnumerable,mQ=(t,e,r)=>e in t?hgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gs=(t,e)=>{for(var r in e||(e={}))ggt.call(e,r)&&mQ(t,r,e[r]);if(pQ)for(var r of pQ(e))bgt.call(e,r)&&mQ(t,r,e[r]);return t},Ll=(t,e)=>pgt(t,mgt(e));let ygt=class extends Yut{constructor(e){super(e),this.name=igt,this.events=new D4,this.initialized=!1,this.requestQueue={state:Xu.idle,queue:[]},this.sessionRequestQueue={state:Xu.idle,queue:[]},this.requestQueueDelay=$e.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(si)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},$e.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Ll(gs({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:o,relays:c}=n;let l=s,u,f=!1;try{l&&(f=this.client.core.pairing.pairings.get(l).active)}catch(M){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),M}if(!l||!f){const{topic:M,uri:B}=await this.client.core.pairing.create();l=M,u=B}if(!l){const{message:M}=$t("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(M)}const h=await this.client.core.crypto.generateKeyPair(),m=si.wc_sessionPropose.req.ttl||$e.FIVE_MINUTES,v=Ls(m),x=gs({requiredNamespaces:i,optionalNamespaces:a,relays:c??[{protocol:xge}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:l},o&&{sessionProperties:o}),{reject:k,resolve:E,done:P}=Vm(m,ngt);this.events.once(Mr("session_connect"),async({error:M,session:B})=>{if(M)k(M);else if(B){B.self.publicKey=h;const D=Ll(gs({},B),{pairingTopic:x.pairingTopic,requiredNamespaces:x.requiredNamespaces,optionalNamespaces:x.optionalNamespaces,transportType:En.relay});await this.client.session.set(B.topic,D),await this.setExpiry(B.topic,B.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:B.peer.metadata}),this.cleanupDuplicatePairings(D),E(D)}});const _=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:x,throwOnFailedPublish:!0});return await this.setProposal(_,gs({id:_},x)),{uri:u,approval:P}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,s,i;const a=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[zl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw a.setError(Tm.no_internet_connection),T}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),a.setError(Tm.proposal_not_found),T}try{await this.isValidApprove(r)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(Tm.session_approve_namespace_validation_failure),T}const{id:o,relayProtocol:c,namespaces:l,sessionProperties:u,sessionConfig:f}=r,h=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:m,proposer:v,requiredNamespaces:x,optionalNamespaces:k}=h;let E=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});E||(E=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:zl.session_approve_started,properties:{topic:m,trace:[zl.session_approve_started,zl.session_namespaces_validation_success]}}));const P=await this.client.core.crypto.generateKeyPair(),_=v.publicKey,M=await this.client.core.crypto.generateSharedKey(P,_),B=gs(gs({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:P,metadata:this.client.metadata},expiry:Ls(Ab)},u&&{sessionProperties:u}),f&&{sessionConfig:f}),D=En.relay;E.addTrace(zl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(M,{transportType:D})}catch(T){throw E.setError(Tm.subscribe_session_topic_failure),T}E.addTrace(zl.subscribe_session_topic_success);const j=Ll(gs({},B),{topic:M,requiredNamespaces:x,optionalNamespaces:k,pairingTopic:m,acknowledged:!1,self:B.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:P,transportType:En.relay});await this.client.session.set(M,j),E.addTrace(zl.store_session);try{E.addTrace(zl.publishing_session_settle),await this.sendRequest({topic:M,method:"wc_sessionSettle",params:B,throwOnFailedPublish:!0}).catch(T=>{throw E==null||E.setError(Tm.session_settle_publish_failure),T}),E.addTrace(zl.session_settle_publish_success),E.addTrace(zl.publishing_session_approve),await this.sendResult({id:o,topic:m,result:{relay:{protocol:c??"irn"},responderPublicKey:P},throwOnFailedPublish:!0}).catch(T=>{throw E==null||E.setError(Tm.session_approve_publish_failure),T}),E.addTrace(zl.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(M,_n("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(M),T}return this.client.core.eventClient.deleteEvent({eventId:E.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:v.metadata}),await this.client.proposal.delete(o,_n("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(M,Ls(Ab)),{topic:M,acknowledged:()=>Promise.resolve(this.client.session.get(M))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}i&&(await this.sendError({id:n,topic:i,error:s,rpcOpts:si.wc_sessionPropose.reject}),await this.client.proposal.delete(n,_n("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:s}=r,{done:i,resolve:a,reject:o}=Vm(),c=O0(),l=ml().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Mr("session_update",c),({error:f})=>{f?o(f):a()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),o(f)}),{acknowledged:i}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,s=O0(),{done:i,resolve:a,reject:o}=Vm();return this.events.once(Mr("session_extend",s),({error:c})=>{c?o(c):a()}),await this.setExpiry(n,Ls(Ab)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:i}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(v){throw this.client.logger.error("request() -> isValidRequest() failed"),v}const{chainId:n,request:s,topic:i,expiry:a=si.wc_sessionRequest.req.ttl}=r,o=this.client.session.get(i);(o==null?void 0:o.transportType)===En.relay&&await this.confirmOnlineStateOrThrow();const c=O0(),l=ml().toString(),{done:u,resolve:f,reject:h}=Vm(a,"Request expired. Please try again.");this.events.once(Mr("session_request",c),({error:v,result:x})=>{v?h(v):f(x)});const m=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);return m?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:"wc_sessionRequest",params:{request:Ll(gs({},s),{expiryTimestamp:Ls(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:m}).catch(v=>h(v)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await u()):await Promise.all([new Promise(async v=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:"wc_sessionRequest",params:{request:Ll(gs({},s),{expiryTimestamp:Ls(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0}).catch(x=>h(x)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),v()}),new Promise(async v=>{var x;if(!((x=o.sessionConfig)!=null&&x.disableDeepLink)){const k=await Dft(this.client.core.storage,hQ);await Bft({id:c,topic:i,wcDeepLink:k})}v()}),u()]).then(v=>v[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:i}=s,a=this.client.session.get(n);a.transportType===En.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);sc(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0,appLink:o}):Ri(s)&&await this.sendError({id:i,topic:n,error:s.error,appLink:o}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=O0(),i=ml().toString(),{done:a,resolve:o,reject:c}=Vm();this.events.once(Mr("session_ping",s),({error:l})=>{l?c(l):o()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,a=ml().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:a})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:_n("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=$t("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Dht(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),a=i?En.link_mode:En.relay;a===En.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:c="",uri:l,domain:u,nonce:f,type:h,exp:m,nbf:v,methods:x=[],expiry:k}=r,E=[...r.resources||[]],{topic:P,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:_}});const M=await this.client.core.crypto.generateKeyPair(),B=T7(M);if(await Promise.all([this.client.auth.authKeys.set(j7,{responseTopic:B,publicKey:M}),this.client.auth.pairingTopics.set(B,{topic:B,pairingTopic:P})]),await this.client.core.relayer.subscribe(B,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${P}`),x.length>0){const{namespace:I}=_7(o[0]);let A=aht(I,"request",x);C7(E)&&(A=cht(A,E.pop())),E.push(A)}const D=k&&k>si.wc_sessionAuthenticate.req.ttl?k:si.wc_sessionAuthenticate.req.ttl,j={authPayload:{type:h??"caip122",chains:o,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:v,resources:E},requester:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ls(D)},T={eip155:{chains:o,methods:[...new Set(["personal_sign",...x])],events:["chainChanged","accountsChanged"]}},R={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:P,proposer:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ls(si.wc_sessionPropose.req.ttl)},{done:H,resolve:O,reject:b}=Vm(D,"Request expired"),w=async({error:I,session:A})=>{if(this.events.off(Mr("session_request",g),p),I)b(I);else if(A){A.self.publicKey=M,await this.client.session.set(A.topic,A),await this.setExpiry(A.topic,A.expiry),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:A.peer.metadata});const y=this.client.session.get(A.topic);await this.deleteProposal(S),O({session:y})}},p=async I=>{var A,y,C;if(await this.deletePendingAuthRequest(g,{message:"fulfilled",code:0}),I.error){const re=_n("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return I.error.code===re.code?void 0:(this.events.off(Mr("session_connect"),w),b(I.error.message))}await this.deleteProposal(S),this.events.off(Mr("session_connect"),w);const{cacaos:$,responder:L}=I.result,Q=[],U=[];for(const re of $){await NJ({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,"Signature verification failed"),b(_n("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=re,z=C7(G.resources),se=[aO(G.iss)],ce=RS(G.iss);if(z){const pe=EJ(z),Ce=_J(z);Q.push(...pe),se.push(...Ce)}for(const pe of se)U.push(`${pe}:${ce}`)}const J=await this.client.core.crypto.generateSharedKey(M,L.publicKey);let Z;Q.length>0&&(Z={topic:J,acknowledged:!0,self:{publicKey:M,metadata:this.client.metadata},peer:L,controller:L.publicKey,expiry:Ls(Ab),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:RJ([...new Set(Q)],[...new Set(U)]),transportType:a},await this.client.core.relayer.subscribe(J,{transportType:a}),await this.client.session.set(J,Z),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:L.metadata}),Z=this.client.session.get(J)),(A=this.client.metadata.redirect)!=null&&A.linkMode&&(y=L.metadata.redirect)!=null&&y.linkMode&&(C=L.metadata.redirect)!=null&&C.universal&&n&&(this.client.core.addLinkModeSupportedApp(L.metadata.redirect.universal),this.client.session.update(J,{transportType:En.link_mode})),O({auths:$,session:Z})},g=O0(),S=O0();this.events.once(Mr("session_connect"),w),this.events.once(Mr("session_request",g),p);let N;try{if(i){const I=gl("wc_sessionAuthenticate",j,g);this.client.core.history.set(P,I);const A=await this.client.core.crypto.encode("",I,{type:E5,encoding:yw});N=x9(n,P,A)}else await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:j,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:g}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:R,expiry:si.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S})])}catch(I){throw this.events.off(Mr("session_connect"),w),this.events.off(Mr("session_request",g),p),I}return await this.setProposal(S,gs({id:S},R)),await this.setAuthRequest(g,{request:Ll(gs({},j),{verifyContext:{}}),pairingTopic:P,transportType:a}),{uri:N??_,response:H}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[jm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(k){throw i.setError(ww.no_internet_connection),k}const a=this.getPendingAuthRequest(n);if(!a)throw i.setError(ww.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const o=a.transportType||En.relay;o===En.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=T7(c),f={type:xh,receiverPublicKey:c,senderPublicKey:l},h=[],m=[];for(const k of s){if(!await NJ({cacao:k,projectId:this.client.core.projectId})){i.setError(ww.invalid_cacao);const B=_n("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:B,encodeOpts:f}),new Error(B.message)}i.addTrace(jm.cacaos_verified);const{p:E}=k,P=C7(E.resources),_=[aO(E.iss)],M=RS(E.iss);if(P){const B=EJ(P),D=_J(P);h.push(...B),_.push(...D)}for(const B of _)m.push(`${B}:${M}`)}const v=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(jm.create_authenticated_session_topic);let x;if((h==null?void 0:h.length)>0){x={topic:v,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:Ls(Ab),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:RJ([...new Set(h)],[...new Set(m)]),transportType:o},i.addTrace(jm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:o})}catch(k){throw i.setError(ww.subscribe_authenticated_session_topic_failure),k}i.addTrace(jm.subscribe_authenticated_session_topic_success),await this.client.session.set(v,x),i.addTrace(jm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace(jm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(k){throw i.setError(ww.authenticated_session_approve_publish_failure),k}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:x}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===En.relay&&await this.confirmOnlineStateOrThrow();const a=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=T7(a),l={type:xh,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:si.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,_n("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:s}=r;return cge(n,s)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var a,o;return((a=i.peerMetadata)==null?void 0:a.url)&&((o=i.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:a=!0,id:o=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,_n("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(hQ).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,_n("USER_DISCONNECTED"))}),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Xu.idle),a&&this.client.events.emit("session_delete",{id:o,topic:s})},this.deleteProposal=async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Tm.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,_n("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=Xu.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Ls(si.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:s,pairingTopic:i,transportType:a=En.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:a})},this.setPendingSessionRequest=async r=>{const{id:n,topic:s,params:i,verifyContext:a}=r,o=i.request.expiryTimestamp||Ls(si.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,o),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:a})},this.sendRequest=async r=>{const{topic:n,method:s,params:i,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:l,appLink:u}=r,f=gl(s,i,c);let h;const m=!!u;try{const k=m?yw:xp;h=await this.client.core.crypto.encode(n,f,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),k}let v;if(ogt.includes(s)){const k=Hf(JSON.stringify(f)),E=Hf(h);v=await this.client.core.verify.register({id:E,decryptedId:k})}const x=si[s].req;if(x.attestation=v,a&&(x.ttl=a),o&&(x.id=o),this.client.core.history.set(n,f),m){const k=x9(u,n,h);await global.Linking.openURL(k,this.client.name)}else{const k=si[s].req;a&&(k.ttl=a),o&&(k.id=o),l?(k.internal=Ll(gs({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,k)):this.client.core.relayer.publish(n,h,k).catch(E=>this.client.logger.error(E))}return f.id},this.sendResult=async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=r,l=hm(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?yw:xp;u=await this.client.core.crypto.encode(s,l,Ll(gs({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),m}let h;try{h=await this.client.core.history.get(s,n)}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),m}if(f){const m=x9(c,s,u);await global.Linking.openURL(m,this.client.name)}else{const m=si[h.request.method].res;a?(m.internal=Ll(gs({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:n,topic:s,error:i,encodeOpts:a,rpcOpts:o,appLink:c}=r,l=pm(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?yw:xp;u=await this.client.core.crypto.encode(s,l,Ll(gs({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),m}let h;try{h=await this.client.core.history.get(s,n)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),m}if(f){const m=x9(c,s,u);await global.Linking.openURL(m,this.client.name)}else{const m=o||si[h.request.method].res;this.client.core.relayer.publish(s,u,m)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;F0(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{F0(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Xu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Xu.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Xu.idle},this.processRequest=async r=>{const{topic:n,payload:s,attestation:i,transportType:a,encryptedId:o}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s,transportType:i}=r,a=(await this.client.core.history.get(n,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:s}=$t("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:s,attestation:i,encryptedId:a}=r,{params:o,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(gs({},s.params));const u=o.expiryTimestamp||Ls(si.wc_sessionPropose.req.ttl),f=gs({id:c,pairingTopic:n,expiryTimestamp:u},o);await this.setProposal(c,f);const h=await this.getVerifyContext({attestationId:i,hash:Hf(JSON.stringify(s)),encryptedId:a,metadata:f.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Of.proposal_listener_not_found)),l==null||l.addTrace(Yu.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:si.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,n,s)=>{const{id:i}=n;if(sc(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Ri(n)){await this.client.proposal.delete(i,_n("USER_DISCONNECTED"));const a=Mr("session_connect");if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(Mr("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:a,controller:o,expiry:c,namespaces:l,sessionProperties:u,sessionConfig:f}=n.params,h=Ll(gs(gs({topic:r,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),f&&{sessionConfig:f}),{transportType:En.relay}),m=Mr("session_connect");if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners 997`);this.events.emit(Mr("session_connect"),{session:h}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionSettleResponse=async(r,n)=>{const{id:s}=n;sc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Mr("session_approve",s),{})):Ri(n)&&(await this.client.session.delete(r,_n("USER_DISCONNECTED")),this.events.emit(Mr("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:s,id:i}=n;try{const a=`${r}_session_update`,o=vw.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:_n("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(gs({topic:r},s));try{vw.set(a,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw vw.delete(a),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:s}=n,i=Mr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit(Mr("session_update",s),{}):Ri(n)&&this.events.emit(Mr("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Ls(Ab)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}},this.onSessionExtendResponse=(r,n)=>{const{id:s}=n,i=Mr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit(Mr("session_extend",s),{}):Ri(n)&&this.events.emit(Mr("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}},this.onSessionPingResponse=(r,n)=>{const{id:s}=n,i=Mr("session_ping",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);setTimeout(()=>{sc(n)?this.events.emit(Mr("session_ping",s),{}):Ri(n)&&this.events.emit(Mr("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Ka.publish,async()=>{i(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:_n("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async r=>{var n,s,i;const{topic:a,payload:o,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:h}=o;try{await this.isValidRequest(gs({topic:a},h));const m=this.client.session.get(a),v=await this.getVerifyContext({attestationId:c,hash:Hf(JSON.stringify(gl("wc_sessionRequest",h,f))),encryptedId:l,metadata:m.peer.metadata,transportType:u}),x={id:f,topic:a,params:h,verifyContext:v};await this.setPendingSessionRequest(x),u===En.link_mode&&(n=m.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=m.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(x):(this.addSessionRequestToSessionRequestQueue(x),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:a,error:m}),this.client.logger.error(m)}},this.onSessionRequestResponse=(r,n)=>{const{id:s}=n,i=Mr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit(Mr("session_request",s),{result:n.result}):Ri(n)&&this.events.emit(Mr("session_request",s),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:s,params:i}=n;try{const a=`${r}_session_event_${i.event.name}`,o=vw.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(gs({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),vw.set(a,s)}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),sc(n)?this.events.emit(Mr("session_request",s),{result:n.result}):Ri(n)&&this.events.emit(Mr("session_request",s),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:s,payload:i,attestation:a,encryptedId:o,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,h=await this.getVerifyContext({attestationId:a,hash:Hf(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:c}),m={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:m,pairingTopic:s,transportType:c}),c===En.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),m={type:xh,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:m,rpcOpts:si.wc_sessionAuthenticate.autoReject,appLink:h})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Xu.idle,this.processSessionRequestQueue()},$e.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{const a=i.request.id,o=Mr("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(Mr("session_request",i.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Xu.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Xu.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:gl("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!vo(r)){const{message:c}=$t("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:a,relays:o}=r;if(_o(n)||await this.isValidPairingTopic(n),!Qht(o)){const{message:c}=$t("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(c)}!_o(s)&&DS(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!_o(i)&&DS(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),_o(a)||this.validateSessionProps(a,"sessionProperties")},this.validateNamespaces=(r,n)=>{const s=Jht(r,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!vo(r))throw new Error($t("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const o=this.client.proposal.get(n),c=hC(s,"approve()");if(c)throw new Error(c.message);const l=zJ(o.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!Es(i,!0)){const{message:u}=$t("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(u)}_o(a)||this.validateSessionProps(a,"sessionProperties")},this.isValidReject=async r=>{if(!vo(r)){const{message:i}=$t("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Ght(s)){const{message:i}=$t("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidSessionSettleRequest=r=>{if(!vo(r)){const{message:l}=$t("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:s,namespaces:i,expiry:a}=r;if(!gge(n)){const{message:l}=$t("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=Hht(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const c=hC(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(F0(a)){const{message:l}=$t("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!vo(r)){const{message:c}=$t("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),a=hC(s,"update()");if(a)throw new Error(a.message);const o=zJ(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async r=>{if(!vo(r)){const{message:s}=$t("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!vo(r)){const{message:c}=$t("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:a}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!UJ(o,i)){const{message:c}=$t("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!e0t(s)){const{message:c}=$t("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!n0t(o,i,s.method)){const{message:c}=$t("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(a&&!o0t(a,yC)){const{message:c}=$t("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${yC.min} and ${yC.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!vo(r)){const{message:a}=$t("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!t0t(i)){const{message:a}=$t("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!vo(r)){const{message:s}=$t("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!vo(r)){const{message:o}=$t("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!UJ(a,i)){const{message:o}=$t("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!r0t(s)){const{message:o}=$t("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!s0t(a,i,s.name)){const{message:o}=$t("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidDisconnect=async r=>{if(!vo(r)){const{message:s}=$t("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:s,domain:i,nonce:a}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Es(s,!1))throw new Error("uri is required parameter");if(!Es(i,!1))throw new Error("domain is required parameter");if(!Es(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>_7(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=_7(n[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:a,transportType:o}=r,c={verified:{verifyUrl:a.verifyUrl||_3,validation:"UNKNOWN",origin:a.url||""}};try{if(o===En.link_mode){const u=this.getAppLinkIfEnabled(a,o);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(s=>{if(!Es(s,!1)){const{message:i}=$t("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(a)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=$t("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}},this.isLinkModeEnabled=(r,n)=>{var s,i,a,o,c,l,u,f,h;return!r||n!==En.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=SJ(r,"topic")||"",s=decodeURIComponent(SJ(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:En.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})},this.registerLinkModeListeners=async()=>{var r;if(nU()||C2()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=$t("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ka.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(j7)?this.client.auth.authKeys.get(j7):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(r,n,{receiverPublicKey:a,encoding:i===En.link_mode?yw:xp});try{mm(o)?(this.client.core.history.set(r,o),this.onRelayEventRequest({topic:r,payload:o,attestation:s,transportType:i,encryptedId:Hf(n)})):Hh(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o,transportType:i}),this.client.core.history.delete(r,o.id)):this.onRelayEventUnknownPayload({topic:r,payload:o,transportType:i})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Zc.expired,async e=>{const{topic:r,id:n}=age(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,$t("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,$t("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Zm.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Zm.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Es(e,!1)){const{message:r}=$t("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=$t("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(F0(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=$t("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Es(e,!1)){const{message:r}=$t("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=$t("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(F0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=$t("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=$t("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Es(e,!1)){const{message:r}=$t("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=$t("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Yht(e)){const{message:r}=$t("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=$t("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(F0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=$t("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},vgt=class extends G1{constructor(e,r){super(e,r,rgt,cU),this.core=e,this.logger=r}},Bge=class extends G1{constructor(e,r){super(e,r,sgt,cU),this.core=e,this.logger=r}};class xgt extends G1{constructor(e,r){super(e,r,agt,cU,n=>n.id),this.core=e,this.logger=r}}class wgt extends G1{constructor(e,r){super(e,r,ugt,DI,()=>j7),this.core=e,this.logger=r}}let Agt=class extends G1{constructor(e,r){super(e,r,dgt,DI),this.core=e,this.logger=r}},Sgt=class extends G1{constructor(e,r){super(e,r,fgt,DI,n=>n.id),this.core=e,this.logger=r}};class Pgt{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new wgt(this.core,this.logger),this.pairingTopics=new Agt(this.core,this.logger),this.requests=new Sgt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}let kgt=class Rge extends Qut{constructor(e){super(e),this.protocol=Mge,this.version=Oge,this.name=bC.name,this.events=new Un.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}},this.name=(e==null?void 0:e.name)||bC.name,this.metadata=(e==null?void 0:e.metadata)||tge(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:kI(ZD({level:(e==null?void 0:e.logger)||bC.logger}));this.core=(e==null?void 0:e.core)||new tgt(e),this.logger=uo(r,this.name),this.session=new Bge(this.core,this.logger),this.proposal=new vgt(this.core,this.logger),this.pendingRequest=new xgt(this.core,this.logger),this.engine=new ygt(this),this.auth=new Pgt(this.core,this.logger)}static async init(e){const r=new Rge(e);return await r.initialize(),r}get context(){return Vo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const Igt=Bge,Ngt=kgt,Egt="idb-keyval";var _gt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=eI(t.dbName,t.storeName)),{name:Egt,options:t,async hasItem(s){return!(typeof await Fx(r(s),n)>"u")},async getItem(s){return await Fx(r(s),n)??null},setItem(s,i){return hD(r(s),i,n)},removeItem(s){return pD(r(s),n)},getKeys(){return gD(n)},clear(){return mD(n)}}};const Cgt="WALLET_CONNECT_V2_INDEXED_DB",Tgt="keyvaluestorage";let jgt=class{constructor(){this.indexedDb=fD({driver:_gt({dbName:Cgt,storeName:Tgt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Zs(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof vC<"u"&&vC.localStorage?$7.exports=vC.localStorage:typeof window<"u"&&window.localStorage?$7.exports=window.localStorage:$7.exports=new e})();function $gt(t){var e;return[t[0],Ai((e=t[1])!=null?e:"")]}let Mgt=class{constructor(){this.localStorage=$7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map($gt)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ai(r)}async setItem(e,r){this.localStorage.setItem(e,Zs(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Ogt="wc_storage_version",gQ=1,Fgt=async(t,e,r)=>{const n=Ogt,s=await e.getItem(n);if(s&&s>=gQ){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,gQ),r(e),Bgt(t,a)},Bgt=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Rgt=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Mgt;this.storage=e;try{const r=new jgt;Fgt(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};const bQ=qD;var Ub=Kd;const e4=Xgt().console||{},Dgt={mapHttpRequest:w9,mapHttpResponse:w9,wrapRequestSerializer:xC,wrapResponseSerializer:xC,wrapErrorSerializer:xC,req:w9,res:w9,err:Hgt};function Ugt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Kd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||e4;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=Ugt(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=t4),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:Wgt(t)};c.levels=Kd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=t4,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=fO());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,Sb(l,c,"error","log"),Sb(l,c,"fatal","error"),Sb(l,c,"warn","error"),Sb(l,c,"info","log"),Sb(l,c,"debug","log"),Sb(l,c,"trace","log")}function m(v,x){if(!v)throw new Error("missing bindings for child Pino");x=x||{},s&&v.serializers&&(x.serializers=v.serializers);const k=x.serializers;if(s&&k){var E=Object.assign({},n,k),P=t.browser.serialize===!0?Object.keys(E):s;delete v.serializers,UI([v],P,E,this._stdErrSerialize)}function _(M){this._childLevel=(M._childLevel|0)+1,this.error=Pb(M,v,"error"),this.fatal=Pb(M,v,"fatal"),this.warn=Pb(M,v,"warn"),this.info=Pb(M,v,"info"),this.debug=Pb(M,v,"debug"),this.trace=Pb(M,v,"trace"),E&&(this.serializers=E,this._serialize=P),e&&(this._logEvent=fO([].concat(M._logEvent.bindings,v)))}return _.prototype=this,new _(this)}return c}Kd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Kd.stdSerializers=Dgt;Kd.stdTimeFunctions=Object.assign({},{nullTime:Dge,epochTime:Uge,unixTime:qgt,isoTime:Kgt});function Sb(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?t4:s[r]?s[r]:e4[r]||e4[n]||t4,zgt(t,e,r)}function zgt(t,e,r){!t.transmit&&e[r]===t4||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e4?e4:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&UI(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,Lgt(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=Kd.levels.values[l],f=Kd.levels.values[r];if(f<u)return;Vgt(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:Kd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function Lgt(t,e,r,n){t._serialize&&UI(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=Kd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?bQ(s.shift(),s):void 0}else typeof i=="string"&&(i=bQ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function UI(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Kd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function Pb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function Vgt(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;UI(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=fO(c)}function fO(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Hgt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Wgt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Dge:Uge}function w9(){return{}}function xC(t){return t}function t4(){}function Dge(){return!1}function Uge(){return Date.now()}function qgt(){return Math.round(Date.now()/1e3)}function Kgt(){return new Date(Date.now()).toISOString()}function Xgt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const lU=Ua(Ub),Zgt={level:"info"},T5="custom_context",uU=1e3*1024;let Jgt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},yQ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Jgt(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},zge=class{constructor(e,r=uU){this.level=e??"error",this.levelValue=Ub.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new yQ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Ub.levels.values.error?console.error(e):r===Ub.levels.values.warn?console.warn(e):r===Ub.levels.values.debug?console.debug(e):r===Ub.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Zs({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new yQ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Zs({extraMetadata:e})),new Blob(r,{type:"application/json"})}};class Qgt{constructor(e,r=uU){this.baseChunkLogger=new zge(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}let Ygt=class{constructor(e,r=uU){this.baseChunkLogger=new zge(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Ggt=Object.defineProperty,e1t=Object.defineProperties,t1t=Object.getOwnPropertyDescriptors,vQ=Object.getOwnPropertySymbols,r1t=Object.prototype.hasOwnProperty,n1t=Object.prototype.propertyIsEnumerable,xQ=(t,e,r)=>e in t?Ggt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,LS=(t,e)=>{for(var r in e||(e={}))r1t.call(e,r)&&xQ(t,r,e[r]);if(vQ)for(var r of vQ(e))n1t.call(e,r)&&xQ(t,r,e[r]);return t},VS=(t,e)=>e1t(t,t1t(e));function Lge(t){return VS(LS({},t),{level:(t==null?void 0:t.level)||Zgt.level})}function s1t(t,e=T5){return t[e]||""}function i1t(t,e,r=T5){return t[r]=e,t}function _c(t,e=T5){let r="";return typeof t.bindings>"u"?r=s1t(t,e):r=t.bindings().context||"",r}function a1t(t,e,r=T5){const n=_c(t,r);return n.trim()?`${n}/${e}`:e}function Ho(t,e,r=T5){const n=a1t(t,e,r),s=t.child({context:n});return i1t(s,n,r)}function o1t(t){var e,r;const n=new Qgt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:lU(VS(LS({},t.opts),{level:"trace",browser:VS(LS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function c1t(t){var e;const r=new Ygt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:lU(VS(LS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function l1t(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?o1t(t):c1t(t)}class u1t extends Js{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let d1t=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},f1t=class{constructor(e,r){this.logger=e,this.core=r}},h1t=class extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}};class p1t extends Js{constructor(e){super()}}let m1t=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}};class g1t extends Js{constructor(e,r){super(),this.relayer=e,this.logger=r}}let b1t=class extends Js{constructor(e,r){super(),this.core=e,this.logger=r}},y1t=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},v1t=class{constructor(e,r){this.projectId=e,this.logger=r}},x1t=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};const w1t="EdDSA",A1t="JWT",HS=".",zI="base64url",Vge="utf8",Hge="utf8",S1t=":",P1t="did",k1t="key",wQ="base58btc",I1t="z",N1t="K36",E1t=32;function Wge(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function M7(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=Wge(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function qge(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const AQ=qge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),wC=qge("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Wge(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Kge={utf8:AQ,"utf-8":AQ,hex:Bx.base16,latin1:wC,ascii:wC,binary:wC,...Bx};function xi(t,e="utf8"){const r=Kge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function gi(t,e="utf8"){const r=Kge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function SQ(t){return Ai(xi(gi(t,zI),Vge))}function WS(t){return xi(gi(Zs(t),Vge),zI)}function Xge(t){const e=gi(N1t,wQ),r=I1t+xi(M7([e,t]),wQ);return[P1t,k1t,r].join(S1t)}function _1t(t){return xi(t,zI)}function C1t(t){return gi(t,zI)}function T1t(t){return gi([WS(t.header),WS(t.payload)].join(HS),Hge)}function j1t(t){return[WS(t.header),WS(t.payload),_1t(t.signature)].join(HS)}function hO(t){const e=t.split(HS),r=SQ(e[0]),n=SQ(e[1]),s=C1t(e[2]),i=gi(e.slice(0,2).join(HS),Hge);return{header:r,payload:n,signature:s,data:i}}function PQ(t=Ic.randomBytes(E1t)){return v5.generateKeyPairFromSeed(t)}async function $1t(t,e,r,n,s=$e.fromMiliseconds(Date.now())){const i={alg:w1t,typ:A1t},a=Xge(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=T1t({header:i,payload:c}),u=v5.sign(n.secretKey,l);return j1t({header:i,payload:c,signature:u})}var Zge={};const M1t="elliptic",O1t="6.5.7",F1t="EC cryptography",B1t="lib/elliptic.js",R1t=["lib"],D1t={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},U1t={type:"git",url:"git@github.com:indutny/elliptic"},z1t=["EC","Elliptic","curve","Cryptography"],L1t="Fedor Indutny <fedor@indutny.com>",V1t="MIT",H1t={url:"https://github.com/indutny/elliptic/issues"},W1t="https://github.com/indutny/elliptic",q1t={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},K1t={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},X1t={name:M1t,version:O1t,description:F1t,main:B1t,files:R1t,scripts:D1t,repository:U1t,keywords:z1t,author:L1t,license:V1t,bugs:H1t,homepage:W1t,devDependencies:q1t,dependencies:K1t};var Cc={},dU={exports:{}};dU.exports;(function(t){(function(e,r){function n(O,b){if(!O)throw new Error(b||"Assertion failed")}function s(O,b){O.super_=b;var w=function(){};w.prototype=b.prototype,O.prototype=new w,O.prototype.constructor=O}function i(O,b,w){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((b==="le"||b==="be")&&(w=b,b=10),this._init(O||0,b||10,w||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=B1.Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,w){return b.cmp(w)>0?b:w},i.min=function(b,w){return b.cmp(w)<0?b:w},i.prototype._init=function(b,w,p){if(typeof b=="number")return this._initNumber(b,w,p);if(typeof b=="object")return this._initArray(b,w,p);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),b=b.toString().replace(/\s+/g,"");var g=0;b[0]==="-"&&(g++,this.negative=1),g<b.length&&(w===16?this._parseHex(b,g,p):(this._parseBase(b,w,g),p==="le"&&this._initArray(this.toArray(),w,p)))},i.prototype._initNumber=function(b,w,p){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),w,p)},i.prototype._initArray=function(b,w,p){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,N,I=0;if(p==="be")for(g=b.length-1,S=0;g>=0;g-=3)N=b[g]|b[g-1]<<8|b[g-2]<<16,this.words[S]|=N<<I&67108863,this.words[S+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);else if(p==="le")for(g=0,S=0;g<b.length;g+=3)N=b[g]|b[g+1]<<8|b[g+2]<<16,this.words[S]|=N<<I&67108863,this.words[S+1]=N>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);return this.strip()};function o(O,b){var w=O.charCodeAt(b);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function c(O,b,w){var p=o(O,w);return w-1>=b&&(p|=o(O,w-1)<<4),p}i.prototype._parseHex=function(b,w,p){this.length=Math.ceil((b.length-w)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S=0,N=0,I;if(p==="be")for(g=b.length-1;g>=w;g-=2)I=c(b,w,g)<<S,this.words[N]|=I&67108863,S>=18?(S-=18,N+=1,this.words[N]|=I>>>26):S+=8;else{var A=b.length-w;for(g=A%2===0?w+1:w;g<b.length;g+=2)I=c(b,w,g)<<S,this.words[N]|=I&67108863,S>=18?(S-=18,N+=1,this.words[N]|=I>>>26):S+=8}this.strip()};function l(O,b,w,p){for(var g=0,S=Math.min(O.length,w),N=b;N<S;N++){var I=O.charCodeAt(N)-48;g*=p,I>=49?g+=I-49+10:I>=17?g+=I-17+10:g+=I}return g}i.prototype._parseBase=function(b,w,p){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=w)g++;g--,S=S/w|0;for(var N=b.length-p,I=N%g,A=Math.min(N,N-I)+p,y=0,C=p;C<A;C+=g)y=l(b,C,C+g,w),this.imuln(S),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(I!==0){var $=1;for(y=l(b,C,b.length,w),C=0;C<I;C++)$*=w;this.imuln($),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this.strip()},i.prototype.copy=function(b){b.words=new Array(this.length);for(var w=0;w<this.length;w++)b.words[w]=this.words[w];b.length=this.length,b.negative=this.negative,b.red=this.red},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,w){b=b||10,w=w|0||1;var p;if(b===16||b==="hex"){p="";for(var g=0,S=0,N=0;N<this.length;N++){var I=this.words[N],A=((I<<g|S)&16777215).toString(16);S=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,N--),S!==0||N!==this.length-1?p=u[6-A.length]+A+p:p=A+p}for(S!==0&&(p=S.toString(16)+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(b===(b|0)&&b>=2&&b<=36){var y=f[b],C=h[b];p="";var $=this.clone();for($.negative=0;!$.isZero();){var L=$.modn(C).toString(b);$=$.idivn(C),$.isZero()?p=L+p:p=u[y-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(b,w){return n(typeof a<"u"),this.toArrayLike(a,b,w)},i.prototype.toArray=function(b,w){return this.toArrayLike(Array,b,w)},i.prototype.toArrayLike=function(b,w,p){var g=this.byteLength(),S=p||Math.max(1,g);n(g<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var N=w==="le",I=new b(S),A,y,C=this.clone();if(N){for(y=0;!C.isZero();y++)A=C.andln(255),C.iushrn(8),I[y]=A;for(;y<S;y++)I[y]=0}else{for(y=0;y<S-g;y++)I[y]=0;for(y=0;!C.isZero();y++)A=C.andln(255),C.iushrn(8),I[S-y-1]=A}return I},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var w=b,p=0;return w>=4096&&(p+=13,w>>>=13),w>=64&&(p+=7,w>>>=7),w>=8&&(p+=4,w>>>=4),w>=2&&(p+=2,w>>>=2),p+w},i.prototype._zeroBits=function(b){if(b===0)return 26;var w=b,p=0;return w&8191||(p+=13,w>>>=13),w&127||(p+=7,w>>>=7),w&15||(p+=4,w>>>=4),w&3||(p+=2,w>>>=2),w&1||p++,p},i.prototype.bitLength=function(){var b=this.words[this.length-1],w=this._countBits(b);return(this.length-1)*26+w};function m(O){for(var b=new Array(O.bitLength()),w=0;w<b.length;w++){var p=w/26|0,g=w%26;b[w]=(O.words[p]&1<<g)>>>g}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,w=0;w<this.length;w++){var p=this._zeroBits(this.words[w]);if(b+=p,p!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]|b.words[w];return this.strip()},i.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var w;this.length>b.length?w=b:w=this;for(var p=0;p<w.length;p++)this.words[p]=this.words[p]&b.words[p];return this.length=w.length,this.strip()},i.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var w,p;this.length>b.length?(w=this,p=b):(w=b,p=this);for(var g=0;g<p.length;g++)this.words[g]=w.words[g]^p.words[g];if(this!==w)for(;g<w.length;g++)this.words[g]=w.words[g];return this.length=w.length,this.strip()},i.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var w=Math.ceil(b/26)|0,p=b%26;this._expand(w),p>0&&w--;for(var g=0;g<w;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,w){n(typeof b=="number"&&b>=0);var p=b/26|0,g=b%26;return this._expand(p+1),w?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(b){var w;if(this.negative!==0&&b.negative===0)return this.negative=0,w=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,w=this.isub(b),b.negative=1,w._normSign();var p,g;this.length>b.length?(p=this,g=b):(p=b,g=this);for(var S=0,N=0;N<g.length;N++)w=(p.words[N]|0)+(g.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;for(;S!==0&&N<p.length;N++)w=(p.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;if(this.length=p.length,S!==0)this.words[this.length]=S,this.length++;else if(p!==this)for(;N<p.length;N++)this.words[N]=p.words[N];return this},i.prototype.add=function(b){var w;return b.negative!==0&&this.negative===0?(b.negative=0,w=this.sub(b),b.negative^=1,w):b.negative===0&&this.negative!==0?(this.negative=0,w=b.sub(this),this.negative=1,w):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var w=this.iadd(b);return b.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var p=this.cmp(b);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,S;p>0?(g=this,S=b):(g=b,S=this);for(var N=0,I=0;I<S.length;I++)w=(g.words[I]|0)-(S.words[I]|0)+N,N=w>>26,this.words[I]=w&67108863;for(;N!==0&&I<g.length;I++)w=(g.words[I]|0)+N,N=w>>26,this.words[I]=w&67108863;if(N===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function v(O,b,w){w.negative=b.negative^O.negative;var p=O.length+b.length|0;w.length=p,p=p-1|0;var g=O.words[0]|0,S=b.words[0]|0,N=g*S,I=N&67108863,A=N/67108864|0;w.words[0]=I;for(var y=1;y<p;y++){for(var C=A>>>26,$=A&67108863,L=Math.min(y,b.length-1),Q=Math.max(0,y-O.length+1);Q<=L;Q++){var U=y-Q|0;g=O.words[U]|0,S=b.words[Q]|0,N=g*S+$,C+=N/67108864|0,$=N&67108863}w.words[y]=$|0,A=C|0}return A!==0?w.words[y]=A|0:w.length--,w.strip()}var x=function(b,w,p){var g=b.words,S=w.words,N=p.words,I=0,A,y,C,$=g[0]|0,L=$&8191,Q=$>>>13,U=g[1]|0,J=U&8191,Z=U>>>13,re=g[2]|0,G=re&8191,z=re>>>13,se=g[3]|0,ce=se&8191,pe=se>>>13,Ce=g[4]|0,ke=Ce&8191,tt=Ce>>>13,mt=g[5]|0,we=mt&8191,qe=mt>>>13,Ae=g[6]|0,Oe=Ae&8191,We=Ae>>>13,Be=g[7]|0,ze=Be&8191,Ke=Be>>>13,ct=g[8]|0,Y=ct&8191,V=ct>>>13,q=g[9]|0,ne=q&8191,le=q>>>13,de=S[0]|0,me=de&8191,rt=de>>>13,ht=S[1]|0,ot=ht&8191,pt=ht>>>13,Ct=S[2]|0,St=Ct&8191,Rt=Ct>>>13,nr=S[3]|0,De=nr&8191,He=nr>>>13,gt=S[4]|0,nt=gt&8191,It=gt>>>13,Ut=S[5]|0,bt=Ut&8191,Je=Ut>>>13,Pt=S[6]|0,it=Pt&8191,Tt=Pt>>>13,X=S[7]|0,ee=X&8191,te=X>>>13,W=S[8]|0,ie=W&8191,fe=W>>>13,Ie=S[9]|0,ae=Ie&8191,ye=Ie>>>13;p.negative=b.negative^w.negative,p.length=19,A=Math.imul(L,me),y=Math.imul(L,rt),y=y+Math.imul(Q,me)|0,C=Math.imul(Q,rt);var Le=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Le>>>26)|0,Le&=67108863,A=Math.imul(J,me),y=Math.imul(J,rt),y=y+Math.imul(Z,me)|0,C=Math.imul(Z,rt),A=A+Math.imul(L,ot)|0,y=y+Math.imul(L,pt)|0,y=y+Math.imul(Q,ot)|0,C=C+Math.imul(Q,pt)|0;var Re=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Re>>>26)|0,Re&=67108863,A=Math.imul(G,me),y=Math.imul(G,rt),y=y+Math.imul(z,me)|0,C=Math.imul(z,rt),A=A+Math.imul(J,ot)|0,y=y+Math.imul(J,pt)|0,y=y+Math.imul(Z,ot)|0,C=C+Math.imul(Z,pt)|0,A=A+Math.imul(L,St)|0,y=y+Math.imul(L,Rt)|0,y=y+Math.imul(Q,St)|0,C=C+Math.imul(Q,Rt)|0;var Mt=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,A=Math.imul(ce,me),y=Math.imul(ce,rt),y=y+Math.imul(pe,me)|0,C=Math.imul(pe,rt),A=A+Math.imul(G,ot)|0,y=y+Math.imul(G,pt)|0,y=y+Math.imul(z,ot)|0,C=C+Math.imul(z,pt)|0,A=A+Math.imul(J,St)|0,y=y+Math.imul(J,Rt)|0,y=y+Math.imul(Z,St)|0,C=C+Math.imul(Z,Rt)|0,A=A+Math.imul(L,De)|0,y=y+Math.imul(L,He)|0,y=y+Math.imul(Q,De)|0,C=C+Math.imul(Q,He)|0;var ut=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(ut>>>26)|0,ut&=67108863,A=Math.imul(ke,me),y=Math.imul(ke,rt),y=y+Math.imul(tt,me)|0,C=Math.imul(tt,rt),A=A+Math.imul(ce,ot)|0,y=y+Math.imul(ce,pt)|0,y=y+Math.imul(pe,ot)|0,C=C+Math.imul(pe,pt)|0,A=A+Math.imul(G,St)|0,y=y+Math.imul(G,Rt)|0,y=y+Math.imul(z,St)|0,C=C+Math.imul(z,Rt)|0,A=A+Math.imul(J,De)|0,y=y+Math.imul(J,He)|0,y=y+Math.imul(Z,De)|0,C=C+Math.imul(Z,He)|0,A=A+Math.imul(L,nt)|0,y=y+Math.imul(L,It)|0,y=y+Math.imul(Q,nt)|0,C=C+Math.imul(Q,It)|0;var Ot=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,A=Math.imul(we,me),y=Math.imul(we,rt),y=y+Math.imul(qe,me)|0,C=Math.imul(qe,rt),A=A+Math.imul(ke,ot)|0,y=y+Math.imul(ke,pt)|0,y=y+Math.imul(tt,ot)|0,C=C+Math.imul(tt,pt)|0,A=A+Math.imul(ce,St)|0,y=y+Math.imul(ce,Rt)|0,y=y+Math.imul(pe,St)|0,C=C+Math.imul(pe,Rt)|0,A=A+Math.imul(G,De)|0,y=y+Math.imul(G,He)|0,y=y+Math.imul(z,De)|0,C=C+Math.imul(z,He)|0,A=A+Math.imul(J,nt)|0,y=y+Math.imul(J,It)|0,y=y+Math.imul(Z,nt)|0,C=C+Math.imul(Z,It)|0,A=A+Math.imul(L,bt)|0,y=y+Math.imul(L,Je)|0,y=y+Math.imul(Q,bt)|0,C=C+Math.imul(Q,Je)|0;var Se=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Se>>>26)|0,Se&=67108863,A=Math.imul(Oe,me),y=Math.imul(Oe,rt),y=y+Math.imul(We,me)|0,C=Math.imul(We,rt),A=A+Math.imul(we,ot)|0,y=y+Math.imul(we,pt)|0,y=y+Math.imul(qe,ot)|0,C=C+Math.imul(qe,pt)|0,A=A+Math.imul(ke,St)|0,y=y+Math.imul(ke,Rt)|0,y=y+Math.imul(tt,St)|0,C=C+Math.imul(tt,Rt)|0,A=A+Math.imul(ce,De)|0,y=y+Math.imul(ce,He)|0,y=y+Math.imul(pe,De)|0,C=C+Math.imul(pe,He)|0,A=A+Math.imul(G,nt)|0,y=y+Math.imul(G,It)|0,y=y+Math.imul(z,nt)|0,C=C+Math.imul(z,It)|0,A=A+Math.imul(J,bt)|0,y=y+Math.imul(J,Je)|0,y=y+Math.imul(Z,bt)|0,C=C+Math.imul(Z,Je)|0,A=A+Math.imul(L,it)|0,y=y+Math.imul(L,Tt)|0,y=y+Math.imul(Q,it)|0,C=C+Math.imul(Q,Tt)|0;var be=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(ze,me),y=Math.imul(ze,rt),y=y+Math.imul(Ke,me)|0,C=Math.imul(Ke,rt),A=A+Math.imul(Oe,ot)|0,y=y+Math.imul(Oe,pt)|0,y=y+Math.imul(We,ot)|0,C=C+Math.imul(We,pt)|0,A=A+Math.imul(we,St)|0,y=y+Math.imul(we,Rt)|0,y=y+Math.imul(qe,St)|0,C=C+Math.imul(qe,Rt)|0,A=A+Math.imul(ke,De)|0,y=y+Math.imul(ke,He)|0,y=y+Math.imul(tt,De)|0,C=C+Math.imul(tt,He)|0,A=A+Math.imul(ce,nt)|0,y=y+Math.imul(ce,It)|0,y=y+Math.imul(pe,nt)|0,C=C+Math.imul(pe,It)|0,A=A+Math.imul(G,bt)|0,y=y+Math.imul(G,Je)|0,y=y+Math.imul(z,bt)|0,C=C+Math.imul(z,Je)|0,A=A+Math.imul(J,it)|0,y=y+Math.imul(J,Tt)|0,y=y+Math.imul(Z,it)|0,C=C+Math.imul(Z,Tt)|0,A=A+Math.imul(L,ee)|0,y=y+Math.imul(L,te)|0,y=y+Math.imul(Q,ee)|0,C=C+Math.imul(Q,te)|0;var Ee=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,A=Math.imul(Y,me),y=Math.imul(Y,rt),y=y+Math.imul(V,me)|0,C=Math.imul(V,rt),A=A+Math.imul(ze,ot)|0,y=y+Math.imul(ze,pt)|0,y=y+Math.imul(Ke,ot)|0,C=C+Math.imul(Ke,pt)|0,A=A+Math.imul(Oe,St)|0,y=y+Math.imul(Oe,Rt)|0,y=y+Math.imul(We,St)|0,C=C+Math.imul(We,Rt)|0,A=A+Math.imul(we,De)|0,y=y+Math.imul(we,He)|0,y=y+Math.imul(qe,De)|0,C=C+Math.imul(qe,He)|0,A=A+Math.imul(ke,nt)|0,y=y+Math.imul(ke,It)|0,y=y+Math.imul(tt,nt)|0,C=C+Math.imul(tt,It)|0,A=A+Math.imul(ce,bt)|0,y=y+Math.imul(ce,Je)|0,y=y+Math.imul(pe,bt)|0,C=C+Math.imul(pe,Je)|0,A=A+Math.imul(G,it)|0,y=y+Math.imul(G,Tt)|0,y=y+Math.imul(z,it)|0,C=C+Math.imul(z,Tt)|0,A=A+Math.imul(J,ee)|0,y=y+Math.imul(J,te)|0,y=y+Math.imul(Z,ee)|0,C=C+Math.imul(Z,te)|0,A=A+Math.imul(L,ie)|0,y=y+Math.imul(L,fe)|0,y=y+Math.imul(Q,ie)|0,C=C+Math.imul(Q,fe)|0;var Fe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,A=Math.imul(ne,me),y=Math.imul(ne,rt),y=y+Math.imul(le,me)|0,C=Math.imul(le,rt),A=A+Math.imul(Y,ot)|0,y=y+Math.imul(Y,pt)|0,y=y+Math.imul(V,ot)|0,C=C+Math.imul(V,pt)|0,A=A+Math.imul(ze,St)|0,y=y+Math.imul(ze,Rt)|0,y=y+Math.imul(Ke,St)|0,C=C+Math.imul(Ke,Rt)|0,A=A+Math.imul(Oe,De)|0,y=y+Math.imul(Oe,He)|0,y=y+Math.imul(We,De)|0,C=C+Math.imul(We,He)|0,A=A+Math.imul(we,nt)|0,y=y+Math.imul(we,It)|0,y=y+Math.imul(qe,nt)|0,C=C+Math.imul(qe,It)|0,A=A+Math.imul(ke,bt)|0,y=y+Math.imul(ke,Je)|0,y=y+Math.imul(tt,bt)|0,C=C+Math.imul(tt,Je)|0,A=A+Math.imul(ce,it)|0,y=y+Math.imul(ce,Tt)|0,y=y+Math.imul(pe,it)|0,C=C+Math.imul(pe,Tt)|0,A=A+Math.imul(G,ee)|0,y=y+Math.imul(G,te)|0,y=y+Math.imul(z,ee)|0,C=C+Math.imul(z,te)|0,A=A+Math.imul(J,ie)|0,y=y+Math.imul(J,fe)|0,y=y+Math.imul(Z,ie)|0,C=C+Math.imul(Z,fe)|0,A=A+Math.imul(L,ae)|0,y=y+Math.imul(L,ye)|0,y=y+Math.imul(Q,ae)|0,C=C+Math.imul(Q,ye)|0;var Ve=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A=Math.imul(ne,ot),y=Math.imul(ne,pt),y=y+Math.imul(le,ot)|0,C=Math.imul(le,pt),A=A+Math.imul(Y,St)|0,y=y+Math.imul(Y,Rt)|0,y=y+Math.imul(V,St)|0,C=C+Math.imul(V,Rt)|0,A=A+Math.imul(ze,De)|0,y=y+Math.imul(ze,He)|0,y=y+Math.imul(Ke,De)|0,C=C+Math.imul(Ke,He)|0,A=A+Math.imul(Oe,nt)|0,y=y+Math.imul(Oe,It)|0,y=y+Math.imul(We,nt)|0,C=C+Math.imul(We,It)|0,A=A+Math.imul(we,bt)|0,y=y+Math.imul(we,Je)|0,y=y+Math.imul(qe,bt)|0,C=C+Math.imul(qe,Je)|0,A=A+Math.imul(ke,it)|0,y=y+Math.imul(ke,Tt)|0,y=y+Math.imul(tt,it)|0,C=C+Math.imul(tt,Tt)|0,A=A+Math.imul(ce,ee)|0,y=y+Math.imul(ce,te)|0,y=y+Math.imul(pe,ee)|0,C=C+Math.imul(pe,te)|0,A=A+Math.imul(G,ie)|0,y=y+Math.imul(G,fe)|0,y=y+Math.imul(z,ie)|0,C=C+Math.imul(z,fe)|0,A=A+Math.imul(J,ae)|0,y=y+Math.imul(J,ye)|0,y=y+Math.imul(Z,ae)|0,C=C+Math.imul(Z,ye)|0;var Xe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,A=Math.imul(ne,St),y=Math.imul(ne,Rt),y=y+Math.imul(le,St)|0,C=Math.imul(le,Rt),A=A+Math.imul(Y,De)|0,y=y+Math.imul(Y,He)|0,y=y+Math.imul(V,De)|0,C=C+Math.imul(V,He)|0,A=A+Math.imul(ze,nt)|0,y=y+Math.imul(ze,It)|0,y=y+Math.imul(Ke,nt)|0,C=C+Math.imul(Ke,It)|0,A=A+Math.imul(Oe,bt)|0,y=y+Math.imul(Oe,Je)|0,y=y+Math.imul(We,bt)|0,C=C+Math.imul(We,Je)|0,A=A+Math.imul(we,it)|0,y=y+Math.imul(we,Tt)|0,y=y+Math.imul(qe,it)|0,C=C+Math.imul(qe,Tt)|0,A=A+Math.imul(ke,ee)|0,y=y+Math.imul(ke,te)|0,y=y+Math.imul(tt,ee)|0,C=C+Math.imul(tt,te)|0,A=A+Math.imul(ce,ie)|0,y=y+Math.imul(ce,fe)|0,y=y+Math.imul(pe,ie)|0,C=C+Math.imul(pe,fe)|0,A=A+Math.imul(G,ae)|0,y=y+Math.imul(G,ye)|0,y=y+Math.imul(z,ae)|0,C=C+Math.imul(z,ye)|0;var xe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ne,De),y=Math.imul(ne,He),y=y+Math.imul(le,De)|0,C=Math.imul(le,He),A=A+Math.imul(Y,nt)|0,y=y+Math.imul(Y,It)|0,y=y+Math.imul(V,nt)|0,C=C+Math.imul(V,It)|0,A=A+Math.imul(ze,bt)|0,y=y+Math.imul(ze,Je)|0,y=y+Math.imul(Ke,bt)|0,C=C+Math.imul(Ke,Je)|0,A=A+Math.imul(Oe,it)|0,y=y+Math.imul(Oe,Tt)|0,y=y+Math.imul(We,it)|0,C=C+Math.imul(We,Tt)|0,A=A+Math.imul(we,ee)|0,y=y+Math.imul(we,te)|0,y=y+Math.imul(qe,ee)|0,C=C+Math.imul(qe,te)|0,A=A+Math.imul(ke,ie)|0,y=y+Math.imul(ke,fe)|0,y=y+Math.imul(tt,ie)|0,C=C+Math.imul(tt,fe)|0,A=A+Math.imul(ce,ae)|0,y=y+Math.imul(ce,ye)|0,y=y+Math.imul(pe,ae)|0,C=C+Math.imul(pe,ye)|0;var Pe=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,A=Math.imul(ne,nt),y=Math.imul(ne,It),y=y+Math.imul(le,nt)|0,C=Math.imul(le,It),A=A+Math.imul(Y,bt)|0,y=y+Math.imul(Y,Je)|0,y=y+Math.imul(V,bt)|0,C=C+Math.imul(V,Je)|0,A=A+Math.imul(ze,it)|0,y=y+Math.imul(ze,Tt)|0,y=y+Math.imul(Ke,it)|0,C=C+Math.imul(Ke,Tt)|0,A=A+Math.imul(Oe,ee)|0,y=y+Math.imul(Oe,te)|0,y=y+Math.imul(We,ee)|0,C=C+Math.imul(We,te)|0,A=A+Math.imul(we,ie)|0,y=y+Math.imul(we,fe)|0,y=y+Math.imul(qe,ie)|0,C=C+Math.imul(qe,fe)|0,A=A+Math.imul(ke,ae)|0,y=y+Math.imul(ke,ye)|0,y=y+Math.imul(tt,ae)|0,C=C+Math.imul(tt,ye)|0;var je=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(je>>>26)|0,je&=67108863,A=Math.imul(ne,bt),y=Math.imul(ne,Je),y=y+Math.imul(le,bt)|0,C=Math.imul(le,Je),A=A+Math.imul(Y,it)|0,y=y+Math.imul(Y,Tt)|0,y=y+Math.imul(V,it)|0,C=C+Math.imul(V,Tt)|0,A=A+Math.imul(ze,ee)|0,y=y+Math.imul(ze,te)|0,y=y+Math.imul(Ke,ee)|0,C=C+Math.imul(Ke,te)|0,A=A+Math.imul(Oe,ie)|0,y=y+Math.imul(Oe,fe)|0,y=y+Math.imul(We,ie)|0,C=C+Math.imul(We,fe)|0,A=A+Math.imul(we,ae)|0,y=y+Math.imul(we,ye)|0,y=y+Math.imul(qe,ae)|0,C=C+Math.imul(qe,ye)|0;var Ze=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,A=Math.imul(ne,it),y=Math.imul(ne,Tt),y=y+Math.imul(le,it)|0,C=Math.imul(le,Tt),A=A+Math.imul(Y,ee)|0,y=y+Math.imul(Y,te)|0,y=y+Math.imul(V,ee)|0,C=C+Math.imul(V,te)|0,A=A+Math.imul(ze,ie)|0,y=y+Math.imul(ze,fe)|0,y=y+Math.imul(Ke,ie)|0,C=C+Math.imul(Ke,fe)|0,A=A+Math.imul(Oe,ae)|0,y=y+Math.imul(Oe,ye)|0,y=y+Math.imul(We,ae)|0,C=C+Math.imul(We,ye)|0;var dt=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863,A=Math.imul(ne,ee),y=Math.imul(ne,te),y=y+Math.imul(le,ee)|0,C=Math.imul(le,te),A=A+Math.imul(Y,ie)|0,y=y+Math.imul(Y,fe)|0,y=y+Math.imul(V,ie)|0,C=C+Math.imul(V,fe)|0,A=A+Math.imul(ze,ae)|0,y=y+Math.imul(ze,ye)|0,y=y+Math.imul(Ke,ae)|0,C=C+Math.imul(Ke,ye)|0;var ft=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(ft>>>26)|0,ft&=67108863,A=Math.imul(ne,ie),y=Math.imul(ne,fe),y=y+Math.imul(le,ie)|0,C=Math.imul(le,fe),A=A+Math.imul(Y,ae)|0,y=y+Math.imul(Y,ye)|0,y=y+Math.imul(V,ae)|0,C=C+Math.imul(V,ye)|0;var Ue=(I+A|0)+((y&8191)<<13)|0;I=(C+(y>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,A=Math.imul(ne,ae),y=Math.imul(ne,ye),y=y+Math.imul(le,ae)|0,C=Math.imul(le,ye);var _e=(I+A|0)+((y&8191)<<13)|0;return I=(C+(y>>>13)|0)+(_e>>>26)|0,_e&=67108863,N[0]=Le,N[1]=Re,N[2]=Mt,N[3]=ut,N[4]=Ot,N[5]=Se,N[6]=be,N[7]=Ee,N[8]=Fe,N[9]=Ve,N[10]=Xe,N[11]=xe,N[12]=Pe,N[13]=je,N[14]=Ze,N[15]=dt,N[16]=ft,N[17]=Ue,N[18]=_e,I!==0&&(N[19]=I,p.length++),p};Math.imul||(x=v);function k(O,b,w){w.negative=b.negative^O.negative,w.length=O.length+b.length;for(var p=0,g=0,S=0;S<w.length-1;S++){var N=g;g=0;for(var I=p&67108863,A=Math.min(S,b.length-1),y=Math.max(0,S-O.length+1);y<=A;y++){var C=S-y,$=O.words[C]|0,L=b.words[y]|0,Q=$*L,U=Q&67108863;N=N+(Q/67108864|0)|0,U=U+I|0,I=U&67108863,N=N+(U>>>26)|0,g+=N>>>26,N&=67108863}w.words[S]=I,p=N,N=g}return p!==0?w.words[S]=p:w.length--,w.strip()}function E(O,b,w){var p=new P;return p.mulp(O,b,w)}i.prototype.mulTo=function(b,w){var p,g=this.length+b.length;return this.length===10&&b.length===10?p=x(this,b,w):g<63?p=v(this,b,w):g<1024?p=k(this,b,w):p=E(this,b,w),p};function P(O,b){this.x=O,this.y=b}P.prototype.makeRBT=function(b){for(var w=new Array(b),p=i.prototype._countBits(b)-1,g=0;g<b;g++)w[g]=this.revBin(g,p,b);return w},P.prototype.revBin=function(b,w,p){if(b===0||b===p-1)return b;for(var g=0,S=0;S<w;S++)g|=(b&1)<<w-S-1,b>>=1;return g},P.prototype.permute=function(b,w,p,g,S,N){for(var I=0;I<N;I++)g[I]=w[b[I]],S[I]=p[b[I]]},P.prototype.transform=function(b,w,p,g,S,N){this.permute(N,b,w,p,g,S);for(var I=1;I<S;I<<=1)for(var A=I<<1,y=Math.cos(2*Math.PI/A),C=Math.sin(2*Math.PI/A),$=0;$<S;$+=A)for(var L=y,Q=C,U=0;U<I;U++){var J=p[$+U],Z=g[$+U],re=p[$+U+I],G=g[$+U+I],z=L*re-Q*G;G=L*G+Q*re,re=z,p[$+U]=J+re,g[$+U]=Z+G,p[$+U+I]=J-re,g[$+U+I]=Z-G,U!==A&&(z=y*L-C*Q,Q=y*Q+C*L,L=z)}},P.prototype.guessLen13b=function(b,w){var p=Math.max(w,b)|1,g=p&1,S=0;for(p=p/2|0;p;p=p>>>1)S++;return 1<<S+1+g},P.prototype.conjugate=function(b,w,p){if(!(p<=1))for(var g=0;g<p/2;g++){var S=b[g];b[g]=b[p-g-1],b[p-g-1]=S,S=w[g],w[g]=-w[p-g-1],w[p-g-1]=-S}},P.prototype.normalize13b=function(b,w){for(var p=0,g=0;g<w/2;g++){var S=Math.round(b[2*g+1]/w)*8192+Math.round(b[2*g]/w)+p;b[g]=S&67108863,S<67108864?p=0:p=S/67108864|0}return b},P.prototype.convert13b=function(b,w,p,g){for(var S=0,N=0;N<w;N++)S=S+(b[N]|0),p[2*N]=S&8191,S=S>>>13,p[2*N+1]=S&8191,S=S>>>13;for(N=2*w;N<g;++N)p[N]=0;n(S===0),n((S&-8192)===0)},P.prototype.stub=function(b){for(var w=new Array(b),p=0;p<b;p++)w[p]=0;return w},P.prototype.mulp=function(b,w,p){var g=2*this.guessLen13b(b.length,w.length),S=this.makeRBT(g),N=this.stub(g),I=new Array(g),A=new Array(g),y=new Array(g),C=new Array(g),$=new Array(g),L=new Array(g),Q=p.words;Q.length=g,this.convert13b(b.words,b.length,I,g),this.convert13b(w.words,w.length,C,g),this.transform(I,N,A,y,g,S),this.transform(C,N,$,L,g,S);for(var U=0;U<g;U++){var J=A[U]*$[U]-y[U]*L[U];y[U]=A[U]*L[U]+y[U]*$[U],A[U]=J}return this.conjugate(A,y,g),this.transform(A,y,Q,N,g,S),this.conjugate(Q,N,g),this.normalize13b(Q,g),p.negative=b.negative^w.negative,p.length=b.length+w.length,p.strip()},i.prototype.mul=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),this.mulTo(b,w)},i.prototype.mulf=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),E(this,b,w)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var w=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*b,S=(g&67108863)+(w&67108863);w>>=26,w+=g/67108864|0,w+=S>>>26,this.words[p]=S&67108863}return w!==0&&(this.words[p]=w,this.length++),this.length=b===0?1:this.length,this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var w=m(b);if(w.length===0)return new i(1);for(var p=this,g=0;g<w.length&&w[g]===0;g++,p=p.sqr());if(++g<w.length)for(var S=p.sqr();g<w.length;g++,S=S.sqr())w[g]!==0&&(p=p.mul(S));return p},i.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=67108863>>>26-w<<26-w,S;if(w!==0){var N=0;for(S=0;S<this.length;S++){var I=this.words[S]&g,A=(this.words[S]|0)-I<<w;this.words[S]=A|N,N=I>>>26-w}N&&(this.words[S]=N,this.length++)}if(p!==0){for(S=this.length-1;S>=0;S--)this.words[S+p]=this.words[S];for(S=0;S<p;S++)this.words[S]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,w,p){n(typeof b=="number"&&b>=0);var g;w?g=(w-w%26)/26:g=0;var S=b%26,N=Math.min((b-S)/26,this.length),I=67108863^67108863>>>S<<S,A=p;if(g-=N,g=Math.max(0,g),A){for(var y=0;y<N;y++)A.words[y]=this.words[y];A.length=N}if(N!==0)if(this.length>N)for(this.length-=N,y=0;y<this.length;y++)this.words[y]=this.words[y+N];else this.words[0]=0,this.length=1;var C=0;for(y=this.length-1;y>=0&&(C!==0||y>=g);y--){var $=this.words[y]|0;this.words[y]=C<<26-S|$>>>S,C=$&I}return A&&C!==0&&(A.words[A.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(b,w,p){return n(this.negative===0),this.iushrn(b,w,p)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return!1;var S=this.words[p];return!!(S&g)},i.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(w!==0&&p++,this.length=Math.min(p,this.length),w!==0){var g=67108863^67108863>>>w<<w;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,w,p){var g=b.length+p,S;this._expand(g);var N,I=0;for(S=0;S<b.length;S++){N=(this.words[S+p]|0)+I;var A=(b.words[S]|0)*w;N-=A&67108863,I=(N>>26)-(A/67108864|0),this.words[S+p]=N&67108863}for(;S<this.length-p;S++)N=(this.words[S+p]|0)+I,I=N>>26,this.words[S+p]=N&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,S=0;S<this.length;S++)N=-(this.words[S]|0)+I,I=N>>26,this.words[S]=N&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(b,w){var p=this.length-b.length,g=this.clone(),S=b,N=S.words[S.length-1]|0,I=this._countBits(N);p=26-I,p!==0&&(S=S.ushln(p),g.iushln(p),N=S.words[S.length-1]|0);var A=g.length-S.length,y;if(w!=="mod"){y=new i(null),y.length=A+1,y.words=new Array(y.length);for(var C=0;C<y.length;C++)y.words[C]=0}var $=g.clone()._ishlnsubmul(S,1,A);$.negative===0&&(g=$,y&&(y.words[A]=1));for(var L=A-1;L>=0;L--){var Q=(g.words[S.length+L]|0)*67108864+(g.words[S.length+L-1]|0);for(Q=Math.min(Q/N|0,67108863),g._ishlnsubmul(S,Q,L);g.negative!==0;)Q--,g.negative=0,g._ishlnsubmul(S,1,L),g.isZero()||(g.negative^=1);y&&(y.words[L]=Q)}return y&&y.strip(),g.strip(),w!=="div"&&p!==0&&g.iushrn(p),{div:y||null,mod:g}},i.prototype.divmod=function(b,w,p){if(n(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,S,N;return this.negative!==0&&b.negative===0?(N=this.neg().divmod(b,w),w!=="mod"&&(g=N.div.neg()),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.iadd(b)),{div:g,mod:S}):this.negative===0&&b.negative!==0?(N=this.divmod(b.neg(),w),w!=="mod"&&(g=N.div.neg()),{div:g,mod:N.mod}):this.negative&b.negative?(N=this.neg().divmod(b.neg(),w),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.isub(b)),{div:N.div,mod:S}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?w==="div"?{div:this.divn(b.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modn(b.words[0]))}:this._wordDiv(b,w)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var w=this.divmod(b);if(w.mod.isZero())return w.div;var p=w.div.negative!==0?w.mod.isub(b):w.mod,g=b.ushrn(1),S=b.andln(1),N=p.cmp(g);return N<0||S===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modn=function(b){n(b<=67108863);for(var w=(1<<26)%b,p=0,g=this.length-1;g>=0;g--)p=(w*p+(this.words[g]|0))%b;return p},i.prototype.idivn=function(b){n(b<=67108863);for(var w=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+w*67108864;this.words[p]=g/b|0,w=g%b}return this.strip()},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=new i(0),I=new i(1),A=0;w.isEven()&&p.isEven();)w.iushrn(1),p.iushrn(1),++A;for(var y=p.clone(),C=w.clone();!w.isZero();){for(var $=0,L=1;!(w.words[0]&L)&&$<26;++$,L<<=1);if($>0)for(w.iushrn($);$-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(y),S.isub(C)),g.iushrn(1),S.iushrn(1);for(var Q=0,U=1;!(p.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd(y),I.isub(C)),N.iushrn(1),I.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(N),S.isub(I)):(p.isub(w),N.isub(g),I.isub(S))}return{a:N,b:I,gcd:p.iushln(A)}},i.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=p.clone();w.cmpn(1)>0&&p.cmpn(1)>0;){for(var I=0,A=1;!(w.words[0]&A)&&I<26;++I,A<<=1);if(I>0)for(w.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);for(var y=0,C=1;!(p.words[0]&C)&&y<26;++y,C<<=1);if(y>0)for(p.iushrn(y);y-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(S)):(p.isub(w),S.isub(g))}var $;return w.cmpn(1)===0?$=g:$=S,$.cmpn(0)<0&&$.iadd(b),$},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var w=this.clone(),p=b.clone();w.negative=0,p.negative=0;for(var g=0;w.isEven()&&p.isEven();g++)w.iushrn(1),p.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;p.isEven();)p.iushrn(1);var S=w.cmp(p);if(S<0){var N=w;w=p,p=N}else if(S===0||p.cmpn(1)===0)break;w.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){n(typeof b=="number");var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var S=g,N=p;S!==0&&N<this.length;N++){var I=this.words[N]|0;I+=S,S=I>>>26,I&=67108863,this.words[N]=I}return S!==0&&(this.words[N]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var w=b<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var p;if(this.length>1)p=1;else{w&&(b=-b),n(b<=67108863,"Number is too big");var g=this.words[0]|0;p=g===b?0:g<b?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var w=this.ucmp(b);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var w=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,S=b.words[p]|0;if(g!==S){g<S?w=-1:g>S&&(w=1);break}}return w},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new R(b)},i.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var _={k256:null,p224:null,p192:null,p25519:null};function M(O,b){this.name=O,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},M.prototype.ireduce=function(b){var w=b,p;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),p=w.bitLength();while(p>this.n);var g=p<this.n?-1:w.ucmp(this.p);return g===0?(w.words[0]=0,w.length=1):g>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},M.prototype.split=function(b,w){b.iushrn(this.n,0,w)},M.prototype.imulK=function(b){return b.imul(this.k)};function B(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(B,M),B.prototype.split=function(b,w){for(var p=4194303,g=Math.min(b.length,9),S=0;S<g;S++)w.words[S]=b.words[S];if(w.length=g,b.length<=9){b.words[0]=0,b.length=1;return}var N=b.words[9];for(w.words[w.length++]=N&p,S=10;S<b.length;S++){var I=b.words[S]|0;b.words[S-10]=(I&p)<<4|N>>>22,N=I}N>>>=22,b.words[S-10]=N,N===0&&b.length>10?b.length-=10:b.length-=9},B.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var w=0,p=0;p<b.length;p++){var g=b.words[p]|0;w+=g*977,b.words[p]=w&67108863,w=g*64+(w/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function D(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,M);function T(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(T,M),T.prototype.imulK=function(b){for(var w=0,p=0;p<b.length;p++){var g=(b.words[p]|0)*19+w,S=g&67108863;g>>>=26,b.words[p]=S,w=g}return w!==0&&(b.words[b.length++]=w),b},i._prime=function(b){if(_[b])return _[b];var w;if(b==="k256")w=new B;else if(b==="p224")w=new D;else if(b==="p192")w=new j;else if(b==="p25519")w=new T;else throw new Error("Unknown prime "+b);return _[b]=w,w};function R(O){if(typeof O=="string"){var b=i._prime(O);this.m=b.p,this.prime=b}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}R.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},R.prototype._verify2=function(b,w){n((b.negative|w.negative)===0,"red works only with positives"),n(b.red&&b.red===w.red,"red works only with red numbers")},R.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},R.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},R.prototype.add=function(b,w){this._verify2(b,w);var p=b.add(w);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},R.prototype.iadd=function(b,w){this._verify2(b,w);var p=b.iadd(w);return p.cmp(this.m)>=0&&p.isub(this.m),p},R.prototype.sub=function(b,w){this._verify2(b,w);var p=b.sub(w);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},R.prototype.isub=function(b,w){this._verify2(b,w);var p=b.isub(w);return p.cmpn(0)<0&&p.iadd(this.m),p},R.prototype.shl=function(b,w){return this._verify1(b),this.imod(b.ushln(w))},R.prototype.imul=function(b,w){return this._verify2(b,w),this.imod(b.imul(w))},R.prototype.mul=function(b,w){return this._verify2(b,w),this.imod(b.mul(w))},R.prototype.isqr=function(b){return this.imul(b,b.clone())},R.prototype.sqr=function(b){return this.mul(b,b)},R.prototype.sqrt=function(b){if(b.isZero())return b.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(b,p)}for(var g=this.m.subn(1),S=0;!g.isZero()&&g.andln(1)===0;)S++,g.iushrn(1);n(!g.isZero());var N=new i(1).toRed(this),I=N.redNeg(),A=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,A).cmp(I)!==0;)y.redIAdd(I);for(var C=this.pow(y,g),$=this.pow(b,g.addn(1).iushrn(1)),L=this.pow(b,g),Q=S;L.cmp(N)!==0;){for(var U=L,J=0;U.cmp(N)!==0;J++)U=U.redSqr();n(J<Q);var Z=this.pow(C,new i(1).iushln(Q-J-1));$=$.redMul(Z),C=Z.redSqr(),L=L.redMul(C),Q=J}return $},R.prototype.invm=function(b){var w=b._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(b,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return b.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=b;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],b);var N=g[0],I=0,A=0,y=w.bitLength()%26;for(y===0&&(y=26),S=w.length-1;S>=0;S--){for(var C=w.words[S],$=y-1;$>=0;$--){var L=C>>$&1;if(N!==g[0]&&(N=this.sqr(N)),L===0&&I===0){A=0;continue}I<<=1,I|=L,A++,!(A!==p&&(S!==0||$!==0))&&(N=this.mul(N,g[I]),A=0,I=0)}y=26}return N},R.prototype.convertTo=function(b){var w=b.umod(this.m);return w===b?w.clone():w},R.prototype.convertFrom=function(b){var w=b.clone();return w.red=null,w},i.mont=function(b){return new H(b)};function H(O){R.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(H,R),H.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},H.prototype.convertFrom=function(b){var w=this.imod(b.mul(this.rinv));return w.red=null,w},H.prototype.imul=function(b,w){if(b.isZero()||w.isZero())return b.words[0]=0,b.length=1,b;var p=b.imul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},H.prototype.mul=function(b,w){if(b.isZero()||w.isZero())return new i(0)._forceRed(this);var p=b.mul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},H.prototype.invm=function(b){var w=this.imod(b._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,Rs)})(dU);var qh=dU.exports;(function(t){var e=t,r=qh,n=sm,s=EI;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(u,f,h){var m=new Array(Math.max(u.bitLength(),h)+1),v;for(v=0;v<m.length;v+=1)m[v]=0;var x=1<<f+1,k=u.clone();for(v=0;v<m.length;v++){var E,P=k.andln(x-1);k.isOdd()?(P>(x>>1)-1?E=(x>>1)-P:E=P,k.isubn(E)):E=0,m[v]=E,k.iushrn(1)}return m}e.getNAF=i;function a(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var m=0,v=0,x;u.cmpn(-m)>0||f.cmpn(-v)>0;){var k=u.andln(3)+m&3,E=f.andln(3)+v&3;k===3&&(k=-1),E===3&&(E=-1);var P;k&1?(x=u.andln(7)+m&7,(x===3||x===5)&&E===2?P=-k:P=k):P=0,h[0].push(P);var _;E&1?(x=f.andln(7)+v&7,(x===3||x===5)&&k===2?_=-E:_=E):_=0,h[1].push(_),2*m===P+1&&(m=1-m),2*v===_+1&&(v=1-v),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=a;function o(u,f,h){var m="_"+f;u.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l})(Cc);var fU={},$m=qh,j5=Cc,qS=j5.getNAF,Z1t=j5.getJSF,KS=j5.assert;function ym(t,e){this.type=t,this.p=new $m(e.p,16),this.red=e.prime?$m.red(e.prime):$m.mont(this.p),this.zero=new $m(0).toRed(this.red),this.one=new $m(1).toRed(this.red),this.two=new $m(2).toRed(this.red),this.n=e.n&&new $m(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var LI=ym;ym.prototype.point=function(){throw new Error("Not implemented")};ym.prototype.validate=function(){throw new Error("Not implemented")};ym.prototype._fixedNafMul=function(e,r){KS(e.precomputed);var n=e._getDoubles(),s=qS(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};ym.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=qS(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];KS(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};ym.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var v=u-1,x=u;if(a[v]!==1||a[x]!==1){c[v]=qS(n[v],a[v],this._bitLength),c[x]=qS(n[x],a[x],this._bitLength),l=Math.max(c[v].length,l),l=Math.max(c[x].length,l);continue}var k=[r[v],null,null,r[x]];r[v].y.cmp(r[x].y)===0?(k[1]=r[v].add(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg())):r[v].y.cmp(r[x].y.redNeg())===0?(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].add(r[x].neg())):(k[1]=r[v].toJ().mixedAdd(r[x]),k[2]=r[v].toJ().mixedAdd(r[x].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],P=Z1t(n[v],n[x]);for(l=Math.max(P[0].length,l),c[v]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=P[0][f]|0,M=P[1][f]|0;c[v][f]=E[(_+1)*3+(M+1)],c[x][f]=0,o[v]=k}}var B=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,B=B.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?B=B.mixedAdd(h):B=B.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?B:B.toP()};function jl(t,e){this.curve=t,this.type=e,this.precomputed=null}ym.BasePoint=jl;jl.prototype.eq=function(){throw new Error("Not implemented")};jl.prototype.validate=function(){return this.curve.validate(this)};ym.prototype.decodePoint=function(e,r){e=j5.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?KS(e[e.length-1]%2===0):e[0]===7&&KS(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};jl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};jl.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};jl.prototype.encode=function(e,r){return j5.encode(this._encode(r),e)};jl.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};jl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};jl.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};jl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};jl.prototype._getBeta=function(){return null};jl.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var J1t=Cc,ks=qh,hU=D1,j2=LI,Q1t=J1t.assert;function $l(t){j2.call(this,"short",t),this.a=new ks(t.a,16).toRed(this.red),this.b=new ks(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}hU($l,j2);var Y1t=$l;$l.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ks(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new ks(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Q1t(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new ks(o.a,16),b:new ks(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};$l.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ks.mont(e),n=new ks(2).toRed(r).redInvm(),s=n.redNeg(),i=new ks(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};$l.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new ks(1),a=new ks(0),o=new ks(0),c=new ks(1),l,u,f,h,m,v,x,k=0,E,P;n.cmpn(0)!==0;){var _=s.div(n);E=s.sub(_.mul(n)),P=o.sub(_.mul(i));var M=c.sub(_.mul(a));if(!f&&E.cmp(r)<0)l=x.neg(),u=i,f=E.neg(),h=P;else if(f&&++k===2)break;x=E,s=n,n=E,o=i,i=P,c=a,a=M}m=E.neg(),v=P;var B=f.sqr().add(h.sqr()),D=m.sqr().add(v.sqr());return D.cmp(B)>=0&&(m=l,v=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:f,b:h},{a:m,b:v}]};$l.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};$l.prototype.pointFromX=function(e,r){e=new ks(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};$l.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};$l.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ei(t,e,r,n){j2.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ks(e,16),this.y=new ks(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}hU(Ei,j2.BasePoint);$l.prototype.point=function(e,r,n){return new Ei(this,e,r,n)};$l.prototype.pointFromJSON=function(e,r){return Ei.fromJSON(this,e,r)};Ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ei.prototype.isInfinity=function(){return this.inf};Ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ei.prototype.getX=function(){return this.x.fromRed()};Ei.prototype.getY=function(){return this.y.fromRed()};Ei.prototype.mul=function(e){return e=new ks(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ei.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ei.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function aa(t,e,r,n){j2.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ks(0)):(this.x=new ks(e,16),this.y=new ks(r,16),this.z=new ks(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}hU(aa,j2.BasePoint);$l.prototype.jpoint=function(e,r,n){return new aa(this,e,r,n)};aa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};aa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};aa.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),v=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};aa.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),v=this.z.redMul(o);return this.curve.jpoint(h,m,v)};aa.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=v.redSqr().redISub(x.redAdd(x)),E=x.redISub(k),P=v.redMul(E);P=P.redIAdd(P).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=P}return this.curve.jpoint(a,u.redMul(i),c)};aa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};aa.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),v=this.x.redAdd(h).redSqr().redISub(f).redISub(m);v=v.redIAdd(v);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),E=m.redIAdd(m);E=E.redIAdd(E),E=E.redIAdd(E),e=k.redISub(v).redISub(v),r=x.redMul(v.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};aa.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=v.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var E=h.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=v.redMul(x.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};aa.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,v,x)};aa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,v)};aa.prototype.mul=function(e,r){return e=new ks(e,r),this.curve._wnafMul(this,e)};aa.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};aa.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};aa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};aa.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var hy=qh,Jge=D1,VI=LI,G1t=Cc;function $2(t){VI.call(this,"mont",t),this.a=new hy(t.a,16).toRed(this.red),this.b=new hy(t.b,16).toRed(this.red),this.i4=new hy(4).toRed(this.red).redInvm(),this.two=new hy(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Jge($2,VI);var ebt=$2;$2.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function Pi(t,e,r){VI.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new hy(e,16),this.z=new hy(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Jge(Pi,VI.BasePoint);$2.prototype.decodePoint=function(e,r){return this.point(G1t.toArray(e,r),1)};$2.prototype.point=function(e,r){return new Pi(this,e,r)};$2.prototype.pointFromJSON=function(e){return Pi.fromJSON(this,e)};Pi.prototype.precompute=function(){};Pi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Pi.fromJSON=function(e,r){return new Pi(e,r[0],r[1]||e.one)};Pi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Pi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Pi.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),a=r.redMul(s),o=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)};Pi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Pi.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),c=i.redMul(s),l=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(l,u)};Pi.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};Pi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Pi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Pi.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Pi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Pi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var tbt=Cc,dh=qh,Qge=D1,HI=LI,rbt=tbt.assert;function mf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,HI.call(this,"edwards",t),this.a=new dh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new dh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new dh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),rbt(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Qge(mf,HI);var nbt=mf;mf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};mf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};mf.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};mf.prototype.pointFromX=function(e,r){e=new dh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=s.redMul(i.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};mf.prototype.pointFromY=function(e,r){e=new dh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=s.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};mf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function Dn(t,e,r,n,s){HI.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new dh(e,16),this.y=new dh(r,16),this.z=n?new dh(n,16):this.curve.one,this.t=s&&new dh(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Qge(Dn,HI.BasePoint);mf.prototype.pointFromJSON=function(e){return Dn.fromJSON(this,e)};mf.prototype.point=function(e,r,n,s){return new Dn(this,e,r,n,s)};Dn.fromJSON=function(e,r){return new Dn(e,r[0],r[1],r[2])};Dn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Dn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=s.redAdd(r),o=a.redSub(n),c=s.redSub(r),l=i.redMul(o),u=a.redMul(c),f=i.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,f)};Dn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,a,o,c,l;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(o.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),s=e.redSub(r).redISub(n).redMul(l),i=u.redMul(o.redSub(n)),a=u.redMul(l))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=o.redSub(c).redSub(c),s=this.curve._mulC(e.redISub(o)).redMul(l),i=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(l);return this.curve.point(s,i,a)};Dn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Dn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=i.redSub(s),c=i.redAdd(s),l=n.redAdd(r),u=a.redMul(o),f=c.redMul(l),h=a.redMul(l),m=o.redMul(c);return this.curve.point(u,f,m,h)};Dn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(i),o=n.redSub(a),c=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),u=r.redMul(o).redMul(l),f,h;return this.curve.twisted?(f=r.redMul(c).redMul(i.redSub(this.curve._mulA(s))),h=o.redMul(c)):(f=r.redMul(c).redMul(i.redSub(s)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,f,h)};Dn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Dn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Dn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Dn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Dn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Dn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Dn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Dn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Dn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Dn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Dn.prototype.toP=Dn.prototype.normalize;Dn.prototype.mixedAdd=Dn.prototype.add;(function(t){var e=t;e.base=LI,e.short=Y1t,e.mont=ebt,e.edwards=nbt})(fU);var WI={},AC,kQ;function sbt(){return kQ||(kQ=1,AC={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),AC}(function(t){var e=t,r=R1,n=fU,s=Cc,i=s.assert;function a(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function o(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=sbt()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(WI);var ibt=qh,abt=Cc,pO=abt.assert;function Ba(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var obt=Ba;Ba.fromPublic=function(e,r,n){return r instanceof Ba?r:new Ba(e,{pub:r,pubEnc:n})};Ba.fromPrivate=function(e,r,n){return r instanceof Ba?r:new Ba(e,{priv:r,privEnc:n})};Ba.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ba.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ba.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ba.prototype._importPrivate=function(e,r){this.priv=new ibt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ba.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?pO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&pO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ba.prototype.derive=function(e){return e.validate()||pO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ba.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ba.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ba.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var XS=qh,pU=Cc,cbt=pU.assert;function qI(t,e){if(t instanceof qI)return t;this._importDER(t,e)||(cbt(t.r&&t.s,"Signature without r or s"),this.r=new XS(t.r,16),this.s=new XS(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var lbt=qI;function ubt(){this.place=0}function SC(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function IQ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}qI.prototype._importDER=function(e,r){e=pU.toArray(e,r);var n=new ubt;if(e[n.place++]!==48)return!1;var s=SC(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=SC(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=SC(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new XS(a),this.s=new XS(c),this.recoveryParam=null,!0};function PC(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}qI.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=IQ(r),n=IQ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];PC(s,r.length),s=s.concat(r),s.push(2),PC(s,n.length);var i=s.concat(n),a=[48];return PC(a,i.length),a=a.concat(i),pU.encode(a,e)};var t1=qh,Yge=Xme,dbt=Cc,kC=WI,fbt=_I,Gge=dbt.assert,mU=obt,KI=lbt;function Il(t){if(!(this instanceof Il))return new Il(t);typeof t=="string"&&(Gge(Object.prototype.hasOwnProperty.call(kC,t),"Unknown curve "+t),t=kC[t]),t instanceof kC.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hbt=Il;Il.prototype.keyPair=function(e){return new mU(this,e)};Il.prototype.keyFromPrivate=function(e,r){return mU.fromPrivate(this,e,r)};Il.prototype.keyFromPublic=function(e,r){return mU.fromPublic(this,e,r)};Il.prototype.genKeyPair=function(e){e||(e={});for(var r=new Yge({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fbt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new t1(2));;){var i=new t1(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Il.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Il.prototype.sign=function(e,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new t1(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=e.toArray("be",i),c=new Yge({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),l=this.n.sub(new t1(1)),u=0;;u++){var f=s.k?s.k(u):new t1(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var m=h.getX(),v=m.umod(this.n);if(v.cmpn(0)!==0){var x=f.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var k=(h.getY().isOdd()?1:0)|(m.cmp(v)!==0?2:0);return s.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),k^=1),new KI({r:v,s:x,recoveryParam:k})}}}}}};Il.prototype.verify=function(e,r,n,s){e=this._truncateToN(new t1(e,16)),n=this.keyFromPublic(n,s),r=new KI(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),l=o.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Il.prototype.recoverPubKey=function(t,e,r,n){Gge((3&r)===r,"The recovery param is more than two bits"),e=new KI(e,n);var s=this.n,i=new t1(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};Il.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new KI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var $5=Cc,e1e=$5.assert,NQ=$5.parseBytes,M2=$5.cachedProperty;function wi(t,e){this.eddsa=t,this._secret=NQ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=NQ(e.pub)}wi.fromPublic=function(e,r){return r instanceof wi?r:new wi(e,{pub:r})};wi.fromSecret=function(e,r){return r instanceof wi?r:new wi(e,{secret:r})};wi.prototype.secret=function(){return this._secret};M2(wi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});M2(wi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});M2(wi,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});M2(wi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});M2(wi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});M2(wi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});wi.prototype.sign=function(e){return e1e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};wi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};wi.prototype.getSecret=function(e){return e1e(this._secret,"KeyPair is public only"),$5.encode(this.secret(),e)};wi.prototype.getPublic=function(e){return $5.encode(this.pubBytes(),e)};var pbt=wi,mbt=qh,XI=Cc,EQ=XI.assert,ZI=XI.cachedProperty,gbt=XI.parseBytes;function eb(t,e){this.eddsa=t,typeof e!="object"&&(e=gbt(e)),Array.isArray(e)&&(EQ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),EQ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof mbt&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ZI(eb,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ZI(eb,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ZI(eb,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ZI(eb,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});eb.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};eb.prototype.toHex=function(){return XI.encode(this.toBytes(),"hex").toUpperCase()};var bbt=eb,ybt=R1,vbt=WI,Vx=Cc,xbt=Vx.assert,t1e=Vx.parseBytes,r1e=pbt,_Q=bbt;function Lo(t){if(xbt(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Lo))return new Lo(t);t=vbt[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ybt.sha512}var wbt=Lo;Lo.prototype.sign=function(e,r){e=t1e(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=s.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};Lo.prototype.verify=function(e,r,n){if(e=t1e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(s.pub().mul(i));return o.eq(a)};Lo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Vx.intFromLE(e.digest()).umod(this.curve.n)};Lo.prototype.keyFromPublic=function(e){return r1e.fromPublic(this,e)};Lo.prototype.keyFromSecret=function(e){return r1e.fromSecret(this,e)};Lo.prototype.makeSignature=function(e){return e instanceof _Q?e:new _Q(this,e)};Lo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Lo.prototype.decodePoint=function(e){e=Vx.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=Vx.intFromLE(n);return this.curve.pointFromY(i,s)};Lo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Lo.prototype.decodeInt=function(e){return Vx.intFromLE(e)};Lo.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=X1t.version,e.utils=Cc,e.rand=_I,e.curve=fU,e.curves=WI,e.ec=hbt,e.eddsa=wbt})(Zge);var Abt={},Sbt=Object.defineProperty,CQ=Object.getOwnPropertySymbols,Pbt=Object.prototype.hasOwnProperty,kbt=Object.prototype.propertyIsEnumerable,TQ=(t,e,r)=>e in t?Sbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jQ=(t,e)=>{for(var r in e||(e={}))Pbt.call(e,r)&&TQ(t,r,e[r]);if(CQ)for(var r of CQ(e))kbt.call(e,r)&&TQ(t,r,e[r]);return t};const Ibt="ReactNative",vu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Nbt="js";function ZS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function M5(){return!xc()&&!!X1()&&navigator.product===Ibt}function JI(){return!ZS()&&!!X1()&&!!xc()}function QI(){return M5()?vu.reactNative:ZS()?vu.node:JI()?vu.browser:vu.unknown}function Ebt(){var t;try{return M5()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function _bt(t,e){let r=Bh.parse(t);return r=jQ(jQ({},r),e),t=Bh.stringify(r),t}function Cbt(){return aI()||{name:"",description:"",url:"",icons:[""]}}function Tbt(){if(QI()===vu.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=ND();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function jbt(){var t;const e=QI();return e===vu.browser?[e,((t=iI())==null?void 0:t.host)||"unknown"].join(":"):e}function n1e(t,e,r){const n=Tbt(),s=jbt();return[[t,e].join("-"),[Nbt,r].join("-"),n,s].join("/")}function $bt({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const c=r.split("?"),l=n1e(t,e,n),u={auth:s,ua:l,projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},f=_bt(c[1]||"",u);return c[0]+"?"+f}function s1e(t){return Object.fromEntries(t.entries())}function i1e(t){return new Map(Object.entries(t))}function Mbt(t=$e.FIVE_MINUTES,e){const r=$e.toMiliseconds(t||$e.FIVE_MINUTES);let n,s,i;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,o)=>{i=setTimeout(()=>{o(new Error(e))},r),n=a,s=o})}}function qy(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function a1e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Obt(t){return a1e("topic",t)}function Fbt(t){return a1e("id",t)}function Bbt(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function C3(t,e){return $e.fromMiliseconds(Date.now()+$e.toMiliseconds(t))}function $Q(t){return Date.now()>=$e.toMiliseconds(t)}function IC(t,e){return`${t}${e?`:${e}`:""}`}function MQ(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function o1e(){return typeof process<"u"&&Abt.IS_VITEST==="true"}function c1e(t){return Buffer.from(t,"base64").toString("utf-8")}const l1e="base10",no="base16",JS="base64pad",O5="utf8",u1e=0,O2=1,YI=2,Rbt=0,OQ=1,T3=12,gU=32;function Dbt(){const t=A5.generateKeyPair();return{privateKey:xi(t.secretKey,no),publicKey:xi(t.publicKey,no)}}function mO(){const t=Ic.randomBytes(gU);return xi(t,no)}function Ubt(t,e){const r=A5.sharedKey(gi(t,no),gi(e,no),!0),n=new Vme(hf.SHA256,r).expand(gU);return xi(n,no)}function zbt(t){const e=hf.hash(gi(t,no));return xi(e,no)}function gO(t){const e=hf.hash(gi(t,O5));return xi(e,no)}function d1e(t){return gi(`${t}`,l1e)}function C1(t){return Number(xi(t,l1e))}function Lbt(t){const e=d1e(typeof t.type<"u"?t.type:u1e);if(C1(e)===O2&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?gi(t.senderPublicKey,no):void 0,n=typeof t.iv<"u"?gi(t.iv,no):Ic.randomBytes(T3),s=new x5.ChaCha20Poly1305(gi(t.symKey,no)).seal(n,gi(t.message,O5));return f1e({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function Vbt(t,e){const r=d1e(YI),n=Ic.randomBytes(T3),s=gi(t,O5);return f1e({type:r,sealed:s,iv:n,encoding:e})}function Hbt(t){const e=new x5.ChaCha20Poly1305(gi(t.symKey,no)),{sealed:r,iv:n}=r4({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return xi(s,O5)}function Wbt(t,e){const{sealed:r}=r4({encoded:t,encoding:e});return xi(r,O5)}function f1e(t){const{encoding:e=JS}=t;if(C1(t.type)===YI)return xi(M7([t.type,t.sealed]),e);if(C1(t.type)===O2){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return xi(M7([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return xi(M7([t.type,t.iv,t.sealed]),e)}function r4(t){const{encoded:e,encoding:r=JS}=t,n=gi(e,r),s=n.slice(Rbt,OQ),i=OQ;if(C1(s)===O2){const l=i+gU,u=l+T3,f=n.slice(i,l),h=n.slice(l,u),m=n.slice(u);return{type:s,sealed:m,iv:h,senderPublicKey:f}}if(C1(s)===YI){const l=n.slice(i),u=Ic.randomBytes(T3);return{type:s,sealed:l,iv:u}}const a=i+T3,o=n.slice(i,a),c=n.slice(a);return{type:s,sealed:c,iv:o}}function qbt(t,e){const r=r4({encoded:t,encoding:e==null?void 0:e.encoding});return h1e({type:C1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?xi(r.senderPublicKey,no):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function h1e(t){const e=(t==null?void 0:t.type)||u1e;if(e===O2){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function FQ(t){return t.type===O2&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function BQ(t){return t.type===YI}function Kbt(t){return new Zge.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function Xbt(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function Zbt(t){return Buffer.from(Xbt(t),"base64")}function Jbt(t,e){const[r,n,s]=t.split("."),i=Zbt(s);if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32).toString("hex"),o=i.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new hf.SHA256().update(Buffer.from(c)).digest(),u=Kbt(e),f=Buffer.from(l).toString("hex");if(!u.verify(f,{r:a,s:o}))throw new Error("Invalid signature");return hO(t).payload}const Qbt="irn";function bO(t){return(t==null?void 0:t.relay)||{protocol:Qbt}}function r3(t){const e=CD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ybt=Object.defineProperty,Gbt=Object.defineProperties,eyt=Object.getOwnPropertyDescriptors,RQ=Object.getOwnPropertySymbols,tyt=Object.prototype.hasOwnProperty,ryt=Object.prototype.propertyIsEnumerable,DQ=(t,e,r)=>e in t?Ybt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UQ=(t,e)=>{for(var r in e||(e={}))tyt.call(e,r)&&DQ(t,r,e[r]);if(RQ)for(var r of RQ(e))ryt.call(e,r)&&DQ(t,r,e[r]);return t},nyt=(t,e)=>Gbt(t,eyt(e));function syt(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function zQ(t){if(!t.includes("wc:")){const c=c1e(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=Bh.parse(i),o=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:iyt(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:syt(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function iyt(t){return t.startsWith("//")?t.substring(2):t}function ayt(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=r+e+s;t[s]&&(n[i]=t[s])}),n}function LQ(t){return`${t.protocol}:${t.topic}@${t.version}?`+Bh.stringify(UQ(nyt(UQ({symKey:t.symKey},ayt(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}const oyt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cyt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function un(t,e){const{message:r,code:n}=cyt[t];return{message:e?`${r} ${e}`:r,code:n}}function n3(t,e){const{message:r,code:n}=oyt[t];return{message:e?`${r} ${e}`:r,code:n}}function lyt(t,e){return!!Array.isArray(t)}function yO(t){return typeof t>"u"}function p1e(t,e){return typeof t=="string"&&!!t.trim().length}function uyt(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(p1e(t,!1)){if(e(t))return!0;const r=c1e(t);return e(r)}}catch{}return!1}function dyt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function fyt(t){return t==null?void 0:t.topic}function NC(t){return typeof t<"u"&&typeof t!==null}function VQ(){const t=QI();return new Promise(e=>{switch(t){case vu.browser:e(hyt());break;case vu.reactNative:e(pyt());break;case vu.node:e(myt());break;default:e(!0)}})}function hyt(){return JI()&&(navigator==null?void 0:navigator.onLine)}async function pyt(){if(M5()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function myt(){return!0}function gyt(t){switch(QI()){case vu.browser:byt(t);break;case vu.reactNative:yyt(t);break}}function byt(t){!M5()&&JI()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function yyt(t){M5()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const vyt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),xyt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",HQ=t=>t.split("?")[0],WQ=10,wyt=vyt();let Ayt=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Zs(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!Ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=new URLSearchParams(e).get("origin"),i=bI.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!VD(e)},a=new wyt(e,[],i);xyt()?a.onerror=o=>{const c=o;n(this.emitError(c.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ai(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=pm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return LD(e,HQ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>WQ&&this.events.setMaxListeners(WQ)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${HQ(this.url)}`));return this.events.emit("register_error",r),r}};const m1e="wc",g1e=2,bU="core",nf=`${m1e}@2:${bU}:`,Syt={name:bU,logger:"error"},Pyt={database:":memory:"},kyt="crypto",qQ="client_ed25519_seed",Iyt=$e.ONE_DAY,Nyt="keychain",Eyt="0.3",_yt="messages",Cyt="0.3",Tyt=$e.SIX_HOURS,jyt="publisher",$yt="irn",Myt="error",b1e="wss://relay.walletconnect.org",Oyt="relayer",lc={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Fyt="_subscription",Vc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Byt=.1,vO="2.17.1",Hx={link_mode:"link_mode",relay:"relay"},Ryt="0.3",Dyt="WALLETCONNECT_CLIENT_ID",KQ="WALLETCONNECT_LINK_MODE_APPS",td={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Uyt="subscription",zyt="0.3",Lyt=$e.FIVE_SECONDS*1e3,Vyt="pairing",Hyt="0.3",Pw={wc_pairingDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:0},res:{ttl:$e.ONE_DAY,prompt:!1,tag:0}}},kw={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Vl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Wyt="history",qyt="0.3",Kyt="expirer",Kl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Xyt="0.3",Zyt="verify-api",Jyt="https://verify.walletconnect.com",y1e="https://verify.walletconnect.org",O7=y1e,Qyt=`${O7}/v3`,Yyt=[Jyt,y1e],Gyt="echo",evt="https://echo.walletconnect.com",Ef={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},x0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},tvt=.1,rvt="event-client",nvt=86400,svt="https://pulse.walletconnect.org/batch";function ivt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,k=0,E=0,P=v.length;E!==P&&v[E]===0;)E++,x++;for(var _=(P-E)*u+1>>>0,M=new Uint8Array(_);E!==P;){for(var B=v[E],D=0,j=_-1;(B!==0||D<k)&&j!==-1;j--,D++)B+=256*M[j]>>>0,M[j]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");k=D,E++}for(var T=_-k;T!==_&&M[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(M[T]);return R}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var x=0;if(v[x]!==" "){for(var k=0,E=0;v[x]===c;)k++,x++;for(var P=(v.length-x)*l+1>>>0,_=new Uint8Array(P);v[x];){var M=r[v.charCodeAt(x)];if(M===255)return;for(var B=0,D=P-1;(M!==0||B<E)&&D!==-1;D--,B++)M+=o*_[D]>>>0,_[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");E=B,x++}if(v[x]!==" "){for(var j=P-E;j!==P&&_[j]===0;)j++;for(var T=new Uint8Array(k+(P-j)),R=k;j!==P;)T[R++]=_[j++];return T}}}function m(v){var x=h(v);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var avt=ivt,ovt=avt;const v1e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},cvt=t=>new TextEncoder().encode(t),lvt=t=>new TextDecoder().decode(t);class uvt{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dvt{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return x1e(this,e)}}class fvt{constructor(e){this.decoders=e}or(e){return x1e(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x1e=(t,e)=>new fvt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hvt{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new uvt(e,r,n),this.decoder=new dvt(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const GI=({name:t,prefix:e,encode:r,decode:n})=>new hvt(t,e,r,n),F5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=ovt(r,e);return GI({prefix:t,name:e,encode:n,decode:i=>v1e(s(i))})},pvt=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},mvt=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},oa=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>GI({prefix:e,name:t,encode(s){return mvt(s,n,r)},decode(s){return pvt(s,n,r,t)}}),gvt=GI({prefix:"\0",name:"identity",encode:t=>lvt(t),decode:t=>cvt(t)});var bvt=Object.freeze({__proto__:null,identity:gvt});const yvt=oa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vvt=Object.freeze({__proto__:null,base2:yvt});const xvt=oa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wvt=Object.freeze({__proto__:null,base8:xvt});const Avt=F5({prefix:"9",name:"base10",alphabet:"0123456789"});var Svt=Object.freeze({__proto__:null,base10:Avt});const Pvt=oa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kvt=oa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ivt=Object.freeze({__proto__:null,base16:Pvt,base16upper:kvt});const Nvt=oa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Evt=oa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_vt=oa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Cvt=oa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tvt=oa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jvt=oa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$vt=oa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mvt=oa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ovt=oa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fvt=Object.freeze({__proto__:null,base32:Nvt,base32upper:Evt,base32pad:_vt,base32padupper:Cvt,base32hex:Tvt,base32hexupper:jvt,base32hexpad:$vt,base32hexpadupper:Mvt,base32z:Ovt});const Bvt=F5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rvt=F5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dvt=Object.freeze({__proto__:null,base36:Bvt,base36upper:Rvt});const Uvt=F5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zvt=F5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lvt=Object.freeze({__proto__:null,base58btc:Uvt,base58flickr:zvt});const Vvt=oa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hvt=oa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wvt=oa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qvt=oa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Kvt=Object.freeze({__proto__:null,base64:Vvt,base64pad:Hvt,base64url:Wvt,base64urlpad:qvt});const w1e=Array.from(""),Xvt=w1e.reduce((t,e,r)=>(t[r]=e,t),[]),Zvt=w1e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Jvt(t){return t.reduce((e,r)=>(e+=Xvt[r],e),"")}function Qvt(t){const e=[];for(const r of t){const n=Zvt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Yvt=GI({prefix:"",name:"base256emoji",encode:Jvt,decode:Qvt});var Gvt=Object.freeze({__proto__:null,base256emoji:Yvt}),ext=A1e,XQ=128,txt=127,rxt=~txt,nxt=Math.pow(2,31);function A1e(t,e,r){e=e||[],r=r||0;for(var n=r;t>=nxt;)e[r++]=t&255|XQ,t/=128;for(;t&rxt;)e[r++]=t&255|XQ,t>>>=7;return e[r]=t|0,A1e.bytes=r-n+1,e}var sxt=xO,ixt=128,ZQ=127;function xO(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw xO.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&ZQ)<<s:(a&ZQ)*Math.pow(2,s),s+=7}while(a>=ixt);return xO.bytes=i-n,r}var axt=Math.pow(2,7),oxt=Math.pow(2,14),cxt=Math.pow(2,21),lxt=Math.pow(2,28),uxt=Math.pow(2,35),dxt=Math.pow(2,42),fxt=Math.pow(2,49),hxt=Math.pow(2,56),pxt=Math.pow(2,63),mxt=function(t){return t<axt?1:t<oxt?2:t<cxt?3:t<lxt?4:t<uxt?5:t<dxt?6:t<fxt?7:t<hxt?8:t<pxt?9:10},gxt={encode:ext,decode:sxt,encodingLength:mxt},S1e=gxt;const JQ=(t,e,r=0)=>(S1e.encode(t,e,r),e),QQ=t=>S1e.encodingLength(t),wO=(t,e)=>{const r=e.byteLength,n=QQ(t),s=n+QQ(r),i=new Uint8Array(s+r);return JQ(t,i,0),JQ(r,i,n),i.set(e,s),new bxt(t,r,e,i)};class bxt{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const P1e=({name:t,code:e,encode:r})=>new yxt(t,e,r);class yxt{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?wO(this.code,r):r.then(n=>wO(this.code,n))}else throw Error("Unknown type, must be binary type")}}const k1e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),vxt=P1e({name:"sha2-256",code:18,encode:k1e("SHA-256")}),xxt=P1e({name:"sha2-512",code:19,encode:k1e("SHA-512")});var wxt=Object.freeze({__proto__:null,sha256:vxt,sha512:xxt});const I1e=0,Axt="identity",N1e=v1e,Sxt=t=>wO(I1e,N1e(t)),Pxt={code:I1e,name:Axt,encode:N1e,digest:Sxt};var kxt=Object.freeze({__proto__:null,identity:Pxt});new TextEncoder,new TextDecoder;const YQ={...bvt,...vvt,...wvt,...Svt,...Ivt,...Fvt,...Dvt,...Lvt,...Kvt,...Gvt};({...wxt,...kxt});function Ixt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function E1e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const GQ=E1e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),EC=E1e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Ixt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nxt={utf8:GQ,"utf-8":GQ,hex:YQ.base16,latin1:EC,ascii:EC,binary:EC,...YQ};function Ext(t,e="utf8"){const r=Nxt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}class _xt{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Nyt,this.version=Eyt,this.initialized=!1,this.storagePrefix=nf,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=un("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Ho(r,this.name)}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,s1e(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?i1e(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Cxt{constructor(e,r,n){this.core=e,this.logger=r,this.name=kyt,this.randomSessionIdentifier=mO(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=PQ(s);return Xge(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=Dbt();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),a=PQ(i),o=this.randomSessionIdentifier;return await $1t(o,s,Iyt,a)},this.generateSharedKey=(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=Ubt(o,i);return this.setSymKey(c,a)},this.setSymKey=async(s,i)=>{this.isInitialized();const a=i||zbt(s);return await this.keychain.set(a,s),a},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,a)=>{this.isInitialized();const o=h1e(a),c=Zs(i);if(BQ(o))return Vbt(c,a==null?void 0:a.encoding);if(FQ(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return Lbt({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})},this.decode=async(s,i,a)=>{this.isInitialized();const o=qbt(i,a);if(BQ(o)){const c=Wbt(i,a==null?void 0:a.encoding);return Ai(c)}if(FQ(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Hbt({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Ai(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(s,i=JS)=>{const a=r4({encoded:s,encoding:i});return C1(a.type)},this.getPayloadSenderPublicKey=(s,i=JS)=>{const a=r4({encoded:s,encoding:i});return a.senderPublicKey?xi(a.senderPublicKey,no):void 0},this.core=e,this.logger=Ho(r,this.name),this.keychain=n||new _xt(this.core,this.logger)}get context(){return _c(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(qQ)}catch{e=mO(),await this.keychain.set(qQ,e)}return Ext(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Txt extends f1t{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=_yt,this.version=Cyt,this.initialized=!1,this.storagePrefix=nf,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=gO(s);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[i]<"u"||(a[i]=s,this.messages.set(n,a),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),a=gO(s);return typeof i[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ho(e,this.name),this.core=r}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,s1e(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?i1e(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class jxt extends h1t{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Un.EventEmitter,this.name=jyt,this.queue=new Map,this.publishTimeout=$e.toMiliseconds($e.ONE_MINUTE),this.failedPublishTimeout=$e.toMiliseconds($e.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const o=(i==null?void 0:i.ttl)||Tyt,c=bO(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||ml().toString(),h={topic:n,message:s,opts:{ttl:o,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation}},m=`Failed to publish payload, please try again. id:${f} tag:${u}`,v=Date.now();let x,k=1;try{for(;x===void 0;){if(Date.now()-v>this.publishTimeout)throw new Error(m);this.logger.trace({id:f,attempts:k},`publisher.publish - attempt ${k}`),x=await await qy(this.rpcPublish(n,s,o,c,l,u,f,i==null?void 0:i.attestation).catch(E=>this.logger.warn(E)),this.publishTimeout,m),k++,x||await new Promise(E=>setTimeout(E,this.failedPublishTimeout))}this.relayer.events.emit(lc.publish,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:s,opts:i}})}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw E;this.queue.set(f,h)}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=Ho(r,this.name),this.registerEventListeners()}get context(){return _c(this.logger)}rpcPublish(e,r,n,s,i,a,o,c){var l,u,f,h;const m={method:r3(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:i,tag:a,attestation:c},id:o};return yO((l=m.params)==null?void 0:l.prompt)&&((u=m.params)==null||delete u.prompt),yO((f=m.params)==null?void 0:f.tag)&&((h=m.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.request(m)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(lc.connection_stalled);return}this.checkQueue()}),this.relayer.on(lc.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class $xt{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Mxt=Object.defineProperty,Oxt=Object.defineProperties,Fxt=Object.getOwnPropertyDescriptors,eY=Object.getOwnPropertySymbols,Bxt=Object.prototype.hasOwnProperty,Rxt=Object.prototype.propertyIsEnumerable,tY=(t,e,r)=>e in t?Mxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Iw=(t,e)=>{for(var r in e||(e={}))Bxt.call(e,r)&&tY(t,r,e[r]);if(eY)for(var r of eY(e))Rxt.call(e,r)&&tY(t,r,e[r]);return t},_C=(t,e)=>Oxt(t,Fxt(e));class Dxt extends g1t{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new $xt,this.events=new Un.EventEmitter,this.name=Uyt,this.version=zyt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=nf,this.subscribeTimeout=$e.toMiliseconds($e.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=bO(s),a={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,a);const o=await this.rpcSubscribe(n,i,s);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const s=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((i,a)=>{const o=new $e.Watch;o.start(s);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),o.stop(s),i(!0)),o.elapsed(s)>=Lyt&&(clearInterval(c),o.stop(s),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ho(r,this.name),this.clientId=""}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=bO(n);await this.rpcUnsubscribe(e,r,s);const i=n3("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(n==null?void 0:n.transportType)===Hx.relay&&await this.restartToComplete();const i={method:r3(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const a=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const o=gO(e+this.clientId);if((n==null?void 0:n.transportType)===Hx.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(l=>this.logger.warn(l))},$e.toMiliseconds($e.ONE_SECOND)),o;const c=await qy(this.relayer.request(i).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(lc.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:r3(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await qy(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(lc.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:r3(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await qy(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(lc.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:r3(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,_C(Iw({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Iw({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Iw({},r)),this.topicMap.set(r.topic,e),this.events.emit(td.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=un("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(td.deleted,_C(Iw({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(td.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(td.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=un("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);lyt(r)&&this.onBatchSubscribe(r.map((n,s)=>_C(Iw({},e[s]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(td.created,async e=>{const r=td.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(td.deleted,async e=>{const r=td.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var Uxt=Object.defineProperty,rY=Object.getOwnPropertySymbols,zxt=Object.prototype.hasOwnProperty,Lxt=Object.prototype.propertyIsEnumerable,nY=(t,e,r)=>e in t?Uxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sY=(t,e)=>{for(var r in e||(e={}))zxt.call(e,r)&&nY(t,r,e[r]);if(rY)for(var r of rY(e))Lxt.call(e,r)&&nY(t,r,e[r]);return t};class Vxt extends p1t{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Un.EventEmitter,this.name=Oyt,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=$e.toMiliseconds($e.THIRTY_SECONDS+$e.ONE_SECOND),this.request=async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||ml().toString();await this.toEstablishConnection();try{const a=this.provider.request(r);this.requestsInFlight.set(i,{promise:a,request:r}),this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const o=await new Promise(async(c,l)=>{const u=()=>{l(new Error(`relayer.request - publish interrupted, id: ${i}`))};this.provider.on(Vc.disconnect,u);const f=await a;this.provider.off(Vc.disconnect,u),c(f)});return this.logger.trace({id:i,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - published"),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(ZS())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s;(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||s.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(lc.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(lc.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Vc.payload,this.onPayloadHandler),this.provider.on(Vc.connect,this.onConnectHandler),this.provider.on(Vc.disconnect,this.onDisconnectHandler),this.provider.on(Vc.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ho(e.logger,this.name):lU(Lge({level:e.logger||Myt})),this.messages=new Txt(this.logger,e.core),this.subscriber=new Dxt(this,this.logger),this.publisher=new jxt(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||b1e,this.projectId=e.projectId,this.bundleId=Ebt(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return _c(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Hx.relay})}async subscribe(e,r){var n,s,i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(td.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(td.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,sY({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await qy(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const s=()=>{this.provider.off(Vc.disconnect,s),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Vc.disconnect,s),await qy(this.provider.connect(),$e.toMiliseconds($e.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{n(i)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(i=>{this.logger.error(i),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await VQ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=C3($e.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(lc.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,s,i;if(ZS())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new HD(new Ayt($bt({sdkVersion:vO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),mm(e)){if(!e.method.endsWith(Fyt))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:Hx.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(sY({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Hh(e)&&this.events.emit(lc.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(lc.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=hm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Vc.payload,this.onPayloadHandler),this.provider.off(Vc.connect,this.onConnectHandler),this.provider.off(Vc.disconnect,this.onDisconnectHandler),this.provider.off(Vc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await VQ();gyt(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(lc.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},$e.toMiliseconds(Byt))))}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var Hxt=Object.defineProperty,iY=Object.getOwnPropertySymbols,Wxt=Object.prototype.hasOwnProperty,qxt=Object.prototype.propertyIsEnumerable,aY=(t,e,r)=>e in t?Hxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oY=(t,e)=>{for(var r in e||(e={}))Wxt.call(e,r)&&aY(t,r,e[r]);if(iY)for(var r of iY(e))qxt.call(e,r)&&aY(t,r,e[r]);return t};class Kxt extends m1t{constructor(e,r,n,s=nf,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=Ryt,this.cached=[],this.initialized=!1,this.storagePrefix=nf,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!yO(a)?this.map.set(this.getKey(a),a):dyt(a)?this.map.set(a.id,a):fyt(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>bge(o[c],a[c]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=oY(oY({},this.getData(a)),o);this.map.set(a,c),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())},this.logger=Ho(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=un("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=un("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=un("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Xxt{constructor(e,r){this.core=e,this.logger=r,this.name=Vyt,this.version=Hyt,this.events=new D4,this.initialized=!1,this.storagePrefix=nf,this.ignoredPayloadTypes=[O2],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const s=mO(),i=await this.core.crypto.setSymKey(s),a=C3($e.FIVE_MINUTES),o={protocol:$yt},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=LQ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(kw.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:l}},this.pair=async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Ef.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=zQ(n.uri);s.props.properties.topic=i,s.addTrace(Ef.pairing_uri_validation_success),s.addTrace(Ef.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Ef.existing_pairing),u.active)throw s.setError(x0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Ef.pairing_not_expired)}const f=c||C3($e.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(Ef.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(kw.create,h),s.addTrace(Ef.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(Ef.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(x0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(x0.subscribe_pairing_topic_failure),m}return s.addTrace(Ef.subscribe_pairing_topic_success),h},this.activate=async({topic:n})=>{this.isInitialized();const s=C3($e.THIRTY_DAYS);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Mbt();this.events.once(IC("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",n3("USER_DISCONNECTED")),await this.deletePairing(s))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return LQ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})},this.sendRequest=async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=Pw[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id},this.sendResult=async(n,s,i)=>{const a=hm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=Pw[c.request.method].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.sendError=async(n,s,i)=>{const a=pm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=Pw[c.request.method]?Pw[c.request.method].res:Pw.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,n3("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>$Q(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(kw.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit(IC("pairing_ping",i),{}):Ri(s)&&this.events.emit(IC("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(kw.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=n3("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(n3("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,s)=>{var i;if(!NC(n)){const{message:o}=un("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(x0.malformed_pairing_uri),new Error(o)}if(!uyt(n.uri)){const{message:o}=un("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(x0.malformed_pairing_uri),new Error(o)}const a=zQ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=un("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(x0.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=un("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(x0.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&$e.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(x0.pairing_expired);const{message:o}=un("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!NC(n)){const{message:i}=un("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!NC(n)){const{message:i}=un("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!p1e(n)){const{message:s}=un("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=un("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if($Q(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=un("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=Ho(r,this.name),this.pairings=new Kxt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return _c(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(lc.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(!this.pairings.keys.includes(r)||s===Hx.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{mm(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Hh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Kl.expired,async e=>{const{topic:r}=Bbt(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(kw.expire,{topic:r}))})}}class Zxt extends d1t{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Un.EventEmitter,this.name=Wyt,this.version=qyt,this.cached=[],this.initialized=!1,this.storagePrefix=nf,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:C3($e.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Vl.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Vl.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Vl.deleted,i)}}),this.persist()},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=Ho(r,this.name)}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=un("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Vl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=un("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Vl.created,e=>{const r=Vl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vl.updated,e=>{const r=Vl.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vl.deleted,e=>{const r=Vl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{$e.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Vl.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Jxt extends b1t{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Un.EventEmitter,this.name=Kyt,this.version=Xyt,this.cached=[],this.initialized=!1,this.storagePrefix=nf,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Kl.created,{target:i,expiration:a})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Kl.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=Ho(r,this.name)}get context(){return _c(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Obt(e);if(typeof e=="number")return Fbt(e);const{message:r}=un("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Kl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=un("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=un("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;$e.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Kl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(Kl.created,e=>{const r=Kl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Kl.expired,e=>{const r=Kl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Kl.deleted,e=>{const r=Kl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=un("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Qxt extends y1t{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=Zyt,this.verifyUrlV3=Qyt,this.storagePrefix=nf,this.version=g1e,this.init=async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&$e.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async s=>{if(!JI()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer($e.ONE_SECOND*5),f=await new Promise((h,m)=>{const v=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",v,{signal:this.abortController.signal});const k=E=>{if(E.data&&typeof E.data=="string")try{const P=JSON.parse(E.data);if(P.type==="verify_attestation"){if(hO(P.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",k),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""},this.resolve=async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(hO(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)},this.fetchAttestation=async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer($e.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0},this.getVerifyUrl=s=>{let i=s||O7;return Yyt.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${O7}`),i=O7),i},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer($e.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}},this.persistPublicKey=async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s},this.validateAttestation=(s,i)=>{const a=Jbt(s,i.publicKey),o={hasExpired:$e.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}},this.logger=Ho(r,this.name),this.abortController=new AbortController,this.isDevEnv=o1e(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return _c(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),$e.toMiliseconds(e))}}class Yxt extends v1t{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=Gyt,this.registerDeviceToken=async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${evt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})},this.logger=Ho(r,this.context)}}var Gxt=Object.defineProperty,cY=Object.getOwnPropertySymbols,e2t=Object.prototype.hasOwnProperty,t2t=Object.prototype.propertyIsEnumerable,lY=(t,e,r)=>e in t?Gxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nw=(t,e)=>{for(var r in e||(e={}))e2t.call(e,r)&&lY(t,r,e[r]);if(cY)for(var r of cY(e))t2t.call(e,r)&&lY(t,r,e[r]);return t};class r2t extends x1t{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=rvt,this.storagePrefix=nf,this.storageVersion=tvt,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!o1e())try{const s={eventId:MQ(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:n1e(this.core.relayer.protocol,this.core.relayer.version,vO)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}},this.createEvent=s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=MQ(),u=this.core.projectId||"",f=Date.now(),h=Nw({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return Nw(Nw({},o),this.setMethods(o.eventId))},this.deleteEvent=s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{$e.fromMiliseconds(Date.now())-$e.fromMiliseconds(s.timestamp)>nvt&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})},this.setMethods=s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)}),this.addTrace=(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)},this.setError=(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Nw(Nw({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}},this.sendEvent=async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${svt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${vO}${i}`,{method:"POST",body:JSON.stringify(s)})},this.getAppDomain=()=>Cbt().url,this.logger=Ho(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var n2t=Object.defineProperty,uY=Object.getOwnPropertySymbols,s2t=Object.prototype.hasOwnProperty,i2t=Object.prototype.propertyIsEnumerable,dY=(t,e,r)=>e in t?n2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fY=(t,e)=>{for(var r in e||(e={}))s2t.call(e,r)&&dY(t,r,e[r]);if(uY)for(var r of uY(e))i2t.call(e,r)&&dY(t,r,e[r]);return t};let a2t=class _1e extends u1t{constructor(e){var r;super(e),this.protocol=m1e,this.version=g1e,this.name=bU,this.events=new Un.EventEmitter,this.initialized=!1,this.on=(a,o)=>this.events.on(a,o),this.once=(a,o)=>this.events.once(a,o),this.off=(a,o)=>this.events.off(a,o),this.removeListener=(a,o)=>this.events.removeListener(a,o),this.dispatchEnvelope=({topic:a,message:o,sessionExists:c})=>{if(!a||!o)return;const l={topic:a,message:o,publishedAt:Date.now(),transportType:Hx.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||b1e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=Lge({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Syt.logger}),{logger:s,chunkLoggerController:i}=l1t({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,o;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((o=this.logChunkController)==null||o.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ho(s,this.name),this.heartbeat=new dD,this.crypto=new Cxt(this,this.logger,e==null?void 0:e.keychain),this.history=new Zxt(this,this.logger),this.expirer=new Jxt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Rgt(fY(fY({},Pyt),e==null?void 0:e.storageOptions)),this.relayer=new Vxt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Xxt(this,this.logger),this.verify=new Qxt(this,this.logger,this.storage),this.echoClient=new Yxt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new r2t(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new _1e(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Dyt,n),r}get context(){return _c(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(KQ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(KQ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const hY=a2t;var AO={exports:{}},Ky=typeof Reflect=="object"?Reflect:null,pY=Ky&&typeof Ky.apply=="function"?Ky.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},F7;Ky&&typeof Ky.ownKeys=="function"?F7=Ky.ownKeys:Object.getOwnPropertySymbols?F7=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:F7=function(t){return Object.getOwnPropertyNames(t)};function o2t(t){console&&console.warn&&console.warn(t)}var mY=Number.isNaN||function(t){return t!==t};function An(){An.init.call(this)}AO.exports=An,AO.exports.once=d2t,An.EventEmitter=An,An.prototype._events=void 0,An.prototype._eventsCount=0,An.prototype._maxListeners=void 0;var gY=10;function B7(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(An,"defaultMaxListeners",{enumerable:!0,get:function(){return gY},set:function(t){if(typeof t!="number"||t<0||mY(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");gY=t}}),An.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},An.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||mY(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function C1e(t){return t._maxListeners===void 0?An.defaultMaxListeners:t._maxListeners}An.prototype.getMaxListeners=function(){return C1e(this)},An.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")pY(o,this,e);else for(var c=o.length,l=T1e(o,c),r=0;r<c;++r)pY(l[r],this,e);return!0};function bY(t,e,r,n){var s,i,a;if(B7(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=C1e(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,o2t(o)}return t}An.prototype.addListener=function(t,e){return bY(this,t,e,!1)},An.prototype.on=An.prototype.addListener,An.prototype.prependListener=function(t,e){return bY(this,t,e,!0)};function c2t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yY(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=c2t.bind(n);return s.listener=r,n.wrapFn=s,s}An.prototype.once=function(t,e){return B7(e),this.on(t,yY(this,t,e)),this},An.prototype.prependOnceListener=function(t,e){return B7(e),this.prependListener(t,yY(this,t,e)),this},An.prototype.removeListener=function(t,e){var r,n,s,i,a;if(B7(e),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,s=i;break}if(s<0)return this;s===0?r.shift():l2t(r,s),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this},An.prototype.off=An.prototype.removeListener,An.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),i;for(n=0;n<s.length;++n)i=s[n],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function vY(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?u2t(s):T1e(s,s.length)}An.prototype.listeners=function(t){return vY(this,t,!0)},An.prototype.rawListeners=function(t){return vY(this,t,!1)},An.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):xY.call(t,e)},An.prototype.listenerCount=xY;function xY(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}An.prototype.eventNames=function(){return this._eventsCount>0?F7(this._events):[]};function T1e(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function l2t(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function u2t(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function d2t(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}j1e(t,e,i,{once:!0}),e!=="error"&&f2t(t,s,{once:!0})})}function f2t(t,e,r){typeof t.on=="function"&&j1e(t,"error",e,r)}function j1e(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const h2t="Web3Wallet";class p2t{constructor(e){this.opts=e}}class m2t{constructor(e){this.client=e}}var g2t=Object.defineProperty,b2t=Object.defineProperties,y2t=Object.getOwnPropertyDescriptors,wY=Object.getOwnPropertySymbols,v2t=Object.prototype.hasOwnProperty,x2t=Object.prototype.propertyIsEnumerable,AY=(t,e,r)=>e in t?g2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w2t=(t,e)=>{for(var r in e||(e={}))v2t.call(e,r)&&AY(t,r,e[r]);if(wY)for(var r of wY(e))x2t.call(e,r)&&AY(t,r,e[r]);return t},A2t=(t,e)=>b2t(t,y2t(e));class S2t extends m2t{constructor(e){super(e),this.init=async()=>{this.signClient=await Ngt.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.authClient=await nut.init({core:this.client.core,projectId:"",metadata:this.client.metadata})},this.pair=async r=>{await this.client.core.pairing.pair(r)},this.approveSession=async r=>{const{topic:n,acknowledged:s}=await this.signClient.approve(A2t(w2t({},r),{id:r.id,namespaces:r.namespaces,sessionProperties:r.sessionProperties,sessionConfig:r.sessionConfig}));return await s(),this.signClient.session.get(n)},this.rejectSession=async r=>await this.signClient.reject(r),this.updateSession=async r=>await this.signClient.update(r),this.extendSession=async r=>await this.signClient.extend(r),this.respondSessionRequest=async r=>await this.signClient.respond(r),this.disconnectSession=async r=>await this.signClient.disconnect(r),this.emitSessionEvent=async r=>await this.signClient.emit(r),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((r,n)=>(r[n.topic]=n,r),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.respondAuthRequest=async(r,n)=>await this.authClient.respond(r,n),this.getPendingAuthRequests=()=>this.authClient.requests.getAll().filter(r=>"requester"in r),this.formatMessage=(r,n)=>this.authClient.formatMessage(r,n),this.approveSessionAuthenticate=async r=>await this.signClient.approveSessionAuthenticate(r),this.rejectSessionAuthenticate=async r=>await this.signClient.rejectSessionAuthenticate(r),this.formatAuthMessage=r=>this.signClient.formatAuthMessage(r),this.registerDeviceToken=r=>this.client.core.echoClient.registerDeviceToken(r),this.on=(r,n)=>(this.setEvent(r,"off"),this.setEvent(r,"on"),this.client.events.on(r,n)),this.once=(r,n)=>(this.setEvent(r,"off"),this.setEvent(r,"once"),this.client.events.once(r,n)),this.off=(r,n)=>(this.setEvent(r,"off"),this.client.events.off(r,n)),this.removeListener=(r,n)=>(this.setEvent(r,"removeListener"),this.client.events.removeListener(r,n)),this.onSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onSessionProposal=r=>{this.client.events.emit("session_proposal",r)},this.onSessionDelete=r=>{this.client.events.emit("session_delete",r)},this.onAuthRequest=r=>{this.client.events.emit("auth_request",r)},this.onProposalExpire=r=>{this.client.events.emit("proposal_expire",r)},this.onSessionRequestExpire=r=>{this.client.events.emit("session_request_expire",r)},this.onSessionRequestAuthenticate=r=>{this.client.events.emit("session_authenticate",r)},this.setEvent=(r,n)=>{switch(r){case"session_request":this.signClient.events[n]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[n]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[n]("session_delete",this.onSessionDelete);break;case"auth_request":this.authClient[n]("auth_request",this.onAuthRequest);break;case"proposal_expire":this.signClient.events[n]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[n]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[n]("session_authenticate",this.onSessionRequestAuthenticate);break}},this.signClient={},this.authClient={}}}const P2t={decryptMessage:async t=>{const e={core:new hY({storageOptions:t.storageOptions,storage:t.storage})};await e.core.crypto.init();const r=e.core.crypto.decode(t.topic,t.encryptedMessage);return e.core=null,r},getMetadata:async t=>{const e={core:new hY({storageOptions:t.storageOptions,storage:t.storage}),sessionStore:null};e.sessionStore=new Igt(e.core,e.core.logger),await e.sessionStore.init();const r=e.sessionStore.get(t.topic),n=r==null?void 0:r.peer.metadata;return e.core=null,e.sessionStore=null,n}},$1e=class extends p2t{constructor(t){super(t),this.events=new AO.exports,this.on=(e,r)=>this.engine.on(e,r),this.once=(e,r)=>this.engine.once(e,r),this.off=(e,r)=>this.engine.off(e,r),this.removeListener=(e,r)=>this.engine.removeListener(e,r),this.pair=async e=>{try{return await this.engine.pair(e)}catch(r){throw this.logger.error(r.message),r}},this.approveSession=async e=>{try{return await this.engine.approveSession(e)}catch(r){throw this.logger.error(r.message),r}},this.rejectSession=async e=>{try{return await this.engine.rejectSession(e)}catch(r){throw this.logger.error(r.message),r}},this.updateSession=async e=>{try{return await this.engine.updateSession(e)}catch(r){throw this.logger.error(r.message),r}},this.extendSession=async e=>{try{return await this.engine.extendSession(e)}catch(r){throw this.logger.error(r.message),r}},this.respondSessionRequest=async e=>{try{return await this.engine.respondSessionRequest(e)}catch(r){throw this.logger.error(r.message),r}},this.disconnectSession=async e=>{try{return await this.engine.disconnectSession(e)}catch(r){throw this.logger.error(r.message),r}},this.emitSessionEvent=async e=>{try{return await this.engine.emitSessionEvent(e)}catch(r){throw this.logger.error(r.message),r}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.respondAuthRequest=async(e,r)=>{try{return await this.engine.respondAuthRequest(e,r)}catch(n){throw this.logger.error(n.message),n}},this.getPendingAuthRequests=()=>{try{return this.engine.getPendingAuthRequests()}catch(e){throw this.logger.error(e.message),e}},this.formatMessage=(e,r)=>{try{return this.engine.formatMessage(e,r)}catch(n){throw this.logger.error(n.message),n}},this.registerDeviceToken=e=>{try{return this.engine.registerDeviceToken(e)}catch(r){throw this.logger.error(r.message),r}},this.approveSessionAuthenticate=e=>{try{return this.engine.approveSessionAuthenticate(e)}catch(r){throw this.logger.error(r.message),r}},this.rejectSessionAuthenticate=e=>{try{return this.engine.rejectSessionAuthenticate(e)}catch(r){throw this.logger.error(r.message),r}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(r){throw this.logger.error(r.message),r}},this.metadata=t.metadata,this.name=t.name||h2t,this.signConfig=t.signConfig,this.core=t.core,this.logger=this.core.logger,this.engine=new S2t(this)}static async init(t){const e=new $1e(t);return await e.initialize(),e}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("Web3Wallet Initialization Success")}catch(t){throw this.logger.info("Web3Wallet Initialization Failure"),this.logger.error(t.message),t}}};let M1e=$1e;M1e.notifications=P2t;const k2t=M1e,I2t="59ef03ea6a2c984a562c685b4bb055c8";class N2t{constructor(){this.web3wallet=null,this.initialized=!1,this.initPromise=null,this.sessionRequestHandlers=[],this.sessionProposalHandlers=[],this.sessionUpdateHandlers=[]}async init(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this._doInit(),this.initPromise)}async _doInit(){try{const e=new Gpe({projectId:I2t});this.web3wallet=await k2t.init({core:e,metadata:{name:"Vault Key",description:"Secure Hardware Wallet",url:"https://vaultkey.app",icons:["https://vaultkey.app/icon.png"]}}),this.setupEventListeners(),this.initialized=!0}catch(e){throw console.error("Failed to initialize WalletConnect:",e),e}}setupEventListeners(){this.web3wallet&&(this.web3wallet.on("session_proposal",this.handleSessionProposal.bind(this)),this.web3wallet.on("session_request",this.handleSessionRequest.bind(this)),this.web3wallet.on("session_delete",()=>{this.notifySessionUpdate()}))}async handleSessionProposal(e){const{requiredNamespaces:r,optionalNamespaces:n}=e.params,s=o=>o?Object.values(o).flatMap(c=>c.chains||[]):[],i=o=>o?Object.values(o).flatMap(c=>c.methods||[]):[],a={id:e.id,proposer:{name:e.params.proposer.metadata.name,description:e.params.proposer.metadata.description,url:e.params.proposer.metadata.url,icons:e.params.proposer.metadata.icons},requiredChains:s(r),optionalChains:s(n),requiredMethods:i(r),optionalMethods:i(n),rawProposal:e};this.sessionProposalHandlers.forEach(o=>o(a))}async handleSessionRequest(e){var f,h;const{topic:r,params:n,id:s}=e,{request:i,chainId:a}=n,o=(f=this.web3wallet)==null?void 0:f.engine.signClient.session.get(r),c=(o==null?void 0:o.peer.metadata.name)||"Unknown DApp",l=(h=o==null?void 0:o.peer.metadata.icons)==null?void 0:h[0],u={id:s,topic:r,method:i.method,params:i.params,chainId:a,dappName:c,dappIcon:l};this.sessionRequestHandlers.forEach(m=>m(u))}notifySessionUpdate(){this.sessionUpdateHandlers.forEach(e=>e())}onSessionRequest(e){return this.sessionRequestHandlers.push(e),()=>{const r=this.sessionRequestHandlers.indexOf(e);r>-1&&this.sessionRequestHandlers.splice(r,1)}}onSessionProposal(e){return this.sessionProposalHandlers.push(e),()=>{const r=this.sessionProposalHandlers.indexOf(e);r>-1&&this.sessionProposalHandlers.splice(r,1)}}onSessionUpdate(e){return this.sessionUpdateHandlers.push(e),()=>{const r=this.sessionUpdateHandlers.indexOf(e);r>-1&&this.sessionUpdateHandlers.splice(r,1)}}async pair(e){this.web3wallet||await this.init(),await this.web3wallet.core.pairing.pair({uri:e})}async approveSession(e,r,n=[1,56,137,43114,42161]){if(!this.web3wallet)throw new Error("WalletConnect not initialized");const s=n.map(c=>`eip155:${c}`),i=[];for(const c of r)for(const l of n)i.push(`eip155:${l}:${c}`);const a=grt({proposal:e.params,supportedNamespaces:{eip155:{chains:s,methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v4"],events:["chainChanged","accountsChanged"],accounts:i}}}),o=await this.web3wallet.approveSession({id:e.id,namespaces:a});return this.notifySessionUpdate(),o}async rejectSession(e){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.rejectSession({id:e,reason:yp("USER_REJECTED")})}async approveRequest(e,r,n){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.respondSessionRequest({topic:e,response:{id:r,jsonrpc:"2.0",result:n}})}async rejectRequest(e,r){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.respondSessionRequest({topic:e,response:{id:r,jsonrpc:"2.0",error:yp("USER_REJECTED")}})}async disconnectSession(e){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.disconnectSession({topic:e,reason:yp("USER_DISCONNECTED")}),this.notifySessionUpdate()}getSessions(){if(!this.web3wallet)return[];const e=this.web3wallet.getActiveSessions();return Object.values(e).map(r=>{var n;return{topic:r.topic,name:r.peer.metadata.name,url:r.peer.metadata.url,icon:(n=r.peer.metadata.icons)==null?void 0:n[0],chains:Object.keys(r.namespaces).flatMap(s=>r.namespaces[s].chains||[]),accounts:Object.keys(r.namespaces).flatMap(s=>r.namespaces[s].accounts||[]),expiry:r.expiry}})}isWalletUnlocked(){return ur.getState().status==="unlocked"}async handleSignRequest(e){if(!this.isWalletUnlocked())throw new Error("Wallet is locked. Please unlock first.");const{method:r,params:n}=e;switch(r){case"personal_sign":{const[s]=n,i=s.startsWith("0x")?Buffer.from(s.slice(2),"hex").toString("utf8"):s;return await ur.signMessage(i)}case"eth_sign":{const[,s]=n;return await ur.signMessage(s)}case"eth_signTypedData":case"eth_signTypedData_v4":{const[,s]=n,i=typeof s=="string"?JSON.parse(s):s,a=this.hashTypedData(i);return await ur.signMessage(a)}case"eth_sendTransaction":case"eth_signTransaction":{const[s]=n,i=parseInt(e.chainId.split(":")[1])||1;return await ur.signTransaction({to:s.to,value:s.value||"0x0",data:s.data||"0x",nonce:s.nonce?parseInt(s.nonce,16):void 0,gasLimit:s.gas||s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,chainId:i})}default:return console.warn("Unsupported method:",r),null}}hashTypedData(e){const{domain:r,types:n,primaryType:s,message:i}=e,a={...n};return delete a.EIP712Domain,Kp.hash(r,a,i)}getWeb3Wallet(){return this.web3wallet}isInitialized(){return this.initialized}}const Hl=new N2t;function E2t(){const{isUnlocked:t,hardwareState:e,walletMode:r,setShowPinModal:n,setPinAction:s,lockWallet:i,disconnectDevice:a,wallets:o}=Yi(),{theme:c,setTheme:l}=_5e(),{toast:u}=ki(),[f,h]=F.useState(!1),[m,v]=F.useState(""),[x,k]=F.useState(!1),[E,P]=F.useState([]),[_,M]=F.useState(null),[B,D]=F.useState(""),[j,T]=F.useState(!1),R=F.useMemo(()=>o.filter(De=>["ethereum","bsc","polygon","arbitrum","avalanche"].includes(De.chainId)),[o]);F.useEffect(()=>{(async()=>{try{await Hl.init(),P(Hl.getSessions())}catch(nt){console.error("WalletConnect init error:",nt)}})();const He=Hl.onSessionProposal(nt=>{M(nt),h(!1),T(!0)}),gt=Hl.onSessionUpdate(()=>{P(Hl.getSessions())});return()=>{He(),gt()}},[]);const[H,O]=F.useState(!1),[b,w]=F.useState(!1),[p,g]=F.useState(!1),[S,N]=F.useState(""),[I,A]=F.useState(""),y=ur.getSessionTimeoutMs(),[C,$]=F.useState(()=>y>=30*60*1e3?"30":y>=15*60*1e3?"15":y>=5*60*1e3?"5":y>=1*60*1e3?"1":"5"),L=De=>{$(De),De==="never"?ur.setSessionTimeoutMs(24*60*60*1e3):ur.setSessionTimeoutMs(parseInt(De)*60*1e3),u({title:"Auto-Lock Updated",description:De==="never"?"Auto-lock disabled":`Wallet will lock after ${De} minute${De==="1"?"":"s"} of inactivity`})},[Q,U]=F.useState(!1),[J,Z]=F.useState([]),[re,G]=F.useState(["","",""]),[z,se]=F.useState(""),[ce,pe]=F.useState(!1),[Ce,ke]=F.useState(!1),[tt,mt]=F.useState(!1),[we,qe]=F.useState(!1),[Ae,Oe]=F.useState(null),[We,Be]=F.useState(""),[ze,Ke]=F.useState(""),[ct,Y]=F.useState(!1),V=r==="soft_wallet"&&Gr.getSeedPhrase()||"",q=F.useMemo(()=>V?V.split(" "):[],[V]),ne=F.useMemo(()=>{if(r==="soft_wallet"&&Ce&&V)try{const De=mn.fromPhrase(V);return Qa.fromMnemonic(De,"m/44'/60'/0'/0/0").privateKey}catch{return""}return""},[r,Ce,V]),le=()=>{u({title:"Change PIN",description:"This feature will be available in the next update."})},de=()=>{if(!b){w(!0);return}Oe("seed"),Be(""),Ke(""),qe(!0)},me=()=>{if(!tt){mt(!0);return}Oe("privateKey"),Be(""),Ke(""),qe(!0)},rt=async()=>{if(!We||We.length<4){Ke("Please enter your PIN");return}Y(!0);try{let De=!1;if(r==="soft_wallet"?De=await Gr.unlock(We):De=await ur.unlock(We),!De){Ke("Incorrect PIN. Please try again."),Y(!1);return}Ae==="seed"?O(!0):Ae==="privateKey"&&ke(!0),qe(!1),Be(""),Oe(null)}catch(De){Ke(De.message||"Failed to verify PIN")}finally{Y(!1)}},ht=async()=>{if(!m.trim()){u({title:"Error",description:"Please enter a WalletConnect URI",variant:"destructive"});return}k(!0);try{await Hl.pair(m.trim()),v(""),u({title:"Connecting",description:"Waiting for DApp to respond...",duration:2e3})}catch(De){u({title:"Connection Failed",description:De.message||"Failed to connect",variant:"destructive"})}finally{k(!1)}},ot=async()=>{if(!_||!B){u({title:"Error",description:"Please select a wallet",variant:"destructive"});return}try{await Hl.approveSession(_.rawProposal,[B]),P(Hl.getSessions()),M(null),T(!1),D(""),u({title:"Connected",description:`Connected to ${_.proposer.name}`,duration:2e3})}catch(De){u({title:"Error",description:De.message||"Failed to approve session",variant:"destructive"})}},pt=async()=>{if(_)try{await Hl.rejectSession(_.id)}catch(De){console.error("Reject session error:",De)}M(null),T(!1),D("")},Ct=async De=>{try{await Hl.disconnectSession(De),P(Hl.getSessions()),u({title:"Disconnected",description:"Session disconnected",duration:2e3})}catch(He){u({title:"Error",description:He.message||"Failed to disconnect",variant:"destructive"})}},St=async()=>{if(!S||S.length<4){A("Please enter your PIN to confirm deletion");return}try{let De=!1;if(r==="soft_wallet"?De=await Gr.unlock(S):De=await ur.unlock(S),!De){A("Incorrect PIN. Please try again.");return}}catch(De){A(De.message||"Failed to verify PIN");return}r==="soft_wallet"?(await At.clearSoftWallet(),await At.clearEncryptedSeed(),await At.clearAllWalletSeeds(),Gr.lock()):(await At.clearHardWallet(),await a()),g(!1),N(""),A(""),u({title:"Wallet Deleted",description:"Your wallet has been deleted. Please set up a new wallet."}),window.location.reload()},Rt=()=>{const De=[];for(;De.length<3;){const He=Math.floor(Math.random()*q.length);De.includes(He)||De.push(He)}De.sort((He,gt)=>He-gt),Z(De),G(["","",""]),se(""),U(!0)},nr=()=>{J.every((He,gt)=>re[gt].trim().toLowerCase()===q[He].toLowerCase())?(pe(!0),U(!1),u({title:"Backup Verified",description:"Your recovery phrase backup has been confirmed."})):se("One or more words are incorrect. Please try again.")};return t?d.jsxs("div",{className:"p-4 md:p-6 pb-8",children:[d.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[d.jsx(S2,{}),d.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Settings"})]}),d.jsxs("div",{className:"space-y-4 md:space-y-5 max-w-2xl mx-auto",children:[d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(ox,{className:"h-4 w-4 text-primary"})}),"Wallet Information"]})}),d.jsxs(er,{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),d.jsx("span",{className:"text-sm font-medium",children:e.deviceName||"VaultKey Wallet"})]}),d.jsx(Ib,{}),d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Type"}),d.jsx(rr,{variant:"secondary",className:"text-xs",children:r==="soft_wallet"?"Soft Wallet":"Hard Wallet"})]}),d.jsx(Ib,{}),d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),d.jsx(rr,{className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20 text-xs",children:e.status==="unlocked"?"Unlocked":"Connected"})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(Fwe,{className:"h-4 w-4 text-primary"})}),"Appearance"]})}),d.jsx(er,{children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("div",{className:"p-2 rounded-full bg-muted",children:c==="dark"?d.jsx(Owe,{className:"h-4 w-4"}):d.jsx(Dwe,{className:"h-4 w-4"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium",children:"Dark Mode"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:c==="dark"?"Enabled":"Disabled"})]})]}),d.jsx(gS,{checked:c==="dark",onCheckedChange:De=>l(De?"dark":"light"),"data-testid":"switch-dark-mode"})]})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(uA,{className:"h-4 w-4 text-primary"})}),"WalletConnect"]})}),d.jsxs(er,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Connect to DApp"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Paste WalletConnect URI"})]}),d.jsxs(Te,{size:"sm",onClick:()=>h(!0),"data-testid":"button-walletconnect",children:[d.jsx(nre,{className:"mr-2 h-4 w-4"}),"Connect"]})]}),E.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(Ib,{}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium mb-3",children:"Active Connections"}),d.jsx("div",{className:"space-y-2",children:E.map(De=>d.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[De.icon&&d.jsx("img",{src:De.icon,alt:De.name,className:"h-8 w-8 rounded-full"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:De.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:De.url})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>Ct(De.topic),"data-testid":`button-disconnect-${De.topic}`,children:d.jsx(Vwe,{className:"h-4 w-4 text-destructive"})})]},De.topic))})]})]})]})]}),r!=="soft_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(hl,{className:"h-4 w-4 text-primary"})}),"Security"]})}),d.jsxs(er,{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Change PIN"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Update security PIN"})]}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:le,"data-testid":"button-change-pin",children:[d.jsx(xL,{className:"mr-2 h-4 w-4"}),"Change"]})]}),d.jsx(Ib,{}),d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Auto-Lock"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Lock after inactivity"})]}),d.jsxs(k1,{value:C,onValueChange:L,children:[d.jsx(Jp,{className:"w-[120px]","data-testid":"select-auto-lock",children:d.jsx(Ox,{})}),d.jsxs(Qp,{children:[d.jsx(ll,{value:"1",children:"1 min"}),d.jsx(ll,{value:"5",children:"5 mins"}),d.jsx(ll,{value:"15",children:"15 mins"}),d.jsx(ll,{value:"30",children:"30 mins"}),d.jsx(ll,{value:"never",children:"Never"})]})]})]}),d.jsx(Ib,{}),d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Lock Now"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Require PIN again"})]}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:i,"data-testid":"button-lock-now",children:[d.jsx(hl,{className:"mr-2 h-4 w-4"}),"Lock"]})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:d.jsx($s,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),"Recovery Phrase"]})}),d.jsxs(er,{children:[d.jsxs(fn,{className:"mb-4 border-amber-500/30 bg-amber-500/5",children:[d.jsx(dn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),d.jsx(eM,{className:"text-sm",children:"Security Warning"}),d.jsx(hn,{className:"text-xs",children:"Never share your recovery phrase. Anyone with it can access your funds."})]}),H?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 rounded-lg bg-muted/50 p-3",children:q.map((De,He)=>d.jsxs("div",{className:"flex items-center gap-1.5 rounded-md bg-background px-2 py-1.5",children:[d.jsxs("span",{className:"text-xs text-muted-foreground w-4",children:[He+1,"."]}),d.jsx("span",{className:"font-mono text-xs",children:De})]},He))}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Te,{size:"sm",variant:"outline",onClick:()=>{O(!1),w(!1)},"data-testid":"button-hide-seed-phrase",children:[d.jsx(vL,{className:"mr-2 h-4 w-4"}),"Hide"]}),!ce&&d.jsxs(Te,{size:"sm",onClick:Rt,"data-testid":"button-verify-backup",children:[d.jsx(zT,{className:"mr-2 h-4 w-4"}),"Verify Backup"]}),ce&&d.jsxs(rr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx(zT,{className:"h-3 w-3"}),"Backup Verified"]})]})]}):d.jsx("div",{className:"space-y-3",children:b?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Are you sure? Only view for backup purposes."}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:de,"data-testid":"button-confirm-show-seed",children:[d.jsx(c8,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Your recovery phrase is stored securely. Ensure you are in a private location."}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:de,"data-testid":"button-show-seed-phrase",children:[d.jsx(c8,{className:"mr-2 h-4 w-4"}),"Show Recovery Phrase"]})]})})]})]}),r==="soft_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:d.jsx(xL,{className:"h-4 w-4 text-destructive"})}),"Private Key"]})}),d.jsx(er,{children:Ce?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"rounded-lg bg-muted/50 p-3 break-all",children:d.jsx("p",{className:"font-mono text-xs",children:ne})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Te,{size:"sm",variant:"outline",onClick:()=>{ke(!1),mt(!1)},"data-testid":"button-hide-private-key",children:[d.jsx(vL,{className:"mr-2 h-4 w-4"}),"Hide"]}),d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(ne),u({title:"Copied",description:"Private key copied to clipboard",duration:2e3})},"data-testid":"button-copy-private-key",children:"Copy"})]})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsxs(fn,{variant:"destructive",className:"border-destructive/30 bg-destructive/5",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(eM,{className:"text-sm",children:"Critical Warning"}),d.jsx(hn,{className:"text-xs",children:"Never share your private key. Anyone with it can access your funds."})]}),tt?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Are you sure? This key controls all your EVM funds."}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>mt(!1),children:"Cancel"}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:me,"data-testid":"button-confirm-show-private-key",children:[d.jsx(c8,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Only export for advanced use cases like importing into other wallets."}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:me,"data-testid":"button-understand-private-key",children:[d.jsx(c8,{className:"mr-2 h-4 w-4"}),"Show Private Key"]})]})]})})]}),r!=="soft_wallet"&&d.jsxs(Gt,{className:"border-destructive/30",children:[d.jsx(jn,{className:"pb-3",children:d.jsxs($n,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:d.jsx(m3,{className:"h-4 w-4 text-destructive"})}),d.jsx("span",{className:"text-destructive",children:"Danger Zone"})]})}),d.jsx(er,{children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Delete Wallet"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove all data. Requires PIN."})]}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:()=>g(!0),"data-testid":"button-delete-wallet",children:[d.jsx(m3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})})]})]}),d.jsx(es,{open:p,onOpenChange:De=>{g(De),De||(N(""),A(""))},children:d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Delete Wallet?"}),d.jsx(Kn,{children:"This will remove all wallet data from this device. You will need your recovery phrase to restore your wallet."})]}),d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:"This action cannot be undone. Make sure you have saved your recovery phrase before proceeding."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"reset-pin",children:"Enter your PIN to confirm"}),d.jsx(ir,{id:"reset-pin",type:"password",placeholder:"Enter PIN",value:S,onChange:De=>{N(De.target.value),A("")},maxLength:6,"data-testid":"input-reset-pin"}),I&&d.jsx("p",{className:"text-sm text-destructive",children:I})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),d.jsxs(Te,{variant:"destructive",onClick:St,disabled:!S,"data-testid":"button-confirm-reset",children:[d.jsx(m3,{className:"mr-2 h-4 w-4"}),"Delete Wallet"]})]})]})}),d.jsx(es,{open:Q,onOpenChange:U,children:d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Verify Your Backup"}),d.jsx(Kn,{children:"Enter the following words from your recovery phrase to confirm you have backed it up."})]}),d.jsxs("div",{className:"space-y-4",children:[J.map((De,He)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:`verify-word-${He}`,children:["Word #",De+1]}),d.jsx(ir,{id:`verify-word-${He}`,placeholder:`Enter word #${De+1}`,value:re[He],onChange:gt=>{const nt=[...re];nt[He]=gt.target.value,G(nt),se("")},"data-testid":`input-verify-word-${He}`})]},De)),z&&d.jsxs(fn,{variant:"destructive",children:[d.jsx(dn,{className:"h-4 w-4"}),d.jsx(hn,{children:z})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),d.jsx(Te,{onClick:nr,disabled:re.some(De=>!De.trim()),"data-testid":"button-confirm-verify",children:"Verify"})]})]})}),d.jsx(es,{open:we,onOpenChange:De=>{qe(De),De||(Be(""),Ke(""),Oe(null))},children:d.jsxs(Hn,{className:"sm:max-w-sm",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"h-5 w-5"}),"Enter PIN"]}),d.jsx(Kn,{children:Ae==="seed"?"Enter your PIN to view recovery phrase":"Enter your PIN to view private key"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ir,{type:"password",placeholder:"Enter your PIN",value:We,onChange:De=>{Be(De.target.value.replace(/\D/g,"").slice(0,6)),Ke("")},onKeyDown:De=>De.key==="Enter"&&rt(),className:"text-center text-xl tracking-widest",maxLength:6,"data-testid":"input-verify-pin"}),ze&&d.jsx("p",{className:"text-sm text-destructive text-center",children:ze})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>qe(!1),disabled:ct,children:"Cancel"}),d.jsx(Te,{onClick:rt,disabled:!We||We.length<4||ct,"data-testid":"button-verify-pin",children:ct?"Verifying...":"Verify"})]})]})}),d.jsx(es,{open:f,onOpenChange:De=>{h(De),De||v("")},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{className:"flex items-center gap-2",children:[d.jsx(uA,{className:"h-5 w-5"}),"WalletConnect"]}),d.jsx(Kn,{children:"Paste the WalletConnect URI from your DApp to connect"})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"wc-uri",children:"Connection URI"}),d.jsx(ir,{id:"wc-uri",placeholder:"wc:...",value:m,onChange:De=>v(De.target.value),onKeyDown:De=>De.key==="Enter"&&ht(),"data-testid":"input-wc-uri"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Copy the WalletConnect URI from the DApp and paste it here"})]})}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>h(!1),disabled:x,children:"Cancel"}),d.jsx(Te,{onClick:ht,disabled:!m.trim()||x,"data-testid":"button-wc-connect",children:x?"Connecting...":"Connect"})]})]})}),d.jsx(es,{open:j,onOpenChange:De=>{De||pt()},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{className:"flex items-center gap-2",children:[d.jsx(Ga,{className:"h-5 w-5 text-green-500"}),"Connection Request"]}),d.jsxs(Kn,{children:[_==null?void 0:_.proposer.name," wants to connect to your wallet"]})]}),_&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[_.proposer.icons[0]&&d.jsx("img",{src:_.proposer.icons[0],alt:_.proposer.name,className:"h-12 w-12 rounded-full"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.proposer.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:_.proposer.url})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Select Wallet"}),R.length>0?d.jsx(cD,{value:B,onValueChange:D,children:d.jsx(Zk,{className:"h-[200px]",children:d.jsx("div",{className:"space-y-2 pr-4",children:R.map(De=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover-elevate cursor-pointer",onClick:()=>D(De.address),children:[d.jsx(hS,{value:De.address,id:De.address}),d.jsxs(Zt,{htmlFor:De.address,className:"flex-1 cursor-pointer",children:[d.jsx("p",{className:"font-medium",children:De.label||De.chainId}),d.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[De.address.slice(0,10),"...",De.address.slice(-8)]})]})]},De.address))})})}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No EVM wallets available. Please set up your wallet first."})]})]}),d.jsxs(Ss,{children:[d.jsxs(Te,{variant:"outline",onClick:pt,children:[d.jsx(F1,{className:"mr-2 h-4 w-4"}),"Reject"]}),d.jsxs(Te,{onClick:ot,disabled:!B,"data-testid":"button-approve-session",children:[d.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Connect"]})]})]})})]}):d.jsxs("div",{className:"p-4 md:p-6 pb-8",children:[d.jsx("h1",{className:"mb-6 text-2xl md:text-3xl font-bold",children:"Settings"}),d.jsx(o5,{})]})}function Ew({code:t,language:e="bash"}){const{toast:r}=ki(),n=()=>{navigator.clipboard.writeText(t),r({title:"Copied",description:"Command copied to clipboard"})};return d.jsxs("div",{className:"relative group",children:[d.jsx("pre",{className:"bg-muted rounded-md p-4 overflow-x-auto text-sm font-mono",children:d.jsx("code",{children:t})}),d.jsx(Te,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:n,"data-testid":"button-copy-code",children:d.jsx(Oo,{className:"h-4 w-4"})})]})}function w0({step:t,title:e,description:r,children:n}){return d.jsxs(Gt,{className:"mb-6",children:[d.jsx(jn,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold",children:t}),d.jsxs("div",{children:[d.jsx($n,{className:"text-lg",children:e}),d.jsx(Qg,{children:r})]})]})}),d.jsx(er,{children:n})]})}function _2t(){const[t,e]=F.useState("overview");return d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(S2,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Hardware Wallet Setup Guide"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Build your own hardware wallet with Raspberry Pi Pico H ($8) or Raspberry Pi 4 ($50)"})]}),d.jsxs(a5,{value:t,onValueChange:e,children:[d.jsxs(w2,{className:"mb-6 flex-wrap",children:[d.jsxs(No,{value:"overview","data-testid":"tab-overview",children:[d.jsx(lA,{className:"mr-2 h-4 w-4"}),"Overview"]}),d.jsxs(No,{value:"hardware","data-testid":"tab-hardware",children:[d.jsx(fA,{className:"mr-2 h-4 w-4"}),"Hardware"]}),d.jsxs(No,{value:"pico","data-testid":"tab-pico",children:[d.jsx(lA,{className:"mr-2 h-4 w-4"}),"Pico Setup"]}),d.jsxs(No,{value:"setup","data-testid":"tab-setup",children:[d.jsx(Uwe,{className:"mr-2 h-4 w-4"}),"Pi 4 Setup"]}),d.jsxs(No,{value:"security","data-testid":"tab-security",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Security"]})]}),d.jsxs(Eo,{value:"overview",children:[d.jsx(Gt,{className:"mb-6",children:d.jsx(er,{className:"pt-6",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What You Get"}),d.jsx("ul",{className:"space-y-3",children:["Air-gapped key storage on dedicated hardware","BIP39/BIP44 standard seed phrase generation","Multi-chain support (ETH, BSC, Polygon, custom)","PIN-protected access with lockout protection","USB connection to web app for signing"].map((r,n)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-5 w-5 text-green-500 mt-0.5 shrink-0"}),d.jsx("span",{className:"text-sm",children:r})]},n))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"How It Works"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(rr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Pi stores encrypted seed phrase"})]}),d.jsx(gp,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(rr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Web app sends transaction to sign"})]}),d.jsx(gp,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(rr,{variant:"outline",children:"3"}),d.jsx("span",{children:"Pi signs with your PIN confirmation"})]}),d.jsx(gp,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(rr,{variant:"outline",children:"4"}),d.jsx("span",{children:"Signature returned, transaction broadcast"})]})]})]})]})})}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(dn,{className:"h-5 w-5 text-amber-500"}),"Important Notes"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Seed phrase:"}),"Write it down on paper. Never store digitally."]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"PIN:"}),"Required for every transaction. 5 failed attempts = 5 min lockout."]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Physical security:"}),"Keep your Pi in a safe place. If stolen, PIN still protects the wallet."]})]})})]})]}),d.jsxs(Eo,{value:"hardware",children:[d.jsxs(Gt,{className:"mb-6",children:[d.jsxs(jn,{children:[d.jsx($n,{children:"Required Components"}),d.jsx(Qg,{children:"Total cost: approximately $50"})]}),d.jsx(er,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b",children:[d.jsx("th",{className:"text-left py-3 font-medium",children:"Component"}),d.jsx("th",{className:"text-left py-3 font-medium",children:"Description"}),d.jsx("th",{className:"text-right py-3 font-medium",children:"Cost"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Raspberry Pi 4"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Any RAM size (1GB works fine)"}),d.jsx("td",{className:"py-3 text-right",children:"$35-75"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"MicroSD Card"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"32GB minimum, Class 10"}),d.jsx("td",{className:"py-3 text-right",children:"$8"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"USB-C Cable"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Data + power capable"}),d.jsx("td",{className:"py-3 text-right",children:"$5"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"py-3 font-bold",children:"Total"}),d.jsx("td",{className:"py-3"}),d.jsx("td",{className:"py-3 text-right font-bold",children:"~$50"})]})]})]})})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsx($n,{children:"Optional Upgrades"})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"secondary",children:"Case"}),d.jsx("span",{children:"Aluminum case with heatsink for better cooling ($10-15)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"secondary",children:"Power"}),d.jsx("span",{children:"Official Pi 4 power supply if not using USB-C from computer ($8)"})]})]})})]}),d.jsxs(Gt,{className:"mt-6 border-primary",children:[d.jsxs(jn,{children:[d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(rr,{variant:"default",children:"Recommended"}),"Raspberry Pi Pico H - Budget Option"]}),d.jsx(Qg,{children:"The simplest and cheapest hardware wallet solution"})]}),d.jsxs(er,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b",children:[d.jsx("th",{className:"text-left py-3 font-medium",children:"Component"}),d.jsx("th",{className:"text-left py-3 font-medium",children:"Description"}),d.jsx("th",{className:"text-right py-3 font-medium",children:"Cost"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Raspberry Pi Pico H"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"With pre-soldered headers"}),d.jsx("td",{className:"py-3 text-right",children:"$5"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Micro USB Cable"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Data cable (not charge-only)"}),d.jsx("td",{className:"py-3 text-right",children:"$3"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"py-3 font-bold",children:"Total"}),d.jsx("td",{className:"py-3"}),d.jsx("td",{className:"py-3 text-right font-bold text-green-600",children:"~$8"})]})]})]})}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"The Pico H is the recommended choice for beginners. No SD card, no OS installation - just plug and play!"})]})]})]}),d.jsxs(Eo,{value:"pico",children:[d.jsxs(Gt,{className:"mb-6 border-green-500",children:[d.jsxs(jn,{children:[d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(S0,{className:"h-5 w-5 text-green-500"}),"Easiest Setup - Just 3 Steps"]}),d.jsx(Qg,{children:"Get your hardware wallet running in under 5 minutes"})]}),d.jsx(er,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"The Raspberry Pi Pico H is a microcontroller that runs MicroPython. It's the simplest way to create a hardware wallet - no operating system, no SD card, no network."})})]}),d.jsx(w0,{step:1,title:"Install MicroPython on your Pico",description:"Flash the MicroPython firmware",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"A"}),d.jsxs("div",{children:[d.jsxs("p",{className:"mb-2",children:["Download MicroPython from ",d.jsx("a",{href:"https://micropython.org/download/RPI_PICO/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"micropython.org"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Get the latest .uf2 file for Raspberry Pi Pico"})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"B"}),d.jsxs("div",{children:[d.jsx("p",{children:"Hold the BOOTSEL button on your Pico and plug it into USB"}),d.jsx("p",{className:"text-muted-foreground",children:'The Pico will appear as a USB drive called "RPI-RP2"'})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"C"}),d.jsxs("div",{children:[d.jsx("p",{children:"Drag and drop the .uf2 file onto the RPI-RP2 drive"}),d.jsx("p",{className:"text-muted-foreground",children:"The Pico will reboot automatically with MicroPython installed"})]})]})]})}),d.jsx(w0,{step:2,title:"Upload the Wallet Firmware",description:"Copy the wallet code to your Pico",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"A"}),d.jsxs("div",{children:[d.jsxs("p",{className:"mb-2",children:["Download and install ",d.jsx("a",{href:"https://thonny.org/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"Thonny IDE"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Free Python IDE that works great with Pico"})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"B"}),d.jsxs("div",{children:[d.jsx("p",{children:"In Thonny, go to Tools, then Options, then Interpreter"}),d.jsx("p",{className:"text-muted-foreground",children:'Select "MicroPython (Raspberry Pi Pico)" and your port'})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"C"}),d.jsx("div",{children:d.jsxs("p",{children:["Open the file ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"pico_wallet/main.py"})," from this project"]})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"D"}),d.jsxs("div",{children:[d.jsxs("p",{children:["Save it to the Pico as ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"main.py"})]}),d.jsx("p",{className:"text-muted-foreground",children:'File, then Save As, then select "Raspberry Pi Pico", name it main.py'})]})]})]})}),d.jsx(w0,{step:3,title:"Connect to SecureVault",description:"Use your new hardware wallet",children:d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Make sure your Pico is connected via USB (you can close Thonny now)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Open SecureVault in Chrome or Edge (Web Serial requires these browsers)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"3"}),d.jsx("span",{children:'Go to Dashboard and click "Create Wallet"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"4"}),d.jsx("span",{children:'Select the "Raspberry Pi" tab'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"5"}),d.jsx("span",{children:'Click "Connect Raspberry Pi" and select your Pico from the list'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"6"}),d.jsx("span",{children:"Set your 4-6 digit PIN"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"7"}),d.jsx("span",{className:"font-semibold",children:"Write down your 24-word seed phrase on paper!"})]})]})}),d.jsxs(Gt,{className:"border-amber-500",children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(dn,{className:"h-5 w-5 text-amber-500"}),"Troubleshooting"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Pico not detected:"}),"Make sure Thonny is closed - only one app can use the serial port at a time"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Web Serial not available:"}),"Use Chrome or Edge browser, Firefox doesn't support Web Serial API"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Connection timeout:"}),"Unplug and replug the Pico, then try again"]})]})})]})]}),d.jsxs(Eo,{value:"setup",children:[d.jsx(w0,{step:1,title:"Flash Raspberry Pi OS",description:"Download and install the operating system",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"A"}),d.jsx("div",{children:d.jsxs("p",{className:"mb-2",children:["Download ",d.jsx("a",{href:"https://www.raspberrypi.com/software/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"Raspberry Pi Imager"})]})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"B"}),d.jsx("div",{children:d.jsx("p",{children:'Select "Raspberry Pi OS Lite (64-bit)" - no desktop needed'})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"C"}),d.jsxs("div",{children:[d.jsx("p",{className:"mb-2",children:"Click the gear icon to configure:"}),d.jsxs("ul",{className:"list-disc list-inside text-muted-foreground ml-2",children:[d.jsx("li",{children:"Enable SSH"}),d.jsxs("li",{children:["Set username: ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"pi"})]}),d.jsx("li",{children:"Set a strong password"}),d.jsx("li",{children:"Configure WiFi (optional, for initial setup only)"})]})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"D"}),d.jsx("div",{children:d.jsx("p",{children:"Flash to your MicroSD card"})})]})]})}),d.jsxs(w0,{step:2,title:"Copy Wallet Files",description:"Transfer the wallet software to your Pi",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"From your computer, run this command to copy the wallet files:"}),d.jsx(Ew,{code:"scp -r raspberry_pi_wallet/ pi@raspberrypi.local:~/"}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"raspberrypi.local"})," doesn't work, use the Pi's IP address."]})]}),d.jsxs(w0,{step:3,title:"Run Setup Script",description:"Install dependencies and configure USB mode",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"SSH into your Pi and run the setup:"}),d.jsx(Ew,{code:`ssh pi@raspberrypi.local
cd raspberry_pi_wallet
chmod +x setup_pi.sh
./setup_pi.sh`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"The script will install Python packages and configure USB gadget mode. Reboot when prompted."})]}),d.jsxs(w0,{step:4,title:"Start the Wallet",description:"Launch the wallet service",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"After reboot, start the wallet manually:"}),d.jsx(Ew,{code:`source ~/wallet_env/bin/activate
cd ~/raspberry_pi_wallet
python main.py`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4 mb-4",children:"Or enable auto-start on boot:"}),d.jsx(Ew,{code:`sudo systemctl enable pi-wallet
sudo systemctl start pi-wallet`})]}),d.jsx(w0,{step:5,title:"Connect to Web App",description:"Link your Pi wallet to SecureVault",children:d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Connect Pi to your computer via USB-C (use the USB-C port, not micro-USB power)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Open SecureVault web app in your browser"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"3"}),d.jsx("span",{children:'Go to Dashboard and click "Create Wallet"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"4"}),d.jsx("span",{children:'Select the "Raspberry Pi" tab'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"5"}),d.jsx("span",{children:'Click "Connect Raspberry Pi" and allow USB access'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"6"}),d.jsx("span",{children:"Set your 4-6 digit PIN"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(rr,{variant:"outline",children:"7"}),d.jsx("span",{className:"font-semibold",children:"Write down your 24-word seed phrase on paper!"})]})]})})]}),d.jsxs(Eo,{value:"security",children:[d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"h-5 w-5"}),"What's Protected"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Private keys never leave the Pi"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Seed phrase encrypted with your PIN"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Every transaction requires PIN confirmation"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Lockout after 5 failed PIN attempts"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(S0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Auto-lock after 5 minutes of inactivity"})]})]})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(are,{className:"h-5 w-5"}),"Extra Security Steps"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Disable WiFi after initial setup for air-gap"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Disable Bluetooth in /boot/config.txt"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Store Pi in a secure location"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Keep backup of seed phrase in fireproof safe"})]})]})})]})]}),d.jsxs(Gt,{className:"mt-6",children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(dn,{className:"h-5 w-5 text-amber-500"}),"Limitations"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"No physical button:"}),"Unlike commercial hardware wallets, confirmation is via PIN only"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"No display:"}),"You cannot verify transaction details on the Pi itself"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"SD card theft:"}),"If someone steals the SD card, they still need your PIN to access funds"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"Not FIDO certified:"}),"This is a DIY solution, not a certified security device"]})]})})]}),d.jsxs(Gt,{className:"mt-6",children:[d.jsx(jn,{children:d.jsx($n,{children:"Disabling WiFi/Bluetooth (Recommended)"})}),d.jsxs(er,{children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"After initial setup, disable wireless for maximum security:"}),d.jsx(Ew,{code:`# Add to /boot/config.txt
dtoverlay=disable-wifi
dtoverlay=disable-bt`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Then reboot. Your Pi will only communicate via USB."})]})]})]})]})]})}const Wx={CAKE:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png",TWT:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png",BABY:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png",XVS:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png"};function C2t(t,e,r){if(r&&r.trim())return r;const n=e.toUpperCase().trim();if(Wx[n])return Wx[n];const s=Fd.find(a=>a.id===t);if(s!=null&&s.image&&s.image.trim())return s.image;const i=Fd.find(a=>a.symbol.toUpperCase()===n);if(i!=null&&i.image&&i.image.trim())return i.image}async function T2t(t,e){var r,n;try{const s=t.toUpperCase().trim();if(Wx[s])return Wx[s];const i=await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(t)}`,{signal:AbortSignal.timeout(5e3)});if(!i.ok)return;const a=await i.json();if(!a.coins||a.coins.length===0)return;let o=a.coins[0];for(const c of a.coins){if(((r=c.symbol)==null?void 0:r.toUpperCase())===s){o=c;break}if(((n=c.name)==null?void 0:n.toLowerCase())===e.toLowerCase()){o=c;break}}if(o!=null&&o.large)return console.log(`[COINGECKO] Found logo for ${t}:`,o.large),o.large}catch(s){console.log(`[COINGECKO] Failed to fetch logo for ${t}:`,s)}}const _f=[{id:"ETH",name:"Ethereum (ERC-20)",evmChainId:1,rpcUrl:"https://eth.llamarpc.com",type:"evm"},{id:"BNB",name:"BNB Chain (BEP-20)",evmChainId:56,rpcUrl:"https://bsc-dataseed.binance.org",type:"evm"},{id:"MATIC",name:"Polygon",evmChainId:137,rpcUrl:"https://polygon-rpc.com",type:"evm"},{id:"ARB",name:"Arbitrum",evmChainId:42161,rpcUrl:"https://arb1.arbitrum.io/rpc",type:"evm"},{id:"TRX",name:"TRON (TRC-20)",evmChainId:0,rpcUrl:"",type:"tron"}];function j2t(){const{topAssets:t,enabledAssetIds:e,isLoadingAssets:r,toggleAssetEnabled:n,refreshTopAssets:s,enableAllAssets:i,disableAllAssets:a,customTokens:o,addCustomToken:c,removeCustomToken:l,walletMode:u,wallets:f}=Yi(),h=lte(),m=new URLSearchParams(h),v=m.get("chain"),x=m.get("wallet"),k=!!v,E=k?_f.filter(Ae=>Ae.id===v):_f,P=_f.find(Ae=>Ae.id===v),_=v==="ETH"?"ERC-20":v==="BNB"?"BEP-20":v==="TRX"?"TRC-20":(P==null?void 0:P.name)||"custom",[M,B]=F.useState(""),[D,j]=F.useState(!1),[T,R]=F.useState(v||""),[H,O]=F.useState(""),[b,w]=F.useState(null),[p,g]=F.useState(!1),[S,N]=F.useState(""),[I,A]=F.useState(!1),[y,C]=F.useState(""),[$,L]=F.useState(""),[Q,U]=F.useState("18");F.useEffect(()=>{v&&_f.some(Ae=>Ae.id===v)&&R(v)},[v]);const J=F.useMemo(()=>{if(!M.trim())return t;const Ae=M.toLowerCase();return t.filter(Oe=>Oe.name.toLowerCase().includes(Ae)||Oe.symbol.toLowerCase().includes(Ae))},[t,M]),Z=e.size,re=t.length,G=_f.find(Ae=>Ae.id===T),z=(G==null?void 0:G.type)==="tron",se=Ae=>{R(Ae),w(null),N(""),C(""),L(""),U("18")},ce=Ae=>{O(Ae),w(null),N("")},pe=async()=>{if(!T||!H)return;const Ae=_f.find(Oe=>Oe.id===T);if(Ae){if(Ae.type==="tron"){N("TRON tokens require manual entry. Please fill in the token details below.");return}g(!0),N("");try{const Oe=await jle(H,Ae.rpcUrl,Ae.evmChainId);Oe?w(Oe):N("Could not fetch token info. Please verify the contract address.")}catch{N("Failed to fetch token info. Please check the address.")}finally{g(!1)}}},Ce=()=>!T||!H?!1:z?y.trim()&&$.trim()&&Q:!!b,ke=async()=>{if(!T||!H)return;const Ae=_f.find(Be=>Be.id===T);if(!Ae)return;const Oe=z?{name:y.trim(),symbol:$.trim().toUpperCase(),decimals:parseInt(Q)||18}:b;if(!Oe)return;let We=x;if(!We){const Be=f.find(ze=>{const Ke=ze.chainId;return Ke&&Ke.includes(Ae.id.toLowerCase())});Be?We=Be.id:f.length>0&&(We=f[0].id)}if(!We){N("No wallet available to add token to");return}A(!0);try{console.log(`[TOKEN_ADD] Fetching logo for ${Oe.symbol}...`);let Be=await T2t(Oe.symbol,Oe.name);if(!Be||!Be.trim()){const ze=Oe.symbol.toUpperCase().trim(),Ke=Fd.find(ct=>ct.symbol.toUpperCase().trim()===ze);Be=(Ke==null?void 0:Ke.image)||""}Be||(Be=""),console.log(`[TOKEN_ADD] Logo for ${Oe.symbol}:`,Be),await c({chainId:Ae.id,chainType:Ae.type,contractAddress:H.trim(),name:Oe.name,symbol:Oe.symbol,decimals:Oe.decimals,evmChainId:Ae.evmChainId,rpcUrl:Ae.rpcUrl,image:Be,walletId:We}),mt(),j(!1)}catch{N("Failed to add token")}finally{A(!1)}},tt=async Ae=>{await l(Ae)},mt=()=>{R(""),O(""),w(null),N(""),C(""),L(""),U("18")},[,we]=sf(),qe=()=>{k&&v&&x?we(`/?chain=${v}&wallet=${x}`):window.history.back()};return d.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:qe,"data-testid":"button-back",children:d.jsx(G3,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:k?`Add ${_} Token`:"Manage Crypto"})]}),d.jsx("p",{className:"text-muted-foreground",children:k?`Add a custom ${_} token to track in your ${(P==null?void 0:P.name)||v} wallet.`:"Choose which cryptocurrencies to display on your dashboard. Enable or disable assets to customize your view."})]}),u!=="hard_wallet"&&k&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($n,{className:"text-lg",children:"Popular Tokens"}),d.jsxs(rr,{variant:"secondary",className:"text-xs",children:[t.filter(Ae=>Cx[Ae.id]===v&&Zg[Ae.id]).filter(Ae=>e.has(Ae.id)).length," enabled"]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable major tokens to display them in your wallet"})]})}),d.jsx(er,{children:d.jsx("div",{className:"space-y-2",children:t.filter(Ae=>Cx[Ae.id]===v&&Zg[Ae.id]).slice(0,10).map(Ae=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border","data-testid":`major-token-row-${Ae.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[(()=>{const Oe=C2t(Ae.id,Ae.symbol,Ae.image);return Oe?d.jsx("img",{src:Oe,alt:Ae.name,className:"h-8 w-8 rounded-full shrink-0",onError:We=>{We.target.style.display="none"}}):d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold shrink-0",children:Ae.symbol.slice(0,2).toUpperCase()})})(),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sm",children:Ae.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Ae.symbol})]})]}),d.jsx(gS,{checked:e.has(Ae.id),onCheckedChange:()=>n(Ae.id,!e.has(Ae.id)),"data-testid":`switch-enable-token-${Ae.id}`})]},Ae.id))})})]}),u!=="hard_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($n,{className:"text-lg",children:"Custom Tokens"}),d.jsxs(rr,{variant:"secondary",className:"text-xs",children:[k&&x?o.filter(Ae=>Ae.chainId===v&&Ae.walletId===x).length:o.length," added"]})]}),d.jsxs(es,{open:D,onOpenChange:Ae=>{j(Ae),Ae||mt()},children:[d.jsx(Uy,{asChild:!0,children:d.jsxs(Te,{size:"sm","data-testid":"button-add-custom-token",children:[d.jsx(Nd,{className:"mr-1 h-4 w-4"}),"Add Custom Token"]})}),d.jsxs(Hn,{children:[d.jsxs(Wn,{children:[d.jsx(qn,{children:"Add Custom Token"}),d.jsx(Kn,{children:k?`Add a ${_} token by entering its contract address.`:"Add an ERC-20, BEP-20, or TRC-20 token by entering its contract address."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Blockchain Network"}),d.jsxs(k1,{value:T,onValueChange:se,disabled:k,children:[d.jsx(Jp,{id:"chain","data-testid":"select-chain",children:d.jsx(Ox,{placeholder:"Select a network"})}),d.jsx(Qp,{children:E.map(Ae=>d.jsx(ll,{value:Ae.id,children:Ae.name},Ae.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"contract",children:"Contract Address"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ir,{id:"contract",placeholder:z?"T...":"0x...",value:H,onChange:Ae=>ce(Ae.target.value),"data-testid":"input-contract-address"}),!z&&d.jsx(Te,{variant:"outline",onClick:pe,disabled:!T||!H||p,"data-testid":"button-fetch-info",children:p?d.jsx(fl,{className:"h-4 w-4 animate-spin"}):"Fetch"})]})]}),S&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[d.jsx(j4,{className:"h-4 w-4"}),S]}),z&&T&&d.jsxs("div",{className:"space-y-3 rounded-md border p-3 bg-muted/50",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter token details manually for TRC-20 tokens:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualName",children:"Token Name"}),d.jsx(ir,{id:"manualName",placeholder:"e.g., Tether USD",value:y,onChange:Ae=>C(Ae.target.value),"data-testid":"input-manual-name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualSymbol",children:"Token Symbol"}),d.jsx(ir,{id:"manualSymbol",placeholder:"e.g., USDT",value:$,onChange:Ae=>L(Ae.target.value),"data-testid":"input-manual-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualDecimals",children:"Decimals"}),d.jsx(ir,{id:"manualDecimals",type:"number",min:"0",max:"18",placeholder:"18",value:Q,onChange:Ae=>U(Ae.target.value),"data-testid":"input-manual-decimals"})]})]}),b&&!z&&d.jsxs("div",{className:"rounded-md border p-3 space-y-2 bg-muted/50",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),d.jsx("span",{className:"font-medium",children:b.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Symbol:"}),d.jsx("span",{className:"font-medium",children:b.symbol})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Decimals:"}),d.jsx("span",{className:"font-medium",children:b.decimals})]})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{mt(),j(!1)},children:"Cancel"}),d.jsxs(Te,{onClick:ke,disabled:!Ce()||I,"data-testid":"button-confirm-add-token",children:[I?d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Token"]})]})]})]})]})}),d.jsx(er,{children:(()=>{const Ae=k&&x?o.filter(Be=>Be.chainId===v&&Be.walletId===x):o,Oe=k&&x?o.filter(Be=>Be.chainId===v&&Be.walletId!==x&&!o.some(ze=>ze.walletId===x&&ze.contractAddress.toLowerCase()===Be.contractAddress.toLowerCase())).filter((Be,ze,Ke)=>ze===Ke.findIndex(ct=>ct.contractAddress.toLowerCase()===Be.contractAddress.toLowerCase())):[],We=async Be=>{x&&await c({chainId:Be.chainId,chainType:Be.chainType,contractAddress:Be.contractAddress,name:Be.name,symbol:Be.symbol,decimals:Be.decimals,evmChainId:Be.evmChainId,rpcUrl:Be.rpcUrl,walletId:x})};return Ae.length===0&&Oe.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[d.jsx("p",{children:"No custom tokens added yet."}),d.jsx("p",{className:"text-sm",children:k?`Click "Add Custom Token" to track any ${_} token.`:'Click "Add Custom Token" to track any ERC-20, BEP-20, or TRC-20 token.'})]}):d.jsxs("div",{className:"space-y-4",children:[Ae.length>0&&d.jsx("div",{className:"space-y-2",children:Ae.map(Be=>{var Y;const ze=_f.find(V=>V.id===Be.chainId),Ke=Be.symbol.toUpperCase().trim(),ct=Be.image||Wx[Ke]||((Y=Fd.find(V=>V.symbol.toUpperCase().trim()===Ke))==null?void 0:Y.image);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3","data-testid":`custom-token-row-${Be.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[ct?d.jsx("img",{src:ct,alt:Be.name,className:"h-8 w-8 rounded-full bg-muted",onError:V=>{V.target.style.display="none"}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${ct?"hidden":""}`,children:Be.symbol.slice(0,2)}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:Be.name}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Be.symbol," on ",(ze==null?void 0:ze.name)||Be.chainId]})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>tt(Be.id),className:"text-red-600 hover:text-red-700 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900/20","data-testid":`button-remove-token-${Be.id}`,children:d.jsx(m3,{className:"h-4 w-4"})})]},Be.id)})}),Oe.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Available from other wallets:"}),Oe.map(Be=>{var Y;const ze=_f.find(V=>V.id===Be.chainId),Ke=Be.symbol.toUpperCase().trim(),ct=Be.image||Wx[Ke]||((Y=Fd.find(V=>V.symbol.toUpperCase().trim()===Ke))==null?void 0:Y.image);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border border-dashed p-3","data-testid":`available-token-row-${Be.contractAddress}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[ct?d.jsx("img",{src:ct,alt:Be.name,className:"h-8 w-8 rounded-full bg-muted",onError:V=>{V.target.style.display="none"}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${ct?"hidden":""}`,children:Be.symbol.slice(0,2)}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:Be.name}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Be.symbol," on ",(ze==null?void 0:ze.name)||Be.chainId]})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>We(Be),className:"text-primary","data-testid":`button-add-available-token-${Be.contractAddress}`,children:d.jsx(Nd,{className:"h-4 w-4"})})]},`available-${Be.id}`)})]})]})})()})]}),!k&&u==="hard_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($n,{className:"text-lg",children:"Top Cryptocurrencies"}),d.jsxs(rr,{variant:"secondary",className:"text-xs",children:[Z,"/",re," enabled"]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs(Te,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-enable-all",children:[d.jsx(Bwe,{className:"mr-1 h-4 w-4"}),"Enable All"]}),d.jsxs(Te,{variant:"outline",size:"sm",onClick:a,"data-testid":"button-disable-all",children:[d.jsx(Rwe,{className:"mr-1 h-4 w-4"}),"Disable All"]}),d.jsx(Te,{variant:"outline",size:"icon",onClick:s,disabled:r,"data-testid":"button-refresh-assets",children:d.jsx(l1,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]})}),d.jsxs(er,{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ire,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(ir,{placeholder:"Search by name or symbol...",value:M,onChange:Ae=>B(Ae.target.value),className:"pl-10","data-testid":"input-search-assets"})]}),r&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(l1,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):J.length===0?d.jsxs("div",{className:"flex items-center justify-center py-12 text-muted-foreground",children:['No assets found matching "',M,'"']}):d.jsx("div",{className:"space-y-2",children:J.map(Ae=>{const Oe=e.has(Ae.id);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 hover-elevate","data-testid":`asset-row-${Ae.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[Ae.image?d.jsx("img",{src:Ae.image,alt:Ae.name,className:"h-8 w-8 rounded-full bg-muted","data-testid":`img-asset-${Ae.id}`,onError:We=>{var ze;const Be=We.target;Be.style.display="none",(ze=Be.nextElementSibling)==null||ze.classList.remove("hidden")}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${Ae.image?"hidden":""}`,children:Ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium","data-testid":`text-asset-name-${Ae.id}`,children:Ae.name}),d.jsx("span",{className:"text-sm text-muted-foreground",children:Ae.symbol})]})]}),d.jsx(gS,{checked:Oe,onCheckedChange:We=>n(Ae.id,We),"data-testid":`switch-asset-${Ae.id}`})]},Ae.id)})})]})]})]})})}var SO=["Enter"," "],$2t=["ArrowDown","PageUp","Home"],O1e=["ArrowUp","PageDown","End"],M2t=[...$2t,...O1e],O2t={ltr:[...SO,"ArrowRight"],rtl:[...SO,"ArrowLeft"]},F2t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},B5="Menu",[n4,B2t,R2t]=IP(B5),[tb,F1e]=Zi(B5,[R2t,e2,x2]),eN=e2(),B1e=x2(),[D2t,rb]=tb(B5),[U2t,R5]=tb(B5),R1e=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=t,o=eN(e),[c,l]=F.useState(null),u=F.useRef(!1),f=ls(i),h=v2(s);return F.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),d.jsx(DF,{...o,children:d.jsx(D2t,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:l,children:d.jsx(U2t,{scope:e,onClose:F.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:a,children:n})})})};R1e.displayName=B5;var z2t="MenuAnchor",yU=F.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=eN(r);return d.jsx(UF,{...s,...n,ref:e})});yU.displayName=z2t;var vU="MenuPortal",[L2t,D1e]=tb(vU,{forceMount:void 0}),U1e=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=rb(vU,e);return d.jsx(L2t,{scope:e,forceMount:r,children:d.jsx(Ji,{present:r||i.open,children:d.jsx(C4,{asChild:!0,container:s,children:n})})})};U1e.displayName=vU;var xl="MenuContent",[V2t,xU]=tb(xl),z1e=F.forwardRef((t,e)=>{const r=D1e(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=rb(xl,t.__scopeMenu),a=R5(xl,t.__scopeMenu);return d.jsx(n4.Provider,{scope:t.__scopeMenu,children:d.jsx(Ji,{present:n||i.open,children:d.jsx(n4.Slot,{scope:t.__scopeMenu,children:a.modal?d.jsx(H2t,{...s,ref:e}):d.jsx(W2t,{...s,ref:e})})})})}),H2t=F.forwardRef((t,e)=>{const r=rb(xl,t.__scopeMenu),n=F.useRef(null),s=yr(e,n);return F.useEffect(()=>{const i=n.current;if(i)return qF(i)},[]),d.jsx(wU,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:_t(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),W2t=F.forwardRef((t,e)=>{const r=rb(xl,t.__scopeMenu);return d.jsx(wU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),q2t=c1("MenuContent.ScrollLock"),wU=F.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...x}=t,k=rb(xl,r),E=R5(xl,r),P=eN(r),_=B1e(r),M=B2t(r),[B,D]=F.useState(null),j=F.useRef(null),T=yr(e,j,k.onContentChange),R=F.useRef(0),H=F.useRef(""),O=F.useRef(0),b=F.useRef(null),w=F.useRef("right"),p=F.useRef(0),g=v?UP:F.Fragment,S=v?{as:q2t,allowPinchZoom:!0}:void 0,N=A=>{var Z,re;const y=H.current+A,C=M().filter(G=>!G.disabled),$=document.activeElement,L=(Z=C.find(G=>G.ref.current===$))==null?void 0:Z.textValue,Q=C.map(G=>G.textValue),U=swt(Q,y,L),J=(re=C.find(G=>G.textValue===U))==null?void 0:re.ref.current;(function G(z){H.current=z,window.clearTimeout(R.current),z!==""&&(R.current=window.setTimeout(()=>G(""),1e3))})(y),J&&setTimeout(()=>J.focus())};F.useEffect(()=>()=>window.clearTimeout(R.current),[]),WF();const I=F.useCallback(A=>{var C,$;return w.current===((C=b.current)==null?void 0:C.side)&&awt(A,($=b.current)==null?void 0:$.area)},[]);return d.jsx(V2t,{scope:r,searchRef:H,onItemEnter:F.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:F.useCallback(A=>{var y;I(A)||((y=j.current)==null||y.focus(),D(null))},[I]),onTriggerLeave:F.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:O,onPointerGraceIntentChange:F.useCallback(A=>{b.current=A},[]),children:d.jsx(g,{...S,children:d.jsx(BP,{asChild:!0,trapped:s,onMountAutoFocus:_t(i,A=>{var y;A.preventDefault(),(y=j.current)==null||y.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:d.jsx(Jx,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:d.jsx(ZR,{asChild:!0,..._,dir:E.dir,orientation:"vertical",loop:n,currentTabStopId:B,onCurrentTabStopIdChange:D,onEntryFocus:_t(c,A=>{E.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(zF,{role:"menu","aria-orientation":"vertical","data-state":nbe(k.open),"data-radix-menu-content":"",dir:E.dir,...P,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:_t(x.onKeyDown,A=>{const C=A.target.closest("[data-radix-menu-content]")===A.currentTarget,$=A.ctrlKey||A.altKey||A.metaKey,L=A.key.length===1;C&&(A.key==="Tab"&&A.preventDefault(),!$&&L&&N(A.key));const Q=j.current;if(A.target!==Q||!M2t.includes(A.key))return;A.preventDefault();const J=M().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);O1e.includes(A.key)&&J.reverse(),rwt(J)}),onBlur:_t(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(R.current),H.current="")}),onPointerMove:_t(t.onPointerMove,s4(A=>{const y=A.target,C=p.current!==A.clientX;if(A.currentTarget.contains(y)&&C){const $=A.clientX>p.current?"right":"left";w.current=$,p.current=A.clientX}}))})})})})})})});z1e.displayName=xl;var K2t="MenuGroup",AU=F.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{role:"group",...n,ref:e})});AU.displayName=K2t;var X2t="MenuLabel",L1e=F.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});L1e.displayName=X2t;var QS="MenuItem",SY="menu.itemSelect",tN=F.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=F.useRef(null),a=R5(QS,t.__scopeMenu),o=xU(QS,t.__scopeMenu),c=yr(e,i),l=F.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(SY,{bubbles:!0,cancelable:!0});f.addEventListener(SY,m=>n==null?void 0:n(m),{once:!0}),PF(f,h),h.defaultPrevented?l.current=!1:a.onClose()}};return d.jsx(V1e,{...s,ref:c,disabled:r,onClick:_t(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),l.current=!0},onPointerUp:_t(t.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:_t(t.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||SO.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tN.displayName=QS;var V1e=F.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,a=xU(QS,r),o=B1e(r),c=F.useRef(null),l=yr(e,c),[u,f]=F.useState(!1),[h,m]=F.useState("");return F.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),d.jsx(n4.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:d.jsx(JR,{asChild:!0,...o,focusable:!n,children:d.jsx(Qt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:_t(t.onPointerMove,s4(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_t(t.onPointerLeave,s4(v=>a.onItemLeave(v))),onFocus:_t(t.onFocus,()=>f(!0)),onBlur:_t(t.onBlur,()=>f(!1))})})})}),Z2t="MenuCheckboxItem",H1e=F.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return d.jsx(Z1e,{scope:t.__scopeMenu,checked:r,children:d.jsx(tN,{role:"menuitemcheckbox","aria-checked":YS(r)?"mixed":r,...s,ref:e,"data-state":PU(r),onSelect:_t(s.onSelect,()=>n==null?void 0:n(YS(r)?!0:!r),{checkForDefaultPrevented:!1})})})});H1e.displayName=Z2t;var W1e="MenuRadioGroup",[J2t,Q2t]=tb(W1e,{value:void 0,onValueChange:()=>{}}),q1e=F.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=ls(n);return d.jsx(J2t,{scope:t.__scopeMenu,value:r,onValueChange:i,children:d.jsx(AU,{...s,ref:e})})});q1e.displayName=W1e;var K1e="MenuRadioItem",X1e=F.forwardRef((t,e)=>{const{value:r,...n}=t,s=Q2t(K1e,t.__scopeMenu),i=r===s.value;return d.jsx(Z1e,{scope:t.__scopeMenu,checked:i,children:d.jsx(tN,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":PU(i),onSelect:_t(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});X1e.displayName=K1e;var SU="MenuItemIndicator",[Z1e,Y2t]=tb(SU,{checked:!1}),J1e=F.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=Y2t(SU,r);return d.jsx(Ji,{present:n||YS(i.checked)||i.checked===!0,children:d.jsx(Qt.span,{...s,ref:e,"data-state":PU(i.checked)})})});J1e.displayName=SU;var G2t="MenuSeparator",Q1e=F.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Q1e.displayName=G2t;var ewt="MenuArrow",Y1e=F.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=eN(r);return d.jsx(LF,{...s,...n,ref:e})});Y1e.displayName=ewt;var twt="MenuSub",[I5t,G1e]=tb(twt),s3="MenuSubTrigger",ebe=F.forwardRef((t,e)=>{const r=rb(s3,t.__scopeMenu),n=R5(s3,t.__scopeMenu),s=G1e(s3,t.__scopeMenu),i=xU(s3,t.__scopeMenu),a=F.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=F.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return F.useEffect(()=>u,[u]),F.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),d.jsx(yU,{asChild:!0,...l,children:d.jsx(V1e,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":nbe(r.open),...t,ref:kP(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:_t(t.onPointerMove,s4(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:_t(t.onPointerLeave,s4(f=>{var m,v;u();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const x=(v=r.content)==null?void 0:v.dataset.side,k=x==="right",E=k?-5:5,P=h[k?"left":"right"],_=h[k?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:P,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:P,y:h.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:_t(t.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||O2t[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});ebe.displayName=s3;var tbe="MenuSubContent",rbe=F.forwardRef((t,e)=>{const r=D1e(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=rb(xl,t.__scopeMenu),a=R5(xl,t.__scopeMenu),o=G1e(tbe,t.__scopeMenu),c=F.useRef(null),l=yr(e,c);return d.jsx(n4.Provider,{scope:t.__scopeMenu,children:d.jsx(Ji,{present:n||i.open,children:d.jsx(n4.Slot,{scope:t.__scopeMenu,children:d.jsx(wU,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:_t(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:_t(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:_t(t.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=F2t[a.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),u.preventDefault())})})})})})});rbe.displayName=tbe;function nbe(t){return t?"open":"closed"}function YS(t){return t==="indeterminate"}function PU(t){return YS(t)?"indeterminate":t?"checked":"unchecked"}function rwt(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function nwt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function swt(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=nwt(t,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function iwt(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,c=e[i].y,l=e[a].x,u=e[a].y;c>n!=u>n&&r<(l-o)*(n-c)/(u-c)+o&&(s=!s)}return s}function awt(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return iwt(r,e)}function s4(t){return e=>e.pointerType==="mouse"?t(e):void 0}var owt=R1e,cwt=yU,lwt=U1e,uwt=z1e,dwt=AU,fwt=L1e,hwt=tN,pwt=H1e,mwt=q1e,gwt=X1e,bwt=J1e,ywt=Q1e,vwt=Y1e,xwt=ebe,wwt=rbe,kU="DropdownMenu",[Awt,N5t]=Zi(kU,[F1e]),fo=F1e(),[Swt,sbe]=Awt(kU),ibe=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=fo(e),l=F.useRef(null),[u=!1,f]=Iu({prop:s,defaultProp:i,onChange:a});return d.jsx(Swt,{scope:e,triggerId:Au(),triggerRef:l,contentId:Au(),open:u,onOpenChange:f,onOpenToggle:F.useCallback(()=>f(h=>!h),[f]),modal:o,children:d.jsx(owt,{...c,open:u,onOpenChange:f,dir:n,modal:o,children:r})})};ibe.displayName=kU;var abe="DropdownMenuTrigger",obe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=sbe(abe,r),a=fo(r);return d.jsx(cwt,{asChild:!0,...a,children:d.jsx(Qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:kP(e,i.triggerRef),onPointerDown:_t(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:_t(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});obe.displayName=abe;var Pwt="DropdownMenuPortal",cbe=t=>{const{__scopeDropdownMenu:e,...r}=t,n=fo(e);return d.jsx(lwt,{...n,...r})};cbe.displayName=Pwt;var lbe="DropdownMenuContent",ube=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=sbe(lbe,r),i=fo(r),a=F.useRef(!1);return d.jsx(uwt,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:_t(t.onCloseAutoFocus,o=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:_t(t.onInteractOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ube.displayName=lbe;var kwt="DropdownMenuGroup",Iwt=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(dwt,{...s,...n,ref:e})});Iwt.displayName=kwt;var Nwt="DropdownMenuLabel",dbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(fwt,{...s,...n,ref:e})});dbe.displayName=Nwt;var Ewt="DropdownMenuItem",fbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(hwt,{...s,...n,ref:e})});fbe.displayName=Ewt;var _wt="DropdownMenuCheckboxItem",hbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(pwt,{...s,...n,ref:e})});hbe.displayName=_wt;var Cwt="DropdownMenuRadioGroup",Twt=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(mwt,{...s,...n,ref:e})});Twt.displayName=Cwt;var jwt="DropdownMenuRadioItem",pbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(gwt,{...s,...n,ref:e})});pbe.displayName=jwt;var $wt="DropdownMenuItemIndicator",mbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(bwt,{...s,...n,ref:e})});mbe.displayName=$wt;var Mwt="DropdownMenuSeparator",gbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(ywt,{...s,...n,ref:e})});gbe.displayName=Mwt;var Owt="DropdownMenuArrow",Fwt=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(vwt,{...s,...n,ref:e})});Fwt.displayName=Owt;var Bwt="DropdownMenuSubTrigger",bbe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(xwt,{...s,...n,ref:e})});bbe.displayName=Bwt;var Rwt="DropdownMenuSubContent",ybe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=fo(r);return d.jsx(wwt,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ybe.displayName=Rwt;var Dwt=ibe,Uwt=obe,zwt=cbe,vbe=ube,xbe=dbe,wbe=fbe,Abe=hbe,Sbe=pbe,Pbe=mbe,kbe=gbe,Ibe=bbe,Nbe=ybe;const Ebe=Dwt,_be=Uwt,Lwt=F.forwardRef(({className:t,inset:e,children:r,...n},s)=>d.jsxs(Ibe,{ref:s,className:jt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,d.jsx(gp,{className:"ml-auto"})]}));Lwt.displayName=Ibe.displayName;const Vwt=F.forwardRef(({className:t,...e},r)=>d.jsx(Nbe,{ref:r,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Vwt.displayName=Nbe.displayName;const IU=F.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(zwt,{children:d.jsx(vbe,{ref:n,sideOffset:e,className:jt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));IU.displayName=vbe.displayName;const NU=F.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(wbe,{ref:n,className:jt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));NU.displayName=wbe.displayName;const Hwt=F.forwardRef(({className:t,children:e,checked:r,...n},s)=>d.jsxs(Abe,{ref:s,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Pbe,{children:d.jsx(Ga,{className:"h-4 w-4"})})}),e]}));Hwt.displayName=Abe.displayName;const Wwt=F.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Sbe,{ref:n,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Pbe,{children:d.jsx(Gte,{className:"h-2 w-2 fill-current"})})}),e]}));Wwt.displayName=Sbe.displayName;const qwt=F.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(xbe,{ref:n,className:jt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));qwt.displayName=xbe.displayName;const Kwt=F.forwardRef(({className:t,...e},r)=>d.jsx(kbe,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",t),...e}));Kwt.displayName=kbe.displayName;const A9=Ui.filter(t=>t.chainId>0),Xwt=[{name:"PancakeSwap",url:"https://pancakeswap.finance/",description:"Trade, earn crypto",category:"DEX"},{name:"Uniswap",url:"https://app.uniswap.org/",description:"Swap tokens",category:"DEX"},{name:"Aave",url:"https://app.aave.com/",description:"Lending protocol",category:"Lending"},{name:"1inch",url:"https://app.1inch.io/",description:"DEX aggregator",category:"DEX"}];function Zwt(){const{isConnected:t,isUnlocked:e,wallets:r,chains:n}=Yi(),{toast:s}=ki(),[i,a]=F.useState(""),[o,c]=F.useState(""),[l,u]=F.useState(!1),[f,h]=F.useState(!1),[m,v]=F.useState(56),[x,k]=F.useState(!1),[E,P]=F.useState(null),_=F.useRef(null),M=A9.find(w=>w.chainId===m)||A9[0],B=r.filter(w=>{const p=n.find(g=>g.id===w.chainId);return p&&p.chainId===m});r.filter(w=>{const p=n.find(g=>g.id===w.chainId);return p&&p.chainId>0});const D=()=>{if(!i.trim())return;let w=i.trim();!w.startsWith("http://")&&!w.startsWith("https://")&&(w="https://"+w),c(w),a(w),h(!1),u(!0)},j=w=>{a(w),c(w),h(!1),u(!0)},T=()=>{u(!1)},R=()=>{u(!1),h(!0)},H=w=>{var p;v(w),P(null),s({title:"Chain Switched",description:`Switched to ${(p=A9.find(g=>g.chainId===w))==null?void 0:p.name}`,duration:2e3})},O=()=>{k(!0)},b=(w,p)=>{P(w),navigator.clipboard.writeText(w),s({title:"Wallet Connected",description:`${p} wallet connected. Address copied.`,duration:2e3}),k(!1)};return!t||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"DApps"}),d.jsx(o5,{})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[d.jsxs("div",{className:"flex items-center gap-1.5 p-2",children:[d.jsx(S2,{}),d.jsxs("div",{className:"flex-1 flex items-center gap-1.5 bg-muted/50 rounded-lg px-2 py-1",children:[d.jsx(ir,{value:i,onChange:w=>a(w.target.value),onKeyDown:w=>w.key==="Enter"&&D(),placeholder:"Enter URL...",className:"flex-1 border-0 bg-transparent h-8 text-sm focus-visible:ring-0 px-1","data-testid":"input-browser-url"}),d.jsx(Te,{size:"sm",onClick:D,className:"h-7 px-3","data-testid":"button-go",children:"Go"})]}),d.jsxs(Ebe,{children:[d.jsx(_be,{asChild:!0,children:d.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-chain-selector",children:d.jsx(Yn,{symbol:M.symbol,iconColor:M.iconColor,size:"sm"})})}),d.jsx(IU,{align:"end",className:"w-48",children:A9.map(w=>d.jsxs(NU,{onClick:()=>H(w.chainId),className:"gap-2","data-testid":`menu-chain-${w.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:w.symbol,iconColor:w.iconColor,size:"sm"}),w.name,w.chainId===m&&d.jsx("span",{className:"ml-auto text-primary",children:""})]},w.chainId))})]}),d.jsx(Te,{variant:E?"default":"outline",size:"icon",onClick:O,"data-testid":"button-connect-wallet",children:d.jsx(Py,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"mx-2 mb-2 px-3 py-1.5 rounded-md bg-muted/50 text-xs flex items-center gap-2 cursor-pointer hover-elevate",onClick:O,"data-testid":"wallet-indicator",children:[d.jsx(Yn,{symbol:M.symbol,iconColor:M.iconColor,size:"sm"}),E?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),d.jsxs("span",{className:"font-mono",children:[E.slice(0,10),"...",E.slice(-6)]})]}):d.jsx("span",{className:"text-muted-foreground",children:"Tap to select wallet"})]})]}),d.jsx("div",{className:"flex-1 relative bg-muted/30",children:o?f?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(F1,{className:"mx-auto h-16 w-16 text-destructive/50 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cannot Load DApp"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"This DApp cannot be embedded. Try opening in external browser."}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs(Te,{variant:"outline",onClick:()=>window.open(o,"_blank"),children:[d.jsx(ax,{className:"mr-2 h-4 w-4"}),"Open External"]}),d.jsx(Te,{variant:"outline",onClick:()=>{c(""),a("")},children:"Back"})]})]})}):d.jsxs(d.Fragment,{children:[l&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:d.jsx(l1,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),d.jsx("iframe",{ref:_,src:o,className:"w-full h-full border-0",onLoad:T,onError:R,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox","data-testid":"iframe-dapp"})]}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(LT,{className:"mx-auto h-16 w-16 text-muted-foreground/30 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"DApp Browser"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Enter a URL or select a popular DApp below"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:Xwt.map(w=>d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>j(w.url),className:"justify-start","data-testid":`quick-${w.name.toLowerCase()}`,children:w.name},w.name))})]})})}),d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-sm",children:[d.jsxs(Wn,{children:[d.jsxs(qn,{className:"flex items-center gap-2",children:[d.jsx(Py,{className:"h-5 w-5"}),"Select Wallet"]}),d.jsx(Kn,{children:"Choose a wallet to connect"})]}),d.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:B.length>0?B.map((w,p)=>{const g=n.find(N=>N.id===w.chainId);if(!g)return null;const S=w.label||`${g.name} Wallet${B.length>1?` ${p+1}`:""}`;return d.jsxs(Te,{variant:w.address===E?"default":"outline",className:"w-full justify-start gap-3 h-auto py-3",onClick:()=>b(w.address,S),"data-testid":`select-wallet-${g.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:g.symbol,iconColor:g.iconColor,size:"sm"}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("div",{className:"font-medium",children:S}),d.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[w.address.slice(0,8),"...",w.address.slice(-6)]})]}),w.address===E&&d.jsx("span",{className:"text-xs",children:"Connected"})]},w.id)}):d.jsxs("p",{className:"text-center text-muted-foreground py-4",children:["No wallets for ",M.name]})}),d.jsx(Ss,{children:d.jsx(Te,{variant:"ghost",onClick:()=>k(!1),className:"w-full",children:"Cancel"})})]})})]})}const S9=Ui.filter(t=>t.chainId>0);function Jwt(){const{isConnected:t,isUnlocked:e,wallets:r,chains:n}=Yi(),{toast:s}=ki(),[i,a]=sf(),[o,c]=F.useState(""),[l,u]=F.useState(""),[f,h]=F.useState(1),[m,v]=F.useState(!1),[x,k]=F.useState(!1),E=F.useRef(null),_=new URLSearchParams(i.split("?")[1]||"").get("url");F.useEffect(()=>{if(_){const H=decodeURIComponent(_);c(H),u(H)}},[_]);const M=S9.find(H=>H.chainId===f)||S9[0];r.find(H=>{const O=n.find(b=>b.id===H.chainId);return(O==null?void 0:O.chainId)===f})||r[0];const B=()=>{if(!o.trim())return;let H=o.trim();!H.startsWith("http://")&&!H.startsWith("https://")&&(H="https://"+H),u(H),k(!1),v(!0)},D=()=>{v(!1)},j=()=>{v(!1),k(!0)},T=H=>{var O;h(H),s({title:"Chain Switched",description:`Switched to ${(O=S9.find(b=>b.chainId===H))==null?void 0:O.name}`})},R=()=>{l&&window.open(l,"_blank")};return!t||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"DApp Browser"}),d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(LT,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"Connect your wallet to use the DApp browser"}),d.jsx(Te,{variant:"outline",className:"mt-4",asChild:!0,children:d.jsx(dl,{href:"/",children:"Go to Dashboard"})})]})})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsxs("div",{className:"flex items-center gap-1.5 p-2",children:[d.jsx(S2,{fallbackPath:"/dapps"}),d.jsxs("div",{className:"flex-1 flex items-center gap-1.5 bg-muted/50 rounded-lg px-2 py-1",children:[d.jsx(ir,{value:o,onChange:H=>c(H.target.value),onKeyDown:H=>H.key==="Enter"&&B(),placeholder:"Enter URL...",className:"flex-1 border-0 bg-transparent h-8 text-sm focus-visible:ring-0 px-1","data-testid":"input-browser-url"}),d.jsx(Te,{size:"sm",onClick:B,className:"h-7 px-3","data-testid":"button-go",children:"Go"})]}),d.jsxs(Ebe,{children:[d.jsx(_be,{asChild:!0,children:d.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-chain-selector",children:d.jsx(Yn,{symbol:M.symbol,iconColor:M.iconColor,size:"sm"})})}),d.jsx(IU,{align:"end",className:"w-48",children:S9.map(H=>d.jsxs(NU,{onClick:()=>T(H.chainId),className:"gap-2","data-testid":`menu-chain-${H.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:H.symbol,iconColor:H.iconColor,size:"sm"}),H.name,H.chainId===f&&d.jsx("span",{className:"ml-auto text-primary",children:""})]},H.chainId))})]})]})}),d.jsx("div",{className:"flex-1 relative bg-muted/30",children:l?x?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(F1,{className:"mx-auto h-16 w-16 text-destructive/50 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cannot Load DApp"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"This DApp cannot be embedded due to security restrictions. Please open it in a new tab and use WalletConnect to connect."}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs(Te,{variant:"outline",onClick:R,children:[d.jsx(ax,{className:"mr-2 h-4 w-4"}),"Open in New Tab"]}),d.jsx(Te,{variant:"outline",asChild:!0,children:d.jsx(dl,{href:"/dapps",children:"Back to DApps"})})]})]})}):d.jsxs(d.Fragment,{children:[m&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:d.jsx(l1,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),d.jsx("iframe",{ref:E,src:l,className:"w-full h-full border-0",onLoad:D,onError:j,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox","data-testid":"iframe-dapp"})]}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(LT,{className:"mx-auto h-16 w-16 text-muted-foreground/30 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"DApp Browser"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Enter a DApp URL above to browse decentralized applications with your connected wallet."}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"PancakeSwap",url:"pancakeswap.finance"},{name:"Uniswap",url:"app.uniswap.org"},{name:"Aave",url:"app.aave.com"},{name:"1inch",url:"app.1inch.io"}].map(H=>d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>{c("https://"+H.url),u("https://"+H.url),v(!0)},"data-testid":`quick-${H.name.toLowerCase()}`,children:H.name},H.name))})]})})})]})}var EU="Progress",_U=100,[Qwt,E5t]=Zi(EU),[Ywt,Gwt]=Qwt(EU),Cbe=F.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=e3t,...a}=t;(s||s===0)&&!PY(s)&&console.error(t3t(`${s}`,"Progress"));const o=PY(s)?s:_U;n!==null&&!kY(n,o)&&console.error(r3t(`${n}`,"Progress"));const c=kY(n,o)?n:null,l=GS(c)?i(c,o):void 0;return d.jsx(Ywt,{scope:r,value:c,max:o,children:d.jsx(Qt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":GS(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":$be(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});Cbe.displayName=EU;var Tbe="ProgressIndicator",jbe=F.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=Gwt(Tbe,r);return d.jsx(Qt.div,{"data-state":$be(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});jbe.displayName=Tbe;function e3t(t,e){return`${Math.round(t/e*100)}%`}function $be(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function GS(t){return typeof t=="number"}function PY(t){return GS(t)&&!isNaN(t)&&t>0}function kY(t,e){return GS(t)&&!isNaN(t)&&t<=e&&t>=0}function t3t(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_U}\`.`}function r3t(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_U} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mbe=Cbe,n3t=jbe;const Obe=F.forwardRef(({className:t,value:e,...r},n)=>d.jsx(Mbe,{ref:n,className:jt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(n3t,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Obe.displayName=Mbe.displayName;const s3t={BTC:"bitcoin",ETH:"ethereum",BNB:"binancecoin",SOL:"solana",TRX:"tron",MATIC:"matic-network",AVAX:"avalanche-2",ARB:"arbitrum"},kb="https://cdn.jsdelivr.net/npm/cryptocurrency-icons@0.16.1/128/color",IY="https://assets.coingecko.com/coins/images",P9={bitcoin:`${kb}/btc.png`,ethereum:`${kb}/eth.png`,tether:`${kb}/usdt.png`,binancecoin:`${kb}/bnb.png`,solana:`${IY}/4128/small/solana.png`,"usd-coin":`${kb}/usdc.png`,tron:`${kb}/trx.png`,"staked-ether":`${IY}/13442/small/steth_logo.png`},i3t={"tether-bsc":"tether","tether-tron":"tether","tether-ethereum":"tether","usd-coin-bsc":"usd-coin","usd-coin-ethereum":"usd-coin","usd-coin-solana":"usd-coin","staked-ether-ethereum":"staked-ether"};function k9(t,e){if(e)return e;if(P9[t])return P9[t];const r=i3t[t];if(r&&P9[r])return P9[r]}const CC=gR;function a3t(t){return new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function NY(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:""}function o3t(){var L;const t=cte(),{chainId:e,tokenId:r}=t,{toast:n}=ki(),[,s]=sf(),{chains:i,visibleWallets:a,customTokens:o,topAssets:c,refreshWalletBalance:l,tokenBalances:u,customTokenBalances:f}=Yi(),[h,m]=F.useState({}),[v,x]=F.useState(!1),[k,E]=F.useState([]),[P,_]=F.useState(!1),[M,B]=F.useState([]),D=i.find(Q=>Q.id===e),j=a.find(Q=>Q.chainId===e),T=r==="native"||r===(D==null?void 0:D.symbol),R=T?null:c.find(Q=>Q.id===r),H=!!R&&!!Zg[R.id],O=!T&&!H?o.find(Q=>Q.id===r||Q.contractAddress.toLowerCase()===(r==null?void 0:r.toLowerCase())):null,b=T?D==null?void 0:D.symbol:((L=R==null?void 0:R.symbol)==null?void 0:L.toUpperCase())||(O==null?void 0:O.symbol),w=T?D==null?void 0:D.name:(R==null?void 0:R.name)||(O==null?void 0:O.name),p=T?(j==null?void 0:j.balance)||"0":H&&r?u[r]||"0":O&&f[O.id]||"0",g=O==null?void 0:O.contractAddress,S=b?s3t[b]:void 0,N=R||(S?c.find(Q=>Q.id===S):void 0),I=(N==null?void 0:N.currentPrice)||(b?h[b]:0)||0,A=(N==null?void 0:N.priceChangePercentage24h)||0,y=parseFloat(p)*I;F.useEffect(()=>{Dy().then(m).catch(console.error)},[b]),F.useEffect(()=>{if(!j||!D)return;(async()=>{_(!0);try{const U=[{id:j.id,address:j.address,chainId:D.id,numericChainId:D.chainId,chainSymbol:D.symbol,blockExplorerUrl:D.blockExplorer}],J=await Dle(U),Z=j.address.toLowerCase(),re=J.filter(G=>{var ce,pe,Ce,ke;const z=G.type==="send"&&((ce=G.fromAddress)==null?void 0:ce.toLowerCase())===Z,se=G.type==="receive"&&((pe=G.toAddress)==null?void 0:pe.toLowerCase())===Z;return!z&&!se?!1:T?!G.isTokenTransfer:O?G.isTokenTransfer&&((Ce=G.contractAddress)==null?void 0:Ce.toLowerCase())===O.contractAddress.toLowerCase():R?G.isTokenTransfer&&((ke=G.tokenSymbol)==null?void 0:ke.toUpperCase())===(b==null?void 0:b.toUpperCase()):!1});E(re)}catch(U){console.error("Failed to fetch transactions:",U)}finally{_(!1)}})()},[j==null?void 0:j.id,D==null?void 0:D.id,r,T,O,R,b]),F.useEffect(()=>{if(!e)return;const Q=_fe.subscribe(U=>{const J=U.filter(Z=>{var re;return Z.chainId!==e?!1:T?Z.tokenSymbol===(D==null?void 0:D.symbol):((re=Z.tokenSymbol)==null?void 0:re.toUpperCase())===(b==null?void 0:b.toUpperCase())});B(J)});return()=>Q()},[e,D==null?void 0:D.symbol,T,b]);const C=async()=>{if(j){x(!0);try{await l(j.id);const Q=await Dy();m(Q),n({title:"Refreshed",description:"Balance updated successfully"})}catch{n({title:"Error",description:"Failed to refresh",variant:"destructive"})}finally{x(!1)}}},$=(Q,U)=>{navigator.clipboard.writeText(Q),n({title:"Copied",description:`${U} copied to clipboard`})};return!D||!j?d.jsxs("div",{className:"p-4",children:[d.jsx(dl,{href:"/",children:d.jsxs(Te,{variant:"ghost",size:"sm",children:[d.jsx(G3,{className:"h-4 w-4 mr-2"}),"Back"]})}),d.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Token not found"})]}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("div",{className:"sticky top-0 z-50 bg-background border-b",children:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>s(`/?chain=${e}&wallet=${(j==null?void 0:j.id)||""}`),"data-testid":"button-back",children:d.jsx(G3,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[T?d.jsx(Yn,{symbol:b||"",size:"md"}):k9(r||"",R==null?void 0:R.image)?d.jsx("img",{src:k9(r||"",R==null?void 0:R.image),alt:w||"",className:"h-8 w-8 rounded-full bg-muted"}):d.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-sm font-bold",children:(b||"").slice(0,2)}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-semibold",children:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b})]})]})]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:C,disabled:v,"data-testid":"button-refresh",children:d.jsx(l1,{className:`h-4 w-4 ${v?"animate-spin":""}`})})]})}),d.jsxs("div",{className:"p-4 space-y-6",children:[d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"flex justify-center mb-4",children:T?d.jsx(Yn,{symbol:b||"",size:"lg"}):k9(r||"",R==null?void 0:R.image)?d.jsx("img",{src:k9(r||"",R==null?void 0:R.image),alt:w||"",className:"h-16 w-16 rounded-full bg-muted"}):d.jsx("div",{className:"h-16 w-16 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-2xl font-bold",children:(b||"").slice(0,2)})}),d.jsxs("h2",{className:"text-3xl font-bold","data-testid":"text-token-balance",children:[CC(p)," ",b]}),d.jsx("p",{className:"text-xl text-muted-foreground","data-testid":"text-token-value",children:xd(y)}),I>0&&d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:xd(I)}),d.jsxs(rr,{variant:A>=0?"default":"destructive",className:"text-xs",children:[A>=0?d.jsx(Lwe,{className:"h-3 w-3 mr-1"}):d.jsx(zwe,{className:"h-3 w-3 mr-1"}),A>=0?"+":"",A.toFixed(2),"%"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(dl,{href:`/transfer?type=send&chain=${e}&token=${T?"native":(O==null?void 0:O.id)||r}`,children:d.jsxs(Te,{className:"w-full h-12 rounded-xl","data-testid":"button-send-token",children:[d.jsx(sx,{className:"h-5 w-5 mr-2"}),"Send"]})}),d.jsx(dl,{href:`/transfer?type=receive&chain=${e}`,children:d.jsxs(Te,{className:"w-full h-12 rounded-xl",variant:"outline","data-testid":"button-receive-token",children:[d.jsx(Y3,{className:"h-5 w-5 mr-2"}),"Receive"]})})]}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-3",children:[d.jsx("h3",{className:"font-semibold",children:"Token Info"}),d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Network"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:D.symbol,size:"sm"}),d.jsx("span",{children:D.name})]})]}),g&&d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contract"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono text-sm",children:NY(g)}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>$(g,"Contract address"),children:d.jsx(Oo,{className:"h-3 w-3"})})]})]}),j.address&&d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Your Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono text-sm",children:NY(j.address)}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>$(j.address,"Address"),children:d.jsx(Oo,{className:"h-3 w-3"})})]})]}),O&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:O.decimals})]})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-3",children:"Recent Activity"}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4",children:[M.length>0&&d.jsx("div",{className:"space-y-3 mb-4",children:M.map(Q=>{var J;const U=Q.requiredConfirmations>0?Math.min(Q.currentConfirmations/Q.requiredConfirmations*100,100):0;return d.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900",children:Q.status==="confirmed"?d.jsx(S0,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):Q.status==="failed"?d.jsx(Yte,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):d.jsx(fl,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 animate-spin"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:Q.status==="pending"?"Broadcasting...":Q.status==="confirming"?"Confirming...":Q.status==="confirmed"?"Confirmed":"Failed"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[(J=Q.txHash)==null?void 0:J.slice(0,10),"..."]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-medium",children:["-",CC(Q.amount)," ",Q.tokenSymbol]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Q.status==="confirmed"?"Complete":`${Q.currentConfirmations}/${Q.requiredConfirmations} confirmations`})]})]}),Q.status!=="confirmed"&&Q.status!=="failed"&&d.jsx(Obe,{value:U,className:"h-2"})]},Q.id)})}),P?d.jsx("p",{className:"text-center text-muted-foreground py-6",children:"Loading transactions..."}):k.length===0&&M.length===0?d.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No transactions yet"}):k.length>0?d.jsx("div",{className:"space-y-3",children:k.slice(0,5).map(Q=>{var U;return d.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0 cursor-pointer hover-elevate rounded-md px-2 -mx-2",onClick:()=>{const J=new URLSearchParams({hash:Q.txHash,chain:e||"",type:Q.type,amount:Q.amount,token:Q.tokenSymbol,from:Q.fromAddress,to:Q.toAddress,time:Q.timestamp,status:Q.status});s(`/transaction?${J.toString()}`)},"data-testid":`transaction-${(U=Q.txHash)==null?void 0:U.slice(0,8)}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${Q.type==="receive"?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:Q.type==="receive"?d.jsx(Y3,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):d.jsx(sx,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium capitalize",children:Q.type}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a3t(Q.timestamp)})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:`font-medium ${Q.type==="receive"?"text-green-600":""}`,children:[Q.type==="receive"?"+":"-",CC(Q.amount)," ",Q.tokenSymbol]})})]},Q.txHash)})}):null]})})]})]})]})}function c3t(){const{toast:t}=ki(),e=new URLSearchParams(window.location.search),r=e.get("hash"),n=e.get("chain"),s=e.get("type"),i=e.get("amount"),a=e.get("token"),o=e.get("from"),c=e.get("to"),l=e.get("time"),u=e.get("status"),f=n?parseInt(n.replace("chain-","")):0,h=Ui[f],m=(h==null?void 0:h.blockExplorer)||"https://etherscan.io",v=(_,M)=>{navigator.clipboard.writeText(_),t({title:"Copied",description:`${M} copied to clipboard`})},x=_=>_?`${_.slice(0,10)}...${_.slice(-8)}`:"Unknown",k=_=>_?new Date(_).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Unknown",E=()=>{switch(u){case"confirmed":return d.jsx(zT,{className:"w-5 h-5 text-green-500"});case"pending":return d.jsx(fl,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"failed":return d.jsx(Yte,{className:"w-5 h-5 text-red-500"});default:return d.jsx($we,{className:"w-5 h-5 text-muted-foreground"})}},P=()=>{switch(u){case"confirmed":return"bg-green-500/10 text-green-600 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"failed":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-muted text-muted-foreground"}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),"data-testid":"button-back",children:d.jsx(G3,{className:"w-5 h-5"})}),d.jsx("h1",{className:"text-lg font-semibold",children:"Transaction Details"})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col items-center py-6",children:[d.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${s==="receive"?"bg-green-500/10":"bg-red-500/10"}`,children:s==="receive"?d.jsx(Y3,{className:"w-8 h-8 text-green-500"}):d.jsx(sx,{className:"w-8 h-8 text-red-500"})}),d.jsxs("h2",{className:`text-2xl font-bold ${s==="receive"?"text-green-500":"text-red-500"}`,"data-testid":"text-amount",children:[s==="receive"?"+":"-",i," ",a]}),d.jsx("p",{className:"text-muted-foreground capitalize mt-1","data-testid":"text-type",children:s==="receive"?"Received":"Sent"})]}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status"}),d.jsx(rr,{variant:"outline",className:P(),children:d.jsxs("span",{className:"flex items-center gap-1.5",children:[E(),d.jsx("span",{className:"capitalize",children:u||"Unknown"})]})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Date"}),d.jsx("span",{className:"text-sm","data-testid":"text-date",children:k(l)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Network"}),d.jsx("span",{"data-testid":"text-network",children:(h==null?void 0:h.name)||"Unknown"})]})]})}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"From"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm","data-testid":"text-from",children:x(o)}),o&&d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>v(o,"Address"),"data-testid":"button-copy-from",children:d.jsx(Oo,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"To"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm","data-testid":"text-to",children:x(c)}),c&&d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>v(c,"Address"),"data-testid":"button-copy-to",children:d.jsx(Oo,{className:"w-4 h-4"})})]})]})]})}),d.jsx(Gt,{children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"Transaction Hash"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm truncate flex-1 mr-2","data-testid":"text-hash",children:r?`${r.slice(0,16)}...${r.slice(-12)}`:"Unknown"}),d.jsx("div",{className:"flex gap-1",children:r&&d.jsxs(d.Fragment,{children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>v(r,"Transaction hash"),"data-testid":"button-copy-hash",children:d.jsx(Oo,{className:"w-4 h-4"})}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>window.open(`${m}/tx/${r}`,"_blank"),"data-testid":"button-explorer",children:d.jsx(ax,{className:"w-4 h-4"})})]})})]})]})})}),d.jsxs(Te,{variant:"outline",className:"w-full",onClick:()=>window.open(`${m}/tx/${r}`,"_blank"),"data-testid":"button-view-explorer",children:[d.jsx(ax,{className:"w-4 h-4 mr-2"}),"View on Block Explorer"]})]})]})}function l3t(){const[,t]=sf();Yi();const[e,r]=F.useState(""),[n,s]=F.useState(""),[i,a]=F.useState(null),[o,c]=F.useState(!1),[l,u]=F.useState(!1),[f,h]=F.useState(!1),[m,v]=F.useState(!1),x=F.useRef(null);F.useEffect(()=>()=>{x.current&&x.current.close()},[]);const[k,E]=F.useState(null),P=async()=>{h(!0),E(null);try{const T=await fetch("/api/bridge/create",{method:"POST"});if(!T.ok)throw new Error("Failed to create bridge session");const R=await T.json();r(R.sessionId),a("desktop"),M(R.sessionId,"desktop")}catch(T){console.error("Failed to create session:",T),E(T.message||"Failed to create session. Please try again."),h(!1)}},_=()=>{n.trim()&&(h(!0),E(null),r(n.toUpperCase()),a("mobile"),M(n.toUpperCase(),"mobile"))},M=(T,R)=>{const H=window.location.protocol==="https:"?"wss:":"ws:",O=new WebSocket(`${H}//${window.location.host}/ws/bridge?sessionId=${T}&role=${R}`);O.onopen=()=>{c(!0),h(!1)},O.onmessage=b=>{try{const w=JSON.parse(b.data);w.type==="desktop_connected"||w.type==="mobile_connected"?u(!0):w.type==="desktop_disconnected"||w.type==="mobile_disconnected"?u(!1):w.type==="connected"&&c(!0),R==="desktop"&&w.from==="mobile"&&w.type==="pico_command"&&B(w,O),R==="mobile"&&w.from==="desktop"&&w.type==="pico_response"&&window.dispatchEvent(new CustomEvent("bridge_pico_response",{detail:w}))}catch(w){console.error("WebSocket message error:",w)}},O.onclose=()=>{c(!1),u(!1)},O.onerror=()=>{h(!1),E("Failed to connect. Please check your network and try again.")},x.current=O},B=async(T,R)=>{try{const{piWallet:H}=await Km(async()=>{const{piWallet:b}=await Promise.resolve().then(()=>iBe);return{piWallet:b}},void 0);let O;switch(T.command){case"ping":O=await H.ping();break;case"getStatus":O=await H.getStatus();break;case"unlock":O=await H.unlock(T.pin);break;case"sendCommand":O=await H.sendCommand(T.cmd,T.params);break;default:O={error:"Unknown command"}}R.send(JSON.stringify({type:"pico_response",requestId:T.requestId,response:O}))}catch(H){R.send(JSON.stringify({type:"pico_response",requestId:T.requestId,error:H.message}))}},D=()=>{navigator.clipboard.writeText(e),v(!0),setTimeout(()=>v(!1),2e3)},j=`${window.location.origin}/bridge?join=${e}`;return F.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("join");R&&s(R)},[]),d.jsx("div",{className:"flex-1 overflow-auto p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Mobile Bridge"}),d.jsx("p",{className:"text-muted-foreground",children:"Connect your mobile device to access your Pico hardware wallet"})]}),k&&d.jsx(fn,{variant:"destructive",children:d.jsx(hn,{children:k})}),o?d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs($n,{className:"flex items-center justify-between gap-2",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[i==="desktop"?d.jsx(wL,{className:"h-5 w-5"}):d.jsx(ox,{className:"h-5 w-5"}),i==="desktop"?"Desktop Bridge Active":"Mobile Connected"]}),d.jsx(rr,{variant:l?"default":"secondary",children:l?d.jsxs(d.Fragment,{children:[d.jsx(are,{className:"h-3 w-3 mr-1"})," Paired"]}):d.jsxs(d.Fragment,{children:[d.jsx(qwe,{className:"h-3 w-3 mr-1"})," Waiting"]})})]})}),d.jsxs(er,{className:"space-y-4",children:[i==="desktop"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Session Code:"}),d.jsx("code",{className:"text-2xl font-mono font-bold tracking-widest","data-testid":"text-session-code",children:e}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:D,"data-testid":"button-copy-code",children:m?d.jsx(Ga,{className:"h-4 w-4"}):d.jsx(Oo,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"bg-white p-4 rounded-lg",children:d.jsx(lD,{value:j,size:180})})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan this QR code with your mobile device or enter the code manually"})]}),l?d.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400",children:[d.jsx(Ga,{className:"h-5 w-5"}),d.jsx("span",{children:"Mobile device connected! You can now use the wallet on your phone."})]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[d.jsx(fl,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Waiting for mobile device to connect..."})]})]}),i==="mobile"&&d.jsx("div",{className:"text-center space-y-4",children:l?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400",children:[d.jsx(Ga,{className:"h-5 w-5"}),d.jsx("span",{children:"Connected to desktop!"})]}),d.jsx(Te,{onClick:()=>t("/"),"data-testid":"button-go-dashboard",children:"Go to Dashboard"})]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[d.jsx(fl,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Waiting for desktop connection..."})]})})]})]}):d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(Gt,{children:[d.jsxs(jn,{children:[d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(wL,{className:"h-5 w-5"}),"Desktop (Host)"]}),d.jsx(Qg,{children:"Connect your Pico to this computer and create a session"})]}),d.jsx(er,{children:d.jsxs(Te,{onClick:P,disabled:f,className:"w-full","data-testid":"button-create-session",children:[f?d.jsx(fl,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Bridge Session"]})})]}),d.jsxs(Gt,{children:[d.jsxs(jn,{children:[d.jsxs($n,{className:"flex items-center gap-2",children:[d.jsx(ox,{className:"h-5 w-5"}),"Mobile (Client)"]}),d.jsx(Qg,{children:"Enter the session code from your desktop"})]}),d.jsxs(er,{className:"space-y-3",children:[d.jsx(ir,{placeholder:"Session Code (e.g., ABC123)",value:n,onChange:T=>s(T.target.value.toUpperCase()),maxLength:6,"data-testid":"input-session-code"}),d.jsxs(Te,{onClick:_,disabled:f||!n.trim(),className:"w-full","data-testid":"button-join-session",children:[f?d.jsx(fl,{className:"h-4 w-4 animate-spin mr-2"}):null,"Join Session"]})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsx($n,{children:"How It Works"})}),d.jsxs(er,{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"1."})," On your desktop/laptop, connect your Raspberry Pi Pico via USB"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"2."})," Create a bridge session on the desktop"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"3."})," Scan the QR code or enter the session code on your mobile device"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"4."})," Your mobile app will communicate with the Pico through the desktop"]})]})]})]})})}function u3t(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(Gt,{className:"w-full max-w-md mx-4",children:d.jsxs(er,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(j4,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function d3t(){return d.jsxs(Xxe,{children:[d.jsx($c,{path:"/",component:Cqe}),d.jsx($c,{path:"/wallet/:chainId/token/:tokenId",component:o3t}),d.jsx($c,{path:"/transaction",component:c3t}),d.jsx($c,{path:"/transfer",component:Kqe}),d.jsx($c,{path:"/chains",component:Gqe}),d.jsx($c,{path:"/settings",component:E2t}),d.jsx($c,{path:"/setup",component:_2t}),d.jsx($c,{path:"/manage-crypto",component:j2t}),d.jsx($c,{path:"/dapps",component:Zwt}),d.jsx($c,{path:"/dapp-browser",component:Jwt}),d.jsx($c,{path:"/bridge",component:l3t}),d.jsx($c,{component:u3t})]})}function f3t(){const t={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return d.jsx(m2e,{client:T2e,children:d.jsx(E5e,{children:d.jsx(CDe,{children:d.jsxs(Wre,{children:[d.jsxs(b5e,{style:t,children:[d.jsxs("div",{className:"flex h-screen w-full",children:[d.jsx(jDe,{}),d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsxs("header",{className:"flex h-14 items-center justify-between gap-4 border-b border-border px-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($s,{className:"h-5 w-5 text-primary"}),d.jsx("span",{className:"font-semibold text-lg",children:"VaultKey"})]}),d.jsx(sWe,{})]}),d.jsx("main",{className:"flex-1 overflow-auto pb-28 md:pb-0",children:d.jsx(d3t,{})})]})]}),d.jsx(zWe,{})]}),d.jsx(UWe,{}),d.jsx(E3e,{})]})})})})}Yee(document.getElementById("root")).render(d.jsx(f3t,{}));export{_$ as $,Ia as A,g$ as B,m2 as C,fFe as D,hu as E,$h as F,L1 as G,Li as H,h$ as I,g2 as J,j6 as K,mh as L,SFe as M,_d as N,is as O,Lt as P,lr as Q,cR as R,PFe as S,y1 as T,mce as U,Fn as V,XFe as W,Mk as X,Hs as Y,ZFe as Z,qp as _,cf as a,Q4 as a$,vl as a0,YFe as a1,QFe as a2,mn as a3,Qa as a4,e6t as a5,r6t as a6,t6t as a7,EFe as a8,CFe as a9,RW as aA,KE as aB,Y4 as aC,EOe as aD,F$e as aE,WOe as aF,Ck as aG,qi as aH,yx as aI,mc as aJ,Kg as aK,_Oe as aL,ece as aM,M6 as aN,Ma as aO,Kp as aP,nce as aQ,UTe as aR,S$ as aS,_Fe as aT,I6 as aU,uW as aV,qie as aW,Kie as aX,am as aY,yoe as aZ,z3t as a_,A1 as aa,TOe as ab,oh as ac,OOe as ad,MOe as ae,sR as af,sce as ag,$k as ah,JA as ai,COe as aj,Io as ak,q3t as al,Pd as am,nR as an,Yie as ao,Lf as ap,zW as aq,qW as ar,qTe as as,Tp as at,rFe as au,VA as av,x1 as aw,kd as ax,jk as ay,F6 as az,h2 as b,$6 as b0,Tn as b1,OTe as b2,FTe as b3,Z4 as b4,e_ as b5,aOe as b6,Qie as b7,BTe as b8,zd as b9,jTe as bA,U3t as bB,eje as bC,J3t as bD,Y3t as bE,G3t as bF,Wie as bG,iOe as ba,lae as bb,vk as bc,UA as bd,n6t as be,Vi as bf,X3t as bg,K3t as bh,s6t as bi,yk as bj,voe as bk,Uoe as bl,Z3t as bm,poe as bn,bk as bo,RB as bp,Q3t as bq,ng as br,d$ as bs,GTe as bt,cae as bu,Pk as bv,hi as bw,D3t as bx,jh as by,X4 as bz,d2 as c,ts as d,KB as e,he as f,tn as g,xt as h,wt as i,jr as j,On as k,Jie as l,ds as m,$y as n,TTe as o,z1 as p,LA as q,Hi as r,f2 as s,$a as t,Jt as u,lce as v,BOe as w,lt as x,V$e as y,Th as z};
