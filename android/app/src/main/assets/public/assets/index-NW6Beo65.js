var Gbe=Object.defineProperty;var XU=t=>{throw TypeError(t)};var eye=(t,e,r)=>e in t?Gbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>eye(t,typeof e!="symbol"?e+"":e,r),dN=(t,e,r)=>e.has(t)||XU("Cannot "+r);var K=(t,e,r)=>(dN(t,e,"read from private field"),r?r.call(t):e.get(t)),Ne=(t,e,r)=>e.has(t)?XU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),oe=(t,e,r,n)=>(dN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ye=(t,e,r)=>(dN(t,e,"access private method"),r);var Yh=(t,e,r,n)=>({set _(s){oe(t,e,s,r)},get _(){return K(t,e,n)}});function KY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function La(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var XY={exports:{}},pP={},ZY={exports:{}},Br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4=Symbol.for("react.element"),tye=Symbol.for("react.portal"),rye=Symbol.for("react.fragment"),nye=Symbol.for("react.strict_mode"),sye=Symbol.for("react.profiler"),iye=Symbol.for("react.provider"),aye=Symbol.for("react.context"),oye=Symbol.for("react.forward_ref"),cye=Symbol.for("react.suspense"),lye=Symbol.for("react.memo"),uye=Symbol.for("react.lazy"),ZU=Symbol.iterator;function dye(t){return t===null||typeof t!="object"?null:(t=ZU&&t[ZU]||t["@@iterator"],typeof t=="function"?t:null)}var JY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QY=Object.assign,YY={};function Qx(t,e,r){this.props=t,this.context=e,this.refs=YY,this.updater=r||JY}Qx.prototype.isReactComponent={};Qx.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qx.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GY(){}GY.prototype=Qx.prototype;function TO(t,e,r){this.props=t,this.context=e,this.refs=YY,this.updater=r||JY}var jO=TO.prototype=new GY;jO.constructor=TO;QY(jO,Qx.prototype);jO.isPureReactComponent=!0;var JU=Array.isArray,eG=Object.prototype.hasOwnProperty,MO={current:null},tG={key:!0,ref:!0,__self:!0,__source:!0};function rG(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)eG.call(e,n)&&!tG.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:_4,type:t,key:i,ref:a,props:s,_owner:MO.current}}function fye(t,e){return{$$typeof:_4,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $O(t){return typeof t=="object"&&t!==null&&t.$$typeof===_4}function hye(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var QU=/\/+/g;function fN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hye(""+t.key):e.toString(36)}function T9(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _4:case tye:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+fN(a,0):n,JU(s)?(r="",t!=null&&(r=t.replace(QU,"$&/")+"/"),T9(s,e,r,"",function(l){return l})):s!=null&&($O(s)&&(s=fye(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(QU,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",JU(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+fN(i,o);a+=T9(i,e,r,c,s)}else if(c=dye(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+fN(i,o++),a+=T9(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function X5(t,e,r){if(t==null)return t;var n=[],s=0;return T9(t,n,"","",function(i){return e.call(r,i,s++)}),n}function pye(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var io={current:null},j9={transition:null},mye={ReactCurrentDispatcher:io,ReactCurrentBatchConfig:j9,ReactCurrentOwner:MO};function nG(){throw Error("act(...) is not supported in production builds of React.")}Br.Children={map:X5,forEach:function(t,e,r){X5(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return X5(t,function(){e++}),e},toArray:function(t){return X5(t,function(e){return e})||[]},only:function(t){if(!$O(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Br.Component=Qx;Br.Fragment=rye;Br.Profiler=sye;Br.PureComponent=TO;Br.StrictMode=nye;Br.Suspense=cye;Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mye;Br.act=nG;Br.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=QY({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=MO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)eG.call(e,c)&&!tG.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:_4,type:t.type,key:s,ref:i,props:n,_owner:a}};Br.createContext=function(t){return t={$$typeof:aye,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iye,_context:t},t.Consumer=t};Br.createElement=rG;Br.createFactory=function(t){var e=rG.bind(null,t);return e.type=t,e};Br.createRef=function(){return{current:null}};Br.forwardRef=function(t){return{$$typeof:oye,render:t}};Br.isValidElement=$O;Br.lazy=function(t){return{$$typeof:uye,_payload:{_status:-1,_result:t},_init:pye}};Br.memo=function(t,e){return{$$typeof:lye,type:t,compare:e===void 0?null:e}};Br.startTransition=function(t){var e=j9.transition;j9.transition={};try{t()}finally{j9.transition=e}};Br.unstable_act=nG;Br.useCallback=function(t,e){return io.current.useCallback(t,e)};Br.useContext=function(t){return io.current.useContext(t)};Br.useDebugValue=function(){};Br.useDeferredValue=function(t){return io.current.useDeferredValue(t)};Br.useEffect=function(t,e){return io.current.useEffect(t,e)};Br.useId=function(){return io.current.useId()};Br.useImperativeHandle=function(t,e,r){return io.current.useImperativeHandle(t,e,r)};Br.useInsertionEffect=function(t,e){return io.current.useInsertionEffect(t,e)};Br.useLayoutEffect=function(t,e){return io.current.useLayoutEffect(t,e)};Br.useMemo=function(t,e){return io.current.useMemo(t,e)};Br.useReducer=function(t,e,r){return io.current.useReducer(t,e,r)};Br.useRef=function(t){return io.current.useRef(t)};Br.useState=function(t){return io.current.useState(t)};Br.useSyncExternalStore=function(t,e,r){return io.current.useSyncExternalStore(t,e,r)};Br.useTransition=function(){return io.current.useTransition()};Br.version="18.3.1";ZY.exports=Br;var B=ZY.exports;const Yr=La(B),sG=KY({__proto__:null,default:Yr},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gye=B,bye=Symbol.for("react.element"),yye=Symbol.for("react.fragment"),vye=Object.prototype.hasOwnProperty,xye=gye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wye={key:!0,ref:!0,__self:!0,__source:!0};function iG(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)vye.call(e,n)&&!wye.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:bye,type:t,key:i,ref:a,props:s,_owner:xye.current}}pP.Fragment=yye;pP.jsx=iG;pP.jsxs=iG;XY.exports=pP;var d=XY.exports,aG={exports:{}},wc={},oG={exports:{}},cG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var v=P.length;P.push(A);e:for(;0<v;){var E=v-1>>>1,M=P[E];if(0<s(M,A))P[E]=A,P[v]=M,v=E;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],v=P.pop();if(v!==A){P[0]=v;e:for(var E=0,M=P.length,L=M>>>1;E<L;){var Q=2*(E+1)-1,U=P[Q],J=Q+1,Z=P[J];if(0>s(U,v))J<M&&0>s(Z,U)?(P[E]=Z,P[J]=v,E=J):(P[E]=U,P[Q]=v,E=Q);else if(J<M&&0>s(Z,v))P[E]=Z,P[J]=v,E=J;else break e}}return A}function s(P,A){var v=P.sortIndex-A.sortIndex;return v!==0?v:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,f=null,h=3,m=!1,y=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var A=r(l);A!==null;){if(A.callback===null)n(l);else if(A.startTime<=P)n(l),A.sortIndex=A.expirationTime,e(c,A);else break;A=r(l)}}function O(P){if(x=!1,_(P),!y)if(r(c)!==null)y=!0,S(F);else{var A=r(l);A!==null&&N(O,A.startTime-P)}}function F(P,A){y=!1,x&&(x=!1,C(T),T=-1),m=!0;var v=h;try{for(_(A),f=r(c);f!==null&&(!(f.expirationTime>A)||P&&!$());){var E=f.callback;if(typeof E=="function"){f.callback=null,h=f.priorityLevel;var M=E(f.expirationTime<=A);A=t.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),_(A)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var Q=r(l);Q!==null&&N(O,Q.startTime-A),L=!1}return L}finally{f=null,h=v,m=!1}}var D=!1,j=null,T=-1,R=5,q=-1;function $(){return!(t.unstable_now()-q<R)}function b(){if(j!==null){var P=t.unstable_now();q=P;var A=!0;try{A=j(!0,P)}finally{A?w():(D=!1,j=null)}}else D=!1}var w;if(typeof I=="function")w=function(){I(b)};else if(typeof MessageChannel<"u"){var p=new MessageChannel,g=p.port2;p.port1.onmessage=b,w=function(){g.postMessage(null)}}else w=function(){k(b,0)};function S(P){j=P,D||(D=!0,w())}function N(P,A){T=k(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,S(F))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var v=h;h=A;try{return P()}finally{h=v}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var v=h;h=P;try{return A()}finally{h=v}},t.unstable_scheduleCallback=function(P,A,v){var E=t.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?E+v:E):v=E,P){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=v+M,P={id:u++,callback:A,priorityLevel:P,startTime:v,expirationTime:M,sortIndex:-1},v>E?(P.sortIndex=v,e(l,P),r(c)===null&&P===r(l)&&(x?(C(T),T=-1):x=!0,N(O,v-E))):(P.sortIndex=M,e(c,P),y||m||(y=!0,S(F))),P},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(P){var A=h;return function(){var v=h;h=A;try{return P.apply(this,arguments)}finally{h=v}}}})(cG);oG.exports=cG;var Aye=oG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sye=B,gc=Aye;function Et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lG=new Set,R3={};function F1(t,e){tx(t,e),tx(t+"Capture",e)}function tx(t,e){for(R3[t]=e,t=0;t<e.length;t++)lG.add(e[t])}var Ph=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U_=Object.prototype.hasOwnProperty,Pye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YU={},GU={};function kye(t){return U_.call(GU,t)?!0:U_.call(YU,t)?!1:Pye.test(t)?GU[t]=!0:(YU[t]=!0,!1)}function Iye(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nye(t,e,r,n){if(e===null||typeof e>"u"||Iye(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ao(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ki[t]=new ao(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ki[e]=new ao(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ki[t]=new ao(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ki[t]=new ao(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ki[t]=new ao(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ki[t]=new ao(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ki[t]=new ao(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ki[t]=new ao(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ki[t]=new ao(t,5,!1,t.toLowerCase(),null,!1,!1)});var OO=/[\-:]([a-z])/g;function BO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OO,BO);Ki[e]=new ao(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OO,BO);Ki[e]=new ao(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OO,BO);Ki[e]=new ao(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ki[t]=new ao(t,1,!1,t.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ki[t]=new ao(t,1,!1,t.toLowerCase(),null,!0,!0)});function FO(t,e,r,n){var s=Ki.hasOwnProperty(e)?Ki[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nye(e,r,s,n)&&(r=null),n||s===null?kye(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Lh=Sye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z5=Symbol.for("react.element"),qb=Symbol.for("react.portal"),Wb=Symbol.for("react.fragment"),RO=Symbol.for("react.strict_mode"),z_=Symbol.for("react.profiler"),uG=Symbol.for("react.provider"),dG=Symbol.for("react.context"),DO=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),V_=Symbol.for("react.suspense_list"),UO=Symbol.for("react.memo"),$0=Symbol.for("react.lazy"),fG=Symbol.for("react.offscreen"),ez=Symbol.iterator;function Lw(t){return t===null||typeof t!="object"?null:(t=ez&&t[ez]||t["@@iterator"],typeof t=="function"?t:null)}var ps=Object.assign,hN;function $2(t){if(hN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);hN=e&&e[1]||""}return`
`+hN+t}var pN=!1;function mN(t,e){if(!t||pN)return"";pN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{pN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$2(t):""}function Eye(t){switch(t.tag){case 5:return $2(t.type);case 16:return $2("Lazy");case 13:return $2("Suspense");case 19:return $2("SuspenseList");case 0:case 2:case 15:return t=mN(t.type,!1),t;case 11:return t=mN(t.type.render,!1),t;case 1:return t=mN(t.type,!0),t;default:return""}}function H_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wb:return"Fragment";case qb:return"Portal";case z_:return"Profiler";case RO:return"StrictMode";case L_:return"Suspense";case V_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dG:return(t.displayName||"Context")+".Consumer";case uG:return(t._context.displayName||"Context")+".Provider";case DO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case UO:return e=t.displayName||null,e!==null?e:H_(t.type)||"Memo";case $0:e=t._payload,t=t._init;try{return H_(t(e))}catch{}}return null}function Cye(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H_(e);case 8:return e===RO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hG(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _ye(t){var e=hG(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function J5(t){t._valueTracker||(t._valueTracker=_ye(t))}function pG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=hG(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function V7(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q_(t,e){var r=e.checked;return ps({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tz(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Lp(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mG(t,e){e=e.checked,e!=null&&FO(t,"checked",e,!1)}function W_(t,e){mG(t,e);var r=Lp(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K_(t,e.type,r):e.hasOwnProperty("defaultValue")&&K_(t,e.type,Lp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rz(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function K_(t,e,r){(e!=="number"||V7(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var O2=Array.isArray;function Ay(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Lp(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function X_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Et(91));return ps({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nz(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Et(92));if(O2(r)){if(1<r.length)throw Error(Et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Lp(r)}}function gG(t,e){var r=Lp(e.value),n=Lp(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Q5,yG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Q5=Q5||document.createElement("div"),Q5.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Q5.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function D3(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var u3={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tye=["Webkit","ms","Moz","O"];Object.keys(u3).forEach(function(t){Tye.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),u3[e]=u3[t]})});function vG(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||u3.hasOwnProperty(t)&&u3[t]?(""+e).trim():e+"px"}function xG(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vG(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var jye=ps({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J_(t,e){if(e){if(jye[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Et(62))}}function Q_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y_=null;function zO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var G_=null,Sy=null,Py=null;function iz(t){if(t=M4(t)){if(typeof G_!="function")throw Error(Et(280));var e=t.stateNode;e&&(e=vP(e),G_(t.stateNode,t.type,e))}}function wG(t){Sy?Py?Py.push(t):Py=[t]:Sy=t}function AG(){if(Sy){var t=Sy,e=Py;if(Py=Sy=null,iz(t),e)for(t=0;t<e.length;t++)iz(e[t])}}function SG(t,e){return t(e)}function PG(){}var gN=!1;function kG(t,e,r){if(gN)return t(e,r);gN=!0;try{return SG(t,e,r)}finally{gN=!1,(Sy!==null||Py!==null)&&(PG(),AG())}}function U3(t,e){var r=t.stateNode;if(r===null)return null;var n=vP(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Et(231,e,typeof r));return r}var eT=!1;if(Ph)try{var Vw={};Object.defineProperty(Vw,"passive",{get:function(){eT=!0}}),window.addEventListener("test",Vw,Vw),window.removeEventListener("test",Vw,Vw)}catch{eT=!1}function Mye(t,e,r,n,s,i,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var d3=!1,H7=null,q7=!1,tT=null,$ye={onError:function(t){d3=!0,H7=t}};function Oye(t,e,r,n,s,i,a,o,c){d3=!1,H7=null,Mye.apply($ye,arguments)}function Bye(t,e,r,n,s,i,a,o,c){if(Oye.apply(this,arguments),d3){if(d3){var l=H7;d3=!1,H7=null}else throw Error(Et(198));q7||(q7=!0,tT=l)}}function R1(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function az(t){if(R1(t)!==t)throw Error(Et(188))}function Fye(t){var e=t.alternate;if(!e){if(e=R1(t),e===null)throw Error(Et(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return az(s),t;if(i===n)return az(s),e;i=i.sibling}throw Error(Et(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Et(189))}}if(r.alternate!==n)throw Error(Et(190))}if(r.tag!==3)throw Error(Et(188));return r.stateNode.current===r?t:e}function NG(t){return t=Fye(t),t!==null?EG(t):null}function EG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EG(t);if(e!==null)return e;t=t.sibling}return null}var CG=gc.unstable_scheduleCallback,oz=gc.unstable_cancelCallback,Rye=gc.unstable_shouldYield,Dye=gc.unstable_requestPaint,Ts=gc.unstable_now,Uye=gc.unstable_getCurrentPriorityLevel,LO=gc.unstable_ImmediatePriority,_G=gc.unstable_UserBlockingPriority,W7=gc.unstable_NormalPriority,zye=gc.unstable_LowPriority,TG=gc.unstable_IdlePriority,mP=null,Od=null;function Lye(t){if(Od&&typeof Od.onCommitFiberRoot=="function")try{Od.onCommitFiberRoot(mP,t,void 0,(t.current.flags&128)===128)}catch{}}var wu=Math.clz32?Math.clz32:qye,Vye=Math.log,Hye=Math.LN2;function qye(t){return t>>>=0,t===0?32:31-(Vye(t)/Hye|0)|0}var Y5=64,G5=4194304;function B2(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function K7(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=B2(o):(i&=a,i!==0&&(n=B2(i)))}else a=r&~s,a!==0?n=B2(a):i!==0&&(n=B2(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wu(e),s=1<<r,n|=t[r],e&=~s;return n}function Wye(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kye(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-wu(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Wye(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function rT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jG(){var t=Y5;return Y5<<=1,!(Y5&4194240)&&(Y5=64),t}function bN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function T4(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wu(e),t[e]=r}function Xye(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-wu(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function VO(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wu(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var yn=0;function MG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $G,HO,OG,BG,FG,nT=!1,e8=[],Np=null,Ep=null,Cp=null,z3=new Map,L3=new Map,q0=[],Zye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cz(t,e){switch(t){case"focusin":case"focusout":Np=null;break;case"dragenter":case"dragleave":Ep=null;break;case"mouseover":case"mouseout":Cp=null;break;case"pointerover":case"pointerout":z3.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":L3.delete(e.pointerId)}}function Hw(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=M4(e),e!==null&&HO(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Jye(t,e,r,n,s){switch(e){case"focusin":return Np=Hw(Np,t,e,r,n,s),!0;case"dragenter":return Ep=Hw(Ep,t,e,r,n,s),!0;case"mouseover":return Cp=Hw(Cp,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return z3.set(i,Hw(z3.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,L3.set(i,Hw(L3.get(i)||null,t,e,r,n,s)),!0}return!1}function RG(t){var e=sg(t.target);if(e!==null){var r=R1(e);if(r!==null){if(e=r.tag,e===13){if(e=IG(r),e!==null){t.blockedOn=e,FG(t.priority,function(){OG(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function M9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=sT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Y_=n,r.target.dispatchEvent(n),Y_=null}else return e=M4(r),e!==null&&HO(e),t.blockedOn=r,!1;e.shift()}return!0}function lz(t,e,r){M9(t)&&r.delete(e)}function Qye(){nT=!1,Np!==null&&M9(Np)&&(Np=null),Ep!==null&&M9(Ep)&&(Ep=null),Cp!==null&&M9(Cp)&&(Cp=null),z3.forEach(lz),L3.forEach(lz)}function qw(t,e){t.blockedOn===e&&(t.blockedOn=null,nT||(nT=!0,gc.unstable_scheduleCallback(gc.unstable_NormalPriority,Qye)))}function V3(t){function e(s){return qw(s,t)}if(0<e8.length){qw(e8[0],t);for(var r=1;r<e8.length;r++){var n=e8[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Np!==null&&qw(Np,t),Ep!==null&&qw(Ep,t),Cp!==null&&qw(Cp,t),z3.forEach(e),L3.forEach(e),r=0;r<q0.length;r++)n=q0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<q0.length&&(r=q0[0],r.blockedOn===null);)RG(r),r.blockedOn===null&&q0.shift()}var ky=Lh.ReactCurrentBatchConfig,X7=!0;function Yye(t,e,r,n){var s=yn,i=ky.transition;ky.transition=null;try{yn=1,qO(t,e,r,n)}finally{yn=s,ky.transition=i}}function Gye(t,e,r,n){var s=yn,i=ky.transition;ky.transition=null;try{yn=4,qO(t,e,r,n)}finally{yn=s,ky.transition=i}}function qO(t,e,r,n){if(X7){var s=sT(t,e,r,n);if(s===null)NN(t,e,n,Z7,r),cz(t,n);else if(Jye(s,t,e,r,n))n.stopPropagation();else if(cz(t,n),e&4&&-1<Zye.indexOf(t)){for(;s!==null;){var i=M4(s);if(i!==null&&$G(i),i=sT(t,e,r,n),i===null&&NN(t,e,n,Z7,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else NN(t,e,n,null,r)}}var Z7=null;function sT(t,e,r,n){if(Z7=null,t=zO(n),t=sg(t),t!==null)if(e=R1(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IG(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Z7=t,null}function DG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uye()){case LO:return 1;case _G:return 4;case W7:case zye:return 16;case TG:return 536870912;default:return 16}default:return 16}}var xp=null,WO=null,$9=null;function UG(){if($9)return $9;var t,e=WO,r=e.length,n,s="value"in xp?xp.value:xp.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return $9=s.slice(t,1<n?1-n:void 0)}function O9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function t8(){return!0}function uz(){return!1}function Ac(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?t8:uz,this.isPropagationStopped=uz,this}return ps(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=t8)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=t8)},persist:function(){},isPersistent:t8}),e}var Yx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KO=Ac(Yx),j4=ps({},Yx,{view:0,detail:0}),eve=Ac(j4),yN,vN,Ww,gP=ps({},j4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ww&&(Ww&&t.type==="mousemove"?(yN=t.screenX-Ww.screenX,vN=t.screenY-Ww.screenY):vN=yN=0,Ww=t),yN)},movementY:function(t){return"movementY"in t?t.movementY:vN}}),dz=Ac(gP),tve=ps({},gP,{dataTransfer:0}),rve=Ac(tve),nve=ps({},j4,{relatedTarget:0}),xN=Ac(nve),sve=ps({},Yx,{animationName:0,elapsedTime:0,pseudoElement:0}),ive=Ac(sve),ave=ps({},Yx,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ove=Ac(ave),cve=ps({},Yx,{data:0}),fz=Ac(cve),lve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dve[t])?!!e[t]:!1}function XO(){return fve}var hve=ps({},j4,{key:function(t){if(t.key){var e=lve[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=O9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uve[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XO,charCode:function(t){return t.type==="keypress"?O9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?O9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pve=Ac(hve),mve=ps({},gP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hz=Ac(mve),gve=ps({},j4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XO}),bve=Ac(gve),yve=ps({},Yx,{propertyName:0,elapsedTime:0,pseudoElement:0}),vve=Ac(yve),xve=ps({},gP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wve=Ac(xve),Ave=[9,13,27,32],ZO=Ph&&"CompositionEvent"in window,f3=null;Ph&&"documentMode"in document&&(f3=document.documentMode);var Sve=Ph&&"TextEvent"in window&&!f3,zG=Ph&&(!ZO||f3&&8<f3&&11>=f3),pz=" ",mz=!1;function LG(t,e){switch(t){case"keyup":return Ave.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kb=!1;function Pve(t,e){switch(t){case"compositionend":return VG(e);case"keypress":return e.which!==32?null:(mz=!0,pz);case"textInput":return t=e.data,t===pz&&mz?null:t;default:return null}}function kve(t,e){if(Kb)return t==="compositionend"||!ZO&&LG(t,e)?(t=UG(),$9=WO=xp=null,Kb=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zG&&e.locale!=="ko"?null:e.data;default:return null}}var Ive={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ive[t.type]:e==="textarea"}function HG(t,e,r,n){wG(n),e=J7(e,"onChange"),0<e.length&&(r=new KO("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var h3=null,H3=null;function Nve(t){tee(t,0)}function bP(t){var e=Jb(t);if(pG(e))return t}function Eve(t,e){if(t==="change")return e}var qG=!1;if(Ph){var wN;if(Ph){var AN="oninput"in document;if(!AN){var bz=document.createElement("div");bz.setAttribute("oninput","return;"),AN=typeof bz.oninput=="function"}wN=AN}else wN=!1;qG=wN&&(!document.documentMode||9<document.documentMode)}function yz(){h3&&(h3.detachEvent("onpropertychange",WG),H3=h3=null)}function WG(t){if(t.propertyName==="value"&&bP(H3)){var e=[];HG(e,H3,t,zO(t)),kG(Nve,e)}}function Cve(t,e,r){t==="focusin"?(yz(),h3=e,H3=r,h3.attachEvent("onpropertychange",WG)):t==="focusout"&&yz()}function _ve(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bP(H3)}function Tve(t,e){if(t==="click")return bP(e)}function jve(t,e){if(t==="input"||t==="change")return bP(e)}function Mve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Iu=typeof Object.is=="function"?Object.is:Mve;function q3(t,e){if(Iu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!U_.call(e,s)||!Iu(t[s],e[s]))return!1}return!0}function vz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xz(t,e){var r=vz(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vz(r)}}function KG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XG(){for(var t=window,e=V7();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=V7(t.document)}return e}function JO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $ve(t){var e=XG(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&KG(r.ownerDocument.documentElement,r)){if(n!==null&&JO(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=xz(r,i);var a=xz(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ove=Ph&&"documentMode"in document&&11>=document.documentMode,Xb=null,iT=null,p3=null,aT=!1;function wz(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aT||Xb==null||Xb!==V7(n)||(n=Xb,"selectionStart"in n&&JO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),p3&&q3(p3,n)||(p3=n,n=J7(iT,"onSelect"),0<n.length&&(e=new KO("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xb)))}function r8(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zb={animationend:r8("Animation","AnimationEnd"),animationiteration:r8("Animation","AnimationIteration"),animationstart:r8("Animation","AnimationStart"),transitionend:r8("Transition","TransitionEnd")},SN={},ZG={};Ph&&(ZG=document.createElement("div").style,"AnimationEvent"in window||(delete Zb.animationend.animation,delete Zb.animationiteration.animation,delete Zb.animationstart.animation),"TransitionEvent"in window||delete Zb.transitionend.transition);function yP(t){if(SN[t])return SN[t];if(!Zb[t])return t;var e=Zb[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZG)return SN[t]=e[r];return t}var JG=yP("animationend"),QG=yP("animationiteration"),YG=yP("animationstart"),GG=yP("transitionend"),eee=new Map,Az="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function am(t,e){eee.set(t,e),F1(e,[t])}for(var PN=0;PN<Az.length;PN++){var kN=Az[PN],Bve=kN.toLowerCase(),Fve=kN[0].toUpperCase()+kN.slice(1);am(Bve,"on"+Fve)}am(JG,"onAnimationEnd");am(QG,"onAnimationIteration");am(YG,"onAnimationStart");am("dblclick","onDoubleClick");am("focusin","onFocus");am("focusout","onBlur");am(GG,"onTransitionEnd");tx("onMouseEnter",["mouseout","mouseover"]);tx("onMouseLeave",["mouseout","mouseover"]);tx("onPointerEnter",["pointerout","pointerover"]);tx("onPointerLeave",["pointerout","pointerover"]);F1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));F1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));F1("onBeforeInput",["compositionend","keypress","textInput","paste"]);F1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));F1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));F1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rve=new Set("cancel close invalid load scroll toggle".split(" ").concat(F2));function Sz(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Bye(n,e,void 0,t),t.currentTarget=null}function tee(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Sz(s,o,l),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,l=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Sz(s,o,l),i=c}}}if(q7)throw t=tT,q7=!1,tT=null,t}function Vn(t,e){var r=e[dT];r===void 0&&(r=e[dT]=new Set);var n=t+"__bubble";r.has(n)||(ree(e,t,2,!1),r.add(n))}function IN(t,e,r){var n=0;e&&(n|=4),ree(r,t,n,e)}var n8="_reactListening"+Math.random().toString(36).slice(2);function W3(t){if(!t[n8]){t[n8]=!0,lG.forEach(function(r){r!=="selectionchange"&&(Rve.has(r)||IN(r,!1,t),IN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[n8]||(e[n8]=!0,IN("selectionchange",!1,e))}}function ree(t,e,r,n){switch(DG(e)){case 1:var s=Yye;break;case 4:s=Gye;break;default:s=qO}r=s.bind(null,e,r,t),s=void 0,!eT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function NN(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=sg(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}kG(function(){var l=i,u=zO(r),f=[];e:{var h=eee.get(t);if(h!==void 0){var m=KO,y=t;switch(t){case"keypress":if(O9(r)===0)break e;case"keydown":case"keyup":m=pve;break;case"focusin":y="focus",m=xN;break;case"focusout":y="blur",m=xN;break;case"beforeblur":case"afterblur":m=xN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bve;break;case JG:case QG:case YG:m=ive;break;case GG:m=vve;break;case"scroll":m=eve;break;case"wheel":m=wve;break;case"copy":case"cut":case"paste":m=ove;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hz}var x=(e&4)!==0,k=!x&&t==="scroll",C=x?h!==null?h+"Capture":null:h;x=[];for(var I=l,_;I!==null;){_=I;var O=_.stateNode;if(_.tag===5&&O!==null&&(_=O,C!==null&&(O=U3(I,C),O!=null&&x.push(K3(I,O,_)))),k)break;I=I.return}0<x.length&&(h=new m(h,y,null,r,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==Y_&&(y=r.relatedTarget||r.fromElement)&&(sg(y)||y[kh]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=l,y=y?sg(y):null,y!==null&&(k=R1(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(x=dz,O="onMouseLeave",C="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(x=hz,O="onPointerLeave",C="onPointerEnter",I="pointer"),k=m==null?h:Jb(m),_=y==null?h:Jb(y),h=new x(O,I+"leave",m,r,u),h.target=k,h.relatedTarget=_,O=null,sg(u)===l&&(x=new x(C,I+"enter",y,r,u),x.target=_,x.relatedTarget=k,O=x),k=O,m&&y)t:{for(x=m,C=y,I=0,_=x;_;_=ob(_))I++;for(_=0,O=C;O;O=ob(O))_++;for(;0<I-_;)x=ob(x),I--;for(;0<_-I;)C=ob(C),_--;for(;I--;){if(x===C||C!==null&&x===C.alternate)break t;x=ob(x),C=ob(C)}x=null}else x=null;m!==null&&Pz(f,h,m,x,!1),y!==null&&k!==null&&Pz(f,k,y,x,!0)}}e:{if(h=l?Jb(l):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var F=Eve;else if(gz(h))if(qG)F=jve;else{F=_ve;var D=Cve}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=Tve);if(F&&(F=F(t,l))){HG(f,F,r,u);break e}D&&D(t,h,l),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&K_(h,"number",h.value)}switch(D=l?Jb(l):window,t){case"focusin":(gz(D)||D.contentEditable==="true")&&(Xb=D,iT=l,p3=null);break;case"focusout":p3=iT=Xb=null;break;case"mousedown":aT=!0;break;case"contextmenu":case"mouseup":case"dragend":aT=!1,wz(f,r,u);break;case"selectionchange":if(Ove)break;case"keydown":case"keyup":wz(f,r,u)}var j;if(ZO)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Kb?LG(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(zG&&r.locale!=="ko"&&(Kb||T!=="onCompositionStart"?T==="onCompositionEnd"&&Kb&&(j=UG()):(xp=u,WO="value"in xp?xp.value:xp.textContent,Kb=!0)),D=J7(l,T),0<D.length&&(T=new fz(T,t,null,r,u),f.push({event:T,listeners:D}),j?T.data=j:(j=VG(r),j!==null&&(T.data=j)))),(j=Sve?Pve(t,r):kve(t,r))&&(l=J7(l,"onBeforeInput"),0<l.length&&(u=new fz("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=j))}tee(f,e)})}function K3(t,e,r){return{instance:t,listener:e,currentTarget:r}}function J7(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=U3(t,r),i!=null&&n.unshift(K3(t,i,s)),i=U3(t,e),i!=null&&n.push(K3(t,i,s))),t=t.return}return n}function ob(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pz(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&l!==null&&(o=l,s?(c=U3(r,i),c!=null&&a.unshift(K3(r,c,o))):s||(c=U3(r,i),c!=null&&a.push(K3(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Dve=/\r\n?/g,Uve=/\u0000|\uFFFD/g;function kz(t){return(typeof t=="string"?t:""+t).replace(Dve,`
`).replace(Uve,"")}function s8(t,e,r){if(e=kz(e),kz(t)!==e&&r)throw Error(Et(425))}function Q7(){}var oT=null,cT=null;function lT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uT=typeof setTimeout=="function"?setTimeout:void 0,zve=typeof clearTimeout=="function"?clearTimeout:void 0,Iz=typeof Promise=="function"?Promise:void 0,Lve=typeof queueMicrotask=="function"?queueMicrotask:typeof Iz<"u"?function(t){return Iz.resolve(null).then(t).catch(Vve)}:uT;function Vve(t){setTimeout(function(){throw t})}function EN(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),V3(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);V3(e)}function _p(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gx=Math.random().toString(36).slice(2),Pd="__reactFiber$"+Gx,X3="__reactProps$"+Gx,kh="__reactContainer$"+Gx,dT="__reactEvents$"+Gx,Hve="__reactListeners$"+Gx,qve="__reactHandles$"+Gx;function sg(t){var e=t[Pd];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kh]||r[Pd]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Nz(t);t!==null;){if(r=t[Pd])return r;t=Nz(t)}return e}t=r,r=t.parentNode}return null}function M4(t){return t=t[Pd]||t[kh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jb(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Et(33))}function vP(t){return t[X3]||null}var fT=[],Qb=-1;function om(t){return{current:t}}function Xn(t){0>Qb||(t.current=fT[Qb],fT[Qb]=null,Qb--)}function $n(t,e){Qb++,fT[Qb]=t.current,t.current=e}var Vp={},Ua=om(Vp),jo=om(!1),c1=Vp;function rx(t,e){var r=t.type.contextTypes;if(!r)return Vp;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mo(t){return t=t.childContextTypes,t!=null}function Y7(){Xn(jo),Xn(Ua)}function Ez(t,e,r){if(Ua.current!==Vp)throw Error(Et(168));$n(Ua,e),$n(jo,r)}function nee(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Et(108,Cye(t)||"Unknown",s));return ps({},r,n)}function G7(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vp,c1=Ua.current,$n(Ua,t),$n(jo,jo.current),!0}function Cz(t,e,r){var n=t.stateNode;if(!n)throw Error(Et(169));r?(t=nee(t,e,c1),n.__reactInternalMemoizedMergedChildContext=t,Xn(jo),Xn(Ua),$n(Ua,t)):Xn(jo),$n(jo,r)}var Lf=null,xP=!1,CN=!1;function see(t){Lf===null?Lf=[t]:Lf.push(t)}function Wve(t){xP=!0,see(t)}function cm(){if(!CN&&Lf!==null){CN=!0;var t=0,e=yn;try{var r=Lf;for(yn=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Lf=null,xP=!1}catch(s){throw Lf!==null&&(Lf=Lf.slice(t+1)),CG(LO,cm),s}finally{yn=e,CN=!1}}return null}var Yb=[],Gb=0,eA=null,tA=0,ol=[],cl=0,l1=null,ah=1,oh="";function Um(t,e){Yb[Gb++]=tA,Yb[Gb++]=eA,eA=t,tA=e}function iee(t,e,r){ol[cl++]=ah,ol[cl++]=oh,ol[cl++]=l1,l1=t;var n=ah;t=oh;var s=32-wu(n)-1;n&=~(1<<s),r+=1;var i=32-wu(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ah=1<<32-wu(e)+s|r<<s|n,oh=i+t}else ah=1<<i|r<<s|n,oh=t}function QO(t){t.return!==null&&(Um(t,1),iee(t,1,0))}function YO(t){for(;t===eA;)eA=Yb[--Gb],Yb[Gb]=null,tA=Yb[--Gb],Yb[Gb]=null;for(;t===l1;)l1=ol[--cl],ol[cl]=null,oh=ol[--cl],ol[cl]=null,ah=ol[--cl],ol[cl]=null}var fc=null,uc=null,Gn=!1,du=null;function aee(t,e){var r=ul(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _z(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fc=t,uc=_p(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fc=t,uc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=l1!==null?{id:ah,overflow:oh}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ul(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fc=t,uc=null,!0):!1;default:return!1}}function hT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pT(t){if(Gn){var e=uc;if(e){var r=e;if(!_z(t,e)){if(hT(t))throw Error(Et(418));e=_p(r.nextSibling);var n=fc;e&&_z(t,e)?aee(n,r):(t.flags=t.flags&-4097|2,Gn=!1,fc=t)}}else{if(hT(t))throw Error(Et(418));t.flags=t.flags&-4097|2,Gn=!1,fc=t}}}function Tz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fc=t}function i8(t){if(t!==fc)return!1;if(!Gn)return Tz(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lT(t.type,t.memoizedProps)),e&&(e=uc)){if(hT(t))throw oee(),Error(Et(418));for(;e;)aee(t,e),e=_p(e.nextSibling)}if(Tz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){uc=_p(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}uc=null}}else uc=fc?_p(t.stateNode.nextSibling):null;return!0}function oee(){for(var t=uc;t;)t=_p(t.nextSibling)}function nx(){uc=fc=null,Gn=!1}function GO(t){du===null?du=[t]:du.push(t)}var Kve=Lh.ReactCurrentBatchConfig;function Kw(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Et(309));var n=r.stateNode}if(!n)throw Error(Et(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Et(284));if(!r._owner)throw Error(Et(290,t))}return t}function a8(t,e){throw t=Object.prototype.toString.call(e),Error(Et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jz(t){var e=t._init;return e(t._payload)}function cee(t){function e(C,I){if(t){var _=C.deletions;_===null?(C.deletions=[I],C.flags|=16):_.push(I)}}function r(C,I){if(!t)return null;for(;I!==null;)e(C,I),I=I.sibling;return null}function n(C,I){for(C=new Map;I!==null;)I.key!==null?C.set(I.key,I):C.set(I.index,I),I=I.sibling;return C}function s(C,I){return C=$p(C,I),C.index=0,C.sibling=null,C}function i(C,I,_){return C.index=_,t?(_=C.alternate,_!==null?(_=_.index,_<I?(C.flags|=2,I):_):(C.flags|=2,I)):(C.flags|=1048576,I)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function o(C,I,_,O){return I===null||I.tag!==6?(I=BN(_,C.mode,O),I.return=C,I):(I=s(I,_),I.return=C,I)}function c(C,I,_,O){var F=_.type;return F===Wb?u(C,I,_.props.children,O,_.key):I!==null&&(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$0&&jz(F)===I.type)?(O=s(I,_.props),O.ref=Kw(C,I,_),O.return=C,O):(O=L9(_.type,_.key,_.props,null,C.mode,O),O.ref=Kw(C,I,_),O.return=C,O)}function l(C,I,_,O){return I===null||I.tag!==4||I.stateNode.containerInfo!==_.containerInfo||I.stateNode.implementation!==_.implementation?(I=FN(_,C.mode,O),I.return=C,I):(I=s(I,_.children||[]),I.return=C,I)}function u(C,I,_,O,F){return I===null||I.tag!==7?(I=Zg(_,C.mode,O,F),I.return=C,I):(I=s(I,_),I.return=C,I)}function f(C,I,_){if(typeof I=="string"&&I!==""||typeof I=="number")return I=BN(""+I,C.mode,_),I.return=C,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Z5:return _=L9(I.type,I.key,I.props,null,C.mode,_),_.ref=Kw(C,null,I),_.return=C,_;case qb:return I=FN(I,C.mode,_),I.return=C,I;case $0:var O=I._init;return f(C,O(I._payload),_)}if(O2(I)||Lw(I))return I=Zg(I,C.mode,_,null),I.return=C,I;a8(C,I)}return null}function h(C,I,_,O){var F=I!==null?I.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return F!==null?null:o(C,I,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Z5:return _.key===F?c(C,I,_,O):null;case qb:return _.key===F?l(C,I,_,O):null;case $0:return F=_._init,h(C,I,F(_._payload),O)}if(O2(_)||Lw(_))return F!==null?null:u(C,I,_,O,null);a8(C,_)}return null}function m(C,I,_,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(_)||null,o(I,C,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Z5:return C=C.get(O.key===null?_:O.key)||null,c(I,C,O,F);case qb:return C=C.get(O.key===null?_:O.key)||null,l(I,C,O,F);case $0:var D=O._init;return m(C,I,_,D(O._payload),F)}if(O2(O)||Lw(O))return C=C.get(_)||null,u(I,C,O,F,null);a8(I,O)}return null}function y(C,I,_,O){for(var F=null,D=null,j=I,T=I=0,R=null;j!==null&&T<_.length;T++){j.index>T?(R=j,j=null):R=j.sibling;var q=h(C,j,_[T],O);if(q===null){j===null&&(j=R);break}t&&j&&q.alternate===null&&e(C,j),I=i(q,I,T),D===null?F=q:D.sibling=q,D=q,j=R}if(T===_.length)return r(C,j),Gn&&Um(C,T),F;if(j===null){for(;T<_.length;T++)j=f(C,_[T],O),j!==null&&(I=i(j,I,T),D===null?F=j:D.sibling=j,D=j);return Gn&&Um(C,T),F}for(j=n(C,j);T<_.length;T++)R=m(j,C,T,_[T],O),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?T:R.key),I=i(R,I,T),D===null?F=R:D.sibling=R,D=R);return t&&j.forEach(function($){return e(C,$)}),Gn&&Um(C,T),F}function x(C,I,_,O){var F=Lw(_);if(typeof F!="function")throw Error(Et(150));if(_=F.call(_),_==null)throw Error(Et(151));for(var D=F=null,j=I,T=I=0,R=null,q=_.next();j!==null&&!q.done;T++,q=_.next()){j.index>T?(R=j,j=null):R=j.sibling;var $=h(C,j,q.value,O);if($===null){j===null&&(j=R);break}t&&j&&$.alternate===null&&e(C,j),I=i($,I,T),D===null?F=$:D.sibling=$,D=$,j=R}if(q.done)return r(C,j),Gn&&Um(C,T),F;if(j===null){for(;!q.done;T++,q=_.next())q=f(C,q.value,O),q!==null&&(I=i(q,I,T),D===null?F=q:D.sibling=q,D=q);return Gn&&Um(C,T),F}for(j=n(C,j);!q.done;T++,q=_.next())q=m(j,C,T,q.value,O),q!==null&&(t&&q.alternate!==null&&j.delete(q.key===null?T:q.key),I=i(q,I,T),D===null?F=q:D.sibling=q,D=q);return t&&j.forEach(function(b){return e(C,b)}),Gn&&Um(C,T),F}function k(C,I,_,O){if(typeof _=="object"&&_!==null&&_.type===Wb&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Z5:e:{for(var F=_.key,D=I;D!==null;){if(D.key===F){if(F=_.type,F===Wb){if(D.tag===7){r(C,D.sibling),I=s(D,_.props.children),I.return=C,C=I;break e}}else if(D.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$0&&jz(F)===D.type){r(C,D.sibling),I=s(D,_.props),I.ref=Kw(C,D,_),I.return=C,C=I;break e}r(C,D);break}else e(C,D);D=D.sibling}_.type===Wb?(I=Zg(_.props.children,C.mode,O,_.key),I.return=C,C=I):(O=L9(_.type,_.key,_.props,null,C.mode,O),O.ref=Kw(C,I,_),O.return=C,C=O)}return a(C);case qb:e:{for(D=_.key;I!==null;){if(I.key===D)if(I.tag===4&&I.stateNode.containerInfo===_.containerInfo&&I.stateNode.implementation===_.implementation){r(C,I.sibling),I=s(I,_.children||[]),I.return=C,C=I;break e}else{r(C,I);break}else e(C,I);I=I.sibling}I=FN(_,C.mode,O),I.return=C,C=I}return a(C);case $0:return D=_._init,k(C,I,D(_._payload),O)}if(O2(_))return y(C,I,_,O);if(Lw(_))return x(C,I,_,O);a8(C,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,I!==null&&I.tag===6?(r(C,I.sibling),I=s(I,_),I.return=C,C=I):(r(C,I),I=BN(_,C.mode,O),I.return=C,C=I),a(C)):r(C,I)}return k}var sx=cee(!0),lee=cee(!1),rA=om(null),nA=null,ey=null,eB=null;function tB(){eB=ey=nA=null}function rB(t){var e=rA.current;Xn(rA),t._currentValue=e}function mT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Iy(t,e){nA=t,eB=ey=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_o=!0),t.firstContext=null)}function wl(t){var e=t._currentValue;if(eB!==t)if(t={context:t,memoizedValue:e,next:null},ey===null){if(nA===null)throw Error(Et(308));ey=t,nA.dependencies={lanes:0,firstContext:t}}else ey=ey.next=t;return e}var ig=null;function nB(t){ig===null?ig=[t]:ig.push(t)}function uee(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,nB(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ih(t,n)}function Ih(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var O0=!1;function sB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dee(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ph(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tp(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,en&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ih(t,r)}return s=n.interleaved,s===null?(e.next=e,nB(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ih(t,r)}function B9(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,VO(t,r)}}function Mz(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sA(t,e,r,n){var s=t.updateQueue;O0=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,l=c.next;c.next=null,a===null?i=l:a.next=l,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,u=l=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,x=o;switch(h=e,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=ps({},f,h);break e;case 2:O0=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=m,c=f):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);d1|=a,t.lanes=a,t.memoizedState=f}}function $z(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Et(191,s));s.call(n)}}}var $4={},Bd=om($4),Z3=om($4),J3=om($4);function ag(t){if(t===$4)throw Error(Et(174));return t}function iB(t,e){switch($n(J3,e),$n(Z3,t),$n(Bd,$4),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z_(e,t)}Xn(Bd),$n(Bd,e)}function ix(){Xn(Bd),Xn(Z3),Xn(J3)}function fee(t){ag(J3.current);var e=ag(Bd.current),r=Z_(e,t.type);e!==r&&($n(Z3,t),$n(Bd,r))}function aB(t){Z3.current===t&&(Xn(Bd),Xn(Z3))}var os=om(0);function iA(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _N=[];function oB(){for(var t=0;t<_N.length;t++)_N[t]._workInProgressVersionPrimary=null;_N.length=0}var F9=Lh.ReactCurrentDispatcher,TN=Lh.ReactCurrentBatchConfig,u1=0,fs=null,Ws=null,ui=null,aA=!1,m3=!1,Q3=0,Xve=0;function la(){throw Error(Et(321))}function cB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Iu(t[r],e[r]))return!1;return!0}function lB(t,e,r,n,s,i){if(u1=i,fs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F9.current=t===null||t.memoizedState===null?Yve:Gve,t=r(n,s),m3){i=0;do{if(m3=!1,Q3=0,25<=i)throw Error(Et(301));i+=1,ui=Ws=null,e.updateQueue=null,F9.current=exe,t=r(n,s)}while(m3)}if(F9.current=oA,e=Ws!==null&&Ws.next!==null,u1=0,ui=Ws=fs=null,aA=!1,e)throw Error(Et(300));return t}function uB(){var t=Q3!==0;return Q3=0,t}function rd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?fs.memoizedState=ui=t:ui=ui.next=t,ui}function Al(){if(Ws===null){var t=fs.alternate;t=t!==null?t.memoizedState:null}else t=Ws.next;var e=ui===null?fs.memoizedState:ui.next;if(e!==null)ui=e,Ws=t;else{if(t===null)throw Error(Et(310));Ws=t,t={memoizedState:Ws.memoizedState,baseState:Ws.baseState,baseQueue:Ws.baseQueue,queue:Ws.queue,next:null},ui===null?fs.memoizedState=ui=t:ui=ui.next=t}return ui}function Y3(t,e){return typeof e=="function"?e(t):e}function jN(t){var e=Al(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=Ws,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,l=i;do{var u=l.lane;if((u1&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,fs.lanes|=u,d1|=u}l=l.next}while(l!==null&&l!==i);c===null?a=n:c.next=o,Iu(n,e.memoizedState)||(_o=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,fs.lanes|=i,d1|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function MN(t){var e=Al(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Iu(i,e.memoizedState)||(_o=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function hee(){}function pee(t,e){var r=fs,n=Al(),s=e(),i=!Iu(n.memoizedState,s);if(i&&(n.memoizedState=s,_o=!0),n=n.queue,dB(bee.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ui!==null&&ui.memoizedState.tag&1){if(r.flags|=2048,G3(9,gee.bind(null,r,n,s,e),void 0,null),vi===null)throw Error(Et(349));u1&30||mee(r,e,s)}return s}function mee(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fs.updateQueue,e===null?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gee(t,e,r,n){e.value=r,e.getSnapshot=n,yee(e)&&vee(t)}function bee(t,e,r){return r(function(){yee(e)&&vee(t)})}function yee(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Iu(t,r)}catch{return!0}}function vee(t){var e=Ih(t,1);e!==null&&Au(e,t,1,-1)}function Oz(t){var e=rd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Y3,lastRenderedState:t},e.queue=t,t=t.dispatch=Qve.bind(null,fs,t),[e.memoizedState,t]}function G3(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fs.updateQueue,e===null?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xee(){return Al().memoizedState}function R9(t,e,r,n){var s=rd();fs.flags|=t,s.memoizedState=G3(1|e,r,void 0,n===void 0?null:n)}function wP(t,e,r,n){var s=Al();n=n===void 0?null:n;var i=void 0;if(Ws!==null){var a=Ws.memoizedState;if(i=a.destroy,n!==null&&cB(n,a.deps)){s.memoizedState=G3(e,r,i,n);return}}fs.flags|=t,s.memoizedState=G3(1|e,r,i,n)}function Bz(t,e){return R9(8390656,8,t,e)}function dB(t,e){return wP(2048,8,t,e)}function wee(t,e){return wP(4,2,t,e)}function Aee(t,e){return wP(4,4,t,e)}function See(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pee(t,e,r){return r=r!=null?r.concat([t]):null,wP(4,4,See.bind(null,e,t),r)}function fB(){}function kee(t,e){var r=Al();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Iee(t,e){var r=Al();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Nee(t,e,r){return u1&21?(Iu(r,e)||(r=jG(),fs.lanes|=r,d1|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_o=!0),t.memoizedState=r)}function Zve(t,e){var r=yn;yn=r!==0&&4>r?r:4,t(!0);var n=TN.transition;TN.transition={};try{t(!1),e()}finally{yn=r,TN.transition=n}}function Eee(){return Al().memoizedState}function Jve(t,e,r){var n=Mp(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cee(t))_ee(e,r);else if(r=uee(t,e,r,n),r!==null){var s=Ga();Au(r,t,n,s),Tee(r,e,n)}}function Qve(t,e,r){var n=Mp(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cee(t))_ee(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Iu(o,a)){var c=e.interleaved;c===null?(s.next=s,nB(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=uee(t,e,s,n),r!==null&&(s=Ga(),Au(r,t,n,s),Tee(r,e,n))}}function Cee(t){var e=t.alternate;return t===fs||e!==null&&e===fs}function _ee(t,e){m3=aA=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Tee(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,VO(t,r)}}var oA={readContext:wl,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},Yve={readContext:wl,useCallback:function(t,e){return rd().memoizedState=[t,e===void 0?null:e],t},useContext:wl,useEffect:Bz,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,R9(4194308,4,See.bind(null,e,t),r)},useLayoutEffect:function(t,e){return R9(4194308,4,t,e)},useInsertionEffect:function(t,e){return R9(4,2,t,e)},useMemo:function(t,e){var r=rd();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rd();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jve.bind(null,fs,t),[n.memoizedState,t]},useRef:function(t){var e=rd();return t={current:t},e.memoizedState=t},useState:Oz,useDebugValue:fB,useDeferredValue:function(t){return rd().memoizedState=t},useTransition:function(){var t=Oz(!1),e=t[0];return t=Zve.bind(null,t[1]),rd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fs,s=rd();if(Gn){if(r===void 0)throw Error(Et(407));r=r()}else{if(r=e(),vi===null)throw Error(Et(349));u1&30||mee(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Bz(bee.bind(null,n,i,t),[t]),n.flags|=2048,G3(9,gee.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rd(),e=vi.identifierPrefix;if(Gn){var r=oh,n=ah;r=(n&~(1<<32-wu(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Q3++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Xve++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gve={readContext:wl,useCallback:kee,useContext:wl,useEffect:dB,useImperativeHandle:Pee,useInsertionEffect:wee,useLayoutEffect:Aee,useMemo:Iee,useReducer:jN,useRef:xee,useState:function(){return jN(Y3)},useDebugValue:fB,useDeferredValue:function(t){var e=Al();return Nee(e,Ws.memoizedState,t)},useTransition:function(){var t=jN(Y3)[0],e=Al().memoizedState;return[t,e]},useMutableSource:hee,useSyncExternalStore:pee,useId:Eee,unstable_isNewReconciler:!1},exe={readContext:wl,useCallback:kee,useContext:wl,useEffect:dB,useImperativeHandle:Pee,useInsertionEffect:wee,useLayoutEffect:Aee,useMemo:Iee,useReducer:MN,useRef:xee,useState:function(){return MN(Y3)},useDebugValue:fB,useDeferredValue:function(t){var e=Al();return Ws===null?e.memoizedState=t:Nee(e,Ws.memoizedState,t)},useTransition:function(){var t=MN(Y3)[0],e=Al().memoizedState;return[t,e]},useMutableSource:hee,useSyncExternalStore:pee,useId:Eee,unstable_isNewReconciler:!1};function Gl(t,e){if(t&&t.defaultProps){e=ps({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ps({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var AP={isMounted:function(t){return(t=t._reactInternals)?R1(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ga(),s=Mp(t),i=ph(n,s);i.payload=e,r!=null&&(i.callback=r),e=Tp(t,i,s),e!==null&&(Au(e,t,s,n),B9(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ga(),s=Mp(t),i=ph(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Tp(t,i,s),e!==null&&(Au(e,t,s,n),B9(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ga(),n=Mp(t),s=ph(r,n);s.tag=2,e!=null&&(s.callback=e),e=Tp(t,s,n),e!==null&&(Au(e,t,n,r),B9(e,t,n))}};function Fz(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!q3(r,n)||!q3(s,i):!0}function jee(t,e,r){var n=!1,s=Vp,i=e.contextType;return typeof i=="object"&&i!==null?i=wl(i):(s=Mo(e)?c1:Ua.current,n=e.contextTypes,i=(n=n!=null)?rx(t,s):Vp),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=AP,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rz(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&AP.enqueueReplaceState(e,e.state,null)}function bT(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},sB(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wl(i):(i=Mo(e)?c1:Ua.current,s.context=rx(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gT(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&AP.enqueueReplaceState(s,s.state,null),sA(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ax(t,e){try{var r="",n=e;do r+=Eye(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $N(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function yT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var txe=typeof WeakMap=="function"?WeakMap:Map;function Mee(t,e,r){r=ph(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){lA||(lA=!0,ET=n),yT(t,e)},r}function $ee(t,e,r){r=ph(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){yT(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){yT(t,e),typeof n!="function"&&(jp===null?jp=new Set([this]):jp.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Dz(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new txe;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=mxe.bind(null,t,e,r),e.then(t,t))}function Uz(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zz(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ph(-1,1),e.tag=2,Tp(r,e,1))),r.lanes|=1),t)}var rxe=Lh.ReactCurrentOwner,_o=!1;function Xa(t,e,r,n){e.child=t===null?lee(e,null,r,n):sx(e,t.child,r,n)}function Lz(t,e,r,n,s){r=r.render;var i=e.ref;return Iy(e,s),n=lB(t,e,r,n,i,s),r=uB(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nh(t,e,s)):(Gn&&r&&QO(e),e.flags|=1,Xa(t,e,n,s),e.child)}function Vz(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!xB(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Oee(t,e,i,n,s)):(t=L9(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:q3,r(a,n)&&t.ref===e.ref)return Nh(t,e,s)}return e.flags|=1,t=$p(i,n),t.ref=e.ref,t.return=e,e.child=t}function Oee(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(q3(i,n)&&t.ref===e.ref)if(_o=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(_o=!0);else return e.lanes=t.lanes,Nh(t,e,s)}return vT(t,e,r,n,s)}function Bee(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(ry,rc),rc|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$n(ry,rc),rc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,$n(ry,rc),rc|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,$n(ry,rc),rc|=n;return Xa(t,e,s,r),e.child}function Fee(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function vT(t,e,r,n,s){var i=Mo(r)?c1:Ua.current;return i=rx(e,i),Iy(e,s),r=lB(t,e,r,n,i,s),n=uB(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nh(t,e,s)):(Gn&&n&&QO(e),e.flags|=1,Xa(t,e,r,s),e.child)}function Hz(t,e,r,n,s){if(Mo(r)){var i=!0;G7(e)}else i=!1;if(Iy(e,s),e.stateNode===null)D9(t,e),jee(e,r,n),bT(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=wl(l):(l=Mo(r)?c1:Ua.current,l=rx(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==l)&&Rz(e,a,n,l),O0=!1;var h=e.memoizedState;a.state=h,sA(e,n,a,s),c=e.memoizedState,o!==n||h!==c||jo.current||O0?(typeof u=="function"&&(gT(e,r,u,n),c=e.memoizedState),(o=O0||Fz(e,r,o,n,h,c,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dee(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Gl(e.type,o),a.props=l,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=wl(c):(c=Mo(r)?c1:Ua.current,c=rx(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Rz(e,a,n,c),O0=!1,h=e.memoizedState,a.state=h,sA(e,n,a,s);var y=e.memoizedState;o!==f||h!==y||jo.current||O0?(typeof m=="function"&&(gT(e,r,m,n),y=e.memoizedState),(l=O0||Fz(e,r,l,n,h,y,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=c,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return xT(t,e,r,n,i,s)}function xT(t,e,r,n,s,i){Fee(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Cz(e,r,!1),Nh(t,e,i);n=e.stateNode,rxe.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=sx(e,t.child,null,i),e.child=sx(e,null,o,i)):Xa(t,e,o,i),e.memoizedState=n.state,s&&Cz(e,r,!0),e.child}function Ree(t){var e=t.stateNode;e.pendingContext?Ez(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ez(t,e.context,!1),iB(t,e.containerInfo)}function qz(t,e,r,n,s){return nx(),GO(s),e.flags|=256,Xa(t,e,r,n),e.child}var wT={dehydrated:null,treeContext:null,retryLane:0};function AT(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dee(t,e,r){var n=e.pendingProps,s=os.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$n(os,s&1),t===null)return pT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kP(a,n,0,null),t=Zg(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=AT(r),e.memoizedState=wT,t):hB(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return nxe(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=$p(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=$p(o,i):(i=Zg(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?AT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=wT,n}return i=t.child,t=i.sibling,n=$p(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hB(t,e){return e=kP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function o8(t,e,r,n){return n!==null&&GO(n),sx(e,t.child,null,r),t=hB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nxe(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=$N(Error(Et(422))),o8(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=kP({mode:"visible",children:n.children},s,0,null),i=Zg(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&sx(e,t.child,null,a),e.child.memoizedState=AT(a),e.memoizedState=wT,i);if(!(e.mode&1))return o8(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Et(419)),n=$N(i,n,void 0),o8(t,e,a,n)}if(o=(a&t.childLanes)!==0,_o||o){if(n=vi,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ih(t,s),Au(n,t,s,-1))}return vB(),n=$N(Error(Et(421))),o8(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gxe.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,uc=_p(s.nextSibling),fc=e,Gn=!0,du=null,t!==null&&(ol[cl++]=ah,ol[cl++]=oh,ol[cl++]=l1,ah=t.id,oh=t.overflow,l1=e),e=hB(e,n.children),e.flags|=4096,e)}function Wz(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mT(t.return,e,r)}function ON(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Uee(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Xa(t,e,n.children,r),n=os.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wz(t,r,e);else if(t.tag===19)Wz(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if($n(os,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&iA(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ON(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&iA(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ON(e,!0,r,null,i);break;case"together":ON(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function D9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nh(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),d1|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Et(153));if(e.child!==null){for(t=e.child,r=$p(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$p(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sxe(t,e,r){switch(e.tag){case 3:Ree(e),nx();break;case 5:fee(e);break;case 1:Mo(e.type)&&G7(e);break;case 4:iB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;$n(rA,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($n(os,os.current&1),e.flags|=128,null):r&e.child.childLanes?Dee(t,e,r):($n(os,os.current&1),t=Nh(t,e,r),t!==null?t.sibling:null);$n(os,os.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Uee(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$n(os,os.current),n)break;return null;case 22:case 23:return e.lanes=0,Bee(t,e,r)}return Nh(t,e,r)}var zee,ST,Lee,Vee;zee=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ST=function(){};Lee=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ag(Bd.current);var i=null;switch(r){case"input":s=q_(t,s),n=q_(t,n),i=[];break;case"select":s=ps({},s,{value:void 0}),n=ps({},n,{value:void 0}),i=[];break;case"textarea":s=X_(t,s),n=X_(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Q7)}J_(r,n);var a;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var o=s[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(R3.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(o=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(R3.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Vn("scroll",t),i||o===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};Vee=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xw(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ua(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ixe(t,e,r){var n=e.pendingProps;switch(YO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(e),null;case 1:return Mo(e.type)&&Y7(),ua(e),null;case 3:return n=e.stateNode,ix(),Xn(jo),Xn(Ua),oB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(i8(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,du!==null&&(TT(du),du=null))),ST(t,e),ua(e),null;case 5:aB(e);var s=ag(J3.current);if(r=e.type,t!==null&&e.stateNode!=null)Lee(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Et(166));return ua(e),null}if(t=ag(Bd.current),i8(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Pd]=e,n[X3]=i,t=(e.mode&1)!==0,r){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(s=0;s<F2.length;s++)Vn(F2[s],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":tz(n,i),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vn("invalid",n);break;case"textarea":nz(n,i),Vn("invalid",n)}J_(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&s8(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&s8(n.textContent,o,t),s=["children",""+o]):R3.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vn("scroll",n)}switch(r){case"input":J5(n),rz(n,i,!0);break;case"textarea":J5(n),sz(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Q7)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bG(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Pd]=e,t[X3]=n,zee(t,e,!1,!1),e.stateNode=t;e:{switch(a=Q_(r,n),r){case"dialog":Vn("cancel",t),Vn("close",t),s=n;break;case"iframe":case"object":case"embed":Vn("load",t),s=n;break;case"video":case"audio":for(s=0;s<F2.length;s++)Vn(F2[s],t);s=n;break;case"source":Vn("error",t),s=n;break;case"img":case"image":case"link":Vn("error",t),Vn("load",t),s=n;break;case"details":Vn("toggle",t),s=n;break;case"input":tz(t,n),s=q_(t,n),Vn("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ps({},n,{value:void 0}),Vn("invalid",t);break;case"textarea":nz(t,n),s=X_(t,n),Vn("invalid",t);break;default:s=n}J_(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?xG(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yG(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&D3(t,c):typeof c=="number"&&D3(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(R3.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vn("scroll",t):c!=null&&FO(t,i,c,a))}switch(r){case"input":J5(t),rz(t,n,!1);break;case"textarea":J5(t),sz(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Lp(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ay(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ay(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Q7)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ua(e),null;case 6:if(t&&e.stateNode!=null)Vee(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Et(166));if(r=ag(J3.current),ag(Bd.current),i8(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pd]=e,(i=n.nodeValue!==r)&&(t=fc,t!==null))switch(t.tag){case 3:s8(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&s8(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pd]=e,e.stateNode=n}return ua(e),null;case 13:if(Xn(os),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&uc!==null&&e.mode&1&&!(e.flags&128))oee(),nx(),e.flags|=98560,i=!1;else if(i=i8(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Et(317));i[Pd]=e}else nx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ua(e),i=!1}else du!==null&&(TT(du),du=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||os.current&1?Xs===0&&(Xs=3):vB())),e.updateQueue!==null&&(e.flags|=4),ua(e),null);case 4:return ix(),ST(t,e),t===null&&W3(e.stateNode.containerInfo),ua(e),null;case 10:return rB(e.type._context),ua(e),null;case 17:return Mo(e.type)&&Y7(),ua(e),null;case 19:if(Xn(os),i=e.memoizedState,i===null)return ua(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Xw(i,!1);else{if(Xs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=iA(t),a!==null){for(e.flags|=128,Xw(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return $n(os,os.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ts()>ox&&(e.flags|=128,n=!0,Xw(i,!1),e.lanes=4194304)}else{if(!n)if(t=iA(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Gn)return ua(e),null}else 2*Ts()-i.renderingStartTime>ox&&r!==1073741824&&(e.flags|=128,n=!0,Xw(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ts(),e.sibling=null,r=os.current,$n(os,n?r&1|2:r&1),e):(ua(e),null);case 22:case 23:return yB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rc&1073741824&&(ua(e),e.subtreeFlags&6&&(e.flags|=8192)):ua(e),null;case 24:return null;case 25:return null}throw Error(Et(156,e.tag))}function axe(t,e){switch(YO(e),e.tag){case 1:return Mo(e.type)&&Y7(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ix(),Xn(jo),Xn(Ua),oB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aB(e),null;case 13:if(Xn(os),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Et(340));nx()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(os),null;case 4:return ix(),null;case 10:return rB(e.type._context),null;case 22:case 23:return yB(),null;case 24:return null;default:return null}}var c8=!1,Na=!1,oxe=typeof WeakSet=="function"?WeakSet:Set,qt=null;function ty(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ws(t,e,n)}else r.current=null}function PT(t,e,r){try{r()}catch(n){ws(t,e,n)}}var Kz=!1;function cxe(t,e){if(oT=X7,t=XG(),JO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,l=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++l===s&&(o=a),h===i&&++u===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cT={focusedElem:t,selectionRange:r},X7=!1,qt=e;qt!==null;)if(e=qt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qt=t;else for(;qt!==null;){e=qt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,k=y.memoizedState,C=e.stateNode,I=C.getSnapshotBeforeUpdate(e.elementType===e.type?x:Gl(e.type,x),k);C.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Et(163))}}catch(O){ws(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,qt=t;break}qt=e.return}return y=Kz,Kz=!1,y}function g3(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&PT(e,r,i)}s=s.next}while(s!==n)}}function SP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function kT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Hee(t){var e=t.alternate;e!==null&&(t.alternate=null,Hee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pd],delete e[X3],delete e[dT],delete e[Hve],delete e[qve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qee(t){return t.tag===5||t.tag===3||t.tag===4}function Xz(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function IT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Q7));else if(n!==4&&(t=t.child,t!==null))for(IT(t,e,r),t=t.sibling;t!==null;)IT(t,e,r),t=t.sibling}function NT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(NT(t,e,r),t=t.sibling;t!==null;)NT(t,e,r),t=t.sibling}var Bi=null,lu=!1;function Gh(t,e,r){for(r=r.child;r!==null;)Wee(t,e,r),r=r.sibling}function Wee(t,e,r){if(Od&&typeof Od.onCommitFiberUnmount=="function")try{Od.onCommitFiberUnmount(mP,r)}catch{}switch(r.tag){case 5:Na||ty(r,e);case 6:var n=Bi,s=lu;Bi=null,Gh(t,e,r),Bi=n,lu=s,Bi!==null&&(lu?(t=Bi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Bi.removeChild(r.stateNode));break;case 18:Bi!==null&&(lu?(t=Bi,r=r.stateNode,t.nodeType===8?EN(t.parentNode,r):t.nodeType===1&&EN(t,r),V3(t)):EN(Bi,r.stateNode));break;case 4:n=Bi,s=lu,Bi=r.stateNode.containerInfo,lu=!0,Gh(t,e,r),Bi=n,lu=s;break;case 0:case 11:case 14:case 15:if(!Na&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&PT(r,e,a),s=s.next}while(s!==n)}Gh(t,e,r);break;case 1:if(!Na&&(ty(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ws(r,e,o)}Gh(t,e,r);break;case 21:Gh(t,e,r);break;case 22:r.mode&1?(Na=(n=Na)||r.memoizedState!==null,Gh(t,e,r),Na=n):Gh(t,e,r);break;default:Gh(t,e,r)}}function Zz(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oxe),e.forEach(function(n){var s=bxe.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ol(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Bi=o.stateNode,lu=!1;break e;case 3:Bi=o.stateNode.containerInfo,lu=!0;break e;case 4:Bi=o.stateNode.containerInfo,lu=!0;break e}o=o.return}if(Bi===null)throw Error(Et(160));Wee(i,a,s),Bi=null,lu=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){ws(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kee(e,t),e=e.sibling}function Kee(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ol(e,t),Vu(t),n&4){try{g3(3,t,t.return),SP(3,t)}catch(x){ws(t,t.return,x)}try{g3(5,t,t.return)}catch(x){ws(t,t.return,x)}}break;case 1:Ol(e,t),Vu(t),n&512&&r!==null&&ty(r,r.return);break;case 5:if(Ol(e,t),Vu(t),n&512&&r!==null&&ty(r,r.return),t.flags&32){var s=t.stateNode;try{D3(s,"")}catch(x){ws(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mG(s,i),Q_(o,a);var l=Q_(o,i);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?xG(s,f):u==="dangerouslySetInnerHTML"?yG(s,f):u==="children"?D3(s,f):FO(s,u,f,l)}switch(o){case"input":W_(s,i);break;case"textarea":gG(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ay(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ay(s,!!i.multiple,i.defaultValue,!0):Ay(s,!!i.multiple,i.multiple?[]:"",!1))}s[X3]=i}catch(x){ws(t,t.return,x)}}break;case 6:if(Ol(e,t),Vu(t),n&4){if(t.stateNode===null)throw Error(Et(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ws(t,t.return,x)}}break;case 3:if(Ol(e,t),Vu(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{V3(e.containerInfo)}catch(x){ws(t,t.return,x)}break;case 4:Ol(e,t),Vu(t);break;case 13:Ol(e,t),Vu(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gB=Ts())),n&4&&Zz(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Na=(l=Na)||u,Ol(e,t),Na=l):Ol(e,t),Vu(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(qt=t,u=t.child;u!==null;){for(f=qt=u;qt!==null;){switch(h=qt,m=h.child,h.tag){case 0:case 11:case 14:case 15:g3(4,h,h.return);break;case 1:ty(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ws(n,r,x)}}break;case 5:ty(h,h.return);break;case 22:if(h.memoizedState!==null){Qz(f);continue}}m!==null?(m.return=h,qt=m):Qz(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=vG("display",a))}catch(x){ws(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(x){ws(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ol(e,t),Vu(t),n&4&&Zz(t);break;case 21:break;default:Ol(e,t),Vu(t)}}function Vu(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qee(r)){var n=r;break e}r=r.return}throw Error(Et(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(D3(s,""),n.flags&=-33);var i=Xz(t);NT(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Xz(t);IT(t,o,a);break;default:throw Error(Et(161))}}catch(c){ws(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lxe(t,e,r){qt=t,Xee(t)}function Xee(t,e,r){for(var n=(t.mode&1)!==0;qt!==null;){var s=qt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||c8;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Na;o=c8;var l=Na;if(c8=a,(Na=c)&&!l)for(qt=s;qt!==null;)a=qt,c=a.child,a.tag===22&&a.memoizedState!==null?Yz(s):c!==null?(c.return=a,qt=c):Yz(s);for(;i!==null;)qt=i,Xee(i),i=i.sibling;qt=s,c8=o,Na=l}Jz(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qt=i):Jz(t)}}function Jz(t){for(;qt!==null;){var e=qt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Na||SP(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Na)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Gl(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$z(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$z(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&V3(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Et(163))}Na||e.flags&512&&kT(e)}catch(h){ws(e,e.return,h)}}if(e===t){qt=null;break}if(r=e.sibling,r!==null){r.return=e.return,qt=r;break}qt=e.return}}function Qz(t){for(;qt!==null;){var e=qt;if(e===t){qt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,qt=r;break}qt=e.return}}function Yz(t){for(;qt!==null;){var e=qt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{SP(4,e)}catch(c){ws(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ws(e,s,c)}}var i=e.return;try{kT(e)}catch(c){ws(e,i,c)}break;case 5:var a=e.return;try{kT(e)}catch(c){ws(e,a,c)}}}catch(c){ws(e,e.return,c)}if(e===t){qt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qt=o;break}qt=e.return}}var uxe=Math.ceil,cA=Lh.ReactCurrentDispatcher,pB=Lh.ReactCurrentOwner,bl=Lh.ReactCurrentBatchConfig,en=0,vi=null,Us=null,qi=0,rc=0,ry=om(0),Xs=0,e6=null,d1=0,PP=0,mB=0,b3=null,ko=null,gB=0,ox=1/0,Rf=null,lA=!1,ET=null,jp=null,l8=!1,wp=null,uA=0,y3=0,CT=null,U9=-1,z9=0;function Ga(){return en&6?Ts():U9!==-1?U9:U9=Ts()}function Mp(t){return t.mode&1?en&2&&qi!==0?qi&-qi:Kve.transition!==null?(z9===0&&(z9=jG()),z9):(t=yn,t!==0||(t=window.event,t=t===void 0?16:DG(t.type)),t):1}function Au(t,e,r,n){if(50<y3)throw y3=0,CT=null,Error(Et(185));T4(t,r,n),(!(en&2)||t!==vi)&&(t===vi&&(!(en&2)&&(PP|=r),Xs===4&&W0(t,qi)),$o(t,n),r===1&&en===0&&!(e.mode&1)&&(ox=Ts()+500,xP&&cm()))}function $o(t,e){var r=t.callbackNode;Kye(t,e);var n=K7(t,t===vi?qi:0);if(n===0)r!==null&&oz(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&oz(r),e===1)t.tag===0?Wve(Gz.bind(null,t)):see(Gz.bind(null,t)),Lve(function(){!(en&6)&&cm()}),r=null;else{switch(MG(n)){case 1:r=LO;break;case 4:r=_G;break;case 16:r=W7;break;case 536870912:r=TG;break;default:r=W7}r=rte(r,Zee.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Zee(t,e){if(U9=-1,z9=0,en&6)throw Error(Et(327));var r=t.callbackNode;if(Ny()&&t.callbackNode!==r)return null;var n=K7(t,t===vi?qi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=dA(t,n);else{e=n;var s=en;en|=2;var i=Qee();(vi!==t||qi!==e)&&(Rf=null,ox=Ts()+500,Xg(t,e));do try{hxe();break}catch(o){Jee(t,o)}while(!0);tB(),cA.current=i,en=s,Us!==null?e=0:(vi=null,qi=0,e=Xs)}if(e!==0){if(e===2&&(s=rT(t),s!==0&&(n=s,e=_T(t,s))),e===1)throw r=e6,Xg(t,0),W0(t,n),$o(t,Ts()),r;if(e===6)W0(t,n);else{if(s=t.current.alternate,!(n&30)&&!dxe(s)&&(e=dA(t,n),e===2&&(i=rT(t),i!==0&&(n=i,e=_T(t,i))),e===1))throw r=e6,Xg(t,0),W0(t,n),$o(t,Ts()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Et(345));case 2:zm(t,ko,Rf);break;case 3:if(W0(t,n),(n&130023424)===n&&(e=gB+500-Ts(),10<e)){if(K7(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ga(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uT(zm.bind(null,t,ko,Rf),e);break}zm(t,ko,Rf);break;case 4:if(W0(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-wu(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Ts()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uxe(n/1960))-n,10<n){t.timeoutHandle=uT(zm.bind(null,t,ko,Rf),n);break}zm(t,ko,Rf);break;case 5:zm(t,ko,Rf);break;default:throw Error(Et(329))}}}return $o(t,Ts()),t.callbackNode===r?Zee.bind(null,t):null}function _T(t,e){var r=b3;return t.current.memoizedState.isDehydrated&&(Xg(t,e).flags|=256),t=dA(t,e),t!==2&&(e=ko,ko=r,e!==null&&TT(e)),t}function TT(t){ko===null?ko=t:ko.push.apply(ko,t)}function dxe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Iu(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function W0(t,e){for(e&=~mB,e&=~PP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wu(e),n=1<<r;t[r]=-1,e&=~n}}function Gz(t){if(en&6)throw Error(Et(327));Ny();var e=K7(t,0);if(!(e&1))return $o(t,Ts()),null;var r=dA(t,e);if(t.tag!==0&&r===2){var n=rT(t);n!==0&&(e=n,r=_T(t,n))}if(r===1)throw r=e6,Xg(t,0),W0(t,e),$o(t,Ts()),r;if(r===6)throw Error(Et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zm(t,ko,Rf),$o(t,Ts()),null}function bB(t,e){var r=en;en|=1;try{return t(e)}finally{en=r,en===0&&(ox=Ts()+500,xP&&cm())}}function f1(t){wp!==null&&wp.tag===0&&!(en&6)&&Ny();var e=en;en|=1;var r=bl.transition,n=yn;try{if(bl.transition=null,yn=1,t)return t()}finally{yn=n,bl.transition=r,en=e,!(en&6)&&cm()}}function yB(){rc=ry.current,Xn(ry)}function Xg(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zve(r)),Us!==null)for(r=Us.return;r!==null;){var n=r;switch(YO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Y7();break;case 3:ix(),Xn(jo),Xn(Ua),oB();break;case 5:aB(n);break;case 4:ix();break;case 13:Xn(os);break;case 19:Xn(os);break;case 10:rB(n.type._context);break;case 22:case 23:yB()}r=r.return}if(vi=t,Us=t=$p(t.current,null),qi=rc=e,Xs=0,e6=null,mB=PP=d1=0,ko=b3=null,ig!==null){for(e=0;e<ig.length;e++)if(r=ig[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ig=null}return t}function Jee(t,e){do{var r=Us;try{if(tB(),F9.current=oA,aA){for(var n=fs.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}aA=!1}if(u1=0,ui=Ws=fs=null,m3=!1,Q3=0,pB.current=null,r===null||r.return===null){Xs=1,e6=e,Us=null;break}e:{var i=t,a=r.return,o=r,c=e;if(e=qi,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Uz(a);if(m!==null){m.flags&=-257,zz(m,a,o,i,e),m.mode&1&&Dz(i,l,e),e=m,c=l;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Dz(i,l,e),vB();break e}c=Error(Et(426))}}else if(Gn&&o.mode&1){var k=Uz(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),zz(k,a,o,i,e),GO(ax(c,o));break e}}i=c=ax(c,o),Xs!==4&&(Xs=2),b3===null?b3=[i]:b3.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var C=Mee(i,c,e);Mz(i,C);break e;case 1:o=c;var I=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof I.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jp===null||!jp.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=$ee(i,o,e);Mz(i,O);break e}}i=i.return}while(i!==null)}Gee(r)}catch(F){e=F,Us===r&&r!==null&&(Us=r=r.return);continue}break}while(!0)}function Qee(){var t=cA.current;return cA.current=oA,t===null?oA:t}function vB(){(Xs===0||Xs===3||Xs===2)&&(Xs=4),vi===null||!(d1&268435455)&&!(PP&268435455)||W0(vi,qi)}function dA(t,e){var r=en;en|=2;var n=Qee();(vi!==t||qi!==e)&&(Rf=null,Xg(t,e));do try{fxe();break}catch(s){Jee(t,s)}while(!0);if(tB(),en=r,cA.current=n,Us!==null)throw Error(Et(261));return vi=null,qi=0,Xs}function fxe(){for(;Us!==null;)Yee(Us)}function hxe(){for(;Us!==null&&!Rye();)Yee(Us)}function Yee(t){var e=tte(t.alternate,t,rc);t.memoizedProps=t.pendingProps,e===null?Gee(t):Us=e,pB.current=null}function Gee(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=axe(r,e),r!==null){r.flags&=32767,Us=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xs=6,Us=null;return}}else if(r=ixe(r,e,rc),r!==null){Us=r;return}if(e=e.sibling,e!==null){Us=e;return}Us=e=t}while(e!==null);Xs===0&&(Xs=5)}function zm(t,e,r){var n=yn,s=bl.transition;try{bl.transition=null,yn=1,pxe(t,e,r,n)}finally{bl.transition=s,yn=n}return null}function pxe(t,e,r,n){do Ny();while(wp!==null);if(en&6)throw Error(Et(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Et(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Xye(t,i),t===vi&&(Us=vi=null,qi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||l8||(l8=!0,rte(W7,function(){return Ny(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=bl.transition,bl.transition=null;var a=yn;yn=1;var o=en;en|=4,pB.current=null,cxe(t,r),Kee(r,t),$ve(cT),X7=!!oT,cT=oT=null,t.current=r,lxe(r),Dye(),en=o,yn=a,bl.transition=i}else t.current=r;if(l8&&(l8=!1,wp=t,uA=s),i=t.pendingLanes,i===0&&(jp=null),Lye(r.stateNode),$o(t,Ts()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(lA)throw lA=!1,t=ET,ET=null,t;return uA&1&&t.tag!==0&&Ny(),i=t.pendingLanes,i&1?t===CT?y3++:(y3=0,CT=t):y3=0,cm(),null}function Ny(){if(wp!==null){var t=MG(uA),e=bl.transition,r=yn;try{if(bl.transition=null,yn=16>t?16:t,wp===null)var n=!1;else{if(t=wp,wp=null,uA=0,en&6)throw Error(Et(331));var s=en;for(en|=4,qt=t.current;qt!==null;){var i=qt,a=i.child;if(qt.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var l=o[c];for(qt=l;qt!==null;){var u=qt;switch(u.tag){case 0:case 11:case 15:g3(8,u,i)}var f=u.child;if(f!==null)f.return=u,qt=f;else for(;qt!==null;){u=qt;var h=u.sibling,m=u.return;if(Hee(u),u===l){qt=null;break}if(h!==null){h.return=m,qt=h;break}qt=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}qt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,qt=a;else e:for(;qt!==null;){if(i=qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:g3(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,qt=C;break e}qt=i.return}}var I=t.current;for(qt=I;qt!==null;){a=qt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,qt=_;else e:for(a=I;qt!==null;){if(o=qt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:SP(9,o)}}catch(F){ws(o,o.return,F)}if(o===a){qt=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,qt=O;break e}qt=o.return}}if(en=s,cm(),Od&&typeof Od.onPostCommitFiberRoot=="function")try{Od.onPostCommitFiberRoot(mP,t)}catch{}n=!0}return n}finally{yn=r,bl.transition=e}}return!1}function eL(t,e,r){e=ax(r,e),e=Mee(t,e,1),t=Tp(t,e,1),e=Ga(),t!==null&&(T4(t,1,e),$o(t,e))}function ws(t,e,r){if(t.tag===3)eL(t,t,r);else for(;e!==null;){if(e.tag===3){eL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jp===null||!jp.has(n))){t=ax(r,t),t=$ee(e,t,1),e=Tp(e,t,1),t=Ga(),e!==null&&(T4(e,1,t),$o(e,t));break}}e=e.return}}function mxe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ga(),t.pingedLanes|=t.suspendedLanes&r,vi===t&&(qi&r)===r&&(Xs===4||Xs===3&&(qi&130023424)===qi&&500>Ts()-gB?Xg(t,0):mB|=r),$o(t,e)}function ete(t,e){e===0&&(t.mode&1?(e=G5,G5<<=1,!(G5&130023424)&&(G5=4194304)):e=1);var r=Ga();t=Ih(t,e),t!==null&&(T4(t,e,r),$o(t,r))}function gxe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ete(t,r)}function bxe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Et(314))}n!==null&&n.delete(e),ete(t,r)}var tte;tte=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||jo.current)_o=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _o=!1,sxe(t,e,r);_o=!!(t.flags&131072)}else _o=!1,Gn&&e.flags&1048576&&iee(e,tA,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;D9(t,e),t=e.pendingProps;var s=rx(e,Ua.current);Iy(e,r),s=lB(null,e,n,t,s,r);var i=uB();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mo(n)?(i=!0,G7(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sB(e),s.updater=AP,e.stateNode=s,s._reactInternals=e,bT(e,n,t,r),e=xT(null,e,n,!0,i,r)):(e.tag=0,Gn&&i&&QO(e),Xa(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(D9(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=vxe(n),t=Gl(n,t),s){case 0:e=vT(null,e,n,t,r);break e;case 1:e=Hz(null,e,n,t,r);break e;case 11:e=Lz(null,e,n,t,r);break e;case 14:e=Vz(null,e,n,Gl(n.type,t),r);break e}throw Error(Et(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),vT(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),Hz(t,e,n,s,r);case 3:e:{if(Ree(e),t===null)throw Error(Et(387));n=e.pendingProps,i=e.memoizedState,s=i.element,dee(t,e),sA(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ax(Error(Et(423)),e),e=qz(t,e,n,r,s);break e}else if(n!==s){s=ax(Error(Et(424)),e),e=qz(t,e,n,r,s);break e}else for(uc=_p(e.stateNode.containerInfo.firstChild),fc=e,Gn=!0,du=null,r=lee(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nx(),n===s){e=Nh(t,e,r);break e}Xa(t,e,n,r)}e=e.child}return e;case 5:return fee(e),t===null&&pT(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,lT(n,s)?a=null:i!==null&&lT(n,i)&&(e.flags|=32),Fee(t,e),Xa(t,e,a,r),e.child;case 6:return t===null&&pT(e),null;case 13:return Dee(t,e,r);case 4:return iB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sx(e,null,n,r):Xa(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),Lz(t,e,n,s,r);case 7:return Xa(t,e,e.pendingProps,r),e.child;case 8:return Xa(t,e,e.pendingProps.children,r),e.child;case 12:return Xa(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,$n(rA,n._currentValue),n._currentValue=a,i!==null)if(Iu(i.value,a)){if(i.children===s.children&&!jo.current){e=Nh(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ph(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mT(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Et(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),mT(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Xa(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Iy(e,r),s=wl(s),n=n(s),e.flags|=1,Xa(t,e,n,r),e.child;case 14:return n=e.type,s=Gl(n,e.pendingProps),s=Gl(n.type,s),Vz(t,e,n,s,r);case 15:return Oee(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gl(n,s),D9(t,e),e.tag=1,Mo(n)?(t=!0,G7(e)):t=!1,Iy(e,r),jee(e,n,s),bT(e,n,s,r),xT(null,e,n,!0,t,r);case 19:return Uee(t,e,r);case 22:return Bee(t,e,r)}throw Error(Et(156,e.tag))};function rte(t,e){return CG(t,e)}function yxe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(t,e,r,n){return new yxe(t,e,r,n)}function xB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vxe(t){if(typeof t=="function")return xB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DO)return 11;if(t===UO)return 14}return 2}function $p(t,e){var r=t.alternate;return r===null?(r=ul(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function L9(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")xB(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Wb:return Zg(r.children,s,i,e);case RO:a=8,s|=8;break;case z_:return t=ul(12,r,e,s|2),t.elementType=z_,t.lanes=i,t;case L_:return t=ul(13,r,e,s),t.elementType=L_,t.lanes=i,t;case V_:return t=ul(19,r,e,s),t.elementType=V_,t.lanes=i,t;case fG:return kP(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uG:a=10;break e;case dG:a=9;break e;case DO:a=11;break e;case UO:a=14;break e;case $0:a=16,n=null;break e}throw Error(Et(130,t==null?t:typeof t,""))}return e=ul(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Zg(t,e,r,n){return t=ul(7,t,n,e),t.lanes=r,t}function kP(t,e,r,n){return t=ul(22,t,n,e),t.elementType=fG,t.lanes=r,t.stateNode={isHidden:!1},t}function BN(t,e,r){return t=ul(6,t,null,e),t.lanes=r,t}function FN(t,e,r){return e=ul(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xxe(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bN(0),this.expirationTimes=bN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bN(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wB(t,e,r,n,s,i,a,o,c){return t=new xxe(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ul(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sB(i),t}function wxe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qb,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nte(t){if(!t)return Vp;t=t._reactInternals;e:{if(R1(t)!==t||t.tag!==1)throw Error(Et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Et(171))}if(t.tag===1){var r=t.type;if(Mo(r))return nee(t,r,e)}return e}function ste(t,e,r,n,s,i,a,o,c){return t=wB(r,n,!0,t,s,i,a,o,c),t.context=nte(null),r=t.current,n=Ga(),s=Mp(r),i=ph(n,s),i.callback=e??null,Tp(r,i,s),t.current.lanes=s,T4(t,s,n),$o(t,n),t}function IP(t,e,r,n){var s=e.current,i=Ga(),a=Mp(s);return r=nte(r),e.context===null?e.context=r:e.pendingContext=r,e=ph(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Tp(s,e,a),t!==null&&(Au(t,s,a,i),B9(t,s,a)),a}function fA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function AB(t,e){tL(t,e),(t=t.alternate)&&tL(t,e)}function Axe(){return null}var ite=typeof reportError=="function"?reportError:function(t){console.error(t)};function SB(t){this._internalRoot=t}NP.prototype.render=SB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Et(409));IP(t,e,null,null)};NP.prototype.unmount=SB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;f1(function(){IP(null,t,null,null)}),e[kh]=null}};function NP(t){this._internalRoot=t}NP.prototype.unstable_scheduleHydration=function(t){if(t){var e=BG();t={blockedOn:null,target:t,priority:e};for(var r=0;r<q0.length&&e!==0&&e<q0[r].priority;r++);q0.splice(r,0,t),r===0&&RG(t)}};function PB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function EP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rL(){}function Sxe(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=fA(a);i.call(l)}}var a=ste(e,n,t,0,null,!1,!1,"",rL);return t._reactRootContainer=a,t[kh]=a.current,W3(t.nodeType===8?t.parentNode:t),f1(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var l=fA(c);o.call(l)}}var c=wB(t,0,!1,null,null,!1,!1,"",rL);return t._reactRootContainer=c,t[kh]=c.current,W3(t.nodeType===8?t.parentNode:t),f1(function(){IP(e,c,r,n)}),c}function CP(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=fA(a);o.call(c)}}IP(e,a,t,s)}else a=Sxe(r,e,t,s,n);return fA(a)}$G=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=B2(e.pendingLanes);r!==0&&(VO(e,r|1),$o(e,Ts()),!(en&6)&&(ox=Ts()+500,cm()))}break;case 13:f1(function(){var n=Ih(t,1);if(n!==null){var s=Ga();Au(n,t,1,s)}}),AB(t,1)}};HO=function(t){if(t.tag===13){var e=Ih(t,134217728);if(e!==null){var r=Ga();Au(e,t,134217728,r)}AB(t,134217728)}};OG=function(t){if(t.tag===13){var e=Mp(t),r=Ih(t,e);if(r!==null){var n=Ga();Au(r,t,e,n)}AB(t,e)}};BG=function(){return yn};FG=function(t,e){var r=yn;try{return yn=t,e()}finally{yn=r}};G_=function(t,e,r){switch(e){case"input":if(W_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=vP(n);if(!s)throw Error(Et(90));pG(n),W_(n,s)}}}break;case"textarea":gG(t,r);break;case"select":e=r.value,e!=null&&Ay(t,!!r.multiple,e,!1)}};SG=bB;PG=f1;var Pxe={usingClientEntryPoint:!1,Events:[M4,Jb,vP,wG,AG,bB]},Zw={findFiberByHostInstance:sg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kxe={bundleType:Zw.bundleType,version:Zw.version,rendererPackageName:Zw.rendererPackageName,rendererConfig:Zw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NG(t),t===null?null:t.stateNode},findFiberByHostInstance:Zw.findFiberByHostInstance||Axe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u8=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u8.isDisabled&&u8.supportsFiber)try{mP=u8.inject(kxe),Od=u8}catch{}}wc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pxe;wc.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PB(e))throw Error(Et(200));return wxe(t,e,null,r)};wc.createRoot=function(t,e){if(!PB(t))throw Error(Et(299));var r=!1,n="",s=ite;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wB(t,1,!1,null,null,r,!1,n,s),t[kh]=e.current,W3(t.nodeType===8?t.parentNode:t),new SB(e)};wc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Et(188)):(t=Object.keys(t).join(","),Error(Et(268,t)));return t=NG(e),t=t===null?null:t.stateNode,t};wc.flushSync=function(t){return f1(t)};wc.hydrate=function(t,e,r){if(!EP(e))throw Error(Et(200));return CP(null,t,e,!0,r)};wc.hydrateRoot=function(t,e,r){if(!PB(t))throw Error(Et(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ite;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=ste(e,null,t,1,r??null,s,!1,i,a),t[kh]=e.current,W3(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new NP(e)};wc.render=function(t,e,r){if(!EP(e))throw Error(Et(200));return CP(null,t,e,!1,r)};wc.unmountComponentAtNode=function(t){if(!EP(t))throw Error(Et(40));return t._reactRootContainer?(f1(function(){CP(null,null,t,!1,function(){t._reactRootContainer=null,t[kh]=null})}),!0):!1};wc.unstable_batchedUpdates=bB;wc.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!EP(r))throw Error(Et(200));if(t==null||t._reactInternals===void 0)throw Error(Et(38));return CP(t,e,r,!1,n)};wc.version="18.3.1-next-f1338f8080-20240426";function ate(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ate)}catch(t){console.error(t)}}ate(),aG.exports=wc;var D1=aG.exports;const Ixe=La(D1);var ote,nL=D1;ote=nL.createRoot,nL.hydrateRoot;function Nxe(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,a=[],o="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(a.push(r),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var cte={exports:{}},lte={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=B;function Exe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cxe=typeof Object.is=="function"?Object.is:Exe,_xe=cx.useState,Txe=cx.useEffect,jxe=cx.useLayoutEffect,Mxe=cx.useDebugValue;function $xe(t,e){var r=e(),n=_xe({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return jxe(function(){s.value=r,s.getSnapshot=e,RN(s)&&i({inst:s})},[t,r,e]),Txe(function(){return RN(s)&&i({inst:s}),t(function(){RN(s)&&i({inst:s})})},[t]),Mxe(r),r}function RN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cxe(t,r)}catch{return!0}}function Oxe(t,e){return e()}var Bxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Oxe:$xe;lte.useSyncExternalStore=cx.useSyncExternalStore!==void 0?cx.useSyncExternalStore:Bxe;cte.exports=lte;var Fxe=cte.exports;const Rxe=sG.useInsertionEffect,Dxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uxe=Dxe?B.useLayoutEffect:B.useEffect,zxe=Rxe||Uxe,ute=t=>{const e=B.useRef([t,(...r)=>e[0](...r)]).current;return zxe(()=>{e[0]=t}),e[1]},Lxe="popstate",kB="pushState",IB="replaceState",Vxe="hashchange",sL=[Lxe,kB,IB,Vxe],Hxe=t=>{for(const e of sL)addEventListener(e,t);return()=>{for(const e of sL)removeEventListener(e,t)}},dte=(t,e)=>Fxe.useSyncExternalStore(Hxe,t,e),qxe=()=>location.search,Wxe=({ssrSearch:t=""}={})=>dte(qxe,()=>t),iL=()=>location.pathname,Kxe=({ssrPath:t}={})=>dte(iL,t?()=>t:iL),Xxe=(t,{replace:e=!1,state:r=null}={})=>history[e?IB:kB](r,"",t),Zxe=(t={})=>[Kxe(t),Xxe],aL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[aL]>"u"){for(const t of[kB,IB]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,aL,{value:!0})}const Jxe=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",fte=(t="")=>t==="/"?"":t,Qxe=(t,e)=>t[0]==="~"?t.slice(1):fte(e)+t,Yxe=(t="",e)=>Jxe(jT(fte(t)),jT(e)),Gxe=t=>t[0]==="?"?t.slice(1):t,jT=t=>{try{return decodeURI(t)}catch{return t}},ewe=t=>jT(Gxe(t)),hte={hook:Zxe,searchHook:Wxe,parser:Nxe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},pte=B.createContext(hte),ew=()=>B.useContext(pte),mte={},gte=B.createContext(mte),bte=()=>B.useContext(gte),_P=t=>{const[e,r]=t.hook(t);return[Yxe(t.base,e),ute((n,s)=>r(Qxe(n,t.base),s))]},Ou=()=>_P(ew()),yte=()=>{const t=ew();return ewe(t.searchHook(t))},vte=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=s.exec(r)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):a.groups;let u={...c};return l&&Object.assign(u,l),u})(),...n?[o]:[]]:[!1,null]},twe=({children:t,...e})=>{var u,f;const r=ew(),n=e.hook?hte:r;let s=n;const[i,a]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=B.useRef({}),c=o.current,l=c;for(let h in n){const m=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===l&&m!==l[h]&&(o.current=l={...l}),l[h]=m,m!==n[h]&&(s=l)}return B.createElement(pte.Provider,{value:s,children:t})},oL=({children:t,component:e},r)=>e?B.createElement(e,{params:r}):typeof t=="function"?t(r):t,rwe=t=>{let e=B.useRef(mte),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Mc=({path:t,nest:e,match:r,...n})=>{const s=ew(),[i]=_P(s),[a,o,c]=r??vte(s.parser,t,i,e),l=rwe({...bte(),...o});if(!a)return null;const u=c?B.createElement(twe,{base:c},oL(n,l)):oL(n,l);return B.createElement(gte.Provider,{value:l,children:u})},dl=B.forwardRef((t,e)=>{const r=ew(),[n,s]=_P(r),{to:i="",href:a=i,onClick:o,asChild:c,children:l,className:u,replace:f,state:h,...m}=t,y=ute(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(o==null||o(k),k.defaultPrevented||(k.preventDefault(),s(a,t)))}),x=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&B.isValidElement(l)?B.cloneElement(l,{onClick:y,href:x}):B.createElement("a",{...m,onClick:y,href:x,className:u!=null&&u.call?u(n===a):u,children:l,ref:e})}),xte=t=>Array.isArray(t)?t.flatMap(e=>xte(e&&e.type===B.Fragment?e.props.children:e)):[t],nwe=({children:t,location:e})=>{const r=ew(),[n]=_P(r);for(const s of xte(t)){let i=0;if(B.isValidElement(s)&&(i=vte(r.parser,s.props.path,e||n,s.props.nest))[0])return B.cloneElement(s,{match:i})}return null};var O4=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h1=typeof window>"u"||"Deno"in globalThis;function il(){}function swe(t,e){return typeof t=="function"?t(e):t}function MT(t){return typeof t=="number"&&t>=0&&t!==1/0}function wte(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ey(t,e){return typeof t=="function"?t(e):t}function fu(t,e){return typeof t=="function"?t(e):t}function cL(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==NB(a,e.options))return!1}else if(!r6(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function lL(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(t6(e.options.mutationKey)!==t6(i))return!1}else if(!r6(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function NB(t,e){return((e==null?void 0:e.queryKeyHashFn)||t6)(t)}function t6(t){return JSON.stringify(t,(e,r)=>OT(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function r6(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!r6(t[r],e[r])):!1}function Ate(t,e){if(t===e)return t;const r=uL(t)&&uL(e);if(r||OT(t)&&OT(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let c=0;for(let l=0;l<a;l++){const u=r?l:i[l];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,c++):(o[u]=Ate(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return s===a&&c===s?t:o}return e}function $T(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function uL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function OT(t){if(!dL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dL(t){return Object.prototype.toString.call(t)==="[object Object]"}function iwe(t){return new Promise(e=>{setTimeout(e,t)})}function BT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ate(t,e):e}function awe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function owe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var EB=Symbol();function Ste(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===EB?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var vg,Z0,Gy,FY,cwe=(FY=class extends O4{constructor(){super();Ne(this,vg);Ne(this,Z0);Ne(this,Gy);oe(this,Gy,e=>{if(!h1&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Z0)||this.setEventListener(K(this,Gy))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Z0))==null||e.call(this),oe(this,Z0,void 0))}setEventListener(e){var r;oe(this,Gy,e),(r=K(this,Z0))==null||r.call(this),oe(this,Z0,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){K(this,vg)!==e&&(oe(this,vg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof K(this,vg)=="boolean"?K(this,vg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vg=new WeakMap,Z0=new WeakMap,Gy=new WeakMap,FY),CB=new cwe,ev,J0,tv,RY,lwe=(RY=class extends O4{constructor(){super();Ne(this,ev,!0);Ne(this,J0);Ne(this,tv);oe(this,tv,e=>{if(!h1&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,J0)||this.setEventListener(K(this,tv))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,J0))==null||e.call(this),oe(this,J0,void 0))}setEventListener(e){var r;oe(this,tv,e),(r=K(this,J0))==null||r.call(this),oe(this,J0,e(this.setOnline.bind(this)))}setOnline(e){K(this,ev)!==e&&(oe(this,ev,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return K(this,ev)}},ev=new WeakMap,J0=new WeakMap,tv=new WeakMap,RY),hA=new lwe;function FT(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function uwe(t){return Math.min(1e3*2**t,3e4)}function Pte(t){return(t??"online")==="online"?hA.isOnline():!0}var kte=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function DN(t){return t instanceof kte}function Ite(t){let e=!1,r=0,n=!1,s;const i=FT(),a=x=>{var k;n||(h(new kte(x)),(k=t.abort)==null||k.call(t))},o=()=>{e=!0},c=()=>{e=!1},l=()=>CB.isFocused()&&(t.networkMode==="always"||hA.isOnline())&&t.canRun(),u=()=>Pte(t.networkMode)&&t.canRun(),f=x=>{var k;n||(n=!0,(k=t.onSuccess)==null||k.call(t,x),s==null||s(),i.resolve(x))},h=x=>{var k;n||(n=!0,(k=t.onError)==null||k.call(t,x),s==null||s(),i.reject(x))},m=()=>new Promise(x=>{var k;s=C=>{(n||l())&&x(C)},(k=t.onPause)==null||k.call(t)}).then(()=>{var x;s=void 0,n||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(n)return;let x;const k=r===0?t.initialPromise:void 0;try{x=k??t.fn()}catch(C){x=Promise.reject(C)}Promise.resolve(x).then(f).catch(C=>{var D;if(n)return;const I=t.retry??(h1?0:3),_=t.retryDelay??uwe,O=typeof _=="function"?_(r,C):_,F=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,C);if(e||!F){h(C);return}r++,(D=t.onFail)==null||D.call(t,r,C),iwe(O).then(()=>l()?void 0:m()).then(()=>{e?h(C):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?y():m().then(y),i)}}function dwe(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Di=dwe(),xg,DY,Nte=(DY=class{constructor(){Ne(this,xg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MT(this.gcTime)&&oe(this,xg,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(h1?1/0:5*60*1e3))}clearGcTimeout(){K(this,xg)&&(clearTimeout(K(this,xg)),oe(this,xg,void 0))}},xg=new WeakMap,DY),rv,nv,el,xa,d4,wg,ru,jf,UY,fwe=(UY=class extends Nte{constructor(e){super();Ne(this,ru);Ne(this,rv);Ne(this,nv);Ne(this,el);Ne(this,xa);Ne(this,d4);Ne(this,wg);oe(this,wg,!1),oe(this,d4,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,el,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,rv,hwe(this.options)),this.state=e.state??K(this,rv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,xa))==null?void 0:e.promise}setOptions(e){this.options={...K(this,d4),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,el).remove(this)}setData(e,r){const n=BT(this.state.data,e,this.options);return Ye(this,ru,jf).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ye(this,ru,jf).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=K(this,xa))==null?void 0:n.promise;return(s=K(this,xa))==null||s.cancel(e),r?r.then(il).catch(il):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,rv))}isActive(){return this.observers.some(e=>fu(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===EB||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wte(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,xa))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,xa))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,el).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(K(this,xa)&&(K(this,wg)?K(this,xa).cancel({revert:!0}):K(this,xa).cancelRetry()),this.scheduleGc()),K(this,el).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,ru,jf).call(this,{type:"invalidate"})}fetch(e,r){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,xa))return K(this,xa).continueRetry(),K(this,xa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(oe(this,wg,!0),n.signal)})},i=()=>{const f=Ste(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),oe(this,wg,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),oe(this,nv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&Ye(this,ru,jf).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const o=f=>{var h,m,y,x;DN(f)&&f.silent||Ye(this,ru,jf).call(this,{type:"error",error:f}),DN(f)||((m=(h=K(this,el).config).onError)==null||m.call(h,f,this),(x=(y=K(this,el).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return oe(this,xa,Ite({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,y,x;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(k){o(k);return}(m=(h=K(this,el).config).onSuccess)==null||m.call(h,f,this),(x=(y=K(this,el).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Ye(this,ru,jf).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ye(this,ru,jf).call(this,{type:"pause"})},onContinue:()=>{Ye(this,ru,jf).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,xa).start()}},rv=new WeakMap,nv=new WeakMap,el=new WeakMap,xa=new WeakMap,d4=new WeakMap,wg=new WeakMap,ru=new WeakSet,jf=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ete(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return DN(s)&&s.revert&&K(this,nv)?{...K(this,nv),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Di.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,el).notify({query:this,type:"updated",action:e})})},UY);function Ete(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pte(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hwe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ud,zY,pwe=(zY=class extends O4{constructor(e={}){super();Ne(this,ud);this.config=e,oe(this,ud,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??NB(s,r);let a=this.get(i);return a||(a=new fwe({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){K(this,ud).has(e.queryHash)||(K(this,ud).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=K(this,ud).get(e.queryHash);r&&(e.destroy(),r===e&&K(this,ud).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,ud).get(e)}getAll(){return[...K(this,ud).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>cL(e,n)):r}notify(e){Di.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Di.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Di.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ud=new WeakMap,zY),dd,Va,Ag,fd,E0,LY,mwe=(LY=class extends Nte{constructor(e){super();Ne(this,fd);Ne(this,dd);Ne(this,Va);Ne(this,Ag);this.mutationId=e.mutationId,oe(this,Va,e.mutationCache),oe(this,dd,[]),this.state=e.state||gwe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,dd).includes(e)||(K(this,dd).push(e),this.clearGcTimeout(),K(this,Va).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,dd,K(this,dd).filter(r=>r!==e)),this.scheduleGc(),K(this,Va).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,dd).length||(this.state.status==="pending"?this.scheduleGc():K(this,Va).remove(this))}continue(){var e;return((e=K(this,Ag))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,o,c,l,u,f,h,m,y,x,k,C,I,_,O,F,D,j;oe(this,Ag,Ite({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Ye(this,fd,E0).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Ye(this,fd,E0).call(this,{type:"pause"})},onContinue:()=>{Ye(this,fd,E0).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Va).canRun(this)}));const r=this.state.status==="pending",n=!K(this,Ag).canStart();try{if(!r){Ye(this,fd,E0).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=K(this,Va).config).onMutate)==null?void 0:i.call(s,e,this));const R=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));R!==this.state.context&&Ye(this,fd,E0).call(this,{type:"pending",context:R,variables:e,isPaused:n})}const T=await K(this,Ag).start();return await((l=(c=K(this,Va).config).onSuccess)==null?void 0:l.call(c,T,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,T,e,this.state.context)),await((m=(h=K(this,Va).config).onSettled)==null?void 0:m.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,T,null,e,this.state.context)),Ye(this,fd,E0).call(this,{type:"success",data:T}),T}catch(T){try{throw await((C=(k=K(this,Va).config).onError)==null?void 0:C.call(k,T,e,this.state.context,this)),await((_=(I=this.options).onError)==null?void 0:_.call(I,T,e,this.state.context)),await((F=(O=K(this,Va).config).onSettled)==null?void 0:F.call(O,void 0,T,this.state.variables,this.state.context,this)),await((j=(D=this.options).onSettled)==null?void 0:j.call(D,void 0,T,e,this.state.context)),T}finally{Ye(this,fd,E0).call(this,{type:"error",error:T})}}finally{K(this,Va).runNext(this)}}},dd=new WeakMap,Va=new WeakMap,Ag=new WeakMap,fd=new WeakSet,E0=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Di.batch(()=>{K(this,dd).forEach(n=>{n.onMutationUpdate(e)}),K(this,Va).notify({mutation:this,type:"updated",action:e})})},LY);function gwe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qo,f4,VY,bwe=(VY=class extends O4{constructor(e={}){super();Ne(this,Qo);Ne(this,f4);this.config=e,oe(this,Qo,new Map),oe(this,f4,Date.now())}build(e,r,n){const s=new mwe({mutationCache:this,mutationId:++Yh(this,f4)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=d8(e),n=K(this,Qo).get(r)??[];n.push(e),K(this,Qo).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=d8(e);if(K(this,Qo).has(r)){const s=(n=K(this,Qo).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?K(this,Qo).delete(r):K(this,Qo).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=K(this,Qo).get(d8(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=K(this,Qo).get(d8(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...K(this,Qo).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lL(r,n))}findAll(e={}){return this.getAll().filter(r=>lL(e,r))}notify(e){Di.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Di.batch(()=>Promise.all(e.map(r=>r.continue().catch(il))))}},Qo=new WeakMap,f4=new WeakMap,VY);function d8(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function fL(t){return{onFetch:(e,r)=>{var u,f,h,m,y;const n=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const l=async()=>{let x=!1;const k=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},C=Ste(e.options,e.fetchOptions),I=async(_,O,F)=>{if(x)return Promise.reject();if(O==null&&_.pages.length)return Promise.resolve(_);const D={queryKey:e.queryKey,pageParam:O,direction:F?"backward":"forward",meta:e.options.meta};k(D);const j=await C(D),{maxPages:T}=e.options,R=F?owe:awe;return{pages:R(_.pages,j,T),pageParams:R(_.pageParams,O,T)}};if(s&&i.length){const _=s==="backward",O=_?ywe:hL,F={pages:i,pageParams:a},D=O(n,F);o=await I(F,D,_)}else{const _=t??i.length;do{const O=c===0?a[0]??n.initialPageParam:hL(n,o);if(c>0&&O==null)break;o=await I(o,O),c++}while(c<_)}return o};e.options.persister?e.fetchFn=()=>{var x,k;return(k=(x=e.options).persister)==null?void 0:k.call(x,l,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function hL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ywe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ys,Q0,Y0,sv,iv,G0,av,ov,HY,vwe=(HY=class{constructor(t={}){Ne(this,ys);Ne(this,Q0);Ne(this,Y0);Ne(this,sv);Ne(this,iv);Ne(this,G0);Ne(this,av);Ne(this,ov);oe(this,ys,t.queryCache||new pwe),oe(this,Q0,t.mutationCache||new bwe),oe(this,Y0,t.defaultOptions||{}),oe(this,sv,new Map),oe(this,iv,new Map),oe(this,G0,0)}mount(){Yh(this,G0)._++,K(this,G0)===1&&(oe(this,av,CB.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,ys).onFocus())})),oe(this,ov,hA.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,ys).onOnline())})))}unmount(){var t,e;Yh(this,G0)._--,K(this,G0)===0&&((t=K(this,av))==null||t.call(this),oe(this,av,void 0),(e=K(this,ov))==null||e.call(this),oe(this,ov,void 0))}isFetching(t){return K(this,ys).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Q0).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,ys).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=K(this,ys).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Ey(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return K(this,ys).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=K(this,ys).get(n.queryHash),i=s==null?void 0:s.state.data,a=swe(e,i);if(a!==void 0)return K(this,ys).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Di.batch(()=>K(this,ys).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,ys).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=K(this,ys);Di.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=K(this,ys),n={type:"active",...t};return Di.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Di.batch(()=>K(this,ys).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(il).catch(il)}invalidateQueries(t={},e={}){return Di.batch(()=>{if(K(this,ys).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Di.batch(()=>K(this,ys).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(il)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(il)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=K(this,ys).build(this,e);return r.isStaleByTime(Ey(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(il).catch(il)}fetchInfiniteQuery(t){return t.behavior=fL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(il).catch(il)}ensureInfiniteQueryData(t){return t.behavior=fL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hA.isOnline()?K(this,Q0).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,ys)}getMutationCache(){return K(this,Q0)}getDefaultOptions(){return K(this,Y0)}setDefaultOptions(t){oe(this,Y0,t)}setQueryDefaults(t,e){K(this,sv).set(t6(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,sv).values()];let r={};return e.forEach(n=>{r6(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){K(this,iv).set(t6(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,iv).values()];let r={};return e.forEach(n=>{r6(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Y0).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NB(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===EB&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Y0).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,ys).clear(),K(this,Q0).clear()}},ys=new WeakMap,Q0=new WeakMap,Y0=new WeakMap,sv=new WeakMap,iv=new WeakMap,G0=new WeakMap,av=new WeakMap,ov=new WeakMap,HY),xo,qr,h4,Ha,Sg,cv,ep,hd,p4,lv,uv,Pg,kg,tp,dv,gn,R2,RT,DT,UT,zT,LT,VT,HT,Cte,qY,xwe=(qY=class extends O4{constructor(e,r){super();Ne(this,gn);Ne(this,xo);Ne(this,qr);Ne(this,h4);Ne(this,Ha);Ne(this,Sg);Ne(this,cv);Ne(this,ep);Ne(this,hd);Ne(this,p4);Ne(this,lv);Ne(this,uv);Ne(this,Pg);Ne(this,kg);Ne(this,tp);Ne(this,dv,new Set);this.options=r,oe(this,xo,e),oe(this,hd,null),oe(this,ep,FT()),this.options.experimental_prefetchInRender||K(this,ep).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,qr).addObserver(this),pL(K(this,qr),this.options)?Ye(this,gn,R2).call(this):this.updateResult(),Ye(this,gn,zT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qT(K(this,qr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qT(K(this,qr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,gn,LT).call(this),Ye(this,gn,VT).call(this),K(this,qr).removeObserver(this)}setOptions(e,r){const n=this.options,s=K(this,qr);if(this.options=K(this,xo).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fu(this.options.enabled,K(this,qr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,gn,HT).call(this),K(this,qr).setOptions(this.options),n._defaulted&&!$T(this.options,n)&&K(this,xo).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,qr),observer:this});const i=this.hasListeners();i&&mL(K(this,qr),s,this.options,n)&&Ye(this,gn,R2).call(this),this.updateResult(r),i&&(K(this,qr)!==s||fu(this.options.enabled,K(this,qr))!==fu(n.enabled,K(this,qr))||Ey(this.options.staleTime,K(this,qr))!==Ey(n.staleTime,K(this,qr)))&&Ye(this,gn,RT).call(this);const a=Ye(this,gn,DT).call(this);i&&(K(this,qr)!==s||fu(this.options.enabled,K(this,qr))!==fu(n.enabled,K(this,qr))||a!==K(this,tp))&&Ye(this,gn,UT).call(this,a)}getOptimisticResult(e){const r=K(this,xo).getQueryCache().build(K(this,xo),e),n=this.createResult(r,e);return Awe(this,n)&&(oe(this,Ha,n),oe(this,cv,this.options),oe(this,Sg,K(this,qr).state)),n}getCurrentResult(){return K(this,Ha)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){K(this,dv).add(e)}getCurrentQuery(){return K(this,qr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=K(this,xo).defaultQueryOptions(e),n=K(this,xo).getQueryCache().build(K(this,xo),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ye(this,gn,R2).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,Ha)))}createResult(e,r){var T;const n=K(this,qr),s=this.options,i=K(this,Ha),a=K(this,Sg),o=K(this,cv),l=e!==n?e.state:K(this,h4),{state:u}=e;let f={...u},h=!1,m;if(r._optimisticResults){const R=this.hasListeners(),q=!R&&pL(e,r),$=R&&mL(e,n,r,s);(q||$)&&(f={...f,...Ete(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:k}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&r.select===K(this,p4))m=K(this,lv);else try{oe(this,p4,r.select),m=r.select(f.data),m=BT(i==null?void 0:i.data,m,r),oe(this,lv,m),oe(this,hd,null)}catch(R){oe(this,hd,R)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&k==="pending"){let R;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))R=i.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((T=K(this,uv))==null?void 0:T.state.data,K(this,uv)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),oe(this,hd,null)}catch(q){oe(this,hd,q)}R!==void 0&&(k="success",m=BT(i==null?void 0:i.data,R,r),h=!0)}K(this,hd)&&(y=K(this,hd),m=K(this,lv),x=Date.now(),k="error");const C=f.fetchStatus==="fetching",I=k==="pending",_=k==="error",O=I&&C,F=m!==void 0,j={status:k,fetchStatus:f.fetchStatus,isPending:I,isSuccess:k==="success",isError:_,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!I,isLoadingError:_&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&F,isStale:_B(e,r),refetch:this.refetch,promise:K(this,ep)};if(this.options.experimental_prefetchInRender){const R=b=>{j.status==="error"?b.reject(j.error):j.data!==void 0&&b.resolve(j.data)},q=()=>{const b=oe(this,ep,j.promise=FT());R(b)},$=K(this,ep);switch($.status){case"pending":e.queryHash===n.queryHash&&R($);break;case"fulfilled":(j.status==="error"||j.data!==$.value)&&q();break;case"rejected":(j.status!=="error"||j.error!==$.reason)&&q();break}}return j}updateResult(e){const r=K(this,Ha),n=this.createResult(K(this,qr),this.options);if(oe(this,Sg,K(this,qr).state),oe(this,cv,this.options),K(this,Sg).data!==void 0&&oe(this,uv,K(this,qr)),$T(n,r))return;oe(this,Ha,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!K(this,dv).size)return!0;const c=new Set(o??K(this,dv));return this.options.throwOnError&&c.add("error"),Object.keys(K(this,Ha)).some(l=>{const u=l;return K(this,Ha)[u]!==r[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,gn,Cte).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,gn,zT).call(this)}},xo=new WeakMap,qr=new WeakMap,h4=new WeakMap,Ha=new WeakMap,Sg=new WeakMap,cv=new WeakMap,ep=new WeakMap,hd=new WeakMap,p4=new WeakMap,lv=new WeakMap,uv=new WeakMap,Pg=new WeakMap,kg=new WeakMap,tp=new WeakMap,dv=new WeakMap,gn=new WeakSet,R2=function(e){Ye(this,gn,HT).call(this);let r=K(this,qr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(il)),r},RT=function(){Ye(this,gn,LT).call(this);const e=Ey(this.options.staleTime,K(this,qr));if(h1||K(this,Ha).isStale||!MT(e))return;const n=wte(K(this,Ha).dataUpdatedAt,e)+1;oe(this,Pg,setTimeout(()=>{K(this,Ha).isStale||this.updateResult()},n))},DT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,qr)):this.options.refetchInterval)??!1},UT=function(e){Ye(this,gn,VT).call(this),oe(this,tp,e),!(h1||fu(this.options.enabled,K(this,qr))===!1||!MT(K(this,tp))||K(this,tp)===0)&&oe(this,kg,setInterval(()=>{(this.options.refetchIntervalInBackground||CB.isFocused())&&Ye(this,gn,R2).call(this)},K(this,tp)))},zT=function(){Ye(this,gn,RT).call(this),Ye(this,gn,UT).call(this,Ye(this,gn,DT).call(this))},LT=function(){K(this,Pg)&&(clearTimeout(K(this,Pg)),oe(this,Pg,void 0))},VT=function(){K(this,kg)&&(clearInterval(K(this,kg)),oe(this,kg,void 0))},HT=function(){const e=K(this,xo).getQueryCache().build(K(this,xo),this.options);if(e===K(this,qr))return;const r=K(this,qr);oe(this,qr,e),oe(this,h4,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Cte=function(e){Di.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(K(this,Ha))}),K(this,xo).getQueryCache().notify({query:K(this,qr),type:"observerResultsUpdated"})})},qY);function wwe(t,e){return fu(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pL(t,e){return wwe(t,e)||t.state.data!==void 0&&qT(t,e,e.refetchOnMount)}function qT(t,e,r){if(fu(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&_B(t,e)}return!1}function mL(t,e,r,n){return(t!==e||fu(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&_B(t,r)}function _B(t,e){return fu(e.enabled,t)!==!1&&t.isStaleByTime(Ey(e.staleTime,t))}function Awe(t,e){return!$T(t.getCurrentResult(),e)}var _te=B.createContext(void 0),Swe=t=>{const e=B.useContext(_te);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Pwe=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(_te.Provider,{value:t,children:e})),Tte=B.createContext(!1),kwe=()=>B.useContext(Tte);Tte.Provider;function Iwe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Nwe=B.createContext(Iwe()),Ewe=()=>B.useContext(Nwe);function Cwe(t,e){return typeof t=="function"?t(...e):!!t}function gL(){}var _we=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Twe=t=>{B.useEffect(()=>{t.clearReset()},[t])},jwe=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Cwe(r,[t.error,n]),Mwe=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$we=(t,e)=>t.isLoading&&t.isFetching&&!e,Owe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,bL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Bwe(t,e,r){var u,f,h,m,y;const n=Swe(),s=kwe(),i=Ewe(),a=n.defaultQueryOptions(t);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,a),a._optimisticResults=s?"isRestoring":"optimistic",Mwe(a),_we(a,i),Twe(i);const o=!n.getQueryCache().get(a.queryHash),[c]=B.useState(()=>new e(n,a)),l=c.getOptimisticResult(a);if(B.useSyncExternalStore(B.useCallback(x=>{const k=s?gL:c.subscribe(Di.batchCalls(x));return c.updateResult(),k},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),B.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),Owe(a,l))throw bL(a,c,i);if(jwe({result:l,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw l.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,a,l),a.experimental_prefetchInRender&&!h1&&$we(l,s)){const x=o?bL(a,c,i):(y=n.getQueryCache().get(a.queryHash))==null?void 0:y.promise;x==null||x.catch(gL).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?l:c.trackResult(l)}function Fwe(t,e){return Bwe(t,xwe)}async function Rwe(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Dwe=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await Rwe(r),await r.json())},Uwe=new vwe({defaultOptions:{queries:{queryFn:Dwe({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),zwe=1,Lwe=1e6;let UN=0;function Vwe(){return UN=(UN+1)%Number.MAX_SAFE_INTEGER,UN.toString()}const zN=new Map,yL=t=>{if(zN.has(t))return;const e=setTimeout(()=>{zN.delete(t),v3({type:"REMOVE_TOAST",toastId:t})},Lwe);zN.set(t,e)},Hwe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zwe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?yL(r):t.toasts.forEach(n=>{yL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},V9=[];let H9={toasts:[]};function v3(t){H9=Hwe(H9,t),V9.forEach(e=>{e(H9)})}function qwe({...t}){const e=Vwe(),r=s=>v3({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>v3({type:"DISMISS_TOAST",toastId:e});return v3({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Qs(){const[t,e]=B.useState(H9);return B.useEffect(()=>(V9.push(e),()=>{const r=V9.indexOf(e);r>-1&&V9.splice(r,1)}),[t]),{...t,toast:qwe,dismiss:r=>v3({type:"DISMISS_TOAST",toastId:r})}}function Ct(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TP(...t){return e=>{let r=!1;const n=t.map(s=>{const i=vL(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():vL(t[s],null)}}}}function yr(...t){return B.useCallback(TP(...t),t)}function Wwe(t,e){const r=B.createContext(e),n=i=>{const{children:a,...o}=i,c=B.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(i){const a=B.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Zi(t,e=[]){let r=[];function n(i,a){const o=B.createContext(a),c=r.length;r=[...r,a];const l=f=>{var C;const{scope:h,children:m,...y}=f,x=((C=h==null?void 0:h[t])==null?void 0:C[c])||o,k=B.useMemo(()=>y,Object.values(y));return d.jsx(x.Provider,{value:k,children:m})};l.displayName=i+"Provider";function u(f,h){var x;const m=((x=h==null?void 0:h[t])==null?void 0:x[c])||o,y=B.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=r.map(a=>B.createContext(a));return function(o){const c=(o==null?void 0:o[t])||i;return B.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return s.scopeName=t,[n,Kwe(s,...e)]}function Kwe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...o,...f}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function p1(t){const e=Xwe(t),r=B.forwardRef((n,s)=>{const{children:i,...a}=n,o=B.Children.toArray(i),c=o.find(Zwe);if(c){const l=c.props.children,u=o.map(f=>f===c?B.Children.count(l)>1?B.Children.only(null):B.isValidElement(l)?l.props.children:null:f);return d.jsx(e,{...a,ref:s,children:B.isValidElement(l)?B.cloneElement(l,void 0,u):null})}return d.jsx(e,{...a,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var jte=p1("Slot");function Xwe(t){const e=B.forwardRef((r,n)=>{const{children:s,...i}=r;if(B.isValidElement(s)){const a=Qwe(s),o=Jwe(i,s.props);return s.type!==B.Fragment&&(o.ref=n?TP(n,a):a),B.cloneElement(s,o)}return B.Children.count(s)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mte=Symbol("radix.slottable");function $te(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Mte,e}function Zwe(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mte}function Jwe(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Qwe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function jP(t){const e=t+"CollectionProvider",[r,n]=Zi(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:k,children:C}=x,I=Yr.useRef(null),_=Yr.useRef(new Map).current;return d.jsx(s,{scope:k,itemMap:_,collectionRef:I,children:C})};a.displayName=e;const o=t+"CollectionSlot",c=p1(o),l=Yr.forwardRef((x,k)=>{const{scope:C,children:I}=x,_=i(o,C),O=yr(k,_.collectionRef);return d.jsx(c,{ref:O,children:I})});l.displayName=o;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=p1(u),m=Yr.forwardRef((x,k)=>{const{scope:C,children:I,..._}=x,O=Yr.useRef(null),F=yr(k,O),D=i(u,C);return Yr.useEffect(()=>(D.itemMap.set(O,{ref:O,..._}),()=>void D.itemMap.delete(O))),d.jsx(h,{[f]:"",ref:F,children:I})});m.displayName=u;function y(x){const k=i(t+"CollectionConsumer",x);return Yr.useCallback(()=>{const I=k.collectionRef.current;if(!I)return[];const _=Array.from(I.querySelectorAll(`[${f}]`));return Array.from(k.itemMap.values()).sort((D,j)=>_.indexOf(D.ref.current)-_.indexOf(j.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:a,Slot:l,ItemSlot:m},y,n]}var Ywe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qt=Ywe.reduce((t,e)=>{const r=p1(`Primitive.${e}`),n=B.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function TB(t,e){t&&D1.flushSync(()=>t.dispatchEvent(e))}function ls(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Gwe(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t);B.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var e2e="DismissableLayer",WT="dismissableLayer.update",t2e="dismissableLayer.pointerDownOutside",r2e="dismissableLayer.focusOutside",xL,Ote=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tw=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=t,l=B.useContext(Ote),[u,f]=B.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=B.useState({}),y=yr(e,j=>f(j)),x=Array.from(l.layers),[k]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),C=x.indexOf(k),I=u?x.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,O=I>=C,F=s2e(j=>{const T=j.target,R=[...l.branches].some(q=>q.contains(T));!O||R||(s==null||s(j),a==null||a(j),j.defaultPrevented||o==null||o())},h),D=i2e(j=>{const T=j.target;[...l.branches].some(q=>q.contains(T))||(i==null||i(j),a==null||a(j),j.defaultPrevented||o==null||o())},h);return Gwe(j=>{I===l.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},h),B.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(xL=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),wL(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xL)}},[u,h,r,l]),B.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),wL())},[u,l]),B.useEffect(()=>{const j=()=>m({});return document.addEventListener(WT,j),()=>document.removeEventListener(WT,j)},[]),d.jsx(Qt.div,{...c,ref:y,style:{pointerEvents:_?O?"auto":"none":void 0,...t.style},onFocusCapture:Ct(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Ct(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ct(t.onPointerDownCapture,F.onPointerDownCapture)})});tw.displayName=e2e;var n2e="DismissableLayerBranch",Bte=B.forwardRef((t,e)=>{const r=B.useContext(Ote),n=B.useRef(null),s=yr(e,n);return B.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(Qt.div,{...t,ref:s})});Bte.displayName=n2e;function s2e(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t),n=B.useRef(!1),s=B.useRef(()=>{});return B.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){Fte(t2e,r,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function i2e(t,e=globalThis==null?void 0:globalThis.document){const r=ls(t),n=B.useRef(!1);return B.useEffect(()=>{const s=i=>{i.target&&!n.current&&Fte(r2e,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wL(){const t=new CustomEvent(WT);document.dispatchEvent(t)}function Fte(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?TB(s,i):s.dispatchEvent(i)}var a2e=tw,o2e=Bte,Xi=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},c2e="Portal",B4=B.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[s,i]=B.useState(!1);Xi(()=>i(!0),[]);const a=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Ixe.createPortal(d.jsx(Qt.div,{...n,ref:e}),a):null});B4.displayName=c2e;function l2e(t,e){return B.useReducer((r,n)=>e[r][n]??r,t)}var Ji=t=>{const{present:e,children:r}=t,n=u2e(e),s=typeof r=="function"?r({present:n.isPresent}):B.Children.only(r),i=yr(n.ref,d2e(s));return typeof r=="function"||n.isPresent?B.cloneElement(s,{ref:i}):null};Ji.displayName="Presence";function u2e(t){const[e,r]=B.useState(),n=B.useRef({}),s=B.useRef(t),i=B.useRef("none"),a=t?"mounted":"unmounted",[o,c]=l2e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const l=f8(n.current);i.current=o==="mounted"?l:"none"},[o]),Xi(()=>{const l=n.current,u=s.current;if(u!==t){const h=i.current,m=f8(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Xi(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=m=>{const x=f8(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},h=m=>{m.target===e&&(i.current=f8(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:B.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function f8(t){return(t==null?void 0:t.animationName)||"none"}function d2e(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Nu({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=f2e({defaultProp:e,onChange:r}),i=t!==void 0,a=i?t:n,o=ls(r),c=B.useCallback(l=>{if(i){const f=typeof l=="function"?l(t):l;f!==t&&o(f)}else s(l)},[i,t,s,o]);return[a,c]}function f2e({defaultProp:t,onChange:e}){const r=B.useState(t),[n]=r,s=B.useRef(n),i=ls(e);return B.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var h2e="VisuallyHidden",F4=B.forwardRef((t,e)=>d.jsx(Qt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));F4.displayName=h2e;var p2e=F4,jB="ToastProvider",[MB,m2e,g2e]=jP("Toast"),[Rte,C3t]=Zi("Toast",[g2e]),[b2e,MP]=Rte(jB),Dte=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[o,c]=B.useState(null),[l,u]=B.useState(0),f=B.useRef(!1),h=B.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jB}\`. Expected non-empty \`string\`.`),d.jsx(MB.Provider,{scope:e,children:d.jsx(b2e,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:o,onViewportChange:c,onToastAdd:B.useCallback(()=>u(m=>m+1),[]),onToastRemove:B.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Dte.displayName=jB;var Ute="ToastViewport",y2e=["F8"],KT="toast.viewportPause",XT="toast.viewportResume",zte=B.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=y2e,label:s="Notifications ({hotkey})",...i}=t,a=MP(Ute,r),o=m2e(r),c=B.useRef(null),l=B.useRef(null),u=B.useRef(null),f=B.useRef(null),h=yr(e,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;B.useEffect(()=>{const k=C=>{var _;n.length!==0&&n.every(O=>C[O]||C.code===O)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]),B.useEffect(()=>{const k=c.current,C=f.current;if(y&&k&&C){const I=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(KT);C.dispatchEvent(D),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(XT);C.dispatchEvent(D),a.isClosePausedRef.current=!1}},O=D=>{!k.contains(D.relatedTarget)&&_()},F=()=>{k.contains(document.activeElement)||_()};return k.addEventListener("focusin",I),k.addEventListener("focusout",O),k.addEventListener("pointermove",I),k.addEventListener("pointerleave",F),window.addEventListener("blur",I),window.addEventListener("focus",_),()=>{k.removeEventListener("focusin",I),k.removeEventListener("focusout",O),k.removeEventListener("pointermove",I),k.removeEventListener("pointerleave",F),window.removeEventListener("blur",I),window.removeEventListener("focus",_)}}},[y,a.isClosePausedRef]);const x=B.useCallback(({tabbingDirection:k})=>{const I=o().map(_=>{const O=_.ref.current,F=[O,...T2e(O)];return k==="forwards"?F:F.reverse()});return(k==="forwards"?I.reverse():I).flat()},[o]);return B.useEffect(()=>{const k=f.current;if(k){const C=I=>{var F,D,j;const _=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!_){const T=document.activeElement,R=I.shiftKey;if(I.target===k&&R){(F=l.current)==null||F.focus();return}const b=x({tabbingDirection:R?"backwards":"forwards"}),w=b.findIndex(p=>p===T);LN(b.slice(w+1))?I.preventDefault():R?(D=l.current)==null||D.focus():(j=u.current)==null||j.focus()}};return k.addEventListener("keydown",C),()=>k.removeEventListener("keydown",C)}},[o,x]),d.jsxs(o2e,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&d.jsx(ZT,{ref:l,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"forwards"});LN(k)}}),d.jsx(MB.Slot,{scope:r,children:d.jsx(Qt.ol,{tabIndex:-1,...i,ref:h})}),y&&d.jsx(ZT,{ref:u,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"backwards"});LN(k)}})]})});zte.displayName=Ute;var Lte="ToastFocusProxy",ZT=B.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=MP(Lte,r);return d.jsx(F4,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var l;const o=a.relatedTarget;!((l=i.viewport)!=null&&l.contains(o))&&n()}})});ZT.displayName=Lte;var $P="Toast",v2e="toast.swipeStart",x2e="toast.swipeMove",w2e="toast.swipeCancel",A2e="toast.swipeEnd",Vte=B.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=t,[o=!0,c]=Nu({prop:n,defaultProp:s,onChange:i});return d.jsx(Ji,{present:r||o,children:d.jsx(k2e,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:ls(t.onPause),onResume:ls(t.onResume),onSwipeStart:Ct(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ct(t.onSwipeMove,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ct(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ct(t.onSwipeEnd,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Vte.displayName=$P;var[S2e,P2e]=Rte($P,{onClose(){}}),k2e=B.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,x=MP($P,r),[k,C]=B.useState(null),I=yr(e,p=>C(p)),_=B.useRef(null),O=B.useRef(null),F=s||x.duration,D=B.useRef(0),j=B.useRef(F),T=B.useRef(0),{onToastAdd:R,onToastRemove:q}=x,$=ls(()=>{var g;(k==null?void 0:k.contains(document.activeElement))&&((g=x.viewport)==null||g.focus()),a()}),b=B.useCallback(p=>{!p||p===1/0||(window.clearTimeout(T.current),D.current=new Date().getTime(),T.current=window.setTimeout($,p))},[$]);B.useEffect(()=>{const p=x.viewport;if(p){const g=()=>{b(j.current),l==null||l()},S=()=>{const N=new Date().getTime()-D.current;j.current=j.current-N,window.clearTimeout(T.current),c==null||c()};return p.addEventListener(KT,S),p.addEventListener(XT,g),()=>{p.removeEventListener(KT,S),p.removeEventListener(XT,g)}}},[x.viewport,F,c,l,b]),B.useEffect(()=>{i&&!x.isClosePausedRef.current&&b(F)},[i,F,x.isClosePausedRef,b]),B.useEffect(()=>(R(),()=>q()),[R,q]);const w=B.useMemo(()=>k?Jte(k):null,[k]);return x.viewport?d.jsxs(d.Fragment,{children:[w&&d.jsx(I2e,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:w}),d.jsx(S2e,{scope:r,onClose:$,children:D1.createPortal(d.jsx(MB.ItemSlot,{scope:r,children:d.jsx(a2e,{asChild:!0,onEscapeKeyDown:Ct(o,()=>{x.isFocusedToastEscapeKeyDownRef.current||$(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:I,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ct(t.onKeyDown,p=>{p.key==="Escape"&&(o==null||o(p.nativeEvent),p.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ct(t.onPointerDown,p=>{p.button===0&&(_.current={x:p.clientX,y:p.clientY})}),onPointerMove:Ct(t.onPointerMove,p=>{if(!_.current)return;const g=p.clientX-_.current.x,S=p.clientY-_.current.y,N=!!O.current,P=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,v=P?A(0,g):0,E=P?0:A(0,S),M=p.pointerType==="touch"?10:2,L={x:v,y:E},Q={originalEvent:p,delta:L};N?(O.current=L,h8(x2e,f,Q,{discrete:!1})):AL(L,x.swipeDirection,M)?(O.current=L,h8(v2e,u,Q,{discrete:!1}),p.target.setPointerCapture(p.pointerId)):(Math.abs(g)>M||Math.abs(S)>M)&&(_.current=null)}),onPointerUp:Ct(t.onPointerUp,p=>{const g=O.current,S=p.target;if(S.hasPointerCapture(p.pointerId)&&S.releasePointerCapture(p.pointerId),O.current=null,_.current=null,g){const N=p.currentTarget,P={originalEvent:p,delta:g};AL(g,x.swipeDirection,x.swipeThreshold)?h8(A2e,m,P,{discrete:!0}):h8(w2e,h,P,{discrete:!0}),N.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),I2e=t=>{const{__scopeToast:e,children:r,...n}=t,s=MP($P,e),[i,a]=B.useState(!1),[o,c]=B.useState(!1);return C2e(()=>a(!0)),B.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:d.jsx(B4,{asChild:!0,children:d.jsx(F4,{...n,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},N2e="ToastTitle",Hte=B.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});Hte.displayName=N2e;var E2e="ToastDescription",qte=B.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});qte.displayName=E2e;var Wte="ToastAction",Kte=B.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(Zte,{altText:r,asChild:!0,children:d.jsx($B,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wte}\`. Expected non-empty \`string\`.`),null)});Kte.displayName=Wte;var Xte="ToastClose",$B=B.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=P2e(Xte,r);return d.jsx(Zte,{asChild:!0,children:d.jsx(Qt.button,{type:"button",...n,ref:e,onClick:Ct(t.onClick,s.onClose)})})});$B.displayName=Xte;var Zte=B.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return d.jsx(Qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Jte(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),_2e(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Jte(n))}}),e}function h8(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?TB(s,i):s.dispatchEvent(i)}var AL=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function C2e(t=()=>{}){const e=ls(t);Xi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function _2e(t){return t.nodeType===t.ELEMENT_NODE}function T2e(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function LN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var j2e=Dte,Qte=zte,Yte=Vte,Gte=Hte,ere=qte,tre=Kte,rre=$B;function nre(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=nre(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function sre(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=nre(t))&&(n&&(n+=" "),n+=e);return n}const SL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,PL=sre,U1=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return PL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(l=>{const u=r==null?void 0:r[l],f=i==null?void 0:i[l];if(u===null)return null;const h=SL(u)||SL(f);return s[l][h]}),o=r&&Object.entries(r).reduce((l,u)=>{let[f,h]=u;return h===void 0||(l[f]=h),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(y=>{let[x,k]=y;return Array.isArray(k)?k.includes({...i,...o}[x]):{...i,...o}[x]===k})?[...l,f,h]:l},[]);return PL(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ire=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $2e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2e=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>B.createElement("svg",{ref:c,...$2e,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ire("lucide",s),...o},[...a.map(([l,u])=>B.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>{const r=B.forwardRef(({className:n,...s},i)=>B.createElement(O2e,{ref:i,iconNode:e,className:ire(`lucide-${M2e(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Wt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2e=Wt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2e=Wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Wt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2e=Wt("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2e=Wt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=Wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2e=Wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2e=Wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Wt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Wt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=Wt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=Wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2e=Wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Wt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Wt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Wt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2e=Wt("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=Wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Wt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Wt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Wt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Wt("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Wt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=Wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Wt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Wt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Wt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2e=Wt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2e=Wt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=Wt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=Wt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=Wt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2e=Wt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=Wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Wt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2e=Wt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2e=Wt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2e=Wt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2e=Wt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2e=Wt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2e=Wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Wt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2e=Wt("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3e=Wt("Unplug",[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Wt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=Wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Wt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3e=Wt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=Wt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BB="-",r3e=t=>{const e=s3e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(BB);return o[0]===""&&o.length!==1&&o.shift(),bre(o,e)||n3e(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},bre=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?bre(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(BB);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},EL=/^\[(.+)\]$/,n3e=t=>{if(EL.test(t)){const e=EL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},s3e=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return a3e(Object.entries(t.classGroups),r).forEach(([i,a])=>{QT(a,n,i,e)}),n},QT=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CL(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(i3e(s)){QT(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{QT(a,CL(e,i),r,n)})})},CL=(t,e)=>{let r=t;return e.split(BB).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},i3e=t=>t.isThemeGetter,a3e=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[r,s]}):t,o3e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},yre="!",c3e=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,a=o=>{const c=[];let l=0,u=0,f;for(let k=0;k<o.length;k++){let C=o[k];if(l===0){if(C===s&&(n||o.slice(k,k+i)===e)){c.push(o.slice(u,k)),u=k+i;continue}if(C==="/"){f=k;continue}}C==="["?l++:C==="]"&&l--}const h=c.length===0?o:o.substring(u),m=h.startsWith(yre),y=m?h.substring(1):h,x=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:a}):a},l3e=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},u3e=t=>({cache:o3e(t.cacheSize),parseClassName:c3e(t),...r3e(t)}),d3e=/\s+/,f3e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(d3e);let o="";for(let c=a.length-1;c>=0;c-=1){const l=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(l);let y=!!m,x=n(y?h.substring(0,m):h);if(!x){if(!y){o=l+(o.length>0?" "+o:o);continue}if(x=n(h),!x){o=l+(o.length>0?" "+o:o);continue}y=!1}const k=l3e(u).join(":"),C=f?k+yre:k,I=C+x;if(i.includes(I))continue;i.push(I);const _=s(x,y);for(let O=0;O<_.length;++O){const F=_[O];i.push(C+F)}o=l+(o.length>0?" "+o:o)}return o};function h3e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=vre(e))&&(n&&(n+=" "),n+=r);return n}const vre=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=vre(t[n]))&&(r&&(r+=" "),r+=e);return r};function p3e(t,...e){let r,n,s,i=a;function a(c){const l=e.reduce((u,f)=>f(u),t());return r=u3e(l),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const l=n(c);if(l)return l;const u=f3e(c,r);return s(c,u),u}return function(){return i(h3e.apply(null,arguments))}}const Ln=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},xre=/^\[(?:([a-z-]+):)?(.+)\]$/i,m3e=/^\d+\/\d+$/,g3e=new Set(["px","full","screen"]),b3e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y3e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v3e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x3e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w3e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=t=>_y(t)||g3e.has(t)||m3e.test(t),e0=t=>rw(t,"length",C3e),_y=t=>!!t&&!Number.isNaN(Number(t)),VN=t=>rw(t,"number",_y),Jw=t=>!!t&&Number.isInteger(Number(t)),A3e=t=>t.endsWith("%")&&_y(t.slice(0,-1)),kr=t=>xre.test(t),t0=t=>b3e.test(t),S3e=new Set(["length","size","percentage"]),P3e=t=>rw(t,S3e,wre),k3e=t=>rw(t,"position",wre),I3e=new Set(["image","url"]),N3e=t=>rw(t,I3e,T3e),E3e=t=>rw(t,"",_3e),Qw=()=>!0,rw=(t,e,r)=>{const n=xre.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},C3e=t=>y3e.test(t)&&!v3e.test(t),wre=()=>!1,_3e=t=>x3e.test(t),T3e=t=>w3e.test(t),j3e=()=>{const t=Ln("colors"),e=Ln("spacing"),r=Ln("blur"),n=Ln("brightness"),s=Ln("borderColor"),i=Ln("borderRadius"),a=Ln("borderSpacing"),o=Ln("borderWidth"),c=Ln("contrast"),l=Ln("grayscale"),u=Ln("hueRotate"),f=Ln("invert"),h=Ln("gap"),m=Ln("gradientColorStops"),y=Ln("gradientColorStopPositions"),x=Ln("inset"),k=Ln("margin"),C=Ln("opacity"),I=Ln("padding"),_=Ln("saturate"),O=Ln("scale"),F=Ln("sepia"),D=Ln("skew"),j=Ln("space"),T=Ln("translate"),R=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",kr,e],b=()=>[kr,e],w=()=>["",vf,e0],p=()=>["auto",_y,kr],g=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",kr],v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[_y,kr];return{cacheSize:500,separator:":",theme:{colors:[Qw],spacing:[vf,e0],blur:["none","",t0,kr],brightness:E(),borderColor:[t],borderRadius:["none","","full",t0,kr],borderSpacing:b(),borderWidth:w(),contrast:E(),grayscale:A(),hueRotate:E(),invert:A(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[A3e,e0],inset:$(),margin:$(),opacity:E(),padding:b(),saturate:E(),scale:E(),sepia:A(),skew:E(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",kr]}],container:["container"],columns:[{columns:[t0]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...g(),kr]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jw,kr]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kr]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Jw,kr]}],"grid-cols":[{"grid-cols":[Qw]}],"col-start-end":[{col:["auto",{span:["full",Jw,kr]},kr]}],"col-start":[{"col-start":p()}],"col-end":[{"col-end":p()}],"grid-rows":[{"grid-rows":[Qw]}],"row-start-end":[{row:["auto",{span:[Jw,kr]},kr]}],"row-start":[{"row-start":p()}],"row-end":[{"row-end":p()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kr,e]}],"min-w":[{"min-w":[kr,e,"min","max","fit"]}],"max-w":[{"max-w":[kr,e,"none","full","min","max","fit","prose",{screen:[t0]},t0]}],h:[{h:[kr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",t0,e0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",VN]}],"font-family":[{font:[Qw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kr]}],"line-clamp":[{"line-clamp":["none",_y,VN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vf,kr]}],"list-image":[{"list-image":["none",kr]}],"list-style-type":[{list:["none","disc","decimal",kr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vf,e0]}],"underline-offset":[{"underline-offset":["auto",vf,kr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...g(),k3e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P3e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N3e]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:S()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[vf,kr]}],"outline-w":[{outline:[vf,e0]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:w()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[vf,e0]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",t0,E3e]}],"shadow-color":[{shadow:[Qw]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...N(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",t0,kr]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kr]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",kr]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",kr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Jw,kr]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vf,e0,VN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M3e=p3e(j3e);function jt(...t){return M3e(sre(t))}const $3e=j2e,Are=B.forwardRef(({className:t,...e},r)=>d.jsx(Qte,{ref:r,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Are.displayName=Qte.displayName;const O3e=U1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sre=B.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(Yte,{ref:n,className:jt(O3e({variant:e}),t),...r}));Sre.displayName=Yte.displayName;const B3e=B.forwardRef(({className:t,...e},r)=>d.jsx(tre,{ref:r,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));B3e.displayName=tre.displayName;const Pre=B.forwardRef(({className:t,...e},r)=>d.jsx(rre,{ref:r,className:jt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(mh,{className:"h-4 w-4"})}));Pre.displayName=rre.displayName;const kre=B.forwardRef(({className:t,...e},r)=>d.jsx(Gte,{ref:r,className:jt("text-sm font-semibold",t),...e}));kre.displayName=Gte.displayName;const Ire=B.forwardRef(({className:t,...e},r)=>d.jsx(ere,{ref:r,className:jt("text-sm opacity-90",t),...e}));Ire.displayName=ere.displayName;function F3e(){const{toasts:t}=Qs();return d.jsxs($3e,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return d.jsxs(Sre,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(kre,{children:r}),n&&d.jsx(Ire,{children:n})]}),s,d.jsx(Pre,{})]},e)}),d.jsx(Are,{})]})}var R3e=sG[" useId ".trim().toString()]||(()=>{}),D3e=0;function Su(t){const[e,r]=B.useState(R3e());return Xi(()=>{t||r(n=>n??String(D3e++))},[t]),t||(e?`radix-${e}`:"")}const U3e=["top","right","bottom","left"],Hp=Math.min,oc=Math.max,vA=Math.round,m8=Math.floor,Fd=t=>({x:t,y:t}),z3e={left:"right",right:"left",bottom:"top",top:"bottom"},L3e={start:"end",end:"start"};function YT(t,e,r){return oc(t,Hp(e,r))}function Eh(t,e){return typeof t=="function"?t(e):t}function Ch(t){return t.split("-")[0]}function nw(t){return t.split("-")[1]}function FB(t){return t==="x"?"y":"x"}function RB(t){return t==="y"?"height":"width"}function qp(t){return["top","bottom"].includes(Ch(t))?"y":"x"}function DB(t){return FB(qp(t))}function V3e(t,e,r){r===void 0&&(r=!1);const n=nw(t),s=DB(t),i=RB(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=xA(a)),[a,xA(a)]}function H3e(t){const e=xA(t);return[GT(t),e,GT(e)]}function GT(t){return t.replace(/start|end/g,e=>L3e[e])}function q3e(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:a;default:return[]}}function W3e(t,e,r,n){const s=nw(t);let i=q3e(Ch(t),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(GT)))),i}function xA(t){return t.replace(/left|right|bottom|top/g,e=>z3e[e])}function K3e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nre(t){return typeof t!="number"?K3e(t):{top:t,right:t,bottom:t,left:t}}function wA(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function _L(t,e,r){let{reference:n,floating:s}=t;const i=qp(e),a=DB(e),o=RB(a),c=Ch(e),l=i==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[o]/2-s[o]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(nw(e)){case"start":m[a]-=h*(r&&l?-1:1);break;case"end":m[a]+=h*(r&&l?-1:1);break}return m}const X3e=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=_L(l,n,c),h=n,m={},y=0;for(let x=0;x<o.length;x++){const{name:k,fn:C}=o[x],{x:I,y:_,data:O,reset:F}=await C({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:l,platform:a,elements:{reference:t,floating:e}});u=I??u,f=_??f,m={...m,[k]:{...m[k],...O}},F&&y<=50&&(y++,typeof F=="object"&&(F.placement&&(h=F.placement),F.rects&&(l=F.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):F.rects),{x:u,y:f}=_L(l,h,c)),x=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function o6(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Eh(e,t),y=Nre(m),k=o[h?f==="floating"?"reference":"floating":f],C=wA(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(k)))==null||r?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),I=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),O=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},F=wA(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:I,offsetParent:_,strategy:c}):I);return{top:(C.top-F.top+y.top)/O.y,bottom:(F.bottom-C.bottom+y.bottom)/O.y,left:(C.left-F.left+y.left)/O.x,right:(F.right-C.right+y.right)/O.x}}const Z3e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=e,{element:l,padding:u=0}=Eh(t,e)||{};if(l==null)return{};const f=Nre(u),h={x:r,y:n},m=DB(s),y=RB(m),x=await a.getDimensions(l),k=m==="y",C=k?"top":"left",I=k?"bottom":"right",_=k?"clientHeight":"clientWidth",O=i.reference[y]+i.reference[m]-h[m]-i.floating[y],F=h[m]-i.reference[m],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let j=D?D[_]:0;(!j||!await(a.isElement==null?void 0:a.isElement(D)))&&(j=o.floating[_]||i.floating[y]);const T=O/2-F/2,R=j/2-x[y]/2-1,q=Hp(f[C],R),$=Hp(f[I],R),b=q,w=j-x[y]-$,p=j/2-x[y]/2+T,g=YT(b,p,w),S=!c.arrow&&nw(s)!=null&&p!==g&&i.reference[y]/2-(p<b?q:$)-x[y]/2<0,N=S?p<b?p-b:p-w:0;return{[m]:h[m]+N,data:{[m]:g,centerOffset:p-g-N,...S&&{alignmentOffset:N}},reset:S}}}),J3e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...k}=Eh(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const C=Ch(s),I=qp(o),_=Ch(o)===o,O=await(c.isRTL==null?void 0:c.isRTL(l.floating)),F=h||(_||!x?[xA(o)]:H3e(o)),D=y!=="none";!h&&D&&F.push(...W3e(o,x,y,O));const j=[o,...F],T=await o6(e,k),R=[];let q=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&R.push(T[C]),f){const p=V3e(s,a,O);R.push(T[p[0]],T[p[1]])}if(q=[...q,{placement:s,overflows:R}],!R.every(p=>p<=0)){var $,b;const p=((($=i.flip)==null?void 0:$.index)||0)+1,g=j[p];if(g)return{data:{index:p,overflows:q},reset:{placement:g}};let S=(b=q.filter(N=>N.overflows[0]<=0).sort((N,P)=>N.overflows[1]-P.overflows[1])[0])==null?void 0:b.placement;if(!S)switch(m){case"bestFit":{var w;const N=(w=q.filter(P=>{if(D){const A=qp(P.placement);return A===I||A==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(A=>A>0).reduce((A,v)=>A+v,0)]).sort((P,A)=>P[1]-A[1])[0])==null?void 0:w[0];N&&(S=N);break}case"initialPlacement":S=o;break}if(s!==S)return{reset:{placement:S}}}return{}}}};function TL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jL(t){return U3e.some(e=>t[e]>=0)}const Q3e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Eh(t,e);switch(n){case"referenceHidden":{const i=await o6(e,{...s,elementContext:"reference"}),a=TL(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:jL(a)}}}case"escaped":{const i=await o6(e,{...s,altBoundary:!0}),a=TL(i,r.floating);return{data:{escapedOffsets:a,escaped:jL(a)}}}default:return{}}}}};async function Y3e(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ch(r),o=nw(r),c=qp(r)==="y",l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,f=Eh(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),c?{x:m*u,y:h*l}:{x:h*l,y:m*u}}const G3e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=e,c=await Y3e(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},e6e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:k=>{let{x:C,y:I}=k;return{x:C,y:I}}},...c}=Eh(t,e),l={x:r,y:n},u=await o6(e,c),f=qp(Ch(s)),h=FB(f);let m=l[h],y=l[f];if(i){const k=h==="y"?"top":"left",C=h==="y"?"bottom":"right",I=m+u[k],_=m-u[C];m=YT(I,m,_)}if(a){const k=f==="y"?"top":"left",C=f==="y"?"bottom":"right",I=y+u[k],_=y-u[C];y=YT(I,y,_)}const x=o.fn({...e,[h]:m,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:i,[f]:a}}}}}},t6e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=Eh(t,e),u={x:r,y:n},f=qp(s),h=FB(f);let m=u[h],y=u[f];const x=Eh(o,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const _=h==="y"?"height":"width",O=i.reference[h]-i.floating[_]+k.mainAxis,F=i.reference[h]+i.reference[_]-k.mainAxis;m<O?m=O:m>F&&(m=F)}if(l){var C,I;const _=h==="y"?"width":"height",O=["top","left"].includes(Ch(s)),F=i.reference[f]-i.floating[_]+(O&&((C=a.offset)==null?void 0:C[f])||0)+(O?0:k.crossAxis),D=i.reference[f]+i.reference[_]+(O?0:((I=a.offset)==null?void 0:I[f])||0)-(O?k.crossAxis:0);y<F?y=F:y>D&&(y=D)}return{[h]:m,[f]:y}}}},r6e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:c=()=>{},...l}=Eh(t,e),u=await o6(e,l),f=Ch(s),h=nw(s),m=qp(s)==="y",{width:y,height:x}=i.floating;let k,C;f==="top"||f==="bottom"?(k=f,C=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(C=f,k=h==="end"?"top":"bottom");const I=x-u.top-u.bottom,_=y-u.left-u.right,O=Hp(x-u[k],I),F=Hp(y-u[C],_),D=!e.middlewareData.shift;let j=O,T=F;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=I),D&&!h){const q=oc(u.left,0),$=oc(u.right,0),b=oc(u.top,0),w=oc(u.bottom,0);m?T=y-2*(q!==0||$!==0?q+$:oc(u.left,u.right)):j=x-2*(b!==0||w!==0?b+w:oc(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:j});const R=await a.getDimensions(o.floating);return y!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function OP(){return typeof window<"u"}function sw(t){return Ere(t)?(t.nodeName||"").toLowerCase():"#document"}function hc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cf(t){var e;return(e=(Ere(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ere(t){return OP()?t instanceof Node||t instanceof hc(t).Node:!1}function Eu(t){return OP()?t instanceof Element||t instanceof hc(t).Element:!1}function Yd(t){return OP()?t instanceof HTMLElement||t instanceof hc(t).HTMLElement:!1}function ML(t){return!OP()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hc(t).ShadowRoot}function D4(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Cu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function n6e(t){return["table","td","th"].includes(sw(t))}function BP(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function UB(t){const e=zB(),r=Eu(t)?Cu(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function s6e(t){let e=Wp(t);for(;Yd(e)&&!hx(e);){if(UB(e))return e;if(BP(e))return null;e=Wp(e)}return null}function zB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hx(t){return["html","body","#document"].includes(sw(t))}function Cu(t){return hc(t).getComputedStyle(t)}function FP(t){return Eu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wp(t){if(sw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ML(t)&&t.host||cf(t);return ML(e)?e.host:e}function Cre(t){const e=Wp(t);return hx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yd(e)&&D4(e)?e:Cre(e)}function c6(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Cre(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),a=hc(s);if(i){const o=ej(a);return e.concat(a,a.visualViewport||[],D4(s)?s:[],o&&r?c6(o):[])}return e.concat(s,c6(s,[],r))}function ej(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _re(t){const e=Cu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Yd(t),i=s?t.offsetWidth:r,a=s?t.offsetHeight:n,o=vA(r)!==i||vA(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function LB(t){return Eu(t)?t:t.contextElement}function Ty(t){const e=LB(t);if(!Yd(e))return Fd(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=_re(e);let a=(i?vA(r.width):r.width)/n,o=(i?vA(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const i6e=Fd(0);function Tre(t){const e=hc(t);return!zB()||!e.visualViewport?i6e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a6e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hc(t)?!1:e}function g1(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=LB(t);let a=Fd(1);e&&(n?Eu(n)&&(a=Ty(n)):a=Ty(t));const o=a6e(i,r,n)?Tre(i):Fd(0);let c=(s.left+o.x)/a.x,l=(s.top+o.y)/a.y,u=s.width/a.x,f=s.height/a.y;if(i){const h=hc(i),m=n&&Eu(n)?hc(n):n;let y=h,x=ej(y);for(;x&&n&&m!==y;){const k=Ty(x),C=x.getBoundingClientRect(),I=Cu(x),_=C.left+(x.clientLeft+parseFloat(I.paddingLeft))*k.x,O=C.top+(x.clientTop+parseFloat(I.paddingTop))*k.y;c*=k.x,l*=k.y,u*=k.x,f*=k.y,c+=_,l+=O,y=hc(x),x=ej(y)}}return wA({width:u,height:f,x:c,y:l})}function VB(t,e){const r=FP(t).scrollLeft;return e?e.left+r:g1(cf(t)).left+r}function jre(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:VB(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function o6e(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",a=cf(n),o=e?BP(e.floating):!1;if(n===a||o&&i)return r;let c={scrollLeft:0,scrollTop:0},l=Fd(1);const u=Fd(0),f=Yd(n);if((f||!f&&!i)&&((sw(n)!=="body"||D4(a))&&(c=FP(n)),Yd(n))){const m=g1(n);l=Ty(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const h=a&&!f&&!i?jre(a,c,!0):Fd(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:r.y*l.y-c.scrollTop*l.y+u.y+h.y}}function c6e(t){return Array.from(t.getClientRects())}function l6e(t){const e=cf(t),r=FP(t),n=t.ownerDocument.body,s=oc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=oc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+VB(t);const o=-r.scrollTop;return Cu(n).direction==="rtl"&&(a+=oc(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}function u6e(t,e){const r=hc(t),n=cf(t),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const l=zB();(!l||l&&e==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}function d6e(t,e){const r=g1(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Yd(t)?Ty(t):Fd(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:a,height:o,x:c,y:l}}function $L(t,e,r){let n;if(e==="viewport")n=u6e(t,r);else if(e==="document")n=l6e(cf(t));else if(Eu(e))n=d6e(e,r);else{const s=Tre(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wA(n)}function Mre(t,e){const r=Wp(t);return r===e||!Eu(r)||hx(r)?!1:Cu(r).position==="fixed"||Mre(r,e)}function f6e(t,e){const r=e.get(t);if(r)return r;let n=c6(t,[],!1).filter(o=>Eu(o)&&sw(o)!=="body"),s=null;const i=Cu(t).position==="fixed";let a=i?Wp(t):t;for(;Eu(a)&&!hx(a);){const o=Cu(a),c=UB(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||D4(a)&&!c&&Mre(t,a))?n=n.filter(u=>u!==a):s=o,a=Wp(a)}return e.set(t,n),n}function h6e(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?BP(e)?[]:f6e(e,this._c):[].concat(r),n],o=a[0],c=a.reduce((l,u)=>{const f=$L(e,u,s);return l.top=oc(f.top,l.top),l.right=Hp(f.right,l.right),l.bottom=Hp(f.bottom,l.bottom),l.left=oc(f.left,l.left),l},$L(e,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function p6e(t){const{width:e,height:r}=_re(t);return{width:e,height:r}}function m6e(t,e,r){const n=Yd(e),s=cf(e),i=r==="fixed",a=g1(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=Fd(0);if(n||!n&&!i)if((sw(e)!=="body"||D4(s))&&(o=FP(e)),n){const h=g1(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=VB(s));const l=s&&!n&&!i?jre(s,o):Fd(0),u=a.left+o.scrollLeft-c.x-l.x,f=a.top+o.scrollTop-c.y-l.y;return{x:u,y:f,width:a.width,height:a.height}}function HN(t){return Cu(t).position==="static"}function OL(t,e){if(!Yd(t)||Cu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return cf(t)===r&&(r=r.ownerDocument.body),r}function $re(t,e){const r=hc(t);if(BP(t))return r;if(!Yd(t)){let s=Wp(t);for(;s&&!hx(s);){if(Eu(s)&&!HN(s))return s;s=Wp(s)}return r}let n=OL(t,e);for(;n&&n6e(n)&&HN(n);)n=OL(n,e);return n&&hx(n)&&HN(n)&&!UB(n)?r:n||s6e(t)||r}const g6e=async function(t){const e=this.getOffsetParent||$re,r=this.getDimensions,n=await r(t.floating);return{reference:m6e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function b6e(t){return Cu(t).direction==="rtl"}const y6e={convertOffsetParentRelativeRectToViewportRelativeRect:o6e,getDocumentElement:cf,getClippingRect:h6e,getOffsetParent:$re,getElementRects:g6e,getClientRects:c6e,getDimensions:p6e,getScale:Ty,isElement:Eu,isRTL:b6e};function Ore(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v6e(t,e){let r=null,n;const s=cf(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=l;if(o||e(),!h||!m)return;const y=m8(f),x=m8(s.clientWidth-(u+h)),k=m8(s.clientHeight-(f+m)),C=m8(u),_={rootMargin:-y+"px "+-x+"px "+-k+"px "+-C+"px",threshold:oc(0,Hp(1,c))||1};let O=!0;function F(D){const j=D[0].intersectionRatio;if(j!==c){if(!O)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!Ore(l,t.getBoundingClientRect())&&a(),O=!1}try{r=new IntersectionObserver(F,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(F,_)}r.observe(t)}return a(!0),i}function x6e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=LB(t),u=s||i?[...l?c6(l):[],...c6(e)]:[];u.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),i&&C.addEventListener("resize",r)});const f=l&&o?v6e(l,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(C=>{let[I]=C;I&&I.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),r()}),l&&!c&&m.observe(l),m.observe(e));let y,x=c?g1(t):null;c&&k();function k(){const C=g1(t);x&&!Ore(x,C)&&r(),x=C,y=requestAnimationFrame(k)}return r(),()=>{var C;u.forEach(I=>{s&&I.removeEventListener("scroll",r),i&&I.removeEventListener("resize",r)}),f==null||f(),(C=m)==null||C.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const w6e=G3e,A6e=e6e,S6e=J3e,P6e=r6e,k6e=Q3e,BL=Z3e,I6e=t6e,N6e=(t,e,r)=>{const n=new Map,s={platform:y6e,...r},i={...s.platform,_c:n};return X3e(t,e,{...s,platform:i})};var q9=typeof document<"u"?B.useLayoutEffect:B.useEffect;function AA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!AA(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!AA(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Bre(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FL(t,e){const r=Bre(t);return Math.round(e*r)/r}function qN(t){const e=B.useRef(t);return q9(()=>{e.current=t}),e}function E6e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:l}=t,[u,f]=B.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=B.useState(n);AA(h,n)||m(n);const[y,x]=B.useState(null),[k,C]=B.useState(null),I=B.useCallback(P=>{P!==D.current&&(D.current=P,x(P))},[]),_=B.useCallback(P=>{P!==j.current&&(j.current=P,C(P))},[]),O=i||y,F=a||k,D=B.useRef(null),j=B.useRef(null),T=B.useRef(u),R=c!=null,q=qN(c),$=qN(s),b=qN(l),w=B.useCallback(()=>{if(!D.current||!j.current)return;const P={placement:e,strategy:r,middleware:h};$.current&&(P.platform=$.current),N6e(D.current,j.current,P).then(A=>{const v={...A,isPositioned:b.current!==!1};p.current&&!AA(T.current,v)&&(T.current=v,D1.flushSync(()=>{f(v)}))})},[h,e,r,$,b]);q9(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[l]);const p=B.useRef(!1);q9(()=>(p.current=!0,()=>{p.current=!1}),[]),q9(()=>{if(O&&(D.current=O),F&&(j.current=F),O&&F){if(q.current)return q.current(O,F,w);w()}},[O,F,w,q,R]);const g=B.useMemo(()=>({reference:D,floating:j,setReference:I,setFloating:_}),[I,_]),S=B.useMemo(()=>({reference:O,floating:F}),[O,F]),N=B.useMemo(()=>{const P={position:r,left:0,top:0};if(!S.floating)return P;const A=FL(S.floating,u.x),v=FL(S.floating,u.y);return o?{...P,transform:"translate("+A+"px, "+v+"px)",...Bre(S.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:v}},[r,o,S.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:w,refs:g,elements:S,floatingStyles:N}),[u,w,g,S,N])}const C6e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?BL({element:n.current,padding:s}).fn(r):{}:n?BL({element:n,padding:s}).fn(r):{}}}},_6e=(t,e)=>({...w6e(t),options:[t,e]}),T6e=(t,e)=>({...A6e(t),options:[t,e]}),j6e=(t,e)=>({...I6e(t),options:[t,e]}),M6e=(t,e)=>({...S6e(t),options:[t,e]}),$6e=(t,e)=>({...P6e(t),options:[t,e]}),O6e=(t,e)=>({...k6e(t),options:[t,e]}),B6e=(t,e)=>({...C6e(t),options:[t,e]});var F6e="Arrow",Fre=B.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return d.jsx(Qt.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fre.displayName=F6e;var R6e=Fre;function RP(t){const[e,r]=B.useState(void 0);return Xi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;a=l.inlineSize,o=l.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var HB="Popper",[Rre,iw]=Zi(HB),[D6e,Dre]=Rre(HB),Ure=t=>{const{__scopePopper:e,children:r}=t,[n,s]=B.useState(null);return d.jsx(D6e,{scope:e,anchor:n,onAnchorChange:s,children:r})};Ure.displayName=HB;var zre="PopperAnchor",Lre=B.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Dre(zre,r),a=B.useRef(null),o=yr(e,a);return B.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:d.jsx(Qt.div,{...s,ref:o})});Lre.displayName=zre;var qB="PopperContent",[U6e,z6e]=Rre(qB),Vre=B.forwardRef((t,e)=>{var Z,re,G,z,se,ce;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,k=Dre(qB,r),[C,I]=B.useState(null),_=yr(e,pe=>I(pe)),[O,F]=B.useState(null),D=RP(O),j=(D==null?void 0:D.width)??0,T=(D==null?void 0:D.height)??0,R=n+(i!=="center"?"-"+i:""),q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(l)?l:[l],b=$.length>0,w={padding:q,boundary:$.filter(V6e),altBoundary:b},{refs:p,floatingStyles:g,placement:S,isPositioned:N,middlewareData:P}=E6e({strategy:"fixed",placement:R,whileElementsMounted:(...pe)=>x6e(...pe,{animationFrame:m==="always"}),elements:{reference:k.anchor},middleware:[_6e({mainAxis:s+T,alignmentAxis:a}),c&&T6e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?j6e():void 0,...w}),c&&M6e({...w}),$6e({...w,apply:({elements:pe,rects:_e,availableWidth:ke,availableHeight:tt})=>{const{width:mt,height:we}=_e.reference,We=pe.floating.style;We.setProperty("--radix-popper-available-width",`${ke}px`),We.setProperty("--radix-popper-available-height",`${tt}px`),We.setProperty("--radix-popper-anchor-width",`${mt}px`),We.setProperty("--radix-popper-anchor-height",`${we}px`)}}),O&&B6e({element:O,padding:o}),H6e({arrowWidth:j,arrowHeight:T}),h&&O6e({strategy:"referenceHidden",...w})]}),[A,v]=Wre(S),E=ls(y);Xi(()=>{N&&(E==null||E())},[N,E]);const M=(Z=P.arrow)==null?void 0:Z.x,L=(re=P.arrow)==null?void 0:re.y,Q=((G=P.arrow)==null?void 0:G.centerOffset)!==0,[U,J]=B.useState();return Xi(()=>{C&&J(window.getComputedStyle(C).zIndex)},[C]),d.jsx("div",{ref:p.setFloating,"data-radix-popper-content-wrapper":"",style:{...g,transform:N?g.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(z=P.transformOrigin)==null?void 0:z.x,(se=P.transformOrigin)==null?void 0:se.y].join(" "),...((ce=P.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(U6e,{scope:r,placedSide:A,onArrowChange:F,arrowX:M,arrowY:L,shouldHideArrow:Q,children:d.jsx(Qt.div,{"data-side":A,"data-align":v,...x,ref:_,style:{...x.style,animation:N?void 0:"none"}})})})});Vre.displayName=qB;var Hre="PopperArrow",L6e={top:"bottom",right:"left",bottom:"top",left:"right"},qre=B.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=z6e(Hre,n),a=L6e[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(R6e,{...s,ref:r,style:{...s.style,display:"block"}})})});qre.displayName=Hre;function V6e(t){return t!==null}var H6e=t=>({name:"transformOrigin",options:t,fn(e){var k,C,I;const{placement:r,rects:n,middlewareData:s}=e,a=((k=s.arrow)==null?void 0:k.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[l,u]=Wre(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((C=s.arrow)==null?void 0:C.x)??0)+o/2,m=(((I=s.arrow)==null?void 0:I.y)??0)+c/2;let y="",x="";return l==="bottom"?(y=a?f:`${h}px`,x=`${-c}px`):l==="top"?(y=a?f:`${h}px`,x=`${n.floating.height+c}px`):l==="right"?(y=`${-c}px`,x=a?f:`${m}px`):l==="left"&&(y=`${n.floating.width+c}px`,x=a?f:`${m}px`),{data:{x:y,y:x}}}});function Wre(t){const[e,r="center"]=t.split("-");return[e,r]}var WB=Ure,KB=Lre,XB=Vre,ZB=qre,[DP,_3t]=Zi("Tooltip",[iw]),UP=iw(),Kre="TooltipProvider",q6e=700,tj="tooltip.open",[W6e,JB]=DP(Kre),Xre=t=>{const{__scopeTooltip:e,delayDuration:r=q6e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,a=B.useRef(!0),o=B.useRef(!1),c=B.useRef(0);return B.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),d.jsx(W6e,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:B.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:B.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:B.useCallback(l=>{o.current=l},[]),disableHoverableContent:s,children:i})};Xre.displayName=Kre;var zP="Tooltip",[K6e,LP]=DP(zP),Zre=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=t,c=JB(zP,t.__scopeTooltip),l=UP(e),[u,f]=B.useState(null),h=Su(),m=B.useRef(0),y=a??c.disableHoverableContent,x=o??c.delayDuration,k=B.useRef(!1),[C=!1,I]=Nu({prop:n,defaultProp:s,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(tj))):c.onClose(),i==null||i(j)}}),_=B.useMemo(()=>C?k.current?"delayed-open":"instant-open":"closed",[C]),O=B.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k.current=!1,I(!0)},[I]),F=B.useCallback(()=>{window.clearTimeout(m.current),m.current=0,I(!1)},[I]),D=B.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{k.current=!0,I(!0),m.current=0},x)},[x,I]);return B.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),d.jsx(WB,{...l,children:d.jsx(K6e,{scope:e,contentId:h,open:C,stateAttribute:_,trigger:u,onTriggerChange:f,onTriggerEnter:B.useCallback(()=>{c.isOpenDelayedRef.current?D():O()},[c.isOpenDelayedRef,D,O]),onTriggerLeave:B.useCallback(()=>{y?F():(window.clearTimeout(m.current),m.current=0)},[F,y]),onOpen:O,onClose:F,disableHoverableContent:y,children:r})})};Zre.displayName=zP;var rj="TooltipTrigger",Jre=B.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=LP(rj,r),i=JB(rj,r),a=UP(r),o=B.useRef(null),c=yr(e,o,s.onTriggerChange),l=B.useRef(!1),u=B.useRef(!1),f=B.useCallback(()=>l.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(KB,{asChild:!0,...a,children:d.jsx(Qt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ct(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ct(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ct(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ct(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:Ct(t.onBlur,s.onClose),onClick:Ct(t.onClick,s.onClose)})})});Jre.displayName=rj;var X6e="TooltipPortal",[T3t,Z6e]=DP(X6e,{forceMount:void 0}),px="TooltipContent",Qre=B.forwardRef((t,e)=>{const r=Z6e(px,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,a=LP(px,t.__scopeTooltip);return d.jsx(Ji,{present:n||a.open,children:a.disableHoverableContent?d.jsx(Yre,{side:s,...i,ref:e}):d.jsx(J6e,{side:s,...i,ref:e})})}),J6e=B.forwardRef((t,e)=>{const r=LP(px,t.__scopeTooltip),n=JB(px,t.__scopeTooltip),s=B.useRef(null),i=yr(e,s),[a,o]=B.useState(null),{trigger:c,onClose:l}=r,u=s.current,{onPointerInTransitChange:f}=n,h=B.useCallback(()=>{o(null),f(!1)},[f]),m=B.useCallback((y,x)=>{const k=y.currentTarget,C={x:y.clientX,y:y.clientY},I=t4e(C,k.getBoundingClientRect()),_=r4e(C,I),O=n4e(x.getBoundingClientRect()),F=i4e([..._,...O]);o(F),f(!0)},[f]);return B.useEffect(()=>()=>h(),[h]),B.useEffect(()=>{if(c&&u){const y=k=>m(k,u),x=k=>m(k,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",x)}}},[c,u,m,h]),B.useEffect(()=>{if(a){const y=x=>{const k=x.target,C={x:x.clientX,y:x.clientY},I=(c==null?void 0:c.contains(k))||(u==null?void 0:u.contains(k)),_=!s4e(C,a);I?h():_&&(h(),l())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,a,l,h]),d.jsx(Yre,{...t,ref:i})}),[Q6e,Y6e]=DP(zP,{isInside:!1}),G6e=$te("TooltipContent"),Yre=B.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,c=LP(px,r),l=UP(r),{onClose:u}=c;return B.useEffect(()=>(document.addEventListener(tj,u),()=>document.removeEventListener(tj,u)),[u]),B.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),d.jsx(tw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(XB,{"data-state":c.stateAttribute,...l,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(G6e,{children:n}),d.jsx(Q6e,{scope:r,isInside:!0,children:d.jsx(p2e,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Qre.displayName=px;var Gre="TooltipArrow",e4e=B.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=UP(r);return Y6e(Gre,r).isInside?null:d.jsx(ZB,{...s,...n,ref:e})});e4e.displayName=Gre;function t4e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function r4e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function n4e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function s4e(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,c=e[i].y,l=e[a].x,u=e[a].y;c>n!=u>n&&r<(l-o)*(n-c)/(u-c)+o&&(s=!s)}return s}function i4e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),a4e(e)}function a4e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var o4e=Xre,c4e=Zre,l4e=Jre,ene=Qre;const tne=o4e,u4e=c4e,d4e=l4e,rne=B.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(ene,{ref:n,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));rne.displayName=ene.displayName;const WN=768;function f4e(){const[t,e]=B.useState(void 0);return B.useEffect(()=>{const r=window.matchMedia(`(max-width: ${WN-1}px)`),n=()=>{e(window.innerWidth<WN)};return r.addEventListener("change",n),e(window.innerWidth<WN),()=>r.removeEventListener("change",n)},[]),!!t}const QB=U1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Te=B.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const a=n?jte:"button";return d.jsx(a,{className:jt(QB({variant:e,size:r,className:t})),ref:i,...s})});Te.displayName="Button";const ar=B.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:jt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ar.displayName="Input";var h4e="Separator",RL="horizontal",p4e=["horizontal","vertical"],nne=B.forwardRef((t,e)=>{const{decorative:r,orientation:n=RL,...s}=t,i=m4e(n)?n:RL,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Qt.div,{"data-orientation":i,...o,...s,ref:e})});nne.displayName=h4e;function m4e(t){return p4e.includes(t)}var sne=nne;const _b=B.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>d.jsx(sne,{ref:s,decorative:r,orientation:e,className:jt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));_b.displayName=sne.displayName;var KN="focusScope.autoFocusOnMount",XN="focusScope.autoFocusOnUnmount",DL={bubbles:!1,cancelable:!0},g4e="FocusScope",VP=B.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,c]=B.useState(null),l=ls(s),u=ls(i),f=B.useRef(null),h=yr(e,x=>c(x)),m=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(n){let x=function(_){if(m.paused||!o)return;const O=_.target;o.contains(O)?f.current=O:_0(f.current,{select:!0})},k=function(_){if(m.paused||!o)return;const O=_.relatedTarget;O!==null&&(o.contains(O)||_0(f.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const F of _)F.removedNodes.length>0&&_0(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const I=new MutationObserver(C);return o&&I.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),I.disconnect()}}},[n,o,m.paused]),B.useEffect(()=>{if(o){zL.add(m);const x=document.activeElement;if(!o.contains(x)){const C=new CustomEvent(KN,DL);o.addEventListener(KN,l),o.dispatchEvent(C),C.defaultPrevented||(b4e(A4e(ine(o)),{select:!0}),document.activeElement===x&&_0(o))}return()=>{o.removeEventListener(KN,l),setTimeout(()=>{const C=new CustomEvent(XN,DL);o.addEventListener(XN,u),o.dispatchEvent(C),C.defaultPrevented||_0(x??document.body,{select:!0}),o.removeEventListener(XN,u),zL.remove(m)},0)}}},[o,l,u,m]);const y=B.useCallback(x=>{if(!r&&!n||m.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(k&&C){const I=x.currentTarget,[_,O]=y4e(I);_&&O?!x.shiftKey&&C===O?(x.preventDefault(),r&&_0(_,{select:!0})):x.shiftKey&&C===_&&(x.preventDefault(),r&&_0(O,{select:!0})):C===I&&x.preventDefault()}},[r,n,m.paused]);return d.jsx(Qt.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});VP.displayName=g4e;function b4e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(_0(n,{select:e}),document.activeElement!==r)return}function y4e(t){const e=ine(t),r=UL(e,t),n=UL(e.reverse(),t);return[r,n]}function ine(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function UL(t,e){for(const r of t)if(!v4e(r,{upTo:e}))return r}function v4e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x4e(t){return t instanceof HTMLInputElement&&"select"in t}function _0(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&x4e(t)&&e&&t.select()}}var zL=w4e();function w4e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=LL(t,e),t.unshift(e)},remove(e){var r;t=LL(t,e),(r=t[0])==null||r.resume()}}}function LL(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function A4e(t){return t.filter(e=>e.tagName!=="A")}var ZN=0;function YB(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VL()),document.body.insertAdjacentElement("beforeend",t[1]??VL()),ZN++,()=>{ZN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ZN--}},[])}function VL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nj=function(t,e){return nj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},nj(t,e)};function HP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nj(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kd=function(){return kd=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},kd.apply(this,arguments)};function ane(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function sj(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ij(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function SA(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var W9="right-scroll-bar-position",K9="width-before-scroll-bar",S4e="with-scroll-bars-hidden",P4e="--removed-body-scroll-bar-size";function JN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k4e(t,e){var r=B.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var I4e=typeof window<"u"?B.useLayoutEffect:B.useEffect,HL=new WeakMap;function N4e(t,e){var r=k4e(null,function(n){return t.forEach(function(s){return JN(s,n)})});return I4e(function(){var n=HL.get(r);if(n){var s=new Set(n),i=new Set(t),a=r.current;s.forEach(function(o){i.has(o)||JN(o,null)}),i.forEach(function(o){s.has(o)||JN(o,a)})}HL.set(r,t)},[t]),r}function E4e(t){return t}function C4e(t,e){e===void 0&&(e=E4e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var c=function(){var u=a;a=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){a.push(u),l()},filter:function(u){return a=a.filter(u),r}}}};return s}function _4e(t){t===void 0&&(t={});var e=C4e(null);return e.options=kd({async:!0,ssr:!1},t),e}var one=function(t){var e=t.sideCar,r=ane(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return B.createElement(n,kd({},r))};one.isSideCarExport=!0;function T4e(t,e){return t.useMedium(e),one}var cne=_4e(),QN=function(){},qP=B.forwardRef(function(t,e){var r=B.useRef(null),n=B.useState({onScrollCapture:QN,onWheelCapture:QN,onTouchMoveCapture:QN}),s=n[0],i=n[1],a=t.forwardProps,o=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,x=t.allowPinchZoom,k=t.as,C=k===void 0?"div":k,I=t.gapMode,_=ane(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=h,F=N4e([r,e]),D=kd(kd({},_),s);return B.createElement(B.Fragment,null,u&&B.createElement(O,{sideCar:cne,removeScrollBar:l,shards:f,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:I}),a?B.cloneElement(B.Children.only(o),kd(kd({},D),{ref:F})):B.createElement(C,kd({},D,{className:c,ref:F}),o))});qP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qP.classNames={fullWidth:K9,zeroRight:W9};var j4e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M4e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j4e();return e&&t.setAttribute("nonce",e),t}function $4e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O4e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B4e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=M4e())&&($4e(e,r),O4e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F4e=function(){var t=B4e();return function(e,r){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},lne=function(){var t=F4e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},R4e={left:0,top:0,right:0,gap:0},YN=function(t){return parseInt(t||"",10)||0},D4e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[YN(r),YN(n),YN(s)]},U4e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R4e;var e=D4e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},z4e=lne(),jy="data-scroll-locked",L4e=function(t,e,r,n){var s=t.left,i=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(S4e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(jy,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(W9,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(K9,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(W9," .").concat(W9,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(K9," .").concat(K9,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(jy,`] {
    `).concat(P4e,": ").concat(o,`px;
  }
`)},qL=function(){var t=parseInt(document.body.getAttribute(jy)||"0",10);return isFinite(t)?t:0},V4e=function(){B.useEffect(function(){return document.body.setAttribute(jy,(qL()+1).toString()),function(){var t=qL()-1;t<=0?document.body.removeAttribute(jy):document.body.setAttribute(jy,t.toString())}},[])},H4e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;V4e();var i=B.useMemo(function(){return U4e(s)},[s]);return B.createElement(z4e,{styles:L4e(i,!e,s,r?"":"!important")})},aj=!1;if(typeof window<"u")try{var g8=Object.defineProperty({},"passive",{get:function(){return aj=!0,!0}});window.addEventListener("test",g8,g8),window.removeEventListener("test",g8,g8)}catch{aj=!1}var cb=aj?{passive:!1}:!1,q4e=function(t){return t.tagName==="TEXTAREA"},une=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!q4e(t)&&r[e]==="visible")},W4e=function(t){return une(t,"overflowY")},K4e=function(t){return une(t,"overflowX")},WL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=dne(t,n);if(s){var i=fne(t,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X4e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Z4e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},dne=function(t,e){return t==="v"?W4e(e):K4e(e)},fne=function(t,e){return t==="v"?X4e(e):Z4e(e)},J4e=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q4e=function(t,e,r,n,s){var i=J4e(t,window.getComputedStyle(e).direction),a=i*n,o=r.target,c=e.contains(o),l=!1,u=a>0,f=0,h=0;do{var m=fne(t,o),y=m[0],x=m[1],k=m[2],C=x-k-i*y;(y||C)&&dne(t,o)&&(f+=C,h+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(l=!0),l},b8=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KL=function(t){return[t.deltaX,t.deltaY]},XL=function(t){return t&&"current"in t?t.current:t},Y4e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G4e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e5e=0,lb=[];function t5e(t){var e=B.useRef([]),r=B.useRef([0,0]),n=B.useRef(),s=B.useState(e5e++)[0],i=B.useState(lne)[0],a=B.useRef(t);B.useEffect(function(){a.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=SA([t.lockRef.current],(t.shards||[]).map(XL),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=B.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var C=b8(x),I=r.current,_="deltaX"in x?x.deltaX:I[0]-C[0],O="deltaY"in x?x.deltaY:I[1]-C[1],F,D=x.target,j=Math.abs(_)>Math.abs(O)?"h":"v";if("touches"in x&&j==="h"&&D.type==="range")return!1;var T=WL(j,D);if(!T)return!0;if(T?F=j:(F=j==="v"?"h":"v",T=WL(j,D)),!T)return!1;if(!n.current&&"changedTouches"in x&&(_||O)&&(n.current=F),!F)return!0;var R=n.current||F;return Q4e(R,k,x,R==="h"?_:O,!0)},[]),c=B.useCallback(function(x){var k=x;if(!(!lb.length||lb[lb.length-1]!==i)){var C="deltaY"in k?KL(k):b8(k),I=e.current.filter(function(F){return F.name===k.type&&(F.target===k.target||k.target===F.shadowParent)&&Y4e(F.delta,C)})[0];if(I&&I.should){k.cancelable&&k.preventDefault();return}if(!I){var _=(a.current.shards||[]).map(XL).filter(Boolean).filter(function(F){return F.contains(k.target)}),O=_.length>0?o(k,_[0]):!a.current.noIsolation;O&&k.cancelable&&k.preventDefault()}}},[]),l=B.useCallback(function(x,k,C,I){var _={name:x,delta:k,target:C,should:I,shadowParent:r5e(C)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(O){return O!==_})},1)},[]),u=B.useCallback(function(x){r.current=b8(x),n.current=void 0},[]),f=B.useCallback(function(x){l(x.type,KL(x),x.target,o(x,t.lockRef.current))},[]),h=B.useCallback(function(x){l(x.type,b8(x),x.target,o(x,t.lockRef.current))},[]);B.useEffect(function(){return lb.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,cb),document.addEventListener("touchmove",c,cb),document.addEventListener("touchstart",u,cb),function(){lb=lb.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,cb),document.removeEventListener("touchmove",c,cb),document.removeEventListener("touchstart",u,cb)}},[]);var m=t.removeScrollBar,y=t.inert;return B.createElement(B.Fragment,null,y?B.createElement(i,{styles:G4e(s)}):null,m?B.createElement(H4e,{gapMode:t.gapMode}):null)}function r5e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n5e=T4e(cne,t5e);var WP=B.forwardRef(function(t,e){return B.createElement(qP,kd({},t,{ref:e,sideCar:n5e}))});WP.classNames=qP.classNames;var s5e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ub=new WeakMap,y8=new WeakMap,v8={},GN=0,hne=function(t){return t&&(t.host||hne(t.parentNode))},i5e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=hne(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},a5e=function(t,e,r,n){var s=i5e(e,Array.isArray(t)?t:[t]);v8[r]||(v8[r]=new WeakMap);var i=v8[r],a=[],o=new Set,c=new Set(s),l=function(f){!f||o.has(f)||(o.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))u(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",x=(ub.get(h)||0)+1,k=(i.get(h)||0)+1;ub.set(h,x),i.set(h,k),a.push(h),x===1&&y&&y8.set(h,!0),k===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",h,C)}})};return u(e),o.clear(),GN++,function(){a.forEach(function(f){var h=ub.get(f)-1,m=i.get(f)-1;ub.set(f,h),i.set(f,m),h||(y8.has(f)||f.removeAttribute(n),y8.delete(f)),m||f.removeAttribute(r)}),GN--,GN||(ub=new WeakMap,ub=new WeakMap,y8=new WeakMap,v8={})}},GB=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=s5e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),a5e(n,s,r,"aria-hidden")):function(){return null}},eF="Dialog",[pne,mne]=Zi(eF),[o5e,Bu]=pne(eF),gne=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,o=B.useRef(null),c=B.useRef(null),[l=!1,u]=Nu({prop:n,defaultProp:s,onChange:i});return d.jsx(o5e,{scope:e,triggerRef:o,contentRef:c,contentId:Su(),titleId:Su(),descriptionId:Su(),open:l,onOpenChange:u,onOpenToggle:B.useCallback(()=>u(f=>!f),[u]),modal:a,children:r})};gne.displayName=eF;var bne="DialogTrigger",yne=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Bu(bne,r),i=yr(e,s.triggerRef);return d.jsx(Qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nF(s.open),...n,ref:i,onClick:Ct(t.onClick,s.onOpenToggle)})});yne.displayName=bne;var tF="DialogPortal",[c5e,vne]=pne(tF,{forceMount:void 0}),xne=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Bu(tF,e);return d.jsx(c5e,{scope:e,forceMount:r,children:B.Children.map(n,a=>d.jsx(Ji,{present:r||i.open,children:d.jsx(B4,{asChild:!0,container:s,children:a})}))})};xne.displayName=tF;var PA="DialogOverlay",wne=B.forwardRef((t,e)=>{const r=vne(PA,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Bu(PA,t.__scopeDialog);return i.modal?d.jsx(Ji,{present:n||i.open,children:d.jsx(u5e,{...s,ref:e})}):null});wne.displayName=PA;var l5e=p1("DialogOverlay.RemoveScroll"),u5e=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Bu(PA,r);return d.jsx(WP,{as:l5e,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Qt.div,{"data-state":nF(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),b1="DialogContent",Ane=B.forwardRef((t,e)=>{const r=vne(b1,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Bu(b1,t.__scopeDialog);return d.jsx(Ji,{present:n||i.open,children:i.modal?d.jsx(d5e,{...s,ref:e}):d.jsx(f5e,{...s,ref:e})})});Ane.displayName=b1;var d5e=B.forwardRef((t,e)=>{const r=Bu(b1,t.__scopeDialog),n=B.useRef(null),s=yr(e,r.contentRef,n);return B.useEffect(()=>{const i=n.current;if(i)return GB(i)},[]),d.jsx(Sne,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ct(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:Ct(t.onFocusOutside,i=>i.preventDefault())})}),f5e=B.forwardRef((t,e)=>{const r=Bu(b1,t.__scopeDialog),n=B.useRef(!1),s=B.useRef(!1);return d.jsx(Sne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((l=r.triggerRef.current)==null?void 0:l.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Sne=B.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,o=Bu(b1,r),c=B.useRef(null),l=yr(e,c);return YB(),d.jsxs(d.Fragment,{children:[d.jsx(VP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(tw,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":nF(o.open),...a,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(p5e,{titleId:o.titleId}),d.jsx(g5e,{contentRef:c,descriptionId:o.descriptionId})]})]})}),rF="DialogTitle",Pne=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Bu(rF,r);return d.jsx(Qt.h2,{id:s.titleId,...n,ref:e})});Pne.displayName=rF;var kne="DialogDescription",Ine=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Bu(kne,r);return d.jsx(Qt.p,{id:s.descriptionId,...n,ref:e})});Ine.displayName=kne;var Nne="DialogClose",Ene=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Bu(Nne,r);return d.jsx(Qt.button,{type:"button",...n,ref:e,onClick:Ct(t.onClick,()=>s.onOpenChange(!1))})});Ene.displayName=Nne;function nF(t){return t?"open":"closed"}var Cne="DialogTitleWarning",[h5e,_ne]=Wwe(Cne,{contentName:b1,titleName:rF,docsSlug:"dialog"}),p5e=({titleId:t})=>{const e=_ne(Cne),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},m5e="DialogDescriptionWarning",g5e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_ne(m5e).contentName}}.`;return B.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},sF=gne,Tne=yne,iF=xne,U4=wne,z4=Ane,L4=Pne,V4=Ine,KP=Ene;const b5e=sF,y5e=iF,jne=B.forwardRef(({className:t,...e},r)=>d.jsx(U4,{className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));jne.displayName=U4.displayName;const v5e=U1("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Mne=B.forwardRef(({side:t="right",className:e,children:r,...n},s)=>d.jsxs(y5e,{children:[d.jsx(jne,{}),d.jsxs(z4,{ref:s,className:jt(v5e({side:t}),e),...n,children:[r,d.jsxs(KP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(mh,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mne.displayName=z4.displayName;const $ne=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-2 text-center sm:text-left",t),...e});$ne.displayName="SheetHeader";const One=B.forwardRef(({className:t,...e},r)=>d.jsx(L4,{ref:r,className:jt("text-lg font-semibold text-foreground",t),...e}));One.displayName=L4.displayName;const Bne=B.forwardRef(({className:t,...e},r)=>d.jsx(V4,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Bne.displayName=V4.displayName;function Yc({className:t,...e}){return d.jsx("div",{className:jt("animate-pulse rounded-md bg-muted",t),...e})}const x5e="sidebar_state",w5e=60*60*24*7,A5e="16rem",S5e="18rem",P5e="3rem",k5e="b",Fne=B.createContext(null);function Rne(){const t=B.useContext(Fne);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function I5e({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:s,children:i,...a}){const o=f4e(),[c,l]=B.useState(!1),[u,f]=B.useState(t),h=e??u,m=B.useCallback(C=>{const I=typeof C=="function"?C(h):C;r?r(I):f(I),document.cookie=`${x5e}=${I}; path=/; max-age=${w5e}`},[r,h]),y=B.useCallback(()=>o?l(C=>!C):m(C=>!C),[o,m,l]);B.useEffect(()=>{const C=I=>{I.key===k5e&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),y())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[y]);const x=h?"expanded":"collapsed",k=B.useMemo(()=>({state:x,open:h,setOpen:m,isMobile:o,openMobile:c,setOpenMobile:l,toggleSidebar:y}),[x,h,m,o,c,l,y]);return d.jsx(Fne.Provider,{value:k,children:d.jsx(tne,{delayDuration:0,children:d.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":A5e,"--sidebar-width-icon":P5e,...s},className:jt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...a,children:i})})})}function N5e({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:s,...i}){const{isMobile:a,state:o,openMobile:c,setOpenMobile:l}=Rne();return r==="none"?d.jsx("div",{"data-slot":"sidebar",className:jt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...i,children:s}):a?d.jsx(b5e,{open:c,onOpenChange:l,...i,children:d.jsxs(Mne,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":S5e},side:t,children:[d.jsxs($ne,{className:"sr-only",children:[d.jsx(One,{children:"Sidebar"}),d.jsx(Bne,{children:"Displays the mobile sidebar."})]}),d.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):d.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":o==="collapsed"?r:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[d.jsx("div",{"data-slot":"sidebar-gap",className:jt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),d.jsx("div",{"data-slot":"sidebar-container",className:jt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:d.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function E5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:jt("flex flex-col gap-2 p-2",t),...e})}function C5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:jt("flex flex-col gap-2 p-2",t),...e})}function _5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:jt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function T5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:jt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function j5e({className:t,...e}){return d.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:jt("w-full text-sm",t),...e})}function M5e({className:t,...e}){return d.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:jt("flex w-full min-w-0 flex-col gap-1",t),...e})}function $5e({className:t,...e}){return d.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:jt("group/menu-item relative",t),...e})}const O5e=U1("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function B5e({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:s,className:i,...a}){const o=t?jte:"button",{isMobile:c,state:l}=Rne(),u=d.jsx(o,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":e,className:jt(O5e({variant:r,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(u4e,{children:[d.jsx(d4e,{asChild:!0,children:u}),d.jsx(rne,{side:"right",align:"center",hidden:l!=="collapsed"||c,...s})]})):u}const Dne=B.createContext(void 0);function F5e({children:t}){const[e,r]=B.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");if(i)return i}return"light"});B.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=()=>{r(i=>i==="light"?"dark":"light")},s=i=>{r(i)};return d.jsx(Dne.Provider,{value:{theme:e,toggleTheme:n,setTheme:s},children:t})}function R5e(){const t=B.useContext(Dne);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}var Gr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Gr||(Gr={}));var oj;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(oj||(oj={}));const zt=Gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vf=t=>{switch(typeof t){case"undefined":return zt.undefined;case"string":return zt.string;case"number":return isNaN(t)?zt.nan:zt.number;case"boolean":return zt.boolean;case"function":return zt.function;case"bigint":return zt.bigint;case"symbol":return zt.symbol;case"object":return Array.isArray(t)?zt.array:t===null?zt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?zt.promise:typeof Map<"u"&&t instanceof Map?zt.map:typeof Set<"u"&&t instanceof Set?zt.set:typeof Date<"u"&&t instanceof Date?zt.date:zt.object;default:return zt.unknown}},Nt=Gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),D5e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return s(this),n}static assert(e){if(!(e instanceof pc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pc.create=t=>new pc(t);const mx=(t,e)=>{let r;switch(t.code){case Nt.invalid_type:t.received===zt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Nt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Gr.jsonStringifyReplacer)}`;break;case Nt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Gr.joinValues(t.keys,", ")}`;break;case Nt.invalid_union:r="Invalid input";break;case Nt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Gr.joinValues(t.options)}`;break;case Nt.invalid_enum_value:r=`Invalid enum value. Expected ${Gr.joinValues(t.options)}, received '${t.received}'`;break;case Nt.invalid_arguments:r="Invalid function arguments";break;case Nt.invalid_return_type:r="Invalid function return type";break;case Nt.invalid_date:r="Invalid date";break;case Nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Gr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Nt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Nt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Nt.custom:r="Invalid input";break;case Nt.invalid_intersection_types:r="Intersection results could not be merged";break;case Nt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Nt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Gr.assertNever(t)}return{message:r}};let Une=mx;function U5e(t){Une=t}function kA(){return Une}const IA=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},z5e=[];function Ft(t,e){const r=kA(),n=IA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===mx?void 0:mx].filter(s=>!!s)});t.common.issues.push(n)}class za{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return lr;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return za.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return lr;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const lr=Object.freeze({status:"aborted"}),ny=t=>({status:"dirty",value:t}),so=t=>({status:"valid",value:t}),cj=t=>t.status==="aborted",lj=t=>t.status==="dirty",y1=t=>t.status==="valid",l6=t=>typeof Promise<"u"&&t instanceof Promise;function NA(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function zne(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Xt||(Xt={}));var D2,U2;class Gd{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZL=(t,e)=>{if(y1(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pc(t.common.issues);return this._error=r,this._error}}};function wr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,l;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}},description:s}}class Cr{get description(){return this._def.description}_getType(e){return Vf(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Vf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new za,ctx:{common:e.parent.common,data:e.data,parsedType:Vf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(l6(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vf(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ZL(s,i)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vf(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return y1(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>y1(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vf(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(l6(s)?s:Promise.resolve(s));return ZL(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:Nt.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new _u({schema:this,typeName:or.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Rd.create(this,this._def)}nullable(){return Jp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pu.create(this)}promise(){return bx.create(this,this._def)}or(e){return h6.create([this,e],this._def)}and(e){return p6.create(this,e,this._def)}transform(e){return new _u({...wr(this._def),schema:this,typeName:or.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new v6({...wr(this._def),innerType:this,defaultValue:r,typeName:or.ZodDefault})}brand(){return new aF({typeName:or.ZodBranded,type:this,...wr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new x6({...wr(this._def),innerType:this,catchValue:r,typeName:or.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return H4.create(this,e)}readonly(){return w6.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L5e=/^c[^\s-]{8,}$/i,V5e=/^[0-9a-z]+$/,H5e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,q5e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W5e=/^[a-z0-9_-]{21}$/i,K5e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,X5e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z5e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J5e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eE;const Q5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Y5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G5e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,e8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",n8e=new RegExp(`^${Lne}$`);function Vne(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function s8e(t){return new RegExp(`^${Vne(t)}$`)}function Hne(t){let e=`${Lne}T${Vne(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function i8e(t,e){return!!((e==="v4"||!e)&&Q5e.test(t)||(e==="v6"||!e)&&G5e.test(t))}function a8e(t,e){if(!K5e.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function o8e(t,e){return!!((e==="v4"||!e)&&Y5e.test(t)||(e==="v6"||!e)&&e8e.test(t))}class gu extends Cr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==zt.string){const i=this._getOrReturnCtx(e);return Ft(i,{code:Nt.invalid_type,expected:zt.string,received:i.parsedType}),lr}const n=new za;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?Ft(s,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Ft(s,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Z5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"email",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")eE||(eE=new RegExp(J5e,"u")),eE.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"emoji",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")q5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"uuid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")W5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"nanoid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")L5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"cuid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")V5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"cuid2",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")H5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"ulid",code:Nt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ft(s,{validation:"url",code:Nt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"regex",code:Nt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Hne(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?n8e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?s8e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?X5e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"duration",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?i8e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"ip",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?a8e(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"jwt",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?o8e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"cidr",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?t8e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"base64",code:Nt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?r8e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ft(s,{validation:"base64url",code:Nt.invalid_string,message:i.message}),n.dirty()):Gr.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Nt.invalid_string,...Xt.errToObj(n)})}_addCheck(e){return new gu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Xt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Xt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Xt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Xt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Xt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Xt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Xt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Xt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Xt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Xt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Xt.errToObj(r)})}nonempty(e){return this.min(1,Xt.errToObj(e))}trim(){return new gu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}gu.create=t=>{var e;return new gu({checks:[],typeName:or.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...wr(t)})};function c8e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Kp extends Cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==zt.number){const i=this._getOrReturnCtx(e);return Ft(i,{code:Nt.invalid_type,expected:zt.number,received:i.parsedType}),lr}let n;const s=new za;for(const i of this._def.checks)i.kind==="int"?Gr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?c8e(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.not_finite,message:i.message}),s.dirty()):Gr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,s){return new Kp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(s)}]})}_addCheck(e){return new Kp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Kp.create=t=>new Kp({checks:[],typeName:or.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...wr(t)});class Xp extends Cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==zt.bigint)return this._getInvalidInput(e);let n;const s=new za;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Gr.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ft(r,{code:Nt.invalid_type,expected:zt.bigint,received:r.parsedType}),lr}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,s){return new Xp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(s)}]})}_addCheck(e){return new Xp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xp.create=t=>{var e;return new Xp({checks:[],typeName:or.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...wr(t)})};class u6 extends Cr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==zt.boolean){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.boolean,received:n.parsedType}),lr}return so(e.data)}}u6.create=t=>new u6({typeName:or.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...wr(t)});class v1 extends Cr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==zt.date){const i=this._getOrReturnCtx(e);return Ft(i,{code:Nt.invalid_type,expected:zt.date,received:i.parsedType}),lr}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ft(i,{code:Nt.invalid_date}),lr}const n=new za;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ft(s,{code:Nt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Gr.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new v1({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Xt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Xt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}v1.create=t=>new v1({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:or.ZodDate,...wr(t)});class EA extends Cr{_parse(e){if(this._getType(e)!==zt.symbol){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.symbol,received:n.parsedType}),lr}return so(e.data)}}EA.create=t=>new EA({typeName:or.ZodSymbol,...wr(t)});class d6 extends Cr{_parse(e){if(this._getType(e)!==zt.undefined){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.undefined,received:n.parsedType}),lr}return so(e.data)}}d6.create=t=>new d6({typeName:or.ZodUndefined,...wr(t)});class f6 extends Cr{_parse(e){if(this._getType(e)!==zt.null){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.null,received:n.parsedType}),lr}return so(e.data)}}f6.create=t=>new f6({typeName:or.ZodNull,...wr(t)});class gx extends Cr{constructor(){super(...arguments),this._any=!0}_parse(e){return so(e.data)}}gx.create=t=>new gx({typeName:or.ZodAny,...wr(t)});class Jg extends Cr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return so(e.data)}}Jg.create=t=>new Jg({typeName:or.ZodUnknown,...wr(t)});class _h extends Cr{_parse(e){const r=this._getOrReturnCtx(e);return Ft(r,{code:Nt.invalid_type,expected:zt.never,received:r.parsedType}),lr}}_h.create=t=>new _h({typeName:or.ZodNever,...wr(t)});class CA extends Cr{_parse(e){if(this._getType(e)!==zt.undefined){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.void,received:n.parsedType}),lr}return so(e.data)}}CA.create=t=>new CA({typeName:or.ZodVoid,...wr(t)});class Pu extends Cr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==zt.array)return Ft(r,{code:Nt.invalid_type,expected:zt.array,received:r.parsedType}),lr;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(Ft(r,{code:a?Nt.too_big:Nt.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ft(r,{code:Nt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ft(r,{code:Nt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new Gd(r,a,r.path,o)))).then(a=>za.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new Gd(r,a,r.path,o)));return za.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Pu({...this._def,minLength:{value:e,message:Xt.toString(r)}})}max(e,r){return new Pu({...this._def,maxLength:{value:e,message:Xt.toString(r)}})}length(e,r){return new Pu({...this._def,exactLength:{value:e,message:Xt.toString(r)}})}nonempty(e){return this.min(1,e)}}Pu.create=(t,e)=>new Pu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:or.ZodArray,...wr(e)});function Tb(t){if(t instanceof as){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Rd.create(Tb(n))}return new as({...t._def,shape:()=>e})}else return t instanceof Pu?new Pu({...t._def,type:Tb(t.element)}):t instanceof Rd?Rd.create(Tb(t.unwrap())):t instanceof Jp?Jp.create(Tb(t.unwrap())):t instanceof ef?ef.create(t.items.map(e=>Tb(e))):t}class as extends Cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Gr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==zt.object){const l=this._getOrReturnCtx(e);return Ft(l,{code:Nt.invalid_type,expected:zt.object,received:l.parsedType}),lr}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof _h&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=i[l],f=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Gd(s,f,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof _h){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")o.length>0&&(Ft(s,{code:Nt.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const f=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Gd(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key,h=await u.value;l.push({key:f,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>za.mergeObjectSync(n,l)):za.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Xt.errToObj,new as({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Xt.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new as({...this._def,unknownKeys:"strip"})}passthrough(){return new as({...this._def,unknownKeys:"passthrough"})}extend(e){return new as({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new as({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:or.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new as({...this._def,catchall:e})}pick(e){const r={};return Gr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new as({...this._def,shape:()=>r})}omit(e){const r={};return Gr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new as({...this._def,shape:()=>r})}deepPartial(){return Tb(this)}partial(e){const r={};return Gr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new as({...this._def,shape:()=>r})}required(e){const r={};return Gr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Rd;)i=i._def.innerType;r[n]=i}}),new as({...this._def,shape:()=>r})}keyof(){return qne(Gr.objectKeys(this.shape))}}as.create=(t,e)=>new as({shape:()=>t,unknownKeys:"strip",catchall:_h.create(),typeName:or.ZodObject,...wr(e)});as.strictCreate=(t,e)=>new as({shape:()=>t,unknownKeys:"strict",catchall:_h.create(),typeName:or.ZodObject,...wr(e)});as.lazycreate=(t,e)=>new as({shape:t,unknownKeys:"strip",catchall:_h.create(),typeName:or.ZodObject,...wr(e)});class h6 extends Cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new pc(o.ctx.common.issues));return Ft(r,{code:Nt.invalid_union,unionErrors:a}),lr}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new pc(c));return Ft(r,{code:Nt.invalid_union,unionErrors:o}),lr}}get options(){return this._def.options}}h6.create=(t,e)=>new h6({options:t,typeName:or.ZodUnion,...wr(e)});const Mf=t=>t instanceof g6?Mf(t.schema):t instanceof _u?Mf(t.innerType()):t instanceof b6?[t.value]:t instanceof Zp?t.options:t instanceof y6?Gr.objectValues(t.enum):t instanceof v6?Mf(t._def.innerType):t instanceof d6?[void 0]:t instanceof f6?[null]:t instanceof Rd?[void 0,...Mf(t.unwrap())]:t instanceof Jp?[null,...Mf(t.unwrap())]:t instanceof aF||t instanceof w6?Mf(t.unwrap()):t instanceof x6?Mf(t._def.innerType):[];class XP extends Cr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.object)return Ft(r,{code:Nt.invalid_type,expected:zt.object,received:r.parsedType}),lr;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ft(r,{code:Nt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),lr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=Mf(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new XP({typeName:or.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...wr(n)})}}function uj(t,e){const r=Vf(t),n=Vf(e);if(t===e)return{valid:!0,data:t};if(r===zt.object&&n===zt.object){const s=Gr.objectKeys(e),i=Gr.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=uj(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===zt.array&&n===zt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=uj(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===zt.date&&n===zt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class p6 extends Cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(cj(i)||cj(a))return lr;const o=uj(i.value,a.value);return o.valid?((lj(i)||lj(a))&&r.dirty(),{status:r.value,value:o.data}):(Ft(n,{code:Nt.invalid_intersection_types}),lr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}p6.create=(t,e,r)=>new p6({left:t,right:e,typeName:or.ZodIntersection,...wr(r)});class ef extends Cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.array)return Ft(n,{code:Nt.invalid_type,expected:zt.array,received:n.parsedType}),lr;if(n.data.length<this._def.items.length)return Ft(n,{code:Nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lr;!this._def.rest&&n.data.length>this._def.items.length&&(Ft(n,{code:Nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Gd(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>za.mergeArray(r,a)):za.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ef({...this._def,rest:e})}}ef.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ef({items:t,typeName:or.ZodTuple,rest:null,...wr(e)})};class m6 extends Cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.object)return Ft(n,{code:Nt.invalid_type,expected:zt.object,received:n.parsedType}),lr;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new Gd(n,o,n.path,o)),value:a._parse(new Gd(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?za.mergeObjectAsync(r,s):za.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Cr?new m6({keyType:e,valueType:r,typeName:or.ZodRecord,...wr(n)}):new m6({keyType:gu.create(),valueType:e,typeName:or.ZodRecord,...wr(r)})}}class _A extends Cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.map)return Ft(n,{code:Nt.invalid_type,expected:zt.map,received:n.parsedType}),lr;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],l)=>({key:s._parse(new Gd(n,o,n.path,[l,"key"])),value:i._parse(new Gd(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return lr;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return lr;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(l.value,u.value)}return{status:r.value,value:o}}}}_A.create=(t,e,r)=>new _A({valueType:e,keyType:t,typeName:or.ZodMap,...wr(r)});class x1 extends Cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==zt.set)return Ft(n,{code:Nt.invalid_type,expected:zt.set,received:n.parsedType}),lr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ft(n,{code:Nt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ft(n,{code:Nt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return lr;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const o=[...n.data.values()].map((c,l)=>i._parse(new Gd(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new x1({...this._def,minSize:{value:e,message:Xt.toString(r)}})}max(e,r){return new x1({...this._def,maxSize:{value:e,message:Xt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}x1.create=(t,e)=>new x1({valueType:t,minSize:null,maxSize:null,typeName:or.ZodSet,...wr(e)});class My extends Cr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.function)return Ft(r,{code:Nt.invalid_type,expected:zt.function,received:r.parsedType}),lr;function n(o,c){return IA({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,kA(),mx].filter(l=>!!l),issueData:{code:Nt.invalid_arguments,argumentsError:c}})}function s(o,c){return IA({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,kA(),mx].filter(l=>!!l),issueData:{code:Nt.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof bx){const o=this;return so(async function(...c){const l=new pc([]),u=await o._def.args.parseAsync(c,i).catch(m=>{throw l.addIssue(n(c,m)),l}),f=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw l.addIssue(s(f,m)),l})})}else{const o=this;return so(function(...c){const l=o._def.args.safeParse(c,i);if(!l.success)throw new pc([n(c,l.error)]);const u=Reflect.apply(a,this,l.data),f=o._def.returns.safeParse(u,i);if(!f.success)throw new pc([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new My({...this._def,args:ef.create(e).rest(Jg.create())})}returns(e){return new My({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new My({args:e||ef.create([]).rest(Jg.create()),returns:r||Jg.create(),typeName:or.ZodFunction,...wr(n)})}}class g6 extends Cr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}g6.create=(t,e)=>new g6({getter:t,typeName:or.ZodLazy,...wr(e)});class b6 extends Cr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ft(r,{received:r.data,code:Nt.invalid_literal,expected:this._def.value}),lr}return{status:"valid",value:e.data}}get value(){return this._def.value}}b6.create=(t,e)=>new b6({value:t,typeName:or.ZodLiteral,...wr(e)});function qne(t,e){return new Zp({values:t,typeName:or.ZodEnum,...wr(e)})}class Zp extends Cr{constructor(){super(...arguments),D2.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ft(r,{expected:Gr.joinValues(n),received:r.parsedType,code:Nt.invalid_type}),lr}if(NA(this,D2)||zne(this,D2,new Set(this._def.values)),!NA(this,D2).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ft(r,{received:r.data,code:Nt.invalid_enum_value,options:n}),lr}return so(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Zp.create(e,{...this._def,...r})}exclude(e,r=this._def){return Zp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}D2=new WeakMap;Zp.create=qne;class y6 extends Cr{constructor(){super(...arguments),U2.set(this,void 0)}_parse(e){const r=Gr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==zt.string&&n.parsedType!==zt.number){const s=Gr.objectValues(r);return Ft(n,{expected:Gr.joinValues(s),received:n.parsedType,code:Nt.invalid_type}),lr}if(NA(this,U2)||zne(this,U2,new Set(Gr.getValidEnumValues(this._def.values))),!NA(this,U2).has(e.data)){const s=Gr.objectValues(r);return Ft(n,{received:n.data,code:Nt.invalid_enum_value,options:s}),lr}return so(e.data)}get enum(){return this._def.values}}U2=new WeakMap;y6.create=(t,e)=>new y6({values:t,typeName:or.ZodNativeEnum,...wr(e)});class bx extends Cr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.promise&&r.common.async===!1)return Ft(r,{code:Nt.invalid_type,expected:zt.promise,received:r.parsedType}),lr;const n=r.parsedType===zt.promise?r.data:Promise.resolve(r.data);return so(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}bx.create=(t,e)=>new bx({type:t,typeName:or.ZodPromise,...wr(e)});class _u extends Cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===or.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Ft(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return lr;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?lr:c.status==="dirty"||r.value==="dirty"?ny(c.value):c});{if(r.value==="aborted")return lr;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?lr:o.status==="dirty"||r.value==="dirty"?ny(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?lr:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?lr:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!y1(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>y1(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Gr.assertNever(s)}}_u.create=(t,e,r)=>new _u({schema:t,typeName:or.ZodEffects,effect:e,...wr(r)});_u.createWithPreprocess=(t,e,r)=>new _u({schema:e,effect:{type:"preprocess",transform:t},typeName:or.ZodEffects,...wr(r)});class Rd extends Cr{_parse(e){return this._getType(e)===zt.undefined?so(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rd.create=(t,e)=>new Rd({innerType:t,typeName:or.ZodOptional,...wr(e)});class Jp extends Cr{_parse(e){return this._getType(e)===zt.null?so(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jp.create=(t,e)=>new Jp({innerType:t,typeName:or.ZodNullable,...wr(e)});class v6 extends Cr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===zt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}v6.create=(t,e)=>new v6({innerType:t,typeName:or.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...wr(e)});class x6 extends Cr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return l6(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}x6.create=(t,e)=>new x6({innerType:t,typeName:or.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...wr(e)});class TA extends Cr{_parse(e){if(this._getType(e)!==zt.nan){const n=this._getOrReturnCtx(e);return Ft(n,{code:Nt.invalid_type,expected:zt.nan,received:n.parsedType}),lr}return{status:"valid",value:e.data}}}TA.create=t=>new TA({typeName:or.ZodNaN,...wr(t)});const l8e=Symbol("zod_brand");class aF extends Cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class H4 extends Cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lr:i.status==="dirty"?(r.dirty(),ny(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?lr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new H4({in:e,out:r,typeName:or.ZodPipeline})}}class w6 extends Cr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(y1(s)&&(s.value=Object.freeze(s.value)),s);return l6(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}w6.create=(t,e)=>new w6({innerType:t,typeName:or.ZodReadonly,...wr(e)});function JL(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Wne(t,e={},r){return t?gx.create().superRefine((n,s)=>{var i,a;const o=t(n);if(o instanceof Promise)return o.then(c=>{var l,u;if(!c){const f=JL(e,n),h=(u=(l=f.fatal)!==null&&l!==void 0?l:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!o){const c=JL(e,n),l=(a=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:l})}}):gx.create()}const u8e={object:as.lazycreate};var or;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(or||(or={}));const d8e=(t,e={message:`Input not instance of ${t.name}`})=>Wne(r=>r instanceof t,e),Kne=gu.create,Xne=Kp.create,f8e=TA.create,h8e=Xp.create,Zne=u6.create,p8e=v1.create,m8e=EA.create,g8e=d6.create,b8e=f6.create,y8e=gx.create,v8e=Jg.create,x8e=_h.create,w8e=CA.create,A8e=Pu.create,S8e=as.create,P8e=as.strictCreate,k8e=h6.create,I8e=XP.create,N8e=p6.create,E8e=ef.create,C8e=m6.create,_8e=_A.create,T8e=x1.create,j8e=My.create,M8e=g6.create,$8e=b6.create,O8e=Zp.create,B8e=y6.create,F8e=bx.create,QL=_u.create,R8e=Rd.create,D8e=Jp.create,U8e=_u.createWithPreprocess,z8e=H4.create,L8e=()=>Kne().optional(),V8e=()=>Xne().optional(),H8e=()=>Zne().optional(),q8e={string:t=>gu.create({...t,coerce:!0}),number:t=>Kp.create({...t,coerce:!0}),boolean:t=>u6.create({...t,coerce:!0}),bigint:t=>Xp.create({...t,coerce:!0}),date:t=>v1.create({...t,coerce:!0})},W8e=lr;var Bt=Object.freeze({__proto__:null,defaultErrorMap:mx,setErrorMap:U5e,getErrorMap:kA,makeIssue:IA,EMPTY_PATH:z5e,addIssueToContext:Ft,ParseStatus:za,INVALID:lr,DIRTY:ny,OK:so,isAborted:cj,isDirty:lj,isValid:y1,isAsync:l6,get util(){return Gr},get objectUtil(){return oj},ZodParsedType:zt,getParsedType:Vf,ZodType:Cr,datetimeRegex:Hne,ZodString:gu,ZodNumber:Kp,ZodBigInt:Xp,ZodBoolean:u6,ZodDate:v1,ZodSymbol:EA,ZodUndefined:d6,ZodNull:f6,ZodAny:gx,ZodUnknown:Jg,ZodNever:_h,ZodVoid:CA,ZodArray:Pu,ZodObject:as,ZodUnion:h6,ZodDiscriminatedUnion:XP,ZodIntersection:p6,ZodTuple:ef,ZodRecord:m6,ZodMap:_A,ZodSet:x1,ZodFunction:My,ZodLazy:g6,ZodLiteral:b6,ZodEnum:Zp,ZodNativeEnum:y6,ZodPromise:bx,ZodEffects:_u,ZodTransformer:_u,ZodOptional:Rd,ZodNullable:Jp,ZodDefault:v6,ZodCatch:x6,ZodNaN:TA,BRAND:l8e,ZodBranded:aF,ZodPipeline:H4,ZodReadonly:w6,custom:Wne,Schema:Cr,ZodSchema:Cr,late:u8e,get ZodFirstPartyTypeKind(){return or},coerce:q8e,any:y8e,array:A8e,bigint:h8e,boolean:Zne,date:p8e,discriminatedUnion:I8e,effect:QL,enum:O8e,function:j8e,instanceof:d8e,intersection:N8e,lazy:M8e,literal:$8e,map:_8e,nan:f8e,nativeEnum:B8e,never:x8e,null:b8e,nullable:D8e,number:Xne,object:S8e,oboolean:H8e,onumber:V8e,optional:R8e,ostring:L8e,pipeline:z8e,preprocess:U8e,promise:F8e,record:C8e,set:T8e,strictObject:P8e,string:Kne,symbol:m8e,transformer:QL,tuple:E8e,undefined:g8e,union:k8e,unknown:v8e,void:w8e,NEVER:W8e,ZodIssueCode:Nt,quotelessJson:D5e,ZodError:pc});const K8e=Bt.object({id:Bt.string(),name:Bt.string(),pinHash:Bt.string(),pinLength:Bt.number().min(4).max(6),seedPhrase:Bt.string(),isConnected:Bt.boolean(),lastConnected:Bt.string().optional(),createdAt:Bt.string()});K8e.omit({id:!0,createdAt:!0});const X8e=Bt.object({id:Bt.string(),name:Bt.string(),symbol:Bt.string(),rpcUrl:Bt.string(),chainId:Bt.number(),blockExplorer:Bt.string().optional(),iconColor:Bt.string(),isDefault:Bt.boolean(),decimals:Bt.number().default(18)});X8e.omit({id:!0});const Z8e=Bt.object({id:Bt.string(),chainId:Bt.string(),name:Bt.string(),symbol:Bt.string(),contractAddress:Bt.string(),decimals:Bt.number().default(18),iconColor:Bt.string().optional()});Z8e.omit({id:!0});const J8e=Bt.object({id:Bt.string(),deviceId:Bt.string(),chainId:Bt.string(),address:Bt.string(),balance:Bt.string(),isActive:Bt.boolean(),accountIndex:Bt.number().default(0),label:Bt.string().optional(),walletGroupId:Bt.string().optional()});J8e.omit({id:!0});const Q8e=Bt.object({id:Bt.string(),walletId:Bt.string(),chainId:Bt.string(),type:Bt.enum(["send","receive"]),status:Bt.enum(["pending","confirmed","failed"]),amount:Bt.string(),tokenSymbol:Bt.string(),toAddress:Bt.string(),fromAddress:Bt.string(),txHash:Bt.string().optional(),gasUsed:Bt.string().optional(),timestamp:Bt.string()});Q8e.omit({id:!0});Bt.object({deviceId:Bt.string(),pin:Bt.string().min(4).max(6)});Bt.object({deviceId:Bt.string(),walletId:Bt.string(),toAddress:Bt.string(),amount:Bt.string(),tokenSymbol:Bt.string().optional(),pin:Bt.string().min(4).max(6)});Bt.object({deviceId:Bt.string().optional(),isUnlocked:Bt.boolean(),unlockExpiry:Bt.string().optional()});const Ui=[{name:"Ethereum",symbol:"ETH",rpcUrl:"https://eth.llamarpc.com",chainId:1,blockExplorer:"https://etherscan.io",iconColor:"#627EEA",isDefault:!0,decimals:18},{name:"Bitcoin",symbol:"BTC",rpcUrl:"",chainId:0,blockExplorer:"https://blockchain.com",iconColor:"#F7931A",isDefault:!0,decimals:8},{name:"BNB Smart Chain",symbol:"BNB",rpcUrl:"https://bsc-dataseed.binance.org",chainId:56,blockExplorer:"https://bscscan.com",iconColor:"#F3BA2F",isDefault:!0,decimals:18},{name:"Polygon",symbol:"MATIC",rpcUrl:"https://polygon-rpc.com",chainId:137,blockExplorer:"https://polygonscan.com",iconColor:"#8247E5",isDefault:!0,decimals:18},{name:"Avalanche",symbol:"AVAX",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",chainId:43114,blockExplorer:"https://snowtrace.io",iconColor:"#E84142",isDefault:!0,decimals:18},{name:"Arbitrum",symbol:"ARB",rpcUrl:"https://arb1.arbitrum.io/rpc",chainId:42161,blockExplorer:"https://arbiscan.io",iconColor:"#28A0F0",isDefault:!0,decimals:18},{name:"XRP",symbol:"XRP",rpcUrl:"",chainId:-2,blockExplorer:"https://xrpscan.com",iconColor:"#23292F",isDefault:!0,decimals:6},{name:"Dogecoin",symbol:"DOGE",rpcUrl:"",chainId:-3,blockExplorer:"https://dogechain.info",iconColor:"#C2A633",isDefault:!0,decimals:8},{name:"TRON",symbol:"TRX",rpcUrl:"",chainId:-5,blockExplorer:"https://tronscan.org",iconColor:"#FF0013",isDefault:!0,decimals:6},{name:"Litecoin",symbol:"LTC",rpcUrl:"",chainId:-7,blockExplorer:"https://blockchair.com/litecoin",iconColor:"#345D9D",isDefault:!0,decimals:8},{name:"Bitcoin Cash",symbol:"BCH",rpcUrl:"",chainId:-8,blockExplorer:"https://blockchair.com/bitcoin-cash",iconColor:"#8DC351",isDefault:!0,decimals:8},{name:"Solana",symbol:"SOL",rpcUrl:"https://api.mainnet-beta.solana.com",chainId:-9,blockExplorer:"https://solscan.io",iconColor:"#9945FF",isDefault:!0,decimals:9},{name:"Cardano",symbol:"ADA",rpcUrl:"",chainId:-10,blockExplorer:"https://cardanoscan.io",iconColor:"#0033AD",isDefault:!0,decimals:6},{name:"Cosmos",symbol:"ATOM",rpcUrl:"https://cosmos-rpc.polkachu.com",chainId:-11,blockExplorer:"https://www.mintscan.io/cosmos",iconColor:"#2E3148",isDefault:!0,decimals:6},{name:"Osmosis",symbol:"OSMO",rpcUrl:"https://osmosis-rpc.polkachu.com",chainId:-12,blockExplorer:"https://www.mintscan.io/osmosis",iconColor:"#750BBB",isDefault:!0,decimals:6},{name:"Polkadot",symbol:"DOT",rpcUrl:"https://rpc.polkadot.io",chainId:-13,blockExplorer:"https://polkadot.subscan.io",iconColor:"#E6007A",isDefault:!0,decimals:10}];Bt.object({username:Bt.string(),password:Bt.string()});Bt.object({id:Bt.string(),symbol:Bt.string(),name:Bt.string(),image:Bt.string().optional(),currentPrice:Bt.number().optional(),marketCap:Bt.number().optional(),marketCapRank:Bt.number().optional(),priceChangePercentage24h:Bt.number().optional()});const Dd=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin",marketCapRank:1,image:"https://assets.coingecko.com/coins/images/1/small/bitcoin.png"},{id:"ethereum",symbol:"ETH",name:"Ethereum",marketCapRank:2,image:"https://assets.coingecko.com/coins/images/279/small/ethereum.png"},{id:"tether",symbol:"USDT",name:"USDT (Ethereum)",marketCapRank:3,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"tether-bsc",symbol:"USDT",name:"USDT (BNB Chain)",marketCapRank:4,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"tether-tron",symbol:"USDT",name:"USDT (TRON)",marketCapRank:5,image:"https://assets.coingecko.com/coins/images/325/small/Tether.png"},{id:"binancecoin",symbol:"BNB",name:"BNB",marketCapRank:6,image:"https://assets.coingecko.com/coins/images/825/small/bnb-icon2_2x.png"},{id:"solana",symbol:"SOL",name:"Solana",marketCapRank:7,image:"https://assets.coingecko.com/coins/images/4128/small/solana.png"},{id:"usd-coin",symbol:"USDC",name:"USDC (Ethereum)",marketCapRank:8,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"usd-coin-bsc",symbol:"USDC",name:"USDC (BNB Chain)",marketCapRank:9,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"usd-coin-tron",symbol:"USDC",name:"USDC (TRON)",marketCapRank:10,image:"https://assets.coingecko.com/coins/images/6319/small/usdc.png"},{id:"ripple",symbol:"XRP",name:"XRP",marketCapRank:11,image:"https://assets.coingecko.com/coins/images/44/small/xrp-symbol-white-128.png"},{id:"staked-ether",symbol:"STETH",name:"Lido Staked Ether",marketCapRank:12,image:"https://assets.coingecko.com/coins/images/13442/small/steth_logo.png"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin",marketCapRank:13,image:"https://assets.coingecko.com/coins/images/5/small/dogecoin.png"},{id:"cardano",symbol:"ADA",name:"Cardano",marketCapRank:14,image:"https://assets.coingecko.com/coins/images/975/small/cardano.png"},{id:"tron",symbol:"TRX",name:"TRON",marketCapRank:15,image:"https://assets.coingecko.com/coins/images/1094/small/tron-logo.png"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche",marketCapRank:16,image:"https://assets.coingecko.com/coins/images/12559/small/Avalanche_Circle_RedWhite_Trans.png"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu",marketCapRank:17,image:"https://assets.coingecko.com/coins/images/11939/small/shiba.png"},{id:"chainlink",symbol:"LINK",name:"Chainlink",marketCapRank:18,image:"https://assets.coingecko.com/coins/images/877/small/chainlink-new-logo.png"},{id:"wrapped-bitcoin",symbol:"WBTC",name:"Wrapped Bitcoin",marketCapRank:19,image:"https://assets.coingecko.com/coins/images/7598/small/wrapped_bitcoin_wbtc.png"},{id:"polkadot",symbol:"DOT",name:"Polkadot",marketCapRank:20,image:"https://assets.coingecko.com/coins/images/12171/small/polkadot.png"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash",marketCapRank:21,image:"https://assets.coingecko.com/coins/images/780/small/bitcoin-cash-circle.png"},{id:"matic-network",symbol:"MATIC",name:"Polygon",marketCapRank:22,image:"https://assets.coingecko.com/coins/images/4713/small/polygon.png"},{id:"litecoin",symbol:"LTC",name:"Litecoin",marketCapRank:23,image:"https://assets.coingecko.com/coins/images/2/small/litecoin.png"},{id:"uniswap",symbol:"UNI",name:"Uniswap",marketCapRank:24,image:"https://assets.coingecko.com/coins/images/12504/small/uniswap-logo.png"},{id:"cosmos",symbol:"ATOM",name:"Cosmos",marketCapRank:25,image:"https://assets.coingecko.com/coins/images/1481/small/cosmos_hub.png"},{id:"osmosis",symbol:"OSMO",name:"Osmosis",marketCapRank:26,image:"https://assets.coingecko.com/coins/images/16724/small/osmo.png"},{id:"dai",symbol:"DAI",name:"DAI",marketCapRank:27,image:"https://assets.coingecko.com/coins/images/9956/small/Badge_Dai.png"},{id:"aave",symbol:"AAVE",name:"Aave",marketCapRank:28,image:"https://assets.coingecko.com/coins/images/12645/small/AAVE.png"},{id:"maker",symbol:"MKR",name:"Maker",marketCapRank:29,image:"https://assets.coingecko.com/coins/images/1364/small/maker.png"},{id:"the-graph",symbol:"GRT",name:"The Graph",marketCapRank:30,image:"https://assets.coingecko.com/coins/images/13397/small/Graph_Token.png"},{id:"pancakeswap-token",symbol:"CAKE",name:"PancakeSwap",marketCapRank:31,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png"},{id:"venus",symbol:"XVS",name:"Venus",marketCapRank:32,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png"},{id:"trust-wallet-token",symbol:"TWT",name:"Trust Wallet Token",marketCapRank:33,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png"},{id:"baby-doge-coin",symbol:"BABY",name:"Baby Doge Coin",marketCapRank:34,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png"},{id:"binance-usd",symbol:"BUSD",name:"BUSD (BNB Chain)",marketCapRank:35,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56/logo.png"},{id:"wbnb",symbol:"WBNB",name:"Wrapped BNB",marketCapRank:36,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c/logo.png"},{id:"floki",symbol:"FLOKI",name:"Floki Inu",marketCapRank:37,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xfb5B838b6cfEEdC2873aB27866079AC55363D37E/logo.png"},{id:"safemoon-2",symbol:"SFM",name:"SafeMoon",marketCapRank:38,image:"https://assets.coingecko.com/coins/images/14362/small/174x174-white.png"},{id:"alpaca-finance",symbol:"ALPACA",name:"Alpaca Finance",marketCapRank:39,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x8F0528cE5eF7B51152A59745bEfDD91D97091d2F/logo.png"},{id:"biswap",symbol:"BSW",name:"Biswap",marketCapRank:40,image:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x965F527D9159dCe6288a2219DB51fc6Eef120dD1/logo.png"}];var jA={},ZP={};ZP.byteLength=e9e;ZP.toByteArray=r9e;ZP.fromByteArray=i9e;var Id=[],Gc=[],Y8e=typeof Uint8Array<"u"?Uint8Array:Array,tE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var db=0,G8e=tE.length;db<G8e;++db)Id[db]=tE[db],Gc[tE.charCodeAt(db)]=db;Gc[45]=62;Gc[95]=63;function Jne(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function e9e(t){var e=Jne(t),r=e[0],n=e[1];return(r+n)*3/4-n}function t9e(t,e,r){return(e+r)*3/4-r}function r9e(t){var e,r=Jne(t),n=r[0],s=r[1],i=new Y8e(t9e(t,n,s)),a=0,o=s>0?n-4:n,c;for(c=0;c<o;c+=4)e=Gc[t.charCodeAt(c)]<<18|Gc[t.charCodeAt(c+1)]<<12|Gc[t.charCodeAt(c+2)]<<6|Gc[t.charCodeAt(c+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return s===2&&(e=Gc[t.charCodeAt(c)]<<2|Gc[t.charCodeAt(c+1)]>>4,i[a++]=e&255),s===1&&(e=Gc[t.charCodeAt(c)]<<10|Gc[t.charCodeAt(c+1)]<<4|Gc[t.charCodeAt(c+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function n9e(t){return Id[t>>18&63]+Id[t>>12&63]+Id[t>>6&63]+Id[t&63]}function s9e(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(n9e(n));return s.join("")}function i9e(t){for(var e,r=t.length,n=r%3,s=[],i=16383,a=0,o=r-n;a<o;a+=i)s.push(s9e(t,a,a+i>o?o:a+i));return n===1?(e=t[r-1],s.push(Id[e>>2]+Id[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(Id[e>>10]+Id[e>>4&63]+Id[e<<2&63]+"=")),s.join("")}var oF={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */oF.read=function(t,e,r,n,s){var i,a,o=s*8-n-1,c=(1<<o)-1,l=c>>1,u=-7,f=r?s-1:0,h=r?-1:1,m=t[e+f];for(f+=h,i=m&(1<<-u)-1,m>>=-u,u+=o;u>0;i=i*256+t[e+f],f+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=a*256+t[e+f],f+=h,u-=8);if(i===0)i=1-l;else{if(i===c)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-l}return(m?-1:1)*a*Math.pow(2,i-n)};oF.write=function(t,e,r,n,s,i){var a,o,c,l=i*8-s-1,u=(1<<l)-1,f=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:i-1,y=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(a++,c/=2),a+f>=u?(o=0,a=u):a+f>=1?(o=(e*c-1)*Math.pow(2,s),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),a=0));s>=8;t[r+m]=o&255,m+=y,o/=256,s-=8);for(a=a<<s|o,l+=s;l>0;t[r+m]=a&255,m+=y,a/=256,l-=8);t[r+m-y]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ZP,r=oF,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const Y=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(Y,V),Y.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(Y){if(Y>s)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const V=new Uint8Array(Y);return Object.setPrototypeOf(V,o.prototype),V}function o(Y,V,W){if(typeof Y=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Y)}return c(Y,V,W)}o.poolSize=8192;function c(Y,V,W){if(typeof Y=="string")return h(Y,V);if(ArrayBuffer.isView(Y))return y(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(qe(Y,ArrayBuffer)||Y&&qe(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(Y,SharedArrayBuffer)||Y&&qe(Y.buffer,SharedArrayBuffer)))return x(Y,V,W);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=Y.valueOf&&Y.valueOf();if(ne!=null&&ne!==Y)return o.from(ne,V,W);const le=k(Y);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return o.from(Y[Symbol.toPrimitive]("string"),V,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}o.from=function(Y,V,W){return c(Y,V,W)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function u(Y,V,W){return l(Y),Y<=0?a(Y):V!==void 0?typeof W=="string"?a(Y).fill(V,W):a(Y).fill(V):a(Y)}o.alloc=function(Y,V,W){return u(Y,V,W)};function f(Y){return l(Y),a(Y<0?0:C(Y)|0)}o.allocUnsafe=function(Y){return f(Y)},o.allocUnsafeSlow=function(Y){return f(Y)};function h(Y,V){if((typeof V!="string"||V==="")&&(V="utf8"),!o.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const W=_(Y,V)|0;let ne=a(W);const le=ne.write(Y,V);return le!==W&&(ne=ne.slice(0,le)),ne}function m(Y){const V=Y.length<0?0:C(Y.length)|0,W=a(V);for(let ne=0;ne<V;ne+=1)W[ne]=Y[ne]&255;return W}function y(Y){if(qe(Y,Uint8Array)){const V=new Uint8Array(Y);return x(V.buffer,V.byteOffset,V.byteLength)}return m(Y)}function x(Y,V,W){if(V<0||Y.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<V+(W||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return V===void 0&&W===void 0?ne=new Uint8Array(Y):W===void 0?ne=new Uint8Array(Y,V):ne=new Uint8Array(Y,V,W),Object.setPrototypeOf(ne,o.prototype),ne}function k(Y){if(o.isBuffer(Y)){const V=C(Y.length)|0,W=a(V);return W.length===0||Y.copy(W,0,0,V),W}if(Y.length!==void 0)return typeof Y.length!="number"||Fe(Y.length)?a(0):m(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return m(Y.data)}function C(Y){if(Y>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return Y|0}function I(Y){return+Y!=Y&&(Y=0),o.alloc(+Y)}o.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==o.prototype},o.compare=function(V,W){if(qe(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),qe(W,Uint8Array)&&(W=o.from(W,W.offset,W.byteLength)),!o.isBuffer(V)||!o.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===W)return 0;let ne=V.length,le=W.length;for(let de=0,me=Math.min(ne,le);de<me;++de)if(V[de]!==W[de]){ne=V[de],le=W[de];break}return ne<le?-1:le<ne?1:0},o.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(V,W){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return o.alloc(0);let ne;if(W===void 0)for(W=0,ne=0;ne<V.length;++ne)W+=V[ne].length;const le=o.allocUnsafe(W);let de=0;for(ne=0;ne<V.length;++ne){let me=V[ne];if(qe(me,Uint8Array))de+me.length>le.length?(o.isBuffer(me)||(me=o.from(me)),me.copy(le,de)):Uint8Array.prototype.set.call(le,me,de);else if(o.isBuffer(me))me.copy(le,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=me.length}return le};function _(Y,V){if(o.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||qe(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const W=Y.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&W===0)return 0;let le=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return mt(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Ae(Y).length;default:if(le)return ne?-1:mt(Y).length;V=(""+V).toLowerCase(),le=!0}}o.byteLength=_;function O(Y,V,W){let ne=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,V>>>=0,W<=V))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return A(this,V,W);case"utf8":case"utf-8":return p(this,V,W);case"ascii":return N(this,V,W);case"latin1":case"binary":return P(this,V,W);case"base64":return w(this,V,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,V,W);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ne=!0}}o.prototype._isBuffer=!0;function F(Y,V,W){const ne=Y[V];Y[V]=Y[W],Y[W]=ne}o.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<V;W+=2)F(this,W,W+1);return this},o.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<V;W+=4)F(this,W,W+3),F(this,W+1,W+2);return this},o.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<V;W+=8)F(this,W,W+7),F(this,W+1,W+6),F(this,W+2,W+5),F(this,W+3,W+4);return this},o.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?p(this,0,V):O.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(V){if(!o.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:o.compare(this,V)===0},o.prototype.inspect=function(){let V="";const W=t.INSPECT_MAX_BYTES;return V=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(V+=" ... "),"<Buffer "+V+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(V,W,ne,le,de){if(qe(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(W===void 0&&(W=0),ne===void 0&&(ne=V?V.length:0),le===void 0&&(le=0),de===void 0&&(de=this.length),W<0||ne>V.length||le<0||de>this.length)throw new RangeError("out of range index");if(le>=de&&W>=ne)return 0;if(le>=de)return-1;if(W>=ne)return 1;if(W>>>=0,ne>>>=0,le>>>=0,de>>>=0,this===V)return 0;let me=de-le,rt=ne-W;const ht=Math.min(me,rt),ot=this.slice(le,de),pt=V.slice(W,ne);for(let _t=0;_t<ht;++_t)if(ot[_t]!==pt[_t]){me=ot[_t],rt=pt[_t];break}return me<rt?-1:rt<me?1:0};function D(Y,V,W,ne,le){if(Y.length===0)return-1;if(typeof W=="string"?(ne=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,Fe(W)&&(W=le?0:Y.length-1),W<0&&(W=Y.length+W),W>=Y.length){if(le)return-1;W=Y.length-1}else if(W<0)if(le)W=0;else return-1;if(typeof V=="string"&&(V=o.from(V,ne)),o.isBuffer(V))return V.length===0?-1:j(Y,V,W,ne,le);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(Y,V,W):Uint8Array.prototype.lastIndexOf.call(Y,V,W):j(Y,[V],W,ne,le);throw new TypeError("val must be string, number or Buffer")}function j(Y,V,W,ne,le){let de=1,me=Y.length,rt=V.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(Y.length<2||V.length<2)return-1;de=2,me/=2,rt/=2,W/=2}function ht(pt,_t){return de===1?pt[_t]:pt.readUInt16BE(_t*de)}let ot;if(le){let pt=-1;for(ot=W;ot<me;ot++)if(ht(Y,ot)===ht(V,pt===-1?0:ot-pt)){if(pt===-1&&(pt=ot),ot-pt+1===rt)return pt*de}else pt!==-1&&(ot-=ot-pt),pt=-1}else for(W+rt>me&&(W=me-rt),ot=W;ot>=0;ot--){let pt=!0;for(let _t=0;_t<rt;_t++)if(ht(Y,ot+_t)!==ht(V,_t)){pt=!1;break}if(pt)return ot}return-1}o.prototype.includes=function(V,W,ne){return this.indexOf(V,W,ne)!==-1},o.prototype.indexOf=function(V,W,ne){return D(this,V,W,ne,!0)},o.prototype.lastIndexOf=function(V,W,ne){return D(this,V,W,ne,!1)};function T(Y,V,W,ne){W=Number(W)||0;const le=Y.length-W;ne?(ne=Number(ne),ne>le&&(ne=le)):ne=le;const de=V.length;ne>de/2&&(ne=de/2);let me;for(me=0;me<ne;++me){const rt=parseInt(V.substr(me*2,2),16);if(Fe(rt))return me;Y[W+me]=rt}return me}function R(Y,V,W,ne){return Oe(mt(V,Y.length-W),Y,W,ne)}function q(Y,V,W,ne){return Oe(we(V),Y,W,ne)}function $(Y,V,W,ne){return Oe(Ae(V),Y,W,ne)}function b(Y,V,W,ne){return Oe(We(V,Y.length-W),Y,W,ne)}o.prototype.write=function(V,W,ne,le){if(W===void 0)le="utf8",ne=this.length,W=0;else if(ne===void 0&&typeof W=="string")le=W,ne=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(ne)?(ne=ne>>>0,le===void 0&&(le="utf8")):(le=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-W;if((ne===void 0||ne>de)&&(ne=de),V.length>0&&(ne<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let me=!1;for(;;)switch(le){case"hex":return T(this,V,W,ne);case"utf8":case"utf-8":return R(this,V,W,ne);case"ascii":case"latin1":case"binary":return q(this,V,W,ne);case"base64":return $(this,V,W,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,V,W,ne);default:if(me)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),me=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(Y,V,W){return V===0&&W===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(V,W))}function p(Y,V,W){W=Math.min(Y.length,W);const ne=[];let le=V;for(;le<W;){const de=Y[le];let me=null,rt=de>239?4:de>223?3:de>191?2:1;if(le+rt<=W){let ht,ot,pt,_t;switch(rt){case 1:de<128&&(me=de);break;case 2:ht=Y[le+1],(ht&192)===128&&(_t=(de&31)<<6|ht&63,_t>127&&(me=_t));break;case 3:ht=Y[le+1],ot=Y[le+2],(ht&192)===128&&(ot&192)===128&&(_t=(de&15)<<12|(ht&63)<<6|ot&63,_t>2047&&(_t<55296||_t>57343)&&(me=_t));break;case 4:ht=Y[le+1],ot=Y[le+2],pt=Y[le+3],(ht&192)===128&&(ot&192)===128&&(pt&192)===128&&(_t=(de&15)<<18|(ht&63)<<12|(ot&63)<<6|pt&63,_t>65535&&_t<1114112&&(me=_t))}}me===null?(me=65533,rt=1):me>65535&&(me-=65536,ne.push(me>>>10&1023|55296),me=56320|me&1023),ne.push(me),le+=rt}return S(ne)}const g=4096;function S(Y){const V=Y.length;if(V<=g)return String.fromCharCode.apply(String,Y);let W="",ne=0;for(;ne<V;)W+=String.fromCharCode.apply(String,Y.slice(ne,ne+=g));return W}function N(Y,V,W){let ne="";W=Math.min(Y.length,W);for(let le=V;le<W;++le)ne+=String.fromCharCode(Y[le]&127);return ne}function P(Y,V,W){let ne="";W=Math.min(Y.length,W);for(let le=V;le<W;++le)ne+=String.fromCharCode(Y[le]);return ne}function A(Y,V,W){const ne=Y.length;(!V||V<0)&&(V=0),(!W||W<0||W>ne)&&(W=ne);let le="";for(let de=V;de<W;++de)le+=ze[Y[de]];return le}function v(Y,V,W){const ne=Y.slice(V,W);let le="";for(let de=0;de<ne.length-1;de+=2)le+=String.fromCharCode(ne[de]+ne[de+1]*256);return le}o.prototype.slice=function(V,W){const ne=this.length;V=~~V,W=W===void 0?ne:~~W,V<0?(V+=ne,V<0&&(V=0)):V>ne&&(V=ne),W<0?(W+=ne,W<0&&(W=0)):W>ne&&(W=ne),W<V&&(W=V);const le=this.subarray(V,W);return Object.setPrototypeOf(le,o.prototype),le};function E(Y,V,W){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+V>W)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(V,W,ne){V=V>>>0,W=W>>>0,ne||E(V,W,this.length);let le=this[V],de=1,me=0;for(;++me<W&&(de*=256);)le+=this[V+me]*de;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(V,W,ne){V=V>>>0,W=W>>>0,ne||E(V,W,this.length);let le=this[V+--W],de=1;for(;W>0&&(de*=256);)le+=this[V+--W]*de;return le},o.prototype.readUint8=o.prototype.readUInt8=function(V,W){return V=V>>>0,W||E(V,1,this.length),this[V]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(V,W){return V=V>>>0,W||E(V,2,this.length),this[V]|this[V+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(V,W){return V=V>>>0,W||E(V,2,this.length),this[V]<<8|this[V+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(V,W){return V=V>>>0,W||E(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(V,W){return V=V>>>0,W||E(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},o.prototype.readBigUInt64LE=Ke(function(V){V=V>>>0,pe(V,"offset");const W=this[V],ne=this[V+7];(W===void 0||ne===void 0)&&_e(V,this.length-8);const le=W+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,de=this[++V]+this[++V]*2**8+this[++V]*2**16+ne*2**24;return BigInt(le)+(BigInt(de)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ke(function(V){V=V>>>0,pe(V,"offset");const W=this[V],ne=this[V+7];(W===void 0||ne===void 0)&&_e(V,this.length-8);const le=W*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],de=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ne;return(BigInt(le)<<BigInt(32))+BigInt(de)}),o.prototype.readIntLE=function(V,W,ne){V=V>>>0,W=W>>>0,ne||E(V,W,this.length);let le=this[V],de=1,me=0;for(;++me<W&&(de*=256);)le+=this[V+me]*de;return de*=128,le>=de&&(le-=Math.pow(2,8*W)),le},o.prototype.readIntBE=function(V,W,ne){V=V>>>0,W=W>>>0,ne||E(V,W,this.length);let le=W,de=1,me=this[V+--le];for(;le>0&&(de*=256);)me+=this[V+--le]*de;return de*=128,me>=de&&(me-=Math.pow(2,8*W)),me},o.prototype.readInt8=function(V,W){return V=V>>>0,W||E(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},o.prototype.readInt16LE=function(V,W){V=V>>>0,W||E(V,2,this.length);const ne=this[V]|this[V+1]<<8;return ne&32768?ne|4294901760:ne},o.prototype.readInt16BE=function(V,W){V=V>>>0,W||E(V,2,this.length);const ne=this[V+1]|this[V]<<8;return ne&32768?ne|4294901760:ne},o.prototype.readInt32LE=function(V,W){return V=V>>>0,W||E(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},o.prototype.readInt32BE=function(V,W){return V=V>>>0,W||E(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},o.prototype.readBigInt64LE=Ke(function(V){V=V>>>0,pe(V,"offset");const W=this[V],ne=this[V+7];(W===void 0||ne===void 0)&&_e(V,this.length-8);const le=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(ne<<24);return(BigInt(le)<<BigInt(32))+BigInt(W+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),o.prototype.readBigInt64BE=Ke(function(V){V=V>>>0,pe(V,"offset");const W=this[V],ne=this[V+7];(W===void 0||ne===void 0)&&_e(V,this.length-8);const le=(W<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(le)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ne)}),o.prototype.readFloatLE=function(V,W){return V=V>>>0,W||E(V,4,this.length),r.read(this,V,!0,23,4)},o.prototype.readFloatBE=function(V,W){return V=V>>>0,W||E(V,4,this.length),r.read(this,V,!1,23,4)},o.prototype.readDoubleLE=function(V,W){return V=V>>>0,W||E(V,8,this.length),r.read(this,V,!0,52,8)},o.prototype.readDoubleBE=function(V,W){return V=V>>>0,W||E(V,8,this.length),r.read(this,V,!1,52,8)};function M(Y,V,W,ne,le,de){if(!o.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>le||V<de)throw new RangeError('"value" argument is out of bounds');if(W+ne>Y.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(V,W,ne,le){if(V=+V,W=W>>>0,ne=ne>>>0,!le){const rt=Math.pow(2,8*ne)-1;M(this,V,W,ne,rt,0)}let de=1,me=0;for(this[W]=V&255;++me<ne&&(de*=256);)this[W+me]=V/de&255;return W+ne},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(V,W,ne,le){if(V=+V,W=W>>>0,ne=ne>>>0,!le){const rt=Math.pow(2,8*ne)-1;M(this,V,W,ne,rt,0)}let de=ne-1,me=1;for(this[W+de]=V&255;--de>=0&&(me*=256);)this[W+de]=V/me&255;return W+ne},o.prototype.writeUint8=o.prototype.writeUInt8=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,1,255,0),this[W]=V&255,W+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,2,65535,0),this[W]=V&255,this[W+1]=V>>>8,W+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,2,65535,0),this[W]=V>>>8,this[W+1]=V&255,W+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,4,4294967295,0),this[W+3]=V>>>24,this[W+2]=V>>>16,this[W+1]=V>>>8,this[W]=V&255,W+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,4,4294967295,0),this[W]=V>>>24,this[W+1]=V>>>16,this[W+2]=V>>>8,this[W+3]=V&255,W+4};function L(Y,V,W,ne,le){ce(V,ne,le,Y,W,7);let de=Number(V&BigInt(4294967295));Y[W++]=de,de=de>>8,Y[W++]=de,de=de>>8,Y[W++]=de,de=de>>8,Y[W++]=de;let me=Number(V>>BigInt(32)&BigInt(4294967295));return Y[W++]=me,me=me>>8,Y[W++]=me,me=me>>8,Y[W++]=me,me=me>>8,Y[W++]=me,W}function Q(Y,V,W,ne,le){ce(V,ne,le,Y,W,7);let de=Number(V&BigInt(4294967295));Y[W+7]=de,de=de>>8,Y[W+6]=de,de=de>>8,Y[W+5]=de,de=de>>8,Y[W+4]=de;let me=Number(V>>BigInt(32)&BigInt(4294967295));return Y[W+3]=me,me=me>>8,Y[W+2]=me,me=me>>8,Y[W+1]=me,me=me>>8,Y[W]=me,W+8}o.prototype.writeBigUInt64LE=Ke(function(V,W=0){return L(this,V,W,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ke(function(V,W=0){return Q(this,V,W,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(V,W,ne,le){if(V=+V,W=W>>>0,!le){const ht=Math.pow(2,8*ne-1);M(this,V,W,ne,ht-1,-ht)}let de=0,me=1,rt=0;for(this[W]=V&255;++de<ne&&(me*=256);)V<0&&rt===0&&this[W+de-1]!==0&&(rt=1),this[W+de]=(V/me>>0)-rt&255;return W+ne},o.prototype.writeIntBE=function(V,W,ne,le){if(V=+V,W=W>>>0,!le){const ht=Math.pow(2,8*ne-1);M(this,V,W,ne,ht-1,-ht)}let de=ne-1,me=1,rt=0;for(this[W+de]=V&255;--de>=0&&(me*=256);)V<0&&rt===0&&this[W+de+1]!==0&&(rt=1),this[W+de]=(V/me>>0)-rt&255;return W+ne},o.prototype.writeInt8=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,1,127,-128),V<0&&(V=255+V+1),this[W]=V&255,W+1},o.prototype.writeInt16LE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,2,32767,-32768),this[W]=V&255,this[W+1]=V>>>8,W+2},o.prototype.writeInt16BE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,2,32767,-32768),this[W]=V>>>8,this[W+1]=V&255,W+2},o.prototype.writeInt32LE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,4,2147483647,-2147483648),this[W]=V&255,this[W+1]=V>>>8,this[W+2]=V>>>16,this[W+3]=V>>>24,W+4},o.prototype.writeInt32BE=function(V,W,ne){return V=+V,W=W>>>0,ne||M(this,V,W,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[W]=V>>>24,this[W+1]=V>>>16,this[W+2]=V>>>8,this[W+3]=V&255,W+4},o.prototype.writeBigInt64LE=Ke(function(V,W=0){return L(this,V,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ke(function(V,W=0){return Q(this,V,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U(Y,V,W,ne,le,de){if(W+ne>Y.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function J(Y,V,W,ne,le){return V=+V,W=W>>>0,le||U(Y,V,W,4),r.write(Y,V,W,ne,23,4),W+4}o.prototype.writeFloatLE=function(V,W,ne){return J(this,V,W,!0,ne)},o.prototype.writeFloatBE=function(V,W,ne){return J(this,V,W,!1,ne)};function Z(Y,V,W,ne,le){return V=+V,W=W>>>0,le||U(Y,V,W,8),r.write(Y,V,W,ne,52,8),W+8}o.prototype.writeDoubleLE=function(V,W,ne){return Z(this,V,W,!0,ne)},o.prototype.writeDoubleBE=function(V,W,ne){return Z(this,V,W,!1,ne)},o.prototype.copy=function(V,W,ne,le){if(!o.isBuffer(V))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!le&&le!==0&&(le=this.length),W>=V.length&&(W=V.length),W||(W=0),le>0&&le<ne&&(le=ne),le===ne||V.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),V.length-W<le-ne&&(le=V.length-W+ne);const de=le-ne;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,ne,le):Uint8Array.prototype.set.call(V,this.subarray(ne,le),W),de},o.prototype.fill=function(V,W,ne,le){if(typeof V=="string"){if(typeof W=="string"?(le=W,W=0,ne=this.length):typeof ne=="string"&&(le=ne,ne=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(V.length===1){const me=V.charCodeAt(0);(le==="utf8"&&me<128||le==="latin1")&&(V=me)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(W<0||this.length<W||this.length<ne)throw new RangeError("Out of range index");if(ne<=W)return this;W=W>>>0,ne=ne===void 0?this.length:ne>>>0,V||(V=0);let de;if(typeof V=="number")for(de=W;de<ne;++de)this[de]=V;else{const me=o.isBuffer(V)?V:o.from(V,le),rt=me.length;if(rt===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(de=0;de<ne-W;++de)this[de+W]=me[de%rt]}return this};const re={};function G(Y,V,W){re[Y]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(Y,V){return`The "${Y}" argument must be of type number. Received type ${typeof V}`},TypeError),G("ERR_OUT_OF_RANGE",function(Y,V,W){let ne=`The value of "${Y}" is out of range.`,le=W;return Number.isInteger(W)&&Math.abs(W)>2**32?le=z(String(W)):typeof W=="bigint"&&(le=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(le=z(le)),le+="n"),ne+=` It must be ${V}. Received ${le}`,ne},RangeError);function z(Y){let V="",W=Y.length;const ne=Y[0]==="-"?1:0;for(;W>=ne+4;W-=3)V=`_${Y.slice(W-3,W)}${V}`;return`${Y.slice(0,W)}${V}`}function se(Y,V,W){pe(V,"offset"),(Y[V]===void 0||Y[V+W]===void 0)&&_e(V,Y.length-(W+1))}function ce(Y,V,W,ne,le,de){if(Y>W||Y<V){const me=typeof V=="bigint"?"n":"";let rt;throw V===0||V===BigInt(0)?rt=`>= 0${me} and < 2${me} ** ${(de+1)*8}${me}`:rt=`>= -(2${me} ** ${(de+1)*8-1}${me}) and < 2 ** ${(de+1)*8-1}${me}`,new re.ERR_OUT_OF_RANGE("value",rt,Y)}se(ne,le,de)}function pe(Y,V){if(typeof Y!="number")throw new re.ERR_INVALID_ARG_TYPE(V,"number",Y)}function _e(Y,V,W){throw Math.floor(Y)!==Y?(pe(Y,W),new re.ERR_OUT_OF_RANGE("offset","an integer",Y)):V<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,Y)}const ke=/[^+/0-9A-Za-z-_]/g;function tt(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(ke,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function mt(Y,V){V=V||1/0;let W;const ne=Y.length;let le=null;const de=[];for(let me=0;me<ne;++me){if(W=Y.charCodeAt(me),W>55295&&W<57344){if(!le){if(W>56319){(V-=3)>-1&&de.push(239,191,189);continue}else if(me+1===ne){(V-=3)>-1&&de.push(239,191,189);continue}le=W;continue}if(W<56320){(V-=3)>-1&&de.push(239,191,189),le=W;continue}W=(le-55296<<10|W-56320)+65536}else le&&(V-=3)>-1&&de.push(239,191,189);if(le=null,W<128){if((V-=1)<0)break;de.push(W)}else if(W<2048){if((V-=2)<0)break;de.push(W>>6|192,W&63|128)}else if(W<65536){if((V-=3)<0)break;de.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((V-=4)<0)break;de.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return de}function we(Y){const V=[];for(let W=0;W<Y.length;++W)V.push(Y.charCodeAt(W)&255);return V}function We(Y,V){let W,ne,le;const de=[];for(let me=0;me<Y.length&&!((V-=2)<0);++me)W=Y.charCodeAt(me),ne=W>>8,le=W%256,de.push(le),de.push(ne);return de}function Ae(Y){return e.toByteArray(tt(Y))}function Oe(Y,V,W,ne){let le;for(le=0;le<ne&&!(le+W>=V.length||le>=Y.length);++le)V[le+W]=Y[le];return le}function qe(Y,V){return Y instanceof V||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===V.name}function Fe(Y){return Y!==Y}const ze=function(){const Y="0123456789abcdef",V=new Array(256);for(let W=0;W<16;++W){const ne=W*16;for(let le=0;le<16;++le)V[ne+le]=Y[W]+Y[le]}return V}();function Ke(Y){return typeof BigInt>"u"?ct:Y}function ct(){throw new Error("BigInt not supported")}})(jA);var Qne={exports:{}},Os=Qne.exports={},ad,od;function dj(){throw new Error("setTimeout has not been defined")}function fj(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ad=setTimeout:ad=dj}catch{ad=dj}try{typeof clearTimeout=="function"?od=clearTimeout:od=fj}catch{od=fj}})();function Yne(t){if(ad===setTimeout)return setTimeout(t,0);if((ad===dj||!ad)&&setTimeout)return ad=setTimeout,setTimeout(t,0);try{return ad(t,0)}catch{try{return ad.call(null,t,0)}catch{return ad.call(this,t,0)}}}function a9e(t){if(od===clearTimeout)return clearTimeout(t);if((od===fj||!od)&&clearTimeout)return od=clearTimeout,clearTimeout(t);try{return od(t)}catch{try{return od.call(null,t)}catch{return od.call(this,t)}}}var ch=[],$y=!1,og,X9=-1;function o9e(){!$y||!og||($y=!1,og.length?ch=og.concat(ch):X9=-1,ch.length&&Gne())}function Gne(){if(!$y){var t=Yne(o9e);$y=!0;for(var e=ch.length;e;){for(og=ch,ch=[];++X9<e;)og&&og[X9].run();X9=-1,e=ch.length}og=null,$y=!1,a9e(t)}}Os.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ch.push(new ese(t,e)),ch.length===1&&!$y&&Yne(Gne)};function ese(t,e){this.fun=t,this.array=e}ese.prototype.run=function(){this.fun.apply(null,this.array)};Os.title="browser";Os.browser=!0;Os.env={};Os.argv=[];Os.version="";Os.versions={};function Vh(){}Os.on=Vh;Os.addListener=Vh;Os.once=Vh;Os.off=Vh;Os.removeListener=Vh;Os.removeAllListeners=Vh;Os.emit=Vh;Os.prependListener=Vh;Os.prependOnceListener=Vh;Os.listeners=function(t){return[]};Os.binding=function(t){throw new Error("process.binding is not supported")};Os.cwd=function(){return"/"};Os.chdir=function(t){throw new Error("process.chdir is not supported")};Os.umask=function(){return 0};var c9e=Qne.exports;const l9e=La(c9e);typeof window<"u"&&(window.Buffer=jA.Buffer,window.global=window,window.process=l9e,globalThis.Buffer=jA.Buffer);var cF={exports:{}},Oy=typeof Reflect=="object"?Reflect:null,YL=Oy&&typeof Oy.apply=="function"?Oy.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Z9;Oy&&typeof Oy.ownKeys=="function"?Z9=Oy.ownKeys:Object.getOwnPropertySymbols?Z9=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Z9=function(e){return Object.getOwnPropertyNames(e)};function u9e(t){console&&console.warn&&console.warn(t)}var tse=Number.isNaN||function(e){return e!==e};function Pn(){Pn.init.call(this)}cF.exports=Pn;cF.exports.once=p9e;Pn.EventEmitter=Pn;Pn.prototype._events=void 0;Pn.prototype._eventsCount=0;Pn.prototype._maxListeners=void 0;var GL=10;function JP(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Pn,"defaultMaxListeners",{enumerable:!0,get:function(){return GL},set:function(t){if(typeof t!="number"||t<0||tse(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");GL=t}});Pn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tse(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function rse(t){return t._maxListeners===void 0?Pn.defaultMaxListeners:t._maxListeners}Pn.prototype.getMaxListeners=function(){return rse(this)};Pn.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")YL(c,this,r);else for(var l=c.length,u=ose(c,l),n=0;n<l;++n)YL(u[n],this,r);return!0};function nse(t,e,r,n){var s,i,a;if(JP(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=rse(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,u9e(o)}return t}Pn.prototype.addListener=function(e,r){return nse(this,e,r,!1)};Pn.prototype.on=Pn.prototype.addListener;Pn.prototype.prependListener=function(e,r){return nse(this,e,r,!0)};function d9e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sse(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=d9e.bind(n);return s.listener=r,n.wrapFn=s,s}Pn.prototype.once=function(e,r){return JP(r),this.on(e,sse(this,e,r)),this};Pn.prototype.prependOnceListener=function(e,r){return JP(r),this.prependListener(e,sse(this,e,r)),this};Pn.prototype.removeListener=function(e,r){var n,s,i,a,o;if(JP(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():f9e(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Pn.prototype.off=Pn.prototype.removeListener;Pn.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function ise(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?h9e(s):ose(s,s.length)}Pn.prototype.listeners=function(e){return ise(this,e,!0)};Pn.prototype.rawListeners=function(e){return ise(this,e,!1)};Pn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ase.call(t,e)};Pn.prototype.listenerCount=ase;function ase(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Pn.prototype.eventNames=function(){return this._eventsCount>0?Z9(this._events):[]};function ose(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function f9e(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function h9e(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function p9e(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}cse(t,e,i,{once:!0}),e!=="error"&&m9e(t,s,{once:!0})})}function m9e(t,e,r){typeof t.on=="function"&&cse(t,"error",e,r)}function cse(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Un=cF.exports;const q4=La(Un),g9e={},b9e={},lse=(t,e)=>{b9e[t]=e},st=t=>{class e extends Error{constructor(s,i,a){super(s||t,a);ve(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const o in i)this[o]=i[o];if(a&&y9e(a)&&"cause"in a&&!this.cause){const o=a.cause;this.cause=o,"stack"in o&&(this.stack=this.stack+`
CAUSE: `+o.stack)}}}return g9e[t]=e,e};function y9e(t){return typeof t=="object"}st("AccountNameRequired");st("AccountNotSupported");st("AccountAwaitingSendPendingOperations");st("AmountRequired");st("BluetoothRequired");st("BtcUnmatchedApp");st("CantOpenDevice");st("CashAddrNotSupported");st("ClaimRewardsFeesWarning");st("CurrencyNotSupported");st("DeviceAppVerifyNotSupported");st("DeviceGenuineSocketEarlyClose");st("DeviceNotGenuine");st("DeviceOnDashboardExpected");st("DeviceOnDashboardUnexpected");st("DeviceInOSUExpected");st("DeviceHalted");st("DeviceNameInvalid");st("DeviceSocketFail");st("DeviceSocketNoBulkStatus");st("DeviceSocketNoBulkStatus");st("UnresponsiveDeviceError");const v9e=st("DisconnectedDevice"),x9e=st("DisconnectedDeviceDuringOperation");st("DeviceExtractOnboardingStateError");st("DeviceOnboardingStatePollingError");st("EnpointConfig");st("EthAppPleaseEnableContractData");st("CeloAppPleaseEnableContractData");st("FeeEstimationFailed");st("FirmwareNotRecognized");st("HardResetFail");st("InvalidXRPTag");st("InvalidAddress");st("InvalidNonce");st("InvalidAddressBecauseDestinationIsAlsoSource");st("LatestMCUInstalledError");st("LatestFirmwareVersionRequired");st("UnknownMCU");st("LedgerAPIError");st("LedgerAPIErrorWithMessage");st("LedgerAPINotAvailable");st("ManagerAppAlreadyInstalled");st("ManagerAppRelyOnBTC");st("ManagerAppDepInstallRequired");st("ManagerAppDepUninstallRequired");st("ManagerDeviceLocked");st("ManagerFirmwareNotEnoughSpace");st("ManagerNotEnoughSpace");st("ManagerUninstallBTCDep");st("NetworkDown");st("NetworkError");st("NoAddressesFound");st("NotEnoughBalance");st("NotEnoughBalanceFees");st("NotEnoughBalanceSwap");st("NotEnoughBalanceToDelegate");st("UnstakeNotEnoughStakedBalanceLeft");st("RestakeNotEnoughStakedBalanceLeft");st("NotEnoughToRestake");st("NotEnoughToUnstake");st("NotEnoughBalanceInParentAccount");st("NotEnoughSpendableBalance");st("NotEnoughBalanceBecauseDestinationNotCreated");st("NotEnoughToStake");st("NoAccessToCamera");st("NotEnoughGas");st("NotEnoughGasSwap");st("TronEmptyAccount");st("MaybeKeepTronAccountAlive");st("NotSupportedLegacyAddress");st("GasLessThanEstimate");st("PriorityFeeTooLow");st("PriorityFeeTooHigh");st("PriorityFeeHigherThanMaxFee");st("MaxFeeTooLow");st("PasswordsDontMatch");st("PasswordIncorrect");st("RecommendSubAccountsToEmpty");st("RecommendUndelegation");st("TimeoutTagged");st("UnexpectedBootloader");st("MCUNotGenuineToDashboard");st("RecipientRequired");st("UnavailableTezosOriginatedAccountReceive");st("UnavailableTezosOriginatedAccountSend");st("UpdateFetchFileFail");st("UpdateIncorrectHash");st("UpdateIncorrectSig");st("UpdateYourApp");st("UserRefusedDeviceNameChange");st("UserRefusedAddress");st("UserRefusedFirmwareUpdate");st("UserRefusedAllowManager");st("UserRefusedOnDevice");st("PinNotSet");st("ExpertModeRequired");const eV=st("TransportOpenUserCancelled");st("TransportInterfaceNotAvailable");const w9e=st("TransportRaceCondition");st("TransportWebUSBGestureRequired");st("TransactionHasBeenValidatedError");st("TransportExchangeTimeoutError");st("DeviceShouldStayInApp");st("WebsocketConnectionError");st("WebsocketConnectionFailed");st("WrongDeviceForAccount");st("WrongDeviceForAccountPayout");st("MissingSwapPayloadParamaters");st("WrongDeviceForAccountRefund");st("WrongAppForCurrency");st("ETHAddressNonEIP");st("CantScanQRCode");st("FeeNotLoaded");st("FeeNotLoadedSwap");st("FeeRequired");st("FeeTooHigh");st("PendingOperation");st("SyncError");st("PairingFailed");st("PeerRemovedPairing");st("GenuineCheckFailed");st("LedgerAPI4xx");st("LedgerAPI5xx");st("FirmwareOrAppUpdateRequired");st("ReplacementTransactionUnderpriced");st("OpReturnSizeLimit");st("DustLimit");st("LanguageNotFound");st("NoDBPathGiven");st("DBWrongPassword");st("DBNotReset");st("SequenceNumberError");st("DisabledTransactionBroadcastError");var tV;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(tV||(tV={}));class Td extends Error{constructor(r,n){const s="TransportError";super(r||s);ve(this,"id");this.name=s,this.message=r,this.stack=new Error(r).stack,this.id=n}}lse("TransportError",t=>new Td(t.message,t.id));const By={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function A9e(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class yx extends Error{constructor(r,{canBeMappedToChildError:n=!0}={}){const s=Object.keys(By).find(c=>By[c]===r)||"UNKNOWN_ERROR",i=A9e(r)||s,a=r.toString(16),o=`Ledger device: ${i} (0x${a})`;super(o);ve(this,"statusCode");ve(this,"statusText");if(this.name="TransportStatusError",this.statusCode=r,this.statusText=s,Object.setPrototypeOf(this,yx.prototype),n&&r===By.LOCKED_DEVICE)return new lF(o)}}class lF extends yx{constructor(e){super(By.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,lF.prototype)}}lse("TransportStatusError",t=>new yx(t.statusCode));let use=0;const B0=[],Zs=(t,e,r)=>{const n={type:t,id:String(++use),date:new Date};e&&(n.message=e),r&&(n.data=r),dse(n)},S9e=({type:t,message:e,data:r,context:n})=>{const s={type:t,id:String(++use),date:new Date};e&&(s.message=e),r&&(s.data=r),n&&(s.context=n),dse(s)};class w3{constructor(e,r){ve(this,"type");ve(this,"context");this.type=e,this.context=r}trace(e,r){S9e({type:this.type,message:e,data:r,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new w3(e,this.context)}withContext(e){return new w3(this.type,e)}withUpdatedContext(e){return new w3(this.type,{...this.context,...e})}}const P9e=t=>(B0.push(t),()=>{const e=B0.indexOf(t);e!==-1&&(B0[e]=B0[B0.length-1],B0.pop())});function dse(t){for(let e=0;e<B0.length;e++)try{B0[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=P9e);const k9e="transport";class Lm{constructor({context:e,logType:r}={}){ve(this,"exchangeTimeout",3e4);ve(this,"unresponsiveTimeout",15e3);ve(this,"deviceModel",null);ve(this,"tracer");ve(this,"_events",new q4);ve(this,"send",async(e,r,n,s,i=Buffer.alloc(0),a=[By.OK],{abortTimeoutMs:o}={})=>{const c=this.tracer.withUpdatedContext({function:"send"});if(i.length>=256)throw c.trace("data.length exceeded 256 bytes limit",{dataLength:i.length}),new Td("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const l=await this.exchange(Buffer.concat([Buffer.from([e,r,n,s]),Buffer.from([i.length]),i]),{abortTimeoutMs:o}),u=l.readUInt16BE(l.length-2);if(!a.some(f=>f===u))throw new yx(u);return l});ve(this,"exchangeBusyPromise");ve(this,"_appAPIlock",null);this.tracer=new w3(r??k9e,e)}exchange(e,{abortTimeoutMs:r}={}){throw new Error("exchange not implemented")}exchangeBulk(e,r){let n=!1;const s=()=>{n=!0};return(async()=>{if(!n)for(const a of e){const o=await this.exchange(a);if(n)return;const c=o.readUInt16BE(o.length-2);if(c!==By.OK)throw new yx(c);r.next(o)}})().then(()=>!n&&r.complete(),a=>!n&&r.error(a)),{unsubscribe:s}}setScrambleKey(e){}close(){return Promise.resolve()}on(e,r){this._events.on(e,r)}off(e,r){this._events.removeListener(e,r)}emit(e,...r){this._events.emit(e,...r)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,r){return new Promise((n,s)=>{let i=!1;const a=this.listen({next:c=>{i=!0,a&&a.unsubscribe(),o&&clearTimeout(o),this.open(c.descriptor,e).then(n,s)},error:c=>{o&&clearTimeout(o),s(c)},complete:()=>{o&&clearTimeout(o),i||s(new Td(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),o=r?setTimeout(()=>{a.unsubscribe(),s(new Td(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})}async exchangeAtomicImpl(e){const r=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw r.trace("Atomic exchange is already busy"),new w9e("An action was already pending on the Ledger device. Please deny or reconnect.");let n;const s=new Promise(o=>{n=o});this.exchangeBusyPromise=s;let i=!1;const a=setTimeout(()=>{r.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),i=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const o=await e();return i&&(r.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),o}finally{r.trace("Finalize, clearing busy guard"),clearTimeout(a),n&&n(),this.exchangeBusyPromise=null}}decorateAppAPIMethods(e,r,n){for(const s of r)e[s]=this.decorateAppAPIMethod(s,e[s],e,n)}decorateAppAPIMethod(e,r,n,s){return async(...i)=>{const{_appAPIlock:a}=this;if(a)return Promise.reject(new Td("Ledger Device is busy (lock "+a+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(s),await r.apply(n,i)}finally{this._appAPIlock=null}}}setTraceContext(e){this.tracer=this.tracer.withContext(e)}updateTraceContext(e){this.tracer.updateContext(e)}getTraceContext(){return this.tracer.getContext()}}ve(Lm,"isSupported"),ve(Lm,"list"),ve(Lm,"listen"),ve(Lm,"open"),ve(Lm,"ErrorMessage_ListenTimeout","No Ledger device found (timeout)"),ve(Lm,"ErrorMessage_NoDeviceFound","No Ledger device found");const rV=5;function I9e(t){const e=Buffer.alloc(2);return e.writeUInt16BE(t,0),e}const N9e={data:Buffer.alloc(0),dataLength:0,sequence:0},E9e=(t,e)=>({makeBlocks(r){let n=Buffer.concat([I9e(r.length),r]);const s=e-5,i=Math.ceil(n.length/s);n=Buffer.concat([n,Buffer.alloc(i*s-n.length+1).fill(0)]);const a=[];for(let o=0;o<i;o++){const c=Buffer.alloc(5);c.writeUInt16BE(t,0),c.writeUInt8(rV,2),c.writeUInt16BE(o,3);const l=n.slice(o*s,(o+1)*s);a.push(Buffer.concat([c,l]))}return a},reduceResponse(r,n){let{data:s,dataLength:i,sequence:a}=r||N9e;if(n.readUInt16BE(0)!==t)throw new Td("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==rV)throw new Td("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new Td("Invalid sequence","InvalidSequence");r||(i=n.readUInt16BE(5)),a++;const o=n.slice(r?5:7);return s=Buffer.concat([s,o]),s.length>i&&(s=s.slice(0,i)),{data:s,dataLength:i,sequence:a}},getReducedResult(r){if(r&&r.dataLength===r.data.length)return r.data}});var hj={exports:{}};const C9e="2.0.0",fse=256,_9e=Number.MAX_SAFE_INTEGER||9007199254740991,T9e=16,j9e=fse-6,M9e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var QP={MAX_LENGTH:fse,MAX_SAFE_COMPONENT_LENGTH:T9e,MAX_SAFE_BUILD_LENGTH:j9e,MAX_SAFE_INTEGER:_9e,RELEASE_TYPES:M9e,SEMVER_SPEC_VERSION:C9e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},rE={};const $9e=typeof process=="object"&&rE&&rE.NODE_DEBUG&&/\bsemver\b/i.test(rE.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var YP=$9e;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=QP,i=YP;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[h,n]],y=k=>{for(const[C,I]of m)k=k.split(`${C}*`).join(`${C}{0,${I}}`).split(`${C}+`).join(`${C}{1,${I}}`);return k},x=(k,C,I)=>{const _=y(C),O=f++;i(k,O,C),u[k]=O,c[O]=C,l[O]=_,a[O]=new RegExp(C,I?"g":void 0),o[O]=new RegExp(_,I?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),x("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${h}+`),x("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),x("FULL",`^${c[u.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),x("LOOSE",`^${c[u.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),x("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",c[u.COERCE],!0),x("COERCERTLFULL",c[u.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(hj,hj.exports);var W4=hj.exports;const O9e=Object.freeze({loose:!0}),B9e=Object.freeze({}),F9e=t=>t?typeof t!="object"?O9e:t:B9e;var uF=F9e;const nV=/^[0-9]+$/,hse=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=nV.test(t),n=nV.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},R9e=(t,e)=>hse(e,t);var pse={compareIdentifiers:hse,rcompareIdentifiers:R9e};const x8=YP,{MAX_LENGTH:sV,MAX_SAFE_INTEGER:w8}=QP,{safeRe:A8,t:S8}=W4,D9e=uF,{compareIdentifiers:nE}=pse;let U9e=class Yu{constructor(e,r){if(r=D9e(r),e instanceof Yu){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>sV)throw new TypeError(`version is longer than ${sV} characters`);x8("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?A8[S8.LOOSE]:A8[S8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>w8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>w8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>w8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<w8)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(x8("SemVer.compare",this.version,this.options,e),!(e instanceof Yu)){if(typeof e=="string"&&e===this.version)return 0;e=new Yu(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Yu||(e=new Yu(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof Yu||(e=new Yu(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(x8("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return nE(n,s)}while(++r)}compareBuild(e){e instanceof Yu||(e=new Yu(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(x8("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return nE(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?A8[S8.PRERELEASELOOSE]:A8[S8.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),nE(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var oo=U9e;const iV=oo,z9e=(t,e,r=!1)=>{if(t instanceof iV)return t;try{return new iV(t,e)}catch(n){if(!r)return null;throw n}};var aw=z9e;const L9e=aw,V9e=(t,e)=>{const r=L9e(t,e);return r?r.version:null};var H9e=V9e;const q9e=aw,W9e=(t,e)=>{const r=q9e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var K9e=W9e;const aV=oo,X9e=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new aV(t instanceof aV?t.version:t,r).inc(e,n,s).version}catch{return null}};var Z9e=X9e;const oV=aw,J9e=(t,e)=>{const r=oV(t,null,!0),n=oV(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,a=i?r:n,o=i?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var Q9e=J9e;const Y9e=oo,G9e=(t,e)=>new Y9e(t,e).major;var e7e=G9e;const t7e=oo,r7e=(t,e)=>new t7e(t,e).minor;var n7e=r7e;const s7e=oo,i7e=(t,e)=>new s7e(t,e).patch;var a7e=i7e;const o7e=aw,c7e=(t,e)=>{const r=o7e(t,e);return r&&r.prerelease.length?r.prerelease:null};var l7e=c7e;const cV=oo,u7e=(t,e,r)=>new cV(t,r).compare(new cV(e,r));var Fu=u7e;const d7e=Fu,f7e=(t,e,r)=>d7e(e,t,r);var h7e=f7e;const p7e=Fu,m7e=(t,e)=>p7e(t,e,!0);var g7e=m7e;const lV=oo,b7e=(t,e,r)=>{const n=new lV(t,r),s=new lV(e,r);return n.compare(s)||n.compareBuild(s)};var dF=b7e;const y7e=dF,v7e=(t,e)=>t.sort((r,n)=>y7e(r,n,e));var x7e=v7e;const w7e=dF,A7e=(t,e)=>t.sort((r,n)=>w7e(n,r,e));var S7e=A7e;const P7e=Fu,k7e=(t,e,r)=>P7e(t,e,r)>0;var GP=k7e;const I7e=Fu,N7e=(t,e,r)=>I7e(t,e,r)<0;var fF=N7e;const E7e=Fu,C7e=(t,e,r)=>E7e(t,e,r)===0;var mse=C7e;const _7e=Fu,T7e=(t,e,r)=>_7e(t,e,r)!==0;var gse=T7e;const j7e=Fu,M7e=(t,e,r)=>j7e(t,e,r)>=0;var hF=M7e;const $7e=Fu,O7e=(t,e,r)=>$7e(t,e,r)<=0;var pF=O7e;const B7e=mse,F7e=gse,R7e=GP,D7e=hF,U7e=fF,z7e=pF,L7e=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return B7e(t,r,n);case"!=":return F7e(t,r,n);case">":return R7e(t,r,n);case">=":return D7e(t,r,n);case"<":return U7e(t,r,n);case"<=":return z7e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var bse=L7e;const V7e=oo,H7e=aw,{safeRe:P8,t:k8}=W4,q7e=(t,e)=>{if(t instanceof V7e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?P8[k8.COERCEFULL]:P8[k8.COERCE]);else{const c=e.includePrerelease?P8[k8.COERCERTLFULL]:P8[k8.COERCERTL];let l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return H7e(`${n}.${s}.${i}${a}${o}`,e)};var W7e=q7e;let K7e=class{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};var X7e=K7e,sE,uV;function Ru(){if(uV)return sE;uV=1;const t=/\s+/g;class e{constructor(g,S){if(S=s(S),g instanceof e)return g.loose===!!S.loose&&g.includePrerelease===!!S.includePrerelease?g:new e(g.raw,S);if(g instanceof i)return this.raw=g.value,this.set=[[g]],this.formatted=void 0,this;if(this.options=S,this.loose=!!S.loose,this.includePrerelease=!!S.includePrerelease,this.raw=g.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(P=>!x(P[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&k(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let g=0;g<this.set.length;g++){g>0&&(this.formatted+="||");const S=this.set[g];for(let N=0;N<S.length;N++)N>0&&(this.formatted+=" "),this.formatted+=S[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(g){const N=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+g,P=n.get(N);if(P)return P;const A=this.options.loose,v=A?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];g=g.replace(v,b(this.options.includePrerelease)),a("hyphen replace",g),g=g.replace(c[l.COMPARATORTRIM],u),a("comparator trim",g),g=g.replace(c[l.TILDETRIM],f),a("tilde trim",g),g=g.replace(c[l.CARETTRIM],h),a("caret trim",g);let E=g.split(" ").map(U=>I(U,this.options)).join(" ").split(/\s+/).map(U=>$(U,this.options));A&&(E=E.filter(U=>(a("loose invalid filter",U,this.options),!!U.match(c[l.COMPARATORLOOSE])))),a("range list",E);const M=new Map,L=E.map(U=>new i(U,this.options));for(const U of L){if(x(U))return[U];M.set(U.value,U)}M.size>1&&M.has("")&&M.delete("");const Q=[...M.values()];return n.set(N,Q),Q}intersects(g,S){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>C(N,S)&&g.set.some(P=>C(P,S)&&N.every(A=>P.every(v=>A.intersects(v,S)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let S=0;S<this.set.length;S++)if(w(this.set[S],g,this.options))return!0;return!1}}sE=e;const r=X7e,n=new r,s=uF,i=ek(),a=YP,o=oo,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:h}=W4,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=QP,x=p=>p.value==="<0.0.0-0",k=p=>p.value==="",C=(p,g)=>{let S=!0;const N=p.slice();let P=N.pop();for(;S&&N.length;)S=N.every(A=>P.intersects(A,g)),P=N.pop();return S},I=(p,g)=>(p=p.replace(c[l.BUILD],""),a("comp",p,g),p=D(p,g),a("caret",p),p=O(p,g),a("tildes",p),p=T(p,g),a("xrange",p),p=q(p,g),a("stars",p),p),_=p=>!p||p.toLowerCase()==="x"||p==="*",O=(p,g)=>p.trim().split(/\s+/).map(S=>F(S,g)).join(" "),F=(p,g)=>{const S=g.loose?c[l.TILDELOOSE]:c[l.TILDE];return p.replace(S,(N,P,A,v,E)=>{a("tilde",p,N,P,A,v,E);let M;return _(P)?M="":_(A)?M=`>=${P}.0.0 <${+P+1}.0.0-0`:_(v)?M=`>=${P}.${A}.0 <${P}.${+A+1}.0-0`:E?(a("replaceTilde pr",E),M=`>=${P}.${A}.${v}-${E} <${P}.${+A+1}.0-0`):M=`>=${P}.${A}.${v} <${P}.${+A+1}.0-0`,a("tilde return",M),M})},D=(p,g)=>p.trim().split(/\s+/).map(S=>j(S,g)).join(" "),j=(p,g)=>{a("caret",p,g);const S=g.loose?c[l.CARETLOOSE]:c[l.CARET],N=g.includePrerelease?"-0":"";return p.replace(S,(P,A,v,E,M)=>{a("caret",p,P,A,v,E,M);let L;return _(A)?L="":_(v)?L=`>=${A}.0.0${N} <${+A+1}.0.0-0`:_(E)?A==="0"?L=`>=${A}.${v}.0${N} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.0${N} <${+A+1}.0.0-0`:M?(a("replaceCaret pr",M),A==="0"?v==="0"?L=`>=${A}.${v}.${E}-${M} <${A}.${v}.${+E+1}-0`:L=`>=${A}.${v}.${E}-${M} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.${E}-${M} <${+A+1}.0.0-0`):(a("no pr"),A==="0"?v==="0"?L=`>=${A}.${v}.${E}${N} <${A}.${v}.${+E+1}-0`:L=`>=${A}.${v}.${E}${N} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.${E} <${+A+1}.0.0-0`),a("caret return",L),L})},T=(p,g)=>(a("replaceXRanges",p,g),p.split(/\s+/).map(S=>R(S,g)).join(" ")),R=(p,g)=>{p=p.trim();const S=g.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return p.replace(S,(N,P,A,v,E,M)=>{a("xRange",p,N,P,A,v,E,M);const L=_(A),Q=L||_(v),U=Q||_(E),J=U;return P==="="&&J&&(P=""),M=g.includePrerelease?"-0":"",L?P===">"||P==="<"?N="<0.0.0-0":N="*":P&&J?(Q&&(v=0),E=0,P===">"?(P=">=",Q?(A=+A+1,v=0,E=0):(v=+v+1,E=0)):P==="<="&&(P="<",Q?A=+A+1:v=+v+1),P==="<"&&(M="-0"),N=`${P+A}.${v}.${E}${M}`):Q?N=`>=${A}.0.0${M} <${+A+1}.0.0-0`:U&&(N=`>=${A}.${v}.0${M} <${A}.${+v+1}.0-0`),a("xRange return",N),N})},q=(p,g)=>(a("replaceStars",p,g),p.trim().replace(c[l.STAR],"")),$=(p,g)=>(a("replaceGTE0",p,g),p.trim().replace(c[g.includePrerelease?l.GTE0PRE:l.GTE0],"")),b=p=>(g,S,N,P,A,v,E,M,L,Q,U,J)=>(_(N)?S="":_(P)?S=`>=${N}.0.0${p?"-0":""}`:_(A)?S=`>=${N}.${P}.0${p?"-0":""}`:v?S=`>=${S}`:S=`>=${S}${p?"-0":""}`,_(L)?M="":_(Q)?M=`<${+L+1}.0.0-0`:_(U)?M=`<${L}.${+Q+1}.0-0`:J?M=`<=${L}.${Q}.${U}-${J}`:p?M=`<${L}.${Q}.${+U+1}-0`:M=`<=${M}`,`${S} ${M}`.trim()),w=(p,g,S)=>{for(let N=0;N<p.length;N++)if(!p[N].test(g))return!1;if(g.prerelease.length&&!S.includePrerelease){for(let N=0;N<p.length;N++)if(a(p[N].semver),p[N].semver!==i.ANY&&p[N].semver.prerelease.length>0){const P=p[N].semver;if(P.major===g.major&&P.minor===g.minor&&P.patch===g.patch)return!0}return!1}return!0};return sE}var iE,dV;function ek(){if(dV)return iE;dV=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}iE=e;const r=uF,{safeRe:n,t:s}=W4,i=bse,a=YP,o=oo,c=Ru();return iE}const Z7e=Ru(),J7e=(t,e,r)=>{try{e=new Z7e(e,r)}catch{return!1}return e.test(t)};var tk=J7e;const Q7e=Ru(),Y7e=(t,e)=>new Q7e(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var G7e=Y7e;const eAe=oo,tAe=Ru(),rAe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new tAe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new eAe(n,r))}),n};var nAe=rAe;const sAe=oo,iAe=Ru(),aAe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new iAe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new sAe(n,r))}),n};var oAe=aAe;const aE=oo,cAe=Ru(),fV=GP,lAe=(t,e)=>{t=new cAe(t,e);let r=new aE("0.0.0");if(t.test(r)||(r=new aE("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(a=>{const o=new aE(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||fV(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||fV(r,i))&&(r=i)}return r&&t.test(r)?r:null};var uAe=lAe;const dAe=Ru(),fAe=(t,e)=>{try{return new dAe(t,e).range||"*"}catch{return null}};var hAe=fAe;const pAe=oo,yse=ek(),{ANY:mAe}=yse,gAe=Ru(),bAe=tk,hV=GP,pV=fF,yAe=pF,vAe=hF,xAe=(t,e,r,n)=>{t=new pAe(t,n),e=new gAe(e,n);let s,i,a,o,c;switch(r){case">":s=hV,i=yAe,a=pV,o=">",c=">=";break;case"<":s=pV,i=vAe,a=hV,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(bAe(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(m=>{m.semver===mAe&&(m=new yse(">=0.0.0")),f=f||m,h=h||m,s(m.semver,f.semver,n)?f=m:a(m.semver,h.semver,n)&&(h=m)}),f.operator===o||f.operator===c||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0};var mF=xAe;const wAe=mF,AAe=(t,e,r)=>wAe(t,e,">",r);var SAe=AAe;const PAe=mF,kAe=(t,e,r)=>PAe(t,e,"<",r);var IAe=kAe;const mV=Ru(),NAe=(t,e,r)=>(t=new mV(t,r),e=new mV(e,r),t.intersects(e,r));var EAe=NAe;const CAe=tk,_Ae=Fu;var TAe=(t,e,r)=>{const n=[];let s=null,i=null;const a=t.sort((u,f)=>_Ae(u,f,r));for(const u of a)CAe(u,e,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const o=[];for(const[u,f]of n)u===f?o.push(u):!f&&u===a[0]?o.push("*"):f?u===a[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const gV=Ru(),gF=ek(),{ANY:oE}=gF,Yw=tk,bF=Fu,jAe=(t,e,r={})=>{if(t===e)return!0;t=new gV(t,r),e=new gV(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const a=$Ae(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},MAe=[new gF(">=0.0.0-0")],bV=[new gF(">=0.0.0")],$Ae=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===oE){if(e.length===1&&e[0].semver===oE)return!0;r.includePrerelease?t=MAe:t=bV}if(e.length===1&&e[0].semver===oE){if(r.includePrerelease)return!0;e=bV}const n=new Set;let s,i;for(const m of t)m.operator===">"||m.operator===">="?s=yV(s,m,r):m.operator==="<"||m.operator==="<="?i=vV(i,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(s&&i){if(a=bF(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!Yw(m,String(s),r)||i&&!Yw(m,String(i),r))return null;for(const y of e)if(!Yw(m,String(y),r))return!1;return!0}let o,c,l,u,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of e){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(o=yV(s,m,r),o===m&&o!==s)return!1}else if(s.operator===">="&&!Yw(s.semver,String(m),r))return!1}if(i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=vV(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!Yw(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&a!==0)return!1}return!(s&&l&&!i&&a!==0||i&&u&&!s&&a!==0||h||f)},yV=(t,e,r)=>{if(!t)return e;const n=bF(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},vV=(t,e,r)=>{if(!t)return e;const n=bF(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var OAe=jAe;const cE=W4,xV=QP,BAe=oo,wV=pse,FAe=aw,RAe=H9e,DAe=K9e,UAe=Z9e,zAe=Q9e,LAe=e7e,VAe=n7e,HAe=a7e,qAe=l7e,WAe=Fu,KAe=h7e,XAe=g7e,ZAe=dF,JAe=x7e,QAe=S7e,YAe=GP,GAe=fF,eSe=mse,tSe=gse,rSe=hF,nSe=pF,sSe=bse,iSe=W7e,aSe=ek(),oSe=Ru(),cSe=tk,lSe=G7e,uSe=nAe,dSe=oAe,fSe=uAe,hSe=hAe,pSe=mF,mSe=SAe,gSe=IAe,bSe=EAe,ySe=TAe,vSe=OAe;var xSe={parse:FAe,valid:RAe,clean:DAe,inc:UAe,diff:zAe,major:LAe,minor:VAe,patch:HAe,prerelease:qAe,compare:WAe,rcompare:KAe,compareLoose:XAe,compareBuild:ZAe,sort:JAe,rsort:QAe,gt:YAe,lt:GAe,eq:eSe,neq:tSe,gte:rSe,lte:nSe,cmp:sSe,coerce:iSe,Comparator:aSe,Range:oSe,satisfies:cSe,toComparators:lSe,maxSatisfying:uSe,minSatisfying:dSe,minVersion:fSe,validRange:hSe,outside:pSe,gtr:mSe,ltr:gSe,intersects:bSe,simplifyRange:ySe,subset:vSe,SemVer:BAe,re:cE.re,src:cE.src,tokens:cE.t,SEMVER_SPEC_VERSION:xV.SEMVER_SPEC_VERSION,RELEASE_TYPES:xV.RELEASE_TYPES,compareIdentifiers:wV.compareIdentifiers,rcompareIdentifiers:wV.rcompareIdentifiers};const AV=La(xSe);var vs;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax",t.europa="europa",t.apex="apex"})(vs||(vs={}));const pj={[vs.blue]:{id:vs.blue,productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:t=>4*1024},[vs.nanoS]:{id:vs.nanoS,productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:t=>AV.lt(AV.coerce(t)??"","2.0.0")?4*1024:2*1024},[vs.nanoX]:{id:vs.nanoX,productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:t=>4*1024,bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},[vs.nanoSP]:{id:vs.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1533*1024,masks:[856686592],getBlockSize:t=>32},[vs.apex]:{id:vs.apex,productName:"LedgerNanoGen5",productIdMM:128,legacyUsbProductId:8,usbOnly:!1,memorySize:1533*1024,masks:[859832320],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-8004-0000-4c6564676572",notifyUuid:"13d63400-2c97-8004-0001-4c6564676572",writeUuid:"13d63400-2c97-8004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-8004-0003-4c6564676572"}]},[vs.stax]:{id:vs.stax,productName:"LedgerStax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1533*1024,masks:[857735168],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},[vs.europa]:{id:vs.europa,productName:"LedgerFlex",productIdMM:112,legacyUsbProductId:7,usbOnly:!1,memorySize:1533*1024,masks:[858783744],getBlockSize:t=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-3004-0000-4c6564676572",notifyUuid:"13d63400-2c97-3004-0001-4c6564676572",writeUuid:"13d63400-2c97-3004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-3004-0003-4c6564676572"}]}};vs.blue,vs.nanoS,vs.nanoSP,vs.nanoX,vs.stax,vs.europa;const SV=Object.values(pj),vse=11415,PV=t=>{const e=SV.find(s=>s.legacyUsbProductId===t);if(e)return e;const r=t>>8;return SV.find(s=>s.productIdMM===r)},wSe=[],kV={};for(const t in pj){const e=pj[t],{bluetoothSpec:r}=e;if(r)for(let n=0;n<r.length;n++){const s=r[n];wSe.push(s.serviceUuid),kV[s.serviceUuid]=kV[s.serviceUuid.replace(/-/g,"")]={deviceModel:e,...s}}}const ASe=[{vendorId:vse}],SSe=()=>Promise.resolve(!!(window.navigator&&window.navigator.hid)),MA=()=>{const{hid:t}=navigator;if(!t)throw new Td("navigator.hid is not supported","HIDNotSupported");return t};async function xse(){const t=await MA().requestDevice({filters:ASe});return Array.isArray(t)?t:[t]}async function mj(){return(await MA().getDevices()).filter(e=>e.vendorId===vse)}async function PSe(){const t=await mj();return t.length>0?t[0]:(await xse())[0]}const V0=class V0 extends Lm{constructor(r){super();ve(this,"device");ve(this,"deviceModel");ve(this,"channel",Math.floor(Math.random()*65535));ve(this,"packetSize",64);ve(this,"inputs",[]);ve(this,"inputCallback");ve(this,"read",()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(r=>{this.inputCallback=r}));ve(this,"onInputReport",r=>{const n=Buffer.from(r.data.buffer);this.inputCallback?(this.inputCallback(n),this.inputCallback=null):this.inputs.push(n)});ve(this,"_disconnectEmitted",!1);ve(this,"_emitDisconnect",r=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",r))});ve(this,"exchange",async r=>await this.exchangeAtomicImpl(async()=>{const{channel:s,packetSize:i}=this;Zs("apdu","=> "+r.toString("hex"));const a=E9e(s,i),o=a.makeBlocks(r);for(let u=0;u<o.length;u++)await this.device.sendReport(0,o[u]);let c,l;for(;!(c=a.getReducedResult(l));)try{const u=await this.read();l=a.reduceResponse(l,u)}catch(u){if(u instanceof Td&&u.id==="InvalidChannel")continue;throw u}return Zs("apdu","<= "+c.toString("hex")),c}).catch(s=>{throw s&&s.message&&s.message.includes("write")?(this._emitDisconnect(s),new x9e(s.message)):s}));this.device=r,this.deviceModel=typeof r.productId=="number"?PV(r.productId):void 0,r.addEventListener("inputreport",this.onInputReport)}static async request(){const[r]=await xse();return V0.open(r)}static async openConnected(){const r=await mj();return r.length===0?null:V0.open(r[0])}static async open(r){await r.open();const n=new V0(r),s=i=>{r===i.device&&(MA().removeEventListener("disconnect",s),n._emitDisconnect(new v9e))};return MA().addEventListener("disconnect",s),n}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}};ve(V0,"isSupported",SSe),ve(V0,"list",mj),ve(V0,"listen",r=>{let n=!1;PSe().then(i=>{if(!i)r.error(new eV("Access denied to use Ledger device"));else if(!n){const a=typeof i.productId=="number"?PV(i.productId):void 0;r.next({type:"add",descriptor:i,deviceModel:a}),r.complete()}},i=>{r.error(new eV(i.message))});function s(){n=!0}return{unsubscribe:s}});let gj=V0;var kSe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,lE=Math.ceil,Hc=Math.floor,go="[BigNumber Error] ",IV=go+"Number primitive has more than 15 significant digits: ",Bl=1e14,br=14,uE=9007199254740991,dE=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],r0=1e7,ni=1e9;function wse(t){var e,r,n,s=I.prototype={constructor:I,toString:null,valueOf:null},i=new I(1),a=20,o=4,c=-7,l=21,u=-1e7,f=1e7,h=!1,m=1,y=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",C=!0;function I(T,R){var q,$,b,w,p,g,S,N,P=this;if(!(P instanceof I))return new I(T,R);if(R==null){if(T&&T._isBigNumber===!0){P.s=T.s,!T.c||T.e>f?P.c=P.e=null:T.e<u?P.c=[P.e=0]:(P.e=T.e,P.c=T.c.slice());return}if((g=typeof T=="number")&&T*0==0){if(P.s=1/T<0?(T=-T,-1):1,T===~~T){for(w=0,p=T;p>=10;p/=10,w++);w>f?P.c=P.e=null:(P.e=w,P.c=[T]);return}N=String(T)}else{if(!kSe.test(N=String(T)))return n(P,N,g);P.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}(w=N.indexOf("."))>-1&&(N=N.replace(".","")),(p=N.search(/e/i))>0?(w<0&&(w=p),w+=+N.slice(p+1),N=N.substring(0,p)):w<0&&(w=N.length)}else{if(ns(R,2,k.length,"Base"),R==10&&C)return P=new I(T),D(P,a+P.e+1,o);if(N=String(T),g=typeof T=="number"){if(T*0!=0)return n(P,N,g,R);if(P.s=1/T<0?(N=N.slice(1),-1):1,I.DEBUG&&N.replace(/^0\.0*|\./,"").length>15)throw Error(IV+T)}else P.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(q=k.slice(0,R),w=p=0,S=N.length;p<S;p++)if(q.indexOf($=N.charAt(p))<0){if($=="."){if(p>w){w=S;continue}}else if(!b&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){b=!0,p=-1,w=0;continue}return n(P,String(T),g,R)}g=!1,N=r(N,R,10,P.s),(w=N.indexOf("."))>-1?N=N.replace(".",""):w=N.length}for(p=0;N.charCodeAt(p)===48;p++);for(S=N.length;N.charCodeAt(--S)===48;);if(N=N.slice(p,++S)){if(S-=p,g&&I.DEBUG&&S>15&&(T>uE||T!==Hc(T)))throw Error(IV+P.s*T);if((w=w-p-1)>f)P.c=P.e=null;else if(w<u)P.c=[P.e=0];else{if(P.e=w,P.c=[],p=(w+1)%br,w<0&&(p+=br),p<S){for(p&&P.c.push(+N.slice(0,p)),S-=br;p<S;)P.c.push(+N.slice(p,p+=br));p=br-(N=N.slice(p)).length}else p-=S;for(;p--;N+="0");P.c.push(+N)}}else P.c=[P.e=0]}I.clone=wse,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(T){var R,q;if(T!=null)if(typeof T=="object"){if(T.hasOwnProperty(R="DECIMAL_PLACES")&&(q=T[R],ns(q,0,ni,R),a=q),T.hasOwnProperty(R="ROUNDING_MODE")&&(q=T[R],ns(q,0,8,R),o=q),T.hasOwnProperty(R="EXPONENTIAL_AT")&&(q=T[R],q&&q.pop?(ns(q[0],-ni,0,R),ns(q[1],0,ni,R),c=q[0],l=q[1]):(ns(q,-ni,ni,R),c=-(l=q<0?-q:q))),T.hasOwnProperty(R="RANGE"))if(q=T[R],q&&q.pop)ns(q[0],-ni,-1,R),ns(q[1],1,ni,R),u=q[0],f=q[1];else if(ns(q,-ni,ni,R),q)u=-(f=q<0?-q:q);else throw Error(go+R+" cannot be zero: "+q);if(T.hasOwnProperty(R="CRYPTO"))if(q=T[R],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=q;else throw h=!q,Error(go+"crypto unavailable");else h=q;else throw Error(go+R+" not true or false: "+q);if(T.hasOwnProperty(R="MODULO_MODE")&&(q=T[R],ns(q,0,9,R),m=q),T.hasOwnProperty(R="POW_PRECISION")&&(q=T[R],ns(q,0,ni,R),y=q),T.hasOwnProperty(R="FORMAT"))if(q=T[R],typeof q=="object")x=q;else throw Error(go+R+" not an object: "+q);if(T.hasOwnProperty(R="ALPHABET"))if(q=T[R],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))C=q.slice(0,10)=="0123456789",k=q;else throw Error(go+R+" invalid: "+q)}else throw Error(go+"Object expected: "+T);return{DECIMAL_PLACES:a,ROUNDING_MODE:o,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:h,MODULO_MODE:m,POW_PRECISION:y,FORMAT:x,ALPHABET:k}},I.isBigNumber=function(T){if(!T||T._isBigNumber!==!0)return!1;if(!I.DEBUG)return!0;var R,q,$=T.c,b=T.e,w=T.s;e:if({}.toString.call($)=="[object Array]"){if((w===1||w===-1)&&b>=-ni&&b<=ni&&b===Hc(b)){if($[0]===0){if(b===0&&$.length===1)return!0;break e}if(R=(b+1)%br,R<1&&(R+=br),String($[0]).length==R){for(R=0;R<$.length;R++)if(q=$[R],q<0||q>=Bl||q!==Hc(q))break e;if(q!==0)return!0}}}else if($===null&&b===null&&(w===null||w===1||w===-1))return!0;throw Error(go+"Invalid BigNumber: "+T)},I.maximum=I.max=function(){return O(arguments,-1)},I.minimum=I.min=function(){return O(arguments,1)},I.random=function(){var T=9007199254740992,R=Math.random()*T&2097151?function(){return Hc(Math.random()*T)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var $,b,w,p,g,S=0,N=[],P=new I(i);if(q==null?q=a:ns(q,0,ni),p=lE(q/br),h)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(p*=2));S<p;)g=$[S]*131072+($[S+1]>>>11),g>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),$[S]=b[0],$[S+1]=b[1]):(N.push(g%1e14),S+=2);S=p/2}else if(crypto.randomBytes){for($=crypto.randomBytes(p*=7);S<p;)g=($[S]&31)*281474976710656+$[S+1]*1099511627776+$[S+2]*4294967296+$[S+3]*16777216+($[S+4]<<16)+($[S+5]<<8)+$[S+6],g>=9e15?crypto.randomBytes(7).copy($,S):(N.push(g%1e14),S+=7);S=p/7}else throw h=!1,Error(go+"crypto unavailable");if(!h)for(;S<p;)g=R(),g<9e15&&(N[S++]=g%1e14);for(p=N[--S],q%=br,p&&q&&(g=dE[br-q],N[S]=Hc(p/g)*g);N[S]===0;N.pop(),S--);if(S<0)N=[w=0];else{for(w=-1;N[0]===0;N.splice(0,1),w-=br);for(S=1,g=N[0];g>=10;g/=10,S++);S<br&&(w-=br-S)}return P.e=w,P.c=N,P}}(),I.sum=function(){for(var T=1,R=arguments,q=new I(R[0]);T<R.length;)q=q.plus(R[T++]);return q},r=function(){var T="0123456789";function R(q,$,b,w){for(var p,g=[0],S,N=0,P=q.length;N<P;){for(S=g.length;S--;g[S]*=$);for(g[0]+=w.indexOf(q.charAt(N++)),p=0;p<g.length;p++)g[p]>b-1&&(g[p+1]==null&&(g[p+1]=0),g[p+1]+=g[p]/b|0,g[p]%=b)}return g.reverse()}return function(q,$,b,w,p){var g,S,N,P,A,v,E,M,L=q.indexOf("."),Q=a,U=o;for(L>=0&&(P=y,y=0,q=q.replace(".",""),M=new I($),v=M.pow(q.length-L),y=P,M.c=R(xf($c(v.c),v.e,"0"),10,b,T),M.e=M.c.length),E=R(q,$,b,p?(g=k,T):(g=T,k)),N=P=E.length;E[--P]==0;E.pop());if(!E[0])return g.charAt(0);if(L<0?--N:(v.c=E,v.e=N,v.s=w,v=e(v,M,Q,U,b),E=v.c,A=v.r,N=v.e),S=N+Q+1,L=E[S],P=b/2,A=A||S<0||E[S+1]!=null,A=U<4?(L!=null||A)&&(U==0||U==(v.s<0?3:2)):L>P||L==P&&(U==4||A||U==6&&E[S-1]&1||U==(v.s<0?8:7)),S<1||!E[0])q=A?xf(g.charAt(1),-Q,g.charAt(0)):g.charAt(0);else{if(E.length=S,A)for(--b;++E[--S]>b;)E[S]=0,S||(++N,E=[1].concat(E));for(P=E.length;!E[--P];);for(L=0,q="";L<=P;q+=g.charAt(E[L++]));q=xf(q,N,g.charAt(0))}return q}}(),e=function(){function T($,b,w){var p,g,S,N,P=0,A=$.length,v=b%r0,E=b/r0|0;for($=$.slice();A--;)S=$[A]%r0,N=$[A]/r0|0,p=E*S+N*v,g=v*S+p%r0*r0+P,P=(g/w|0)+(p/r0|0)+E*N,$[A]=g%w;return P&&($=[P].concat($)),$}function R($,b,w,p){var g,S;if(w!=p)S=w>p?1:-1;else for(g=S=0;g<w;g++)if($[g]!=b[g]){S=$[g]>b[g]?1:-1;break}return S}function q($,b,w,p){for(var g=0;w--;)$[w]-=g,g=$[w]<b[w]?1:0,$[w]=g*p+$[w]-b[w];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,b,w,p,g){var S,N,P,A,v,E,M,L,Q,U,J,Z,re,G,z,se,ce,pe=$.s==b.s?1:-1,_e=$.c,ke=b.c;if(!_e||!_e[0]||!ke||!ke[0])return new I(!$.s||!b.s||(_e?ke&&_e[0]==ke[0]:!ke)?NaN:_e&&_e[0]==0||!ke?pe*0:pe/0);for(L=new I(pe),Q=L.c=[],N=$.e-b.e,pe=w+N+1,g||(g=Bl,N=qc($.e/br)-qc(b.e/br),pe=pe/br|0),P=0;ke[P]==(_e[P]||0);P++);if(ke[P]>(_e[P]||0)&&N--,pe<0)Q.push(1),A=!0;else{for(G=_e.length,se=ke.length,P=0,pe+=2,v=Hc(g/(ke[0]+1)),v>1&&(ke=T(ke,v,g),_e=T(_e,v,g),se=ke.length,G=_e.length),re=se,U=_e.slice(0,se),J=U.length;J<se;U[J++]=0);ce=ke.slice(),ce=[0].concat(ce),z=ke[0],ke[1]>=g/2&&z++;do{if(v=0,S=R(ke,U,se,J),S<0){if(Z=U[0],se!=J&&(Z=Z*g+(U[1]||0)),v=Hc(Z/z),v>1)for(v>=g&&(v=g-1),E=T(ke,v,g),M=E.length,J=U.length;R(E,U,M,J)==1;)v--,q(E,se<M?ce:ke,M,g),M=E.length,S=1;else v==0&&(S=v=1),E=ke.slice(),M=E.length;if(M<J&&(E=[0].concat(E)),q(U,E,J,g),J=U.length,S==-1)for(;R(ke,U,se,J)<1;)v++,q(U,se<J?ce:ke,J,g),J=U.length}else S===0&&(v++,U=[0]);Q[P++]=v,U[0]?U[J++]=_e[re]||0:(U=[_e[re]],J=1)}while((re++<G||U[0]!=null)&&pe--);A=U[0]!=null,Q[0]||Q.splice(0,1)}if(g==Bl){for(P=1,pe=Q[0];pe>=10;pe/=10,P++);D(L,w+(L.e=P+N*br-1)+1,p,A)}else L.e=N,L.r=+A;return L}}();function _(T,R,q,$){var b,w,p,g,S;if(q==null?q=o:ns(q,0,8),!T.c)return T.toString();if(b=T.c[0],p=T.e,R==null)S=$c(T.c),S=$==1||$==2&&(p<=c||p>=l)?N8(S,p):xf(S,p,"0");else if(T=D(new I(T),R,q),w=T.e,S=$c(T.c),g=S.length,$==1||$==2&&(R<=w||w<=c)){for(;g<R;S+="0",g++);S=N8(S,w)}else if(R-=p+($===2&&w>p),S=xf(S,w,"0"),w+1>g){if(--R>0)for(S+=".";R--;S+="0");}else if(R+=w-g,R>0)for(w+1==g&&(S+=".");R--;S+="0");return T.s<0&&b?"-"+S:S}function O(T,R){for(var q,$,b=1,w=new I(T[0]);b<T.length;b++)$=new I(T[b]),(!$.s||(q=Im(w,$))===R||q===0&&w.s===R)&&(w=$);return w}function F(T,R,q){for(var $=1,b=R.length;!R[--b];R.pop());for(b=R[0];b>=10;b/=10,$++);return(q=$+q*br-1)>f?T.c=T.e=null:q<u?T.c=[T.e=0]:(T.e=q,T.c=R),T}n=function(){var T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,q=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(w,p,g,S){var N,P=g?p:p.replace(b,"");if($.test(P))w.s=isNaN(P)?null:P<0?-1:1;else{if(!g&&(P=P.replace(T,function(A,v,E){return N=(E=E.toLowerCase())=="x"?16:E=="b"?2:8,!S||S==N?v:A}),S&&(N=S,P=P.replace(R,"$1").replace(q,"0.$1")),p!=P))return new I(P,N);if(I.DEBUG)throw Error(go+"Not a"+(S?" base "+S:"")+" number: "+p);w.s=null}w.c=w.e=null}}();function D(T,R,q,$){var b,w,p,g,S,N,P,A=T.c,v=dE;if(A){e:{for(b=1,g=A[0];g>=10;g/=10,b++);if(w=R-b,w<0)w+=br,p=R,S=A[N=0],P=Hc(S/v[b-p-1]%10);else if(N=lE((w+1)/br),N>=A.length)if($){for(;A.length<=N;A.push(0));S=P=0,b=1,w%=br,p=w-br+1}else break e;else{for(S=g=A[N],b=1;g>=10;g/=10,b++);w%=br,p=w-br+b,P=p<0?0:Hc(S/v[b-p-1]%10)}if($=$||R<0||A[N+1]!=null||(p<0?S:S%v[b-p-1]),$=q<4?(P||$)&&(q==0||q==(T.s<0?3:2)):P>5||P==5&&(q==4||$||q==6&&(w>0?p>0?S/v[b-p]:0:A[N-1])%10&1||q==(T.s<0?8:7)),R<1||!A[0])return A.length=0,$?(R-=T.e+1,A[0]=v[(br-R%br)%br],T.e=-R||0):A[0]=T.e=0,T;if(w==0?(A.length=N,g=1,N--):(A.length=N+1,g=v[br-w],A[N]=p>0?Hc(S/v[b-p]%v[p])*g:0),$)for(;;)if(N==0){for(w=1,p=A[0];p>=10;p/=10,w++);for(p=A[0]+=g,g=1;p>=10;p/=10,g++);w!=g&&(T.e++,A[0]==Bl&&(A[0]=1));break}else{if(A[N]+=g,A[N]!=Bl)break;A[N--]=0,g=1}for(w=A.length;A[--w]===0;A.pop());}T.e>f?T.c=T.e=null:T.e<u&&(T.c=[T.e=0])}return T}function j(T){var R,q=T.e;return q===null?T.toString():(R=$c(T.c),R=q<=c||q>=l?N8(R,q):xf(R,q,"0"),T.s<0?"-"+R:R)}return s.absoluteValue=s.abs=function(){var T=new I(this);return T.s<0&&(T.s=1),T},s.comparedTo=function(T,R){return Im(this,new I(T,R))},s.decimalPlaces=s.dp=function(T,R){var q,$,b,w=this;if(T!=null)return ns(T,0,ni),R==null?R=o:ns(R,0,8),D(new I(w),T+w.e+1,R);if(!(q=w.c))return null;if($=((b=q.length-1)-qc(this.e/br))*br,b=q[b])for(;b%10==0;b/=10,$--);return $<0&&($=0),$},s.dividedBy=s.div=function(T,R){return e(this,new I(T,R),a,o)},s.dividedToIntegerBy=s.idiv=function(T,R){return e(this,new I(T,R),0,1)},s.exponentiatedBy=s.pow=function(T,R){var q,$,b,w,p,g,S,N,P,A=this;if(T=new I(T),T.c&&!T.isInteger())throw Error(go+"Exponent not an integer: "+j(T));if(R!=null&&(R=new I(R)),g=T.e>14,!A.c||!A.c[0]||A.c[0]==1&&!A.e&&A.c.length==1||!T.c||!T.c[0])return P=new I(Math.pow(+j(A),g?T.s*(2-I8(T)):+j(T))),R?P.mod(R):P;if(S=T.s<0,R){if(R.c?!R.c[0]:!R.s)return new I(NaN);$=!S&&A.isInteger()&&R.isInteger(),$&&(A=A.mod(R))}else{if(T.e>9&&(A.e>0||A.e<-1||(A.e==0?A.c[0]>1||g&&A.c[1]>=24e7:A.c[0]<8e13||g&&A.c[0]<=9999975e7)))return w=A.s<0&&I8(T)?-0:0,A.e>-1&&(w=1/w),new I(S?1/w:w);y&&(w=lE(y/br+2))}for(g?(q=new I(.5),S&&(T.s=1),N=I8(T)):(b=Math.abs(+j(T)),N=b%2),P=new I(i);;){if(N){if(P=P.times(A),!P.c)break;w?P.c.length>w&&(P.c.length=w):$&&(P=P.mod(R))}if(b){if(b=Hc(b/2),b===0)break;N=b%2}else if(T=T.times(q),D(T,T.e+1,1),T.e>14)N=I8(T);else{if(b=+j(T),b===0)break;N=b%2}A=A.times(A),w?A.c&&A.c.length>w&&(A.c.length=w):$&&(A=A.mod(R))}return $?P:(S&&(P=i.div(P)),R?P.mod(R):w?D(P,y,o,p):P)},s.integerValue=function(T){var R=new I(this);return T==null?T=o:ns(T,0,8),D(R,R.e+1,T)},s.isEqualTo=s.eq=function(T,R){return Im(this,new I(T,R))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(T,R){return Im(this,new I(T,R))>0},s.isGreaterThanOrEqualTo=s.gte=function(T,R){return(R=Im(this,new I(T,R)))===1||R===0},s.isInteger=function(){return!!this.c&&qc(this.e/br)>this.c.length-2},s.isLessThan=s.lt=function(T,R){return Im(this,new I(T,R))<0},s.isLessThanOrEqualTo=s.lte=function(T,R){return(R=Im(this,new I(T,R)))===-1||R===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(T,R){var q,$,b,w,p=this,g=p.s;if(T=new I(T,R),R=T.s,!g||!R)return new I(NaN);if(g!=R)return T.s=-R,p.plus(T);var S=p.e/br,N=T.e/br,P=p.c,A=T.c;if(!S||!N){if(!P||!A)return P?(T.s=-R,T):new I(A?p:NaN);if(!P[0]||!A[0])return A[0]?(T.s=-R,T):new I(P[0]?p:o==3?-0:0)}if(S=qc(S),N=qc(N),P=P.slice(),g=S-N){for((w=g<0)?(g=-g,b=P):(N=S,b=A),b.reverse(),R=g;R--;b.push(0));b.reverse()}else for($=(w=(g=P.length)<(R=A.length))?g:R,g=R=0;R<$;R++)if(P[R]!=A[R]){w=P[R]<A[R];break}if(w&&(b=P,P=A,A=b,T.s=-T.s),R=($=A.length)-(q=P.length),R>0)for(;R--;P[q++]=0);for(R=Bl-1;$>g;){if(P[--$]<A[$]){for(q=$;q&&!P[--q];P[q]=R);--P[q],P[$]+=Bl}P[$]-=A[$]}for(;P[0]==0;P.splice(0,1),--N);return P[0]?F(T,P,N):(T.s=o==3?-1:1,T.c=[T.e=0],T)},s.modulo=s.mod=function(T,R){var q,$,b=this;return T=new I(T,R),!b.c||!T.s||T.c&&!T.c[0]?new I(NaN):!T.c||b.c&&!b.c[0]?new I(b):(m==9?($=T.s,T.s=1,q=e(b,T,0,3),T.s=$,q.s*=$):q=e(b,T,0,m),T=b.minus(q.times(T)),!T.c[0]&&m==1&&(T.s=b.s),T)},s.multipliedBy=s.times=function(T,R){var q,$,b,w,p,g,S,N,P,A,v,E,M,L,Q,U=this,J=U.c,Z=(T=new I(T,R)).c;if(!J||!Z||!J[0]||!Z[0])return!U.s||!T.s||J&&!J[0]&&!Z||Z&&!Z[0]&&!J?T.c=T.e=T.s=null:(T.s*=U.s,!J||!Z?T.c=T.e=null:(T.c=[0],T.e=0)),T;for($=qc(U.e/br)+qc(T.e/br),T.s*=U.s,S=J.length,A=Z.length,S<A&&(M=J,J=Z,Z=M,b=S,S=A,A=b),b=S+A,M=[];b--;M.push(0));for(L=Bl,Q=r0,b=A;--b>=0;){for(q=0,v=Z[b]%Q,E=Z[b]/Q|0,p=S,w=b+p;w>b;)N=J[--p]%Q,P=J[p]/Q|0,g=E*N+P*v,N=v*N+g%Q*Q+M[w]+q,q=(N/L|0)+(g/Q|0)+E*P,M[w--]=N%L;M[w]=q}return q?++$:M.splice(0,1),F(T,M,$)},s.negated=function(){var T=new I(this);return T.s=-T.s||null,T},s.plus=function(T,R){var q,$=this,b=$.s;if(T=new I(T,R),R=T.s,!b||!R)return new I(NaN);if(b!=R)return T.s=-R,$.minus(T);var w=$.e/br,p=T.e/br,g=$.c,S=T.c;if(!w||!p){if(!g||!S)return new I(b/0);if(!g[0]||!S[0])return S[0]?T:new I(g[0]?$:b*0)}if(w=qc(w),p=qc(p),g=g.slice(),b=w-p){for(b>0?(p=w,q=S):(b=-b,q=g),q.reverse();b--;q.push(0));q.reverse()}for(b=g.length,R=S.length,b-R<0&&(q=S,S=g,g=q,R=b),b=0;R;)b=(g[--R]=g[R]+S[R]+b)/Bl|0,g[R]=Bl===g[R]?0:g[R]%Bl;return b&&(g=[b].concat(g),++p),F(T,g,p)},s.precision=s.sd=function(T,R){var q,$,b,w=this;if(T!=null&&T!==!!T)return ns(T,1,ni),R==null?R=o:ns(R,0,8),D(new I(w),T,R);if(!(q=w.c))return null;if(b=q.length-1,$=b*br+1,b=q[b]){for(;b%10==0;b/=10,$--);for(b=q[0];b>=10;b/=10,$++);}return T&&w.e+1>$&&($=w.e+1),$},s.shiftedBy=function(T){return ns(T,-uE,uE),this.times("1e"+T)},s.squareRoot=s.sqrt=function(){var T,R,q,$,b,w=this,p=w.c,g=w.s,S=w.e,N=a+4,P=new I("0.5");if(g!==1||!p||!p[0])return new I(!g||g<0&&(!p||p[0])?NaN:p?w:1/0);if(g=Math.sqrt(+j(w)),g==0||g==1/0?(R=$c(p),(R.length+S)%2==0&&(R+="0"),g=Math.sqrt(+R),S=qc((S+1)/2)-(S<0||S%2),g==1/0?R="5e"+S:(R=g.toExponential(),R=R.slice(0,R.indexOf("e")+1)+S),q=new I(R)):q=new I(g+""),q.c[0]){for(S=q.e,g=S+N,g<3&&(g=0);;)if(b=q,q=P.times(b.plus(e(w,b,N,1))),$c(b.c).slice(0,g)===(R=$c(q.c)).slice(0,g))if(q.e<S&&--g,R=R.slice(g-3,g+1),R=="9999"||!$&&R=="4999"){if(!$&&(D(b,b.e+a+2,0),b.times(b).eq(w))){q=b;break}N+=4,g+=4,$=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(D(q,q.e+a+2,1),T=!q.times(q).eq(w));break}}return D(q,q.e+a+1,o,T)},s.toExponential=function(T,R){return T!=null&&(ns(T,0,ni),T++),_(this,T,R,1)},s.toFixed=function(T,R){return T!=null&&(ns(T,0,ni),T=T+this.e+1),_(this,T,R)},s.toFormat=function(T,R,q){var $,b=this;if(q==null)T!=null&&R&&typeof R=="object"?(q=R,R=null):T&&typeof T=="object"?(q=T,T=R=null):q=x;else if(typeof q!="object")throw Error(go+"Argument not an object: "+q);if($=b.toFixed(T,R),b.c){var w,p=$.split("."),g=+q.groupSize,S=+q.secondaryGroupSize,N=q.groupSeparator||"",P=p[0],A=p[1],v=b.s<0,E=v?P.slice(1):P,M=E.length;if(S&&(w=g,g=S,S=w,M-=w),g>0&&M>0){for(w=M%g||g,P=E.substr(0,w);w<M;w+=g)P+=N+E.substr(w,g);S>0&&(P+=N+E.slice(w)),v&&(P="-"+P)}$=A?P+(q.decimalSeparator||"")+((S=+q.fractionGroupSize)?A.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):A):P}return(q.prefix||"")+$+(q.suffix||"")},s.toFraction=function(T){var R,q,$,b,w,p,g,S,N,P,A,v,E=this,M=E.c;if(T!=null&&(g=new I(T),!g.isInteger()&&(g.c||g.s!==1)||g.lt(i)))throw Error(go+"Argument "+(g.isInteger()?"out of range: ":"not an integer: ")+j(g));if(!M)return new I(E);for(R=new I(i),N=q=new I(i),$=S=new I(i),v=$c(M),w=R.e=v.length-E.e-1,R.c[0]=dE[(p=w%br)<0?br+p:p],T=!T||g.comparedTo(R)>0?w>0?R:N:g,p=f,f=1/0,g=new I(v),S.c[0]=0;P=e(g,R,0,1),b=q.plus(P.times($)),b.comparedTo(T)!=1;)q=$,$=b,N=S.plus(P.times(b=N)),S=b,R=g.minus(P.times(b=R)),g=b;return b=e(T.minus(q),$,0,1),S=S.plus(b.times(N)),q=q.plus(b.times($)),S.s=N.s=E.s,w=w*2,A=e(N,$,w,o).minus(E).abs().comparedTo(e(S,q,w,o).minus(E).abs())<1?[N,$]:[S,q],f=p,A},s.toNumber=function(){return+j(this)},s.toPrecision=function(T,R){return T!=null&&ns(T,1,ni),_(this,T,R,2)},s.toString=function(T){var R,q=this,$=q.s,b=q.e;return b===null?$?(R="Infinity",$<0&&(R="-"+R)):R="NaN":(T==null?R=b<=c||b>=l?N8($c(q.c),b):xf($c(q.c),b,"0"):T===10&&C?(q=D(new I(q),a+b+1,o),R=xf($c(q.c),q.e,"0")):(ns(T,2,k.length,"Base"),R=r(xf($c(q.c),b,"0"),10,T,$,!0)),$<0&&q.c[0]&&(R="-"+R)),R},s.valueOf=s.toJSON=function(){return j(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&I.set(t),I}function qc(t){var e=t|0;return t>0||t===e?e:e-1}function $c(t){for(var e,r,n=1,s=t.length,i=t[0]+"";n<s;){for(e=t[n++]+"",r=br-e.length;r--;e="0"+e);i+=e}for(s=i.length;i.charCodeAt(--s)===48;);return i.slice(0,s+1||1)}function Im(t,e){var r,n,s=t.c,i=e.c,a=t.s,o=e.s,c=t.e,l=e.e;if(!a||!o)return null;if(r=s&&!s[0],n=i&&!i[0],r||n)return r?n?0:-o:a;if(a!=o)return a;if(r=a<0,n=c==l,!s||!i)return n?0:!s^r?1:-1;if(!n)return c>l^r?1:-1;for(o=(c=s.length)<(l=i.length)?c:l,a=0;a<o;a++)if(s[a]!=i[a])return s[a]>i[a]^r?1:-1;return c==l?0:c>l^r?1:-1}function ns(t,e,r,n){if(t<e||t>r||t!==Hc(t))throw Error(go+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function I8(t){var e=t.c.length-1;return qc(t.e/br)==e&&t.c[e]%2!=0}function N8(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function xf(t,e,r){var n,s;if(e<0){for(s=r+".";++e;s+=r);t=s+t}else if(n=t.length,++e>n){for(s=r,e-=n;--e;s+=r);t+=s}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var A6=wse();const ISe="logger/5.8.0";let NV=!1,EV=!1;const J9={debug:1,default:2,info:2,warning:3,error:4,off:5};let CV=J9.default,fE=null;function NSe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const _V=NSe();var bj;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(bj||(bj={}));var eu;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(eu||(eu={}));const TV="0123456789abcdef";class Kt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();J9[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(CV>J9[n])&&console.log.apply(console,r)}debug(...e){this._log(Kt.levels.DEBUG,e)}info(...e){this._log(Kt.levels.INFO,e)}warn(...e){this._log(Kt.levels.WARNING,e)}makeError(e,r,n){if(EV)return this.makeError("censored error",r,{});r||(r=Kt.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=TV[l[f]>>4],u+=TV[l[f]&15];s.push(c+"=Uint8Array(0x"+u+")")}else s.push(c+"="+JSON.stringify(l))}catch{s.push(c+"="+JSON.stringify(n[c].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const i=e;let a="";switch(r){case eu.NUMERIC_FAULT:{a="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":a+="-"+c;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case eu.CALL_EXCEPTION:case eu.INSUFFICIENT_FUNDS:case eu.MISSING_NEW:case eu.NONCE_EXPIRED:case eu.REPLACEMENT_UNDERPRICED:case eu.TRANSACTION_REPLACED:case eu.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=r,Object.keys(n).forEach(function(c){o[c]=n[c]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Kt.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,s){e||this.throwError(r,n,s)}assertArgument(e,r,n,s){e||this.throwArgumentError(r,n,s)}checkNormalize(e){_V&&this.throwError("platform missing String.prototype.normalize",Kt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_V})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Kt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Kt.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Kt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Kt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Kt.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return fE||(fE=new Kt(ISe)),fE}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),NV){if(!e)return;this.globalLogger().throwError("error censorship permanent",Kt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}EV=!!e,NV=!!r}static setLogLevel(e){const r=J9[e.toLowerCase()];if(r==null){Kt.globalLogger().warn("invalid log level - "+e);return}CV=r}static from(e){return new Kt(e)}}Kt.errors=eu;Kt.levels=bj;const ESe="bytes/5.8.0",Es=new Kt(ESe);function Ase(t){return!!t.toHexString}function Fy(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Fy(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Sse(t){return _a(t)&&!(t.length%2)||rk(t)}function jV(t){return typeof t=="number"&&t==t&&t%1===0}function rk(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!jV(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!jV(r)||r<0||r>=256)return!1}return!0}function Xr(t,e){if(e||(e={}),typeof t=="number"){Es.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Fy(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ase(t)&&(t=t.toHexString()),_a(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Es.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let s=0;s<r.length;s+=2)n.push(parseInt(r.substring(s,s+2),16));return Fy(new Uint8Array(n))}return rk(t)?Fy(new Uint8Array(t)):Es.throwArgumentError("invalid arrayify value","value",t)}function Op(t){const e=t.map(s=>Xr(s)),r=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(r);return e.reduce((s,i)=>(n.set(i,s),s+i.length),0),Fy(n)}function S6(t){let e=Xr(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function CSe(t,e){t=Xr(t),t.length>e&&Es.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Fy(r)}function _a(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const hE="0123456789abcdef";function _r(t,e){if(e||(e={}),typeof t=="number"){Es.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=hE[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ase(t))return t.toHexString();if(_a(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Es.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(rk(t)){let r="0x";for(let n=0;n<t.length;n++){let s=t[n];r+=hE[(s&240)>>4]+hE[s&15]}return r}return Es.throwArgumentError("invalid hexlify value","value",t)}function Pse(t){if(typeof t!="string")t=_r(t);else if(!_a(t)||t.length%2)return null;return(t.length-2)/2}function P6(t,e,r){return typeof t!="string"?t=_r(t):(!_a(t)||t.length%2)&&Es.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function yF(t){let e="0x";return t.forEach(r=>{e+=_r(r).substring(2)}),e}function yl(t,e){for(typeof t!="string"?t=_r(t):_a(t)||Es.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Es.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function nk(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Sse(t)){let r=Xr(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=_r(r.slice(0,32)),e.s=_r(r.slice(32,64))):r.length===65?(e.r=_r(r.slice(0,32)),e.s=_r(r.slice(32,64)),e.v=r[64]):Es.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Es.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=_r(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=CSe(Xr(e._vs),32);e._vs=_r(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Es.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=_r(s);e.s==null?e.s=a:e.s!==a&&Es.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Es.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&Es.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!_a(e.r)?Es.throwArgumentError("signature missing or invalid r","signature",t):e.r=yl(e.r,32),e.s==null||!_a(e.s)?Es.throwArgumentError("signature missing or invalid s","signature",t):e.s=yl(e.s,32);const r=Xr(e.s);r[0]>=128&&Es.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=_r(r);e._vs&&(_a(e._vs)||Es.throwArgumentError("signature invalid _vs","signature",t),e._vs=yl(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Es.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var vF={exports:{}};const _Se={},TSe=Object.freeze(Object.defineProperty({__proto__:null,default:_Se},Symbol.toStringTag,{value:"Module"})),z1=hP(TSe);vF.exports;(function(t){(function(e,r){function n(w,p){if(!w)throw new Error(p||"Assertion failed")}function s(w,p){w.super_=p;var g=function(){};g.prototype=p.prototype,w.prototype=new g,w.prototype.constructor=w}function i(w,p,g){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((p==="le"||p==="be")&&(g=p,p=10),this._init(w||0,p||10,g||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=z1.Buffer}catch{}i.isBN=function(p){return p instanceof i?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===i.wordSize&&Array.isArray(p.words)},i.max=function(p,g){return p.cmp(g)>0?p:g},i.min=function(p,g){return p.cmp(g)<0?p:g},i.prototype._init=function(p,g,S){if(typeof p=="number")return this._initNumber(p,g,S);if(typeof p=="object")return this._initArray(p,g,S);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),p=p.toString().replace(/\s+/g,"");var N=0;p[0]==="-"&&(N++,this.negative=1),N<p.length&&(g===16?this._parseHex(p,N,S):(this._parseBase(p,g,N),S==="le"&&this._initArray(this.toArray(),g,S)))},i.prototype._initNumber=function(p,g,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),g,S)},i.prototype._initArray=function(p,g,S){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var P,A,v=0;if(S==="be")for(N=p.length-1,P=0;N>=0;N-=3)A=p[N]|p[N-1]<<8|p[N-2]<<16,this.words[P]|=A<<v&67108863,this.words[P+1]=A>>>26-v&67108863,v+=24,v>=26&&(v-=26,P++);else if(S==="le")for(N=0,P=0;N<p.length;N+=3)A=p[N]|p[N+1]<<8|p[N+2]<<16,this.words[P]|=A<<v&67108863,this.words[P+1]=A>>>26-v&67108863,v+=24,v>=26&&(v-=26,P++);return this._strip()};function o(w,p){var g=w.charCodeAt(p);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+w)}function c(w,p,g){var S=o(w,g);return g-1>=p&&(S|=o(w,g-1)<<4),S}i.prototype._parseHex=function(p,g,S){this.length=Math.ceil((p.length-g)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var P=0,A=0,v;if(S==="be")for(N=p.length-1;N>=g;N-=2)v=c(p,g,N)<<P,this.words[A]|=v&67108863,P>=18?(P-=18,A+=1,this.words[A]|=v>>>26):P+=8;else{var E=p.length-g;for(N=E%2===0?g+1:g;N<p.length;N+=2)v=c(p,g,N)<<P,this.words[A]|=v&67108863,P>=18?(P-=18,A+=1,this.words[A]|=v>>>26):P+=8}this._strip()};function l(w,p,g,S){for(var N=0,P=0,A=Math.min(w.length,g),v=p;v<A;v++){var E=w.charCodeAt(v)-48;N*=S,E>=49?P=E-49+10:E>=17?P=E-17+10:P=E,n(E>=0&&P<S,"Invalid character"),N+=P}return N}i.prototype._parseBase=function(p,g,S){this.words=[0],this.length=1;for(var N=0,P=1;P<=67108863;P*=g)N++;N--,P=P/g|0;for(var A=p.length-S,v=A%N,E=Math.min(A,A-v)+S,M=0,L=S;L<E;L+=N)M=l(p,L,L+N,g),this.imuln(P),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(v!==0){var Q=1;for(M=l(p,L,p.length,g),L=0;L<v;L++)Q*=g;this.imuln(Q),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},i.prototype.copy=function(p){p.words=new Array(this.length);for(var g=0;g<this.length;g++)p.words[g]=this.words[g];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(w,p){w.words=p.words,w.length=p.length,w.negative=p.negative,w.red=p.red}if(i.prototype._move=function(p){u(p,this)},i.prototype.clone=function(){var p=new i(null);return this.copy(p),p},i.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(p,g){p=p||10,g=g|0||1;var S;if(p===16||p==="hex"){S="";for(var N=0,P=0,A=0;A<this.length;A++){var v=this.words[A],E=((v<<N|P)&16777215).toString(16);P=v>>>24-N&16777215,N+=2,N>=26&&(N-=26,A--),P!==0||A!==this.length-1?S=h[6-E.length]+E+S:S=E+S}for(P!==0&&(S=P.toString(16)+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var M=m[p],L=y[p];S="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var U=Q.modrn(L).toString(p);Q=Q.idivn(L),Q.isZero()?S=U+S:S=h[M-U.length]+U+S}for(this.isZero()&&(S="0"+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(p,g){return this.toArrayLike(a,p,g)}),i.prototype.toArray=function(p,g){return this.toArrayLike(Array,p,g)};var x=function(p,g){return p.allocUnsafe?p.allocUnsafe(g):new p(g)};i.prototype.toArrayLike=function(p,g,S){this._strip();var N=this.byteLength(),P=S||Math.max(1,N);n(N<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var A=x(p,P),v=g==="le"?"LE":"BE";return this["_toArrayLike"+v](A,N),A},i.prototype._toArrayLikeLE=function(p,g){for(var S=0,N=0,P=0,A=0;P<this.length;P++){var v=this.words[P]<<A|N;p[S++]=v&255,S<p.length&&(p[S++]=v>>8&255),S<p.length&&(p[S++]=v>>16&255),A===6?(S<p.length&&(p[S++]=v>>24&255),N=0,A=0):(N=v>>>24,A+=2)}if(S<p.length)for(p[S++]=N;S<p.length;)p[S++]=0},i.prototype._toArrayLikeBE=function(p,g){for(var S=p.length-1,N=0,P=0,A=0;P<this.length;P++){var v=this.words[P]<<A|N;p[S--]=v&255,S>=0&&(p[S--]=v>>8&255),S>=0&&(p[S--]=v>>16&255),A===6?(S>=0&&(p[S--]=v>>24&255),N=0,A=0):(N=v>>>24,A+=2)}if(S>=0)for(p[S--]=N;S>=0;)p[S--]=0},Math.clz32?i.prototype._countBits=function(p){return 32-Math.clz32(p)}:i.prototype._countBits=function(p){var g=p,S=0;return g>=4096&&(S+=13,g>>>=13),g>=64&&(S+=7,g>>>=7),g>=8&&(S+=4,g>>>=4),g>=2&&(S+=2,g>>>=2),S+g},i.prototype._zeroBits=function(p){if(p===0)return 26;var g=p,S=0;return g&8191||(S+=13,g>>>=13),g&127||(S+=7,g>>>=7),g&15||(S+=4,g>>>=4),g&3||(S+=2,g>>>=2),g&1||S++,S},i.prototype.bitLength=function(){var p=this.words[this.length-1],g=this._countBits(p);return(this.length-1)*26+g};function k(w){for(var p=new Array(w.bitLength()),g=0;g<p.length;g++){var S=g/26|0,N=g%26;p[g]=w.words[S]>>>N&1}return p}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,g=0;g<this.length;g++){var S=this._zeroBits(this.words[g]);if(p+=S,S!==26)break}return p},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},i.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]|p.words[g];return this._strip()},i.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},i.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},i.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},i.prototype.iuand=function(p){var g;this.length>p.length?g=p:g=this;for(var S=0;S<g.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=g.length,this._strip()},i.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},i.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},i.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},i.prototype.iuxor=function(p){var g,S;this.length>p.length?(g=this,S=p):(g=p,S=this);for(var N=0;N<S.length;N++)this.words[N]=g.words[N]^S.words[N];if(this!==g)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=g.length,this._strip()},i.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},i.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},i.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},i.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var g=Math.ceil(p/26)|0,S=p%26;this._expand(g),S>0&&g--;for(var N=0;N<g;N++)this.words[N]=~this.words[N]&67108863;return S>0&&(this.words[N]=~this.words[N]&67108863>>26-S),this._strip()},i.prototype.notn=function(p){return this.clone().inotn(p)},i.prototype.setn=function(p,g){n(typeof p=="number"&&p>=0);var S=p/26|0,N=p%26;return this._expand(S+1),g?this.words[S]=this.words[S]|1<<N:this.words[S]=this.words[S]&~(1<<N),this._strip()},i.prototype.iadd=function(p){var g;if(this.negative!==0&&p.negative===0)return this.negative=0,g=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,g=this.isub(p),p.negative=1,g._normSign();var S,N;this.length>p.length?(S=this,N=p):(S=p,N=this);for(var P=0,A=0;A<N.length;A++)g=(S.words[A]|0)+(N.words[A]|0)+P,this.words[A]=g&67108863,P=g>>>26;for(;P!==0&&A<S.length;A++)g=(S.words[A]|0)+P,this.words[A]=g&67108863,P=g>>>26;if(this.length=S.length,P!==0)this.words[this.length]=P,this.length++;else if(S!==this)for(;A<S.length;A++)this.words[A]=S.words[A];return this},i.prototype.add=function(p){var g;return p.negative!==0&&this.negative===0?(p.negative=0,g=this.sub(p),p.negative^=1,g):p.negative===0&&this.negative!==0?(this.negative=0,g=p.sub(this),this.negative=1,g):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},i.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var g=this.iadd(p);return p.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,P;S>0?(N=this,P=p):(N=p,P=this);for(var A=0,v=0;v<P.length;v++)g=(N.words[v]|0)-(P.words[v]|0)+A,A=g>>26,this.words[v]=g&67108863;for(;A!==0&&v<N.length;v++)g=(N.words[v]|0)+A,A=g>>26,this.words[v]=g&67108863;if(A===0&&v<N.length&&N!==this)for(;v<N.length;v++)this.words[v]=N.words[v];return this.length=Math.max(this.length,v),N!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(p){return this.clone().isub(p)};function C(w,p,g){g.negative=p.negative^w.negative;var S=w.length+p.length|0;g.length=S,S=S-1|0;var N=w.words[0]|0,P=p.words[0]|0,A=N*P,v=A&67108863,E=A/67108864|0;g.words[0]=v;for(var M=1;M<S;M++){for(var L=E>>>26,Q=E&67108863,U=Math.min(M,p.length-1),J=Math.max(0,M-w.length+1);J<=U;J++){var Z=M-J|0;N=w.words[Z]|0,P=p.words[J]|0,A=N*P+Q,L+=A/67108864|0,Q=A&67108863}g.words[M]=Q|0,E=L|0}return E!==0?g.words[M]=E|0:g.length--,g._strip()}var I=function(p,g,S){var N=p.words,P=g.words,A=S.words,v=0,E,M,L,Q=N[0]|0,U=Q&8191,J=Q>>>13,Z=N[1]|0,re=Z&8191,G=Z>>>13,z=N[2]|0,se=z&8191,ce=z>>>13,pe=N[3]|0,_e=pe&8191,ke=pe>>>13,tt=N[4]|0,mt=tt&8191,we=tt>>>13,We=N[5]|0,Ae=We&8191,Oe=We>>>13,qe=N[6]|0,Fe=qe&8191,ze=qe>>>13,Ke=N[7]|0,ct=Ke&8191,Y=Ke>>>13,V=N[8]|0,W=V&8191,ne=V>>>13,le=N[9]|0,de=le&8191,me=le>>>13,rt=P[0]|0,ht=rt&8191,ot=rt>>>13,pt=P[1]|0,_t=pt&8191,St=pt>>>13,Rt=P[2]|0,sr=Rt&8191,De=Rt>>>13,He=P[3]|0,gt=He&8191,nt=He>>>13,It=P[4]|0,Ut=It&8191,bt=It>>>13,Je=P[5]|0,Pt=Je&8191,it=Je>>>13,Tt=P[6]|0,X=Tt&8191,ee=Tt>>>13,te=P[7]|0,H=te&8191,ie=te>>>13,fe=P[8]|0,Ie=fe&8191,ae=fe>>>13,ye=P[9]|0,Le=ye&8191,Re=ye>>>13;S.negative=p.negative^g.negative,S.length=19,E=Math.imul(U,ht),M=Math.imul(U,ot),M=M+Math.imul(J,ht)|0,L=Math.imul(J,ot);var $t=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(re,ht),M=Math.imul(re,ot),M=M+Math.imul(G,ht)|0,L=Math.imul(G,ot),E=E+Math.imul(U,_t)|0,M=M+Math.imul(U,St)|0,M=M+Math.imul(J,_t)|0,L=L+Math.imul(J,St)|0;var ut=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(ut>>>26)|0,ut&=67108863,E=Math.imul(se,ht),M=Math.imul(se,ot),M=M+Math.imul(ce,ht)|0,L=Math.imul(ce,ot),E=E+Math.imul(re,_t)|0,M=M+Math.imul(re,St)|0,M=M+Math.imul(G,_t)|0,L=L+Math.imul(G,St)|0,E=E+Math.imul(U,sr)|0,M=M+Math.imul(U,De)|0,M=M+Math.imul(J,sr)|0,L=L+Math.imul(J,De)|0;var Ot=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,E=Math.imul(_e,ht),M=Math.imul(_e,ot),M=M+Math.imul(ke,ht)|0,L=Math.imul(ke,ot),E=E+Math.imul(se,_t)|0,M=M+Math.imul(se,St)|0,M=M+Math.imul(ce,_t)|0,L=L+Math.imul(ce,St)|0,E=E+Math.imul(re,sr)|0,M=M+Math.imul(re,De)|0,M=M+Math.imul(G,sr)|0,L=L+Math.imul(G,De)|0,E=E+Math.imul(U,gt)|0,M=M+Math.imul(U,nt)|0,M=M+Math.imul(J,gt)|0,L=L+Math.imul(J,nt)|0;var Se=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Se>>>26)|0,Se&=67108863,E=Math.imul(mt,ht),M=Math.imul(mt,ot),M=M+Math.imul(we,ht)|0,L=Math.imul(we,ot),E=E+Math.imul(_e,_t)|0,M=M+Math.imul(_e,St)|0,M=M+Math.imul(ke,_t)|0,L=L+Math.imul(ke,St)|0,E=E+Math.imul(se,sr)|0,M=M+Math.imul(se,De)|0,M=M+Math.imul(ce,sr)|0,L=L+Math.imul(ce,De)|0,E=E+Math.imul(re,gt)|0,M=M+Math.imul(re,nt)|0,M=M+Math.imul(G,gt)|0,L=L+Math.imul(G,nt)|0,E=E+Math.imul(U,Ut)|0,M=M+Math.imul(U,bt)|0,M=M+Math.imul(J,Ut)|0,L=L+Math.imul(J,bt)|0;var be=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(be>>>26)|0,be&=67108863,E=Math.imul(Ae,ht),M=Math.imul(Ae,ot),M=M+Math.imul(Oe,ht)|0,L=Math.imul(Oe,ot),E=E+Math.imul(mt,_t)|0,M=M+Math.imul(mt,St)|0,M=M+Math.imul(we,_t)|0,L=L+Math.imul(we,St)|0,E=E+Math.imul(_e,sr)|0,M=M+Math.imul(_e,De)|0,M=M+Math.imul(ke,sr)|0,L=L+Math.imul(ke,De)|0,E=E+Math.imul(se,gt)|0,M=M+Math.imul(se,nt)|0,M=M+Math.imul(ce,gt)|0,L=L+Math.imul(ce,nt)|0,E=E+Math.imul(re,Ut)|0,M=M+Math.imul(re,bt)|0,M=M+Math.imul(G,Ut)|0,L=L+Math.imul(G,bt)|0,E=E+Math.imul(U,Pt)|0,M=M+Math.imul(U,it)|0,M=M+Math.imul(J,Pt)|0,L=L+Math.imul(J,it)|0;var Ee=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,E=Math.imul(Fe,ht),M=Math.imul(Fe,ot),M=M+Math.imul(ze,ht)|0,L=Math.imul(ze,ot),E=E+Math.imul(Ae,_t)|0,M=M+Math.imul(Ae,St)|0,M=M+Math.imul(Oe,_t)|0,L=L+Math.imul(Oe,St)|0,E=E+Math.imul(mt,sr)|0,M=M+Math.imul(mt,De)|0,M=M+Math.imul(we,sr)|0,L=L+Math.imul(we,De)|0,E=E+Math.imul(_e,gt)|0,M=M+Math.imul(_e,nt)|0,M=M+Math.imul(ke,gt)|0,L=L+Math.imul(ke,nt)|0,E=E+Math.imul(se,Ut)|0,M=M+Math.imul(se,bt)|0,M=M+Math.imul(ce,Ut)|0,L=L+Math.imul(ce,bt)|0,E=E+Math.imul(re,Pt)|0,M=M+Math.imul(re,it)|0,M=M+Math.imul(G,Pt)|0,L=L+Math.imul(G,it)|0,E=E+Math.imul(U,X)|0,M=M+Math.imul(U,ee)|0,M=M+Math.imul(J,X)|0,L=L+Math.imul(J,ee)|0;var Be=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Be>>>26)|0,Be&=67108863,E=Math.imul(ct,ht),M=Math.imul(ct,ot),M=M+Math.imul(Y,ht)|0,L=Math.imul(Y,ot),E=E+Math.imul(Fe,_t)|0,M=M+Math.imul(Fe,St)|0,M=M+Math.imul(ze,_t)|0,L=L+Math.imul(ze,St)|0,E=E+Math.imul(Ae,sr)|0,M=M+Math.imul(Ae,De)|0,M=M+Math.imul(Oe,sr)|0,L=L+Math.imul(Oe,De)|0,E=E+Math.imul(mt,gt)|0,M=M+Math.imul(mt,nt)|0,M=M+Math.imul(we,gt)|0,L=L+Math.imul(we,nt)|0,E=E+Math.imul(_e,Ut)|0,M=M+Math.imul(_e,bt)|0,M=M+Math.imul(ke,Ut)|0,L=L+Math.imul(ke,bt)|0,E=E+Math.imul(se,Pt)|0,M=M+Math.imul(se,it)|0,M=M+Math.imul(ce,Pt)|0,L=L+Math.imul(ce,it)|0,E=E+Math.imul(re,X)|0,M=M+Math.imul(re,ee)|0,M=M+Math.imul(G,X)|0,L=L+Math.imul(G,ee)|0,E=E+Math.imul(U,H)|0,M=M+Math.imul(U,ie)|0,M=M+Math.imul(J,H)|0,L=L+Math.imul(J,ie)|0;var Ve=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(W,ht),M=Math.imul(W,ot),M=M+Math.imul(ne,ht)|0,L=Math.imul(ne,ot),E=E+Math.imul(ct,_t)|0,M=M+Math.imul(ct,St)|0,M=M+Math.imul(Y,_t)|0,L=L+Math.imul(Y,St)|0,E=E+Math.imul(Fe,sr)|0,M=M+Math.imul(Fe,De)|0,M=M+Math.imul(ze,sr)|0,L=L+Math.imul(ze,De)|0,E=E+Math.imul(Ae,gt)|0,M=M+Math.imul(Ae,nt)|0,M=M+Math.imul(Oe,gt)|0,L=L+Math.imul(Oe,nt)|0,E=E+Math.imul(mt,Ut)|0,M=M+Math.imul(mt,bt)|0,M=M+Math.imul(we,Ut)|0,L=L+Math.imul(we,bt)|0,E=E+Math.imul(_e,Pt)|0,M=M+Math.imul(_e,it)|0,M=M+Math.imul(ke,Pt)|0,L=L+Math.imul(ke,it)|0,E=E+Math.imul(se,X)|0,M=M+Math.imul(se,ee)|0,M=M+Math.imul(ce,X)|0,L=L+Math.imul(ce,ee)|0,E=E+Math.imul(re,H)|0,M=M+Math.imul(re,ie)|0,M=M+Math.imul(G,H)|0,L=L+Math.imul(G,ie)|0,E=E+Math.imul(U,Ie)|0,M=M+Math.imul(U,ae)|0,M=M+Math.imul(J,Ie)|0,L=L+Math.imul(J,ae)|0;var Xe=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,E=Math.imul(de,ht),M=Math.imul(de,ot),M=M+Math.imul(me,ht)|0,L=Math.imul(me,ot),E=E+Math.imul(W,_t)|0,M=M+Math.imul(W,St)|0,M=M+Math.imul(ne,_t)|0,L=L+Math.imul(ne,St)|0,E=E+Math.imul(ct,sr)|0,M=M+Math.imul(ct,De)|0,M=M+Math.imul(Y,sr)|0,L=L+Math.imul(Y,De)|0,E=E+Math.imul(Fe,gt)|0,M=M+Math.imul(Fe,nt)|0,M=M+Math.imul(ze,gt)|0,L=L+Math.imul(ze,nt)|0,E=E+Math.imul(Ae,Ut)|0,M=M+Math.imul(Ae,bt)|0,M=M+Math.imul(Oe,Ut)|0,L=L+Math.imul(Oe,bt)|0,E=E+Math.imul(mt,Pt)|0,M=M+Math.imul(mt,it)|0,M=M+Math.imul(we,Pt)|0,L=L+Math.imul(we,it)|0,E=E+Math.imul(_e,X)|0,M=M+Math.imul(_e,ee)|0,M=M+Math.imul(ke,X)|0,L=L+Math.imul(ke,ee)|0,E=E+Math.imul(se,H)|0,M=M+Math.imul(se,ie)|0,M=M+Math.imul(ce,H)|0,L=L+Math.imul(ce,ie)|0,E=E+Math.imul(re,Ie)|0,M=M+Math.imul(re,ae)|0,M=M+Math.imul(G,Ie)|0,L=L+Math.imul(G,ae)|0,E=E+Math.imul(U,Le)|0,M=M+Math.imul(U,Re)|0,M=M+Math.imul(J,Le)|0,L=L+Math.imul(J,Re)|0;var xe=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(xe>>>26)|0,xe&=67108863,E=Math.imul(de,_t),M=Math.imul(de,St),M=M+Math.imul(me,_t)|0,L=Math.imul(me,St),E=E+Math.imul(W,sr)|0,M=M+Math.imul(W,De)|0,M=M+Math.imul(ne,sr)|0,L=L+Math.imul(ne,De)|0,E=E+Math.imul(ct,gt)|0,M=M+Math.imul(ct,nt)|0,M=M+Math.imul(Y,gt)|0,L=L+Math.imul(Y,nt)|0,E=E+Math.imul(Fe,Ut)|0,M=M+Math.imul(Fe,bt)|0,M=M+Math.imul(ze,Ut)|0,L=L+Math.imul(ze,bt)|0,E=E+Math.imul(Ae,Pt)|0,M=M+Math.imul(Ae,it)|0,M=M+Math.imul(Oe,Pt)|0,L=L+Math.imul(Oe,it)|0,E=E+Math.imul(mt,X)|0,M=M+Math.imul(mt,ee)|0,M=M+Math.imul(we,X)|0,L=L+Math.imul(we,ee)|0,E=E+Math.imul(_e,H)|0,M=M+Math.imul(_e,ie)|0,M=M+Math.imul(ke,H)|0,L=L+Math.imul(ke,ie)|0,E=E+Math.imul(se,Ie)|0,M=M+Math.imul(se,ae)|0,M=M+Math.imul(ce,Ie)|0,L=L+Math.imul(ce,ae)|0,E=E+Math.imul(re,Le)|0,M=M+Math.imul(re,Re)|0,M=M+Math.imul(G,Le)|0,L=L+Math.imul(G,Re)|0;var Pe=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(de,sr),M=Math.imul(de,De),M=M+Math.imul(me,sr)|0,L=Math.imul(me,De),E=E+Math.imul(W,gt)|0,M=M+Math.imul(W,nt)|0,M=M+Math.imul(ne,gt)|0,L=L+Math.imul(ne,nt)|0,E=E+Math.imul(ct,Ut)|0,M=M+Math.imul(ct,bt)|0,M=M+Math.imul(Y,Ut)|0,L=L+Math.imul(Y,bt)|0,E=E+Math.imul(Fe,Pt)|0,M=M+Math.imul(Fe,it)|0,M=M+Math.imul(ze,Pt)|0,L=L+Math.imul(ze,it)|0,E=E+Math.imul(Ae,X)|0,M=M+Math.imul(Ae,ee)|0,M=M+Math.imul(Oe,X)|0,L=L+Math.imul(Oe,ee)|0,E=E+Math.imul(mt,H)|0,M=M+Math.imul(mt,ie)|0,M=M+Math.imul(we,H)|0,L=L+Math.imul(we,ie)|0,E=E+Math.imul(_e,Ie)|0,M=M+Math.imul(_e,ae)|0,M=M+Math.imul(ke,Ie)|0,L=L+Math.imul(ke,ae)|0,E=E+Math.imul(se,Le)|0,M=M+Math.imul(se,Re)|0,M=M+Math.imul(ce,Le)|0,L=L+Math.imul(ce,Re)|0;var je=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(de,gt),M=Math.imul(de,nt),M=M+Math.imul(me,gt)|0,L=Math.imul(me,nt),E=E+Math.imul(W,Ut)|0,M=M+Math.imul(W,bt)|0,M=M+Math.imul(ne,Ut)|0,L=L+Math.imul(ne,bt)|0,E=E+Math.imul(ct,Pt)|0,M=M+Math.imul(ct,it)|0,M=M+Math.imul(Y,Pt)|0,L=L+Math.imul(Y,it)|0,E=E+Math.imul(Fe,X)|0,M=M+Math.imul(Fe,ee)|0,M=M+Math.imul(ze,X)|0,L=L+Math.imul(ze,ee)|0,E=E+Math.imul(Ae,H)|0,M=M+Math.imul(Ae,ie)|0,M=M+Math.imul(Oe,H)|0,L=L+Math.imul(Oe,ie)|0,E=E+Math.imul(mt,Ie)|0,M=M+Math.imul(mt,ae)|0,M=M+Math.imul(we,Ie)|0,L=L+Math.imul(we,ae)|0,E=E+Math.imul(_e,Le)|0,M=M+Math.imul(_e,Re)|0,M=M+Math.imul(ke,Le)|0,L=L+Math.imul(ke,Re)|0;var Ze=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,E=Math.imul(de,Ut),M=Math.imul(de,bt),M=M+Math.imul(me,Ut)|0,L=Math.imul(me,bt),E=E+Math.imul(W,Pt)|0,M=M+Math.imul(W,it)|0,M=M+Math.imul(ne,Pt)|0,L=L+Math.imul(ne,it)|0,E=E+Math.imul(ct,X)|0,M=M+Math.imul(ct,ee)|0,M=M+Math.imul(Y,X)|0,L=L+Math.imul(Y,ee)|0,E=E+Math.imul(Fe,H)|0,M=M+Math.imul(Fe,ie)|0,M=M+Math.imul(ze,H)|0,L=L+Math.imul(ze,ie)|0,E=E+Math.imul(Ae,Ie)|0,M=M+Math.imul(Ae,ae)|0,M=M+Math.imul(Oe,Ie)|0,L=L+Math.imul(Oe,ae)|0,E=E+Math.imul(mt,Le)|0,M=M+Math.imul(mt,Re)|0,M=M+Math.imul(we,Le)|0,L=L+Math.imul(we,Re)|0;var dt=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(de,Pt),M=Math.imul(de,it),M=M+Math.imul(me,Pt)|0,L=Math.imul(me,it),E=E+Math.imul(W,X)|0,M=M+Math.imul(W,ee)|0,M=M+Math.imul(ne,X)|0,L=L+Math.imul(ne,ee)|0,E=E+Math.imul(ct,H)|0,M=M+Math.imul(ct,ie)|0,M=M+Math.imul(Y,H)|0,L=L+Math.imul(Y,ie)|0,E=E+Math.imul(Fe,Ie)|0,M=M+Math.imul(Fe,ae)|0,M=M+Math.imul(ze,Ie)|0,L=L+Math.imul(ze,ae)|0,E=E+Math.imul(Ae,Le)|0,M=M+Math.imul(Ae,Re)|0,M=M+Math.imul(Oe,Le)|0,L=L+Math.imul(Oe,Re)|0;var ft=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(ft>>>26)|0,ft&=67108863,E=Math.imul(de,X),M=Math.imul(de,ee),M=M+Math.imul(me,X)|0,L=Math.imul(me,ee),E=E+Math.imul(W,H)|0,M=M+Math.imul(W,ie)|0,M=M+Math.imul(ne,H)|0,L=L+Math.imul(ne,ie)|0,E=E+Math.imul(ct,Ie)|0,M=M+Math.imul(ct,ae)|0,M=M+Math.imul(Y,Ie)|0,L=L+Math.imul(Y,ae)|0,E=E+Math.imul(Fe,Le)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(ze,Le)|0,L=L+Math.imul(ze,Re)|0;var Ue=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,E=Math.imul(de,H),M=Math.imul(de,ie),M=M+Math.imul(me,H)|0,L=Math.imul(me,ie),E=E+Math.imul(W,Ie)|0,M=M+Math.imul(W,ae)|0,M=M+Math.imul(ne,Ie)|0,L=L+Math.imul(ne,ae)|0,E=E+Math.imul(ct,Le)|0,M=M+Math.imul(ct,Re)|0,M=M+Math.imul(Y,Le)|0,L=L+Math.imul(Y,Re)|0;var Ce=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,E=Math.imul(de,Ie),M=Math.imul(de,ae),M=M+Math.imul(me,Ie)|0,L=Math.imul(me,ae),E=E+Math.imul(W,Le)|0,M=M+Math.imul(W,Re)|0,M=M+Math.imul(ne,Le)|0,L=L+Math.imul(ne,Re)|0;var et=(v+E|0)+((M&8191)<<13)|0;v=(L+(M>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(de,Le),M=Math.imul(de,Re),M=M+Math.imul(me,Le)|0,L=Math.imul(me,Re);var Qe=(v+E|0)+((M&8191)<<13)|0;return v=(L+(M>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,A[0]=$t,A[1]=ut,A[2]=Ot,A[3]=Se,A[4]=be,A[5]=Ee,A[6]=Be,A[7]=Ve,A[8]=Xe,A[9]=xe,A[10]=Pe,A[11]=je,A[12]=Ze,A[13]=dt,A[14]=ft,A[15]=Ue,A[16]=Ce,A[17]=et,A[18]=Qe,v!==0&&(A[19]=v,S.length++),S};Math.imul||(I=C);function _(w,p,g){g.negative=p.negative^w.negative,g.length=w.length+p.length;for(var S=0,N=0,P=0;P<g.length-1;P++){var A=N;N=0;for(var v=S&67108863,E=Math.min(P,p.length-1),M=Math.max(0,P-w.length+1);M<=E;M++){var L=P-M,Q=w.words[L]|0,U=p.words[M]|0,J=Q*U,Z=J&67108863;A=A+(J/67108864|0)|0,Z=Z+v|0,v=Z&67108863,A=A+(Z>>>26)|0,N+=A>>>26,A&=67108863}g.words[P]=v,S=A,A=N}return S!==0?g.words[P]=S:g.length--,g._strip()}function O(w,p,g){return _(w,p,g)}i.prototype.mulTo=function(p,g){var S,N=this.length+p.length;return this.length===10&&p.length===10?S=I(this,p,g):N<63?S=C(this,p,g):N<1024?S=_(this,p,g):S=O(this,p,g),S},i.prototype.mul=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),this.mulTo(p,g)},i.prototype.mulf=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),O(this,p,g)},i.prototype.imul=function(p){return this.clone().mulTo(p,this)},i.prototype.imuln=function(p){var g=p<0;g&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var S=0,N=0;N<this.length;N++){var P=(this.words[N]|0)*p,A=(P&67108863)+(S&67108863);S>>=26,S+=P/67108864|0,S+=A>>>26,this.words[N]=A&67108863}return S!==0&&(this.words[N]=S,this.length++),this.length=p===0?1:this.length,g?this.ineg():this},i.prototype.muln=function(p){return this.clone().imuln(p)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(p){var g=k(p);if(g.length===0)return new i(1);for(var S=this,N=0;N<g.length&&g[N]===0;N++,S=S.sqr());if(++N<g.length)for(var P=S.sqr();N<g.length;N++,P=P.sqr())g[N]!==0&&(S=S.mul(P));return S},i.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26,N=67108863>>>26-g<<26-g,P;if(g!==0){var A=0;for(P=0;P<this.length;P++){var v=this.words[P]&N,E=(this.words[P]|0)-v<<g;this.words[P]=E|A,A=v>>>26-g}A&&(this.words[P]=A,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this._strip()},i.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},i.prototype.iushrn=function(p,g,S){n(typeof p=="number"&&p>=0);var N;g?N=(g-g%26)/26:N=0;var P=p%26,A=Math.min((p-P)/26,this.length),v=67108863^67108863>>>P<<P,E=S;if(N-=A,N=Math.max(0,N),E){for(var M=0;M<A;M++)E.words[M]=this.words[M];E.length=A}if(A!==0)if(this.length>A)for(this.length-=A,M=0;M<this.length;M++)this.words[M]=this.words[M+A];else this.words[0]=0,this.length=1;var L=0;for(M=this.length-1;M>=0&&(L!==0||M>=N);M--){var Q=this.words[M]|0;this.words[M]=L<<26-P|Q>>>P,L=Q&v}return E&&L!==0&&(E.words[E.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(p,g,S){return n(this.negative===0),this.iushrn(p,g,S)},i.prototype.shln=function(p){return this.clone().ishln(p)},i.prototype.ushln=function(p){return this.clone().iushln(p)},i.prototype.shrn=function(p){return this.clone().ishrn(p)},i.prototype.ushrn=function(p){return this.clone().iushrn(p)},i.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26,N=1<<g;if(this.length<=S)return!1;var P=this.words[S];return!!(P&N)},i.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,S=(p-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(g!==0&&S++,this.length=Math.min(S,this.length),g!==0){var N=67108863^67108863>>>g<<g;this.words[this.length-1]&=N}return this._strip()},i.prototype.maskn=function(p){return this.clone().imaskn(p)},i.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},i.prototype._iaddn=function(p){this.words[0]+=p;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(p){return this.clone().iaddn(p)},i.prototype.subn=function(p){return this.clone().isubn(p)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(p,g,S){var N=p.length+S,P;this._expand(N);var A,v=0;for(P=0;P<p.length;P++){A=(this.words[P+S]|0)+v;var E=(p.words[P]|0)*g;A-=E&67108863,v=(A>>26)-(E/67108864|0),this.words[P+S]=A&67108863}for(;P<this.length-S;P++)A=(this.words[P+S]|0)+v,v=A>>26,this.words[P+S]=A&67108863;if(v===0)return this._strip();for(n(v===-1),v=0,P=0;P<this.length;P++)A=-(this.words[P]|0)+v,v=A>>26,this.words[P]=A&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(p,g){var S=this.length-p.length,N=this.clone(),P=p,A=P.words[P.length-1]|0,v=this._countBits(A);S=26-v,S!==0&&(P=P.ushln(S),N.iushln(S),A=P.words[P.length-1]|0);var E=N.length-P.length,M;if(g!=="mod"){M=new i(null),M.length=E+1,M.words=new Array(M.length);for(var L=0;L<M.length;L++)M.words[L]=0}var Q=N.clone()._ishlnsubmul(P,1,E);Q.negative===0&&(N=Q,M&&(M.words[E]=1));for(var U=E-1;U>=0;U--){var J=(N.words[P.length+U]|0)*67108864+(N.words[P.length+U-1]|0);for(J=Math.min(J/A|0,67108863),N._ishlnsubmul(P,J,U);N.negative!==0;)J--,N.negative=0,N._ishlnsubmul(P,1,U),N.isZero()||(N.negative^=1);M&&(M.words[U]=J)}return M&&M._strip(),N._strip(),g!=="div"&&S!==0&&N.iushrn(S),{div:M||null,mod:N}},i.prototype.divmod=function(p,g,S){if(n(!p.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var N,P,A;return this.negative!==0&&p.negative===0?(A=this.neg().divmod(p,g),g!=="mod"&&(N=A.div.neg()),g!=="div"&&(P=A.mod.neg(),S&&P.negative!==0&&P.iadd(p)),{div:N,mod:P}):this.negative===0&&p.negative!==0?(A=this.divmod(p.neg(),g),g!=="mod"&&(N=A.div.neg()),{div:N,mod:A.mod}):this.negative&p.negative?(A=this.neg().divmod(p.neg(),g),g!=="div"&&(P=A.mod.neg(),S&&P.negative!==0&&P.isub(p)),{div:A.div,mod:P}):p.length>this.length||this.cmp(p)<0?{div:new i(0),mod:this}:p.length===1?g==="div"?{div:this.divn(p.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new i(this.modrn(p.words[0]))}:this._wordDiv(p,g)},i.prototype.div=function(p){return this.divmod(p,"div",!1).div},i.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},i.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},i.prototype.divRound=function(p){var g=this.divmod(p);if(g.mod.isZero())return g.div;var S=g.div.negative!==0?g.mod.isub(p):g.mod,N=p.ushrn(1),P=p.andln(1),A=S.cmp(N);return A<0||P===1&&A===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var S=(1<<26)%p,N=0,P=this.length-1;P>=0;P--)N=(S*N+(this.words[P]|0))%p;return g?-N:N},i.prototype.modn=function(p){return this.modrn(p)},i.prototype.idivn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var S=0,N=this.length-1;N>=0;N--){var P=(this.words[N]|0)+S*67108864;this.words[N]=P/p|0,S=P%p}return this._strip(),g?this.ineg():this},i.prototype.divn=function(p){return this.clone().idivn(p)},i.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var g=this,S=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var N=new i(1),P=new i(0),A=new i(0),v=new i(1),E=0;g.isEven()&&S.isEven();)g.iushrn(1),S.iushrn(1),++E;for(var M=S.clone(),L=g.clone();!g.isZero();){for(var Q=0,U=1;!(g.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(N.isOdd()||P.isOdd())&&(N.iadd(M),P.isub(L)),N.iushrn(1),P.iushrn(1);for(var J=0,Z=1;!(S.words[0]&Z)&&J<26;++J,Z<<=1);if(J>0)for(S.iushrn(J);J-- >0;)(A.isOdd()||v.isOdd())&&(A.iadd(M),v.isub(L)),A.iushrn(1),v.iushrn(1);g.cmp(S)>=0?(g.isub(S),N.isub(A),P.isub(v)):(S.isub(g),A.isub(N),v.isub(P))}return{a:A,b:v,gcd:S.iushln(E)}},i.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var g=this,S=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var N=new i(1),P=new i(0),A=S.clone();g.cmpn(1)>0&&S.cmpn(1)>0;){for(var v=0,E=1;!(g.words[0]&E)&&v<26;++v,E<<=1);if(v>0)for(g.iushrn(v);v-- >0;)N.isOdd()&&N.iadd(A),N.iushrn(1);for(var M=0,L=1;!(S.words[0]&L)&&M<26;++M,L<<=1);if(M>0)for(S.iushrn(M);M-- >0;)P.isOdd()&&P.iadd(A),P.iushrn(1);g.cmp(S)>=0?(g.isub(S),N.isub(P)):(S.isub(g),P.isub(N))}var Q;return g.cmpn(1)===0?Q=N:Q=P,Q.cmpn(0)<0&&Q.iadd(p),Q},i.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var g=this.clone(),S=p.clone();g.negative=0,S.negative=0;for(var N=0;g.isEven()&&S.isEven();N++)g.iushrn(1),S.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;S.isEven();)S.iushrn(1);var P=g.cmp(S);if(P<0){var A=g;g=S,S=A}else if(P===0||S.cmpn(1)===0)break;g.isub(S)}while(!0);return S.iushln(N)},i.prototype.invm=function(p){return this.egcd(p).a.umod(p)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(p){return this.words[0]&p},i.prototype.bincn=function(p){n(typeof p=="number");var g=p%26,S=(p-g)/26,N=1<<g;if(this.length<=S)return this._expand(S+1),this.words[S]|=N,this;for(var P=N,A=S;P!==0&&A<this.length;A++){var v=this.words[A]|0;v+=P,P=v>>>26,v&=67108863,this.words[A]=v}return P!==0&&(this.words[A]=P,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(p){var g=p<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var S;if(this.length>1)S=1;else{g&&(p=-p),n(p<=67108863,"Number is too big");var N=this.words[0]|0;S=N===p?0:N<p?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var g=this.ucmp(p);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var g=0,S=this.length-1;S>=0;S--){var N=this.words[S]|0,P=p.words[S]|0;if(N!==P){N<P?g=-1:N>P&&(g=1);break}}return g},i.prototype.gtn=function(p){return this.cmpn(p)===1},i.prototype.gt=function(p){return this.cmp(p)===1},i.prototype.gten=function(p){return this.cmpn(p)>=0},i.prototype.gte=function(p){return this.cmp(p)>=0},i.prototype.ltn=function(p){return this.cmpn(p)===-1},i.prototype.lt=function(p){return this.cmp(p)===-1},i.prototype.lten=function(p){return this.cmpn(p)<=0},i.prototype.lte=function(p){return this.cmp(p)<=0},i.prototype.eqn=function(p){return this.cmpn(p)===0},i.prototype.eq=function(p){return this.cmp(p)===0},i.red=function(p){return new $(p)},i.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(p){return this.red=p,this},i.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},i.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},i.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},i.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},i.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},i.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},i.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},i.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var F={k256:null,p224:null,p192:null,p25519:null};function D(w,p){this.name=w,this.p=new i(p,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var p=new i(null);return p.words=new Array(Math.ceil(this.n/13)),p},D.prototype.ireduce=function(p){var g=p,S;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),S=g.bitLength();while(S>this.n);var N=S<this.n?-1:g.ucmp(this.p);return N===0?(g.words[0]=0,g.length=1):N>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},D.prototype.split=function(p,g){p.iushrn(this.n,0,g)},D.prototype.imulK=function(p){return p.imul(this.k)};function j(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(j,D),j.prototype.split=function(p,g){for(var S=4194303,N=Math.min(p.length,9),P=0;P<N;P++)g.words[P]=p.words[P];if(g.length=N,p.length<=9){p.words[0]=0,p.length=1;return}var A=p.words[9];for(g.words[g.length++]=A&S,P=10;P<p.length;P++){var v=p.words[P]|0;p.words[P-10]=(v&S)<<4|A>>>22,A=v}A>>>=22,p.words[P-10]=A,A===0&&p.length>10?p.length-=10:p.length-=9},j.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var g=0,S=0;S<p.length;S++){var N=p.words[S]|0;g+=N*977,p.words[S]=g&67108863,g=N*64+(g/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function T(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(T,D);function R(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(R,D);function q(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,D),q.prototype.imulK=function(p){for(var g=0,S=0;S<p.length;S++){var N=(p.words[S]|0)*19+g,P=N&67108863;N>>>=26,p.words[S]=P,g=N}return g!==0&&(p.words[p.length++]=g),p},i._prime=function(p){if(F[p])return F[p];var g;if(p==="k256")g=new j;else if(p==="p224")g=new T;else if(p==="p192")g=new R;else if(p==="p25519")g=new q;else throw new Error("Unknown prime "+p);return F[p]=g,g};function $(w){if(typeof w=="string"){var p=i._prime(w);this.m=p.p,this.prime=p}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,g){n((p.negative|g.negative)===0,"red works only with positives"),n(p.red&&p.red===g.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,g){this._verify2(p,g);var S=p.add(g);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(p,g){this._verify2(p,g);var S=p.iadd(g);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(p,g){this._verify2(p,g);var S=p.sub(g);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(p,g){this._verify2(p,g);var S=p.isub(g);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(p,g){return this._verify1(p),this.imod(p.ushln(g))},$.prototype.imul=function(p,g){return this._verify2(p,g),this.imod(p.imul(g))},$.prototype.mul=function(p,g){return this._verify2(p,g),this.imod(p.mul(g))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(p,S)}for(var N=this.m.subn(1),P=0;!N.isZero()&&N.andln(1)===0;)P++,N.iushrn(1);n(!N.isZero());var A=new i(1).toRed(this),v=A.redNeg(),E=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new i(2*M*M).toRed(this);this.pow(M,E).cmp(v)!==0;)M.redIAdd(v);for(var L=this.pow(M,N),Q=this.pow(p,N.addn(1).iushrn(1)),U=this.pow(p,N),J=P;U.cmp(A)!==0;){for(var Z=U,re=0;Z.cmp(A)!==0;re++)Z=Z.redSqr();n(re<J);var G=this.pow(L,new i(1).iushln(J-re-1));Q=Q.redMul(G),L=G.redSqr(),U=U.redMul(L),J=re}return Q},$.prototype.invm=function(p){var g=p._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},$.prototype.pow=function(p,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return p.clone();var S=4,N=new Array(1<<S);N[0]=new i(1).toRed(this),N[1]=p;for(var P=2;P<N.length;P++)N[P]=this.mul(N[P-1],p);var A=N[0],v=0,E=0,M=g.bitLength()%26;for(M===0&&(M=26),P=g.length-1;P>=0;P--){for(var L=g.words[P],Q=M-1;Q>=0;Q--){var U=L>>Q&1;if(A!==N[0]&&(A=this.sqr(A)),U===0&&v===0){E=0;continue}v<<=1,v|=U,E++,!(E!==S&&(P!==0||Q!==0))&&(A=this.mul(A,N[v]),E=0,v=0)}M=26}return A},$.prototype.convertTo=function(p){var g=p.umod(this.m);return g===p?g.clone():g},$.prototype.convertFrom=function(p){var g=p.clone();return g.red=null,g},i.mont=function(p){return new b(p)};function b(w){$.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(b,$),b.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},b.prototype.convertFrom=function(p){var g=this.imod(p.mul(this.rinv));return g.red=null,g},b.prototype.imul=function(p,g){if(p.isZero()||g.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(g),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(N).iushrn(this.shift),A=P;return P.cmp(this.m)>=0?A=P.isub(this.m):P.cmpn(0)<0&&(A=P.iadd(this.m)),A._forceRed(this)},b.prototype.mul=function(p,g){if(p.isZero()||g.isZero())return new i(0)._forceRed(this);var S=p.mul(g),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(N).iushrn(this.shift),A=P;return P.cmp(this.m)>=0?A=P.isub(this.m):P.cmpn(0)<0&&(A=P.iadd(this.m)),A._forceRed(this)},b.prototype.invm=function(p){var g=this.imod(p._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Ds)})(vF);var jSe=vF.exports;const dr=La(jSe),MSe="bignumber/5.8.0";var $A=dr.BN;const Df=new Kt(MSe),pE={},MV=9007199254740991;let $V=!1;class cn{constructor(e,r){e!==pE&&Df.throwError("cannot call constructor directly; use BigNumber.from",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ho(Dr(this).fromTwos(e))}toTwos(e){return ho(Dr(this).toTwos(e))}abs(){return this._hex[0]==="-"?cn.from(this._hex.substring(1)):this}add(e){return ho(Dr(this).add(Dr(e)))}sub(e){return ho(Dr(this).sub(Dr(e)))}div(e){return cn.from(e).isZero()&&Oc("division-by-zero","div"),ho(Dr(this).div(Dr(e)))}mul(e){return ho(Dr(this).mul(Dr(e)))}mod(e){const r=Dr(e);return r.isNeg()&&Oc("division-by-zero","mod"),ho(Dr(this).umod(r))}pow(e){const r=Dr(e);return r.isNeg()&&Oc("negative-power","pow"),ho(Dr(this).pow(r))}and(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","and"),ho(Dr(this).and(r))}or(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","or"),ho(Dr(this).or(r))}xor(e){const r=Dr(e);return(this.isNegative()||r.isNeg())&&Oc("unbound-bitwise-result","xor"),ho(Dr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Oc("negative-width","mask"),ho(Dr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Oc("negative-width","shl"),ho(Dr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Oc("negative-width","shr"),ho(Dr(this).shrn(e))}eq(e){return Dr(this).eq(Dr(e))}lt(e){return Dr(this).lt(Dr(e))}lte(e){return Dr(this).lte(Dr(e))}gt(e){return Dr(this).gt(Dr(e))}gte(e){return Dr(this).gte(Dr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Dr(this).isZero()}toNumber(){try{return Dr(this).toNumber()}catch{Oc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Df.throwError("this platform does not support BigInt",Kt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?$V||($V=!0,Df.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Df.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Kt.errors.UNEXPECTED_ARGUMENT,{}):Df.throwError("BigNumber.toString does not accept parameters",Kt.errors.UNEXPECTED_ARGUMENT,{})),Dr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof cn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new cn(pE,k6(e)):e.match(/^-?[0-9]+$/)?new cn(pE,k6(new $A(e))):Df.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Oc("underflow","BigNumber.from",e),(e>=MV||e<=-MV)&&Oc("overflow","BigNumber.from",e),cn.from(String(e));const r=e;if(typeof r=="bigint")return cn.from(r.toString());if(rk(r))return cn.from(_r(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return cn.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(_a(n)||n[0]==="-"&&_a(n.substring(1))))return cn.from(n)}return Df.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function k6(t){if(typeof t!="string")return k6(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Df.throwArgumentError("invalid hex","value",t),t=k6(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ho(t){return cn.from(k6(t))}function Dr(t){const e=cn.from(t).toHexString();return e[0]==="-"?new $A("-"+e.substring(3),16):new $A(e.substring(2),16)}function Oc(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Df.throwError(t,Kt.errors.NUMERIC_FAULT,n)}function $Se(t){return new $A(t,36).toString(16)}var kse={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",s=n?window:{};s.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",a=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?s=Ds:i&&(s=self);var o=!s.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],h=[1,256,65536,16777216],m=[6,1536,393216,100663296],y=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],C=[128,256],I=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),c&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var O=function(U,J,Z){return function(re){return new M(U,J,U).update(re)[Z]()}},F=function(U,J,Z){return function(re,G){return new M(U,J,G).update(re)[Z]()}},D=function(U,J,Z){return function(re,G,z,se){return p["cshake"+U].update(re,G,z,se)[Z]()}},j=function(U,J,Z){return function(re,G,z,se){return p["kmac"+U].update(re,G,z,se)[Z]()}},T=function(U,J,Z,re){for(var G=0;G<I.length;++G){var z=I[G];U[z]=J(Z,re,z)}return U},R=function(U,J){var Z=O(U,J,"hex");return Z.create=function(){return new M(U,J,U)},Z.update=function(re){return Z.create().update(re)},T(Z,O,U,J)},q=function(U,J){var Z=F(U,J,"hex");return Z.create=function(re){return new M(U,J,re)},Z.update=function(re,G){return Z.create(G).update(re)},T(Z,F,U,J)},$=function(U,J){var Z=_[U],re=D(U,J,"hex");return re.create=function(G,z,se){return!z&&!se?p["shake"+U].create(G):new M(U,J,G).bytepad([z,se],Z)},re.update=function(G,z,se,ce){return re.create(z,se,ce).update(G)},T(re,D,U,J)},b=function(U,J){var Z=_[U],re=j(U,J,"hex");return re.create=function(G,z,se){return new L(U,J,z).bytepad(["KMAC",se],Z).bytepad([G],Z)},re.update=function(G,z,se,ce){return re.create(G,se,ce).update(z)},T(re,j,U,J)},w=[{name:"keccak",padding:h,bits:k,createMethod:R},{name:"sha3",padding:m,bits:k,createMethod:R},{name:"shake",padding:u,bits:C,createMethod:q},{name:"cshake",padding:f,bits:C,createMethod:$},{name:"kmac",padding:f,bits:C,createMethod:b}],p={},g=[],S=0;S<w.length;++S)for(var N=w[S],P=N.bits,A=0;A<P.length;++A){var v=N.name+"_"+P[A];if(g.push(v),p[v]=N.createMethod(P[A],N.padding),N.name!=="sha3"){var E=N.name+P[A];g.push(E),p[E]=p[v]}}function M(U,J,Z){this.blocks=[],this.s=[],this.padding=J,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var re=0;re<50;++re)this.s[re]=0}M.prototype.update=function(U){if(this.finalized)throw new Error(r);var J,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);J=!0}for(var re=this.blocks,G=this.byteCount,z=U.length,se=this.blockCount,ce=0,pe=this.s,_e,ke;ce<z;){if(this.reset)for(this.reset=!1,re[0]=this.block,_e=1;_e<se+1;++_e)re[_e]=0;if(J)for(_e=this.start;ce<z&&_e<G;++ce)re[_e>>2]|=U[ce]<<y[_e++&3];else for(_e=this.start;ce<z&&_e<G;++ce)ke=U.charCodeAt(ce),ke<128?re[_e>>2]|=ke<<y[_e++&3]:ke<2048?(re[_e>>2]|=(192|ke>>6)<<y[_e++&3],re[_e>>2]|=(128|ke&63)<<y[_e++&3]):ke<55296||ke>=57344?(re[_e>>2]|=(224|ke>>12)<<y[_e++&3],re[_e>>2]|=(128|ke>>6&63)<<y[_e++&3],re[_e>>2]|=(128|ke&63)<<y[_e++&3]):(ke=65536+((ke&1023)<<10|U.charCodeAt(++ce)&1023),re[_e>>2]|=(240|ke>>18)<<y[_e++&3],re[_e>>2]|=(128|ke>>12&63)<<y[_e++&3],re[_e>>2]|=(128|ke>>6&63)<<y[_e++&3],re[_e>>2]|=(128|ke&63)<<y[_e++&3]);if(this.lastByteIndex=_e,_e>=G){for(this.start=_e-G,this.block=re[se],_e=0;_e<se;++_e)pe[_e]^=re[_e];Q(pe),this.reset=!0}else this.start=_e}return this},M.prototype.encode=function(U,J){var Z=U&255,re=1,G=[Z];for(U=U>>8,Z=U&255;Z>0;)G.unshift(Z),U=U>>8,Z=U&255,++re;return J?G.push(re):G.unshift(re),this.update(G),G.length},M.prototype.encodeString=function(U){var J,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);J=!0}var re=0,G=U.length;if(J)re=G;else for(var z=0;z<U.length;++z){var se=U.charCodeAt(z);se<128?re+=1:se<2048?re+=2:se<55296||se>=57344?re+=3:(se=65536+((se&1023)<<10|U.charCodeAt(++z)&1023),re+=4)}return re+=this.encode(re*8),this.update(U),re},M.prototype.bytepad=function(U,J){for(var Z=this.encode(J),re=0;re<U.length;++re)Z+=this.encodeString(U[re]);var G=J-Z%J,z=[];return z.length=G,this.update(z),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,J=this.lastByteIndex,Z=this.blockCount,re=this.s;if(U[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(U[0]=U[Z],J=1;J<Z+1;++J)U[J]=0;for(U[Z-1]|=2147483648,J=0;J<Z;++J)re[J]^=U[J];Q(re)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se="",ce;z<Z;){for(G=0;G<U&&z<Z;++G,++z)ce=J[G],se+=l[ce>>4&15]+l[ce&15]+l[ce>>12&15]+l[ce>>8&15]+l[ce>>20&15]+l[ce>>16&15]+l[ce>>28&15]+l[ce>>24&15];z%U===0&&(Q(J),G=0)}return re&&(ce=J[G],se+=l[ce>>4&15]+l[ce&15],re>1&&(se+=l[ce>>12&15]+l[ce>>8&15]),re>2&&(se+=l[ce>>20&15]+l[ce>>16&15])),se},M.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se=this.outputBits>>3,ce;re?ce=new ArrayBuffer(Z+1<<2):ce=new ArrayBuffer(se);for(var pe=new Uint32Array(ce);z<Z;){for(G=0;G<U&&z<Z;++G,++z)pe[z]=J[G];z%U===0&&Q(J)}return re&&(pe[G]=J[G],ce=ce.slice(0,se)),ce},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var U=this.blockCount,J=this.s,Z=this.outputBlocks,re=this.extraBytes,G=0,z=0,se=[],ce,pe;z<Z;){for(G=0;G<U&&z<Z;++G,++z)ce=z<<2,pe=J[G],se[ce]=pe&255,se[ce+1]=pe>>8&255,se[ce+2]=pe>>16&255,se[ce+3]=pe>>24&255;z%U===0&&Q(J)}return re&&(ce=z<<2,pe=J[G],se[ce]=pe&255,re>1&&(se[ce+1]=pe>>8&255),re>2&&(se[ce+2]=pe>>16&255)),se};function L(U,J,Z){M.call(this,U,J,Z)}L.prototype=new M,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var Q=function(U){var J,Z,re,G,z,se,ce,pe,_e,ke,tt,mt,we,We,Ae,Oe,qe,Fe,ze,Ke,ct,Y,V,W,ne,le,de,me,rt,ht,ot,pt,_t,St,Rt,sr,De,He,gt,nt,It,Ut,bt,Je,Pt,it,Tt,X,ee,te,H,ie,fe,Ie,ae,ye,Le,Re,$t,ut,Ot,Se,be;for(re=0;re<48;re+=2)G=U[0]^U[10]^U[20]^U[30]^U[40],z=U[1]^U[11]^U[21]^U[31]^U[41],se=U[2]^U[12]^U[22]^U[32]^U[42],ce=U[3]^U[13]^U[23]^U[33]^U[43],pe=U[4]^U[14]^U[24]^U[34]^U[44],_e=U[5]^U[15]^U[25]^U[35]^U[45],ke=U[6]^U[16]^U[26]^U[36]^U[46],tt=U[7]^U[17]^U[27]^U[37]^U[47],mt=U[8]^U[18]^U[28]^U[38]^U[48],we=U[9]^U[19]^U[29]^U[39]^U[49],J=mt^(se<<1|ce>>>31),Z=we^(ce<<1|se>>>31),U[0]^=J,U[1]^=Z,U[10]^=J,U[11]^=Z,U[20]^=J,U[21]^=Z,U[30]^=J,U[31]^=Z,U[40]^=J,U[41]^=Z,J=G^(pe<<1|_e>>>31),Z=z^(_e<<1|pe>>>31),U[2]^=J,U[3]^=Z,U[12]^=J,U[13]^=Z,U[22]^=J,U[23]^=Z,U[32]^=J,U[33]^=Z,U[42]^=J,U[43]^=Z,J=se^(ke<<1|tt>>>31),Z=ce^(tt<<1|ke>>>31),U[4]^=J,U[5]^=Z,U[14]^=J,U[15]^=Z,U[24]^=J,U[25]^=Z,U[34]^=J,U[35]^=Z,U[44]^=J,U[45]^=Z,J=pe^(mt<<1|we>>>31),Z=_e^(we<<1|mt>>>31),U[6]^=J,U[7]^=Z,U[16]^=J,U[17]^=Z,U[26]^=J,U[27]^=Z,U[36]^=J,U[37]^=Z,U[46]^=J,U[47]^=Z,J=ke^(G<<1|z>>>31),Z=tt^(z<<1|G>>>31),U[8]^=J,U[9]^=Z,U[18]^=J,U[19]^=Z,U[28]^=J,U[29]^=Z,U[38]^=J,U[39]^=Z,U[48]^=J,U[49]^=Z,We=U[0],Ae=U[1],it=U[11]<<4|U[10]>>>28,Tt=U[10]<<4|U[11]>>>28,me=U[20]<<3|U[21]>>>29,rt=U[21]<<3|U[20]>>>29,ut=U[31]<<9|U[30]>>>23,Ot=U[30]<<9|U[31]>>>23,Ut=U[40]<<18|U[41]>>>14,bt=U[41]<<18|U[40]>>>14,St=U[2]<<1|U[3]>>>31,Rt=U[3]<<1|U[2]>>>31,Oe=U[13]<<12|U[12]>>>20,qe=U[12]<<12|U[13]>>>20,X=U[22]<<10|U[23]>>>22,ee=U[23]<<10|U[22]>>>22,ht=U[33]<<13|U[32]>>>19,ot=U[32]<<13|U[33]>>>19,Se=U[42]<<2|U[43]>>>30,be=U[43]<<2|U[42]>>>30,Ie=U[5]<<30|U[4]>>>2,ae=U[4]<<30|U[5]>>>2,sr=U[14]<<6|U[15]>>>26,De=U[15]<<6|U[14]>>>26,Fe=U[25]<<11|U[24]>>>21,ze=U[24]<<11|U[25]>>>21,te=U[34]<<15|U[35]>>>17,H=U[35]<<15|U[34]>>>17,pt=U[45]<<29|U[44]>>>3,_t=U[44]<<29|U[45]>>>3,W=U[6]<<28|U[7]>>>4,ne=U[7]<<28|U[6]>>>4,ye=U[17]<<23|U[16]>>>9,Le=U[16]<<23|U[17]>>>9,He=U[26]<<25|U[27]>>>7,gt=U[27]<<25|U[26]>>>7,Ke=U[36]<<21|U[37]>>>11,ct=U[37]<<21|U[36]>>>11,ie=U[47]<<24|U[46]>>>8,fe=U[46]<<24|U[47]>>>8,Je=U[8]<<27|U[9]>>>5,Pt=U[9]<<27|U[8]>>>5,le=U[18]<<20|U[19]>>>12,de=U[19]<<20|U[18]>>>12,Re=U[29]<<7|U[28]>>>25,$t=U[28]<<7|U[29]>>>25,nt=U[38]<<8|U[39]>>>24,It=U[39]<<8|U[38]>>>24,Y=U[48]<<14|U[49]>>>18,V=U[49]<<14|U[48]>>>18,U[0]=We^~Oe&Fe,U[1]=Ae^~qe&ze,U[10]=W^~le&me,U[11]=ne^~de&rt,U[20]=St^~sr&He,U[21]=Rt^~De&gt,U[30]=Je^~it&X,U[31]=Pt^~Tt&ee,U[40]=Ie^~ye&Re,U[41]=ae^~Le&$t,U[2]=Oe^~Fe&Ke,U[3]=qe^~ze&ct,U[12]=le^~me&ht,U[13]=de^~rt&ot,U[22]=sr^~He&nt,U[23]=De^~gt&It,U[32]=it^~X&te,U[33]=Tt^~ee&H,U[42]=ye^~Re&ut,U[43]=Le^~$t&Ot,U[4]=Fe^~Ke&Y,U[5]=ze^~ct&V,U[14]=me^~ht&pt,U[15]=rt^~ot&_t,U[24]=He^~nt&Ut,U[25]=gt^~It&bt,U[34]=X^~te&ie,U[35]=ee^~H&fe,U[44]=Re^~ut&Se,U[45]=$t^~Ot&be,U[6]=Ke^~Y&We,U[7]=ct^~V&Ae,U[16]=ht^~pt&W,U[17]=ot^~_t&ne,U[26]=nt^~Ut&St,U[27]=It^~bt&Rt,U[36]=te^~ie&Je,U[37]=H^~fe&Pt,U[46]=ut^~Se&Ie,U[47]=Ot^~be&ae,U[8]=Y^~We&Oe,U[9]=V^~Ae&qe,U[18]=pt^~W&le,U[19]=_t^~ne&de,U[28]=Ut^~St&sr,U[29]=bt^~Rt&De,U[38]=ie^~Je&it,U[39]=fe^~Pt&Tt,U[48]=Se^~Ie&ye,U[49]=be^~ae&Le,U[0]^=x[re],U[1]^=x[re+1]};if(o)t.exports=p;else for(S=0;S<g.length;++S)s[g[S]]=p[g[S]]})()})(kse);var OSe=kse.exports;const BSe=La(OSe);function bc(t){return"0x"+BSe.keccak_256(Xr(t))}const FSe="rlp/5.8.0",cd=new Kt(FSe);function OV(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function BV(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function Ise(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(Ise(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=OV(n.length);return s.unshift(247+s.length),s.concat(n)}Sse(t)||cd.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Xr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=OV(e.length);return r.unshift(183+r.length),r.concat(e)}function sk(t){return _r(Ise(t))}function FV(t,e,r,n){const s=[];for(;r<e+1+n;){const i=Nse(t,r);s.push(i.result),r+=i.consumed,r>e+1+n&&cd.throwError("child data too short",Kt.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function Nse(t,e){if(t.length===0&&cd.throwError("data too short",Kt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&cd.throwError("data short segment too short",Kt.errors.BUFFER_OVERRUN,{});const n=BV(t,e+1,r);return e+1+r+n>t.length&&cd.throwError("data long segment too short",Kt.errors.BUFFER_OVERRUN,{}),FV(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&cd.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{}),FV(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&cd.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{});const n=BV(t,e+1,r);e+1+r+n>t.length&&cd.throwError("data array too short",Kt.errors.BUFFER_OVERRUN,{});const s=_r(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:s}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&cd.throwError("data too short",Kt.errors.BUFFER_OVERRUN,{});const n=_r(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:_r(t[e])}}function ik(t){const e=Xr(t),r=Nse(e,0);return r.consumed!==e.length&&cd.throwArgumentError("invalid rlp data","data",t),r.result}const RSe="address/5.8.0",z2=new Kt(RSe);function RV(t){_a(t,20)||z2.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Xr(bc(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const DSe=9007199254740991;function USe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const xF={};for(let t=0;t<10;t++)xF[String(t)]=String(t);for(let t=0;t<26;t++)xF[String.fromCharCode(65+t)]=String(10+t);const DV=Math.floor(USe(DSe));function zSe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>xF[n]).join("");for(;e.length>=DV;){let n=e.substring(0,DV);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Th(t){let e=null;if(typeof t!="string"&&z2.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=RV(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&z2.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==zSe(t)&&z2.throwArgumentError("bad icap checksum","address",t),e=$Se(t.substring(4));e.length<40;)e="0"+e;e=RV("0x"+e)}else z2.throwArgumentError("invalid address","address",t);return e}const LSe="0x0000000000000000000000000000000000000000",VSe=cn.from(-1),Ese=cn.from(0),HSe=cn.from(1),qSe=cn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),WSe="properties/5.8.0",Cse=new Kt(WSe);function As(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function E8(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const KSe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _se(t){if(t==null||KSe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!_se(n))return!1}return!0}return Cse.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function XSe(t){if(_se(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>yj(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&As(e,r,yj(n))}return e}return Cse.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function yj(t){return XSe(t)}class ak{constructor(e){for(const r in e)this[r]=yj(e[r])}}var L1={},zr={},lm=Tse;function Tse(t,e){if(!t)throw new Error(e||"Assertion failed")}Tse.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var vj={exports:{}};typeof Object.create=="function"?vj.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vj.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var V1=vj.exports,ZSe=lm,JSe=V1;zr.inherits=JSe;function QSe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function YSe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16))}else for(var n=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):QSe(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<t.length;s++)r[s]=t[s]|0;return r}zr.toArray=YSe;function GSe(t){for(var e="",r=0;r<t.length;r++)e+=Mse(t[r].toString(16));return e}zr.toHex=GSe;function jse(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}zr.htonl=jse;function ePe(t,e){for(var r="",n=0;n<t.length;n++){var s=t[n];e==="little"&&(s=jse(s)),r+=$se(s.toString(16))}return r}zr.toHex32=ePe;function Mse(t){return t.length===1?"0"+t:t}zr.zero2=Mse;function $se(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}zr.zero8=$se;function tPe(t,e,r,n){var s=r-e;ZSe(s%4===0);for(var i=new Array(s/4),a=0,o=e;a<i.length;a++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],i[a]=c>>>0}return i}zr.join32=tPe;function rPe(t,e){for(var r=new Array(t.length*4),n=0,s=0;n<t.length;n++,s+=4){var i=t[n];e==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}zr.split32=rPe;function nPe(t,e){return t>>>e|t<<32-e}zr.rotr32=nPe;function sPe(t,e){return t<<e|t>>>32-e}zr.rotl32=sPe;function iPe(t,e){return t+e>>>0}zr.sum32=iPe;function aPe(t,e,r){return t+e+r>>>0}zr.sum32_3=aPe;function oPe(t,e,r,n){return t+e+r+n>>>0}zr.sum32_4=oPe;function cPe(t,e,r,n,s){return t+e+r+n+s>>>0}zr.sum32_5=cPe;function lPe(t,e,r,n){var s=t[e],i=t[e+1],a=n+i>>>0,o=(a<n?1:0)+r+s;t[e]=o>>>0,t[e+1]=a}zr.sum64=lPe;function uPe(t,e,r,n){var s=e+n>>>0,i=(s<e?1:0)+t+r;return i>>>0}zr.sum64_hi=uPe;function dPe(t,e,r,n){var s=e+n;return s>>>0}zr.sum64_lo=dPe;function fPe(t,e,r,n,s,i,a,o){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+i>>>0,c+=l<i?1:0,l=l+o>>>0,c+=l<o?1:0;var u=t+r+s+a+c;return u>>>0}zr.sum64_4_hi=fPe;function hPe(t,e,r,n,s,i,a,o){var c=e+n+i+o;return c>>>0}zr.sum64_4_lo=hPe;function pPe(t,e,r,n,s,i,a,o,c,l){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+i>>>0,u+=f<i?1:0,f=f+o>>>0,u+=f<o?1:0,f=f+l>>>0,u+=f<l?1:0;var h=t+r+s+a+c+u;return h>>>0}zr.sum64_5_hi=pPe;function mPe(t,e,r,n,s,i,a,o,c,l){var u=e+n+i+o+l;return u>>>0}zr.sum64_5_lo=mPe;function gPe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}zr.rotr64_hi=gPe;function bPe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}zr.rotr64_lo=bPe;function yPe(t,e,r){return t>>>r}zr.shr64_hi=yPe;function vPe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}zr.shr64_lo=vPe;var ow={},UV=zr,xPe=lm;function ok(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ow.BlockHash=ok;ok.prototype.update=function(e,r){if(e=UV.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=UV.join32(e,0,e.length-n,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};ok.prototype.digest=function(e){return this.update(this._pad()),xPe(this.pending===null),this._digest(e)};ok.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,a=8;a<this.padLength;a++)s[i++]=0;return s};var cw={},lf={},wPe=zr,Ud=wPe.rotr32;function APe(t,e,r,n){if(t===0)return Ose(e,r,n);if(t===1||t===3)return Fse(e,r,n);if(t===2)return Bse(e,r,n)}lf.ft_1=APe;function Ose(t,e,r){return t&e^~t&r}lf.ch32=Ose;function Bse(t,e,r){return t&e^t&r^e&r}lf.maj32=Bse;function Fse(t,e,r){return t^e^r}lf.p32=Fse;function SPe(t){return Ud(t,2)^Ud(t,13)^Ud(t,22)}lf.s0_256=SPe;function PPe(t){return Ud(t,6)^Ud(t,11)^Ud(t,25)}lf.s1_256=PPe;function kPe(t){return Ud(t,7)^Ud(t,18)^t>>>3}lf.g0_256=kPe;function IPe(t){return Ud(t,17)^Ud(t,19)^t>>>10}lf.g1_256=IPe;var vx=zr,NPe=ow,EPe=lf,mE=vx.rotl32,Gw=vx.sum32,CPe=vx.sum32_5,_Pe=EPe.ft_1,Rse=NPe.BlockHash,TPe=[1518500249,1859775393,2400959708,3395469782];function tf(){if(!(this instanceof tf))return new tf;Rse.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}vx.inherits(tf,Rse);var jPe=tf;tf.blockSize=512;tf.outSize=160;tf.hmacStrength=80;tf.padLength=64;tf.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=mE(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4];for(s=0;s<n.length;s++){var u=~~(s/20),f=CPe(mE(i,5),_Pe(u,a,o,c),l,n[s],TPe[u]);l=c,c=o,o=mE(a,30),a=i,i=f}this.h[0]=Gw(this.h[0],i),this.h[1]=Gw(this.h[1],a),this.h[2]=Gw(this.h[2],o),this.h[3]=Gw(this.h[3],c),this.h[4]=Gw(this.h[4],l)};tf.prototype._digest=function(e){return e==="hex"?vx.toHex32(this.h,"big"):vx.split32(this.h,"big")};var xx=zr,MPe=ow,lw=lf,$Pe=lm,Fl=xx.sum32,OPe=xx.sum32_4,BPe=xx.sum32_5,FPe=lw.ch32,RPe=lw.maj32,DPe=lw.s0_256,UPe=lw.s1_256,zPe=lw.g0_256,LPe=lw.g1_256,Dse=MPe.BlockHash,VPe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rf(){if(!(this instanceof rf))return new rf;Dse.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=VPe,this.W=new Array(64)}xx.inherits(rf,Dse);var Use=rf;rf.blockSize=512;rf.outSize=256;rf.hmacStrength=192;rf.padLength=64;rf.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=OPe(LPe(n[s-2]),n[s-7],zPe(n[s-15]),n[s-16]);var i=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],h=this.h[7];for($Pe(this.k.length===n.length),s=0;s<n.length;s++){var m=BPe(h,UPe(l),FPe(l,u,f),this.k[s],n[s]),y=Fl(DPe(i),RPe(i,a,o));h=f,f=u,u=l,l=Fl(c,m),c=o,o=a,a=i,i=Fl(m,y)}this.h[0]=Fl(this.h[0],i),this.h[1]=Fl(this.h[1],a),this.h[2]=Fl(this.h[2],o),this.h[3]=Fl(this.h[3],c),this.h[4]=Fl(this.h[4],l),this.h[5]=Fl(this.h[5],u),this.h[6]=Fl(this.h[6],f),this.h[7]=Fl(this.h[7],h)};rf.prototype._digest=function(e){return e==="hex"?xx.toHex32(this.h,"big"):xx.split32(this.h,"big")};var xj=zr,zse=Use;function jh(){if(!(this instanceof jh))return new jh;zse.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}xj.inherits(jh,zse);var HPe=jh;jh.blockSize=512;jh.outSize=224;jh.hmacStrength=192;jh.padLength=64;jh.prototype._digest=function(e){return e==="hex"?xj.toHex32(this.h.slice(0,7),"big"):xj.split32(this.h.slice(0,7),"big")};var Do=zr,qPe=ow,WPe=lm,zd=Do.rotr64_hi,Ld=Do.rotr64_lo,Lse=Do.shr64_hi,Vse=Do.shr64_lo,n0=Do.sum64,gE=Do.sum64_hi,bE=Do.sum64_lo,KPe=Do.sum64_4_hi,XPe=Do.sum64_4_lo,ZPe=Do.sum64_5_hi,JPe=Do.sum64_5_lo,Hse=qPe.BlockHash,QPe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Tu(){if(!(this instanceof Tu))return new Tu;Hse.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=QPe,this.W=new Array(160)}Do.inherits(Tu,Hse);var qse=Tu;Tu.blockSize=1024;Tu.outSize=512;Tu.hmacStrength=192;Tu.padLength=128;Tu.prototype._prepareBlock=function(e,r){for(var n=this.W,s=0;s<32;s++)n[s]=e[r+s];for(;s<n.length;s+=2){var i=cke(n[s-4],n[s-3]),a=lke(n[s-4],n[s-3]),o=n[s-14],c=n[s-13],l=ake(n[s-30],n[s-29]),u=oke(n[s-30],n[s-29]),f=n[s-32],h=n[s-31];n[s]=KPe(i,a,o,c,l,u,f,h),n[s+1]=XPe(i,a,o,c,l,u,f,h)}};Tu.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,s=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7],h=this.h[8],m=this.h[9],y=this.h[10],x=this.h[11],k=this.h[12],C=this.h[13],I=this.h[14],_=this.h[15];WPe(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var F=I,D=_,j=ske(h,m),T=ike(h,m),R=YPe(h,m,y,x,k),q=GPe(h,m,y,x,k,C),$=this.k[O],b=this.k[O+1],w=n[O],p=n[O+1],g=ZPe(F,D,j,T,R,q,$,b,w,p),S=JPe(F,D,j,T,R,q,$,b,w,p);F=rke(s,i),D=nke(s,i),j=eke(s,i,a,o,c),T=tke(s,i,a,o,c,l);var N=gE(F,D,j,T),P=bE(F,D,j,T);I=k,_=C,k=y,C=x,y=h,x=m,h=gE(u,f,g,S),m=bE(f,f,g,S),u=c,f=l,c=a,l=o,a=s,o=i,s=gE(g,S,N,P),i=bE(g,S,N,P)}n0(this.h,0,s,i),n0(this.h,2,a,o),n0(this.h,4,c,l),n0(this.h,6,u,f),n0(this.h,8,h,m),n0(this.h,10,y,x),n0(this.h,12,k,C),n0(this.h,14,I,_)};Tu.prototype._digest=function(e){return e==="hex"?Do.toHex32(this.h,"big"):Do.split32(this.h,"big")};function YPe(t,e,r,n,s){var i=t&r^~t&s;return i<0&&(i+=4294967296),i}function GPe(t,e,r,n,s,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function eke(t,e,r,n,s){var i=t&r^t&s^r&s;return i<0&&(i+=4294967296),i}function tke(t,e,r,n,s,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function rke(t,e){var r=zd(t,e,28),n=zd(e,t,2),s=zd(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function nke(t,e){var r=Ld(t,e,28),n=Ld(e,t,2),s=Ld(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function ske(t,e){var r=zd(t,e,14),n=zd(t,e,18),s=zd(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function ike(t,e){var r=Ld(t,e,14),n=Ld(t,e,18),s=Ld(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function ake(t,e){var r=zd(t,e,1),n=zd(t,e,8),s=Lse(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function oke(t,e){var r=Ld(t,e,1),n=Ld(t,e,8),s=Vse(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function cke(t,e){var r=zd(t,e,19),n=zd(e,t,29),s=Lse(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}function lke(t,e){var r=Ld(t,e,19),n=Ld(e,t,29),s=Vse(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}var wj=zr,Wse=qse;function Mh(){if(!(this instanceof Mh))return new Mh;Wse.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}wj.inherits(Mh,Wse);var uke=Mh;Mh.blockSize=1024;Mh.outSize=384;Mh.hmacStrength=192;Mh.padLength=128;Mh.prototype._digest=function(e){return e==="hex"?wj.toHex32(this.h.slice(0,12),"big"):wj.split32(this.h.slice(0,12),"big")};cw.sha1=jPe;cw.sha224=HPe;cw.sha256=Use;cw.sha384=uke;cw.sha512=qse;var Kse={},w1=zr,dke=ow,C8=w1.rotl32,zV=w1.sum32,e2=w1.sum32_3,LV=w1.sum32_4,Xse=dke.BlockHash;function nf(){if(!(this instanceof nf))return new nf;Xse.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}w1.inherits(nf,Xse);Kse.ripemd160=nf;nf.blockSize=512;nf.outSize=160;nf.hmacStrength=192;nf.padLength=64;nf.prototype._update=function(e,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],c=n,l=s,u=i,f=a,h=o,m=0;m<80;m++){var y=zV(C8(LV(n,VV(m,s,i,a),e[pke[m]+r],fke(m)),gke[m]),o);n=o,o=a,a=C8(i,10),i=s,s=y,y=zV(C8(LV(c,VV(79-m,l,u,f),e[mke[m]+r],hke(m)),bke[m]),h),c=h,h=f,f=C8(u,10),u=l,l=y}y=e2(this.h[1],i,f),this.h[1]=e2(this.h[2],a,h),this.h[2]=e2(this.h[3],o,c),this.h[3]=e2(this.h[4],n,l),this.h[4]=e2(this.h[0],s,u),this.h[0]=y};nf.prototype._digest=function(e){return e==="hex"?w1.toHex32(this.h,"little"):w1.split32(this.h,"little")};function VV(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function fke(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function hke(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var pke=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mke=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gke=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bke=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yke=zr,vke=lm;function wx(t,e,r){if(!(this instanceof wx))return new wx(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(yke.toArray(e,r))}var xke=wx;wx.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),vke(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};wx.prototype.update=function(e,r){return this.inner.update(e,r),this};wx.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=zr,e.common=ow,e.sha=cw,e.ripemd=Kse,e.hmac=xke,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(L1);const $f=La(L1);function uw(t,e,r){return r={path:e,exports:{},require:function(n,s){return wke(n,s??r.path)}},t(r,r.exports),r.exports}function wke(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var wF=Zse;function Zse(t,e){if(!t)throw new Error(e||"Assertion failed")}Zse.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var bu=uw(function(t,e){var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var l=0;l<a.length;l++)c[l]=a[l]|0;return c}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var l=0;l<a.length;l+=2)c.push(parseInt(a[l]+a[l+1],16))}else for(var l=0;l<a.length;l++){var u=a.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function s(a){return a.length===1?"0"+a:a}r.zero2=s;function i(a){for(var o="",c=0;c<a.length;c++)o+=s(a[c].toString(16));return o}r.toHex=i,r.encode=function(o,c){return c==="hex"?i(o):o}}),Sc=uw(function(t,e){var r=e;r.assert=wF,r.toArray=bu.toArray,r.zero2=bu.zero2,r.toHex=bu.toHex,r.encode=bu.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var m=1<<l+1,y=c.clone();for(h=0;h<f.length;h++){var x,k=y.andln(m-1);y.isOdd()?(k>(m>>1)-1?x=(m>>1)-k:x=k,y.isubn(x)):x=0,f[h]=x,y.iushrn(1)}return f}r.getNAF=n;function s(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,m;c.cmpn(-f)>0||l.cmpn(-h)>0;){var y=c.andln(3)+f&3,x=l.andln(3)+h&3;y===3&&(y=-1),x===3&&(x=-1);var k;y&1?(m=c.andln(7)+f&7,(m===3||m===5)&&x===2?k=-y:k=y):k=0,u[0].push(k);var C;x&1?(m=l.andln(7)+h&7,(m===3||m===5)&&y===2?C=-x:C=x):C=0,u[1].push(C),2*f===k+1&&(f=1-f),2*h===C+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=s;function i(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=i;function a(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=a;function o(c){return new dr(c,"hex","le")}r.intFromLE=o}),OA=Sc.getNAF,Ake=Sc.getJSF,BA=Sc.assert;function um(t,e){this.type=t,this.p=new dr(e.p,16),this.red=e.prime?dr.red(e.prime):dr.mont(this.p),this.zero=new dr(0).toRed(this.red),this.one=new dr(1).toRed(this.red),this.two=new dr(2).toRed(this.red),this.n=e.n&&new dr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var H1=um;um.prototype.point=function(){throw new Error("Not implemented")};um.prototype.validate=function(){throw new Error("Not implemented")};um.prototype._fixedNafMul=function(e,r){BA(e.precomputed);var n=e._getDoubles(),s=OA(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};um.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=OA(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];BA(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};um.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var y=u-1,x=u;if(a[y]!==1||a[x]!==1){c[y]=OA(n[y],a[y],this._bitLength),c[x]=OA(n[x],a[x],this._bitLength),l=Math.max(c[y].length,l),l=Math.max(c[x].length,l);continue}var k=[r[y],null,null,r[x]];r[y].y.cmp(r[x].y)===0?(k[1]=r[y].add(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg())):r[y].y.cmp(r[x].y.redNeg())===0?(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].add(r[x].neg())):(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],I=Ake(n[y],n[x]);for(l=Math.max(I[0].length,l),c[y]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=I[0][f]|0,O=I[1][f]|0;c[y][f]=C[(_+1)*3+(O+1)],c[x][f]=0,o[y]=k}}var F=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,F=F.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?F=F.mixedAdd(h):F=F.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?F:F.toP()};function Nl(t,e){this.curve=t,this.type=e,this.precomputed=null}um.BasePoint=Nl;Nl.prototype.eq=function(){throw new Error("Not implemented")};Nl.prototype.validate=function(){return this.curve.validate(this)};um.prototype.decodePoint=function(e,r){e=Sc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?BA(e[e.length-1]%2===0):e[0]===7&&BA(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nl.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nl.prototype.encode=function(e,r){return Sc.encode(this._encode(r),e)};Nl.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nl.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};Nl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};Nl.prototype._getBeta=function(){return null};Nl.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var AF=uw(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r}}}),Ske=Sc.assert;function El(t){H1.call(this,"short",t),this.a=new dr(t.a,16).toRed(this.red),this.b=new dr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}AF(El,H1);var Pke=El;El.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dr(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new dr(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Ske(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new dr(o.a,16),b:new dr(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};El.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:dr.mont(e),n=new dr(2).toRed(r).redInvm(),s=n.redNeg(),i=new dr(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};El.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new dr(1),a=new dr(0),o=new dr(0),c=new dr(1),l,u,f,h,m,y,x,k=0,C,I;n.cmpn(0)!==0;){var _=s.div(n);C=s.sub(_.mul(n)),I=o.sub(_.mul(i));var O=c.sub(_.mul(a));if(!f&&C.cmp(r)<0)l=x.neg(),u=i,f=C.neg(),h=I;else if(f&&++k===2)break;x=C,s=n,n=C,o=i,i=I,c=a,a=O}m=C.neg(),y=I;var F=f.sqr().add(h.sqr()),D=m.sqr().add(y.sqr());return D.cmp(F)>=0&&(m=l,y=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),y=y.neg()),[{a:f,b:h},{a:m,b:y}]};El.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};El.prototype.pointFromX=function(e,r){e=new dr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};El.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};El.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ni(t,e,r,n){H1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr(e,16),this.y=new dr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}AF(Ni,H1.BasePoint);El.prototype.point=function(e,r,n){return new Ni(this,e,r,n)};El.prototype.pointFromJSON=function(e,r){return Ni.fromJSON(this,e,r)};Ni.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ni.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ni.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ni.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ni.prototype.isInfinity=function(){return this.inf};Ni.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ni.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ni.prototype.getX=function(){return this.x.fromRed()};Ni.prototype.getY=function(){return this.y.fromRed()};Ni.prototype.mul=function(e){return e=new dr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ni.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ni.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ni.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ni.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ni.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qi(t,e,r,n){H1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr(0)):(this.x=new dr(e,16),this.y=new dr(r,16),this.z=new dr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}AF(Qi,H1.BasePoint);El.prototype.jpoint=function(e,r,n){return new Qi(this,e,r,n)};Qi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};Qi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),y=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,y,x)};Qi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),y=this.z.redMul(o);return this.curve.jpoint(h,m,y)};Qi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=y.redSqr().redISub(x.redAdd(x)),C=x.redISub(k),I=y.redMul(C);I=I.redIAdd(I).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=I}return this.curve.jpoint(a,u.redMul(i),c)};Qi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(f).redISub(m);y=y.redIAdd(y);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),C=m.redIAdd(m);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(y).redISub(y),r=x.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Qi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=y.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var C=h.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(x.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};Qi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,y,x)};Qi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,y)};Qi.prototype.mul=function(e,r){return e=new dr(e,r),this.curve._wnafMul(this,e)};Qi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};Qi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Qi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Q9=uw(function(t,e){var r=e;r.base=H1,r.short=Pke,r.mont=null,r.edwards=null}),Y9=uw(function(t,e){var r=e,n=Sc.assert;function s(o){o.type==="short"?this.curve=new Q9.short(o):o.type==="edwards"?this.curve=new Q9.edwards(o):this.curve=new Q9.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function i(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:l}),l}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$f.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$f.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$f.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$f.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$f.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$f.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$f.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$f.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Qp(t){if(!(this instanceof Qp))return new Qp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=bu.toArray(t.entropy,t.entropyEnc||"hex"),r=bu.toArray(t.nonce,t.nonceEnc||"hex"),n=bu.toArray(t.pers,t.persEnc||"hex");wF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Jse=Qp;Qp.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Qp.prototype._hmac=function(){return new $f.hmac(this.hash,this.K)};Qp.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Qp.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=bu.toArray(e,r),n=bu.toArray(n,s),wF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Qp.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=bu.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,bu.encode(a,r)};var Aj=Sc.assert;function $a(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var SF=$a;$a.fromPublic=function(e,r,n){return r instanceof $a?r:new $a(e,{pub:r,pubEnc:n})};$a.fromPrivate=function(e,r,n){return r instanceof $a?r:new $a(e,{priv:r,privEnc:n})};$a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};$a.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};$a.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};$a.prototype._importPrivate=function(e,r){this.priv=new dr(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};$a.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Aj(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Aj(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};$a.prototype.derive=function(e){return e.validate()||Aj(e.validate(),"public point not validated"),e.mul(this.priv).getX()};$a.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};$a.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};$a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kke=Sc.assert;function ck(t,e){if(t instanceof ck)return t;this._importDER(t,e)||(kke(t.r&&t.s,"Signature without r or s"),this.r=new dr(t.r,16),this.s=new dr(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var lk=ck;function Ike(){this.place=0}function yE(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function HV(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}ck.prototype._importDER=function(e,r){e=Sc.toArray(e,r);var n=new Ike;if(e[n.place++]!==48)return!1;var s=yE(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=yE(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=yE(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new dr(a),this.s=new dr(c),this.recoveryParam=null,!0};function vE(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}ck.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=HV(r),n=HV(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];vE(s,r.length),s=s.concat(r),s.push(2),vE(s,n.length);var i=s.concat(n),a=[48];return vE(a,i.length),a=a.concat(i),Sc.encode(a,e)};var Nke=function(){throw new Error("unsupported")},Jm=Sc.assert;function Sl(t){if(!(this instanceof Sl))return new Sl(t);typeof t=="string"&&(Jm(Object.prototype.hasOwnProperty.call(Y9,t),"Unknown curve "+t),t=Y9[t]),t instanceof Y9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Eke=Sl;Sl.prototype.keyPair=function(e){return new SF(this,e)};Sl.prototype.keyFromPrivate=function(e,r){return SF.fromPrivate(this,e,r)};Sl.prototype.keyFromPublic=function(e,r){return SF.fromPublic(this,e,r)};Sl.prototype.genKeyPair=function(e){e||(e={});for(var r=new Jse({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Nke(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new dr(2));;){var i=new dr(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Sl.prototype._truncateToN=function(e,r,n){var s;if(dr.isBN(e)||typeof e=="number")e=new dr(e,16),s=e.byteLength();else if(typeof e=="object")s=e.length,e=new dr(e,16);else{var i=e.toString();s=i.length+1>>>1,e=new dr(i,16)}typeof n!="number"&&(n=s*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Sl.prototype.sign=function(e,r,n,s){if(typeof n=="object"&&(s=n,n=null),s||(s={}),typeof e!="string"&&typeof e!="number"&&!dr.isBN(e)){Jm(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Jm(e.length>>>0===e.length);for(var i=0;i<e.length;i++)Jm((e[i]&255)===e[i])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,s.msgBitLength),Jm(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),c=e.toArray("be",a);Jm(new dr(c).eq(e),"Can not sign message");for(var l=new Jse({hash:this.hash,entropy:o,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),u=this.n.sub(new dr(1)),f=0;;f++){var h=s.k?s.k(f):new dr(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var m=this.g.mul(h);if(!m.isInfinity()){var y=m.getX(),x=y.umod(this.n);if(x.cmpn(0)!==0){var k=h.invm(this.n).mul(x.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(m.getY().isOdd()?1:0)|(y.cmp(x)!==0?2:0);return s.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new lk({r:x,s:k,recoveryParam:C})}}}}}};Sl.prototype.verify=function(e,r,n,s,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),n=this.keyFromPublic(n,s),r=new lk(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(a).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(a)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(a)===0)};Sl.prototype.recoverPubKey=function(t,e,r,n){Jm((3&r)===r,"The recovery param is more than two bits"),e=new lk(e,n);var s=this.n,i=new dr(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};Sl.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new lk(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var Cke=uw(function(t,e){var r=e;r.version="6.6.1",r.utils=Sc,r.rand=function(){throw new Error("unsupported")},r.curve=Q9,r.curves=Y9,r.ec=Eke,r.eddsa=null}),_ke=Cke.ec;const Tke="signing-key/5.8.0",Sj=new Kt(Tke);let xE=null;function F0(){return xE||(xE=new _ke("secp256k1")),xE}let jke=class{constructor(e){As(this,"curve","secp256k1"),As(this,"privateKey",_r(e)),Pse(this.privateKey)!==32&&Sj.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=F0().keyFromPrivate(Xr(this.privateKey));As(this,"publicKey","0x"+r.getPublic(!1,"hex")),As(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),As(this,"_isSigningKey",!0)}_addPoint(e){const r=F0().keyFromPublic(Xr(this.publicKey)),n=F0().keyFromPublic(Xr(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=F0().keyFromPrivate(Xr(this.privateKey)),n=Xr(e);n.length!==32&&Sj.throwArgumentError("bad digest length","digest",e);const s=r.sign(n,{canonical:!0});return nk({recoveryParam:s.recoveryParam,r:yl("0x"+s.r.toString(16),32),s:yl("0x"+s.s.toString(16),32)})}computeSharedSecret(e){const r=F0().keyFromPrivate(Xr(this.privateKey)),n=F0().keyFromPublic(Xr(PF(e)));return yl("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Qse(t,e){const r=nk(e),n={r:Xr(r.r),s:Xr(r.s)};return"0x"+F0().recoverPubKey(Xr(t),n,r.recoveryParam).encode("hex",!1)}function PF(t,e){const r=Xr(t);return r.length===32?new jke(r).publicKey:r.length===33?"0x"+F0().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?_r(r):Sj.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Mke="transactions/5.8.0",Hh=new Kt(Mke);var qV;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(qV||(qV={}));function kF(t){return t==="0x"?null:Th(t)}function Ea(t){return t==="0x"?Ese:cn.from(t)}function $ke(t){const e=PF(t);return Th(P6(bc(P6(e,1)),12))}function IF(t,e){return $ke(Qse(Xr(t),e))}function ic(t,e){const r=S6(cn.from(t).toHexString());return r.length>32&&Hh.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function wE(t,e){return{address:Th(t),storageKeys:(e||[]).map((r,n)=>(Pse(r)!==32&&Hh.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function NF(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Hh.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),wE(r[0],r[1])):wE(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return wE(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Yse(t){return NF(t).map(e=>[e.address,e.storageKeys])}function Oke(t,e){if(t.gasPrice!=null){const n=cn.from(t.gasPrice),s=cn.from(t.maxFeePerGas||0);n.eq(s)||Hh.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:s})}const r=[ic(t.chainId||0,"chainId"),ic(t.nonce||0,"nonce"),ic(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ic(t.maxFeePerGas||0,"maxFeePerGas"),ic(t.gasLimit||0,"gasLimit"),t.to!=null?Th(t.to):"0x",ic(t.value||0,"value"),t.data||"0x",Yse(t.accessList||[])];if(e){const n=nk(e);r.push(ic(n.recoveryParam,"recoveryParam")),r.push(S6(n.r)),r.push(S6(n.s))}return yF(["0x02",sk(r)])}function Bke(t,e){const r=[ic(t.chainId||0,"chainId"),ic(t.nonce||0,"nonce"),ic(t.gasPrice||0,"gasPrice"),ic(t.gasLimit||0,"gasLimit"),t.to!=null?Th(t.to):"0x",ic(t.value||0,"value"),t.data||"0x",Yse(t.accessList||[])];if(e){const n=nk(e);r.push(ic(n.recoveryParam,"recoveryParam")),r.push(S6(n.r)),r.push(S6(n.s))}return yF(["0x01",sk(r)])}function Gse(t,e,r){try{const n=Ea(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Hh.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=yl(e[1],32),t.s=yl(e[2],32);try{const n=bc(r(t));t.from=IF(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Fke(t){const e=ik(t.slice(1));e.length!==9&&e.length!==12&&Hh.throwArgumentError("invalid component count for transaction type: 2","payload",_r(t));const r=Ea(e[2]),n=Ea(e[3]),s={type:2,chainId:Ea(e[0]).toNumber(),nonce:Ea(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ea(e[4]),to:kF(e[5]),value:Ea(e[6]),data:e[7],accessList:NF(e[8])};return e.length===9||(s.hash=bc(t),Gse(s,e.slice(9),Oke)),s}function Rke(t){const e=ik(t.slice(1));e.length!==8&&e.length!==11&&Hh.throwArgumentError("invalid component count for transaction type: 1","payload",_r(t));const r={type:1,chainId:Ea(e[0]).toNumber(),nonce:Ea(e[1]).toNumber(),gasPrice:Ea(e[2]),gasLimit:Ea(e[3]),to:kF(e[4]),value:Ea(e[5]),data:e[6],accessList:NF(e[7])};return e.length===8||(r.hash=bc(t),Gse(r,e.slice(8),Bke)),r}function Dke(t){const e=ik(t);e.length!==9&&e.length!==6&&Hh.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ea(e[0]).toNumber(),gasPrice:Ea(e[1]),gasLimit:Ea(e[2]),to:kF(e[3]),value:Ea(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=cn.from(e[6]).toNumber()}catch{return r}if(r.r=yl(e[7],32),r.s=yl(e[8],32),cn.from(r.r).isZero()&&cn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const s=e.slice(0,6);r.chainId!==0&&(s.push(_r(r.chainId)),s.push("0x"),s.push("0x"),n-=r.chainId*2+8);const i=bc(sk(s));try{r.from=IF(i,{r:_r(r.r),s:_r(r.s),recoveryParam:n})}catch{}r.hash=bc(t)}return r.type=null,r}function eie(t){const e=Xr(t);if(e[0]>127)return Dke(e);switch(e[0]){case 1:return Rke(e);case 2:return Fke(e)}return Hh.throwError(`unsupported transaction type: ${e[0]}`,Kt.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Uke=st("EthAppPleaseEnableContractData"),zke=st("EthAppNftNotSupported"),Lke=st("CeloAppPleaseEnableContractData");var Pj={exports:{}};const Vke="2.0.0",tie=256,Hke=Number.MAX_SAFE_INTEGER||9007199254740991,qke=16,Wke=tie-6,Kke=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var uk={MAX_LENGTH:tie,MAX_SAFE_COMPONENT_LENGTH:qke,MAX_SAFE_BUILD_LENGTH:Wke,MAX_SAFE_INTEGER:Hke,RELEASE_TYPES:Kke,SEMVER_SPEC_VERSION:Vke,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},AE={};const Xke=typeof process=="object"&&AE&&AE.NODE_DEBUG&&/\bsemver\b/i.test(AE.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var dk=Xke;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=uk,i=dk;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[h,n]],y=k=>{for(const[C,I]of m)k=k.split(`${C}*`).join(`${C}{0,${I}}`).split(`${C}+`).join(`${C}{1,${I}}`);return k},x=(k,C,I)=>{const _=y(C),O=f++;i(k,O,C),u[k]=O,c[O]=C,l[O]=_,a[O]=new RegExp(C,I?"g":void 0),o[O]=new RegExp(_,I?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),x("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${h}+`),x("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),x("FULL",`^${c[u.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),x("LOOSE",`^${c[u.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),x("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",c[u.COERCE],!0),x("COERCERTLFULL",c[u.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Pj,Pj.exports);var K4=Pj.exports;const Zke=Object.freeze({loose:!0}),Jke=Object.freeze({}),Qke=t=>t?typeof t!="object"?Zke:t:Jke;var EF=Qke;const WV=/^[0-9]+$/,rie=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=WV.test(t),n=WV.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Yke=(t,e)=>rie(e,t);var nie={compareIdentifiers:rie,rcompareIdentifiers:Yke};const _8=dk,{MAX_LENGTH:KV,MAX_SAFE_INTEGER:T8}=uk,{safeRe:j8,t:M8}=K4,Gke=EF,{compareIdentifiers:SE}=nie;let eIe=class Gu{constructor(e,r){if(r=Gke(r),e instanceof Gu){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>KV)throw new TypeError(`version is longer than ${KV} characters`);_8("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?j8[M8.LOOSE]:j8[M8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>T8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>T8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>T8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<T8)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_8("SemVer.compare",this.version,this.options,e),!(e instanceof Gu)){if(typeof e=="string"&&e===this.version)return 0;e=new Gu(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Gu||(e=new Gu(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof Gu||(e=new Gu(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(_8("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return SE(n,s)}while(++r)}compareBuild(e){e instanceof Gu||(e=new Gu(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(_8("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return SE(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?j8[M8.PRERELEASELOOSE]:j8[M8.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),SE(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var co=eIe;const XV=co,tIe=(t,e,r=!1)=>{if(t instanceof XV)return t;try{return new XV(t,e)}catch(n){if(!r)return null;throw n}};var dw=tIe;const rIe=dw,nIe=(t,e)=>{const r=rIe(t,e);return r?r.version:null};var sIe=nIe;const iIe=dw,aIe=(t,e)=>{const r=iIe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var oIe=aIe;const ZV=co,cIe=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new ZV(t instanceof ZV?t.version:t,r).inc(e,n,s).version}catch{return null}};var lIe=cIe;const JV=dw,uIe=(t,e)=>{const r=JV(t,null,!0),n=JV(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,a=i?r:n,o=i?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var dIe=uIe;const fIe=co,hIe=(t,e)=>new fIe(t,e).major;var pIe=hIe;const mIe=co,gIe=(t,e)=>new mIe(t,e).minor;var bIe=gIe;const yIe=co,vIe=(t,e)=>new yIe(t,e).patch;var xIe=vIe;const wIe=dw,AIe=(t,e)=>{const r=wIe(t,e);return r&&r.prerelease.length?r.prerelease:null};var SIe=AIe;const QV=co,PIe=(t,e,r)=>new QV(t,r).compare(new QV(e,r));var Du=PIe;const kIe=Du,IIe=(t,e,r)=>kIe(e,t,r);var NIe=IIe;const EIe=Du,CIe=(t,e)=>EIe(t,e,!0);var _Ie=CIe;const YV=co,TIe=(t,e,r)=>{const n=new YV(t,r),s=new YV(e,r);return n.compare(s)||n.compareBuild(s)};var CF=TIe;const jIe=CF,MIe=(t,e)=>t.sort((r,n)=>jIe(r,n,e));var $Ie=MIe;const OIe=CF,BIe=(t,e)=>t.sort((r,n)=>OIe(n,r,e));var FIe=BIe;const RIe=Du,DIe=(t,e,r)=>RIe(t,e,r)>0;var fk=DIe;const UIe=Du,zIe=(t,e,r)=>UIe(t,e,r)<0;var _F=zIe;const LIe=Du,VIe=(t,e,r)=>LIe(t,e,r)===0;var sie=VIe;const HIe=Du,qIe=(t,e,r)=>HIe(t,e,r)!==0;var iie=qIe;const WIe=Du,KIe=(t,e,r)=>WIe(t,e,r)>=0;var TF=KIe;const XIe=Du,ZIe=(t,e,r)=>XIe(t,e,r)<=0;var jF=ZIe;const JIe=sie,QIe=iie,YIe=fk,GIe=TF,eNe=_F,tNe=jF,rNe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return JIe(t,r,n);case"!=":return QIe(t,r,n);case">":return YIe(t,r,n);case">=":return GIe(t,r,n);case"<":return eNe(t,r,n);case"<=":return tNe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var aie=rNe;const nNe=co,sNe=dw,{safeRe:$8,t:O8}=K4,iNe=(t,e)=>{if(t instanceof nNe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?$8[O8.COERCEFULL]:$8[O8.COERCE]);else{const c=e.includePrerelease?$8[O8.COERCERTLFULL]:$8[O8.COERCERTL];let l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return sNe(`${n}.${s}.${i}${a}${o}`,e)};var aNe=iNe;class oNe{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}}var cNe=oNe,PE,GV;function Uu(){if(GV)return PE;GV=1;const t=/\s+/g;class e{constructor(g,S){if(S=s(S),g instanceof e)return g.loose===!!S.loose&&g.includePrerelease===!!S.includePrerelease?g:new e(g.raw,S);if(g instanceof i)return this.raw=g.value,this.set=[[g]],this.formatted=void 0,this;if(this.options=S,this.loose=!!S.loose,this.includePrerelease=!!S.includePrerelease,this.raw=g.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(P=>!x(P[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&k(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let g=0;g<this.set.length;g++){g>0&&(this.formatted+="||");const S=this.set[g];for(let N=0;N<S.length;N++)N>0&&(this.formatted+=" "),this.formatted+=S[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(g){const N=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+g,P=n.get(N);if(P)return P;const A=this.options.loose,v=A?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];g=g.replace(v,b(this.options.includePrerelease)),a("hyphen replace",g),g=g.replace(c[l.COMPARATORTRIM],u),a("comparator trim",g),g=g.replace(c[l.TILDETRIM],f),a("tilde trim",g),g=g.replace(c[l.CARETTRIM],h),a("caret trim",g);let E=g.split(" ").map(U=>I(U,this.options)).join(" ").split(/\s+/).map(U=>$(U,this.options));A&&(E=E.filter(U=>(a("loose invalid filter",U,this.options),!!U.match(c[l.COMPARATORLOOSE])))),a("range list",E);const M=new Map,L=E.map(U=>new i(U,this.options));for(const U of L){if(x(U))return[U];M.set(U.value,U)}M.size>1&&M.has("")&&M.delete("");const Q=[...M.values()];return n.set(N,Q),Q}intersects(g,S){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>C(N,S)&&g.set.some(P=>C(P,S)&&N.every(A=>P.every(v=>A.intersects(v,S)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let S=0;S<this.set.length;S++)if(w(this.set[S],g,this.options))return!0;return!1}}PE=e;const r=cNe,n=new r,s=EF,i=hk(),a=dk,o=co,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:h}=K4,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=uk,x=p=>p.value==="<0.0.0-0",k=p=>p.value==="",C=(p,g)=>{let S=!0;const N=p.slice();let P=N.pop();for(;S&&N.length;)S=N.every(A=>P.intersects(A,g)),P=N.pop();return S},I=(p,g)=>(p=p.replace(c[l.BUILD],""),a("comp",p,g),p=D(p,g),a("caret",p),p=O(p,g),a("tildes",p),p=T(p,g),a("xrange",p),p=q(p,g),a("stars",p),p),_=p=>!p||p.toLowerCase()==="x"||p==="*",O=(p,g)=>p.trim().split(/\s+/).map(S=>F(S,g)).join(" "),F=(p,g)=>{const S=g.loose?c[l.TILDELOOSE]:c[l.TILDE];return p.replace(S,(N,P,A,v,E)=>{a("tilde",p,N,P,A,v,E);let M;return _(P)?M="":_(A)?M=`>=${P}.0.0 <${+P+1}.0.0-0`:_(v)?M=`>=${P}.${A}.0 <${P}.${+A+1}.0-0`:E?(a("replaceTilde pr",E),M=`>=${P}.${A}.${v}-${E} <${P}.${+A+1}.0-0`):M=`>=${P}.${A}.${v} <${P}.${+A+1}.0-0`,a("tilde return",M),M})},D=(p,g)=>p.trim().split(/\s+/).map(S=>j(S,g)).join(" "),j=(p,g)=>{a("caret",p,g);const S=g.loose?c[l.CARETLOOSE]:c[l.CARET],N=g.includePrerelease?"-0":"";return p.replace(S,(P,A,v,E,M)=>{a("caret",p,P,A,v,E,M);let L;return _(A)?L="":_(v)?L=`>=${A}.0.0${N} <${+A+1}.0.0-0`:_(E)?A==="0"?L=`>=${A}.${v}.0${N} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.0${N} <${+A+1}.0.0-0`:M?(a("replaceCaret pr",M),A==="0"?v==="0"?L=`>=${A}.${v}.${E}-${M} <${A}.${v}.${+E+1}-0`:L=`>=${A}.${v}.${E}-${M} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.${E}-${M} <${+A+1}.0.0-0`):(a("no pr"),A==="0"?v==="0"?L=`>=${A}.${v}.${E}${N} <${A}.${v}.${+E+1}-0`:L=`>=${A}.${v}.${E}${N} <${A}.${+v+1}.0-0`:L=`>=${A}.${v}.${E} <${+A+1}.0.0-0`),a("caret return",L),L})},T=(p,g)=>(a("replaceXRanges",p,g),p.split(/\s+/).map(S=>R(S,g)).join(" ")),R=(p,g)=>{p=p.trim();const S=g.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return p.replace(S,(N,P,A,v,E,M)=>{a("xRange",p,N,P,A,v,E,M);const L=_(A),Q=L||_(v),U=Q||_(E),J=U;return P==="="&&J&&(P=""),M=g.includePrerelease?"-0":"",L?P===">"||P==="<"?N="<0.0.0-0":N="*":P&&J?(Q&&(v=0),E=0,P===">"?(P=">=",Q?(A=+A+1,v=0,E=0):(v=+v+1,E=0)):P==="<="&&(P="<",Q?A=+A+1:v=+v+1),P==="<"&&(M="-0"),N=`${P+A}.${v}.${E}${M}`):Q?N=`>=${A}.0.0${M} <${+A+1}.0.0-0`:U&&(N=`>=${A}.${v}.0${M} <${A}.${+v+1}.0-0`),a("xRange return",N),N})},q=(p,g)=>(a("replaceStars",p,g),p.trim().replace(c[l.STAR],"")),$=(p,g)=>(a("replaceGTE0",p,g),p.trim().replace(c[g.includePrerelease?l.GTE0PRE:l.GTE0],"")),b=p=>(g,S,N,P,A,v,E,M,L,Q,U,J)=>(_(N)?S="":_(P)?S=`>=${N}.0.0${p?"-0":""}`:_(A)?S=`>=${N}.${P}.0${p?"-0":""}`:v?S=`>=${S}`:S=`>=${S}${p?"-0":""}`,_(L)?M="":_(Q)?M=`<${+L+1}.0.0-0`:_(U)?M=`<${L}.${+Q+1}.0-0`:J?M=`<=${L}.${Q}.${U}-${J}`:p?M=`<${L}.${Q}.${+U+1}-0`:M=`<=${M}`,`${S} ${M}`.trim()),w=(p,g,S)=>{for(let N=0;N<p.length;N++)if(!p[N].test(g))return!1;if(g.prerelease.length&&!S.includePrerelease){for(let N=0;N<p.length;N++)if(a(p[N].semver),p[N].semver!==i.ANY&&p[N].semver.prerelease.length>0){const P=p[N].semver;if(P.major===g.major&&P.minor===g.minor&&P.patch===g.patch)return!0}return!1}return!0};return PE}var kE,eH;function hk(){if(eH)return kE;eH=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}kE=e;const r=EF,{safeRe:n,t:s}=K4,i=aie,a=dk,o=co,c=Uu();return kE}const lNe=Uu(),uNe=(t,e,r)=>{try{e=new lNe(e,r)}catch{return!1}return e.test(t)};var pk=uNe;const dNe=Uu(),fNe=(t,e)=>new dNe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var hNe=fNe;const pNe=co,mNe=Uu(),gNe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new mNe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new pNe(n,r))}),n};var bNe=gNe;const yNe=co,vNe=Uu(),xNe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new vNe(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new yNe(n,r))}),n};var wNe=xNe;const IE=co,ANe=Uu(),tH=fk,SNe=(t,e)=>{t=new ANe(t,e);let r=new IE("0.0.0");if(t.test(r)||(r=new IE("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(a=>{const o=new IE(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||tH(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||tH(r,i))&&(r=i)}return r&&t.test(r)?r:null};var PNe=SNe;const kNe=Uu(),INe=(t,e)=>{try{return new kNe(t,e).range||"*"}catch{return null}};var NNe=INe;const ENe=co,oie=hk(),{ANY:CNe}=oie,_Ne=Uu(),TNe=pk,rH=fk,nH=_F,jNe=jF,MNe=TF,$Ne=(t,e,r,n)=>{t=new ENe(t,n),e=new _Ne(e,n);let s,i,a,o,c;switch(r){case">":s=rH,i=jNe,a=nH,o=">",c=">=";break;case"<":s=nH,i=MNe,a=rH,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(TNe(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(m=>{m.semver===CNe&&(m=new oie(">=0.0.0")),f=f||m,h=h||m,s(m.semver,f.semver,n)?f=m:a(m.semver,h.semver,n)&&(h=m)}),f.operator===o||f.operator===c||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===c&&a(t,h.semver))return!1}return!0};var MF=$Ne;const ONe=MF,BNe=(t,e,r)=>ONe(t,e,">",r);var FNe=BNe;const RNe=MF,DNe=(t,e,r)=>RNe(t,e,"<",r);var UNe=DNe;const sH=Uu(),zNe=(t,e,r)=>(t=new sH(t,r),e=new sH(e,r),t.intersects(e,r));var LNe=zNe;const VNe=pk,HNe=Du;var qNe=(t,e,r)=>{const n=[];let s=null,i=null;const a=t.sort((u,f)=>HNe(u,f,r));for(const u of a)VNe(u,e,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const o=[];for(const[u,f]of n)u===f?o.push(u):!f&&u===a[0]?o.push("*"):f?u===a[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const iH=Uu(),$F=hk(),{ANY:NE}=$F,t2=pk,OF=Du,WNe=(t,e,r={})=>{if(t===e)return!0;t=new iH(t,r),e=new iH(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const a=XNe(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},KNe=[new $F(">=0.0.0-0")],aH=[new $F(">=0.0.0")],XNe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===NE){if(e.length===1&&e[0].semver===NE)return!0;r.includePrerelease?t=KNe:t=aH}if(e.length===1&&e[0].semver===NE){if(r.includePrerelease)return!0;e=aH}const n=new Set;let s,i;for(const m of t)m.operator===">"||m.operator===">="?s=oH(s,m,r):m.operator==="<"||m.operator==="<="?i=cH(i,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(s&&i){if(a=OF(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!t2(m,String(s),r)||i&&!t2(m,String(i),r))return null;for(const y of e)if(!t2(m,String(y),r))return!1;return!0}let o,c,l,u,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of e){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(o=oH(s,m,r),o===m&&o!==s)return!1}else if(s.operator===">="&&!t2(s.semver,String(m),r))return!1}if(i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(c=cH(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!t2(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&a!==0)return!1}return!(s&&l&&!i&&a!==0||i&&u&&!s&&a!==0||h||f)},oH=(t,e,r)=>{if(!t)return e;const n=OF(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},cH=(t,e,r)=>{if(!t)return e;const n=OF(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var ZNe=WNe;const EE=K4,lH=uk,JNe=co,uH=nie,QNe=dw,YNe=sIe,GNe=oIe,eEe=lIe,tEe=dIe,rEe=pIe,nEe=bIe,sEe=xIe,iEe=SIe,aEe=Du,oEe=NIe,cEe=_Ie,lEe=CF,uEe=$Ie,dEe=FIe,fEe=fk,hEe=_F,pEe=sie,mEe=iie,gEe=TF,bEe=jF,yEe=aie,vEe=aNe,xEe=hk(),wEe=Uu(),AEe=pk,SEe=hNe,PEe=bNe,kEe=wNe,IEe=PNe,NEe=NNe,EEe=MF,CEe=FNe,_Ee=UNe,TEe=LNe,jEe=qNe,MEe=ZNe;var $Ee={parse:QNe,valid:YNe,clean:GNe,inc:eEe,diff:tEe,major:rEe,minor:nEe,patch:sEe,prerelease:iEe,compare:aEe,rcompare:oEe,compareLoose:cEe,compareBuild:lEe,sort:uEe,rsort:dEe,gt:fEe,lt:hEe,eq:pEe,neq:mEe,gte:gEe,lte:bEe,cmp:yEe,coerce:vEe,Comparator:xEe,Range:wEe,satisfies:AEe,toComparators:SEe,maxSatisfying:PEe,minSatisfying:kEe,minVersion:IEe,validRange:NEe,outside:EEe,gtr:CEe,ltr:_Ee,intersects:TEe,simplifyRange:jEe,subset:MEe,SemVer:JNe,re:EE.re,src:EE.src,tokens:EE.t,SEMVER_SPEC_VERSION:lH.SEMVER_SPEC_VERSION,RELEASE_TYPES:lH.RELEASE_TYPES,compareIdentifiers:uH.compareIdentifiers,rcompareIdentifiers:uH.rcompareIdentifiers};const dH=La($Ee);function cie(t,e){return function(){return t.apply(e,arguments)}}const{toString:OEe}=Object.prototype,{getPrototypeOf:BF}=Object,{iterator:mk,toStringTag:lie}=Symbol,gk=(t=>e=>{const r=OEe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zu=t=>(t=t.toLowerCase(),e=>gk(e)===t),bk=t=>e=>typeof e===t,{isArray:fw}=Array,Ax=bk("undefined");function X4(t){return t!==null&&!Ax(t)&&t.constructor!==null&&!Ax(t.constructor)&&Bo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uie=zu("ArrayBuffer");function BEe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&uie(t.buffer),e}const FEe=bk("string"),Bo=bk("function"),die=bk("number"),Z4=t=>t!==null&&typeof t=="object",REe=t=>t===!0||t===!1,G9=t=>{if(gk(t)!=="object")return!1;const e=BF(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lie in t)&&!(mk in t)},DEe=t=>{if(!Z4(t)||X4(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},UEe=zu("Date"),zEe=zu("File"),LEe=zu("Blob"),VEe=zu("FileList"),HEe=t=>Z4(t)&&Bo(t.pipe),qEe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bo(t.append)&&((e=gk(t))==="formdata"||e==="object"&&Bo(t.toString)&&t.toString()==="[object FormData]"))},WEe=zu("URLSearchParams"),[KEe,XEe,ZEe,JEe]=["ReadableStream","Request","Response","Headers"].map(zu),QEe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J4(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),fw(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(X4(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function fie(t,e){if(X4(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const cg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hie=t=>!Ax(t)&&t!==cg;function kj(){const{caseless:t,skipUndefined:e}=hie(this)&&this||{},r={},n=(s,i)=>{const a=t&&fie(r,i)||i;G9(r[a])&&G9(s)?r[a]=kj(r[a],s):G9(s)?r[a]=kj({},s):fw(s)?r[a]=s.slice():(!e||!Ax(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&J4(arguments[s],n);return r}const YEe=(t,e,r,{allOwnKeys:n}={})=>(J4(e,(s,i)=>{r&&Bo(s)?t[i]=cie(s,r):t[i]=s},{allOwnKeys:n}),t),GEe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),eCe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},tCe=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&BF(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},rCe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},nCe=t=>{if(!t)return null;if(fw(t))return t;let e=t.length;if(!die(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},sCe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&BF(Uint8Array)),iCe=(t,e)=>{const n=(t&&t[mk]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},aCe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},oCe=zu("HTMLFormElement"),cCe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),fH=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),lCe=zu("RegExp"),pie=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};J4(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},uCe=t=>{pie(t,(e,r)=>{if(Bo(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Bo(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},dCe=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return fw(t)?n(t):n(String(t).split(e)),r},fCe=()=>{},hCe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function pCe(t){return!!(t&&Bo(t.append)&&t[lie]==="FormData"&&t[mk])}const mCe=t=>{const e=new Array(10),r=(n,s)=>{if(Z4(n)){if(e.indexOf(n)>=0)return;if(X4(n))return n;if(!("toJSON"in n)){e[s]=n;const i=fw(n)?[]:{};return J4(n,(a,o)=>{const c=r(a,s+1);!Ax(c)&&(i[o]=c)}),e[s]=void 0,i}}return n};return r(t,0)},gCe=zu("AsyncFunction"),bCe=t=>t&&(Z4(t)||Bo(t))&&Bo(t.then)&&Bo(t.catch),mie=((t,e)=>t?setImmediate:e?((r,n)=>(cg.addEventListener("message",({source:s,data:i})=>{s===cg&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),cg.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Bo(cg.postMessage)),yCe=typeof queueMicrotask<"u"?queueMicrotask.bind(cg):typeof process<"u"&&process.nextTick||mie,vCe=t=>t!=null&&Bo(t[mk]),Ge={isArray:fw,isArrayBuffer:uie,isBuffer:X4,isFormData:qEe,isArrayBufferView:BEe,isString:FEe,isNumber:die,isBoolean:REe,isObject:Z4,isPlainObject:G9,isEmptyObject:DEe,isReadableStream:KEe,isRequest:XEe,isResponse:ZEe,isHeaders:JEe,isUndefined:Ax,isDate:UEe,isFile:zEe,isBlob:LEe,isRegExp:lCe,isFunction:Bo,isStream:HEe,isURLSearchParams:WEe,isTypedArray:sCe,isFileList:VEe,forEach:J4,merge:kj,extend:YEe,trim:QEe,stripBOM:GEe,inherits:eCe,toFlatObject:tCe,kindOf:gk,kindOfTest:zu,endsWith:rCe,toArray:nCe,forEachEntry:iCe,matchAll:aCe,isHTMLForm:oCe,hasOwnProperty:fH,hasOwnProp:fH,reduceDescriptors:pie,freezeMethods:uCe,toObjectSet:dCe,toCamelCase:cCe,noop:fCe,toFiniteNumber:hCe,findKey:fie,global:cg,isContextDefined:hie,isSpecCompliantForm:pCe,toJSONObject:mCe,isAsyncFn:gCe,isThenable:bCe,setImmediate:mie,asap:yCe,isIterable:vCe};function xr(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ge.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const gie=xr.prototype,bie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bie[t]={value:t}});Object.defineProperties(xr,bie);Object.defineProperty(gie,"isAxiosError",{value:!0});xr.from=(t,e,r,n,s,i)=>{const a=Object.create(gie);Ge.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return xr.call(a,o,c,r,n,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const xCe=null;function Ij(t){return Ge.isPlainObject(t)||Ge.isArray(t)}function yie(t){return Ge.endsWith(t,"[]")?t.slice(0,-2):t}function hH(t,e,r){return t?t.concat(e).map(function(s,i){return s=yie(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function wCe(t){return Ge.isArray(t)&&!t.some(Ij)}const ACe=Ge.toFlatObject(Ge,{},null,function(e){return/^is[A-Z]/.test(e)});function yk(t,e,r){if(!Ge.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,k){return!Ge.isUndefined(k[x])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(e);if(!Ge.isFunction(s))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(Ge.isDate(y))return y.toISOString();if(Ge.isBoolean(y))return y.toString();if(!c&&Ge.isBlob(y))throw new xr("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(y)||Ge.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,k){let C=y;if(y&&!k&&typeof y=="object"){if(Ge.endsWith(x,"{}"))x=n?x:x.slice(0,-2),y=JSON.stringify(y);else if(Ge.isArray(y)&&wCe(y)||(Ge.isFileList(y)||Ge.endsWith(x,"[]"))&&(C=Ge.toArray(y)))return x=yie(x),C.forEach(function(_,O){!(Ge.isUndefined(_)||_===null)&&e.append(a===!0?hH([x],O,i):a===null?x:x+"[]",l(_))}),!1}return Ij(y)?!0:(e.append(hH(k,x,i),l(y)),!1)}const f=[],h=Object.assign(ACe,{defaultVisitor:u,convertValue:l,isVisitable:Ij});function m(y,x){if(!Ge.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(y),Ge.forEach(y,function(C,I){(!(Ge.isUndefined(C)||C===null)&&s.call(e,C,Ge.isString(I)?I.trim():I,x,h))===!0&&m(C,x?x.concat(I):[I])}),f.pop()}}if(!Ge.isObject(t))throw new TypeError("data must be an object");return m(t),e}function pH(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function FF(t,e){this._pairs=[],t&&yk(t,this,e)}const vie=FF.prototype;vie.append=function(e,r){this._pairs.push([e,r])};vie.toString=function(e){const r=e?function(n){return e.call(this,n,pH)}:pH;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function SCe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xie(t,e,r){if(!e)return t;const n=r&&r.encode||SCe;Ge.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Ge.isURLSearchParams(e)?e.toString():new FF(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class mH{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ge.forEach(this.handlers,function(n){n!==null&&e(n)})}}const wie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PCe=typeof URLSearchParams<"u"?URLSearchParams:FF,kCe=typeof FormData<"u"?FormData:null,ICe=typeof Blob<"u"?Blob:null,NCe={isBrowser:!0,classes:{URLSearchParams:PCe,FormData:kCe,Blob:ICe},protocols:["http","https","file","blob","url","data"]},RF=typeof window<"u"&&typeof document<"u",Nj=typeof navigator=="object"&&navigator||void 0,ECe=RF&&(!Nj||["ReactNative","NativeScript","NS"].indexOf(Nj.product)<0),CCe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_Ce=RF&&window.location.href||"http://localhost",TCe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RF,hasStandardBrowserEnv:ECe,hasStandardBrowserWebWorkerEnv:CCe,navigator:Nj,origin:_Ce},Symbol.toStringTag,{value:"Module"})),Ca={...TCe,...NCe};function jCe(t,e){return yk(t,new Ca.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ca.isNode&&Ge.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function MCe(t){return Ge.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $Ce(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function Aie(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=r.length;return a=!a&&Ge.isArray(s)?s.length:a,c?(Ge.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!Ge.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&Ge.isArray(s[a])&&(s[a]=$Ce(s[a])),!o)}if(Ge.isFormData(t)&&Ge.isFunction(t.entries)){const r={};return Ge.forEachEntry(t,(n,s)=>{e(MCe(n),s,r,0)}),r}return null}function OCe(t,e,r){if(Ge.isString(t))try{return(e||JSON.parse)(t),Ge.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const Q4={transitional:wie,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ge.isObject(e);if(i&&Ge.isHTMLForm(e)&&(e=new FormData(e)),Ge.isFormData(e))return s?JSON.stringify(Aie(e)):e;if(Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)||Ge.isReadableStream(e))return e;if(Ge.isArrayBufferView(e))return e.buffer;if(Ge.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jCe(e,this.formSerializer).toString();if((o=Ge.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yk(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),OCe(e)):e}],transformResponse:[function(e){const r=this.transitional||Q4.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ge.isResponse(e)||Ge.isReadableStream(e))return e;if(e&&Ge.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?xr.from(o,xr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ca.classes.FormData,Blob:Ca.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],t=>{Q4.headers[t]={}});const BCe=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FCe=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&BCe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},gH=Symbol("internals");function r2(t){return t&&String(t).trim().toLowerCase()}function e7(t){return t===!1||t==null?t:Ge.isArray(t)?t.map(e7):String(t)}function RCe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const DCe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function CE(t,e,r,n,s){if(Ge.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Ge.isString(e)){if(Ge.isString(n))return e.indexOf(n)!==-1;if(Ge.isRegExp(n))return n.test(e)}}function UCe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function zCe(t,e){const r=Ge.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}class Fo{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,c,l){const u=r2(c);if(!u)throw new Error("header name must be a non-empty string");const f=Ge.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=e7(o))}const a=(o,c)=>Ge.forEach(o,(l,u)=>i(l,u,c));if(Ge.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Ge.isString(e)&&(e=e.trim())&&!DCe(e))a(FCe(e),r);else if(Ge.isObject(e)&&Ge.isIterable(e)){let o={},c,l;for(const u of e){if(!Ge.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[l=u[0]]=(c=o[l])?Ge.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(o,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=r2(e),e){const n=Ge.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return RCe(s);if(Ge.isFunction(r))return r.call(this,s,n);if(Ge.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=r2(e),e){const n=Ge.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||CE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=r2(a),a){const o=Ge.findKey(n,a);o&&(!r||CE(n,n[o],o,r))&&(delete n[o],s=!0)}}return Ge.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||CE(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Ge.forEach(this,(s,i)=>{const a=Ge.findKey(n,i);if(a){r[a]=e7(s),delete r[i];return}const o=e?UCe(i):String(i).trim();o!==i&&delete r[i],r[o]=e7(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ge.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Ge.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[gH]=this[gH]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=r2(a);n[o]||(zCe(s,a),n[o]=!0)}return Ge.isArray(e)?e.forEach(i):i(e),this}}Fo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(Fo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ge.freezeMethods(Fo);function _E(t,e){const r=this||Q4,n=e||r,s=Fo.from(n.headers);let i=n.data;return Ge.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Sie(t){return!!(t&&t.__CANCEL__)}function hw(t,e,r){xr.call(this,t??"canceled",xr.ERR_CANCELED,e,r),this.name="CanceledError"}Ge.inherits(hw,xr,{__CANCEL__:!0});function Pie(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new xr("Request failed with status code "+r.status,[xr.ERR_BAD_REQUEST,xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function LCe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VCe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[i];a||(a=l),r[s]=c,n[s]=l;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-a<e)return;const m=u&&l-u;return m?Math.round(h*1e3/m):void 0}}function HCe(t,e){let r=0,n=1e3/e,s,i;const a=(l,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t(...l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?a(l,u):(s=l,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const FA=(t,e,r=3)=>{let n=0;const s=VCe(50,250);return HCe(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-n,l=s(c),u=a<=o;n=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:l||void 0,estimated:l&&o&&u?(o-a)/l:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},bH=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},yH=t=>(...e)=>Ge.asap(()=>t(...e)),qCe=Ca.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ca.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ca.origin),Ca.navigator&&/(msie|trident)/i.test(Ca.navigator.userAgent)):()=>!0,WCe=Ca.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];Ge.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ge.isString(n)&&a.push("path="+n),Ge.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KCe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XCe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kie(t,e,r){let n=!KCe(e);return t&&(n||r==!1)?XCe(t,e):e}const vH=t=>t instanceof Fo?{...t}:t;function A1(t,e){e=e||{};const r={};function n(l,u,f,h){return Ge.isPlainObject(l)&&Ge.isPlainObject(u)?Ge.merge.call({caseless:h},l,u):Ge.isPlainObject(u)?Ge.merge({},u):Ge.isArray(u)?u.slice():u}function s(l,u,f,h){if(Ge.isUndefined(u)){if(!Ge.isUndefined(l))return n(void 0,l,f,h)}else return n(l,u,f,h)}function i(l,u){if(!Ge.isUndefined(u))return n(void 0,u)}function a(l,u){if(Ge.isUndefined(u)){if(!Ge.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function o(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(l,u,f)=>s(vH(l),vH(u),f,!0)};return Ge.forEach(Object.keys({...t,...e}),function(u){const f=c[u]||s,h=f(t[u],e[u],u);Ge.isUndefined(h)&&f!==o||(r[u]=h)}),r}const Iie=t=>{const e=A1({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=Fo.from(a),e.url=xie(kie(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ge.isFormData(r)){if(Ca.hasStandardBrowserEnv||Ca.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ge.isFunction(r.getHeaders)){const c=r.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{l.includes(u.toLowerCase())&&a.set(u,f)})}}if(Ca.hasStandardBrowserEnv&&(n&&Ge.isFunction(n)&&(n=n(e)),n||n!==!1&&qCe(e.url))){const c=s&&i&&WCe.read(i);c&&a.set(s,c)}return e},ZCe=typeof XMLHttpRequest<"u",JCe=ZCe&&function(t){return new Promise(function(r,n){const s=Iie(t);let i=s.data;const a=Fo.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:l}=s,u,f,h,m,y;function x(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function C(){if(!k)return;const _=Fo.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),F={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:_,config:t,request:k};Pie(function(j){r(j),x()},function(j){n(j),x()},F),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(n(new xr("Request aborted",xr.ECONNABORTED,t,k)),k=null)},k.onerror=function(O){const F=O&&O.message?O.message:"Network Error",D=new xr(F,xr.ERR_NETWORK,t,k);D.event=O||null,n(D),k=null},k.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||wie;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),n(new xr(O,F.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,t,k)),k=null},i===void 0&&a.setContentType(null),"setRequestHeader"in k&&Ge.forEach(a.toJSON(),function(O,F){k.setRequestHeader(F,O)}),Ge.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),o&&o!=="json"&&(k.responseType=s.responseType),l&&([h,y]=FA(l,!0),k.addEventListener("progress",h)),c&&k.upload&&([f,m]=FA(c),k.upload.addEventListener("progress",f),k.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=_=>{k&&(n(!_||_.type?new hw(null,t,k):_),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const I=LCe(s.url);if(I&&Ca.protocols.indexOf(I)===-1){n(new xr("Unsupported protocol "+I+":",xr.ERR_BAD_REQUEST,t));return}k.send(i||null)})},QCe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(l){if(!s){s=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof xr?u:new hw(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new xr(`timeout ${e} of ms exceeded`,xr.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Ge.asap(o),c}},YCe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},GCe=async function*(t,e){for await(const r of e_e(t))yield*YCe(r,e)},e_e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},xH=(t,e,r,n)=>{const s=GCe(t,e);let i=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){o(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(l){throw o(l),l}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},wH=64*1024,{isFunction:B8}=Ge,t_e=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ge.global),{ReadableStream:AH,TextEncoder:SH}=Ge.global,PH=(t,...e)=>{try{return!!t(...e)}catch{return!1}},r_e=t=>{t=Ge.merge.call({skipUndefined:!0},t_e,t);const{fetch:e,Request:r,Response:n}=t,s=e?B8(e):typeof fetch=="function",i=B8(r),a=B8(n);if(!s)return!1;const o=s&&B8(AH),c=s&&(typeof SH=="function"?(y=>x=>y.encode(x))(new SH):async y=>new Uint8Array(await new r(y).arrayBuffer())),l=i&&o&&PH(()=>{let y=!1;const x=new r(Ca.origin,{body:new AH,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),u=a&&o&&PH(()=>Ge.isReadableStream(new n("").body)),f={stream:u&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(x,k)=>{let C=x&&x[y];if(C)return C.call(x);throw new xr(`Response type '${y}' is not supported`,xr.ERR_NOT_SUPPORT,k)})});const h=async y=>{if(y==null)return 0;if(Ge.isBlob(y))return y.size;if(Ge.isSpecCompliantForm(y))return(await new r(Ca.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(y)||Ge.isArrayBuffer(y))return y.byteLength;if(Ge.isURLSearchParams(y)&&(y=y+""),Ge.isString(y))return(await c(y)).byteLength},m=async(y,x)=>{const k=Ge.toFiniteNumber(y.getContentLength());return k??h(x)};return async y=>{let{url:x,method:k,data:C,signal:I,cancelToken:_,timeout:O,onDownloadProgress:F,onUploadProgress:D,responseType:j,headers:T,withCredentials:R="same-origin",fetchOptions:q}=Iie(y),$=e||fetch;j=j?(j+"").toLowerCase():"text";let b=QCe([I,_&&_.toAbortSignal()],O),w=null;const p=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let g;try{if(D&&l&&k!=="get"&&k!=="head"&&(g=await m(T,C))!==0){let E=new r(x,{method:"POST",body:C,duplex:"half"}),M;if(Ge.isFormData(C)&&(M=E.headers.get("content-type"))&&T.setContentType(M),E.body){const[L,Q]=bH(g,FA(yH(D)));C=xH(E.body,wH,L,Q)}}Ge.isString(R)||(R=R?"include":"omit");const S=i&&"credentials"in r.prototype,N={...q,signal:b,method:k.toUpperCase(),headers:T.normalize().toJSON(),body:C,duplex:"half",credentials:S?R:void 0};w=i&&new r(x,N);let P=await(i?$(w,q):$(x,N));const A=u&&(j==="stream"||j==="response");if(u&&(F||A&&p)){const E={};["status","statusText","headers"].forEach(U=>{E[U]=P[U]});const M=Ge.toFiniteNumber(P.headers.get("content-length")),[L,Q]=F&&bH(M,FA(yH(F),!0))||[];P=new n(xH(P.body,wH,L,()=>{Q&&Q(),p&&p()}),E)}j=j||"text";let v=await f[Ge.findKey(f,j)||"text"](P,y);return!A&&p&&p(),await new Promise((E,M)=>{Pie(E,M,{data:v,headers:Fo.from(P.headers),status:P.status,statusText:P.statusText,config:y,request:w})})}catch(S){throw p&&p(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new xr("Network Error",xr.ERR_NETWORK,y,w),{cause:S.cause||S}):xr.from(S,S&&S.code,y,w)}}},n_e=new Map,Nie=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let a=i.length,o=a,c,l,u=n_e;for(;o--;)c=i[o],l=u.get(c),l===void 0&&u.set(c,l=o?new Map:r_e(e)),u=l;return l};Nie();const Ej={http:xCe,xhr:JCe,fetch:{get:Nie}};Ge.forEach(Ej,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kH=t=>`- ${t}`,s_e=t=>Ge.isFunction(t)||t===null||t===!1,Eie={getAdapter:(t,e)=>{t=Ge.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let a=0;a<r;a++){n=t[a];let o;if(s=n,!s_e(n)&&(s=Ej[(o=String(n)).toLowerCase()],s===void 0))throw new xr(`Unknown adapter '${o}'`);if(s&&(Ge.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(kH).join(`
`):" "+kH(a[0]):"as no adapter specified";throw new xr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ej};function TE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hw(null,t)}function IH(t){return TE(t),t.headers=Fo.from(t.headers),t.data=_E.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Eie.getAdapter(t.adapter||Q4.adapter,t)(t).then(function(n){return TE(t),n.data=_E.call(t,t.transformResponse,n),n.headers=Fo.from(n.headers),n},function(n){return Sie(n)||(TE(t),n&&n.response&&(n.response.data=_E.call(t,t.transformResponse,n.response),n.response.headers=Fo.from(n.response.headers))),Promise.reject(n)})}const Cie="1.12.2",vk={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vk[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const NH={};vk.transitional=function(e,r,n){function s(i,a){return"[Axios v"+Cie+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new xr(s(a," has been removed"+(r?" in "+r:"")),xr.ERR_DEPRECATED);return r&&!NH[a]&&(NH[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};vk.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function i_e(t,e,r){if(typeof t!="object")throw new xr("options must be an object",xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new xr("option "+i+" must be "+c,xr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xr("Unknown option "+i,xr.ERR_BAD_OPTION)}}const t7={assertOptions:i_e,validators:vk},Hu=t7.validators;class Qg{constructor(e){this.defaults=e||{},this.interceptors={request:new mH,response:new mH}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=A1(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&t7.assertOptions(n,{silentJSONParsing:Hu.transitional(Hu.boolean),forcedJSONParsing:Hu.transitional(Hu.boolean),clarifyTimeoutError:Hu.transitional(Hu.boolean)},!1),s!=null&&(Ge.isFunction(s)?r.paramsSerializer={serialize:s}:t7.assertOptions(s,{encode:Hu.function,serialize:Hu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),t7.assertOptions(r,{baseUrl:Hu.spelling("baseURL"),withXsrfToken:Hu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&Ge.merge(i.common,i[r.method]);i&&Ge.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Fo.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let u,f=0,h;if(!c){const y=[IH.bind(this),void 0];for(y.unshift(...o),y.push(...l),h=y.length,u=Promise.resolve(r);f<h;)u=u.then(y[f++],y[f++]);return u}h=o.length;let m=r;for(;f<h;){const y=o[f++],x=o[f++];try{m=y(m)}catch(k){x.call(this,k);break}}try{u=IH.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=A1(this.defaults,e);const r=kie(e.baseURL,e.url,e.allowAbsoluteUrls);return xie(r,e.params,e.paramsSerializer)}}Ge.forEach(["delete","get","head","options"],function(e){Qg.prototype[e]=function(r,n){return this.request(A1(n||{},{method:e,url:r,data:(n||{}).data}))}});Ge.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(A1(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Qg.prototype[e]=r(),Qg.prototype[e+"Form"]=r(!0)});class DF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new hw(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new DF(function(s){e=s}),cancel:e}}}function a_e(t){return function(r){return t.apply(null,r)}}function o_e(t){return Ge.isObject(t)&&t.isAxiosError===!0}const Cj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cj).forEach(([t,e])=>{Cj[e]=t});function _ie(t){const e=new Qg(t),r=cie(Qg.prototype.request,e);return Ge.extend(r,Qg.prototype,e,{allOwnKeys:!0}),Ge.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return _ie(A1(t,s))},r}const Fn=_ie(Q4);Fn.Axios=Qg;Fn.CanceledError=hw;Fn.CancelToken=DF;Fn.isCancel=Sie;Fn.VERSION=Cie;Fn.toFormData=yk;Fn.AxiosError=xr;Fn.Cancel=Fn.CanceledError;Fn.all=function(e){return Promise.all(e)};Fn.spread=a_e;Fn.isAxiosError=o_e;Fn.mergeConfig=A1;Fn.AxiosHeaders=Fo;Fn.formToJSON=t=>Aie(Ge.isHTMLForm(t)?new FormData(t):t);Fn.getAdapter=Eie.getAdapter;Fn.HttpStatusCode=Cj;Fn.default=Fn;var Tie={exports:{}};function UF(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jE={exports:{}},EH;function jie(){return EH||(EH=1,function(t,e){(function(r,n){t.exports=n()})(Ds,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Ds<"u"&&Ds.crypto&&(i=Ds.crypto),!i&&typeof UF=="function")try{i=z1}catch{}var a=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function I(){}return function(_){var O;return I.prototype=_,O=new I,I.prototype=null,O}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(I){var _=o(this);return I&&_.mixIn(I),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var I=this.extend();return I.init.apply(I,arguments),I},init:function(){},mixIn:function(I){for(var _ in I)I.hasOwnProperty(_)&&(this[_]=I[_]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(I,_){I=this.words=I||[],_!=s?this.sigBytes=_:this.sigBytes=I.length*4},toString:function(I){return(I||m).stringify(this)},concat:function(I){var _=this.words,O=I.words,F=this.sigBytes,D=I.sigBytes;if(this.clamp(),F%4)for(var j=0;j<D;j++){var T=O[j>>>2]>>>24-j%4*8&255;_[F+j>>>2]|=T<<24-(F+j)%4*8}else for(var R=0;R<D;R+=4)_[F+R>>>2]=O[R>>>2];return this.sigBytes+=D,this},clamp:function(){var I=this.words,_=this.sigBytes;I[_>>>2]&=4294967295<<32-_%4*8,I.length=n.ceil(_/4)},clone:function(){var I=u.clone.call(this);return I.words=this.words.slice(0),I},random:function(I){for(var _=[],O=0;O<I;O+=4)_.push(a());return new f.init(_,I)}}),h=c.enc={},m=h.Hex={stringify:function(I){for(var _=I.words,O=I.sigBytes,F=[],D=0;D<O;D++){var j=_[D>>>2]>>>24-D%4*8&255;F.push((j>>>4).toString(16)),F.push((j&15).toString(16))}return F.join("")},parse:function(I){for(var _=I.length,O=[],F=0;F<_;F+=2)O[F>>>3]|=parseInt(I.substr(F,2),16)<<24-F%8*4;return new f.init(O,_/2)}},y=h.Latin1={stringify:function(I){for(var _=I.words,O=I.sigBytes,F=[],D=0;D<O;D++){var j=_[D>>>2]>>>24-D%4*8&255;F.push(String.fromCharCode(j))}return F.join("")},parse:function(I){for(var _=I.length,O=[],F=0;F<_;F++)O[F>>>2]|=(I.charCodeAt(F)&255)<<24-F%4*8;return new f.init(O,_)}},x=h.Utf8={stringify:function(I){try{return decodeURIComponent(escape(y.stringify(I)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(I){return y.parse(unescape(encodeURIComponent(I)))}},k=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(I){typeof I=="string"&&(I=x.parse(I)),this._data.concat(I),this._nDataBytes+=I.sigBytes},_process:function(I){var _,O=this._data,F=O.words,D=O.sigBytes,j=this.blockSize,T=j*4,R=D/T;I?R=n.ceil(R):R=n.max((R|0)-this._minBufferSize,0);var q=R*j,$=n.min(q*4,D);if(q){for(var b=0;b<q;b+=j)this._doProcessBlock(F,b);_=F.splice(0,q),O.sigBytes-=$}return new f.init(_,$)},clone:function(){var I=u.clone.call(this);return I._data=this._data.clone(),I},_minBufferSize:0});l.Hasher=k.extend({cfg:u.extend(),init:function(I){this.cfg=this.cfg.extend(I),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(I){return this._append(I),this._process(),this},finalize:function(I){I&&this._append(I);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(I){return function(_,O){return new I.init(O).finalize(_)}},_createHmacHelper:function(I){return function(_,O){return new C.HMAC.init(I,O).finalize(_)}}});var C=c.algo={};return c}(Math);return r})}(jE)),jE.exports}var ME={exports:{}},CH;function c_e(){return CH||(CH=1,function(t,e){(function(r,n){t.exports=n(jie())})(Ds,function(r){return function(n){var s=r,i=s.lib,a=i.WordArray,o=i.Hasher,c=s.algo,l=[],u=[];(function(){function m(C){for(var I=n.sqrt(C),_=2;_<=I;_++)if(!(C%_))return!1;return!0}function y(C){return(C-(C|0))*4294967296|0}for(var x=2,k=0;k<64;)m(x)&&(k<8&&(l[k]=y(n.pow(x,1/2))),u[k]=y(n.pow(x,1/3)),k++),x++})();var f=[],h=c.SHA256=o.extend({_doReset:function(){this._hash=new a.init(l.slice(0))},_doProcessBlock:function(m,y){for(var x=this._hash.words,k=x[0],C=x[1],I=x[2],_=x[3],O=x[4],F=x[5],D=x[6],j=x[7],T=0;T<64;T++){if(T<16)f[T]=m[y+T]|0;else{var R=f[T-15],q=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,$=f[T-2],b=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;f[T]=q+f[T-7]+b+f[T-16]}var w=O&F^~O&D,p=k&C^k&I^C&I,g=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),S=(O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25),N=j+S+w+u[T]+f[T],P=g+p;j=D,D=F,F=O,O=_+N|0,_=I,I=C,C=k,k=N+P|0}x[0]=x[0]+k|0,x[1]=x[1]+C|0,x[2]=x[2]+I|0,x[3]=x[3]+_|0,x[4]=x[4]+O|0,x[5]=x[5]+F|0,x[6]=x[6]+D|0,x[7]=x[7]+j|0},_doFinalize:function(){var m=this._data,y=m.words,x=this._nDataBytes*8,k=m.sigBytes*8;return y[k>>>5]|=128<<24-k%32,y[(k+64>>>9<<4)+14]=n.floor(x/4294967296),y[(k+64>>>9<<4)+15]=x,m.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});s.SHA256=o._createHelper(h),s.HmacSHA256=o._createHmacHelper(h)}(Math),r.SHA256})}(ME)),ME.exports}(function(t,e){(function(r,n,s){t.exports=n(jie(),c_e())})(Ds,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,a=n.algo,o=a.SHA256,c=a.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=o._createHelper(c),n.HmacSHA224=o._createHmacHelper(c)}(),r.SHA224})})(Tie);var l_e=Tie.exports;const u_e=La(l_e);function gh(t){return typeof t=="function"}function Mie(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var $E=Mie(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function _j(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var xk=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=sj(a),c=o.next();!c.done;c=o.next()){var l=c.value;l.remove(this)}}catch(x){e={error:x}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(gh(u))try{u()}catch(x){i=x instanceof $E?x.errors:[x]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=sj(f),m=h.next();!m.done;m=h.next()){var y=m.value;try{_H(y)}catch(x){i=i??[],x instanceof $E?i=SA(SA([],ij(i)),ij(x.errors)):i.push(x)}}}catch(x){n={error:x}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}if(i)throw new $E(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)_H(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&_j(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&_j(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),$ie=xk.EMPTY;function Oie(t){return t instanceof xk||t&&"closed"in t&&gh(t.remove)&&gh(t.add)&&gh(t.unsubscribe)}function _H(t){gh(t)?t():t.unsubscribe()}var Bie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},d_e={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,SA([t,e],ij(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function f_e(t){d_e.setTimeout(function(){throw t})}function TH(){}function r7(t){t()}var Fie=function(t){HP(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Oie(r)&&r.add(n)):n.destination=g_e,n}return e.create=function(r,n,s){return new Tj(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(xk),h_e=Function.prototype.bind;function OE(t,e){return h_e.call(t,e)}var p_e=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){F8(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){F8(n)}else F8(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){F8(r)}},t}(),Tj=function(t){HP(e,t);function e(r,n,s){var i=t.call(this)||this,a;if(gh(r)||!r)a={next:r??void 0,error:n??void 0,complete:s??void 0};else{var o;i&&Bie.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&OE(r.next,o),error:r.error&&OE(r.error,o),complete:r.complete&&OE(r.complete,o)}):a=r}return i.destination=new p_e(a),i}return e}(Fie);function F8(t){f_e(t)}function m_e(t){throw t}var g_e={closed:!0,next:TH,error:m_e,complete:TH},b_e=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function y_e(t){return t}function v_e(t){return t.length===0?y_e:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var jH=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=w_e(e)?e:new Tj(e,r,n);return r7(function(){var a=s,o=a.operator,c=a.source;i.add(o?o.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=MH(r),new r(function(s,i){var a=new Tj({next:function(o){try{e(o)}catch(c){i(c),a.unsubscribe()}},error:i,complete:s});n.subscribe(a)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[b_e]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return v_e(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=MH(e),new e(function(n,s){var i;r.subscribe(function(a){return i=a},function(a){return s(a)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function MH(t){var e;return(e=t??Bie.Promise)!==null&&e!==void 0?e:Promise}function x_e(t){return t&&gh(t.next)&&gh(t.error)&&gh(t.complete)}function w_e(t){return t&&t instanceof Fie||x_e(t)&&Oie(t)}var A_e=Mie(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Rie=function(t){HP(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new $H(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new A_e},e.prototype.next=function(r){var n=this;r7(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=sj(n.currentObservers),o=a.next();!o.done;o=a.next()){var c=o.value;c.next(r)}}catch(l){s={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}}})},e.prototype.error=function(r){var n=this;r7(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var s=n.observers;s.length;)s.shift().error(r)}})},e.prototype.complete=function(){var r=this;r7(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,s=this,i=s.hasError,a=s.isStopped,o=s.observers;return i||a?$ie:(this.currentObservers=null,o.push(r),new xk(function(){n.currentObservers=null,_j(o,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,s=n.hasError,i=n.thrownError,a=n.isStopped;s?r.error(i):a&&r.complete()},e.prototype.asObservable=function(){var r=new jH;return r.source=this,r},e.create=function(r,n){return new $H(r,n)},e}(jH),$H=function(t){HP(e,t);function e(r,n){var s=t.call(this)||this;return s.destination=r,s.source=n,s}return e.prototype.next=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,r)},e.prototype.error=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&s!==void 0?s:$ie},e}(Rie);const Qr=t=>{if(!Number.isNaN(t))return parseInt(t,10)},Nm=t=>{if(!Number.isNaN(t))return parseFloat(t)},fr=t=>typeof t=="boolean"?t:!(t==="0"||t==="false"),kt=t=>typeof t=="string"?t:void 0,S_e=t=>{try{if(typeof t!="string")throw new Error;return JSON.parse(t)}catch{return}},BE=t=>{const e=typeof t=="string"?t.split(","):null;if(Array.isArray(e)&&e.length>0)return e},OH={ADDRESS_POISONING_FAMILIES:{def:"evm,tron",parser:kt,desc:"List of families impacted by the address poisoning attack"},ANALYTICS_CONSOLE:{def:!1,parser:fr,desc:"Show tracking overlays on the app UI"},DEBUG_THEME:{def:!1,parser:fr,desc:"Show theme debug overlay UI"},APTOS_API_ENDPOINT:{def:"https://apt.coin.ledger.com/node/v1",parser:kt,desc:"API enpoint for Aptos"},APTOS_TESTNET_API_ENDPOINT:{def:"https://apt.coin.ledger-stg.com/node/v1",parser:kt,desc:"API enpoint for Aptos"},APTOS_INDEXER_ENDPOINT:{def:"https://apt.coin.ledger.com/node/v1/graphql",parser:kt,desc:"Indexer endpoint for Aptos"},APTOS_TESTNET_INDEXER_ENDPOINT:{def:"https://apt.coin.ledger-stg.com/node/v1/graphql",parser:kt,desc:"Indexer endpoint for Aptos"},APTOS_ENABLE_TOKENS:{def:!1,parser:fr,desc:"Enable tokens on Aptos"},APTOS_ENABLE_STAKING:{def:!1,parser:fr,desc:"Enable staking for Aptos"},API_ALGORAND_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://algorand.coin.ledger.com",parser:kt,desc:"Node API endpoint for algorand"},API_CELO_INDEXER:{def:"https://celo.coin.ledger.com/indexer/",parser:kt,desc:"Explorer API for celo"},API_CELO_NODE:{def:"https://celo.coin.ledger.com/archive/",parser:kt,desc:"Node endpoint for celo"},ENABLE_CELO_TOKENS:{def:!0,parser:fr,desc:"Enable token send and receive for Celo"},COSMOS_GAS_AMPLIFIER:{def:1.3,parser:Qr,desc:"Cosmos gas estimate multiplier"},API_FILECOIN_ENDPOINT:{parser:kt,def:"https://filecoin.coin.ledger.com",desc:"Filecoin API url"},API_STACKS_ENDPOINT:{parser:kt,def:"https://stacks.coin.ledger.com",desc:"Stacks API url"},API_POLKADOT_INDEXER:{parser:kt,def:"https://polkadot.coin.ledger.com",desc:"Explorer API for polkadot"},API_POLKADOT_SIDECAR:{parser:kt,def:"https://polkadot-sidecar.coin.ledger.com",desc:"Polkadot Sidecar API url"},API_POLKADOT_SIDECAR_CREDENTIALS:{parser:kt,def:"",desc:"Polkadot Sidecar API credentials"},API_POLKADOT_NODE:{parser:kt,def:"https://polkadot-fullnodes.api.live.ledger.com",desc:"Polkadot Node"},MULTIVERSX_API_ENDPOINT:{parser:kt,def:"https://elrond.coin.ledger.com",desc:"MultiversX API url"},MULTIVERSX_DELEGATION_API_ENDPOINT:{parser:kt,def:"https://delegations-elrond.coin.ledger.com",desc:"MultiversX DELEGATION API url"},API_KASPA_ENDPOINT:{parser:kt,def:"https://kaspa.coin.ledger.com",desc:"Kaspa API url"},API_STELLAR_HORIZON:{parser:kt,def:"https://stellar.coin.ledger.com",desc:"Stellar Horizon API url"},API_STELLAR_HORIZON_FETCH_LIMIT:{parser:Qr,def:100,desc:"Limit of operation that Horizon will fetch per page"},API_STELLAR_HORIZON_INITIAL_FETCH_MAX_OPERATIONS:{parser:Qr,def:1e3,desc:"Limit of operation that Horizon will fetch on initial sync"},API_STELLAR_HORIZON_STATIC_FEE:{def:!1,parser:fr,desc:"Static fee for Stellar account"},API_TEZOS_BAKER:{parser:kt,def:"https://tezos-bakers.api.live.ledger.com",desc:"bakers API for tezos"},API_TEZOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://xtz-explorer.api.live.ledger.com/explorer",parser:kt,desc:"Ledger explorer API for tezos"},API_TEZOS_TZKT_API:{def:"https://xtz-tzkt-explorer.api.live.ledger.com",parser:kt,desc:"tzkt.io explorer"},API_TEZOS_NODE:{def:"https://xtz-node.api.live.ledger.com",parser:kt,desc:"node API for tezos (for broadcast only)"},API_TRONGRID_PROXY:{parser:kt,def:"https://tron.coin.ledger.com",desc:"proxy url for trongrid API"},API_SOLANA_PROXY:{parser:kt,def:"https://solana.coin.ledger.com",desc:"proxy url for solana API"},API_SUI_NODE_PROXY_TEST:{parser:kt,def:"https://sui.coin.ledger-test.com",desc:"reverse proxy url for sui node"},API_SUI_NODE_PROXY:{parser:kt,def:"https://sui.coin.ledger.com",desc:"reverse proxy url for sui node"},SUI_ENABLE_TOKENS:{parser:fr,def:!0,desc:"Enable tokens on Sui"},SOLANA_VALIDATORS_APP_BASE_URL:{parser:kt,def:"https://earn.api.live.ledger.com/v0/network/solana/validator-details",desc:"base url for validators.app validator list"},SOLANA_VALIDATORS_SUMMARY_BASE_URL:{parser:kt,def:"https://earn-dashboard.aws.stg.ldg-tech.com/figment/solana/validators_summary",desc:"base url for validators.app validator summary"},SOLANA_TESTNET_VALIDATORS_APP_BASE_URL:{parser:kt,def:"https://validators-solana.coin.ledger.com/api/v1/validators",desc:"base url for testnet validators.app validator list"},SOLANA_TX_CONFIRMATION_TIMEOUT:{def:100*1e3,parser:Qr,desc:"solana transaction broadcast confirmation timeout"},HEDERA_TOKEN_ASSOCIATION_MIN_USD:{def:.05,parser:Nm,desc:"Minimum USD value an account must hold to perform a token association"},API_HEDERA_MIRROR:{def:"https://hedera.coin.ledger.com",parser:kt,desc:"mirror node API for Hedera"},API_HEDERA_THIRDWEB_URL:{def:"https://hedera-tokens.coin.ledger.com",parser:kt,desc:"Thirdweb API for Hedera"},API_VECHAIN_THOREST:{def:"https://vechain.coin.ledger.com",parser:kt,desc:"Thorest API for VeChain"},BASE_SOCKET_URL:{def:"wss://scriptrunner.api.live.ledger.com/update",parser:kt,desc:"Ledger script runner API"},BOT_TIMEOUT_SCAN_ACCOUNTS:{def:10*60*1e3,parser:Qr,desc:"bot's default timeout for scanAccounts"},BOT_SPEC_DEFAULT_TIMEOUT:{def:30*60*1e3,parser:Qr,desc:"define the default value of spec.skipMutationsTimeout (if not overriden by spec)"},BUY_API_BASE:{def:"https://buy.api.live.ledger.com/buy/v1",parser:kt,desc:"Buy crypto API base url - version 1"},CARDANO_API_ENDPOINT:{def:"https://cardano.coin.ledger.com/api",parser:kt,desc:"Cardano API url"},CARDANO_TESTNET_API_ENDPOINT:{def:"https://testnet-ledger.cardanoscan.io/api",parser:kt,desc:"Cardano API url"},ICON_NODE_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v3",desc:"ICON RPC url"},ICON_DEBUG_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v3d",desc:"ICON debug RPC url"},ICON_INDEXER_ENDPOINT:{parser:kt,def:"https://icon.coin.ledger.com/api/v1",desc:"ICON API url"},ICON_TESTNET_NODE_ENDPOINT:{parser:kt,def:"https://berlin.net.solidwallet.io/api/v3",desc:"ICON Berlin Testnet API url"},ICON_TESTNET_DEBUG_ENDPOINT:{parser:kt,def:"https://berlin.net.solidwallet.io/api/v3d",desc:"ICON Berlin Testnet debug"},ICON_TESTNET_INDEXER_ENDPOINT:{parser:kt,def:"https://tracker.berlin.icon.community/api/v1",desc:"ICON Berlin Testnet API url"},CANTON_API_KEY:{def:"",parser:kt,desc:"API key for Canton network gateway authentication"},COINAPPS:{def:"",parser:kt,desc:"(dev feature) defines the folder for speculos mode that contains Nano apps binaries (.elf) in a specific structure: <device>/<firmware>/<appName>/app_<appVersion>.elf"},CAL_REF:{def:"",parser:kt,desc:"(dev feature) allows to target a different reference of the CAL for testing purposes"},CRYPTO_ORG_INDEXER:{def:"https://cryptoorg-rpc-indexer.coin.ledger.com",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer API"},CRYPTO_ORG_TESTNET_INDEXER:{def:"https://cronos-pos.org/explorer/croeseid4",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer testnet API"},CRYPTO_ORG_RPC_URL:{def:"https://cryptoorg-rpc-node.coin.ledger.com",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain node"},CRYPTO_ORG_TESTNET_RPC_URL:{def:"https://rpc-testnet-croeseid-4.crypto.org",parser:kt,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain testnet node"},DEBUG_UTXO_DISPLAY:{def:4,parser:Qr,desc:"define maximum number of utxos to display in CLI"},DEBUG_HTTP_RESPONSE:{def:!1,parser:fr,desc:"includes HTTP response body in logs"},DEVICE_CANCEL_APDU_FLUSH_MECHANISM:{def:!0,parser:fr,desc:"enable a mechanism that send a 0x00 apdu to force device to awake from its 'Processing' UI state"},DEVICE_PROXY_URL:{def:"",parser:kt,desc:"enable a proxy to use instead of a physical device"},DEVICE_PROXY_MODEL:{def:"nanoS",parser:kt,desc:"allow to override the default model of a proxied device"},DISABLE_TRANSACTION_BROADCAST:{def:!1,parser:fr,desc:"disable broadcast of transactions"},DISABLE_SYNC_TOKEN:{def:!0,parser:fr,desc:"disable a problematic mechanism of our API"},DISABLE_FW_UPDATE_VERSION_CHECK:{def:!1,parser:fr,desc:"disable the version check for firmware update eligibility"},DETOX:{def:"",parser:kt,desc:"switch the app into a DETOX mode for test purpose. Avoid falsy values."},E2E_NANO_APP_VERSION_PATH:{def:"",parser:kt,desc:"Path for e2e nanoApp version artifacts (LLD and LLM)"},EIP1559_MINIMUM_FEES_GATE:{def:!0,parser:fr,desc:"prevents the user from doing an EIP1559 transaction with fees too low"},EIP1559_PRIORITY_FEE_LOWER_GATE:{def:.85,parser:Nm,desc:"minimum priority fee percents allowed compared to network conditions allowed when EIP1559_MINIMUM_FEES_GATE is activated"},EIP1559_BASE_FEE_MULTIPLIER:{def:1.27,parser:Nm,desc:"mutiplier for the base fee that is composing the maxFeePerGas property"},EXPERIMENTAL_BLE:{def:!1,parser:fr,desc:"enable experimental support of Bluetooth"},EXPERIMENTAL_CURRENCIES:{def:"",parser:kt,desc:"enable experimental support of currencies (comma separated)"},EXPERIMENTAL_EXPLORERS:{def:!1,parser:fr,desc:"enable experimental explorer APIs"},EXPERIMENTAL_LANGUAGES:{def:!1,parser:fr,desc:"enable experimental languages"},EXPERIMENTAL_MANAGER:{def:!1,parser:fr,desc:"enable an experimental version of Manager"},EXPERIMENTAL_ROI_CALCULATION:{def:!1,parser:fr,desc:"enable an experimental version of the portfolio percentage calculation"},EXPERIMENTAL_SEND_MAX:{def:!1,parser:fr,desc:"force enabling SEND MAX even if not yet stable"},EXPERIMENTAL_USB:{def:!1,parser:fr,desc:"enable an experimental implementation of USB support"},EXPERIMENTAL_SWAP:{def:!1,parser:fr,desc:"enable an experimental swap interface"},EXPLORER:{def:"https://explorers.api.live.ledger.com",parser:kt,desc:"Ledger generic explorer API"},EXPLORER_REGTEST:{def:"http://localhost:9876",parser:kt,desc:"Ledger regtest Bitcoin explorer API"},EXPLORER_SATSTACK:{def:"http://localhost:20000",parser:kt,desc:"Ledger satstack Bitcoin explorer API"},EXPORT_EXCLUDED_LOG_TYPES:{def:"ble-frame",parser:kt,desc:"comma-separated list of excluded log types for exported logs"},EXPORT_MAX_LOGS:{def:5e3,parser:Qr,desc:"maximum logs to keep for export"},DISABLE_APP_VERSION_REQUIREMENTS:{def:!1,parser:fr,desc:"force an old application version to be accepted regardless of its version"},FORCE_PROVIDER:{def:1,parser:Qr,desc:"use a different provider for app store (for developers only)"},FILTER_ZERO_AMOUNT_ERC20_EVENTS:{def:!0,parser:fr,desc:"Remove filter of address poisoning"},GET_CALLS_RETRY:{def:2,parser:Qr,desc:"how many times to retry a GET http call"},GET_CALLS_TIMEOUT:{def:60*1e3,parser:Qr,desc:"how much time to timeout a GET http call"},HIDE_EMPTY_TOKEN_ACCOUNTS:{def:!1,parser:fr,desc:"hide the sub accounts when they are empty"},KEYCHAIN_OBSERVABLE_RANGE:{def:0,parser:Qr,desc:"overrides the gap limit specified by BIP44 (default to 20)"},LEDGER_CLIENT_VERSION:{def:"",parser:kt,desc:"the 'X-Ledger-Client-Version' HTTP header to use for queries to Ledger APIs"},LEDGER_COUNTERVALUES_API:{def:"https://countervalues.live.ledger.com",parser:kt,desc:"Ledger countervalues API"},LEDGER_REST_API_BASE:{def:"https://explorers.api.live.ledger.com",parser:kt,desc:"DEPRECATED"},LEGACY_KT_SUPPORT_TO_YOUR_OWN_RISK:{def:!1,parser:fr,desc:"enable sending to KT accounts. Not tested."},MANAGER_API_BASE:{def:"https://manager.api.live.ledger.com/api",parser:kt,desc:"Ledger Manager API"},MANAGER_DEV_MODE:{def:!1,parser:fr,desc:"enable visibility of utility apps in Manager"},MANAGER_INSTALL_DELAY:{def:1e3,parser:Qr,desc:"defines the time to wait before installing apps to prevent known glitch (<=1.5.5) when chaining installs"},MIXPANEL_API_HOST:{def:"https://api.mixpanel.com",parser:kt,desc:"Mixpanel API host URL"},MAPPING_SERVICE:{def:"https://mapping-service.api.ledger.com",parser:kt,desc:""},MAX_ACCOUNT_NAME_SIZE:{def:50,parser:Qr,desc:"maximum size of account names"},MOCK:{def:"",parser:kt,desc:"switch the app into a MOCK mode for test purpose, the value will be used as a seed for the rng. Avoid falsy values."},MOCK_COUNTERVALUES:{def:"",parser:kt,desc:"switch the countervalues resolution into a MOCK mode for test purpose"},MOCK_APP_UPDATE:{def:!1,parser:fr,desc:"Always shows app update in the manager"},MOCK_EXCHANGE_TEST_CONFIG:{def:!1,parser:fr,desc:"mock the cryptoassets config and test partner (in the context of app-exchange)"},MOCK_EXCHANGE_TEST_PARTNER:{def:!1,parser:fr,desc:"change CAL partner context to test"},MOCK_REMOTE_LIVE_MANIFEST:{def:"",parser:kt,desc:"mock remote live app manifest"},MOCK_OS_VERSION:{def:"",parser:kt,desc:"if defined, overrides the os and version. format: os@version. Example: Windows_NT@6.1.7601"},MOCK_NO_BYPASS:{def:!1,parser:fr,desc:"if defined, avoids bypass of the currentDevice in the store."},NFT_CURRENCIES:{def:["avalanche_c_chain","bsc","ethereum","polygon","solana"],parser:BE,desc:"set the currencies where NFT is active"},NFT_METADATA_SERVICE:{def:"https://nft.api.live.ledger.com",parser:kt,desc:"service uri used to get the metadata of an nft"},OPERATION_ADDRESSES_LIMIT:{def:100,parser:Qr,desc:"limit the number of addresses in from/to of operations"},OPERATION_OPTIMISTIC_RETENTION:{def:30*60*1e3,parser:Qr,desc:"timeout to keep an optimistic operation that was broadcasted but not yet visible from the coin implementation or the API"},OPERATION_PAGE_SIZE_INITIAL:{def:100,parser:Qr,desc:"defines the initial default operation length page to use"},POLKADOT_ELECTION_STATUS_THRESHOLD:{def:25,parser:Qr,desc:"in blocks - number of blocks before Polkadot election effectively opens to consider it as open and disable all staking features"},SATSTACK:{def:!1,parser:fr,desc:"Switch to satstack mode"},SCAN_FOR_INVALID_PATHS:{def:!1,parser:fr,desc:"enable searching accounts in exotic derivation paths"},SEED:{def:"",parser:kt,desc:"(dev feature) seed to be used by speculos (device simulator)"},PROVIDER_SESSION_ID_ENDPOINT:{def:"https://buy.api.live.ledger.com/session",parser:kt,desc:"Request provider session id"},SHOW_LEGACY_NEW_ACCOUNT:{def:!1,parser:fr,desc:"allow the creation of legacy accounts"},SKIP_ONBOARDING:{def:!1,parser:fr,desc:"dev flag to skip onboarding flow"},SPECULOS_API_PORT:{def:0,parser:Qr,desc:"API port for speculos"},SPECULOS_DEVICE:{def:"",parser:kt,desc:"Device model id for speculos"},SPECULOS_FIRMWARE_VERSION:{def:"",parser:kt,desc:"Firmware version for speculos"},SPECULOS_PID_OFFSET:{def:0,parser:Qr,desc:"offset to be added to the speculos pid and avoid collision with other instances"},SPECULOS_USE_WEBSOCKET:{def:!1,parser:fr,desc:"Use speculos websocket interface instead of Rest API"},SWAP_API_BASE:{def:"https://swap.ledger.com/v5",parser:kt,desc:"Swap API base"},SWAP_USER_IP:{def:"",parser:kt,desc:"Swap IP"},SWAP_DISABLE_APPS_INSTALL:{def:!1,parser:fr,desc:"bypass app checks on Nano for speculos swap tests"},SYNC_ALL_INTERVAL:{def:8*60*1e3,parser:Qr,desc:"delay between successive sync"},SYNC_BOOT_DELAY:{def:2*1e3,parser:Qr,desc:"delay before the sync starts"},SYNC_PENDING_INTERVAL:{def:10*1e3,parser:Qr,desc:"delay between sync when an operation is still pending"},SYNC_OUTDATED_CONSIDERED_DELAY:{def:10*60*1e3,parser:Qr,desc:"delay until Live consider a sync outdated"},SYNC_MAX_CONCURRENT:{def:4,parser:Qr,desc:"maximum limit to synchronize accounts concurrently to limit overload"},BOT_MAX_CONCURRENT:{def:10,parser:Qr,desc:"maximum limit to run bot spec in parallel"},USER_ID:{def:"",parser:kt,desc:"unique identifier of app instance. used to derivate dissociated ids for difference purposes (e.g. the firmware update incremental deployment)."},WALLETCONNECT:{def:!1,parser:fr,desc:"is walletconnect enabled"},CLOUD_SYNC_API_STAGING:{def:"https://cloud-sync-backend.api.aws.stg.ldg-tech.com",parser:kt,desc:"wallet sync api staging base url"},CLOUD_SYNC_API_PROD:{def:"https://cloud-sync.api.live.ledger.com",parser:kt,desc:"wallet sync api production base url"},WITH_DEVICE_POLLING_DELAY:{def:500,parser:Nm,desc:"delay when polling device"},ANNOUNCEMENTS_API_URL:{def:"https://cdn.live.ledger.com/announcements",parser:kt,desc:"url used to fetch new announcements"},ANNOUNCEMENTS_API_VERSION:{def:1,parser:Qr,desc:"version used for the announcements api"},STATUS_API_URL:{def:"https://ledger.statuspage.io/api",parser:kt,desc:"url used to fetch ledger status"},STATUS_API_VERSION:{def:2,parser:Qr,desc:"version used for ledger status api"},TEZOS_MAX_TX_QUERIES:{def:100,parser:Qr,desc:"safe max on maximum number of queries to synchronize a tezos account"},TRUSTCHAIN_API_STAGING:{def:"https://trustchain-backend.api.aws.stg.ldg-tech.com",parser:kt,desc:"Trustchain API Staging"},TRUSTCHAIN_API_PROD:{def:"https://trustchain.api.live.ledger.com",parser:kt,desc:"Trustchain API Prod"},DADA_API_STAGING:{def:"https://dada.api.ledger-test.com/v1",parser:kt,desc:"Dynamic Assets Data Aggregator API Staging"},DADA_API_PROD:{def:"https://dada.api.ledger.com/v1",parser:kt,desc:"Dynamic Assets Data Aggregator API Prod"},PLATFORM_DEBUG:{def:!1,parser:fr,desc:"enable visibility of debug apps and tools in Platform Catalog"},PLATFORM_EXPERIMENTAL_APPS:{def:!1,parser:fr,desc:"enable visibility of experimental apps and tools in Platform Catalog"},PLATFORM_MANIFEST_API_URL:{def:"https://live-app-catalog.ledger.com/api/v1/apps",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_LOCAL_MANIFEST_JSON:{def:"",parser:kt,desc:'json manifest for a local (test) platform app manifests. How to use: PLATFORM_LOCAL_MANIFEST_JSON="$(cat /path/to/file.json)"'},PLATFORM_GLOBAL_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/catalog/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_GLOBAL_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/catalog/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_RAMP_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/trade/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests"},PLATFORM_RAMP_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/trade/v1/data.json",parser:kt,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_API_URL:{def:"",parser:kt,desc:"url used to fetch platform catalog"},PLATFORM_API_VERSION:{def:1,parser:Qr,desc:"version used for the platform api"},PLAYWRIGHT_RUN:{def:!1,parser:fr,desc:"true when launched for E2E testing"},MARKET_API_URL:{def:"https://proxycg.api.live.ledger.com/api/v3",parser:kt,desc:"Market data api"},USE_LEARN_STAGING_URL:{def:!1,parser:fr,desc:"use the staging URL for the learn page"},DYNAMIC_CAL_BASE_URL:{def:"https://cdn.live.ledger.com/cryptoassets",parser:kt,desc:"bucket S3 of the dynamic cryptoassets list"},CAL_SERVICE_URL:{def:"https://crypto-assets-service.api.ledger.com",parser:kt,desc:"Cryptoassets list service url"},CAL_SERVICE_URL_STAGING:{def:"https://crypto-assets-service.api.ledger-test.com",parser:kt,desc:"Cryptoassets list service url (staging)"},FEATURE_FLAGS:{def:"{}",parser:S_e,desc:"key value map for feature flags: {[key in FeatureId]?: Feature]}"},PERFORMANCE_CONSOLE:{def:!1,parser:fr,desc:"Show a performance overlay on the app UI"},STORAGE_PERFORMANCE_OVERLAY:{def:!1,parser:fr,desc:"Show a performance overlay on the app storage"},ETHEREUM_STUCK_TRANSACTION_TIMEOUT:{def:5*60*1e3,parser:Qr,desc:"Time after which an optimisc operation is considered stuck"},EVM_REPLACE_TX_LEGACY_GASPRICE_FACTOR:{def:1.3,parser:Nm,desc:"Replace transaction gasprice factor for legacy evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXFEE_FACTOR:{def:1.3,parser:Nm,desc:"Replace transaction max fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXPRIORITYFEE_FACTOR:{def:1.1,parser:Nm,desc:"Replace transaction max priority fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_FORCE_LEGACY_TRANSACTIONS:{def:!1,parser:fr,desc:"Force transaction type 0 on EVM networks"},ENABLE_NETWORK_LOGS:{def:!1,parser:fr,desc:"Enable network request and responses logs. Errors are always logged"},CRYPTO_ASSET_SEARCH_KEYS:{def:["ticker","name","keywords"],parser:BE,desc:"Fuse search attributes to find a currency according to user input"},VERBOSE:{def:[],parser:BE,desc:'Sets up debug console printing of logs. `VERBOSE=1` or `VERBOSE=true`: to print all logs | `VERBOSE="apdu,hw,transport,hid-verbose"` : filtering on a list of log `type` separated by a `,`'},DEFAULT_TRANSACTION_POLLING_INTERVAL:{def:30*1e3,parser:Qr,desc:"Default interval to poll for transaction confirmation in speedup/cancel evm flow (in ms)"},LOW_BATTERY_PERCENTAGE:{def:20,parser:Qr,desc:"Configure the low battery percentage threshold"},LOG_DRAWERS:{def:!1,parser:fr,desc:"Enable logs for drawers"},SANCTIONED_ADDRESSES_URL:{def:"https://compliance.ledger.com/all_sanctioned_addresses_without_ticker.json",parser:kt,desc:"List of sanctioned addresses"},BIG_NUMBER_DECIMAL_PLACES:{def:40,parser:Qr,desc:"bignumber.js decimal places configuration"}},P_e=Object.keys(OH).reduce((t,e)=>({...t,[e]:OH[e].def}),{});({...P_e});new Rie;const k_e="strings/5.8.0",Die=new Kt(k_e);var RA;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(RA||(RA={}));var ac;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(ac||(ac={}));function I_e(t,e,r,n,s){return Die.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Uie(t,e,r,n,s){if(t===ac.BAD_PREFIX||t===ac.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t===ac.OVERRUN?r.length-e-1:0}function N_e(t,e,r,n,s){return t===ac.OVERLONG?(n.push(s),0):(n.push(65533),Uie(t,e,r))}const E_e=Object.freeze({error:I_e,ignore:Uie,replace:N_e});function C_e(t,e){e==null&&(e=E_e.error),t=Xr(t);const r=[];let n=0;for(;n<t.length;){const s=t[n++];if(!(s>>7)){r.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?n+=e(ac.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(ac.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(ac.OVERRUN,n-1,t,r);continue}let o=s&(1<<8-i-1)-1;for(let c=0;c<i;c++){let l=t[n];if((l&192)!=128){n+=e(ac.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|l&63,n++}if(o!==null){if(o>1114111){n+=e(ac.OUT_OF_RANGE,n-1-i,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(ac.UTF16_SURROGATE,n-1-i,t,r,o);continue}if(o<=a){n+=e(ac.OVERLONG,n-1-i,t,r,o);continue}r.push(o)}}return r}function Bp(t,e=RA.current){e!=RA.current&&(Die.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return Xr(r)}function __e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function T_e(t,e){return __e(C_e(t,e))}function R8(t){return bc(Bp(t))}const j_e=`Ethereum Signed Message:
`;function zie(t){return typeof t=="string"&&(t=Bp(t)),bc(Op([Bp(j_e),Bp(String(t.length)),t]))}const zF=t=>Object.keys(t).sort().reduce((r,n)=>{const s=Array.isArray(t[n])?t[n].map(i=>zF(i)):t[n];return r[n]=s,r},{}),M_e=t=>{const{types:e}=t,r=zF(e);return u_e(JSON.stringify(r).replace(" ","")).toString()},$_e=async(t,e,r,n,s)=>{var o,c,l,u,f,h;const i=M_e(t),a=((c=(o=t.domain)==null?void 0:o.verifyingContract)==null?void 0:c.toLowerCase())||LSe;try{if(r){const{data:m}=await Fn.get(`${r}/v1/dapps`,{params:{output:"eip712_signatures",eip712_signatures_version:e?"v1":"v2",chain_id:(l=t.domain)==null?void 0:l.chainId,contracts:a}}),y=m.find(k=>{var C,I;return(I=(C=k==null?void 0:k.eip712_signatures)==null?void 0:C[a])==null?void 0:I[i]}),x=(f=(u=y==null?void 0:y.eip712_signatures)==null?void 0:u[a])==null?void 0:f[i];if(!x)throw new Error("Fallback to static file");return x}throw new Error("No CAL service URL")}catch{const y=`${((h=t.domain)==null?void 0:h.chainId)??0}:${a}:${i}`;return e&&n?n[y]:!e&&s?s[y]:void 0}},Lie=(t,e)=>{if(typeof e=="object"){if(Array.isArray(e))return e.map(n=>Lie(t,n)).flat();if(!(t in e))throw new Error(`Could not find key ${t} in ${JSON.stringify(e)} `);const r=e[t];return typeof r=="object"?r:r.toString()}return e.toString()},O_e=(t,e)=>{const r=t.split("."),{message:n}=e;let s=n;for(let i=0;i<=r.length-1;i++){const a=r[i],o=i>=r.length-1;a==="[]"&&!o||(s=Lie(a,s))}if(s===n)throw new Error("getValueFromPath returned the whole original message");return s},B_e={nftExplorerBaseURL:"https://nft.api.live.ledger.com/v1/ethereum",pluginBaseURL:"https://cdn.live.ledger.com",extraPlugins:null,cryptoassetsBaseURL:"https://cdn.live.ledger.com/cryptoassets",calServiceURL:"https://crypto-assets-service.api.ledger.com",staticERC20Signatures:null,staticEIP712SignaturesV1:null,staticEIP712SignaturesV2:null};function pw(t){return{...B_e,...t}}const jj=t=>{const e=t.toLowerCase();return e.startsWith("0x")?e:"0x"+e},LF=async(t,e)=>{const{cryptoassetsBaseURL:r}=pw(t);if(!r)return null;const n=`${r}/evm/${e}/erc20-signatures.json`;return await Fn.get(n).then(({data:i})=>{if(!i||typeof i!="string")throw new Error(`ERC20 signatures for chainId ${e} file is malformed ${n}`);return i}).catch(i=>(Zs("error","could not fetch from "+n+": "+String(i)),null))},DA=(t,e,r,n)=>{var i;if(r)try{return BH(r).byContractAndChainId(jj(t),e)}catch{}const s=n?pw(n):null;if((i=s==null?void 0:s.staticERC20Signatures)!=null&&i[e])try{return BH(s.staticERC20Signatures[e]).byContractAndChainId(jj(t),e)}catch(a){Zs("error",`Failed to parse static ERC20 signatures for chainId ${e}: ${String(a)}`)}return null},BH=t=>{const e=Buffer.from(t,"base64"),r={},n=[];let s=0;for(;s<e.length;){const i=e.readUInt32BE(s);s+=4;const a=e.slice(s,s+i);let o=0;const c=a.readUInt8(o);o+=1;const l=a.slice(o,o+c).toString("ascii");o+=c;const u=jj(a.slice(o,o+20).toString("hex"));o+=20;const f=a.readUInt32BE(o);o+=4;const h=a.readUInt32BE(o);o+=4;const m=a.slice(o),y={ticker:l,contractAddress:u,decimals:f,chainId:h,signature:m,data:a};n.push(y),r[String(h)+":"+u]=y,s+=i}return{list:()=>n,byContractAndChainId:(i,a)=>r[String(a)+":"+i]}};var Mj;(function(t){t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x259f8d1a"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d447995"]="deposit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x617ba037"]="supply",t["0x64466805"]="swapOnZeroXv4",t["0x65ae14b5"]="deleverageWithdraw",t["0x69328dec"]="withdraw",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa1251d75"]="unoswapWithPermit",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xb460af94"]="withdraw",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0a3b665"]="fillOrderRFQ",t["0xe449022e"]="uniswapV3Swap",t["0xf5661034"]="swapOnUniswapFork"})(Mj||(Mj={}));var $j;(function(t){t["0x016cba5f"]="execute",t["0x0d10d32c"]="redeemOverdueShares",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x0f7e2048"]="redeemOverdueShares",t["0x12a0ddc7"]="PMMV2Swap",t["0x3d21e25a"]="swapBridgeToV2",t["0x5bcb2fc6"]="submit",t["0x617ba037"]="supply",t["0x69328dec"]="withdraw",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbe040fb0"]="redeem",t["0xc9d2ff9d"]="requestUnlock",t["0xdb006a75"]="redeem"})($j||($j={}));var Oj;(function(t){t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x095ea7b3"]="approve",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x20b76e81"]="repay",t["0x2298207a"]="simpleBuy",t["0x238d6579"]="supplyCollateral",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x50d8cd4b"]="borrow",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x5c2bea49"]="withdraw",t["0x64466805"]="swapOnZeroXv4",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x8069218f"]="setAuthorizationWithSig",t["0x81033120"]="swapOnZeroXv2",t["0x833947fd"]="reallocateTo",t["0x84bd6d29"]="clipperSwap",t["0x8720316d"]="withdrawCollateral",t["0x8c1358a2"]="createMarket",t["0x935fb84b"]="buyOnUniswap",t["0x94bf804d"]="mint",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xa99aad89"]="supply",t["0xb460af94"]="withdraw",t["0xb80c2f09"]="smartSwapByOrderId",t["0xba087652"]="redeem",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xe0232b42"]="flashLoan",t["0xeecea000"]="setAuthorization",t["0xf5661034"]="swapOnUniswapFork"})(Oj||(Oj={}));var Bj;(function(t){t["0x016cba5f"]="execute",t["0x0863b7ac"]="SwapOnUniswapFork",t["0x0d57afa6"]="requestWithdraw",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x2298207a"]="simpleBuy",t["0x23b872dd"]="transferFrom",t["0x26ef699d"]="sendToken",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x33635226"]="BuyOnUniswapFork",t["0x3c659741"]="bridgeCall",t["0x3d21e25a"]="swapBridgeToV2",t["0x3f2e5fc3"]="sendNative",t["0x46c67b6d"]="megaSwap",t["0x4d99dd16"]="undelegate",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x51227094"]="processOutputOrders",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x58b9d179"]="SwapOnUniswap",t["0x59491871"]="redelegate",t["0x64466805"]="swapOnZeroXv4",t["0x6d9634b7"]="releaseTokens",t["0x7617b389"]="mixSwap",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x81791788"]="dodoMutliSwap",t["0x8ca3bf68"]="callBridgeCall",t["0x8f00eccb"]="MultiSwap",t["0x90e1aa69"]="processInputOrders",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x982ef0a7"]="delegate",t["0x9871efa4"]="unxswapByOrderId",t["0x9ddb511a"]="delegate",t["0xa21a9280"]="withdraw",t["0xa27e8b6b"]="SimpleBuy",t["0xa378534b"]="create",t["0xa5977fbb"]="send",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xaa7415f5"]="transferOut",t["0xaad3ec96"]="claim",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbba9b10c"]="destroy",t["0xc03786b0"]="buyOnUniswapFork",t["0xcfc0afeb"]="SimpleSwap",t["0xd0e30db0"]="deposit",t["0xde790c7e"]="burn",t["0xec1d21dd"]="MegaSwap",t["0xf35af1f8"]="callBridge",t["0xf5661034"]="swapOnUniswapFork",t["0xf8444436"]="claimWithdrawal",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf9355f72"]="BuyOnUniswap",t["0xf95a49eb"]="Buy"})(Bj||(Bj={}));var Fj;(function(t){t["0x00f714ce"]="withdraw_to",t["0x016cba5f"]="execute",t["0x01d523b6"]="updateStateAndDepositAndMintOsToken",t["0x026e402b"]="delegate",t["0x0502b1c5"]="unoswap",t["0x066055e0"]="burnOsToken",t["0x074ee446"]="mint",t["0x084fd9b4"]="claimFromVault",t["0x0863b7ac"]="swapOnUniswapFork",t["0x08dc9f42"]="mint",t["0x095ea7b3"]="approve",t["0x0968f264"]="withdraw",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0c0a769b"]="supply",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x0dd8dd02"]="queueWithdrawals",t["0x0e752702"]="repayBorrow",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x10f13a8c"]="SetText",t["0x1249c58b"]="mint",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x148e23ce"]="claimRewards",t["0x15373e3d"]="castVote",t["0x1564da79"]="submitPOL",t["0x16dc3ace"]="swapExactAmountOut",t["0x1896f70a"]="setResolver",t["0x18f72950"]="updateStateAndDeposit",t["0x19aa6257"]="requestWithdrawalsWstETH",t["0x1a7ff553"]="updateState",t["0x1c4b774b"]="getReward",t["0x1da649cf"]="repay",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x1f7ec122"]="requestWithdraw",t["0x201b9eb5"]="mintOsToken",t["0x224199c2"]="ProveAndClaimWithResolver",t["0x2298207a"]="simpleBuy",t["0x22a775b6"]="mintAndTransfer",t["0x23463624"]="deposit",t["0x23b872dd"]="transferFrom",t["0x23e103a8"]="withdraw",t["0x242eba0e"]="deletePendingValidators",t["0x24d83b79"]="addToPerpetual",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x258d3c33"]="redeemYield",t["0x259f8d1a"]="withdraw",t["0x2608f818"]="repayBorrowBehalf",t["0x26ef699d"]="sendToken",t["0x27050d1f"]="createToken",t["0x2775d01c"]="withdrawInstantly",t["0x2aba2aeb"]="addToken",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x2d8918d7"]="addLiquidity",t["0x2def6620"]="unstake",t["0x2e17de78"]="unstake",t["0x2e1a7d4d"]="withdraw",t["0x2e2d2984"]="deposit",t["0x2e95b6c8"]="unoswap",t["0x304e6ade"]="SetContentHash",t["0x3111e7b3"]="claimRewards",t["0x31807e42"]="depositYieldToken",t["0x32ca494b"]="withdrawWstETH",t["0x32f73258"]="updateOperatorControllingAddress",t["0x33404396"]="completeQueuedWithdrawals",t["0x33635226"]="buyOnUniswapFork",t["0x379607f5"]="claim",t["0x388bbfd3"]="redeem",t["0x3a4b66f1"]="stake",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3c659741"]="bridgeCall",t["0x3ccfd60b"]="withdraw_all",t["0x3d13f874"]="claim",t["0x3d18b912"]="getReward",t["0x3d21e25a"]="swapBridgeToV2",t["0x3db397c6"]="__ERC721Rarible_init",t["0x3e200d4b"]="stakeRPL",t["0x3eca9c0a"]="fillOrderRFQ",t["0x3f2e5fc3"]="sendNative",t["0x42966c68"]="burn",t["0x439370b1"]="depositEth",t["0x43e82a79"]="redeemOsToken",t["0x441a3e70"]="withdraw",t["0x46c67b6d"]="megaSwap",t["0x46e04a2f"]="claimTokens",t["0x47e7ef24"]="deposit",t["0x4957677c"]="increase_amount",t["0x4b8a3529"]="borrow",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d447995"]="deposit",t["0x4d5693ab"]="depositUnderlying",t["0x4d99dd16"]="undelegate",t["0x4e3c04bd"]="getRSETHWithETH",t["0x4e71d92d"]="claim",t["0x4f498c73"]="deposit",t["0x4faa8a26"]="depositEtherFor",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x510ccb43"]="getReward",t["0x51227094"]="processOutputOrders",t["0x51a60b02"]="withdrawDelegated",t["0x5243318f"]="depositWstETH",t["0x5358fbda"]="depositETH",t["0x54741d6d"]="addOperator",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x55362f4d"]="swapTo",t["0x573ade81"]="repay",t["0x58b9d179"]="swapOnUniswap",t["0x5a3b74b9"]="setUserUseReserveAsCollateral",t["0x5ae401dc"]="multicall",t["0x5b0fc9c3"]="setOwner",t["0x5b34b966"]="incrementCounter",t["0x5c19a95c"]="delegate",t["0x5ef2c7f0"]="setSubnodeRecord",t["0x60ec5216"]="addNewValidatorDetails",t["0x627cdcb9"]="incrementNonce",t["0x64466805"]="swapOnZeroXv4",t["0x657bb113"]="mintSign",t["0x65ae14b5"]="deleverageWithdraw",t["0x65fc3873"]="create_lock",t["0x66792ba1"]="send",t["0x67dfd4c9"]="leave",t["0x69328dec"]="withdraw",t["0x6ab15071"]="buyVoucher",t["0x6b088d5c"]="withdrawRPL",t["0x6d104216"]="burn",t["0x6d9634b7"]="releaseTokens",t["0x6e26b9f8"]="depositRequest",t["0x6e553f65"]="deposit",t["0x6fc3f5d5"]="deploySmartVault",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x71d6e892"]="claimAlk",t["0x721c6513"]="requestExit",t["0x72c51c0b"]="depositETH",t["0x73c2ad9c"]="addToken",t["0x745400c9"]="requestWithdraw",t["0x74694a2b"]="register",t["0x7617b389"]="mixSwap",t["0x7951b76f"]="requestWithdrawalsWstETHWithPermit",t["0x7b0472f0"]="stake",t["0x7bde82f2"]="redeem",t["0x7c025200"]="swap",t["0x7d41c86e"]="requestRedeem",t["0x7e108d52"]="initiateWithdraw",t["0x7f60d338"]="withdrawSelfApeCoin",t["0x81033120"]="swapOnZeroXv2",t["0x81791788"]="dodoMutliSwap",t["0x827481ea"]="preSaleMint",t["0x8279e760"]="claimSelfApeCoin",t["0x832fbb29"]="transferFromOrMint",t["0x833947fd"]="reallocateTo",t["0x8340f549"]="deposit",t["0x84bd6d29"]="clipperSwap",t["0x852a12e3"]="redeemUnderlying",t["0x85f6d155"]="register",t["0x8697d2c2"]="claimExitedAssets",t["0x87201b41"]="fulfillAvailableAdvancedOrders",t["0x8759c234"]="unstakeClaimTokens_newPOL",t["0x891407c0"]="purchaseTo",t["0x8ab936b8"]="deposit",t["0x8b53f75e"]="redeemInstant",t["0x8b95dd71"]="SetAddr",t["0x8bbedf75"]="ProveAndClaim",t["0x8ca3bf68"]="callBridgeCall",t["0x8ceab9aa"]="enterExitQueue",t["0x8f00eccb"]="multiSwap",t["0x90e1aa69"]="processInputOrders",t["0x9343d9e1"]="cooldownShares",t["0x935fb84b"]="buyOnUniswap",t["0x94ba89a2"]="swapBorrowRateMode",t["0x94bf804d"]="mint",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0x9aa3033a"]="requestVoluntaryExit",t["0x9dcaafb4"]="depositSelfApeCoin",t["0x9f5db69c"]="updateOperatorName",t["0xa0712d68"]="mint",t["0xa1251d75"]="unoswapWithPermit",t["0xa1903eab"]="submit",t["0xa21a9280"]="withdraw",t["0xa22cb465"]="setApprovalForAll",t["0xa27e8b6b"]="undefined",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa378534b"]="create",t["0xa415bcad"]="borrow",t["0xa543ccea"]="setWithdrawalAddress",t["0xa5977fbb"]="send",t["0xa59f3e0c"]="enter",t["0xa62b2a3d"]="openPerpetual",t["0xa6886da9"]="directUniV3Swap",t["0xa694fc3a"]="stake",t["0xa824ae8b"]="swapFrom",t["0xa8a41c70"]="cancelOrder_",t["0xa9059cbb"]="transfer",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xab834bab"]="atomicMatch_",t["0xabdb5ea8"]="repayBorrow",t["0xac9650d8"]="Multicall",t["0xacf1a841"]="renew",t["0xacf41e4d"]="requestWithdrawalsWithPermit",t["0xadcf1163"]="claim",t["0xaf68b302"]="mintToken",t["0xafc3083c"]="removeLiquidity",t["0xb02029e0"]="extendRewardEmission",t["0xb0431182"]="clipperSwap",t["0xb1a1a882"]="depositETH",t["0xb3a34c4c"]="fulfillOrder",t["0xb460af94"]="withdraw",t["0xb6b06dec"]="requestValidatorsExit",t["0xb6b55f25"]="deposit",t["0xb7034f7e"]="claim",t["0xb7482509"]="deposit",t["0xb7ba18c7"]="multiClaim",t["0xb80c2f09"]="smartSwapByOrderId",t["0xb8aa0db9"]="depositRsETH",t["0xba087652"]="reedeem",t["0xbba9b10c"]="destroy",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xbd439126"]="confirmWithdrawalAddress",t["0xbf509bd4"]="withdrawELFee",t["0xbfc2d46a"]="redeemRequest",t["0xc02dd27a"]="depositInstant",t["0xc03786b0"]="buyOnUniswapFork",t["0xc111fb91"]="preSaleMint",t["0xc22fb4ef"]="withdrawUnderlying",t["0xc3953502"]="usePubKeysForValidatorSetup",t["0xc3ae1766"]="depositAsset",t["0xc47f0027"]="setName",t["0xc48ef844"]="createVault",t["0xc4d66de8"]="initialize",t["0xc5a67b01"]="initiateWithdrawal",t["0xc5ebeaec"]="borrow",t["0xc7b8981c"]="withdrawRewards",t["0xc7cdea37"]="withdrawETH",t["0xc805a666"]="clipperSwapToWithPermit",t["0xc83ec04d"]="sellVoucher_new",t["0xca0bfcce"]="deposit",t["0xcb1c8321"]="stakeRPLFor",t["0xcc8690ac"]="depositCrvLp",t["0xccc143b8"]="requestWithdraw",t["0xcdac52ed"]="cooldownAssets",t["0xcfc0afeb"]="simpleSwap",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xd1e6044a"]="compound",t["0xd3a86833"]="completeWithdrawal",t["0xd5f73f5c"]="redeemFiatRequest",t["0xd6681042"]="requestWithdrawals",t["0xd6a92a5d"]="clipperSwapToWithPermit",t["0xd7b9d423"]="withdrawFast",t["0xd99d32e3"]="swapAndDeposit",t["0xda8be864"]="undelegate",t["0xdb006a75"]="redeem",t["0xdd307b99"]="enableOperator",t["0xddd81f82"]="registerProxy",t["0xde0e9a3e"]="unwrap",t["0xde5f6268"]="depositAll",t["0xe0db556b"]="withdrawRewardsPOL",t["0xe1c2eea6"]="redeemFast",t["0xe2864fe3"]="cancel",t["0xe2bbb158"]="deposit",t["0xe3afe0a3"]="claimWithdrawals",t["0xe4457a8a"]="buyVoucherPOL",t["0xe449022e"]="uniswapV3Swap",t["0xe5234c7a"]="closePerpetual",t["0xe570b78b"]="sellVoucher_newPOL",t["0xe61604cf"]="liquidateBorrow",t["0xe63697c8"]="withdraw_to_with_slippage",t["0xe69663f1"]="ZapIn",t["0xe7a050aa"]="depositIntoStrategy",t["0xe7acab24"]="fulfillAdvancedOrder",t["0xe7ffb5f7"]="swapExactAmountIn",t["0xe8a0c121"]="batchWithdraw",t["0xe8c3516b"]="getRSETHWithERC20",t["0xe8d6dbb4"]="RenewAll",t["0xe8eda9df"]="deposit",t["0xe8f28a6c"]="updateOperatorRewardAddress",t["0xe97fddc2"]="unstakeClaimTokens_new",t["0xe99454f5"]="setWithdrawal",t["0xe99a3f80"]="matchOrders",t["0xe9fad8ee"]="exit",t["0xea598cb0"]="wrap",t["0xea99c2a6"]="submit",t["0xec1d21dd"]="megaSwap",t["0xecfe0521"]="withdrawCrvLp",t["0xed98a574"]="fulfillAvailableOrders",t["0xeda74e71"]="deleteActiveValidators",t["0xeea9064b"]="delegateTo",t["0xef5e4682"]="batchWithdrawELFee",t["0xefef39a1"]="purchase",t["0xeff7a612"]="increase_unlock_time",t["0xf14fcbc8"]="commit",t["0xf2888dbb"]="unstake",t["0xf2b9fdb8"]="supply",t["0xf35af1f8"]="callBridge",t["0xf3fef3a3"]="withdraw",t["0xf4de10ac"]="getStakingRewards",t["0xf4f3b200"]="withdrawERC20",t["0xf532e86a"]="submit",t["0xf56408ed"]="disableOperator",t["0xf5661034"]="swapOnUniswapFork",t["0xf5e3c462"]="liquidateBorrow",t["0xf6326fb3"]="depositETH",t["0xf756fa21"]="completeWithdraw",t["0xf7a16963"]="registerWithConfig",t["0xf8444436"]="claimWithdrawal",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf8a70486"]="claimWithdrawal",t["0xf9355f72"]="buyOnUniswap",t["0xf95a49eb"]="buy",t["0xf9609f08"]="deposit_all",t["0xfa15b91b"]="deposit",t["0xfb0f3ee1"]="fulfillBasicOrder",t["0xfb7e92ea"]="claim",t["0xfd3c11a8"]="withdraw",t["0xfd9f1e10"]="cancel",t["0xfe784eaa"]="swapTokens",t["0xff3bf066"]="zapInToPT"})(Fj||(Fj={}));var Rj;(function(t){t["0x08dc9f42"]="mint",t["0x0968f264"]="withdraw",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x11413601"]="stableMintSign",t["0x1249c58b"]="mint",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x4f498c73"]="deposit",t["0x657bb113"]="mintSign",t["0x66792ba1"]="send",t["0x804b936f"]="stableMint",t["0x827481ea"]="preSaleMint",t["0xa0712d68"]="mint",t["0xb6b06dec"]="requestValidatorsExit",t["0xbf509bd4"]="withdrawELFee",t["0xc111fb91"]="preSaleMint",t["0xd0e30db0"]="deposit",t["0xe8a0c121"]="batchWithdraw",t["0xe99454f5"]="setWithdrawal",t["0xef5e4682"]="batchWithdrawELFee",t["0xf39247a9"]="mintSign"})(Rj||(Rj={}));var Dj;(function(t){t["0x01d523b6"]="updateStateAndDepositAndMintOsToken",t["0x066055e0"]="burnOsToken",t["0x0968f264"]="withdraw",t["0x0dd8dd02"]="queueWithdrawals",t["0x0ffab6c2"]="batchWithdrawCLFee",t["0x18f72950"]="updateStateAndDeposit",t["0x1a7ff553"]="updateState",t["0x201b9eb5"]="mintOsToken",t["0x2ba03a79"]="withdrawCLFee",t["0x2c4b04fa"]="deposit",t["0x33404396"]="completeQueuedWithdrawals",t["0x3a4b66f1"]="stake",t["0x4f498c73"]="deposit",t["0x66792ba1"]="send",t["0x721c6513"]="requestExit",t["0x8697d2c2"]="claimExitedAssets",t["0x8ceab9aa"]="enterExitQueue",t["0x9aa3033a"]="requestVoluntaryExit",t["0xac9650d8"]="multicall",t["0xadcf1163"]="claim",t["0xb6b06dec"]="requestValidatorsExit",t["0xb7ba18c7"]="multiClaim",t["0xbf509bd4"]="withdrawELFee",t["0xca0bfcce"]="deposit",t["0xd0e30db0"]="deposit",t["0xda8be864"]="undelegate",t["0xe7a050aa"]="depositIntoStrategy",t["0xe8a0c121"]="batchWithdraw",t["0xe99454f5"]="setWithdrawal",t["0xeea9064b"]="delegateTo",t["0xef5e4682"]="batchWithdrawELFee",t["0xf9609f08"]="deposit"})(Dj||(Dj={}));var Uj;(function(t){t["0x1249c58b"]="mint",t["0x22a775b6"]="mintAndTransfer",t["0x27050d1f"]="createToken",t["0x3db397c6"]="__ERC721Rarible_init",t["0x832fbb29"]="transferFromOrMint",t["0xa22cb465"]="setApprovalForAll",t["0xc111fb91"]="preSaleMint",t["0xe2864fe3"]="cancel",t["0xe99a3f80"]="matchOrders"})(Uj||(Uj={}));var zj;(function(t){t["0x00f714ce"]="withdraw",t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3ccfd60b"]="withdraw",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x64466805"]="swapOnZeroXv4",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa1251d75"]="unoswapWithPermit",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb6b55f25"]="deposit",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xe449022e"]="uniswapV3Swap",t["0xf5661034"]="swapOnUniswapFork"})(zj||(zj={}));var Lj;(function(t){t["0x00f714ce"]="withdraw",t["0x016cba5f"]="execute",t["0x0502b1c5"]="unoswap",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x2298207a"]="simpleBuy",t["0x259f8d1a"]="withdraw",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3ccfd60b"]="withdraw",t["0x3d21e25a"]="swapBridgeToV2",t["0x3eca9c0a"]="fillOrderRFQ",t["0x46c67b6d"]="megaSwap",t["0x4d447995"]="deposit",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x617ba037"]="supply",t["0x64466805"]="swapOnZeroXv4",t["0x65ae14b5"]="deleverageWithdraw",t["0x69328dec"]="withdraw",t["0x6e553f65"]="deposit",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7c025200"]="swap",t["0x81033120"]="swapOnZeroXv2",t["0x84bd6d29"]="clipperSwap",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb460af94"]="withdraw",t["0xb6b55f25"]="deposit",t["0xb80c2f09"]="smartSwapByOrderId",t["0xc03786b0"]="buyOnUniswapFork",t["0xc805a666"]="clipperSwapToWithPermit",t["0xd0e30db0"]="deposit",t["0xf5661034"]="swapOnUniswapFork"})(Lj||(Lj={}));var Vj;(function(t){t["0x016cba5f"]="execute",t["0x02751cec"]="removeLiquidityETH",t["0x03388b4e"]="sublet",t["0x0502b1c5"]="unoswap",t["0x0863b7ac"]="undefined",t["0x0c65b39d"]="unlink",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x1157decb"]="endRental",t["0x11bcc81e"]="downgrade",t["0x12a0ddc7"]="PMMV2Swap",t["0x12aa3caf"]="swap",t["0x160e8be3"]="downgradeToETH",t["0x16dc3ace"]="swapExactAmountOut",t["0x18cbafe5"]="swapExactTokensForETH",t["0x1a674419"]="buyCAPSA",t["0x1ae50184"]="preSignRentalOffer",t["0x1beddfdd"]="endSublet",t["0x1e6d24c2"]="dodoSwapV2TokenToETH",t["0x1e9a6950"]="redeem",t["0x20905506"]="whitelist_profile_creator",t["0x2195995c"]="removeLiquidityWithPermit",t["0x2298207a"]="simpleBuy",t["0x22a775b6"]="mintAndTransfer",t["0x23463624"]="deposit",t["0x23b872dd"]="transferFrom",t["0x2521b930"]="uniswapV3SwapToWithPermit",t["0x258d3c33"]="redeemYield",t["0x26ef699d"]="sendToken",t["0x27050d1f"]="createToken",t["0x2d8918d7"]="addLiquidity",t["0x2e1a7d4d"]="withdraw",t["0x2e95b6c8"]="unoswap",t["0x33635226"]="undefined",t["0x38ed1739"]="swapExactTokensForTokens",t["0x39255d5b"]="callAgreement",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3c659741"]="bridgeCall",t["0x3ce1108d"]="sellToAMM",t["0x3d18b912"]="getReward",t["0x3d21e25a"]="swapBridgeToV2",t["0x3db397c6"]="__ERC721Rarible_init",t["0x3eca9c0a"]="fillOrderRFQ",t["0x3f2e5fc3"]="sendNative",t["0x42966c68"]="burn",t["0x441a3e70"]="withdraw",t["0x45977d03"]="upgrade",t["0x46c67b6d"]="megaSwap",t["0x4727ce3a"]="collect",t["0x47e7ef24"]="deposit",t["0x48eaf6d6"]="requestMaticXSwap",t["0x4926c4ed"]="change_del_exec_with_sign",t["0x4a25d94a"]="swapTokensForExactETH",t["0x4b7312a9"]="follow",t["0x4cc4a27b"]="fillOrderRFQToWithPermit",t["0x4d7b35a0"]="follow_with_sign",t["0x5028bb95"]="dodoSwapV2ETHToToken",t["0x51227094"]="processOutputOrders",t["0x51c3659c"]="change_del_exec_1",t["0x54506e92"]="grind",t["0x54840d1a"]="swapOnUniswap",t["0x54bacd13"]="externalSwap",t["0x54e3f31b"]="SimpleSwap",t["0x560a4db1"]="act",t["0x58b9d179"]="swapOnUniswap",t["0x5b0d5984"]="removeLiquidityETHWithPermitSupportingFeeOnTransferTokens",t["0x5b34b966"]="incrementCounter",t["0x5c11d795"]="swapExactTokensForTokensSupportingFeeOnTransferTokens",t["0x617ba037"]="supply",t["0x627cdcb9"]="incrementNonce",t["0x6363e882"]="registerAndRewardGameWithSignature",t["0x64466805"]="swapOnZeroXv4",t["0x65f29f27"]="quote_with_sign",t["0x66b0dcd3"]="post",t["0x69328dec"]="withdraw",t["0x6ad3ca7d"]="batchCall",t["0x6d0fd658"]="metadata_with_sign",t["0x6d9634b7"]="releaseTokens",t["0x6dea40b3"]="set_follow_mod",t["0x6e09f420"]="cancelRentalOffer",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x7617b389"]="mixSwap",t["0x77baf209"]="claimMaticXSwap",t["0x791ac947"]="swapExactTokensForETHSupportingFeeOnTransferTokens",t["0x7c025200"]="swap",t["0x7e502fe0"]="link_with_sign",t["0x7ff36ab5"]="swapExactETHForTokens",t["0x809d8947"]="unfollow_with_sign",t["0x81033120"]="swapOnZeroXv2",t["0x815ed04a"]="unfollow",t["0x81791788"]="dodoMutliSwap",t["0x825ab164"]="unlink_with_sign",t["0x832fbb29"]="transferFromOrMint",t["0x84bd6d29"]="clipperSwap",t["0x85149258"]="exerciseOptions",t["0x86cf48e7"]="link",t["0x87201b41"]="fulfillAvailableAdvancedOrders",t["0x8803dbee"]="swapTokensForExactTokens",t["0x8875eb84"]="buyFromAMM",t["0x8ca3bf68"]="callBridgeCall",t["0x8d259eb1"]="rent",t["0x8f00eccb"]="undefined",t["0x907cd7d2"]="post_with_sign",t["0x90e1aa69"]="processInputOrders",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0x9f916c9f"]="buyFromAMMWithReferrer",t["0xa1251d75"]="unoswapWithPermit",t["0xa21a9280"]="withdraw",t["0xa22cb465"]="setApprovalForAll",t["0xa27e8b6b"]="undefined",t["0xa2922622"]="withdrawWithSymbolCheck",t["0xa378534b"]="create",t["0xa5977fbb"]="send",t["0xa6886da9"]="directUniV3Swap",t["0xa694fc3a"]="stake",t["0xa8a41c70"]="cancelOrder_",t["0xa94e78ef"]="multiSwap",t["0xaa2daba6"]="depositWithSymbolCheck",t["0xaf2979eb"]="removeLiquidityETHSupportingFeeOnTransferTokens",t["0xafc3083c"]="removeLiquidity",t["0xb273b4a7"]="comment",t["0xb3a34c4c"]="fulfillOrder",t["0xb42df51a"]="comment_with_sign",t["0xb60099b7"]="craft",t["0xb6b55f25"]="deposit",t["0xb6f9de95"]="swapExactETHForTokensSupportingFeeOnTransferTokens",t["0xb7034f7e"]="claim",t["0xb7902e73"]="collect_with_sign",t["0xb80c2f09"]="smartSwapByOrderId",t["0xbaa2abde"]="removeLiquidity",t["0xbba9b10c"]="destroy",t["0xbc80f1a8"]="uniswapV3SwapTo",t["0xc03786b0"]="buyOnUniswapFork",t["0xc1f4b40a"]="change_del_exec_2",t["0xc5d5d96a"]="act",t["0xc6d45944"]="set_block_status_with_sign",t["0xc78cf1a0"]="swapMaticForMaticXViaInstantPool",t["0xc805a666"]="clipperSwapToWithPermit",t["0xc86642c7"]="act_with_sign",t["0xce30bb4f"]="set_follow_mod_with_sign",t["0xcf81464b"]="upgradeByETH",t["0xcfc0afeb"]="simpleSwap",t["0xd06a750c"]="exercisePositions",t["0xd0a3b665"]="fillOrderRFQ",t["0xd0e30db0"]="deposit",t["0xde5f6268"]="depositAll",t["0xded9382a"]="removeLiquidityETHWithPermit",t["0xe1649e8d"]="endRentalPrematurely",t["0xe2864fe3"]="cancel",t["0xe2bbb158"]="deposit",t["0xe449022e"]="uniswapV3Swap",t["0xe6a402b5"]="mirror_with_sign",t["0xe7acab24"]="fulfillAdvancedOrder",t["0xe7ffb5f7"]="swapExactAmountIn",t["0xe8e33700"]="addLiquidity",t["0xe99a3f80"]="matchOrders",t["0xe9fad8ee"]="exit",t["0xea25e176"]="claim",t["0xec1d21dd"]="undefined",t["0xed98a574"]="fulfillAvailableOrders",t["0xefe4fd83"]="metadata",t["0xf08e8f5e"]="mint",t["0xf0ba35f0"]="quote",t["0xf2b9fdb8"]="supply",t["0xf305d719"]="addLiquidityETH",t["0xf35af1f8"]="callBridge",t["0xf3fef3a3"]="withdraw",t["0xf5661034"]="swapOnUniswapFork",t["0xf87dc1b7"]="dodoSwapV2TokenToToken",t["0xf90604d1"]="mirror",t["0xf9355f72"]="undefined",t["0xf95a49eb"]="undefined",t["0xfb0f3ee1"]="fulfillBasicOrder",t["0xfb3bdb41"]="swapETHForExactTokens",t["0xfb827e82"]="set_block_status",t["0xfd9f1e10"]="cancel",t["0xfe9d8323"]="sellCAPSA",t["0xff3bf066"]="zapInToPT"})(Vj||(Vj={}));var Hj;(function(t){t["0x016cba5f"]="execute",t["0x0b86a4c1"]="swapOnUniswapV2Fork",t["0x0d5f0e3b"]="uniswapV3SwapTo",t["0x12a0ddc7"]="PMMV2Swap",t["0x2298207a"]="simpleBuy",t["0x3d21e25a"]="swapBridgeToV2",t["0x46c67b6d"]="megaSwap",t["0x54840d1a"]="swapOnUniswap",t["0x54e3f31b"]="SimpleSwap",t["0x64466805"]="swapOnZeroXv4",t["0x81033120"]="swapOnZeroXv2",t["0x935fb84b"]="buyOnUniswap",t["0x972250fe"]="bridgeToV2",t["0x9871efa4"]="unxswapByOrderId",t["0xa6886da9"]="directUniV3Swap",t["0xa94e78ef"]="multiSwap",t["0xb80c2f09"]="smartSwapByOrderId",t["0xc03786b0"]="buyOnUniswapFork",t["0xf5661034"]="swapOnUniswapFork"})(Hj||(Hj={}));var qj;(function(t){t["0x0502b1c5"]="unoswap",t["0x12aa3caf"]="swap",t["0x3c15fd91"]="unoswapToWithPermit",t["0x3eca9c0a"]="fillOrderRFQ",t["0x70ccbd31"]="fillOrderRFQToWithPermit",t["0x84bd6d29"]="clipperSwap",t["0xc805a666"]="clipperSwapToWithPermit"})(qj||(qj={}));var Wj;(function(t){t.APPROVE="0x095ea7b3",t.TRANSFER="0xa9059cbb"})(Wj||(Wj={}));var Kj;(function(t){t.APPROVE="0x095ea7b3",t.SET_APPROVAL_FOR_ALL="0xa22cb465",t.TRANSFER_FROM="0x23b872dd",t.SAFE_TRANSFER_FROM="0x42842e0e",t.SAFE_TRANSFER_FROM_WITH_DATA="0xb88d4fde"})(Kj||(Kj={}));var Xj;(function(t){t.SET_APPROVAL_FOR_ALL="0xa22cb465",t.SAFE_TRANSFER_FROM="0xf242432a",t.SAFE_BATCH_TRANSFER_FROM="0x2eb2c2d6"})(Xj||(Xj={}));({...Mj,...$j,...Oj,...Bj,...Fj,...Rj,...Dj,...Uj,...zj,...Lj,...Vj,...Hj,...qj});const I6=t=>t.length%2?"0"+t:t;function bo(t){const e=[];return t.split("/").forEach(n=>{let s=parseInt(n,10);isNaN(s)||(n.length>1&&n[n.length-1]==="'"&&(s+=2147483648),e.push(s))}),e}function yu(t){if(!t)return Buffer.alloc(0);const e=t.startsWith("0x")?t.slice(2):t;return Buffer.from(I6(e),"hex")}function wf(t){return t?yu(t):null}const fi=(t,e)=>t.toString(16).padStart(2*e,"0"),F_e=Object.values(Wj),R_e=[...Object.values(Kj),...Object.values(Xj)],Vie=t=>{const e={nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};for(const r of t)for(const n in r)e[n].push(...r[n]);return e},D_e=(t,e,r)=>{if(r)return t;const s=Hie(e)*2+35,i=s%256,a=(s+1)%256;if(i===t)return 0;if(a===t)return 1;throw new Error("Invalid v value")},Hie=t=>{const r=Buffer.from(I6(new A6(t).toString(16)),"hex").subarray(0,4);return parseInt(r.toString("hex"),16)},U_e=(t,e,r)=>{if(e.isZero())return t.toString(16);const n=D_e(t,e,r);return I6(r?n.toString(16):e.times(2).plus(35).plus(n).toString(16))},z_e=(t,e,r)=>{const s=Buffer.concat([e,t]);if(s.length<=255)return[s];if(r){const f=Math.ceil(s.length/255);return new Array(f).fill(null).map((h,m)=>s.subarray(m*255,(m+1)*255))}const i=ik(t).slice(-3),a=sk(i),o=yu(a).subarray(1);let c=0;const l=s.length%255;if(l===0||l>o.length)c=255;else for(let f=1;f<=255;f++){const h=s.length%(255-f);if(h===0||h>o.length){c=255-f;break}}const u=Math.ceil(s.length/c);return new Array(u).fill(null).map((f,h)=>s.subarray(h*c,(h+1)*c))};var UA;(function(t){t[t.DYNAMIC=0]="DYNAMIC",t[t.FIXED=1]="FIXED"})(UA||(UA={}));const n7={CUSTOM:{key:()=>0,size:()=>null},INT:{key:()=>1,size:t=>Number(t)/8},UINT:{key:()=>2,size:t=>Number(t)/8},ADDRESS:{key:()=>3,size:()=>null},BOOL:{key:()=>4,size:()=>null},STRING:{key:()=>5,size:()=>null},BYTES:{key:t=>typeof t<"u"?6:7,size:t=>typeof t<"u"?Number(t):null}},FE={INT(t,e=256){const r=t??"0";if(typeof r=="string"&&(r!=null&&r.startsWith("0x")))return yu(r);let n=new A6(r);if(n.lt(0)){const i=e/8;n=new A6(`0x${Buffer.alloc(i,255).toString("hex")}`).plus(n).plus(1)}const s=n.toString(16).length%2?"0"+n.toString(16):n.toString(16);return Buffer.from(s,"hex")},UINT(t){return this.INT(t)},BOOL(t){return this.INT(typeof t=="boolean"?Number(t).toString():t)},ADDRESS(t){return yu(t??"").slice(0,20)},STRING(t){return Buffer.from(t??"","utf-8")},BYTES(t,e){const r=t??"";return yu(r).slice(0,e??((r==null?void 0:r.length)-2)/2)}},zA=t=>{const e=new RegExp(/^([^[\]]*)(\[.*\])*/g),r=new RegExp(/\[(\d*)\]/g),n=new RegExp(/(?=u?int|bytes)([a-zA-Z-0-9]+?)(\d{1,3})$/g),[,s,i]=e.exec(t||"")||[],[,a=s,o]=n.exec(s||"")||[],c=a?{name:a,size:o?Number(o):void 0}:null,u=(i?[...i.matchAll(r)]:[]).map(([,f])=>f?Number(f):null);return[c,u]},L_e=(t,e,r)=>{if(r>=16)throw new Error("Eth utils - constructTypeDescByteString - Cannot accept a typeValue >= 16 because the typeValue can only be 4 bits in binary"+{isArray:t,typeSize:e,typeValue:r});const n=t?"1":"0",s=typeof e=="number"?"1":"0",i="00",a=r.toString(2).padStart(4,"0");return fi(parseInt(n+s+i+a,2),1)},V_e=({name:t,type:e})=>{var u,f;const[r,n]=zA(e),s=!!n.length,i=n7[((u=r==null?void 0:r.name)==null?void 0:u.toUpperCase())||""]||n7.CUSTOM,a=i.key(r==null?void 0:r.size),o=i.size(r==null?void 0:r.size),c=L_e(s,o,a),l=[Buffer.from(c,"hex")];return i===n7.CUSTOM&&(l.push(Buffer.from(fi(((f=r==null?void 0:r.name)==null?void 0:f.length)??0,1),"hex")),l.push(Buffer.from((r==null?void 0:r.name)??"","utf-8"))),typeof o=="number"&&l.push(Buffer.from(fi(o,1),"hex")),s&&(l.push(Buffer.from(fi(n.length,1),"hex")),n.forEach(h=>{typeof h=="number"?l.push(Buffer.from(fi(UA.FIXED,1),"hex"),Buffer.from(fi(h,1),"hex")):l.push(Buffer.from(fi(UA.DYNAMIC,1),"hex"))})),l.push(Buffer.from(fi(t.length,1),"hex"),Buffer.from(t,"utf-8")),Buffer.concat(l)},H_e=(t,e,r)=>{const n={};if(e||!t)return n;const i=t.fields.filter(({format:o})=>o==="token").sort((o,c)=>(o.coin_ref||0)-(c.coin_ref||0)).reduce((o,c)=>{const l=O_e(c.path,r);if(Array.isArray(l))throw new Error("Array of tokens is not supported with a single coin ref");return[...o,{token:l,coinRef:c.coin_ref}]},[]);for(const{token:o,coinRef:c}of i)n[c]={token:o};return t.fields.some(o=>o.format==="amount"&&o.coin_ref===255)&&r.domain.verifyingContract&&(n[255]={token:r.domain.verifyingContract}),n},q_e=async t=>{const e=await t.send(176,1,0,0);let r=1;const n=e[r];r+=1;const s=e.subarray(r,r+n).toString("ascii");r+=n;const i=e[r];r+=1;const a=e.subarray(r,r+i).toString("ascii");return{name:s,version:a}},FH=(t,e)=>{const r=Buffer.from(t),n=Buffer.from(fi(r.length,1),"hex"),s=Buffer.from(e,"hex"),i=Buffer.from(fi(s.length,1),"hex");return{displayNameBuffer:Buffer.concat([n,r]),sigBuffer:Buffer.concat([i,s])}},W_e=(t,e,r,n,s)=>{switch(t){case"raw":case"datetime":return Buffer.concat([n,s]);case"token":{const{deviceTokenIndex:i}=r[e];return Buffer.concat([Buffer.from(fi(i||e||0,1),"hex"),s])}case"amount":{const{deviceTokenIndex:i}=r[e];return Buffer.concat([n,Buffer.from(fi(i||e||0,1),"hex"),s])}default:throw new Error("Invalid format")}},K_e=({transport:t,loadConfig:e,chainId:r,erc20SignaturesBlob:n,types:s,filters:i,shouldUseV1Filters:a,shouldUseDiscardedFields:o,coinRefsTokensMap:c})=>{var f;const l={};for(const h in s)l[h]=(f=s[h])==null?void 0:f.reduce((m,y)=>({...m,[y.name]:y.type}),{});const u=async(h,m,y="")=>{var O,F;const[x,k]=h,[C,...I]=k,_=!n7[((O=x==null?void 0:x.name)==null?void 0:O.toUpperCase())||""];if(Array.isArray(m)&&typeof C<"u"){await LA(t,{structType:"array",value:m.length});const D=`${y}.[]`;if(!m.length){const j=i==null?void 0:i.fields.filter(T=>T.path.startsWith(D));if(j&&o)for(const T of j)await A3(t,"discardField",e,{path:T.path}),await A3(t,"showField",e,{displayName:T.label,sig:T.signature,format:T.format,coinRef:T.coin_ref,chainId:r,erc20SignaturesBlob:n,shouldUseV1Filters:a,coinRefsTokensMap:c,isDiscarded:!0})}for(const j of m)await u([x,I],j,D)}else if(_)for(const D of Object.keys(l[(x==null?void 0:x.name)||""])){const j=m[D],T=(F=l[(x==null?void 0:x.name)||""])==null?void 0:F[D];T&&await u(zA(T),j,`${y}.${D}`)}else{const D=i==null?void 0:i.fields.find(j=>y===j.path);D&&await A3(t,"showField",e,{displayName:D.label,sig:D.signature,format:D.format,coinRef:D.coin_ref,chainId:r,erc20SignaturesBlob:n,shouldUseV1Filters:a,coinRefsTokensMap:c,isDiscarded:!1}),await LA(t,{structType:"field",value:{data:m,type:(x==null?void 0:x.name)||"",sizeInBits:x==null?void 0:x.size}})}};return u},RH=(t,e)=>{let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=26]="INS",a[a.P1_complete=0]="P1_complete",a[a.P1_partial=1]="P1_partial",a[a.P2_name=0]="P2_name",a[a.P2_field=255]="P2_field"})(r||(r={}));const{structType:n,value:s}=e,i=n==="name"&&typeof s=="string"?Buffer.from(s,"utf-8"):s;return t.send(r.CLA,r.INS,r.P1_complete,n==="name"?r.P2_name:r.P2_field,i)},LA=async(t,e)=>{var i;let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=28]="INS",a[a.P1_complete=0]="P1_complete",a[a.P1_partial=1]="P1_partial",a[a.P2_root=0]="P2_root",a[a.P2_array=15]="P2_array",a[a.P2_field=255]="P2_field"})(r||(r={}));const{structType:n,value:s}=e;if(n==="root")return t.send(r.CLA,r.INS,r.P1_complete,r.P2_root,Buffer.from(s,"utf-8"));if(n==="array")return t.send(r.CLA,r.INS,r.P1_complete,r.P2_array,Buffer.from(fi(s,1),"hex"));if(n==="field"){const{data:a,type:o,sizeInBits:c}=s,l=(i=FE[o.toUpperCase()])==null?void 0:i.call(FE,a,c);if(l){const u=Math.floor(l.length/256),f=l.length%256,h=Buffer.concat([Buffer.from(fi(u,1),"hex"),Buffer.from(fi(f,1),"hex"),l]),m=new Array(Math.ceil(h.length/256)).fill(null).map((y,x)=>h.subarray(x*255,(x+1)*255));for(const y of m)await t.send(r.CLA,r.INS,y!==m[m.length-1]?r.P1_partial:r.P1_complete,r.P2_field,y)}}return Promise.resolve()};async function A3(t,e,r,n){let s;switch(function(i){i[i.CLA=224]="CLA",i[i.INS=30]="INS",i[i.P1_standard=0]="P1_standard",i[i.P1_discarded=1]="P1_discarded",i[i.P2_activate=0]="P2_activate",i[i.P2_discarded=1]="P2_discarded",i[i.P2_show_field=255]="P2_show_field",i[i.P2_message_info=15]="P2_message_info",i[i.P2_datetime=252]="P2_datetime",i[i.P2_amount_join_token=253]="P2_amount_join_token",i[i.P2_amount_join_value=254]="P2_amount_join_value",i[i.P2_raw=255]="P2_raw"}(s||(s={})),e){case"activate":return t.send(s.CLA,s.INS,s.P1_discarded,s.P2_activate);case"contractName":{const{displayName:i,filtersCount:a,sig:o}=n,{displayNameBuffer:c,sigBuffer:l}=FH(i,o),u=Buffer.from(fi(a,1),"hex"),f=Buffer.concat([c,u,l]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_message_info,f)}case"showField":{const{displayName:i,sig:a,format:o,coinRef:c,chainId:l,coinRefsTokensMap:u,shouldUseV1Filters:f,erc20SignaturesBlob:h,isDiscarded:m}=n,{displayNameBuffer:y,sigBuffer:x}=FH(i,a);if(f){const O=Buffer.concat([y,x]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_show_field,O)}if(o==="token"&&c!==void 0){const{token:O,deviceTokenIndex:F}=u[c];if(F===void 0){const D=await DA(O,l,h,r);if(D){let j;(function(R){R[R.CLA=224]="CLA",R[R.INS=10]="INS",R[R.P1=0]="P1",R[R.P2=0]="P2"})(j||(j={}));const T=await t.send(j.CLA,j.INS,j.P1,j.P2,D.data);u[c].deviceTokenIndex=T[0]}}}if(o==="amount"&&c===255){const{token:O}=u[255],F=await DA(O,l,h);F&&(await t.send(224,10,0,0,F.data),u[255].deviceTokenIndex=255)}if(!o)throw new Error("Missing format");const I={raw:s.P2_raw,datetime:s.P2_datetime,token:s.P2_amount_join_token,amount:s.P2_amount_join_value},_=W_e(o,c,u,y,x);return t.send(s.CLA,s.INS,m?s.P1_discarded:s.P1_standard,I[o],_)}case"discardField":{const{path:i}=n,a=Buffer.from(i),o=Buffer.from(fi(a.length,1),"hex"),c=Buffer.concat([o,a]);return t.send(s.CLA,s.INS,s.P1_standard,s.P2_discarded,c)}}}const X_e=async(t,e,r,n=!1,s)=>{let i;(function($){$[$.CLA=224]="CLA",$[$.INS=12]="INS",$[$.P1=0]="P1",$[$.P2_v0=0]="P2_v0",$[$.P2_full=1]="P2_full"})(i||(i={}));const{primaryType:a,types:o,domain:c,message:l}=r,{calServiceURL:u,staticEIP712SignaturesV1:f,staticEIP712SignaturesV2:h}=pw(s),m=zF(o),{version:y}=await q_e(t),x=!dH.gte(y,"1.11.1-0",{includePrerelease:!0}),k=dH.gte(y,"1.12.0-0",{includePrerelease:!0}),C=await $_e(r,x,u,f,h),I=H_e(C,x,r),_=Object.entries(m);for(const[$,b]of _){await RH(t,{structType:"name",value:$});for(const{name:w,type:p}of b){const g=V_e({name:w,type:p});await RH(t,{structType:"field",value:g})}}C&&await A3(t,"activate",s);const O=x?void 0:await LF(s,c.chainId||0),F=K_e({transport:t,loadConfig:s,chainId:c.chainId||0,erc20SignaturesBlob:O,types:m,filters:C,shouldUseV1Filters:x,shouldUseDiscardedFields:k,coinRefsTokensMap:I}),D="EIP712Domain";await LA(t,{structType:"root",value:D});const j=m[D];for(const{name:$,type:b}of j){const w=c[$];await F(zA(b),w)}if(C){const{contractName:$,fields:b}=C,w={displayName:$.label,filtersCount:b.length,sig:$.signature};await A3(t,"contractName",s,w)}await LA(t,{structType:"root",value:a});const T=m[a];for(const{name:$,type:b}of T){const w=l[$];await F(zA(b),w,$)}const R=bo(e),q=Buffer.alloc(1+R.length*4);return q[0]=R.length,R.forEach(($,b)=>{q.writeUInt32BE($,1+4*b)}),t.send(i.CLA,i.INS,i.P1,n?i.P2_v0:i.P2_full,q).then($=>{const b=$[0],w=$.subarray(1,33).toString("hex"),p=$.subarray(33,65).toString("hex");return{v:b,r:w,s:p}})},Z_e=(t,e,r,n)=>{const s=yu(r),i=yu(n),a=bo(e),o=Buffer.alloc(1+a.length*4+32+32,0);let c=0;return o[0]=a.length,a.forEach((l,u)=>{o.writeUInt32BE(l,1+4*u)}),c=1+4*a.length,s.copy(o,c),c+=32,i.copy(o,c),t.send(224,12,0,0,o).then(l=>{const u=l[0],f=l.subarray(1,33).toString("hex"),h=l.subarray(33,65).toString("hex");return{v:u,r:f,s:h}})},Y4="abi/5.8.0",Zr=new Kt(Y4),S1={};let DH={calldata:!0,memory:!0,storage:!0},J_e={calldata:!0,memory:!0};function D8(t,e){if(t==="bytes"||t==="string"){if(DH[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&J_e[e])return!0;return(DH[e]||e==="payable")&&Zr.throwArgumentError("invalid modifier","name",e),!1}function Q_e(t,e){let r=t;function n(o){Zr.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function s(o){let c={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(c.indexed=!1),c}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let o=0;o<t.length;o++){let c=t[o];switch(c){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=Bb(a.type),a.components=[s(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),D8(a.type,a.name)&&(a.name=""),a.type=Bb(a.type);let l=a;a=a.parent,a||n(o),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),D8(a.type,a.name)&&(a.name=""),a.type=Bb(a.type);let u=s(a.parent);a.parent.components.push(u),delete a.parent,a=u;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Bb(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):D8(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=c,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=c,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=c,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=c,delete a.state.allowArray):a.state.readArray?a.type+=c:n(o)}}return a.parent&&Zr.throwArgumentError("unexpected eof","param",t),delete i.state,a.name==="indexed"?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):D8(a.type,a.name)&&(a.name=""),i.type=Bb(i.type),i}function s7(t,e){for(let r in e)As(t,r,e[r])}const ln=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Y_e=new RegExp(/^(.*)\[([0-9]*)\]$/);let Vd=class T0{constructor(e,r){e!==S1&&Zr.throwError("use fromString",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),s7(this,r);let n=this.type.match(Y_e);n?s7(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:T0.fromObject({type:n[1],components:this.components}),baseType:"array"}):s7(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ln.sighash),ln[e]||Zr.throwArgumentError("invalid format type","format",e),e===ln.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==ln.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===ln.full?", ":",")+")"):r+=this.type,e!==ln.sighash&&(this.indexed===!0&&(r+=" indexed"),e===ln.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?T0.fromString(e,r):T0.fromObject(e)}static fromObject(e){return T0.isParamType(e)?e:new T0(S1,{name:e.name||null,type:Bb(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(T0.fromObject):null})}static fromString(e,r){function n(s){return T0.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return n(Q_e(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function N6(t,e){return eTe(t).map(r=>Vd.fromString(r,e))}let wk=class L2{constructor(e,r){e!==S1&&Zr.throwError("use a static from method",Kt.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),s7(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return L2.isFragment(e)?e:typeof e=="string"?L2.fromString(e):L2.fromObject(e)}static fromObject(e){if(L2.isFragment(e))return e;switch(e.type){case"function":return HA.fromObject(e);case"event":return Zj.fromObject(e);case"constructor":return VA.fromObject(e);case"error":return zH.fromObject(e);case"fallback":case"receive":return null}return Zr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Zj.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?HA.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?VA.fromString(e.trim()):e.split(" ")[0]==="error"?zH.fromString(e.substring(5).trim()):Zr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},Zj=class jb extends wk{format(e){if(e||(e=ln.sighash),ln[e]||Zr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",e!==ln.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?jb.fromString(e):jb.fromObject(e)}static fromObject(e){if(jb.isEventFragment(e))return e;e.type!=="event"&&Zr.throwArgumentError("invalid event object","value",e);const r={name:E6(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Vd.fromObject):[],type:"event"};return new jb(S1,r)}static fromString(e){let r=e.match(C6);r||Zr.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":n=!0;break;case"":break;default:Zr.warn("unknown modifier: "+s)}}),jb.fromObject({name:r[1].trim(),anonymous:n,inputs:N6(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function qie(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Zr.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Zr.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=cn.from(r[1]),r[0]):t}function Wie(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Kie(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Zr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Zr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Zr.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Zr.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Zr.throwArgumentError("unable to determine stateMutability","value",t),e}let VA=class Mb extends wk{format(e){if(e||(e=ln.sighash),ln[e]||Zr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===ln.sighash&&Zr.throwError("cannot format a constructor for sighash",Kt.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Mb.fromString(e):Mb.fromObject(e)}static fromObject(e){if(Mb.isConstructorFragment(e))return e;e.type!=="constructor"&&Zr.throwArgumentError("invalid constructor object","value",e);let r=Kie(e);r.constant&&Zr.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Vd.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?cn.from(e.gas):null};return new Mb(S1,n)}static fromString(e){let r={type:"constructor"};e=qie(e,r);let n=e.match(C6);return(!n||n[1].trim()!=="constructor")&&Zr.throwArgumentError("invalid constructor string","value",e),r.inputs=N6(n[2].trim(),!1),Wie(n[3].trim(),r),Mb.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},HA=class $b extends VA{format(e){if(e||(e=ln.sighash),ln[e]||Zr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",e!==ln.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?$b.fromString(e):$b.fromObject(e)}static fromObject(e){if($b.isFunctionFragment(e))return e;e.type!=="function"&&Zr.throwArgumentError("invalid function object","value",e);let r=Kie(e);const n={type:e.type,name:E6(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Vd.fromObject):[],outputs:e.outputs?e.outputs.map(Vd.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?cn.from(e.gas):null};return new $b(S1,n)}static fromString(e){let r={type:"function"};e=qie(e,r);let n=e.split(" returns ");n.length>2&&Zr.throwArgumentError("invalid function string","value",e);let s=n[0].match(C6);if(s||Zr.throwArgumentError("invalid function signature","value",e),r.name=s[1].trim(),r.name&&E6(r.name),r.inputs=N6(s[2],!1),Wie(s[3].trim(),r),n.length>1){let i=n[1].match(C6);(i[1].trim()!=""||i[3].trim()!="")&&Zr.throwArgumentError("unexpected tokens","value",e),r.outputs=N6(i[2],!1)}else r.outputs=[];return $b.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function UH(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Zr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let zH=class Ob extends wk{format(e){if(e||(e=ln.sighash),ln[e]||Zr.throwArgumentError("invalid format type","format",e),e===ln.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==ln.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ln.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Ob.fromString(e):Ob.fromObject(e)}static fromObject(e){if(Ob.isErrorFragment(e))return e;e.type!=="error"&&Zr.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:E6(e.name),inputs:e.inputs?e.inputs.map(Vd.fromObject):[]};return UH(new Ob(S1,r))}static fromString(e){let r={type:"error"},n=e.match(C6);return n||Zr.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&E6(r.name),r.inputs=N6(n[2],!1),UH(Ob.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function Bb(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const G_e=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function E6(t){return(!t||!t.match(G_e))&&Zr.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const C6=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function eTe(t){t=t.trim();let e=[],r="",n=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&n===0?(e.push(r),r=""):(r+=i,i==="("?n++:i===")"&&(n--,n===-1&&Zr.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const VF=new Kt(Y4);let qh=class{constructor(e,r,n,s){this.name=e,this.type=r,this.localName=n,this.dynamic=s}_throwError(e,r){VF.throwArgumentError(e,this.localName,r)}},Jj=class{constructor(e){As(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return yF(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Op(e._data))}writeBytes(e){let r=Xr(e);const n=r.length%this.wordSize;return n&&(r=Op([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Xr(cn.from(e));return r.length>this.wordSize&&VF.throwError("value out-of-bounds",Kt.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Op([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},tTe=class Qj{constructor(e,r,n,s){As(this,"_data",Xr(e)),As(this,"wordSize",r||32),As(this,"_coerceFunc",n),As(this,"allowLoose",s),this._offset=0}get data(){return _r(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Qj.coerce(e,r)}_peekBytes(e,r,n){let s=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?s=r:VF.throwError("data out-of-bounds",Kt.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new Qj(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return cn.from(this.readBytes(this.wordSize))}},rTe=class extends qh{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Th(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Th(yl(e.readValue().toHexString(),20))}},nTe=class extends qh{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const sy=new Kt(Y4);function Xie(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||sy.throwError("cannot encode object for signature with missing names",Kt.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&sy.throwError("cannot encode object for signature with duplicate names",Kt.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else sy.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&sy.throwArgumentError("types/value length mismatch","tuple",r);let s=new Jj(t.wordSize),i=new Jj(t.wordSize),a=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(s,u)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function Zie(t,e){let r=[],n=t.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readValue(),c=n.subReader(o.toNumber());try{a=i.decode(c)}catch(l){if(l.code===Kt.errors.BUFFER_OVERRUN)throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(o.code===Kt.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&r.push(a)});const s=e.reduce((i,a)=>{const o=a.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});e.forEach((i,a)=>{let o=i.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const c=r[a];c instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw c}}):r[o]=c});for(let i=0;i<r.length;i++){const a=r[i];a instanceof Error&&Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(r)}let sTe=class extends qh{constructor(e,r,n){const s=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",s,n,i),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),sy.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<r.length;i++)s.push(this.coder);return Xie(e,s,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&sy.throwError("insufficient data length",Kt.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let s=0;s<r;s++)n.push(new nTe(this.coder));return e.coerce(this.name,Zie(e,n))}},iTe=class extends qh{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},Jie=class extends qh{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Xr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},aTe=class extends Jie{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,_r(super.decode(e)))}},oTe=class extends qh{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Xr(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,_r(e.readBytes(this.size)))}},cTe=class extends qh{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}},lTe=class extends qh{constructor(e,r,n){const s=(r?"int":"uint")+e*8;super(s,s,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=cn.from(r),s=qSe.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(HSe).mul(VSe)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Ese)||n.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}},uTe=class extends Jie{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Bp(r))}decode(e){return T_e(super.decode(e))}},U8=class extends qh{constructor(e,r){let n=!1;const s=[];e.forEach(a=>{a.dynamic&&(n=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,r){return Xie(e,this.coders,r)}decode(e){return e.coerce(this.name,Zie(e,this.coders))}};const z8=new Kt(Y4),dTe=new RegExp(/^bytes([0-9]*)$/),fTe=new RegExp(/^(u?int)([0-9]*)$/);let hTe=class{constructor(e){As(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new rTe(e.name);case"bool":return new iTe(e.name);case"string":return new uTe(e.name);case"bytes":return new aTe(e.name);case"array":return new sTe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new U8((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new cTe(e.name)}let r=e.type.match(fTe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&z8.throwArgumentError("invalid "+r[1]+" bit length","param",e),new lTe(n/8,r[1]==="int",e.name)}if(r=e.type.match(dTe),r){let n=parseInt(r[1]);return(n===0||n>32)&&z8.throwArgumentError("invalid bytes length","param",e),new oTe(n,e.name)}return z8.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new tTe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Jj(this._getWordSize())}getDefaultValue(e){const r=e.map(s=>this._getCoder(Vd.from(s)));return new U8(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&z8.throwError("types/values length mismatch",Kt.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(a=>this._getCoder(Vd.from(a))),s=new U8(n,"_"),i=this._getWriter();return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>this._getCoder(Vd.from(a)));return new U8(s,"_").decode(this._getReader(Xr(r),n))}};const Ak=new hTe,ss=new Kt(Y4);let pTe=class extends ak{},mTe=class extends ak{},gTe=class extends ak{},LH=class extends ak{static isIndexed(e){return!!(e&&e._isIndexed)}};const bTe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function VH(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let Qie=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,As(this,"fragments",r.map(n=>wk.from(n)).filter(n=>n!=null)),As(this,"_abiCoder",E8(new.target,"getAbiCoder")()),As(this,"functions",{}),As(this,"errors",{}),As(this,"events",{}),As(this,"structs",{}),this.fragments.forEach(n=>{let s=null;switch(n.type){case"constructor":if(this.deploy){ss.warn("duplicate definition - constructor");return}As(this,"deploy",n);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=n.format();if(s[i]){ss.warn("duplicate definition - "+i);return}s[i]=n}),this.deploy||As(this,"deploy",VA.from({payable:!1,type:"constructor"})),As(this,"_isInterface",!0)}format(e){e||(e=ln.full),e===ln.sighash&&ss.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===ln.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Ak}static getAddress(e){return Th(e)}static getSighash(e){return P6(R8(e.format()),0,4)}static getEventTopic(e){return R8(e.format())}getFunction(e){if(_a(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];ss.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching function","name",n):s.length>1&&ss.throwArgumentError("multiple matching functions","name",n),this.functions[s[0]]}const r=this.functions[HA.fromString(e).format()];return r||ss.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(_a(e)){const n=e.toLowerCase();for(const s in this.events)if(n===this.getEventTopic(s))return this.events[s];ss.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching event","name",n):s.length>1&&ss.throwArgumentError("multiple matching events","name",n),this.events[s[0]]}const r=this.events[Zj.fromString(e).format()];return r||ss.throwArgumentError("no matching event","signature",e),r}getError(e){if(_a(e)){const n=E8(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===n(i))return this.errors[s]}ss.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return s.length===0?ss.throwArgumentError("no matching error","name",n):s.length>1&&ss.throwArgumentError("multiple matching errors","name",n),this.errors[s[0]]}const r=this.errors[HA.fromString(e).format()];return r||ss.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return E8(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),E8(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Xr(r);return _r(n.slice(0,4))!==this.getSighash(e)&&ss.throwArgumentError(`data signature does not match error ${e.name}.`,"data",_r(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),_r(Op([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Xr(r);return _r(n.slice(0,4))!==this.getSighash(e)&&ss.throwArgumentError(`data signature does not match function ${e.name}.`,"data",_r(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_r(Op([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Xr(r),s=null,i="",a=null,o=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=_r(n.slice(0,4)),u=bTe[l];if(u)a=this._abiCoder.decode(u.inputs,n.slice(4)),o=u.name,c=u.signature,u.reason&&(s=a[0]),o==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const f=this.getError(l);a=this._abiCoder.decode(f.inputs,n.slice(4)),o=f.name,c=f.format()}catch{}break}}return ss.throwError("call revert exception"+i,Kt.errors.CALL_EXCEPTION,{method:e.format(),data:_r(r),errorArgs:a,errorName:o,errorSignature:c,reason:s})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_r(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ss.throwError("too many arguments for "+e.format(),Kt.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const s=(i,a)=>i.type==="string"?R8(a):i.type==="bytes"?bc(_r(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=cn.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),yl(_r(a),32));for(r.forEach((i,a)=>{let o=e.inputs[a];if(!o.indexed){i!=null&&ss.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?ss.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(c=>s(o,c))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],s=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ss.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const c=r[o];if(a.indexed)if(a.type==="string")n.push(R8(c));else if(a.type==="bytes")n.push(bc(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:this._abiCoder.encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!_a(n[0],32)||n[0].toLowerCase()!==h)&&ss.throwError("fragment/topic mismatch",Kt.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let s=[],i=[],a=[];e.inputs.forEach((h,m)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push(Vd.fromObject({type:"bytes32",name:h.name})),a.push(!0)):(s.push(h),a.push(!1)):(i.push(h),a.push(!1))});let o=n!=null?this._abiCoder.decode(s,Op(n)):null,c=this._abiCoder.decode(i,r,!0),l=[],u=0,f=0;e.inputs.forEach((h,m)=>{if(h.indexed)if(o==null)l[m]=new LH({_isIndexed:!0,hash:null});else if(a[m])l[m]=new LH({_isIndexed:!0,hash:o[f++]});else try{l[m]=o[f++]}catch(y){l[m]=y}else try{l[m]=c[u++]}catch(y){l[m]=y}if(h.name&&l[h.name]==null){const y=l[m];y instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw VH(`property ${JSON.stringify(h.name)}`,y)}}):l[h.name]=y}});for(let h=0;h<l.length;h++){const m=l[h];m instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw VH(`index ${h}`,m)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new mTe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:cn.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new pTe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=_r(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new gTe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const yTe=[{name:"ens",resolvers:{forward:"https://explorers.api.live.ledger.com/blockchain/v4/eth/ens/resolve/{name}",reverse:"https://explorers.api.live.ledger.com/blockchain/v4/eth/ens/reverse-resolve/{address}"},signatures:{forward:"https://nft.api.live.ledger.com/v1/names/ens/forward/{name}?challenge={challenge}",reverse:"https://nft.api.live.ledger.com/v1/names/ens/reverse/{address}?challenge={challenge}"},patterns:{forward:new RegExp("\\.eth$"),reverse:new RegExp("^0x[0-9a-fA-F]{40}$")},coinTypes:[60]}],Yie=async()=>yTe,vTe=t=>{if(typeof t!="string")return!1;const e=t.length>0&&Number(t.length)<30,r=new RegExp("^[a-zA-Z0-9\\-\\_\\.]+$").test(t);return e&&r},xTe=async(t,e,r)=>{if(!vTe(t))throw new Error(`Domains with more than 255 caracters or with unicode are not supported on the nano. Domain: ${t}`);const s=(await Yie()).find(a=>a.name===e);if(!s)return null;const i=s.signatures.forward.replace("{name}",t).replace("{challenge}",r);return Fn.request({method:"GET",url:i}).then(({data:a})=>a.payload).catch(a=>(a.status!==404&&Zs("domain-service","failed to get APDU for a domain",{domain:t,error:a}),null))},wTe=async(t,e,r)=>{const s=(await Yie()).find(a=>a.name===e);if(!s)return null;const i=s.signatures.reverse.replace("{address}",t).replace("{challenge}",r);return Fn.request({method:"GET",url:i}).then(({data:a})=>a.payload).catch(a=>(a.status!==404&&Zs("domain-service","failed to get APDU for an address",{address:t,error:a}),null))},HF="0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad",Gie="0x3593564c",ATe={1:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",5:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",11155111:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",42161:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",421613:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",43114:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",8453:"0x4200000000000000000000000000000000000006",84531:"0x44D627f900da8AdaC7561bD73aA745F132450798",23888:"0x4300000000000000000000000000000000000004",42220:new Error("Celo isn't supporting wrapping Eth"),44787:new Error("Celo Alfajores isn't supporting wrapping Eth"),10:"0x4200000000000000000000000000000000000006",420:"0x4200000000000000000000000000000000000006",137:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",80001:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889"},STe={"0x08":"V2_SWAP_EXACT_IN","0x09":"V2_SWAP_EXACT_OUT","0x00":"V3_SWAP_EXACT_IN","0x01":"V3_SWAP_EXACT_OUT","0x0b":"WRAP_ETH","0x0c":"UNWRAP_ETH","0x0a":"PERMIT2_PERMIT","0x0d":"PERMIT2_TRANSFER_FROM","0x02":"PERMIT2_PERMIT_BATCH","0x03":"PERMIT2_TRANSFER_FROM_BATCH","0x06":"PAY_PORTION","0x04":"SWEEP"},PTe=["V2_SWAP_EXACT_IN","V2_SWAP_EXACT_OUT","V3_SWAP_EXACT_IN","V3_SWAP_EXACT_OUT"],HH=t=>{const[,,,e]=Ak.decode(["address","uint256","uint256","address[]","bool"],t);return e.map(r=>r.toLowerCase())},qH=t=>{const[,,,e]=Ak.decode(["address","uint256","uint256","bytes","bool"],t),r=Buffer.from(e.slice(2),"hex"),n=[];let s=0;for(;s<r.length;)n.push(`0x${r.subarray(s,s+20).toString("hex").toLowerCase()}`),s+=23;return n},WH=(t,e)=>{const r=ATe[e];return r instanceof Error?[]:[r.toLowerCase()]},kTe=t=>{const[e]=Ak.decode(["address","address","uint256"],t);return[e.toLowerCase()]},n2=()=>[],ITe={V2_SWAP_EXACT_IN:HH,V2_SWAP_EXACT_OUT:HH,V3_SWAP_EXACT_IN:qH,V3_SWAP_EXACT_OUT:qH,WRAP_ETH:WH,UNWRAP_ETH:WH,PERMIT2_PERMIT:n2,PERMIT2_TRANSFER_FROM:n2,PERMIT2_PERMIT_BATCH:n2,PERMIT2_TRANSFER_FROM_BATCH:n2,PAY_PORTION:n2,SWEEP:kTe},NTe=(t,e,r,n)=>{const s=t.slice(0,10),i=e==null?void 0:e.toLowerCase();if(s!==Gie||i!==HF||!n.length)return!1;let a;for(let o=0;o<n.length;o++){const[c,l]=n[o];if(!c)return!1;if(!PTe.includes(c))continue;const u=c.slice(0,2);if(a&&(a.asset!==l[0]||a.poolVersion!==u))return!1;a={poolVersion:u,asset:l[l.length-1]}}return!0},ETe=(t,e)=>{try{const[r,n]=new Qie(["function execute(bytes calldata commands, bytes[] calldata inputs, uint256 deadline) external payable"]).decodeFunctionData("execute",t);return Buffer.from(r.slice(2),"hex").reduce((i,a,o)=>{const c=STe[`0x${a.toString(16).padStart(2,"0")}`];if(!c)return[...i,[void 0,[]]];const l=ITe[c];return[...i,[c,l(n[o],e)]]},[])}catch(r){return Zs("Uniswap","Error decoding Uniswap calldata",r),[]}},CTe=async(t,e,r)=>{const n=t.data.slice(0,10),s=ETe(t.data,e);if(!NTe(n,t.to,e,s))return{};const i=Array.from(new Set(s.flatMap(([,x])=>x))),o=await Promise.all(i.map(async x=>{var C;const k=await LF({},e);return(C=DA(x,e,k,r))==null?void 0:C.data})).then(x=>x.filter(k=>!!k)),c="Uniswap",l=Buffer.alloc(1);l.writeUIntBE(c.length,0,1);const u=Buffer.from(c),f=Buffer.from(HF.slice(2),"hex"),h=Buffer.from(Gie.slice(2),"hex"),m=Buffer.from("3044022014391e8f355867a57fe88f6a5a4dbcb8bf8f888a9db3ff3449caf72d120396bd02200c13d9c3f79400fe0aa0434ac54d59b79503c9964a4abc3e8cd22763e0242935","hex");return{pluginData:Buffer.concat([l,u,f,h,m]),tokenDescriptors:o}},_Te=async(t,e,r,n)=>{const{pluginBaseURL:s,extraPlugins:i}=pw(n);let a={};if(s){const l=`${s}/plugins/ethereum.json`;a=await Fn.get(`${s}/plugins/ethereum.json`).then(u=>u.data).catch(u=>(Zs("error","could not fetch from "+l+": "+String(u)),null))}if(i&&(a={...a,...i}),!a)return;const o=e.toLowerCase(),c=t.toLowerCase();if(c in a){const l=a[c];if(o in l)return{payload:l[o].serialized_data,signature:l[o].signature,plugin:l[o].plugin,erc20OfInterest:l[o].erc20OfInterest,abi:l.abi}}},TTe=async(t,e,r)=>{var u;const{nftExplorerBaseURL:n}=pw(r);if(!n)return;const s=`${n}/${e}/contracts/${t}`,i=await Fn.get(s).then(f=>f.data).catch(f=>(Zs("error","could not fetch from "+s+": "+String(f)),null));if(!i)return;const a=i.payload,o=parseInt(a.slice(4,6),16),l=(u=a.substr(6,o*2).match(/.{2}/g))==null?void 0:u.reduce((f,h)=>f+=String.fromCharCode(parseInt(h,16)),"");return{contractAddress:t,collectionName:l||"",data:a}},jTe=async(t,e,r,n)=>{const{nftExplorerBaseURL:s}=pw(n);if(!s)return;const i=`${s}/${r}/contracts/${t}/plugin-selector/${e}`,a=await Fn.get(i).then(c=>c.data).catch(c=>(Zs("error","could not fetch from "+i+": "+String(c)),null));return a?a.payload:void 0},eae=async(t,e,r,n)=>{const s={nfts:[],erc20Tokens:[]};if(n.nft){const i=await TTe(t,e,r);i?(Zs("ethereum","loaded nft info for "+i.contractAddress+" ("+i.collectionName+")"),s.nfts.push(i.data)):Zs("ethereum","couldn't load nft info for "+t)}if(n.token){const i=await LF(r,e),a=DA(t,e,i,r);a?(Zs("ethereum","loaded erc20token info for "+a.contractAddress+" ("+a.ticker+")"),s.erc20Tokens.push(a.data.toString("hex"))):Zs("ethereum","couldn't load erc20token info for "+t)}return s},MTe=async(t,e,r,n,s,i)=>{let a={externalPlugin:[],plugin:[],nfts:[],erc20Tokens:[],domains:[]};if(i.nft){const o=await jTe(t,e,n,s);o?a.plugin.push(o):Zs("ethereum","no NFT plugin payload for selector "+e+" and address "+t)}if(i.externalPlugins&&t!==HF){const o=await _Te(t,e,n,s);if(o){const{plugin:c,payload:l,signature:u,erc20OfInterest:f,abi:h}=o;if(c&&(Zs("ethereum",`found plugin (${c}) for selector: ${e}`),a.externalPlugin.push({payload:l,signature:u})),f&&f.length&&h){const y=new Qie(h).parseTransaction(r).args;for(const x of f){const k=x.split(".").reduce((I,_)=>_==="-1"&&Array.isArray(I)?I[I.length-1]:I[_],y),C=await eae(k,n,s,{nft:!1,externalPlugins:!1,token:!0,uniswapV3:!1});a=Vie([a,C])}}}else Zs("ethereum","no infos for selector "+e)}if(i.uniswapV3){const{pluginData:o,tokenDescriptors:c}=await CTe(r,n);o&&c&&(a.externalPlugin.push({payload:o.toString("hex"),signature:""}),a.erc20Tokens.push(...c.map(l=>l.toString("hex"))))}return a},$Te=async(t,e,r)=>{var u;const n=Buffer.from(t,"hex"),s=eie(`0x${n.toString("hex")}`),i=Hie(s.chainId),{domains:a}=r,o=(u=s.to)==null?void 0:u.toLowerCase();if(!o)return{nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};const c=s.data.length>=10&&s.data.substring(0,10),l=[];if(c){const f={token:r.erc20&&F_e.includes(c),nft:r.nft&&R_e.includes(c),externalPlugins:r.externalPlugins,uniswapV3:r.uniswapV3},h=await MTe(o,c,s,i,e,f);h&&l.push(h);const m=await eae(o,i,e,f);m&&l.push(m)}if(a){const f={domains:a};l.push(f)}return Vie(l)},qA={resolveTransaction:$Te,signDomainResolution:xTe,signAddressResolution:wTe},OTe=async(t,e)=>{if(!e)return;const{domain:r,address:n,registry:s,type:i}=e,a=await t.getChallenge(),o=i==="forward"?await qA.signDomainResolution(r,s,a):await qA.signAddressResolution(n,s,a);o&&await t.provideDomainName(o)},s0={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5},BTe=(t,e)=>t&&t.statusCode===27264?e.toNumber()===42220?new Lke:new Uke("Please enable Blind signing or Contract data in the Ethereum app Settings"):t;class FTe{constructor(e,r="w0w",n={}){ve(this,"transport");ve(this,"loadConfig");this.transport=e,this.loadConfig=n,e.decorateAppAPIMethods(this,["getAddress","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712Message","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex","getEIP1024PublicEncryptionKey","getEIP1024SharedSecret"],r)}setLoadConfig(e){this.loadConfig=e}getAddress(e,r,n,s){const i=bo(e);let a=Buffer.alloc(1+i.length*4);if(a[0]=i.length,i.forEach((o,c)=>{a.writeUInt32BE(o,1+4*c)}),s){const o=Buffer.alloc(8,0),c=Buffer.from(I6(new A6(s).toString(16)),"hex");o.write(c.toString("hex"),o.length-c.length,"hex"),a=Buffer.concat([a,o])}return this.transport.send(224,2,r?1:0,n?1:0,a).then(o=>{const c=o[0],l=o[1+c];return{publicKey:o.slice(1,1+c).toString("hex"),address:"0x"+o.slice(1+c+1,1+c+1+l).toString("ascii"),chainCode:n?o.slice(1+c+1+l,1+c+1+l+32).toString("hex"):void 0}})}async signTransaction(e,r,n){let s;if(function(x){x[x.CLA=224]="CLA",x[x.INS=4]="INS",x[x.P1_FIRST_CHUNK=0]="P1_FIRST_CHUNK",x[x.P1_FOLLOWING_CHUNK=128]="P1_FOLLOWING_CHUNK",x[x.P2=0]="P2"}(s||(s={})),n===void 0&&(console.warn(`hw-app-eth: signTransaction(path, rawTxHex, resolution): please provide the 'resolution' parameter. See https://github.com/LedgerHQ/ledgerjs/blob/master/packages/hw-app-eth/README.md  the previous signature is deprecated and providing the 3rd 'resolution' parameter explicitly will become mandatory so you have the control on the resolution and the fallback mecanism (e.g. fallback to blind signing or not).// Possible solution:
 + import { ledgerService } from '@ledgerhq/hw-app-eth';
 + const resolution = await ledgerService.resolveTransaction(rawTxHex);`),n=await qA.resolveTransaction(r,this.loadConfig,{externalPlugins:!0,erc20:!0,uniswapV3:!1}).catch(x=>(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(x)),null))),n){for(const x of n.domains)await OTe(this,x).catch(k=>{Zs("error","domainResolutionFlow failed",{domainDescriptor:x,error:k})});for(const x of n.plugin)await this.setPlugin(x);for(const{payload:x,signature:k}of n.externalPlugin)await this.setExternalPlugin(x,k);for(const x of n.nfts)await this.provideNFTInformation(x);for(const x of n.erc20Tokens)await this.provideERC20TokenInformation(x)}const i=Buffer.from(r,"hex"),a=eie(`0x${i.toString("hex")}`),o=new A6(a.chainId),c=bo(e),l=Buffer.alloc(1+c.length*4);l[0]=c.length,c.forEach((x,k)=>{l.writeUInt32BE(x,1+4*k)});const u=z_e(i,l,a.type);let f;for(const x of u){const k=x===u[0];f=await this.transport.send(s.CLA,s.INS,k?s.P1_FIRST_CHUNK:s.P1_FOLLOWING_CHUNK,s.P2,x).catch(C=>{throw BTe(C,o)})}const h=U_e(f[0],o,a.type),m=f.subarray(1,33).toString("hex"),y=f.subarray(33,65).toString("hex");return{v:h,r:m,s:y}}async clearSignTransaction(e,r,n,s=!1){const i=await qA.resolveTransaction(r,this.loadConfig,n).catch(a=>{if(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(a)),s)throw a;return null});return this.signTransaction(e,r,i)}getAppConfiguration(){return this.transport.send(224,6,0,0).then(e=>({arbitraryDataEnabled:e[0]&1,erc20ProvisioningNecessary:e[0]&2,starkEnabled:e[0]&4,starkv2Supported:e[0]&8,version:""+e[1]+"."+e[2]+"."+e[3]}))}async signPersonalMessage(e,r){const n=bo(e);let s=0;const i=Buffer.from(r,"hex");let a;for(;s!==i.length;){const u=s===0?149-n.length*4-4:150,f=s+u>i.length?i.length-s:u,h=Buffer.alloc(s===0?1+n.length*4+4+f:f);s===0?(h[0]=n.length,n.forEach((m,y)=>{h.writeUInt32BE(m,1+4*y)}),h.writeUInt32BE(i.length,1+4*n.length),i.copy(h,1+4*n.length+4,s,s+f)):i.copy(h,0,s,s+f),a=await this.transport.send(224,8,s===0?0:128,0,h),s+=f}const o=a[0],c=a.slice(1,33).toString("hex"),l=a.slice(33,65).toString("hex");return{v:o,r:c,s:l}}signEIP712HashedMessage(e,r,n){return Z_e(this.transport,e,r,n)}async signEIP712Message(e,r,n=!1){return X_e(this.transport,e,r,n,this.loadConfig)}async getChallenge(){let e;return function(r){r[r.CLA=224]="CLA",r[r.INS=32]="INS",r[r.P1=0]="P1",r[r.P2=0]="P2",r[r.LC=0]="LC"}(e||(e={})),this.transport.send(e.CLA,e.INS,e.P1,e.P2).then(r=>{const[,n,s]=new RegExp("(.*)(.{4}$)").exec(r.toString("hex"))||[];if(s!=="9000")throw new Error(`An error happened while generating the challenge. Status code: ${s}`);return`0x${n}`}).catch(r=>{throw Zs("error","couldn't request a challenge",r),r})}starkGetPublicKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(240,2,r?1:0,0,s).then(i=>i.slice(0,i.length-2))}starkSignOrder(e,r,n,s,i,a,o,c,l,u,f){const h=wf(r),m=wf(s),y=bo(e),x=Buffer.alloc(1+y.length*4+20+32+20+32+4+4+8+8+4+4,0);let k=0;return x[0]=y.length,y.forEach((C,I)=>{x.writeUInt32BE(C,1+4*I)}),k=1+4*y.length,h&&h.copy(x,k),k+=20,Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(x,k),k+=32,m&&m.copy(x,k),k+=20,Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(x,k),k+=32,x.writeUInt32BE(a,k),k+=4,x.writeUInt32BE(o,k),k+=4,Buffer.from(c.toString(16).padStart(16,"0"),"hex").copy(x,k),k+=8,Buffer.from(l.toString(16).padStart(16,"0"),"hex").copy(x,k),k+=8,x.writeUInt32BE(u,k),k+=4,x.writeUInt32BE(f,k),this.transport.send(240,4,1,0,x).then(C=>{const I=C.slice(1,33).toString("hex"),_=C.slice(33,65).toString("hex");return{r:I,s:_}})}starkSignOrder_v2(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x){const k=wf(r),C=wf(a);if(!(n in s0))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+n);if(!(o in s0))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+o);const I=bo(e),_=Buffer.alloc(1+I.length*4+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0);let O=0;return _[0]=I.length,I.forEach((F,D)=>{_.writeUInt32BE(F,1+4*D)}),O=1+4*I.length,_[O]=s0[n],O++,k&&k.copy(_,O),O+=20,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(_,O),O+=32,i&&Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(_,O),O+=32,_[O]=s0[o],O++,C&&C.copy(_,O),O+=20,c&&Buffer.from(c.toString(16).padStart(64,"0"),"hex").copy(_,O),O+=32,l&&Buffer.from(l.toString(16).padStart(64,"0"),"hex").copy(_,O),O+=32,_.writeUInt32BE(u,O),O+=4,_.writeUInt32BE(f,O),O+=4,Buffer.from(h.toString(16).padStart(16,"0"),"hex").copy(_,O),O+=8,Buffer.from(m.toString(16).padStart(16,"0"),"hex").copy(_,O),O+=8,_.writeUInt32BE(y,O),O+=4,_.writeUInt32BE(x,O),this.transport.send(240,4,3,0,_).then(F=>{const D=F.slice(1,33).toString("hex"),j=F.slice(33,65).toString("hex");return{r:D,s:j}})}starkSignTransfer(e,r,n,s,i,a,o,c,l){const u=wf(r),f=yu(s),h=bo(e),m=Buffer.alloc(1+h.length*4+20+32+32+4+4+8+4+4,0);let y=0;return m[0]=h.length,h.forEach((x,k)=>{m.writeUInt32BE(x,1+4*k)}),y=1+4*h.length,u&&u.copy(m,y),y+=20,Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(m,y),y+=32,f.copy(m,y),y+=32,m.writeUInt32BE(i,y),y+=4,m.writeUInt32BE(a,y),y+=4,Buffer.from(o.toString(16).padStart(16,"0"),"hex").copy(m,y),y+=8,m.writeUInt32BE(c,y),y+=4,m.writeUInt32BE(l,y),this.transport.send(240,4,2,0,m).then(x=>{const k=x.slice(1,33).toString("hex"),C=x.slice(33,65).toString("hex");return{r:k,s:C}})}starkSignTransfer_v2(e,r,n,s,i,a,o,c,l,u,f,h,m){const y=wf(r),x=yu(a),k=wf(h);if(!(n in s0))throw new Error("eth.starkSignTransferv2 invalid quantization type="+n);const C=bo(e),I=Buffer.alloc(1+C.length*4+1+20+32+32+32+4+4+8+4+4+(k?52:0),0);let _=0;return I[0]=C.length,C.forEach((O,F)=>{I.writeUInt32BE(O,1+4*F)}),_=1+4*C.length,I[_]=s0[n],_++,y&&y.copy(I,_),_+=20,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(I,_),_+=32,i&&Buffer.from(i.toString(16).padStart(64,"0"),"hex").copy(I,_),_+=32,x.copy(I,_),_+=32,I.writeUInt32BE(o,_),_+=4,I.writeUInt32BE(c,_),_+=4,Buffer.from(l.toString(16).padStart(16,"0"),"hex").copy(I,_),_+=8,I.writeUInt32BE(u,_),_+=4,I.writeUInt32BE(f,_),k&&m&&(_+=4,Buffer.from(m.toString(16).padStart(64,"0"),"hex").copy(I,_),_+=32,k.copy(I,_)),this.transport.send(240,4,k?5:4,0,I).then(O=>{const F=O.slice(1,33).toString("hex"),D=O.slice(33,65).toString("hex");return{r:F,s:D}})}starkProvideQuantum(e,r){const n=wf(e),s=Buffer.alloc(52,0);return n&&n.copy(s,0),Buffer.from(r.toString(16).padStart(64,"0"),"hex").copy(s,20),this.transport.send(240,8,0,0,s).then(()=>!0,i=>{if(i&&i.statusCode===27904)return!1;throw i})}starkProvideQuantum_v2(e,r,n,s){const i=wf(e);if(!(r in s0))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+r);const a=Buffer.alloc(84,0);let o=0;return i&&i.copy(a,o),o+=20,n&&Buffer.from(n.toString(16).padStart(64,"0"),"hex").copy(a,o),o+=32,s&&Buffer.from(s.toString(16).padStart(64,"0"),"hex").copy(a,o),this.transport.send(240,8,s0[r],0,a).then(()=>!0,c=>{if(c&&c.statusCode===27904)return!1;throw c})}starkUnsafeSign(e,r){const n=yu(r),s=bo(e),i=Buffer.alloc(1+s.length*4+32);let a=0;return i[0]=s.length,s.forEach((o,c)=>{i.writeUInt32BE(o,1+4*c)}),a=1+4*s.length,n.copy(i,a),this.transport.send(240,10,0,0,i).then(o=>{const c=o.slice(1,33).toString("hex"),l=o.slice(33,65).toString("hex");return{r:c,s:l}})}eth2GetPublicKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(224,14,r?1:0,0,s).then(i=>({publicKey:i.slice(0,-2).toString("hex")}))}eth2SetWithdrawalIndex(e){const r=Buffer.alloc(4,0);return r.writeUInt32BE(e,0),this.transport.send(224,16,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27904)return!1;throw n})}getEIP1024PublicEncryptionKey(e,r){const n=bo(e),s=Buffer.alloc(1+n.length*4);return s[0]=n.length,n.forEach((i,a)=>{s.writeUInt32BE(i,1+4*a)}),this.transport.send(224,24,r?1:0,0,s).then(i=>({publicKey:i.slice(0,-2).toString("hex")}))}getEIP1024SharedSecret(e,r,n){const s=bo(e),i=yu(r),a=Buffer.alloc(1+s.length*4+32);let o=0;return a[0]=s.length,s.forEach((c,l)=>{a.writeUInt32BE(c,1+4*l)}),o=1+4*s.length,i.copy(a,o),this.transport.send(224,24,n?1:0,1,a).then(c=>({sharedSecret:c.slice(0,-2).toString("hex")}))}provideERC20TokenInformation(e){const r=Buffer.from(e,"hex");return this.transport.send(224,10,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27904)return!1;throw n})}setExternalPlugin(e,r){const n=Buffer.from(e,"hex"),s=Buffer.from(r??"","hex"),i=Buffer.concat([n,s]);return this.transport.send(224,18,0,0,i).then(()=>!0,a=>{if(a&&a.statusCode===27264)return!1;if(a&&a.statusCode===27012)return!1;if(a&&a.statusCode===27904)return!1;throw a})}setPlugin(e){const r=Buffer.from(e,"hex");return this.transport.send(224,22,0,0,r).then(()=>!0,n=>{if(n&&n.statusCode===27264)return!1;if(n&&n.statusCode===27012)return!1;if(n&&n.statusCode===27904)return!1;throw n})}provideNFTInformation(e){const r=Buffer.from(e,"hex");return this.transport.send(224,20,0,0,r).then(()=>!0,n=>{throw n&&n.statusCode===27904?new zke:n})}async provideDomainName(e){let r;(function(a){a[a.CLA=224]="CLA",a[a.INS=34]="INS",a[a.P1_FIRST_CHUNK=1]="P1_FIRST_CHUNK",a[a.P1_FOLLOWING_CHUNK=0]="P1_FOLLOWING_CHUNK",a[a.P2=0]="P2"})(r||(r={}));const n=Buffer.from(e,"hex"),s=Buffer.concat([Buffer.from(fi(n.length,2),"hex"),n]),i=new Array(Math.ceil(s.length/256)).fill(null).map((a,o)=>s.slice(o*255,(o+1)*255));for(const a of i){const o=a===i[0];await this.transport.send(r.CLA,r.INS,o?r.P1_FIRST_CHUNK:r.P1_FOLLOWING_CHUNK,r.P2,a)}return!0}}const tae="6.16.0";function RTe(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Ia(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function Jt(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&RTe(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function iy(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>iy(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return iy(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${iy(n,e)}: ${iy(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Li(t,e){return t&&t.code===e}function qF(t){return Li(t,"CALL_EXCEPTION")}function is(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${iy(r)}`);for(const a in r){if(a==="shortMessage")continue;const o=r[a];i.push(a+"="+iy(o))}}i.push(`code=${e}`),i.push(`version=${tae}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Jt(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&Jt(s,{shortMessage:n}),s}function lt(t,e,r,n){if(!t)throw is(e,r,n)}function he(t,e,r,n){lt(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function rae(t,e,r){r==null&&(r=""),r&&(r=": "+r),lt(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),lt(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const DTe=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function nae(t){lt(DTe.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function dm(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),lt(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function sae(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}he(!1,"invalid BytesLike value",e||"value",t)}function wt(t,e){return sae(t,e,!1)}function Vi(t,e){return sae(t,e,!0)}function Bn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Sk(t){return Bn(t,!0)||t instanceof Uint8Array}const KH="0123456789abcdef";function xt(t){const e=wt(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=KH[(s&240)>>4]+KH[s&15]}return r}function tn(t){return"0x"+t.map(e=>xt(e).substring(2)).join("")}function Ry(t){return Bn(t,!0)?(t.length-2)/2:wt(t).length}function Tn(t,e,r){const n=wt(t);return r!=null&&r>n.length&&lt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),xt(n.slice(e??0,r??n.length))}function e6t(t){let e=xt(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function iae(t,e,r){const n=wt(t);lt(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),xt(s)}function $h(t,e){return iae(t,e,!0)}function UTe(t,e){return iae(t,e,!1)}const G4=BigInt(0),mu=BigInt(1),ay=9007199254740991;function WA(t,e){const r=Pk(t,"value"),n=BigInt(ur(e,"width"));if(lt(r>>n===G4,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-mu){const s=(mu<<n)-mu;return-((~r&s)+mu)}return r}function aae(t,e){let r=Lt(t,"value");const n=BigInt(ur(e,"width")),s=mu<<n-mu;if(r<G4){r=-r,lt(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(mu<<n)-mu;return(~r&i)+mu}else lt(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function lg(t,e){const r=Pk(t,"value"),n=BigInt(ur(e,"bits"));return r&(mu<<n)-mu}function Lt(t,e){switch(typeof t){case"bigint":return t;case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-ay&&t<=ay,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){he(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}he(!1,"invalid BigNumberish value",e||"value",t)}function Pk(t,e){const r=Lt(t,e);return lt(r>=G4,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const XH="0123456789abcdef";function e5(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=XH[r>>4],e+=XH[r&15];return BigInt(e)}return Lt(t)}function ur(t,e){switch(typeof t){case"bigint":return he(t>=-ay&&t<=ay,"overflow",e||"value",t),Number(t);case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-ay&&t<=ay,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ur(BigInt(t),e)}catch(r){he(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}he(!1,"invalid numeric value",e||"value",t)}function zTe(t){return ur(e5(t))}function Oh(t,e){const r=Pk(t,"value");let n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=ur(e,"width");if(s===0&&r===G4)return"0x";for(lt(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function ds(t,e){const r=Pk(t,"value");if(r===G4){const i=e!=null?ur(e,"width"):0;return new Uint8Array(i)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){const i=ur(e,"width");for(;n.length<i*2;)n="00"+n;lt(i*2===n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}const s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const a=i*2;s[i]=parseInt(n.substring(a,a+2),16)}return s}function hu(t){let e=xt(Sk(t)?t:ds(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const KA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let L8=null;function LTe(t){if(L8==null){L8={};for(let r=0;r<KA.length;r++)L8[KA[r]]=BigInt(r)}const e=L8[t];return he(e!=null,"invalid base58 value","letter",t),e}const VTe=BigInt(0),Yj=BigInt(58);function oae(t){const e=wt(t);let r=e5(e),n="";for(;r;)n=KA[Number(r%Yj)]+n,r/=Yj;for(let s=0;s<e.length&&!e[s];s++)n=KA[0]+n;return n}function HTe(t){let e=VTe;for(let r=0;r<t.length;r++)e*=Yj,e+=LTe(t[r]);return e}function qTe(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return wt(e)}function WTe(t){const e=wt(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var fv;class cae{constructor(e,r,n){ve(this,"filter");ve(this,"emitter");Ne(this,fv);oe(this,fv,r),Jt(this,{emitter:e,filter:n})}async removeListener(){K(this,fv)!=null&&await this.emitter.off(this.filter,K(this,fv))}}fv=new WeakMap;function KTe(t,e,r,n,s){he(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function lae(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function XTe(t,e,r,n,s){return t==="OVERLONG"?(he(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),lae(t,e,r))}const ZTe=Object.freeze({error:KTe,ignore:lae,replace:XTe});function uae(t,e){e==null&&(e=ZTe.error);const r=wt(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(!(i>>7)){n.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+a>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let u=r[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-a,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-a,r,n,c);continue}if(c<=o){s+=e("OVERLONG",s-1-a,r,n,c);continue}n.push(c)}}return n}function Oa(t,e){he(typeof t=="string","invalid string value","str",t),e!=null&&(nae(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);he(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function JTe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function XA(t,e){return JTe(uae(t,e))}function t6t(t,e){return uae(Oa(t,e))}function dae(t){async function e(r,n){lt(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();lt(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),lt(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,o=setTimeout(()=>{i=is("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{i=is("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal});let l;try{l=await fetch(r.url,c)}catch(m){throw clearTimeout(o),i||m}clearTimeout(o);const u={};l.headers.forEach((m,y)=>{u[y.toLowerCase()]=m});const f=await l.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return e}const QTe=12,YTe=250;let ZH=dae();const GTe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),eje=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let RE=!1;async function fae(t,e){try{const r=t.match(GTe);if(!r)throw new Error("invalid data");return new Fp(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?qTe(r[3]):rje(r[3]))}catch{return new Fp(599,"BAD REQUEST (invalid data: URI)",{},null,new Bh(t))}}function hae(t){async function e(r,n){try{const s=r.match(eje);if(!s)throw new Error("invalid link");return new Bh(`${t}${s[2]}`)}catch{return new Fp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Bh(r))}}return e}const V8={data:fae,ipfs:hae("https://gateway.ipfs.io/ipfs/")},pae=new WeakMap;var Ig,rp;class tje{constructor(e){Ne(this,Ig);Ne(this,rp);oe(this,Ig,[]),oe(this,rp,!1),pae.set(e,()=>{if(!K(this,rp)){oe(this,rp,!0);for(const r of K(this,Ig))setTimeout(()=>{r()},0);oe(this,Ig,[])}})}addListener(e){lt(!K(this,rp),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),K(this,Ig).push(e)}get cancelled(){return K(this,rp)}checkSignal(){lt(!this.cancelled,"cancelled","CANCELLED",{})}}Ig=new WeakMap,rp=new WeakMap;function H8(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var hv,pv,nu,Kf,mv,gv,li,Yo,Xf,Ng,Eg,Cg,pd,su,np,_g,V2;const aP=class aP{constructor(e){Ne(this,_g);Ne(this,hv);Ne(this,pv);Ne(this,nu);Ne(this,Kf);Ne(this,mv);Ne(this,gv);Ne(this,li);Ne(this,Yo);Ne(this,Xf);Ne(this,Ng);Ne(this,Eg);Ne(this,Cg);Ne(this,pd);Ne(this,su);Ne(this,np);oe(this,gv,String(e)),oe(this,hv,!1),oe(this,pv,!0),oe(this,nu,{}),oe(this,Kf,""),oe(this,mv,3e5),oe(this,su,{slotInterval:YTe,maxAttempts:QTe}),oe(this,np,null)}get url(){return K(this,gv)}set url(e){oe(this,gv,String(e))}get body(){return K(this,li)==null?null:new Uint8Array(K(this,li))}set body(e){if(e==null)oe(this,li,void 0),oe(this,Yo,void 0);else if(typeof e=="string")oe(this,li,Oa(e)),oe(this,Yo,"text/plain");else if(e instanceof Uint8Array)oe(this,li,e),oe(this,Yo,"application/octet-stream");else if(typeof e=="object")oe(this,li,Oa(JSON.stringify(e))),oe(this,Yo,"application/json");else throw new Error("invalid body")}hasBody(){return K(this,li)!=null}get method(){return K(this,Kf)?K(this,Kf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),oe(this,Kf,String(e).toUpperCase())}get headers(){const e=Object.assign({},K(this,nu));return K(this,Xf)&&(e.authorization=`Basic ${WTe(Oa(K(this,Xf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&K(this,Yo)&&(e["content-type"]=K(this,Yo)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){K(this,nu)[String(e).toLowerCase()]=String(r)}clearHeaders(){oe(this,nu,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return K(this,Xf)||null}setCredentials(e,r){he(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),oe(this,Xf,`${e}:${r}`)}get allowGzip(){return K(this,pv)}set allowGzip(e){oe(this,pv,!!e)}get allowInsecureAuthentication(){return!!K(this,hv)}set allowInsecureAuthentication(e){oe(this,hv,!!e)}get timeout(){return K(this,mv)}set timeout(e){he(e>=0,"timeout must be non-zero","timeout",e),oe(this,mv,e)}get preflightFunc(){return K(this,Ng)||null}set preflightFunc(e){oe(this,Ng,e)}get processFunc(){return K(this,Eg)||null}set processFunc(e){oe(this,Eg,e)}get retryFunc(){return K(this,Cg)||null}set retryFunc(e){oe(this,Cg,e)}get getUrlFunc(){return K(this,np)||ZH}set getUrlFunc(e){oe(this,np,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${K(this,li)?xt(K(this,li)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(K(this,su).slotInterval=e.slotInterval),e.maxAttempts!=null&&(K(this,su).maxAttempts=e.maxAttempts)}send(){return lt(K(this,pd)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),oe(this,pd,new tje(this)),Ye(this,_g,V2).call(this,0,JH()+this.timeout,0,this,new Fp(0,"",{},null,this))}cancel(){lt(K(this,pd)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=pae.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();lt(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new aP(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,oe(s,nu,Object.assign({},K(this,nu))),K(this,li)&&oe(s,li,new Uint8Array(K(this,li))),oe(s,Yo,K(this,Yo)),s}clone(){const e=new aP(this.url);return oe(e,Kf,K(this,Kf)),K(this,li)&&oe(e,li,K(this,li)),oe(e,Yo,K(this,Yo)),oe(e,nu,Object.assign({},K(this,nu))),oe(e,Xf,K(this,Xf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),oe(e,Ng,K(this,Ng)),oe(e,Eg,K(this,Eg)),oe(e,Cg,K(this,Cg)),oe(e,su,Object.assign({},K(this,su))),oe(e,np,K(this,np)),e}static lockConfig(){RE=!0}static getGateway(e){return V8[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(RE)throw new Error("gateways locked");V8[e]=r}static registerGetUrl(e){if(RE)throw new Error("gateways locked");ZH=e}static createGetUrlFunc(e){return dae(e)}static createDataGateway(){return fae}static createIpfsGatewayFunc(e){return hae(e)}};hv=new WeakMap,pv=new WeakMap,nu=new WeakMap,Kf=new WeakMap,mv=new WeakMap,gv=new WeakMap,li=new WeakMap,Yo=new WeakMap,Xf=new WeakMap,Ng=new WeakMap,Eg=new WeakMap,Cg=new WeakMap,pd=new WeakMap,su=new WeakMap,np=new WeakMap,_g=new WeakSet,V2=async function(e,r,n,s,i){var u,f,h;if(e>=K(this,su).maxAttempts)return i.makeServerError("exceeded maximum retry limit");lt(JH()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await nje(n);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in V8){const m=await V8[o](a.url,H8(K(s,pd)));if(m instanceof Fp){let y=m;if(this.processFunc){H8(K(s,pd));try{y=await this.processFunc(a,y)}catch(x){(x.throttle==null||typeof x.stall!="number")&&y.makeServerError("error in post-processing function",x).assertOk()}}return y}a=m}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,H8(K(s,pd)));let l=new Fp(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const m=l.headers.location||"";return Ye(u=a.redirect(m),_g,V2).call(u,e+1,r,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,l,e))){const m=l.headers["retry-after"];let y=K(this,su).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(y=parseInt(m)),Ye(f=a.clone(),_g,V2).call(f,e+1,r,y,s,l)}if(this.processFunc){H8(K(s,pd));try{l=await this.processFunc(a,l)}catch(m){(m.throttle==null||typeof m.stall!="number")&&l.makeServerError("error in post-processing function",m).assertOk();let y=K(this,su).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(y=m.stall),Ye(h=a.clone(),_g,V2).call(h,e+1,r,y,s,l)}}return l};let Bh=aP;var m4,g4,b4,Go,bv,Tg;const BU=class BU{constructor(e,r,n,s,i){Ne(this,m4);Ne(this,g4);Ne(this,b4);Ne(this,Go);Ne(this,bv);Ne(this,Tg);oe(this,m4,e),oe(this,g4,r),oe(this,b4,Object.keys(n).reduce((a,o)=>(a[o.toLowerCase()]=String(n[o]),a),{})),oe(this,Go,s==null?null:new Uint8Array(s)),oe(this,bv,i||null),oe(this,Tg,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${K(this,Go)?xt(K(this,Go)):"null"}>`}get statusCode(){return K(this,m4)}get statusMessage(){return K(this,g4)}get headers(){return Object.assign({},K(this,b4))}get body(){return K(this,Go)==null?null:new Uint8Array(K(this,Go))}get bodyText(){try{return K(this,Go)==null?"":XA(K(this,Go))}catch{lt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{lt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new BU(599,n,this.headers,this.body,K(this,bv)||void 0);return oe(s,Tg,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:he(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Jt(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return K(this,Go)!=null}get request(){return K(this,bv)}ok(){return K(this,Tg).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=K(this,Tg);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{K(this,Go)&&(s=XA(K(this,Go)))}catch{}lt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};m4=new WeakMap,g4=new WeakMap,b4=new WeakMap,Go=new WeakMap,bv=new WeakMap,Tg=new WeakMap;let Fp=BU;function JH(){return new Date().getTime()}function rje(t){return Oa(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function nje(t){return new Promise(e=>setTimeout(e,t))}const sje=BigInt(-1),Xl=BigInt(0),oy=BigInt(1),ije=BigInt(5),fb={};let Dy="0000";for(;Dy.length<80;)Dy+=Dy;function Em(t){let e=Dy;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function s2(t,e,r){const n=BigInt(e.width);if(e.signed){const s=oy<<n-oy;lt(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Xl?t=WA(lg(t,n),n):t=-WA(lg(-t,n),n)}else{const s=oy<<n;lt(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-oy}return t}function DE(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);he(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,a=(o,c,l)=>i[o]==null?l:(he(typeof i[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,i[o]),i[o]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}he(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),he(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function aje(t,e){let r="";t<Xl&&(r="-",t*=sje);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Dy+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var iu,xn,qa,mn,Vm,Of,Gj,eM,tM,rM;const H0=class H0{constructor(e,r,n){Ne(this,mn);ve(this,"format");Ne(this,iu);Ne(this,xn);Ne(this,qa);ve(this,"_value");dm(e,fb,"FixedNumber"),oe(this,xn,r),oe(this,iu,n);const s=aje(r,n.decimals);Jt(this,{format:n.name,_value:s}),oe(this,qa,Em(n.decimals))}get signed(){return K(this,iu).signed}get width(){return K(this,iu).width}get decimals(){return K(this,iu).decimals}get value(){return K(this,xn)}addUnsafe(e){return Ye(this,mn,Gj).call(this,e)}add(e){return Ye(this,mn,Gj).call(this,e,"add")}subUnsafe(e){return Ye(this,mn,eM).call(this,e)}sub(e){return Ye(this,mn,eM).call(this,e,"sub")}mulUnsafe(e){return Ye(this,mn,tM).call(this,e)}mul(e){return Ye(this,mn,tM).call(this,e,"mul")}mulSignal(e){Ye(this,mn,Vm).call(this,e);const r=K(this,xn)*K(e,xn);return lt(r%K(this,qa)===Xl,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ye(this,mn,Of).call(this,r/K(this,qa),"mulSignal")}divUnsafe(e){return Ye(this,mn,rM).call(this,e)}div(e){return Ye(this,mn,rM).call(this,e,"div")}divSignal(e){lt(K(e,xn)!==Xl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,mn,Vm).call(this,e);const r=K(this,xn)*K(this,qa);return lt(r%K(e,xn)===Xl,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ye(this,mn,Of).call(this,r/K(e,xn),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=Em(s):s<0&&(r*=Em(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=K(this,xn);return K(this,xn)<Xl&&(e-=K(this,qa)-oy),e=K(this,xn)/K(this,qa)*K(this,qa),Ye(this,mn,Of).call(this,e,"floor")}ceiling(){let e=K(this,xn);return K(this,xn)>Xl&&(e+=K(this,qa)-oy),e=K(this,xn)/K(this,qa)*K(this,qa),Ye(this,mn,Of).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=ije*Em(r-1);let s=this.value+n;const i=Em(r);return s=s/i*i,s2(s,K(this,iu),"round"),new H0(fb,s,K(this,iu))}isZero(){return K(this,xn)===Xl}isNegative(){return K(this,xn)<Xl}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return H0.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:ur(r),i=DE(n);let a=Lt(e,"value");const o=s-i.decimals;if(o>0){const c=Em(o);lt(a%c===Xl,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=c}else o<0&&(a*=Em(-o));return s2(a,i,"fromValue"),new H0(fb,a,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);he(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=DE(r);let i=n[2]||"0",a=n[3]||"";for(;a.length<s.decimals;)a+=Dy;lt(a.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,s.decimals);const o=BigInt(n[1]+i+a);return s2(o,s,"fromString"),new H0(fb,o,s)}static fromBytes(e,r){let n=e5(wt(e,"value"));const s=DE(r);return s.signed&&(n=WA(n,s.width)),s2(n,s,"fromBytes"),new H0(fb,n,s)}};iu=new WeakMap,xn=new WeakMap,qa=new WeakMap,mn=new WeakSet,Vm=function(e){he(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Of=function(e,r){return e=s2(e,K(this,iu),r),new H0(fb,e,K(this,iu))},Gj=function(e,r){return Ye(this,mn,Vm).call(this,e),Ye(this,mn,Of).call(this,K(this,xn)+K(e,xn),r)},eM=function(e,r){return Ye(this,mn,Vm).call(this,e),Ye(this,mn,Of).call(this,K(this,xn)-K(e,xn),r)},tM=function(e,r){return Ye(this,mn,Vm).call(this,e),Ye(this,mn,Of).call(this,K(this,xn)*K(e,xn)/K(this,qa),r)},rM=function(e,r){return lt(K(e,xn)!==Xl,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,mn,Vm).call(this,e),Ye(this,mn,Of).call(this,K(this,xn)*K(this,qa)/K(e,xn),r)};let ZA=H0;function oje(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function QH(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function YH(t,e,r,n){const s=[];for(;r<e+1+n;){const i=mae(t,r);s.push(i.result),r+=i.consumed,lt(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function mae(t,e){lt(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{lt(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=QH(t,e+1,n);return r(e+1+n+s),YH(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),YH(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=QH(t,e+1,n);r(e+1+n+s);const i=xt(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=xt(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:oje(t[e])}}function t5(t){const e=wt(t,"data"),r=mae(e,0);return he(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function GH(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function gae(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(gae(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=GH(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(wt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=GH(e.length);return r.unshift(183+r.length),r.concat(e)}const eq="0123456789abcdef";function Hd(t){let e="0x";for(const r of gae(t))e+=eq[r>>4],e+=eq[r&15];return e}const bae=["wei","kwei","mwei","gwei","szabo","finney","ether"];function kk(t,e){let r=18;if(typeof e=="string"){const n=bae.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=ur(e,"unit"));return ZA.fromValue(t,r,{decimals:r,width:512}).toString()}function yae(t,e){he(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=bae.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=ur(e,"unit"));return ZA.fromString(t,{decimals:r,width:512}).value}function vae(t){return kk(t,18)}function cje(t){return yae(t,18)}function lje(t){const e=wt(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=xt(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Qa=32,nM=new Uint8Array(Qa),uje=["then"],q8={},xae=new WeakMap;function Qm(t){return xae.get(t)}function tq(t,e){xae.set(t,e)}function i2(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function sM(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof Sx?sM(Qm(n),n,r):n):t.reduce((n,s,i)=>{let a=e.getValue(s);return s in n||(r&&a instanceof Sx&&(a=sM(Qm(a),a,r)),n[s]=a),n},{})}var yv;const vy=class vy extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),a=!0;n!==q8&&(s=r,i=[],a=!1);super(s.length);Ne(this,yv);s.forEach((l,u)=>{this[u]=l});const o=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(tq(this,Object.freeze(s.map((l,u)=>{const f=i[u];return f!=null&&o.get(f)===1?f:null}))),oe(this,yv,[]),K(this,yv)==null&&K(this,yv),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const m=ur(u,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const y=l[m];return y instanceof Error&&i2(`index ${m}`,y),y}if(uje.indexOf(u)>=0)return Reflect.get(l,u,f);const h=l[u];if(h instanceof Function)return function(...m){return h.apply(this===f?l:this,m)};if(!(u in l))return l.getValue.apply(this===f?l:this,[u])}return Reflect.get(l,u,f)}});return tq(c,Qm(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&i2(`index ${i}`,s),r&&s instanceof vy&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=Qm(this);return n.reduce((s,i,a)=>(lt(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),sM(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Qm(this),i=[],a=[];for(let o=r;o<n;o++)i.push(this[o]),a.push(s[o]);return new vy(q8,i,a)}filter(r,n){const s=Qm(this),i=[],a=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&i2(`index ${o}`,c),r.call(n,c,o,this)&&(i.push(c),a.push(s[o]))}return new vy(q8,i,a)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&i2(`index ${i}`,a),s.push(r.call(n,a,i,this))}return s}getValue(r){const n=Qm(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&i2(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new vy(q8,r,n)}};yv=new WeakMap;let Sx=vy;function r6t(t){const e=[],r=function(n,s){if(Array.isArray(s))for(let i in s){const a=n.slice();a.push(i);try{r(a,s[i])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}function rq(t){let e=ds(t);return lt(e.length<=Qa,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Qa,offset:e.length}),e.length!==Qa&&(e=Vi(tn([nM.slice(e.length%Qa),e]))),e}class Wh{constructor(e,r,n,s){ve(this,"name");ve(this,"type");ve(this,"localName");ve(this,"dynamic");Jt(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){he(!1,e,this.localName,r)}}var Zf,jg,vv,i7;class iM{constructor(){Ne(this,vv);Ne(this,Zf);Ne(this,jg);oe(this,Zf,[]),oe(this,jg,0)}get data(){return tn(K(this,Zf))}get length(){return K(this,jg)}appendWriter(e){return Ye(this,vv,i7).call(this,Vi(e.data))}writeBytes(e){let r=Vi(e);const n=r.length%Qa;return n&&(r=Vi(tn([r,nM.slice(n)]))),Ye(this,vv,i7).call(this,r)}writeValue(e){return Ye(this,vv,i7).call(this,rq(e))}writeUpdatableValue(){const e=K(this,Zf).length;return K(this,Zf).push(nM),oe(this,jg,K(this,jg)+Qa),r=>{K(this,Zf)[e]=rq(r)}}}Zf=new WeakMap,jg=new WeakMap,vv=new WeakSet,i7=function(e){return K(this,Zf).push(e),oe(this,jg,K(this,jg)+e.length),e.length};var wo,ec,Mg,$g,sp,B1,oM,wae;const FU=class FU{constructor(e,r,n){Ne(this,B1);ve(this,"allowLoose");Ne(this,wo);Ne(this,ec);Ne(this,Mg);Ne(this,$g);Ne(this,sp);Jt(this,{allowLoose:!!r}),oe(this,wo,Vi(e)),oe(this,Mg,0),oe(this,$g,null),oe(this,sp,n??1024),oe(this,ec,0)}get data(){return xt(K(this,wo))}get dataLength(){return K(this,wo).length}get consumed(){return K(this,ec)}get bytes(){return new Uint8Array(K(this,wo))}subReader(e){const r=new FU(K(this,wo).slice(K(this,ec)+e),this.allowLoose,K(this,sp));return oe(r,$g,this),r}readBytes(e,r){let n=Ye(this,B1,wae).call(this,0,e,!!r);return Ye(this,B1,oM).call(this,e),oe(this,ec,K(this,ec)+n.length),n.slice(0,e)}readValue(){return e5(this.readBytes(Qa))}readIndex(){return zTe(this.readBytes(Qa))}};wo=new WeakMap,ec=new WeakMap,Mg=new WeakMap,$g=new WeakMap,sp=new WeakMap,B1=new WeakSet,oM=function(e){var r;if(K(this,$g))return Ye(r=K(this,$g),B1,oM).call(r,e);oe(this,Mg,K(this,Mg)+e),lt(K(this,sp)<1||K(this,Mg)<=K(this,sp)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${K(this,sp)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Vi(K(this,wo)),offset:K(this,ec),length:e,info:{bytesRead:K(this,Mg),dataLength:this.dataLength}})},wae=function(e,r,n){let s=Math.ceil(r/Qa)*Qa;return K(this,ec)+s>K(this,wo).length&&(this.allowLoose&&n&&K(this,ec)+r<=K(this,wo).length?s=r:lt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Vi(K(this,wo)),length:K(this,wo).length,offset:K(this,ec)+s})),K(this,wo).slice(K(this,ec),K(this,ec)+s)};let aM=FU;function cc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function WF(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Aae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cc(t.outputLen),cc(t.blockLen)}function Px(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Sae(t,e){WF(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const UE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pae=t=>t instanceof Uint8Array,a7=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),qu=(t,e)=>t<<32-e|t>>>e,dje=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dje)throw new Error("Non little-endian hardware is not supported");const fje=async()=>{};async function nq(t,e,r){let n=Date.now();for(let s=0;s<t;s++){r(s);const i=Date.now()-n;i>=0&&i<e||(await fje(),n+=i)}}function hje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kx(t){if(typeof t=="string"&&(t=hje(t)),!Pae(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function pje(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!Pae(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class KF{clone(){return this._cloneInto()}}const mje={}.toString;function kae(t,e){if(e!==void 0&&mje.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Ik(t){const e=n=>t().update(kx(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function gje(t=32){if(UE&&typeof UE.getRandomValues=="function")return UE.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let Iae=class extends KF{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Aae(e);const n=kx(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Px(this),this.iHash.update(e),this}digestInto(e){Px(this),WF(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Nk=(t,e,r)=>new Iae(t,e).update(r).digest();Nk.create=(t,e)=>new Iae(t,e);function bje(t,e,r,n){Aae(t);const s=kae({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:o}=s;if(cc(i),cc(a),cc(o),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=kx(e),l=kx(r),u=new Uint8Array(a),f=Nk.create(t,c),h=f._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:o,DK:u,PRF:f,PRFSalt:h}}function yje(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),r}function XF(t,e,r,n){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:c}=bje(t,e,r,n);let l;const u=new Uint8Array(4),f=o7(u),h=new Uint8Array(o.outputLen);for(let m=1,y=0;y<i;m++,y+=o.outputLen){const x=a.subarray(y,y+o.outputLen);f.setInt32(0,m,!1),(l=c._cloneInto(l)).update(u).digestInto(h),x.set(h.subarray(0,x.length));for(let k=1;k<s;k++){o._cloneInto(l).update(h).digestInto(h);for(let C=0;C<x.length;C++)x[C]^=h[C]}}return yje(o,c,a,l,h)}function vje(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}class ZF extends KF{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=o7(this.buffer)}update(e){Px(this);const{view:r,buffer:n,blockLen:s}=this;e=kx(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=o7(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Px(this),Sae(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;vje(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=o7(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}}const xje=(t,e,r)=>t&e^~t&r,wje=(t,e,r)=>t&e^t&r^e&r,Aje=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a0=new Uint32Array(64);let Sje=class extends ZF{constructor(){super(64,32,8,!1),this.A=i0[0]|0,this.B=i0[1]|0,this.C=i0[2]|0,this.D=i0[3]|0,this.E=i0[4]|0,this.F=i0[5]|0,this.G=i0[6]|0,this.H=i0[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)a0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=a0[f-15],m=a0[f-2],y=qu(h,7)^qu(h,18)^h>>>3,x=qu(m,17)^qu(m,19)^m>>>10;a0[f]=x+a0[f-7]+y+a0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=qu(o,6)^qu(o,11)^qu(o,25),m=u+h+xje(o,c,l)+Aje[f]+a0[f]|0,x=(qu(n,2)^qu(n,13)^qu(n,22))+wje(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+x|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){a0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const mw=Ik(()=>new Sje),W8=BigInt(2**32-1),cM=BigInt(32);function Nae(t,e=!1){return e?{h:Number(t&W8),l:Number(t>>cM&W8)}:{h:Number(t>>cM&W8)|0,l:Number(t&W8)|0}}function Eae(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=Nae(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const Pje=(t,e)=>BigInt(t>>>0)<<cM|BigInt(e>>>0),kje=(t,e,r)=>t>>>r,Ije=(t,e,r)=>t<<32-r|e>>>r,Nje=(t,e,r)=>t>>>r|e<<32-r,Eje=(t,e,r)=>t<<32-r|e>>>r,Cje=(t,e,r)=>t<<64-r|e>>>r-32,_je=(t,e,r)=>t>>>r-32|e<<64-r,Tje=(t,e)=>e,jje=(t,e)=>t,Cae=(t,e,r)=>t<<r|e>>>32-r,_ae=(t,e,r)=>e<<r|t>>>32-r,Tae=(t,e,r)=>e<<r-32|t>>>64-r,jae=(t,e,r)=>t<<r-32|e>>>64-r;function Mje(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const $je=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Oje=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Bje=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Fje=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Rje=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Dje=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Ir={fromBig:Nae,split:Eae,toBig:Pje,shrSH:kje,shrSL:Ije,rotrSH:Nje,rotrSL:Eje,rotrBH:Cje,rotrBL:_je,rotr32H:Tje,rotr32L:jje,rotlSH:Cae,rotlSL:_ae,rotlBH:Tae,rotlBL:jae,add:Mje,add3L:$je,add3H:Oje,add4L:Bje,add4H:Fje,add5H:Dje,add5L:Rje},[Uje,zje]=Ir.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),o0=new Uint32Array(80),c0=new Uint32Array(80);let Lje=class extends ZF{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:y,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=y|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)o0[_]=e.getUint32(r),c0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const O=o0[_-15]|0,F=c0[_-15]|0,D=Ir.rotrSH(O,F,1)^Ir.rotrSH(O,F,8)^Ir.shrSH(O,F,7),j=Ir.rotrSL(O,F,1)^Ir.rotrSL(O,F,8)^Ir.shrSL(O,F,7),T=o0[_-2]|0,R=c0[_-2]|0,q=Ir.rotrSH(T,R,19)^Ir.rotrBH(T,R,61)^Ir.shrSH(T,R,6),$=Ir.rotrSL(T,R,19)^Ir.rotrBL(T,R,61)^Ir.shrSL(T,R,6),b=Ir.add4L(j,$,c0[_-7],c0[_-16]),w=Ir.add4H(b,D,q,o0[_-7],o0[_-16]);o0[_]=w|0,c0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:y,Gh:x,Gl:k,Hh:C,Hl:I}=this;for(let _=0;_<80;_++){const O=Ir.rotrSH(f,h,14)^Ir.rotrSH(f,h,18)^Ir.rotrBH(f,h,41),F=Ir.rotrSL(f,h,14)^Ir.rotrSL(f,h,18)^Ir.rotrBL(f,h,41),D=f&m^~f&x,j=h&y^~h&k,T=Ir.add5L(I,F,j,zje[_],c0[_]),R=Ir.add5H(T,C,O,D,Uje[_],o0[_]),q=T|0,$=Ir.rotrSH(n,s,28)^Ir.rotrBH(n,s,34)^Ir.rotrBH(n,s,39),b=Ir.rotrSL(n,s,28)^Ir.rotrBL(n,s,34)^Ir.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;C=x|0,I=k|0,x=m|0,k=y|0,m=f|0,y=h|0,{h:f,l:h}=Ir.add(l|0,u|0,R|0,q|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Ir.add3L(q,b,p);n=Ir.add3H(g,R,$,w),s=g|0}({h:n,l:s}=Ir.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Ir.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ir.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ir.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Ir.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:y}=Ir.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:x,l:k}=Ir.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:C,l:I}=Ir.add(this.Hh|0,this.Hl|0,C|0,I|0),this.set(n,s,i,a,o,c,l,u,f,h,m,y,x,k,C,I)}roundClean(){o0.fill(0),c0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const JF=Ik(()=>new Lje);function Vje(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const sq=Vje(),iq=sq.crypto||sq.msCrypto;function Mae(t){switch(t){case"sha256":return mw.create();case"sha512":return JF.create()}he(!1,"invalid hashing algorithm name","algorithm",t)}function Hje(t,e){const r={sha256:mw,sha512:JF}[t];return he(r!=null,"invalid hmac algorithm","algorithm",t),Nk.create(r,e)}function qje(t,e,r,n,s){const i={sha256:mw,sha512:JF}[s];return he(i!=null,"invalid pbkdf2 algorithm","algorithm",s),XF(i,t,e,{c:r,dkLen:n})}function Wje(t){lt(iq!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),he(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);const e=new Uint8Array(t);return iq.getRandomValues(e),e}let $ae=!1;const Oae=function(t,e,r){return Hje(t,e).update(r).digest()};let Bae=Oae;function gw(t,e,r){const n=wt(e,"key"),s=wt(r,"data");return xt(Bae(t,n,s))}gw._=Oae;gw.lock=function(){$ae=!0};gw.register=function(t){if($ae)throw new Error("computeHmac is locked");Bae=t};Object.freeze(gw);const[Fae,Rae,Dae]=[[],[],[]],Kje=BigInt(0),a2=BigInt(1),Xje=BigInt(2),Zje=BigInt(7),Jje=BigInt(256),Qje=BigInt(113);for(let t=0,e=a2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Fae.push(2*(5*n+r)),Rae.push((t+1)*(t+2)/2%64);let s=Kje;for(let i=0;i<7;i++)e=(e<<a2^(e>>Zje)*Qje)%Jje,e&Xje&&(s^=a2<<(a2<<BigInt(i))-a2);Dae.push(s)}const[Yje,Gje]=Eae(Dae,!0),aq=(t,e,r)=>r>32?Tae(t,e,r):Cae(t,e,r),oq=(t,e,r)=>r>32?jae(t,e,r):_ae(t,e,r);function eMe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],f=aq(l,u,1)^r[o],h=oq(l,u,1)^r[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=Rae[a],c=aq(s,i,o),l=oq(s,i,o),u=Fae[a];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Yje[n],t[1]^=Gje[n]}r.fill(0)}class QF extends KF{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cc(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=a7(this.state)}keccak(){eMe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Px(this);const{blockLen:r,state:n}=this;e=kx(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Px(this,!1),WF(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Sae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new QF(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const tMe=(t,e,r)=>Ik(()=>new QF(e,t,r)),rMe=tMe(1,136,256/8);let Uae=!1;const zae=function(t){return rMe(t)};let Lae=zae;function On(t){const e=wt(t,"data");return xt(Lae(e))}On._=zae;On.lock=function(){Uae=!0};On.register=function(t){if(Uae)throw new TypeError("keccak256 is locked");Lae=t};Object.freeze(On);const nMe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Vae=Uint8Array.from({length:16},(t,e)=>e),sMe=Vae.map(t=>(9*t+5)%16);let YF=[Vae],GF=[sMe];for(let t=0;t<4;t++)for(let e of[YF,GF])e.push(e[t].map(r=>nMe[r]));const Hae=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),iMe=YF.map((t,e)=>t.map(r=>Hae[e][r])),aMe=GF.map((t,e)=>t.map(r=>Hae[e][r])),oMe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),cMe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),K8=(t,e)=>t<<e|t>>>32-e;function cq(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const X8=new Uint32Array(16);class lMe extends ZF{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:s,h4:i}=this;return[e,r,n,s,i]}set(e,r,n,s,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,r){for(let m=0;m<16;m++,r+=4)X8[m]=e.getUint32(r,!0);let n=this.h0|0,s=n,i=this.h1|0,a=i,o=this.h2|0,c=o,l=this.h3|0,u=l,f=this.h4|0,h=f;for(let m=0;m<5;m++){const y=4-m,x=oMe[m],k=cMe[m],C=YF[m],I=GF[m],_=iMe[m],O=aMe[m];for(let F=0;F<16;F++){const D=K8(n+cq(m,i,o,l)+X8[C[F]]+x,_[F])+f|0;n=f,f=l,l=K8(o,10)|0,o=i,i=D}for(let F=0;F<16;F++){const D=K8(s+cq(y,a,c,u)+X8[I[F]]+k,O[F])+h|0;s=h,h=u,u=K8(c,10)|0,c=a,a=D}}this.set(this.h1+o+u|0,this.h2+l+h|0,this.h3+f+s|0,this.h4+n+a|0,this.h0+i+c|0)}roundClean(){X8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const uMe=Ik(()=>new lMe);let qae=!1;const Wae=function(t){return uMe(t)};let Kae=Wae;function uf(t){const e=wt(t,"data");return xt(Kae(e))}uf._=Wae;uf.lock=function(){qae=!0};uf.register=function(t){if(qae)throw new TypeError("ripemd160 is locked");Kae=t};Object.freeze(uf);let Xae=!1;const Zae=function(t,e,r,n,s){return qje(t,e,r,n,s)};let Jae=Zae;function q1(t,e,r,n,s){const i=wt(t,"password"),a=wt(e,"salt");return xt(Jae(i,a,r,n,s))}q1._=Zae;q1.lock=function(){Xae=!0};q1.register=function(t){if(Xae)throw new Error("pbkdf2 is locked");Jae=t};Object.freeze(q1);let Qae=!1;const Yae=function(t){return new Uint8Array(Wje(t))};let Gae=Yae;function Hi(t){return Gae(t)}Hi._=Yae;Hi.lock=function(){Qae=!0};Hi.register=function(t){if(Qae)throw new Error("randomBytes is locked");Gae=t};Object.freeze(Hi);const rn=(t,e)=>t<<e|t>>>32-e;function lq(t,e,r,n,s,i){let a=t[e++]^r[n++],o=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],u=t[e++]^r[n++],f=t[e++]^r[n++],h=t[e++]^r[n++],m=t[e++]^r[n++],y=t[e++]^r[n++],x=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],I=t[e++]^r[n++],_=t[e++]^r[n++],O=t[e++]^r[n++],F=t[e++]^r[n++],D=a,j=o,T=c,R=l,q=u,$=f,b=h,w=m,p=y,g=x,S=k,N=C,P=I,A=_,v=O,E=F;for(let M=0;M<8;M+=2)q^=rn(D+P|0,7),p^=rn(q+D|0,9),P^=rn(p+q|0,13),D^=rn(P+p|0,18),g^=rn($+j|0,7),A^=rn(g+$|0,9),j^=rn(A+g|0,13),$^=rn(j+A|0,18),v^=rn(S+b|0,7),T^=rn(v+S|0,9),b^=rn(T+v|0,13),S^=rn(b+T|0,18),R^=rn(E+N|0,7),w^=rn(R+E|0,9),N^=rn(w+R|0,13),E^=rn(N+w|0,18),j^=rn(D+R|0,7),T^=rn(j+D|0,9),R^=rn(T+j|0,13),D^=rn(R+T|0,18),b^=rn($+q|0,7),w^=rn(b+$|0,9),q^=rn(w+b|0,13),$^=rn(q+w|0,18),N^=rn(S+g|0,7),p^=rn(N+S|0,9),g^=rn(p+N|0,13),S^=rn(g+p|0,18),P^=rn(E+v|0,7),A^=rn(P+E|0,9),v^=rn(A+P|0,13),E^=rn(v+A|0,18);s[i++]=a+D|0,s[i++]=o+j|0,s[i++]=c+T|0,s[i++]=l+R|0,s[i++]=u+q|0,s[i++]=f+$|0,s[i++]=h+b|0,s[i++]=m+w|0,s[i++]=y+p|0,s[i++]=x+g|0,s[i++]=k+S|0,s[i++]=C+N|0,s[i++]=I+P|0,s[i++]=_+A|0,s[i++]=O+v|0,s[i++]=F+E|0}function Uy(t,e,r,n,s){let i=n+0,a=n+16*s;for(let o=0;o<16;o++)r[a+o]=t[e+(2*s-1)*16+o];for(let o=0;o<s;o++,i+=16,e+=16)lq(r,a,t,e,r,i),o>0&&(a+=16),lq(r,i,t,e+=16,r,a)}function eoe(t,e,r){const n=kae({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:i,p:a,dkLen:o,asyncTick:c,maxmem:l,onProgress:u}=n;if(cc(s),cc(i),cc(a),cc(o),cc(c),cc(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const f=128*i,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=f*(s+a);if(m>l)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${l} (maxmem)`);const y=XF(mw,t,e,{c:1,dkLen:f*a}),x=a7(y),k=a7(new Uint8Array(f*s)),C=a7(new Uint8Array(f));let I=()=>{};if(u){const _=2*s*a,O=Math.max(Math.floor(_/1e4),1);let F=0;I=()=>{F++,u&&(!(F%O)||F===_)&&u(F/_)}}return{N:s,r:i,p:a,dkLen:o,blockSize32:h,V:k,B32:x,B:y,tmp:C,blockMixCb:I,asyncTick:c}}function toe(t,e,r,n,s){const i=XF(mw,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),s.fill(0),i}function dMe(t,e,r){const{N:n,r:s,p:i,dkLen:a,blockSize32:o,V:c,B32:l,B:u,tmp:f,blockMixCb:h}=eoe(t,e,r);for(let m=0;m<i;m++){const y=o*m;for(let x=0;x<o;x++)c[x]=l[y+x];for(let x=0,k=0;x<n-1;x++)Uy(c,k,c,k+=o,s),h();Uy(c,(n-1)*o,l,y,s),h();for(let x=0;x<n;x++){const k=l[y+o-16]%n;for(let C=0;C<o;C++)f[C]=l[y+C]^c[k*o+C];Uy(f,0,l,y,s),h()}}return toe(t,a,u,c,f)}async function fMe(t,e,r){const{N:n,r:s,p:i,dkLen:a,blockSize32:o,V:c,B32:l,B:u,tmp:f,blockMixCb:h,asyncTick:m}=eoe(t,e,r);for(let y=0;y<i;y++){const x=o*y;for(let C=0;C<o;C++)c[C]=l[x+C];let k=0;await nq(n-1,m,()=>{Uy(c,k,c,k+=o,s),h()}),Uy(c,(n-1)*o,l,x,s),h(),await nq(n,m,()=>{const C=l[x+o-16]%n;for(let I=0;I<o;I++)f[I]=l[x+I]^c[C*o+I];Uy(f,0,l,x,s),h()})}return toe(t,a,u,c,f)}let roe=!1,noe=!1;const soe=async function(t,e,r,n,s,i,a){return await fMe(t,e,{N:r,r:n,p:s,dkLen:i,onProgress:a})},ioe=function(t,e,r,n,s,i){return dMe(t,e,{N:r,r:n,p:s,dkLen:i})};let aoe=soe,ooe=ioe;async function bw(t,e,r,n,s,i,a){const o=wt(t,"passwd"),c=wt(e,"salt");return xt(await aoe(o,c,r,n,s,i,a))}bw._=soe;bw.lock=function(){noe=!0};bw.register=function(t){if(noe)throw new Error("scrypt is locked");aoe=t};Object.freeze(bw);function yw(t,e,r,n,s,i){const a=wt(t,"passwd"),o=wt(e,"salt");return xt(ooe(a,o,r,n,s,i))}yw._=ioe;yw.lock=function(){roe=!0};yw.register=function(t){if(roe)throw new Error("scryptSync is locked");ooe=t};Object.freeze(yw);const coe=function(t){return Mae("sha256").update(t).digest()},loe=function(t){return Mae("sha512").update(t).digest()};let uoe=coe,doe=loe,foe=!1,hoe=!1;function ts(t){const e=wt(t,"data");return xt(uoe(e))}ts._=coe;ts.lock=function(){foe=!0};ts.register=function(t){if(foe)throw new Error("sha256 is locked");uoe=t};Object.freeze(ts);function eR(t){const e=wt(t,"data");return xt(doe(e))}eR._=loe;eR.lock=function(){hoe=!0};eR.register=function(t){if(hoe)throw new Error("sha512 is locked");doe=t};Object.freeze(ts);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const poe=BigInt(0),Ek=BigInt(1),hMe=BigInt(2),Ck=t=>t instanceof Uint8Array,pMe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ix(t){if(!Ck(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=pMe[t[r]];return e}function moe(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function tR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Nx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Yg(t){return tR(Ix(t))}function rR(t){if(!Ck(t))throw new Error("Uint8Array expected");return tR(Ix(Uint8Array.from(t).reverse()))}function Ex(t,e){return Nx(t.toString(16).padStart(e*2,"0"))}function nR(t,e){return Ex(t,e).reverse()}function mMe(t){return Nx(moe(t))}function tu(t,e,r){let n;if(typeof e=="string")try{n=Nx(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ck(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function _6(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!Ck(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function gMe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function bMe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yMe(t){let e;for(e=0;t>poe;t>>=Ek,e+=1);return e}function vMe(t,e){return t>>BigInt(e)&Ek}const xMe=(t,e,r)=>t|(r?Ek:poe)<<BigInt(e),sR=t=>(hMe<<BigInt(t-1))-Ek,zE=t=>new Uint8Array(t),uq=t=>Uint8Array.from(t);function goe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zE(t),s=zE(t),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...f)=>r(s,n,...f),c=(f=zE())=>{s=o(uq([0]),f),n=o(),f.length!==0&&(s=o(uq([1]),f),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=o();const m=n.slice();h.push(m),f+=n.length}return _6(...h)};return(f,h)=>{a(),c(f);let m;for(;!(m=h(l()));)c();return a(),m}}const wMe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function r5(t,e,r={}){const n=(s,i,a)=>{const o=wMe[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(a&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const AMe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:vMe,bitLen:yMe,bitMask:sR,bitSet:xMe,bytesToHex:Ix,bytesToNumberBE:Yg,bytesToNumberLE:rR,concatBytes:_6,createHmacDrbg:goe,ensureBytes:tu,equalBytes:gMe,hexToBytes:Nx,hexToNumber:tR,numberToBytesBE:Ex,numberToBytesLE:nR,numberToHexUnpadded:moe,numberToVarBytesBE:mMe,utf8ToBytes:bMe,validateObject:r5},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pi=BigInt(0),js=BigInt(1),Ym=BigInt(2),SMe=BigInt(3),lM=BigInt(4),dq=BigInt(5),fq=BigInt(8);BigInt(9);BigInt(16);function So(t,e){const r=t%e;return r>=pi?r:e+r}function PMe(t,e,r){if(r<=pi||e<pi)throw new Error("Expected power/modulo > 0");if(r===js)return pi;let n=js;for(;e>pi;)e&js&&(n=n*t%r),t=t*t%r,e>>=js;return n}function Bc(t,e,r){let n=t;for(;e-- >pi;)n*=n,n%=r;return n}function uM(t,e){if(t===pi||e<=pi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=So(t,e),n=e,s=pi,i=js;for(;r!==pi;){const o=n/r,c=n%r,l=s-i*o;n=r,r=c,s=i,i=l}if(n!==js)throw new Error("invert: does not exist");return So(s,e)}function kMe(t){const e=(t-js)/Ym;let r,n,s;for(r=t-js,n=0;r%Ym===pi;r/=Ym,n++);for(s=Ym;s<t&&PMe(s,e,t)!==t-js;s++);if(n===1){const a=(t+js)/lM;return function(c,l){const u=c.pow(l,a);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(r+js)/Ym;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,u=o.pow(o.mul(o.ONE,s),r),f=o.pow(c,i),h=o.pow(c,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let m=1;for(let x=o.sqr(h);m<l&&!o.eql(x,o.ONE);m++)x=o.sqr(x);const y=o.pow(u,js<<BigInt(l-m-1));u=o.sqr(y),f=o.mul(f,y),h=o.mul(h,u),l=m}return f}}function IMe(t){if(t%lM===SMe){const e=(t+js)/lM;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%fq===dq){const e=(t-dq)/fq;return function(n,s){const i=n.mul(s,Ym),a=n.pow(i,e),o=n.mul(s,a),c=n.mul(n.mul(o,Ym),a),l=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return kMe(t)}const NMe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function EMe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=NMe.reduce((n,s)=>(n[s]="function",n),e);return r5(t,r)}function CMe(t,e,r){if(r<pi)throw new Error("Expected power > 0");if(r===pi)return t.ONE;if(r===js)return e;let n=t.ONE,s=e;for(;r>pi;)r&js&&(n=t.mul(n,s)),s=t.sqr(s),r>>=js;return n}function _Me(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function boe(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function TMe(t,e,r=!1,n={}){if(t<=pi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=boe(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=IMe(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:sR(s),ZERO:pi,ONE:js,create:c=>So(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return pi<=c&&c<t},is0:c=>c===pi,isOdd:c=>(c&js)===js,neg:c=>So(-c,t),eql:(c,l)=>c===l,sqr:c=>So(c*c,t),add:(c,l)=>So(c+l,t),sub:(c,l)=>So(c-l,t),mul:(c,l)=>So(c*l,t),pow:(c,l)=>CMe(o,c,l),div:(c,l)=>So(c*uM(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>uM(c,t),sqrt:n.sqrt||(c=>a(o,c)),invertBatch:c=>_Me(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?nR(c,i):Ex(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?rR(c):Yg(c)}});return Object.freeze(o)}function yoe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function voe(t){const e=yoe(t);return e+Math.ceil(e/2)}function jMe(t,e,r=!1){const n=t.length,s=yoe(e),i=voe(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=r?Yg(t):rR(t),o=So(a,e-js)+js;return r?nR(o,s):Ex(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MMe=BigInt(0),LE=BigInt(1);function $Me(t,e){const r=(s,i)=>{const a=i.negate();return s?a:i},n=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>MMe;)i&LE&&(a=a.add(o)),o=o.double(),i>>=LE;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=n(i),c=[];let l=s,u=l;for(let f=0;f<a;f++){u=l,c.push(u);for(let h=1;h<o;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,a){const{windows:o,windowSize:c}=n(s);let l=t.ZERO,u=t.BASE;const f=BigInt(2**s-1),h=2**s,m=BigInt(s);for(let y=0;y<o;y++){const x=y*c;let k=Number(a&f);a>>=m,k>c&&(k-=h,a+=LE);const C=x,I=x+Math.abs(k)-1,_=y%2!==0,O=k<0;k===0?u=u.add(r(_,i[C])):l=l.add(r(O,i[I]))}return{p:l,f:u}},wNAFCached(s,i,a,o){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,o(l))),this.wNAF(c,l,a)}}}function xoe(t){return EMe(t.Fp),r5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...boe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OMe(t){const e=xoe(t);r5(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:BMe,hexToBytes:FMe}=AMe,ug={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ug;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:BMe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=ug,r=typeof t=="string"?FMe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ug._parseInt(r.subarray(2)),{d:a,l:o}=ug._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,a=s.length/2,o=r(i),c=r(a);return`30${r(a+i+4)}02${c}${s}02${o}${n}`}},sh=BigInt(0),al=BigInt(1);BigInt(2);const hq=BigInt(3);BigInt(4);function RMe(t){const e=OMe(t),{Fp:r}=e,n=e.toBytes||((y,x,k)=>{const C=x.toAffine();return _6(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),s=e.fromBytes||(y=>{const x=y.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),C=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function i(y){const{a:x,b:k}=e,C=r.sqr(y),I=r.mul(C,y);return r.add(r.add(I,r.mul(y,x)),k)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return typeof y=="bigint"&&sh<y&&y<e.n}function o(y){if(!a(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){const{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:C,n:I}=e;if(x&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Ix(y)),typeof y!="string"||!x.includes(y.length))throw new Error("Invalid key");y=y.padStart(k*2,"0")}let _;try{_=typeof y=="bigint"?y:Yg(tu("private key",y,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof y}`)}return C&&(_=So(_,I)),o(_),_}const l=new Map;function u(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(x,k,C){if(this.px=x,this.py=k,this.pz=C,x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(x){const{x:k,y:C}=x||{};if(!x||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(x instanceof f)throw new Error("projective point not allowed");const I=_=>r.eql(_,r.ZERO);return I(k)&&I(C)?f.ZERO:new f(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const k=r.invertBatch(x.map(C=>C.pz));return x.map((C,I)=>C.toAffine(k[I])).map(f.fromAffine)}static fromHex(x){const k=f.fromAffine(s(tu("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return f.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:k}=this.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");const C=r.sqr(k),I=i(x);if(!r.eql(C,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);const{px:k,py:C,pz:I}=this,{px:_,py:O,pz:F}=x,D=r.eql(r.mul(k,F),r.mul(_,I)),j=r.eql(r.mul(C,F),r.mul(O,I));return D&&j}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:k}=e,C=r.mul(k,hq),{px:I,py:_,pz:O}=this;let F=r.ZERO,D=r.ZERO,j=r.ZERO,T=r.mul(I,I),R=r.mul(_,_),q=r.mul(O,O),$=r.mul(I,_);return $=r.add($,$),j=r.mul(I,O),j=r.add(j,j),F=r.mul(x,j),D=r.mul(C,q),D=r.add(F,D),F=r.sub(R,D),D=r.add(R,D),D=r.mul(F,D),F=r.mul($,F),j=r.mul(C,j),q=r.mul(x,q),$=r.sub(T,q),$=r.mul(x,$),$=r.add($,j),j=r.add(T,T),T=r.add(j,T),T=r.add(T,q),T=r.mul(T,$),D=r.add(D,T),q=r.mul(_,O),q=r.add(q,q),T=r.mul(q,$),F=r.sub(F,T),j=r.mul(q,R),j=r.add(j,j),j=r.add(j,j),new f(F,D,j)}add(x){u(x);const{px:k,py:C,pz:I}=this,{px:_,py:O,pz:F}=x;let D=r.ZERO,j=r.ZERO,T=r.ZERO;const R=e.a,q=r.mul(e.b,hq);let $=r.mul(k,_),b=r.mul(C,O),w=r.mul(I,F),p=r.add(k,C),g=r.add(_,O);p=r.mul(p,g),g=r.add($,b),p=r.sub(p,g),g=r.add(k,I);let S=r.add(_,F);return g=r.mul(g,S),S=r.add($,w),g=r.sub(g,S),S=r.add(C,I),D=r.add(O,F),S=r.mul(S,D),D=r.add(b,w),S=r.sub(S,D),T=r.mul(R,g),D=r.mul(q,w),T=r.add(D,T),D=r.sub(b,T),T=r.add(b,T),j=r.mul(D,T),b=r.add($,$),b=r.add(b,$),w=r.mul(R,w),g=r.mul(q,g),b=r.add(b,w),w=r.sub($,w),w=r.mul(R,w),g=r.add(g,w),$=r.mul(b,g),j=r.add(j,$),$=r.mul(S,g),D=r.mul(p,D),D=r.sub(D,$),$=r.mul(p,b),T=r.mul(S,T),T=r.add(T,$),new f(D,j,T)}subtract(x){return this.add(x.negate())}is0(){return this.equals(f.ZERO)}wNAF(x){return m.wNAFCached(this,l,x,k=>{const C=r.invertBatch(k.map(I=>I.pz));return k.map((I,_)=>I.toAffine(C[_])).map(f.fromAffine)})}multiplyUnsafe(x){const k=f.ZERO;if(x===sh)return k;if(o(x),x===al)return this;const{endo:C}=e;if(!C)return m.unsafeLadder(this,x);let{k1neg:I,k1:_,k2neg:O,k2:F}=C.splitScalar(x),D=k,j=k,T=this;for(;_>sh||F>sh;)_&al&&(D=D.add(T)),F&al&&(j=j.add(T)),T=T.double(),_>>=al,F>>=al;return I&&(D=D.negate()),O&&(j=j.negate()),j=new f(r.mul(j.px,C.beta),j.py,j.pz),D.add(j)}multiply(x){o(x);let k=x,C,I;const{endo:_}=e;if(_){const{k1neg:O,k1:F,k2neg:D,k2:j}=_.splitScalar(k);let{p:T,f:R}=this.wNAF(F),{p:q,f:$}=this.wNAF(j);T=m.constTimeNegate(O,T),q=m.constTimeNegate(D,q),q=new f(r.mul(q.px,_.beta),q.py,q.pz),C=T.add(q),I=R.add($)}else{const{p:O,f:F}=this.wNAF(k);C=O,I=F}return f.normalizeZ([C,I])[0]}multiplyAndAddUnsafe(x,k,C){const I=f.BASE,_=(F,D)=>D===sh||D===al||!F.equals(I)?F.multiplyUnsafe(D):F.multiply(D),O=_(this,k).add(_(x,C));return O.is0()?void 0:O}toAffine(x){const{px:k,py:C,pz:I}=this,_=this.is0();x==null&&(x=_?r.ONE:r.inv(I));const O=r.mul(k,x),F=r.mul(C,x),D=r.mul(I,x);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:O,y:F}}isTorsionFree(){const{h:x,isTorsionFree:k}=e;if(x===al)return!0;if(k)return k(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:k}=e;return x===al?this:k?k(f,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(f,this,x)}toHex(x=!0){return Ix(this.toRawBytes(x))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,m=$Me(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function DMe(t){const e=xoe(t);return r5(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function UMe(t){const e=DMe(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function a(g){return sh<g&&g<r.ORDER}function o(g){return So(g,n)}function c(g){return uM(g,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=RMe({...e,toBytes(g,S,N){const P=S.toAffine(),A=r.toBytes(P.x),v=_6;return N?v(Uint8Array.from([S.hasEvenY()?2:3]),A):v(Uint8Array.from([4]),A,r.toBytes(P.y))},fromBytes(g){const S=g.length,N=g[0],P=g.subarray(1);if(S===s&&(N===2||N===3)){const A=Yg(P);if(!a(A))throw new Error("Point is not on curve");const v=f(A);let E=r.sqrt(v);const M=(E&al)===al;return(N&1)===1!==M&&(E=r.neg(E)),{x:A,y:E}}else if(S===i&&N===4){const A=r.fromBytes(P.subarray(0,r.BYTES)),v=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:A,y:v}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),m=g=>Ix(Ex(g,e.nByteLength));function y(g){const S=n>>al;return g>S}function x(g){return y(g)?o(-g):g}const k=(g,S,N)=>Yg(g.slice(S,N));class C{constructor(S,N,P){this.r=S,this.s=N,this.recovery=P,this.assertValidity()}static fromCompact(S){const N=e.nByteLength;return S=tu("compactSignature",S,N*2),new C(k(S,0,N),k(S,N,2*N))}static fromDER(S){const{r:N,s:P}=ug.toSig(tu("DER",S));return new C(N,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new C(this.r,this.s,S)}recoverPublicKey(S){const{r:N,s:P,recovery:A}=this,v=j(tu("msgHash",S));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const E=A===2||A===3?N+e.n:N;if(E>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=A&1?"03":"02",L=l.fromHex(M+m(E)),Q=c(E),U=o(-v*Q),J=o(P*Q),Z=l.BASE.multiplyAndAddUnsafe(L,U,J);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Nx(this.toDERHex())}toDERHex(){return ug.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nx(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const I={isValidPrivateKey(g){try{return u(g),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=voe(e.n);return jMe(e.randomBytes(g),e.n)},precompute(g=8,S=l.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}};function _(g,S=!0){return l.fromPrivateKey(g).toRawBytes(S)}function O(g){const S=g instanceof Uint8Array,N=typeof g=="string",P=(S||N)&&g.length;return S?P===s||P===i:N?P===2*s||P===2*i:g instanceof l}function F(g,S,N=!0){if(O(g))throw new Error("first arg must be private key");if(!O(S))throw new Error("second arg must be public key");return l.fromHex(S).multiply(u(g)).toRawBytes(N)}const D=e.bits2int||function(g){const S=Yg(g),N=g.length*8-e.nBitLength;return N>0?S>>BigInt(N):S},j=e.bits2int_modN||function(g){return o(D(g))},T=sR(e.nBitLength);function R(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(sh<=g&&g<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ex(g,e.nByteLength)}function q(g,S,N=$){if(["recovered","canonical"].some(G=>G in N))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:A}=e;let{lowS:v,prehash:E,extraEntropy:M}=N;v==null&&(v=!0),g=tu("msgHash",g),E&&(g=tu("prehashed msgHash",P(g)));const L=j(g),Q=u(S),U=[R(Q),R(L)];if(M!=null){const G=M===!0?A(r.BYTES):M;U.push(tu("extraEntropy",G))}const J=_6(...U),Z=L;function re(G){const z=D(G);if(!h(z))return;const se=c(z),ce=l.BASE.multiply(z).toAffine(),pe=o(ce.x);if(pe===sh)return;const _e=o(se*o(Z+pe*Q));if(_e===sh)return;let ke=(ce.x===pe?0:2)|Number(ce.y&al),tt=_e;return v&&y(_e)&&(tt=x(_e),ke^=1),new C(pe,tt,ke)}return{seed:J,k2sig:re}}const $={lowS:e.lowS,prehash:!1},b={lowS:e.lowS,prehash:!1};function w(g,S,N=$){const{seed:P,k2sig:A}=q(g,S,N),v=e;return goe(v.hash.outputLen,v.nByteLength,v.hmac)(P,A)}l.BASE._setWindowSize(8);function p(g,S,N,P=b){var ce;const A=g;if(S=tu("msgHash",S),N=tu("publicKey",N),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:v,prehash:E}=P;let M,L;try{if(typeof A=="string"||A instanceof Uint8Array)try{M=C.fromDER(A)}catch(pe){if(!(pe instanceof ug.Err))throw pe;M=C.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){const{r:pe,s:_e}=A;M=new C(pe,_e)}else throw new Error("PARSE");L=l.fromHex(N)}catch(pe){if(pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&M.hasHighS())return!1;E&&(S=e.hash(S));const{r:Q,s:U}=M,J=j(S),Z=c(U),re=o(J*Z),G=o(Q*Z),z=(ce=l.BASE.multiplyAndAddUnsafe(L,re,G))==null?void 0:ce.toAffine();return z?o(z.x)===Q:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:F,sign:w,verify:p,ProjectivePoint:l,Signature:C,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zMe(t){return{hash:t,hmac:(e,...r)=>Nk(t,e,pje(...r)),randomBytes:gje}}function LMe(t,e){const r=n=>UMe({...t,...zMe(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const woe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pq=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),VMe=BigInt(1),dM=BigInt(2),mq=(t,e)=>(t+e/dM)/e;function HMe(t){const e=woe,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Bc(u,r,e)*u%e,h=Bc(f,r,e)*u%e,m=Bc(h,dM,e)*l%e,y=Bc(m,s,e)*m%e,x=Bc(y,i,e)*y%e,k=Bc(x,o,e)*x%e,C=Bc(k,c,e)*k%e,I=Bc(C,o,e)*x%e,_=Bc(I,r,e)*u%e,O=Bc(_,a,e)*y%e,F=Bc(O,n,e)*l%e,D=Bc(F,dM,e);if(!fM.eql(fM.sqr(D),t))throw new Error("Cannot find square root");return D}const fM=TMe(woe,void 0,void 0,{sqrt:HMe}),j0=LMe({a:BigInt(0),b:BigInt(7),Fp:fM,n:pq,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=pq,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-VMe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=mq(i*t,e),c=mq(-n*t,e);let l=So(t-o*r-c*s,e),u=So(-o*n-c*i,e);const f=l>a,h=u>a;if(f&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},mw);BigInt(0);j0.ProjectivePoint;const T6="0x0000000000000000000000000000000000000000",gq="0x0000000000000000000000000000000000000000000000000000000000000000",o6t="",qMe=`Ethereum Signed Message:
`,bq=BigInt(0),yq=BigInt(1),hM=BigInt(2),vq=BigInt(27),xq=BigInt(28),Z8=BigInt(35),Aoe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),WMe=Aoe/hM,KMe=Symbol.for("nodejs.util.inspect.custom"),Cm={};function VE(t){return $h(ds(t),32)}var xv,md,wv,ip,Ka;let mc=(Ka=class{constructor(e,r,n,s){Ne(this,xv);Ne(this,md);Ne(this,wv);Ne(this,ip);dm(e,Cm,"Signature"),oe(this,xv,r),oe(this,md,n),oe(this,wv,s),oe(this,ip,null)}get r(){return K(this,xv)}set r(e){he(Ry(e)===32,"invalid r","value",e),oe(this,xv,xt(e))}get s(){return he(parseInt(K(this,md).substring(0,3))<8,"non-canonical s; use ._s","s",K(this,md)),K(this,md)}set s(e){he(Ry(e)===32,"invalid s","value",e),oe(this,md,xt(e))}get _s(){return K(this,md)}isValid(){return BigInt(K(this,md))<=WMe}get v(){return K(this,wv)}set v(e){const r=ur(e,"value");he(r===27||r===28,"invalid v","v",e),oe(this,wv,r)}get networkV(){return K(this,ip)}get legacyChainId(){const e=this.networkV;return e==null?null:Ka.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=wt(this.s);return this.yParity&&(e[0]|=128),xt(e)}get compactSerialized(){return tn([this.r,this.yParityAndS])}get serialized(){return tn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Aoe-BigInt(this._s),r=55-this.v,n=new Ka(Cm,this.r,VE(e),r);return this.networkV&&oe(n,ip,this.networkV),n}clone(){const e=new Ka(Cm,this.r,this._s,this.v);return this.networkV&&oe(e,ip,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[KMe](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=Lt(e,"v");return r==vq||r==xq?bq:(he(r>=Z8,"invalid EIP-155 v","v",e),(r-Z8)/hM)}static getChainIdV(e,r){return Lt(e)*hM+BigInt(35+r-27)}static getNormalizedV(e){const r=Lt(e);return r===bq||r===vq?27:r===yq||r===xq?28:(he(r>=Z8,"invalid v","v",e),r&yq?27:28)}static from(e){function r(l,u){he(l,u,"signature",e)}if(e==null)return new Ka(Cm,gq,gq,27);if(typeof e=="string"){const l=wt(e,"signature");if(l.length===64){const u=xt(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new Ka(Cm,u,xt(f),h)}if(l.length===65){const u=xt(l.slice(0,32)),f=xt(l.slice(32,64)),h=Ka.getNormalizedV(l[64]);return new Ka(Cm,u,f,h)}r(!1,"invalid raw signature length")}if(e instanceof Ka)return e.clone();const n=e.r;r(n!=null,"missing r");const s=VE(n),i=function(l,u){if(l!=null)return VE(l);if(u!=null){r(Bn(u,32),"invalid yParityAndS");const f=wt(u);return f[0]&=127,xt(f)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(l,u,f){if(l!=null){const h=Lt(l);return{networkV:h>=Z8?h:void 0,v:Ka.getNormalizedV(h)}}if(u!=null)return r(Bn(u,32),"invalid yParityAndS"),{v:wt(u)[0]&128?28:27};if(f!=null){switch(ur(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ka(Cm,s,i,o);return a&&oe(c,ip,a),r(e.yParity==null||ur(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},xv=new WeakMap,md=new WeakMap,wv=new WeakMap,ip=new WeakMap,Ka);var Jf;const rg=class rg{constructor(e){Ne(this,Jf);he(Ry(e)===32,"invalid private key","privateKey","[REDACTED]"),oe(this,Jf,xt(e))}get privateKey(){return K(this,Jf)}get publicKey(){return rg.computePublicKey(K(this,Jf))}get compressedPublicKey(){return rg.computePublicKey(K(this,Jf),!0)}sign(e){he(Ry(e)===32,"invalid digest length","digest",e);const r=j0.sign(Vi(e),Vi(K(this,Jf)),{lowS:!0});return mc.from({r:Oh(r.r,32),s:Oh(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=rg.computePublicKey(e);return xt(j0.getSharedSecret(Vi(K(this,Jf)),wt(r),!1))}static computePublicKey(e,r){let n=wt(e,"key");if(n.length===32){const i=j0.getPublicKey(n,!!r);return xt(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=j0.ProjectivePoint.fromHex(n);return xt(s.toRawBytes(r))}static recoverPublicKey(e,r){he(Ry(e)===32,"invalid digest length","digest",e);const n=mc.from(r);let s=j0.Signature.fromCompact(Vi(tn([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(Vi(e));return he(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=j0.ProjectivePoint.fromHex(rg.computePublicKey(e).substring(2)),i=j0.ProjectivePoint.fromHex(rg.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};Jf=new WeakMap;let vl=rg;const XMe=BigInt(0),ZMe=BigInt(36);function wq(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=wt(On(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const iR={};for(let t=0;t<10;t++)iR[String(t)]=String(t);for(let t=0;t<26;t++)iR[String.fromCharCode(65+t)]=String(10+t);const Aq=15;function Soe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>iR[n]).join("");for(;e.length>=Aq;){let n=e.substring(0,Aq);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const JMe=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function QMe(t){t=t.toLowerCase();let e=XMe;for(let r=0;r<t.length;r++)e=e*ZMe+JMe[t[r]];return e}function jr(t){if(he(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=wq(t);return he(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){he(t.substring(2,4)===Soe(t),"bad icap checksum","address",t);let e=QMe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return wq("0x"+e)}he(!1,"invalid address","address",t)}function c6t(t){let e=BigInt(jr(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Soe("XE00"+e)+e}function YMe(t){const e=jr(t.from);let n=Lt(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,jr(Tn(On(Hd([e,n])),12))}function l6t(t,e,r){const n=jr(t),s=wt(e,"salt"),i=wt(r,"initCodeHash");return he(s.length===32,"salt must be 32 bytes","salt",e),he(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",r),jr(Tn(On(tn(["0xff",n,s,i])),12))}function Poe(t){return t&&typeof t.getAddress=="function"}function u6t(t){try{return jr(t),!0}catch{}return!1}async function HE(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(lt(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),he(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),jr(r)}function mi(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?jr(t):(lt(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),HE(t,e.resolveName(t)));if(Poe(t))return HE(t,t.getAddress());if(t&&typeof t.then=="function")return HE(t,t);he(!1,"unsupported addressable value","target",t)}const Uf={};function Ht(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Ba(Uf,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function nn(t,e){return new Ba(Uf,`bytes${e||""}`,t,{size:e})}const Sq=Symbol.for("_ethers_typed");var Og;const zf=class zf{constructor(e,r,n,s){ve(this,"type");ve(this,"value");Ne(this,Og);ve(this,"_typedSymbol");s==null&&(s=null),dm(Uf,e,"Typed"),Jt(this,{_typedSymbol:Sq,type:r,value:n}),oe(this,Og,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return K(this,Og)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return K(this,Og)===!0?-1:K(this,Og)===!1?this.value.length:null}static from(e,r){return new zf(Uf,e,r)}static uint8(e){return Ht(e,8)}static uint16(e){return Ht(e,16)}static uint24(e){return Ht(e,24)}static uint32(e){return Ht(e,32)}static uint40(e){return Ht(e,40)}static uint48(e){return Ht(e,48)}static uint56(e){return Ht(e,56)}static uint64(e){return Ht(e,64)}static uint72(e){return Ht(e,72)}static uint80(e){return Ht(e,80)}static uint88(e){return Ht(e,88)}static uint96(e){return Ht(e,96)}static uint104(e){return Ht(e,104)}static uint112(e){return Ht(e,112)}static uint120(e){return Ht(e,120)}static uint128(e){return Ht(e,128)}static uint136(e){return Ht(e,136)}static uint144(e){return Ht(e,144)}static uint152(e){return Ht(e,152)}static uint160(e){return Ht(e,160)}static uint168(e){return Ht(e,168)}static uint176(e){return Ht(e,176)}static uint184(e){return Ht(e,184)}static uint192(e){return Ht(e,192)}static uint200(e){return Ht(e,200)}static uint208(e){return Ht(e,208)}static uint216(e){return Ht(e,216)}static uint224(e){return Ht(e,224)}static uint232(e){return Ht(e,232)}static uint240(e){return Ht(e,240)}static uint248(e){return Ht(e,248)}static uint256(e){return Ht(e,256)}static uint(e){return Ht(e,256)}static int8(e){return Ht(e,-8)}static int16(e){return Ht(e,-16)}static int24(e){return Ht(e,-24)}static int32(e){return Ht(e,-32)}static int40(e){return Ht(e,-40)}static int48(e){return Ht(e,-48)}static int56(e){return Ht(e,-56)}static int64(e){return Ht(e,-64)}static int72(e){return Ht(e,-72)}static int80(e){return Ht(e,-80)}static int88(e){return Ht(e,-88)}static int96(e){return Ht(e,-96)}static int104(e){return Ht(e,-104)}static int112(e){return Ht(e,-112)}static int120(e){return Ht(e,-120)}static int128(e){return Ht(e,-128)}static int136(e){return Ht(e,-136)}static int144(e){return Ht(e,-144)}static int152(e){return Ht(e,-152)}static int160(e){return Ht(e,-160)}static int168(e){return Ht(e,-168)}static int176(e){return Ht(e,-176)}static int184(e){return Ht(e,-184)}static int192(e){return Ht(e,-192)}static int200(e){return Ht(e,-200)}static int208(e){return Ht(e,-208)}static int216(e){return Ht(e,-216)}static int224(e){return Ht(e,-224)}static int232(e){return Ht(e,-232)}static int240(e){return Ht(e,-240)}static int248(e){return Ht(e,-248)}static int256(e){return Ht(e,-256)}static int(e){return Ht(e,-256)}static bytes1(e){return nn(e,1)}static bytes2(e){return nn(e,2)}static bytes3(e){return nn(e,3)}static bytes4(e){return nn(e,4)}static bytes5(e){return nn(e,5)}static bytes6(e){return nn(e,6)}static bytes7(e){return nn(e,7)}static bytes8(e){return nn(e,8)}static bytes9(e){return nn(e,9)}static bytes10(e){return nn(e,10)}static bytes11(e){return nn(e,11)}static bytes12(e){return nn(e,12)}static bytes13(e){return nn(e,13)}static bytes14(e){return nn(e,14)}static bytes15(e){return nn(e,15)}static bytes16(e){return nn(e,16)}static bytes17(e){return nn(e,17)}static bytes18(e){return nn(e,18)}static bytes19(e){return nn(e,19)}static bytes20(e){return nn(e,20)}static bytes21(e){return nn(e,21)}static bytes22(e){return nn(e,22)}static bytes23(e){return nn(e,23)}static bytes24(e){return nn(e,24)}static bytes25(e){return nn(e,25)}static bytes26(e){return nn(e,26)}static bytes27(e){return nn(e,27)}static bytes28(e){return nn(e,28)}static bytes29(e){return nn(e,29)}static bytes30(e){return nn(e,30)}static bytes31(e){return nn(e,31)}static bytes32(e){return nn(e,32)}static address(e){return new zf(Uf,"address",e)}static bool(e){return new zf(Uf,"bool",!!e)}static bytes(e){return new zf(Uf,"bytes",e)}static string(e){return new zf(Uf,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new zf(Uf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Sq}static dereference(e,r){if(zf.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Og=new WeakMap;let Ba=zf;class GMe extends Wh{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Ba.dereference(r,"string");try{n=jr(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return jr(Oh(e.readValue(),20))}}class e$e extends Wh{constructor(r){super(r.name,r.type,"_",r.dynamic);ve(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function koe(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return lt(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),lt(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else he(!1,"invalid tuple value","tuple",r);he(e.length===n.length,"types/value length mismatch","tuple",r);let s=new iM,i=new iM,a=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(s,u)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function Ioe(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),c=s.subReader(o);try{a=i.decode(c)}catch(l){if(Li(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(Li(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");r.push(a),n.push(i.localName||null)}),Sx.fromItems(r,n)}class t$e extends Wh{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",i,s,a);ve(this,"coder");ve(this,"length");Jt(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=Ba.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),rae(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<s.length;o++)a.push(this.coder);return koe(r,a,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),lt(n*Qa<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Qa,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new e$e(this.coder));return Ioe(r,s)}}class r$e extends Wh{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Ba.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Noe extends Wh{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Vi(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class n$e extends Noe{constructor(e){super("bytes",e)}decode(e){return xt(super.decode(e))}}class s$e extends Wh{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);ve(this,"size");Jt(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=Vi(Ba.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return xt(r.readBytes(this.size))}}const i$e=new Uint8Array([]);class a$e extends Wh{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(i$e)}decode(e){return e.readBytes(0),null}}const o$e=BigInt(0),c$e=BigInt(1),l$e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class u$e extends Wh{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);ve(this,"size");ve(this,"signed");Jt(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Lt(Ba.dereference(n,this.type)),i=lg(l$e,Qa*8);if(this.signed){let a=lg(i,this.size*8-1);(s>a||s<-(a+c$e))&&this._throwError("value out-of-bounds",n),s=aae(s,8*Qa)}else(s<o$e||s>lg(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=lg(r.readValue(),this.size*8);return this.signed&&(n=WA(n,this.size*8)),n}}class d$e extends Noe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Oa(Ba.dereference(r,"string")))}decode(e){return XA(super.decode(e))}}class J8 extends Wh{constructor(r,n){let s=!1;const i=[];r.forEach(o=>{o.dynamic&&(s=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,n,s);ve(this,"coders");Jt(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[i]))}),Object.freeze(r)}encode(r,n){const s=Ba.dereference(n,"tuple");return koe(r,this.coders,s)}decode(r){return Ioe(r,this.coders)}}function qE(t,e){return{address:jr(t),storageKeys:e.map((r,n)=>(he(Bn(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function W1(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(he(r.length===2,"invalid slot set",`value[${n}]`,r),qE(r[0],r[1])):(he(r!=null&&typeof r=="object","invalid address-slot set","value",t),qE(r.address,r.storageKeys)));he(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return qE(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Eoe(t){return{address:jr(t.address),nonce:Lt(t.nonce!=null?t.nonce:0),chainId:Lt(t.chainId!=null?t.chainId:0),signature:mc.from(t.signature)}}function n5(t){let e;return typeof t=="string"?e=vl.computePublicKey(t,!1):e=t.publicKey,jr(On("0x"+e.substring(4)).substring(26))}function _k(t,e){return n5(vl.recoverPublicKey(t,e))}const hi=BigInt(0),f$e=BigInt(2),h$e=BigInt(27),p$e=BigInt(28),m$e=BigInt(35),g$e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),b$e=Symbol.for("nodejs.util.inspect.custom"),WE=4096*32,c7=128;function y$e(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return wt(t.blobToKzgCommitment(xt(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return wt(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return wt(t.blobToKZGCommitment(xt(n)));he(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return wt(t.computeBlobProof(xt(n),xt(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return wt(t.computeBlobKZGProof(xt(n),xt(s)));he(!1,"unsupported KZG library","kzg",t)}}}function Pq(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=ts(e).substring(4),"0x"+r}function vw(t){return t==="0x"?null:jr(t)}function Tk(t,e){try{return W1(t)}catch(r){he(!1,r.message,e,t)}}function v$e(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:vw(s[1]),nonce:wn(s[2],"nonce"),chainId:wn(s[0],"chainId"),signature:mc.from({yParity:K1(s[3],"yParity"),r:$h(s[4],32),s:$h(s[5],32)})})}return r}catch(r){he(!1,r.message,e,t)}}function K1(t,e){return t==="0x"?0:ur(t,e)}function wn(t,e){if(t==="0x")return hi;const r=Lt(t,e);return he(r<=g$e,"value exceeds uint size",e,r),r}function Kr(t,e){const r=Lt(t,"value"),n=ds(r);return he(n.length<=32,"value too large",`tx.${e}`,r),n}function jk(t){return W1(t).map(e=>[e.address,e.storageKeys])}function x$e(t){return t.map(e=>[Kr(e.chainId,"chainId"),e.address,Kr(e.nonce,"nonce"),Kr(e.signature.yParity,"yParity"),ds(e.signature.r),ds(e.signature._s)])}function w$e(t,e){he(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)he(Bn(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function A$e(t){const e=t5(t);he(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:K1(e[0],"nonce"),gasPrice:wn(e[1],"gasPrice"),gasLimit:wn(e[2],"gasLimit"),to:vw(e[3]),value:wn(e[4],"value"),data:xt(e[5]),chainId:hi};if(e.length===6)return r;const n=wn(e[6],"v"),s=wn(e[7],"r"),i=wn(e[8],"s");if(s===hi&&i===hi)r.chainId=n;else{let a=(n-m$e)/f$e;a<hi&&(a=hi),r.chainId=a,he(a!==hi||n===h$e||n===p$e,"non-canonical legacy v","v",e[6]),r.signature=mc.from({r:$h(e[7],32),s:$h(e[8],32),v:n})}return r}function S$e(t,e){const r=[Kr(t.nonce,"nonce"),Kr(t.gasPrice||0,"gasPrice"),Kr(t.gasLimit,"gasLimit"),t.to||"0x",Kr(t.value,"value"),t.data];let n=hi;if(t.chainId!=hi)n=Lt(t.chainId,"tx.chainId"),he(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==hi&&(r.push(ds(n)),r.push("0x"),r.push("0x")),Hd(r);let s=BigInt(27+e.yParity);return n!==hi?s=mc.getChainIdV(n,e.v):BigInt(e.v)!==s&&he(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(ds(s)),r.push(ds(e.r)),r.push(ds(e._s)),Hd(r)}function Mk(t,e){let r;try{if(r=K1(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{he(!1,"invalid yParity","yParity",e[0])}const n=$h(e[1],32),s=$h(e[2],32),i=mc.from({r:n,s,yParity:r});t.signature=i}function P$e(t){const e=t5(wt(t).slice(1));he(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",xt(t));const r={type:2,chainId:wn(e[0],"chainId"),nonce:K1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:vw(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:Tk(e[8],"accessList")};return e.length===9||Mk(r,e.slice(9)),r}function k$e(t,e){const r=[Kr(t.chainId,"chainId"),Kr(t.nonce,"nonce"),Kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kr(t.maxFeePerGas||0,"maxFeePerGas"),Kr(t.gasLimit,"gasLimit"),t.to||"0x",Kr(t.value,"value"),t.data,jk(t.accessList||[])];return e&&(r.push(Kr(e.yParity,"yParity")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x02",Hd(r)])}function I$e(t){const e=t5(wt(t).slice(1));he(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",xt(t));const r={type:1,chainId:wn(e[0],"chainId"),nonce:K1(e[1],"nonce"),gasPrice:wn(e[2],"gasPrice"),gasLimit:wn(e[3],"gasLimit"),to:vw(e[4]),value:wn(e[5],"value"),data:xt(e[6]),accessList:Tk(e[7],"accessList")};return e.length===8||Mk(r,e.slice(8)),r}function N$e(t,e){const r=[Kr(t.chainId,"chainId"),Kr(t.nonce,"nonce"),Kr(t.gasPrice||0,"gasPrice"),Kr(t.gasLimit,"gasLimit"),t.to||"0x",Kr(t.value,"value"),t.data,jk(t.accessList||[])];return e&&(r.push(Kr(e.yParity,"recoveryParam")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x01",Hd(r)])}function E$e(t){let e=t5(wt(t).slice(1)),r="3",n=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],o=e[2],c=e[3];he(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),he(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),he(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),he(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:a[l],commitment:o[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=ur(e[1]);const a=e[2],o=e[3],c=e[4];he(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),he(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),he(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),he(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),he(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(a.length*c7===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<a.length;l++){const u=[];for(let f=0;f<c7;f++)u.push(c[l*c7+f]);s.push({data:a[l],commitment:o[l],proof:tn(u)})}e=e[0]}he(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",xt(t));const i={type:3,chainId:wn(e[0],"chainId"),nonce:K1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:vw(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:Tk(e[8],"accessList"),maxFeePerBlobGas:wn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};s&&(i.blobs=s),he(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),he(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<i.blobVersionedHashes.length;a++)he(Bn(i.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||Mk(i,e.slice(11)),i}function C$e(t,e,r){const n=[Kr(t.chainId,"chainId"),Kr(t.nonce,"nonce"),Kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kr(t.maxFeePerGas||0,"maxFeePerGas"),Kr(t.gasLimit,"gasLimit"),t.to||T6,Kr(t.value,"value"),t.data,jk(t.accessList||[]),Kr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),w$e(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(Kr(e.yParity,"yParity")),n.push(ds(e.r)),n.push(ds(e.s)),r)){if(t.blobWrapperVersion!=null){const s=ds(t.blobWrapperVersion),i=[];for(const{proof:a}of r){const o=wt(a),c=o.length/c7;for(let l=0;l<o.length;l+=c)i.push(o.subarray(l,l+c))}return tn(["0x03",Hd([n,s,r.map(a=>a.data),r.map(a=>a.commitment),i])])}return tn(["0x03",Hd([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return tn(["0x03",Hd(n)])}function _$e(t){const e=t5(wt(t).slice(1));he(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",xt(t));const r={type:4,chainId:wn(e[0],"chainId"),nonce:K1(e[1],"nonce"),maxPriorityFeePerGas:wn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wn(e[4],"gasLimit"),to:vw(e[5]),value:wn(e[6],"value"),data:xt(e[7]),accessList:Tk(e[8],"accessList"),authorizationList:v$e(e[9],"authorizationList")};return e.length===10||Mk(r,e.slice(10)),r}function T$e(t,e){const r=[Kr(t.chainId,"chainId"),Kr(t.nonce,"nonce"),Kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kr(t.maxFeePerGas||0,"maxFeePerGas"),Kr(t.gasLimit,"gasLimit"),t.to||"0x",Kr(t.value,"value"),t.data,jk(t.accessList||[]),x$e(t.authorizationList||[])];return e&&(r.push(Kr(e.yParity,"yParity")),r.push(ds(e.r)),r.push(ds(e.s))),tn(["0x04",Hd(r)])}var au,Av,Sv,Pv,kv,Iv,Nv,Ev,Cv,_v,Tv,jv,Bg,ap,gd,op,Mv,$v,Ov,l7;const id=class id{constructor(){Ne(this,Ov);Ne(this,au);Ne(this,Av);Ne(this,Sv);Ne(this,Pv);Ne(this,kv);Ne(this,Iv);Ne(this,Nv);Ne(this,Ev);Ne(this,Cv);Ne(this,_v);Ne(this,Tv);Ne(this,jv);Ne(this,Bg);Ne(this,ap);Ne(this,gd);Ne(this,op);Ne(this,Mv);Ne(this,$v);oe(this,au,null),oe(this,Av,null),oe(this,Pv,0),oe(this,kv,hi),oe(this,Iv,null),oe(this,Nv,null),oe(this,Ev,null),oe(this,Sv,"0x"),oe(this,Cv,hi),oe(this,_v,hi),oe(this,Tv,null),oe(this,jv,null),oe(this,Bg,null),oe(this,ap,null),oe(this,gd,null),oe(this,op,null),oe(this,Mv,null),oe(this,$v,null)}get type(){return K(this,au)}set type(e){switch(e){case null:oe(this,au,null);break;case 0:case"legacy":oe(this,au,0);break;case 1:case"berlin":case"eip-2930":oe(this,au,1);break;case 2:case"london":case"eip-1559":oe(this,au,2);break;case 3:case"cancun":case"eip-4844":oe(this,au,3);break;case 4:case"pectra":case"eip-7702":oe(this,au,4);break;default:he(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=K(this,Av);return e==null&&this.type===3?T6:e}set to(e){oe(this,Av,e==null?null:jr(e))}get nonce(){return K(this,Pv)}set nonce(e){oe(this,Pv,ur(e,"value"))}get gasLimit(){return K(this,kv)}set gasLimit(e){oe(this,kv,Lt(e))}get gasPrice(){const e=K(this,Iv);return e==null&&(this.type===0||this.type===1)?hi:e}set gasPrice(e){oe(this,Iv,e==null?null:Lt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=K(this,Nv);return e??(this.type===2||this.type===3?hi:null)}set maxPriorityFeePerGas(e){oe(this,Nv,e==null?null:Lt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=K(this,Ev);return e??(this.type===2||this.type===3?hi:null)}set maxFeePerGas(e){oe(this,Ev,e==null?null:Lt(e,"maxFeePerGas"))}get data(){return K(this,Sv)}set data(e){oe(this,Sv,xt(e))}get value(){return K(this,Cv)}set value(e){oe(this,Cv,Lt(e,"value"))}get chainId(){return K(this,_v)}set chainId(e){oe(this,_v,Lt(e))}get signature(){return K(this,Tv)||null}set signature(e){oe(this,Tv,e==null?null:mc.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){const e=K(this,jv)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){oe(this,jv,e==null?null:W1(e))}get authorizationList(){const e=K(this,Mv)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){oe(this,Mv,e==null?null:e.map(r=>Eoe(r)))}get maxFeePerBlobGas(){const e=K(this,Bg);return e==null&&this.type===3?hi:e}set maxFeePerBlobGas(e){oe(this,Bg,e==null?null:Lt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=K(this,ap);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){he(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)he(Bn(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}oe(this,ap,e)}get blobs(){return K(this,op)==null?null:K(this,op).map(e=>Object.assign({},e))}set blobs(e){if(e==null){oe(this,op,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(Sk(i)){lt(K(this,gd),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=wt(i);if(he(a.length<=WE,"blob is too large",`blobs[${s}]`,i),a.length!==WE){const l=new Uint8Array(WE);l.set(a),a=l}const o=K(this,gd).blobToKzgCommitment(a),c=xt(K(this,gd).computeBlobKzgProof(a,o));r.push({data:xt(a),commitment:xt(o),proof:c}),n.push(Pq(1,o))}else{const a=xt(i.data),o=xt(i.commitment),c=xt(i.proof);r.push({data:a,commitment:o,proof:c}),n.push(Pq(1,o))}}oe(this,op,r),oe(this,ap,n)}get kzg(){return K(this,gd)}set kzg(e){e==null?oe(this,gd,null):oe(this,gd,y$e(e))}get blobWrapperVersion(){return K(this,$v)}set blobWrapperVersion(e){oe(this,$v,e)}get hash(){return this.signature==null?null:On(Ye(this,Ov,l7).call(this,!0,!1))}get unsignedHash(){return On(this.unsignedSerialized)}get from(){return this.signature==null?null:_k(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:vl.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return Ye(this,Ov,l7).call(this,!0,!0)}get unsignedSerialized(){return Ye(this,Ov,l7).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=K(this,Bg)!=null||K(this,ap);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&lt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),lt(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),lt(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return id.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[b$e](){return this.toString()}toString(){const e=[],r=s=>{let i=this[s];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${s}: ${i}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const n=this.authorizationList;if(n){const s=[];for(const i of n){const a=[];a.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&a.push(`nonce: ${i.nonce}`),i.chainId!=null&&a.push(`chainId: ${i.chainId}`),i.signature&&a.push(`signature: ${i.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new id;if(typeof e=="string"){const n=wt(e);if(n[0]>=127)return id.from(A$e(n));switch(n[0]){case 1:return id.from(I$e(n));case 2:return id.from(P$e(n));case 3:return id.from(E$e(n));case 4:return id.from(_$e(n))}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new id;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=mc.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),he(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),he(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};au=new WeakMap,Av=new WeakMap,Sv=new WeakMap,Pv=new WeakMap,kv=new WeakMap,Iv=new WeakMap,Nv=new WeakMap,Ev=new WeakMap,Cv=new WeakMap,_v=new WeakMap,Tv=new WeakMap,jv=new WeakMap,Bg=new WeakMap,ap=new WeakMap,gd=new WeakMap,op=new WeakMap,Mv=new WeakMap,$v=new WeakMap,Ov=new WeakSet,l7=function(e,r){lt(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return S$e(this,n);case 1:return N$e(this,n);case 2:return k$e(this,n);case 3:return C$e(this,n,r?this.blobs:null);case 4:return T$e(this,n)}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let P1=id;function Coe(t){return he(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),On(tn(["0x05",Hd([t.chainId!=null?ds(t.chainId):"0x",jr(t.address),t.nonce!=null?ds(t.nonce):"0x"])]))}function d6t(t,e){return _k(Coe(t),e)}function Yp(t){return On(Oa(t))}var j$e="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const kq=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Iq=4;function M$e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let F=1;F<n;F++)i.push(s+=r());let a=r(),o=e;e+=a;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,h=2**f,m=h>>>1,y=m>>1,x=h-1;let k=0;for(let F=0;F<f;F++)k=k<<1|u();let C=[],I=0,_=h;for(;;){let F=Math.floor(((k-I+1)*s-1)/_),D=0,j=n;for(;j-D>1;){let q=D+j>>>1;F<i[q]?j=q:D=q}if(D==0)break;C.push(D);let T=I+Math.floor(_*i[D]/s),R=I+Math.floor(_*i[D+1]/s)-1;for(;!((T^R)&m);)k=k<<1&x|u(),T=T<<1&x,R=R<<1&x|1;for(;T&~R&y;)k=k&m|k<<1&x>>>1|u(),T=T<<1^m,R=(R^m)<<1|m|1;I=T,_=1+R-T}let O=n-4;return C.map(F=>{switch(F-O){case 3:return O+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return O+256+(t[o++]<<8|t[o++]);case 1:return O+t[o++];default:return F-1}})}function $$e(t){let e=0;return()=>t[e++]}function _oe(t){return $$e(M$e(O$e(t)))}function O$e(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}function B$e(t){return t&1?~t>>1:t>>1}function F$e(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=B$e(e());return r}function j6(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function Toe(t){return M6(()=>{let e=j6(t);if(e.length)return e})}function joe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(R$e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(D$e(r,t))}return e.flat()}function M6(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Moe(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)F$e(t,r).forEach((i,a)=>n[a].push(i));return n}function R$e(t,e){let r=1+e(),n=e(),s=M6(e);return Moe(s.length,1+t,e).flatMap((a,o)=>{let[c,...l]=a;return Array(s[o]).fill().map((u,f)=>{let h=f*n;return[c+f*r,l.map(m=>m+h)]})})}function D$e(t,e){let r=1+e();return Moe(r,1+t,e).map(s=>[s[0],s.slice(1)])}function U$e(t){let e=[],r=j6(t);return s(n([]),[]),e;function n(i){let a=t(),o=M6(()=>{let c=j6(t).map(l=>r[l]);if(c.length)return n(c)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,c){if(!(i&4&&c===o[o.length-1])){i&2&&(c=o[o.length-1]),i&1&&e.push(o);for(let l of a)for(let u of l.Q)s(l,[...o,u],c)}}}function z$e(t){return t.toString(16).toUpperCase().padStart(2,"0")}function $oe(t){return`{${z$e(t)}}`}function L$e(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Cx(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function V$e(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var H$e="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const $6=44032,JA=4352,QA=4449,YA=4519,Ooe=19,Boe=21,_x=28,GA=Boe*_x,q$e=Ooe*GA,W$e=$6+q$e,K$e=JA+Ooe,X$e=QA+Boe,Z$e=YA+_x;function H2(t){return t>>24&255}function Foe(t){return t&16777215}let pM,Nq,mM,u7;function J$e(){let t=_oe(H$e);pM=new Map(Toe(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),Nq=new Set(j6(t)),mM=new Map,u7=new Map;for(let[e,r]of joe(t)){if(!Nq.has(e)&&r.length==2){let[n,s]=r,i=u7.get(n);i||(i=new Map,u7.set(n,i)),i.set(s,e)}mM.set(e,r.reverse())}}function Roe(t){return t>=$6&&t<W$e}function Q$e(t,e){if(t>=JA&&t<K$e&&e>=QA&&e<X$e)return $6+(t-JA)*GA+(e-QA)*_x;if(Roe(t)&&e>YA&&e<Z$e&&(t-$6)%_x==0)return t+(e-YA);{let r=u7.get(t);return r&&(r=r.get(e),r)?r:-1}}function Doe(t){pM||J$e();let e=[],r=[],n=!1;function s(i){let a=pM.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Roe(i)){let a=i-$6,o=a/GA|0,c=a%GA/_x|0,l=a%_x;s(JA+o),s(QA+c),l>0&&s(YA+l)}else{let a=mM.get(i);a?r.push(...a):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=H2(e[0]);for(let a=1;a<e.length;a++){let o=H2(e[a]);if(o==0||i<=o){i=o;continue}let c=a-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=H2(e[--c]),i<=o))break}i=H2(e[a])}}return e}function Y$e(t){let e=[],r=[],n=-1,s=0;for(let i of t){let a=H2(i),o=Foe(i);if(n==-1)a==0?n=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(n,...r),r.length=0,n=o):r.push(o),s=a;else{let c=Q$e(n,o);c>=0?n=c:s==0&&a==0?(e.push(n),n=o):(r.push(o),s=a)}}return n>=0&&e.push(n,...r),e}function Uoe(t){return Doe(t).map(Foe)}function G$e(t){return Y$e(Doe(t))}const Eq=45,zoe=".",Loe=65039,Voe=1,eS=t=>Array.from(t);function O6(t,e){return t.P.has(e)||t.Q.has(e)}class eOe extends Array{get is_emoji(){return!0}}let gM,Hoe,dg,bM,qoe,zy,KE,Fb,Hm,Cq,yM;function aR(){if(gM)return;let t=_oe(j$e);const e=()=>j6(t),r=()=>new Set(e()),n=(u,f)=>f.forEach(h=>u.add(h));gM=new Map(joe(t)),Hoe=r(),dg=e(),bM=new Set(e().map(u=>dg[u])),dg=new Set(dg),qoe=r(),r();let s=Toe(t),i=t();const a=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};zy=M6(u=>{let f=M6(t).map(h=>h+96);if(f.length){let h=u>=i;f[0]-=32,f=Cx(f),h&&(f=`Restricted[${f}]`);let m=a(),y=a(),x=!t();return{N:f,P:m,Q:y,M:x,R:h}}}),KE=r(),Fb=new Map;let o=e().concat(eS(KE)).sort((u,f)=>u-f);o.forEach((u,f)=>{let h=t(),m=o[f]=h?o[f-h]:{V:[],M:new Map};m.V.push(u),KE.has(u)||Fb.set(u,m)});for(let{V:u,M:f}of new Set(Fb.values())){let h=[];for(let y of u){let x=zy.filter(C=>O6(C,y)),k=h.find(({G:C})=>x.some(I=>C.has(I)));k||(k={G:new Set,V:[]},h.push(k)),k.V.push(y),n(k.G,x)}let m=h.flatMap(y=>eS(y.G));for(let{G:y,V:x}of h){let k=new Set(m.filter(C=>!y.has(C)));for(let C of x)f.set(C,k)}}Hm=new Set;let c=new Set;const l=u=>Hm.has(u)?c.add(u):Hm.add(u);for(let u of zy){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Hm)!Fb.has(u)&&!c.has(u)&&Fb.set(u,Voe);n(Hm,Uoe(Hm)),Cq=U$e(t).map(u=>eOe.from(u)).sort(V$e),yM=new Map;for(let u of Cq){let f=[yM];for(let h of u){let m=f.map(y=>{let x=y.get(h);return x||(x=new Map,y.set(h,x)),x});h===Loe?f.push(...m):f=m}for(let h of f)h.V=u}}function oR(t){return(Woe(t)?"":`${cR($k([t]))} `)+$oe(t)}function cR(t){return`"${t}"`}function tOe(t){if(t.length>=4&&t[2]==Eq&&t[3]==Eq)throw new Error(`invalid label extension: "${Cx(t.slice(0,4))}"`)}function rOe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function nOe(t){let e=t[0],r=kq.get(e);if(r)throw S3(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let a=kq.get(e);if(a){if(s==i)throw S3(`${r} + ${a}`);s=i+1,r=a}}if(s==n)throw S3(`trailing ${r}`)}function $k(t,e=1/0,r=$oe){let n=[];sOe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];Woe(o)&&(n.push(Cx(t.slice(s,a))),n.push(r(o)),s=a+1)}return n.push(Cx(t.slice(s,i))),n.join("")}function sOe(t){return aR(),dg.has(t)}function Woe(t){return aR(),qoe.has(t)}function iOe(t){return lOe(aOe(t,G$e,fOe))}function aOe(t,e,r){if(!t)return[];aR();let n=0;return t.split(zoe).map(s=>{let i=L$e(s),a={input:i,offset:n};n+=i.length+1;try{let o=a.tokens=dOe(i,e,r),c=o.length,l;if(!c)throw new Error("empty label");let u=a.output=o.flat();if(rOe(u),!(a.emoji=c>1||o[0].is_emoji)&&u.every(h=>h<128))tOe(u),l="ASCII";else{let h=o.flatMap(m=>m.is_emoji?[]:m);if(!h.length)l="Emoji";else{if(dg.has(u[0]))throw S3("leading combining mark");for(let x=1;x<c;x++){let k=o[x];if(!k.is_emoji&&dg.has(k[0]))throw S3(`emoji + combining mark: "${Cx(o[x-1])} + ${$k([k[0]])}"`)}nOe(u);let m=eS(new Set(h)),[y]=cOe(m);uOe(y,h),oOe(y,m),l=y.N}}a.type=l}catch(o){a.error=o}return a})}function oOe(t,e){let r,n=[];for(let s of e){let i=Fb.get(s);if(i===Voe)return;if(i){let a=i.M.get(s);if(r=r?r.filter(o=>a.has(o)):eS(a),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>O6(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function cOe(t){let e=zy;for(let r of t){let n=e.filter(s=>O6(s,r));if(!n.length)throw zy.some(s=>O6(s,r))?Xoe(e[0],r):Koe(r);if(e=n,n.length==1)break}return e}function lOe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${cR($k(e,63))}: ${s}`)}return Cx(n)}).join(zoe)}function Koe(t){return new Error(`disallowed character: ${oR(t)}`)}function Xoe(t,e){let r=oR(e),n=zy.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function S3(t){return new Error(`illegal placement: ${t}`)}function uOe(t,e){for(let r of e)if(!O6(t,r))throw Xoe(t,r);if(t.M){let r=Uoe(e);for(let n=1,s=r.length;n<s;n++)if(bM.has(r[n])){let i=n+1;for(let a;i<s&&bM.has(a=r[i]);i++)for(let o=n;o<i;o++)if(r[o]==a)throw new Error(`duplicate non-spacing marks: ${oR(a)}`);if(i-n>Iq)throw new Error(`excessive non-spacing marks: ${cR($k(r.slice(n-1,i)))} (${i-n}/${Iq})`);n=i}}}function dOe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=hOe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let a=t.pop();if(Hm.has(a))s.push(a);else{let o=gM.get(a);if(o)s.push(...o);else if(!Hoe.has(a))throw Koe(a)}}}return s.length&&n.push(e(s)),n}function fOe(t){return t.filter(e=>e!=Loe)}function hOe(t,e){let r=yM,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Zoe=new Uint8Array(32);Zoe.fill(0);function _q(t){return he(t.length!==0,"invalid ENS name; empty component","comp",t),t}function lR(t){const e=Oa(pOe(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(_q(e.slice(n,s))),n=s+1);return he(n<e.length,"invalid ENS name; empty component","name",t),r.push(_q(e.slice(n))),r}function pOe(t){try{if(t.length===0)throw new Error("empty label");return iOe(t)}catch(e){he(!1,`invalid ENS name (${e.message})`,"name",t)}}function f6t(t){try{return lR(t).length!==0}catch{}return!1}function vM(t){he(typeof t=="string","invalid ENS name; not a string","name",t),he(t.length,"invalid ENS name (empty label)","name",t);let e=Zoe;const r=lR(t);for(;r.length;)e=On(tn([e,On(r.pop())]));return xt(e)}function mOe(t,e){const r=e??63;return he(r<=255,"DNS encoded label cannot exceed 255","length",r),xt(tn(lR(t).map(n=>{he(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function Joe(t){return typeof t=="string"&&(t=Oa(t)),On(tn([Oa(qMe),Oa(String(t.length)),t]))}function h6t(t,e){const r=Joe(t);return _k(r,e)}const Qoe=new Uint8Array(32);Qoe.fill(0);const gOe=BigInt(-1),Yoe=BigInt(0),Goe=BigInt(1),bOe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function yOe(t){const e=wt(t),r=e.length%32;return r?tn([e,Qoe.slice(r)]):xt(e)}const vOe=Oh(Goe,32),xOe=Oh(Yoe,32),Tq={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},XE=["name","version","chainId","verifyingContract","salt"];function jq(t){return function(e){return he(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const wOe={name:jq("name"),version:jq("version"),chainId:function(t){const e=Lt(t,"domain.chainId");return he(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):hu(e)},verifyingContract:function(t){try{return jr(t).toLowerCase()}catch{}he(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=wt(t,"domain.salt");return he(e.length===32,'invalid domain value "salt"',"domain.salt",t),xt(e)}};function ZE(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);he(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=lg(bOe,r?n-1:n),i=r?(s+Goe)*gOe:Yoe;return function(a){const o=Lt(a,"value");return he(o>=i&&o<=s,`value out-of-bounds for ${t}`,"value",o),Oh(r?aae(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return he(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=wt(n);return he(s.length===r,`invalid length for ${t}`,"value",n),yOe(n)}}}switch(t){case"address":return function(e){return $h(jr(e),32)};case"bool":return function(e){return e?vOe:xOe};case"bytes":return function(e){return On(e)};case"string":return function(e){return Yp(e)}}return null}function Mq(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function Q8(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var y4,Qf,Bv,oP,ece;const Jc=class Jc{constructor(e){Ne(this,oP);ve(this,"primaryType");Ne(this,y4);Ne(this,Qf);Ne(this,Bv);oe(this,Qf,new Map),oe(this,Bv,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:h}=Q8(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),oe(this,y4,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){he(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const f=Q8(u.type).base;he(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!ZE(f)&&(he(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);he(a.length!==0,"missing primary type","types",e),he(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Jt(this,{primaryType:a[0]});function o(c,l){he(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of r.get(c))if(n.has(u)){o(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}o(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),K(this,Qf).set(c,Mq(c,i[c])+u.map(f=>Mq(f,i[f])).join(""))}}get types(){return JSON.parse(K(this,y4))}getEncoder(e){let r=K(this,Bv).get(e);return r||(r=Ye(this,oP,ece).call(this,e),K(this,Bv).set(e,r)),r}encodeType(e){const r=K(this,Qf).get(e);return he(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return On(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(ZE(e))return n(e,r);const s=Q8(e).array;if(s)return he(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,n));const i=this.types[e];if(i)return i.reduce((a,{name:o,type:c})=>(a[o]=this._visit(c,r[o],n),a),{});he(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Jc(e)}static getPrimaryType(e){return Jc.from(e).primaryType}static hashStruct(e,r,n){return Jc.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=Tq[n];he(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>XE.indexOf(n.name)-XE.indexOf(s.name)),Jc.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return tn(["0x1901",Jc.hashDomain(e),Jc.from(r).hash(n)])}static hash(e,r,n){return On(Jc.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const i={};e.verifyingContract&&!Bn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Jc.from(r);a.visit(n,(o,c)=>(o==="address"&&!Bn(c,20)&&(i[c]="0x"),c));for(const o in i)i[o]=await s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(o,c)=>o==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Jc.hashDomain(e);const s={},i=[];XE.forEach(c=>{const l=e[c];l!=null&&(s[c]=wOe[c](l),i.push({name:c,type:Tq[c]}))});const a=Jc.from(r);r=a.types;const o=Object.assign({},r);return he(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),o.EIP712Domain=i,a.encode(n),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return xt(wt(l));if(c.match(/^u?int/))return Lt(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return he(typeof l=="string","invalid string","value",l),l}he(!1,"unsupported type","type",c)})}}};y4=new WeakMap,Qf=new WeakMap,Bv=new WeakMap,oP=new WeakSet,ece=function(e){{const s=ZE(e);if(s)return s}const r=Q8(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return a=>{he(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let o=a.map(i);return K(this,Qf).has(s)&&(o=o.map(On)),On(tn(o))}}const n=this.types[e];if(n){const s=Yp(K(this,Qf).get(e));return i=>{const a=n.map(({name:o,type:c})=>{const l=this.getEncoder(c)(i[o]);return K(this,Qf).has(c)?On(l):l});return a.unshift(s),tn(a)}}he(!1,`unknown type: ${e}`,"type",e)};let Fh=Jc;function p6t(t,e,r,n){return _k(Fh.hash(t,e,r),n)}function Ya(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const AOe="external public payable override",SOe=Ya(AOe.split(" ")),tce="constant external internal payable private public pure view override",POe=Ya(tce.split(" ")),rce="constructor error event fallback function receive struct",nce=Ya(rce.split(" ")),sce="calldata memory storage payable indexed",kOe=Ya(sce.split(" ")),IOe="tuple returns",NOe=[rce,sce,IOe,tce].join(" "),EOe=Ya(NOe.split(" ")),COe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},_Oe=new RegExp("^(\\s*)"),TOe=new RegExp("^([0-9]+)"),jOe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ice=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ace=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Oi,ou,v4,xM;const cP=class cP{constructor(e){Ne(this,v4);Ne(this,Oi);Ne(this,ou);oe(this,Oi,0),oe(this,ou,e.slice())}get offset(){return K(this,Oi)}get length(){return K(this,ou).length-K(this,Oi)}clone(){return new cP(K(this,ou))}reset(){oe(this,Oi,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Ye(this,v4,xM).call(this,K(this,Oi)+1,e.match+1);return oe(this,Oi,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;K(this,Oi)<e.match-1;){const n=this.peek().linkNext;r.push(Ye(this,v4,xM).call(this,K(this,Oi)+1,n)),oe(this,Oi,n)}return oe(this,Oi,e.match+1),r}peek(){if(K(this,Oi)>=K(this,ou).length)throw new Error("out-of-bounds");return K(this,ou)[K(this,Oi)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Yh(this,Oi)._++,e}toString(){const e=[];for(let r=K(this,Oi);r<K(this,ou).length;r++){const n=K(this,ou)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Oi=new WeakMap,ou=new WeakMap,v4=new WeakSet,xM=function(e=0,r=0){return new cP(K(this,ou).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let ju=cP;function fm(t){const e=[],r=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(_Oe);o&&(i+=o[1].length,a=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=COe[a[0]]||"";if(l){if(c.type=l,c.text=a[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=ur(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(o=a.match(jOe),o){if(c.text=o[1],i+=c.text.length,EOe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ace)){c.type="TYPE";continue}c.type="ID";continue}if(o=a.match(TOe),o){c.text=o[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new ju(e.map(a=>Object.freeze(a)))}function $q(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Ok(t,e){if(e.peekKeyword(nce)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Rh(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function oce(t){let e=Rh(t,POe);return $q(e,Ya("constant payable nonpayable".split(" "))),$q(e,Ya("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function bh(t,e){return t.popParams().map(r=>Wi.from(r,e))}function cce(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Lt(t.pop().text);throw new Error("invalid gas")}return null}function k1(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const MOe=new RegExp(/^(.*)\[([0-9]*)\]$/);function Oq(t){const e=t.match(ace);if(he(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);he(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);he(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const cs={},Uo=Symbol.for("_ethers_internal"),Bq="_ParamTypeInternal",Fq="_ErrorInternal",Rq="_EventInternal",Dq="_ConstructorInternal",Uq="_FallbackInternal",zq="_FunctionInternal",Lq="_StructInternal";var Fv,d7;const Qc=class Qc{constructor(e,r,n,s,i,a,o,c){Ne(this,Fv);ve(this,"name");ve(this,"type");ve(this,"baseType");ve(this,"indexed");ve(this,"components");ve(this,"arrayLength");ve(this,"arrayChildren");if(dm(e,cs,"ParamType"),Object.defineProperty(this,Uo,{value:Bq}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Jt(this,{name:r,type:n,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return Ye(this,Fv,d7).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(Qc.isParamType(e))return e;if(typeof e=="string")try{return Qc.from(fm(e),r)}catch{he(!1,"invalid param type","obj",e)}else if(e instanceof ju){let o="",c="",l=null;Rh(e,Ya(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(x=>Qc.from(x)),o=`tuple(${l.map(x=>x.format()).join(",")})`):(o=Oq(e.popType("TYPE")),c=o);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();u=new Qc(cs,"",o,c,null,l,f,u),f=x.value,o+=x.text,c="array",l=null}let h=null;if(Rh(e,kOe).has("indexed")){if(!r)throw new Error("");h=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Qc(cs,y,o,c,h,l,f,u)}const n=e.name;he(!n||typeof n=="string"&&n.match(ice),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(he(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(MOe);if(a){const o=parseInt(a[2]||"-1"),c=Qc.from({type:a[1],components:e.components});return new Qc(cs,n||"",i,"array",s,null,o,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(l=>Qc.from(l)):null;return new Qc(cs,n||"",i,"tuple",s,o,null,null)}return i=Oq(e.type),new Qc(cs,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Uo]===Bq}};Fv=new WeakSet,d7=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=r.slice();o.forEach((c,l)=>{var u;Ye(u=a,Fv,d7).call(u,e,c,n,f=>{o[l]=f})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(r))o=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");o=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,l)=>{var u;Ye(u=a[l],Fv,d7).call(u,e,c,n,f=>{o[l]=f})}),s(o);return}const i=n(this.type,r);i.then?e.push(async function(){s(await i)}()):s(i)};let Wi=Qc;class I1{constructor(e,r,n){ve(this,"type");ve(this,"inputs");dm(e,cs,"Fragment"),n=Object.freeze(n.slice()),Jt(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{I1.from(JSON.parse(e))}catch{}return I1.from(fm(e))}if(e instanceof ju)switch(e.peekKeyword(nce)){case"constructor":return lh.from(e);case"error":return Io.from(e);case"event":return Nd.from(e);case"fallback":case"receive":return Hf.from(e);case"function":return Ed.from(e);case"struct":return Gg.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return lh.from(e);case"error":return Io.from(e);case"event":return Nd.from(e);case"fallback":case"receive":return Hf.from(e);case"function":return Ed.from(e);case"struct":return Gg.from(e)}lt(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}he(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return lh.isFragment(e)}static isError(e){return Io.isFragment(e)}static isEvent(e){return Nd.isFragment(e)}static isFunction(e){return Ed.isFragment(e)}static isStruct(e){return Gg.isFragment(e)}}class Bk extends I1{constructor(r,n,s,i){super(r,n,i);ve(this,"name");he(typeof s=="string"&&s.match(ice),"invalid identifier","name",s),i=Object.freeze(i.slice()),Jt(this,{name:s})}}function B6(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Io extends Bk{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Uo,{value:Fq})}get selector(){return Yp(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+B6(e,this.inputs)),r.join(" ")}static from(e){if(Io.isFragment(e))return e;if(typeof e=="string")return Io.from(fm(e));if(e instanceof ju){const r=Ok("error",e),n=bh(e);return k1(e),new Io(cs,r,n)}return new Io(cs,e.name,e.inputs?e.inputs.map(Wi.from):[])}static isFragment(e){return e&&e[Uo]===Fq}}class Nd extends Bk{constructor(r,n,s,i){super(r,"event",n,s);ve(this,"anonymous");Object.defineProperty(this,Uo,{value:Rq}),Jt(this,{anonymous:i})}get topicHash(){return Yp(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+B6(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Wi.from(i)),new Nd(cs,r,n,!1).topicHash}static from(r){if(Nd.isFragment(r))return r;if(typeof r=="string")try{return Nd.from(fm(r))}catch{he(!1,"invalid event fragment","obj",r)}else if(r instanceof ju){const n=Ok("event",r),s=bh(r,!0),i=!!Rh(r,Ya(["anonymous"])).has("anonymous");return k1(r),new Nd(cs,n,s,i)}return new Nd(cs,r.name,r.inputs?r.inputs.map(n=>Wi.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Uo]===Rq}}class lh extends I1{constructor(r,n,s,i,a){super(r,n,s);ve(this,"payable");ve(this,"gas");Object.defineProperty(this,Uo,{value:Dq}),Jt(this,{payable:i,gas:a})}format(r){if(lt(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${B6(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(lh.isFragment(r))return r;if(typeof r=="string")try{return lh.from(fm(r))}catch{he(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof ju){Rh(r,Ya(["constructor"]));const n=bh(r),s=!!Rh(r,SOe).has("payable"),i=cce(r);return k1(r),new lh(cs,"constructor",n,s,i)}return new lh(cs,"constructor",r.inputs?r.inputs.map(Wi.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Uo]===Dq}}class Hf extends I1{constructor(r,n,s){super(r,"fallback",n);ve(this,"payable");Object.defineProperty(this,Uo,{value:Uq}),Jt(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(Hf.isFragment(r))return r;if(typeof r=="string")try{return Hf.from(fm(r))}catch{he(!1,"invalid fallback fragment","obj",r)}else if(r instanceof ju){const n=r.toString(),s=r.peekKeyword(Ya(["fallback","receive"]));if(he(s,"type must be fallback or receive","obj",n),r.popKeyword(Ya(["fallback","receive"]))==="receive"){const c=bh(r);return he(c.length===0,"receive cannot have arguments","obj.inputs",c),Rh(r,Ya(["payable"])),k1(r),new Hf(cs,[],!0)}let a=bh(r);a.length?he(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[Wi.from("bytes")];const o=oce(r);if(he(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Rh(r,Ya(["returns"])).has("returns")){const c=bh(r);he(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return k1(r),new Hf(cs,a,o==="payable")}if(r.type==="receive")return new Hf(cs,[],!0);if(r.type==="fallback"){const n=[Wi.from("bytes")],s=r.stateMutability==="payable";return new Hf(cs,n,s)}he(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Uo]===Uq}}class Ed extends Bk{constructor(r,n,s,i,a,o){super(r,"function",n,i);ve(this,"constant");ve(this,"outputs");ve(this,"stateMutability");ve(this,"payable");ve(this,"gas");Object.defineProperty(this,Uo,{value:zq}),a=Object.freeze(a.slice()),Jt(this,{constant:s==="view"||s==="pure",gas:o,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return Yp(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+B6(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(B6(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Wi.from(i)),new Ed(cs,r,"view",n,[],null).selector}static from(r){if(Ed.isFragment(r))return r;if(typeof r=="string")try{return Ed.from(fm(r))}catch{he(!1,"invalid function fragment","obj",r)}else if(r instanceof ju){const s=Ok("function",r),i=bh(r),a=oce(r);let o=[];Rh(r,Ya(["returns"])).has("returns")&&(o=bh(r));const c=cce(r);return k1(r),new Ed(cs,s,a,i,o,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Ed(cs,r.name,n,r.inputs?r.inputs.map(Wi.from):[],r.outputs?r.outputs.map(Wi.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Uo]===zq}}class Gg extends Bk{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Uo,{value:Lq})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Gg.from(fm(e))}catch{he(!1,"invalid struct fragment","obj",e)}else if(e instanceof ju){const r=Ok("struct",e),n=bh(e);return k1(e),new Gg(cs,r,n)}return new Gg(cs,e.name,e.inputs?e.inputs.map(Wi.from):[])}static isFragment(e){return e&&e[Uo]===Lq}}const Lu=new Map;Lu.set(0,"GENERIC_PANIC");Lu.set(1,"ASSERT_FALSE");Lu.set(17,"OVERFLOW");Lu.set(18,"DIVIDE_BY_ZERO");Lu.set(33,"ENUM_RANGE_ERROR");Lu.set(34,"BAD_STORAGE_DATA");Lu.set(49,"STACK_UNDERFLOW");Lu.set(50,"ARRAY_RANGE_ERROR");Lu.set(65,"OUT_OF_MEMORY");Lu.set(81,"UNINITIALIZED_FUNCTION_CALL");const $Oe=new RegExp(/^bytes([0-9]*)$/),OOe=new RegExp(/^(u?int)([0-9]*)$/);let JE=null,Vq=1024;function BOe(t,e,r,n){let s="missing revert data",i=null;const a=null;let o=null;if(r){s="execution reverted";const l=wt(r);if(r=xt(r),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(xt(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(xt(l.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],l.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Lu.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?jr(e.to):null,data:e.data||"0x"};return e.from&&(c.from=jr(e.from)),is(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:a,revert:o})}var cp,Rb;const lP=class lP{constructor(){Ne(this,cp)}getDefaultValue(e){const r=e.map(s=>Ye(this,cp,Rb).call(this,Wi.from(s)));return new J8(r,"_").defaultValue()}encode(e,r){rae(r.length,e.length,"types/values length mismatch");const n=e.map(a=>Ye(this,cp,Rb).call(this,Wi.from(a))),s=new J8(n,"_"),i=new iM;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>Ye(this,cp,Rb).call(this,Wi.from(a)));return new J8(s,"_").decode(new aM(r,n,Vq))}static _setDefaultMaxInflation(e){he(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Vq=e}static defaultAbiCoder(){return JE==null&&(JE=new lP),JE}static getBuiltinCallException(e,r,n){return BOe(e,r,n,lP.defaultAbiCoder())}};cp=new WeakSet,Rb=function(e){if(e.isArray())return new t$e(Ye(this,cp,Rb).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new J8(e.components.map(n=>Ye(this,cp,Rb).call(this,n)),e.name);switch(e.baseType){case"address":return new GMe(e.name);case"bool":return new r$e(e.name);case"string":return new d$e(e.name);case"bytes":return new n$e(e.name);case"":return new a$e(e.name)}let r=e.type.match(OOe);if(r){let n=parseInt(r[2]||"256");return he(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new u$e(n/8,r[1]==="int",e.name)}if(r=e.type.match($Oe),r){let n=parseInt(r[1]);return he(n!==0&&n<=32,"invalid bytes length","param",e),new s$e(n,e.name)}he(!1,"invalid type","type",e.type)};let F6=lP;class FOe{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"signature");ve(this,"topic");ve(this,"args");const s=e.name,i=e.format();Jt(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class ROe{constructor(e,r,n,s){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");ve(this,"value");const i=e.name,a=e.format();Jt(this,{fragment:e,name:i,args:n,signature:a,selector:r,value:s})}}class DOe{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");const s=e.name,i=e.format();Jt(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class Hq{constructor(e){ve(this,"hash");ve(this,"_isIndexed");Jt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const qq={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Wq={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&qq[t.toString()]&&(e=qq[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var bd,yd,vd,wa,Qd,f7,h7;const ng=class ng{constructor(e){Ne(this,Qd);ve(this,"fragments");ve(this,"deploy");ve(this,"fallback");ve(this,"receive");Ne(this,bd);Ne(this,yd);Ne(this,vd);Ne(this,wa);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,oe(this,vd,new Map),oe(this,bd,new Map),oe(this,yd,new Map);const n=[];for(const a of r)try{n.push(I1.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}Jt(this,{fragments:Object.freeze(n)});let s=null,i=!1;oe(this,wa,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Jt(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(he(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":c=K(this,vd);break;case"event":c=K(this,yd);break;case"error":c=K(this,bd);break;default:return}const l=a.format();c.has(l)||c.set(l,a)}),this.deploy||Jt(this,{deploy:lh.from("constructor()")}),Jt(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return F6.defaultAbiCoder()}getFunctionName(e){const r=Ye(this,Qd,f7).call(this,e,null,!1);return he(r,"no matching function","key",e),r.name}hasFunction(e){return!!Ye(this,Qd,f7).call(this,e,null,!1)}getFunction(e,r){return Ye(this,Qd,f7).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(K(this,vd).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,vd).get(s),n)}}getEventName(e){const r=Ye(this,Qd,h7).call(this,e,null,!1);return he(r,"no matching event","key",e),r.name}hasEvent(e){return!!Ye(this,Qd,h7).call(this,e,null,!1)}getEvent(e,r){return Ye(this,Qd,h7).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(K(this,yd).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,yd).get(s),n)}}getError(e,r){if(Bn(e)){const s=e.toLowerCase();if(Wq[s])return Io.from(Wq[s].signature);for(const i of K(this,bd).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of K(this,bd))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?Io.from("error Error(string)"):e==="Panic"?Io.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");he(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Io.from(e).format(),e==="Error(string)")return Io.from("error Error(string)");if(e==="Panic(uint256)")return Io.from("error Panic(uint256)");const n=K(this,bd).get(e);return n||null}forEachError(e){const r=Array.from(K(this,bd).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(K(this,bd).get(s),n)}}_decodeParams(e,r){return K(this,wa).decode(e,r)}_encodeParams(e,r){return K(this,wa).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return he(Tn(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Tn(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return tn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return he(Tn(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Tn(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return tn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);he(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=Vi(r);if(s.length%32===0)try{return K(this,wa).decode(e.outputs,s)}catch{n="could not decode result data"}lt(!1,n,"BAD_DATA",{value:xt(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=wt(e,"data"),s=F6.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=xt(n.slice(0,4)),c=this.getError(o);if(c)try{const l=K(this,wa).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return xt(K(this,wa).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);he(i,"unknown event","eventFragment",e),e=i}lt(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?Yp(a):i.type==="bytes"?On(xt(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=Oh(a):i.type.match(/^bytes/)?a=UTe(a,32):i.type==="address"&&K(this,wa).encode(["address"],[a]),$h(xt(a),32));for(r.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){he(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?he(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(c=>s(o,c))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);he(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),he(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const c=r[o];if(a.indexed)if(a.type==="string")n.push(Yp(c));else if(a.type==="bytes")n.push(On(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(K(this,wa).encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:K(this,wa).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const m=this.getEvent(e);he(m,"unknown event","eventFragment",e),e=m}if(n!=null&&!e.anonymous){const m=e.topicHash;he(Bn(n[0],32)&&n[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((m,y)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(s.push(Wi.from({type:"bytes32",name:m.name})),a.push(!0)):(s.push(m),a.push(!1)):(i.push(m),a.push(!1))});const o=n!=null?K(this,wa).decode(s,tn(n)):null,c=K(this,wa).decode(i,r,!0),l=[],u=[];let f=0,h=0;return e.inputs.forEach((m,y)=>{let x=null;if(m.indexed)if(o==null)x=new Hq(null);else if(a[y])x=new Hq(o[h++]);else try{x=o[h++]}catch(k){x=k}else try{x=c[f++]}catch(k){x=k}l.push(x),u.push(m.name||null)}),Sx.fromItems(l,u)}parseTransaction(e){const r=wt(e.data,"tx.data"),n=Lt(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(xt(r.slice(0,4)));if(!s)return null;const i=K(this,wa).decode(s.inputs,r.slice(4));return new ROe(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new FOe(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=xt(e),n=this.getError(Tn(r,0,4));if(!n)return null;const s=K(this,wa).decode(n.inputs,Tn(r,4));return new DOe(n,n.selector,s)}static from(e){return e instanceof ng?e:typeof e=="string"?new ng(JSON.parse(e)):typeof e.formatJson=="function"?new ng(e.formatJson()):typeof e.format=="function"?new ng(e.format("json")):new ng(e)}};bd=new WeakMap,yd=new WeakMap,vd=new WeakMap,wa=new WeakMap,Qd=new WeakSet,f7=function(e,r,n){if(Bn(e)){const i=e.toLowerCase();for(const a of K(this,vd).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of K(this,vd))a.split("(")[0]===e&&i.push(o);if(r){const a=r.length>0?r[r.length-1]:null;let o=r.length,c=!0;Ba.isTyped(a)&&a.type==="overrides"&&(c=!1,o--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==o&&(!c||u!==o-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let f=0;f<r.length;f++)if(Ba.isTyped(r[f])){if(f>=u.length){if(r[f].type==="overrides")continue;i.splice(l,1);break}if(r[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");he(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=K(this,vd).get(Ed.from(e).format());return s||null},h7=function(e,r,n){if(Bn(e)){const i=e.toLowerCase();for(const a of K(this,yd).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of K(this,yd))a.split("(")[0]===e&&i.push(o);if(r){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<r.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let c=0;c<r.length;c++)if(Ba.isTyped(r[c])&&r[c].type!==o[c].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");he(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=K(this,yd).get(Nd.from(e).format());return s||null};let wM=ng;const lce=BigInt(0);function Ly(t){return t??null}function _s(t){return t==null?null:t.toString()}class Kq{constructor(e,r,n){ve(this,"gasPrice");ve(this,"maxFeePerGas");ve(this,"maxPriorityFeePerGas");Jt(this,{gasPrice:Ly(e),maxFeePerGas:Ly(r),maxPriorityFeePerGas:Ly(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:_s(e),maxFeePerGas:_s(r),maxPriorityFeePerGas:_s(n)}}}function R6(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=xt(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Lt(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=ur(t[s],`request.${s}`));return t.accessList&&(e.accessList=W1(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>Sk(s)?xt(s):Object.assign({},s))),e}var Yf;class UOe{constructor(e,r){ve(this,"provider");ve(this,"number");ve(this,"hash");ve(this,"timestamp");ve(this,"parentHash");ve(this,"parentBeaconBlockRoot");ve(this,"nonce");ve(this,"difficulty");ve(this,"gasLimit");ve(this,"gasUsed");ve(this,"stateRoot");ve(this,"receiptsRoot");ve(this,"blobGasUsed");ve(this,"excessBlobGas");ve(this,"miner");ve(this,"prevRandao");ve(this,"extraData");ve(this,"baseFeePerGas");Ne(this,Yf);oe(this,Yf,e.transactions.map(n=>typeof n!="string"?new D6(n,r):n)),Jt(this,{provider:r,hash:Ly(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ly(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ly(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return K(this,Yf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=K(this,Yf).slice();return e.length===0?[]:(lt(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:o,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:y,timestamp:x,transactions:k}=this;return{_type:"Block",baseFeePerGas:_s(e),difficulty:_s(r),extraData:n,gasLimit:_s(s),gasUsed:_s(i),blobGasUsed:_s(this.blobGasUsed),excessBlobGas:_s(this.excessBlobGas),hash:a,miner:o,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:x,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:y,transactions:k}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return K(this,Yf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=K(this,Yf)[e];else{const n=e.toLowerCase();for(const s of K(this,Yf))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;he(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return zOe(this)}}Yf=new WeakMap;class s5{constructor(e,r){ve(this,"provider");ve(this,"transactionHash");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"removed");ve(this,"address");ve(this,"data");ve(this,"topics");ve(this,"index");ve(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Jt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return lt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return LOe(this)}}var x4;class uce{constructor(e,r){ve(this,"provider");ve(this,"to");ve(this,"from");ve(this,"contractAddress");ve(this,"hash");ve(this,"index");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"logsBloom");ve(this,"gasUsed");ve(this,"blobGasUsed");ve(this,"cumulativeGasUsed");ve(this,"gasPrice");ve(this,"blobGasPrice");ve(this,"type");ve(this,"status");ve(this,"root");Ne(this,x4);oe(this,x4,Object.freeze(e.logs.map(s=>new s5(s,r))));let n=lce;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Jt(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return K(this,x4)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:_s(this.cumulativeGasUsed),from:r,gasPrice:_s(this.gasPrice),blobGasUsed:_s(this.blobGasUsed),blobGasPrice:_s(this.blobGasPrice),gasUsed:_s(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return fce(this)}reorderedEvent(e){return lt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),dce(this,e)}}x4=new WeakMap;var lp;const RU=class RU{constructor(e,r){ve(this,"provider");ve(this,"blockNumber");ve(this,"blockHash");ve(this,"index");ve(this,"hash");ve(this,"type");ve(this,"to");ve(this,"from");ve(this,"nonce");ve(this,"gasLimit");ve(this,"gasPrice");ve(this,"maxPriorityFeePerGas");ve(this,"maxFeePerGas");ve(this,"maxFeePerBlobGas");ve(this,"data");ve(this,"value");ve(this,"chainId");ve(this,"signature");ve(this,"accessList");ve(this,"blobVersionedHashes");ve(this,"authorizationList");Ne(this,lp);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,oe(this,lp,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:a,from:o,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:_s(this.chainId),data:l,from:o,gasLimit:_s(this.gasLimit),gasPrice:_s(this.gasPrice),hash:s,maxFeePerGas:_s(this.maxFeePerGas),maxPriorityFeePerGas:_s(this.maxPriorityFeePerGas),maxFeePerBlobGas:_s(this.maxFeePerBlobGas),nonce:c,signature:u,to:a,index:n,type:i,value:_s(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Ia({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=K(this,lp),a=-1,o=i===-1;const c=async()=>{if(o)return null;const{blockNumber:h,nonce:m}=await Ia({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){i=h;return}if(o)return null;const y=await this.getTransaction();if(!(y&&y.blockNumber!=null))for(a===-1&&(a=i-3,a<K(this,lp)&&(a=K(this,lp)));a<=h;){if(o)return null;const x=await this.provider.getBlock(a,!0);if(x==null)return;for(const k of x)if(k===this.hash)return;for(let k=0;k<x.length;k++){const C=await x.getTransaction(k);if(C.from===this.from&&C.nonce===this.nonce){if(o)return null;const I=await this.provider.getTransactionReceipt(C.hash);if(I==null||h-I.blockNumber+1<n)return;let _="replaced";C.data===this.data&&C.to===this.to&&C.value===this.value?_="repriced":C.data==="0x"&&C.from===C.to&&C.value===lce&&(_="cancelled"),lt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:C.replaceableTransaction(i),hash:C.hash,receipt:I})}}a++}},l=h=>{if(h==null||h.status!==0)return h;lt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((h,m)=>{const y=[],x=()=>{y.forEach(C=>C())};if(y.push(()=>{o=!0}),s>0){const C=setTimeout(()=>{x(),m(is("wait for transaction timeout","TIMEOUT"))},s);y.push(()=>{clearTimeout(C)})}const k=async C=>{if(await C.confirmations()>=n){x();try{h(l(C))}catch(I){m(I)}}};if(y.push(()=>{this.provider.off(this.hash,k)}),this.provider.on(this.hash,k),i>=0){const C=async()=>{try{await c()}catch(I){if(Li(I,"TRANSACTION_REPLACED")){x(),m(I);return}}o||this.provider.once("block",C)};y.push(()=>{this.provider.off("block",C)}),this.provider.once("block",C)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),fce(this)}reorderedEvent(e){return lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),dce(this,e)}replaceableTransaction(e){he(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new RU(this,this.provider);return oe(r,lp,e),r}};lp=new WeakMap;let D6=RU;function zOe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function dce(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function fce(t){return{orphan:"drop-transaction",tx:t}}function LOe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class uR extends s5{constructor(r,n,s){super(r,r.provider);ve(this,"interface");ve(this,"fragment");ve(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);Jt(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class hce extends s5{constructor(r,n){super(r,r.provider);ve(this,"error");Jt(this,{error:n})}}var Rv;class VOe extends uce{constructor(r,n,s){super(s,n);Ne(this,Rv);oe(this,Rv,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?K(this,Rv).getEvent(r.topics[0]):null;if(n)try{return new uR(r,K(this,Rv),n)}catch(s){return new hce(r,s)}return r})}}Rv=new WeakMap;var w4;class dR extends D6{constructor(r,n,s){super(s,n);Ne(this,w4);oe(this,w4,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new VOe(K(this,w4),this.provider,s)}}w4=new WeakMap;class pce extends cae{constructor(r,n,s,i){super(r,n,s);ve(this,"log");Jt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class HOe extends pce{constructor(e,r,n,s,i){super(e,r,n,new uR(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Jt(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Xq=BigInt(0);function mce(t){return t&&typeof t.call=="function"}function gce(t){return t&&typeof t.estimateGas=="function"}function Fk(t){return t&&typeof t.resolveName=="function"}function bce(t){return t&&typeof t.sendTransaction=="function"}function yce(t){if(t!=null){if(Fk(t))return t;if(t.provider)return t.provider}}var A4;class qOe{constructor(e,r,n){Ne(this,A4);ve(this,"fragment");if(Jt(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=N1(e.runner,"resolveName"),i=Fk(s)?s:null;oe(this,A4,async function(){const a=await Promise.all(r.inputs.map((o,c)=>n[c]==null?null:o.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>mi(h,i))):mi(f,i):f)));return e.interface.encodeFilterTopics(r,a)}())}getTopicFilter(){return K(this,A4)}}A4=new WeakMap;function N1(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function fg(t){return t==null?null:t.provider||null}async function vce(t,e){const r=Ba.dereference(t,"overrides");he(typeof r=="object","invalid overrides parameter","overrides",t);const n=R6(r);return he(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),he(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function WOe(t,e,r){const n=N1(t,"resolveName"),s=Fk(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(r[a],(o,c)=>(c=Ba.dereference(c,o),o==="address"?mi(c,s):c))))}function KOe(t){const e=async function(a){const o=await vce(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await mi(o.from,yce(t.runner)));const c=t.interface,l=Lt(o.value||Xq,"overrides.value")===Xq,u=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&he(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),he(c.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return he(f||l,"cannot send value to non-payable fallback","overrides.value",o.value),he(c.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data),o},r=async function(a){const o=N1(t.runner,"call");lt(mce(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await o.call(c)}catch(l){throw qF(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(a){const o=t.runner;lt(bce(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(a)),l=fg(t.runner);return new dR(t.interface,l,c)},s=async function(a){const o=N1(t.runner,"estimateGas");return lt(gce(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await n(a);return Jt(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function XOe(t,e){const r=function(...l){const u=t.interface.getFunction(e,l);return lt(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){const u=r(...l);let f={};if(u.inputs.length+1===l.length&&(f=await vce(l.pop()),f.from&&(f.from=await mi(f.from,yce(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await WOe(t.runner,u.inputs,l);return Object.assign({},f,await Ia({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await o(...l);return u.length===1?u[0]:u},i=async function(...l){const u=t.runner;lt(bce(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...l)),h=fg(t.runner);return new dR(t.interface,h,f)},a=async function(...l){const u=N1(t.runner,"estimateGas");return lt(gce(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},o=async function(...l){const u=N1(t.runner,"call");lt(mce(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...l);let h="0x";try{h=await u.call(f)}catch(y){throw qF(y)&&y.data?t.interface.makeError(y.data,f):y}const m=r(...l);return t.interface.decodeFunctionResult(m,h)},c=async(...l)=>r(...l).constant?await s(...l):await i(...l);return Jt(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return lt(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function ZOe(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return lt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new qOe(t,r(...s),s)};return Jt(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return lt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const tS=Symbol.for("_ethersInternal_contract"),xce=new WeakMap;function JOe(t,e){xce.set(t[tS],e)}function Zo(t){return xce.get(t[tS])}function QOe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function fR(t,e){let r,n=null;if(Array.isArray(e)){const i=function(a){if(Bn(a,32))return a;const o=t.interface.getEvent(a);return he(o,"unknown fragment","name",a),o.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?r=[null]:typeof e=="string"?Bn(e,32)?r=[e]:(n=t.interface.getEvent(e),he(n,"unknown fragment","event",e),r=[n.topicHash]):QOe(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):he(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function q2(t,e){const{subs:r}=Zo(t);return r.get((await fR(t,e)).tag)||null}async function Zq(t,e,r){const n=fg(t.runner);lt(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await fR(t,r),{addr:o,subs:c}=Zo(t);let l=c.get(i);if(!l){const f={address:o||t,topics:a},h=k=>{let C=s;if(C==null)try{C=t.interface.getEvent(k.topics[0])}catch{}if(C){const I=C,_=s?t.interface.decodeEventLog(s,k.data,k.topics):[];SM(t,r,_,O=>new HOe(t,O,r,I,k))}else SM(t,r,[],I=>new pce(t,I,r,k))};let m=[];l={tag:i,listeners:[],start:()=>{m.length||m.push(n.on(f,h))},stop:async()=>{if(m.length==0)return;let k=m;m=[],await Promise.all(k),n.off(f,h)}},c.set(i,l)}return l}let AM=Promise.resolve();async function YOe(t,e,r,n){await AM;const s=await q2(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const c=Array.from(r);n&&c.push(n(o?null:a));try{a.call(t,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),Zo(t).subs.delete(s.tag)),i>0}async function SM(t,e,r,n){try{await AM}catch{}const s=YOe(t,e,r,n);return AM=s,await s}const Y8=["then"];var WY;WY=tS;const F3=class F3{constructor(e,r,n,s){ve(this,"target");ve(this,"interface");ve(this,"runner");ve(this,"filters");ve(this,WY);ve(this,"fallback");he(typeof e=="string"||Poe(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=wM.from(r);Jt(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,tS,{value:{}});let a,o=null,c=null;if(s){const f=fg(n);c=new dR(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Bn(e))o=e,a=Promise.resolve(e);else{const f=N1(n,"resolveName");if(!Fk(f))throw is("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw is("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Zo(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Zo(this).addr=f,f});JOe(this,{addrPromise:a,addr:o,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||Y8.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(y){if(!Li(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=>Y8.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return Jt(this,{filters:u}),Jt(this,{fallback:i.receive||i.fallback?KOe(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||Y8.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(y){if(!Li(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=>typeof h=="symbol"||h in f||Y8.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new F3(this.target,this.interface,e)}attach(e){return new F3(e,this.interface,this.runner)}async getAddress(){return await Zo(this).addrPromise}async getDeployedCode(){const e=fg(this.runner);lt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=fg(this.runner);return lt(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return Zo(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),XOe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),ZOe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Zo(this),a=s||await i,{fragment:o,topics:c}=await fR(this,e),l={address:a,topics:c,fromBlock:r,toBlock:n},u=fg(this.runner);return lt(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new uR(f,this.interface,h)}catch(m){return new hce(f,m)}return new s5(f,u)})}async on(e,r){const n=await Zq(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await Zq(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await SM(this,e,r,null)}async listenerCount(e){if(e){const s=await q2(this,e);return s?s.listeners.length:0}const{subs:r}=Zo(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await q2(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Zo(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await q2(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Zo(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await q2(this,e);if(!r)return this;r.stop(),Zo(this).subs.delete(r.tag)}else{const{subs:r}=Zo(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends F3{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let PM=F3;function GOe(){return PM}class yh extends GOe(){}function QE(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):he(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class eBe{constructor(e){ve(this,"name");Jt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const wce=new RegExp("^(ipfs)://(.*)$","i"),Jq=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),wce,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var up,Fg,dp,Db,uP,Ace;const xy=class xy{constructor(e,r,n){Ne(this,dp);ve(this,"provider");ve(this,"address");ve(this,"name");Ne(this,up);Ne(this,Fg);Jt(this,{provider:e,address:r,name:n}),oe(this,up,null),oe(this,Fg,new yh(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return K(this,up)==null&&oe(this,up,(async()=>{try{return await K(this,Fg).supportsInterface("0x9061b923")}catch(e){if(Li(e,"CALL_EXCEPTION"))return!1;throw oe(this,up,null),e}})()),await K(this,up)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Ye(this,dp,Db).call(this,"addr(bytes32)");return i==null||i===T6?null:i}catch(i){if(Li(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await Ye(this,dp,Db).call(this,"addr(bytes32,uint)",[i]);if(Bn(a,20))return jr(a)}let r=null;for(const i of this.provider.plugins)if(i instanceof eBe&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await Ye(this,dp,Db).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;lt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Ye(this,dp,Db).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Ye(this,dp,Db).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${oae("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;lt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Jq.length;n++){const s=r.match(Jq[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=QE(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new yh(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const x=await u.ownerOf(l);if(o!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(i==="erc1155"){const x=await u.balanceOf(o,l);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let f=await u[a](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Oh(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=QE(f)),e.push({type:"metadata-url",value:f});let h={};const m=await new Bh(f).send();m.assertOk();try{h=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const C=m.body;return C&&e.push({type:"!metadata",value:xt(C)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(wce)==null)return e.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:y}),y=QE(y)}return e.push({type:"url",value:y}),{linkage:e,url:y}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return lt(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await Ye(s=xy,uP,Ace).call(s,e,n);if(i!=null){const a=new xy(e,i,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};up=new WeakMap,Fg=new WeakMap,dp=new WeakSet,Db=async function(e,r){r=(r||[]).slice();const n=K(this,Fg).interface;r.unshift(vM(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),lt(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[mOe(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await K(this,Fg)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Li(i,"CALL_EXCEPTION"))throw i}return null},uP=new WeakSet,Ace=async function(e,r){const n=await xy.getEnsAddress(e);try{const i=await new yh(n,["function resolver(bytes32) view returns (address)"],e).resolver(vM(r),{enableCcipRead:!0});return i===T6?null:i}catch(s){throw s}return null},Ne(xy,uP);let rS=xy;const Qq=BigInt(0);function Wr(t,e){return function(r){return r==null?e:t(r)}}function U6(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function i5(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const a of e[s])if(a in r){i=a;break}}try{const a=t[s](r[i]);a!==void 0&&(n[s]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";lt(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:r})}}return n}}function tBe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}he(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Tx(t){return he(Bn(t,!0),"invalid data","value",t),t}function zi(t){return he(Bn(t,32),"invalid hash","value",t),t}const rBe=i5({address:jr,blockHash:zi,blockNumber:ur,data:Tx,index:ur,removed:Wr(tBe,!1),topics:U6(zi),transactionHash:zi,transactionIndex:ur},{index:["logIndex"]});function nBe(t){return rBe(t)}const sBe=i5({hash:Wr(zi),parentHash:zi,parentBeaconBlockRoot:Wr(zi,null),number:ur,timestamp:ur,nonce:Wr(Tx),difficulty:Lt,gasLimit:Lt,gasUsed:Lt,stateRoot:Wr(zi,null),receiptsRoot:Wr(zi,null),blobGasUsed:Wr(Lt,null),excessBlobGas:Wr(Lt,null),miner:Wr(jr),prevRandao:Wr(zi,null),extraData:Tx,baseFeePerGas:Wr(Lt)},{prevRandao:["mixHash"]});function iBe(t){const e=sBe(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Sce(r)),e}const aBe=i5({transactionIndex:ur,blockNumber:ur,transactionHash:zi,address:jr,topics:U6(zi),data:Tx,index:ur,blockHash:zi},{index:["logIndex"]});function oBe(t){return aBe(t)}const cBe=i5({to:Wr(jr,null),from:Wr(jr,null),contractAddress:Wr(jr,null),index:ur,root:Wr(xt),gasUsed:Lt,blobGasUsed:Wr(Lt,null),logsBloom:Wr(Tx),blockHash:zi,hash:zi,logs:U6(oBe),blockNumber:ur,cumulativeGasUsed:Lt,effectiveGasPrice:Wr(Lt),blobGasPrice:Wr(Lt,null),status:Wr(ur),type:Wr(ur,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function lBe(t){return cBe(t)}function Sce(t){t.to&&Lt(t.to)===Qq&&(t.to="0x0000000000000000000000000000000000000000");const e=i5({hash:zi,index:Wr(ur,void 0),type:r=>r==="0x"||r==null?0:ur(r),accessList:Wr(W1,null),blobVersionedHashes:Wr(U6(zi,!0),null),authorizationList:Wr(U6(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:jr(r.address),chainId:Lt(r.chainId),nonce:Lt(r.nonce),signature:mc.from(n)}},!1),null),blockHash:Wr(zi,null),blockNumber:Wr(ur,null),transactionIndex:Wr(ur,null),from:jr,gasPrice:Wr(Lt),maxPriorityFeePerGas:Wr(Lt),maxFeePerGas:Wr(Lt),maxFeePerBlobGas:Wr(Lt,null),gasLimit:Lt,to:Wr(jr,null),value:Lt,nonce:ur,data:Tx,creates:Wr(jr,null),chainId:Wr(Lt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=YMe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=mc.from(t.signature):e.signature=mc.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Lt(e.blockHash)===Qq&&(e.blockHash=null),e}const uBe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class xw{constructor(e){ve(this,"name");Jt(this,{name:e})}clone(){return new xw(this.name)}}class Rk extends xw{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);ve(this,"effectiveBlock");ve(this,"txBase");ve(this,"txCreate");ve(this,"txDataZero");ve(this,"txDataNonzero");ve(this,"txAccessListStorageKey");ve(this,"txAccessListAddress");const s={effectiveBlock:r};function i(a,o){let c=(n||{})[a];c==null&&(c=o),he(typeof c=="number",`invalud value for ${a}`,"costs",n),s[a]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Jt(this,s)}clone(){return new Rk(this.effectiveBlock,this)}}class Dk extends xw{constructor(r,n){super("org.ethers.plugins.network.Ens");ve(this,"address");ve(this,"targetNetwork");Jt(this,{address:r||uBe,targetNetwork:n??1})}clone(){return new Dk(this.address,this.targetNetwork)}}var Rg;const DU=class DU extends xw{constructor(r){super("org.ethers.plugins.network.FeeData");Ne(this,Rg);oe(this,Rg,r)}get feeDataFunc(){return K(this,Rg)}async getFeeData(r){return await K(this,Rg).call(this,r)}clone(){return new DU(K(this,Rg))}};Rg=new WeakMap;let Yq=DU;var S4,P4;class dBe extends xw{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ne(this,S4);Ne(this,P4);oe(this,S4,r),oe(this,P4,n)}get url(){return K(this,S4)}get processFunc(){return K(this,P4)}clone(){return this}}S4=new WeakMap,P4=new WeakMap;const YE=new Map;var Dv,Uv,fp;const wy=class wy{constructor(e,r){Ne(this,Dv);Ne(this,Uv);Ne(this,fp);oe(this,Dv,e),oe(this,Uv,Lt(r)),oe(this,fp,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return K(this,Dv)}set name(e){oe(this,Dv,e)}get chainId(){return K(this,Uv)}set chainId(e){oe(this,Uv,Lt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Lt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Lt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Lt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(K(this,fp).values())}attachPlugin(e){if(K(this,fp).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return K(this,fp).set(e.name,e.clone()),this}getPlugin(e){return K(this,fp).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new wy(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Rk;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=W1(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(fBe(),e==null)return wy.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=YE.get(e);if(r)return r();if(typeof e=="bigint")return new wy("unknown",e);he(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){he(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new wy(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Dk(e.ensAddress,e.ensNetwork)),r}he(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=YE.get(e);n&&he(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),YE.set(e,r)}};Dv=new WeakMap,Uv=new WeakMap,fp=new WeakMap;let jd=wy;function Gq(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function eW(t){return new dBe(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const o=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Gq(o.maxFee,9),maxPriorityFeePerGas:Gq(o.maxPriorityFee,9)}}catch(i){lt(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let tW=!1;function fBe(){if(tW)return;tW=!0;function t(e,r,n){const s=function(){const i=new jd(e,r);return n.ensNetwork!=null&&i.attachPlugin(new Dk(null,n.ensNetwork)),i.attachPlugin(new Rk),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};jd.register(e,s),jd.register(r,s),n.altNames&&n.altNames.forEach(i=>{jd.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[eW("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[eW("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function kM(t){return JSON.parse(JSON.stringify(t))}var Gf,tl,hp,xd,zv,p7;class hBe{constructor(e){Ne(this,zv);Ne(this,Gf);Ne(this,tl);Ne(this,hp);Ne(this,xd);oe(this,Gf,e),oe(this,tl,null),oe(this,hp,4e3),oe(this,xd,-2)}get pollingInterval(){return K(this,hp)}set pollingInterval(e){oe(this,hp,e)}start(){K(this,tl)||(oe(this,tl,K(this,Gf)._setTimeout(Ye(this,zv,p7).bind(this),K(this,hp))),Ye(this,zv,p7).call(this))}stop(){K(this,tl)&&(K(this,Gf)._clearTimeout(K(this,tl)),oe(this,tl,null))}pause(e){this.stop(),e&&oe(this,xd,-2)}resume(){this.start()}}Gf=new WeakMap,tl=new WeakMap,hp=new WeakMap,xd=new WeakMap,zv=new WeakSet,p7=async function(){try{const e=await K(this,Gf).getBlockNumber();if(K(this,xd)===-2){oe(this,xd,e);return}if(e!==K(this,xd)){for(let r=K(this,xd)+1;r<=e;r++){if(K(this,tl)==null)return;await K(this,Gf).emit("block",r)}oe(this,xd,e)}}catch{}K(this,tl)!=null&&oe(this,tl,K(this,Gf)._setTimeout(Ye(this,zv,p7).bind(this),K(this,hp)))};var Dg,Ug,pp;class hR{constructor(e){Ne(this,Dg);Ne(this,Ug);Ne(this,pp);oe(this,Dg,e),oe(this,pp,!1),oe(this,Ug,r=>{this._poll(r,K(this,Dg))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){K(this,pp)||(oe(this,pp,!0),K(this,Ug).call(this,-2),K(this,Dg).on("block",K(this,Ug)))}stop(){K(this,pp)&&(oe(this,pp,!1),K(this,Dg).off("block",K(this,Ug)))}pause(e){this.stop()}resume(){this.start()}}Dg=new WeakMap,Ug=new WeakMap,pp=new WeakMap;var Lv,eh;class pBe extends hR{constructor(r,n){super(r);Ne(this,Lv);Ne(this,eh);oe(this,Lv,n),oe(this,eh,-2)}pause(r){r&&oe(this,eh,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(K(this,Lv));s!=null&&(K(this,eh)===-2?oe(this,eh,s.number):s.number>K(this,eh)&&(n.emit(K(this,Lv),s.number),oe(this,eh,s.number)))}}Lv=new WeakMap,eh=new WeakMap;var dP;class mBe extends hR{constructor(r,n){super(r);Ne(this,dP);oe(this,dP,kM(n))}async _poll(r,n){throw new Error("@TODO")}}dP=new WeakMap;var Vv;class gBe extends hR{constructor(r,n){super(r);Ne(this,Vv);oe(this,Vv,n)}async _poll(r,n){const s=await n.getTransactionReceipt(K(this,Vv));s&&n.emit(K(this,Vv),s)}}Vv=new WeakMap;var th,Hv,qv,mp,rl,fP,Pce;class pR{constructor(e,r){Ne(this,fP);Ne(this,th);Ne(this,Hv);Ne(this,qv);Ne(this,mp);Ne(this,rl);oe(this,th,e),oe(this,Hv,kM(r)),oe(this,qv,Ye(this,fP,Pce).bind(this)),oe(this,mp,!1),oe(this,rl,-2)}start(){K(this,mp)||(oe(this,mp,!0),K(this,rl)===-2&&K(this,th).getBlockNumber().then(e=>{oe(this,rl,e)}),K(this,th).on("block",K(this,qv)))}stop(){K(this,mp)&&(oe(this,mp,!1),K(this,th).off("block",K(this,qv)))}pause(e){this.stop(),e&&oe(this,rl,-2)}resume(){this.start()}}th=new WeakMap,Hv=new WeakMap,qv=new WeakMap,mp=new WeakMap,rl=new WeakMap,fP=new WeakSet,Pce=async function(e){if(K(this,rl)===-2)return;const r=kM(K(this,Hv));r.fromBlock=K(this,rl)+1,r.toBlock=e;const n=await K(this,th).getLogs(r);if(n.length===0){K(this,rl)<e-60&&oe(this,rl,e-60);return}for(const s of n)K(this,th).emit(K(this,Hv),s),oe(this,rl,s.blockNumber)};const bBe=BigInt(2),yBe=10;function G8(t){return t&&typeof t.then=="function"}function m7(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class kce{constructor(e){ve(this,"name");Jt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function vBe(t){return JSON.parse(JSON.stringify(t))}function IM(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function GE(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Bn(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:m7("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:m7("orphan",r),filter:vBe(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?IM(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],a=o=>{Bn(o)?s.push(o):i.push((async()=>{s.push(await mi(o,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=IM(s.map(o=>o.toLowerCase()))}return{filter:n,tag:m7("event",n),type:"event"}}he(!1,"unknown ProviderEvent","event",t)}function eC(){return new Date().getTime()}const xBe={cacheTimeout:250,pollingInterval:4e3};var Aa,gp,Sa,Wv,tc,zg,bp,rh,k4,nl,Kv,Xv,Tr,Ko,NM,EM,W2,CM,K2,g7;class wBe{constructor(e,r){Ne(this,Tr);Ne(this,Aa);Ne(this,gp);Ne(this,Sa);Ne(this,Wv);Ne(this,tc);Ne(this,zg);Ne(this,bp);Ne(this,rh);Ne(this,k4);Ne(this,nl);Ne(this,Kv);Ne(this,Xv);if(oe(this,Xv,Object.assign({},xBe,r||{})),e==="any")oe(this,zg,!0),oe(this,tc,null);else if(e){const n=jd.from(e);oe(this,zg,!1),oe(this,tc,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else oe(this,zg,!1),oe(this,tc,null);oe(this,rh,-1),oe(this,bp,new Map),oe(this,Aa,new Map),oe(this,gp,new Map),oe(this,Sa,null),oe(this,Wv,!1),oe(this,k4,1),oe(this,nl,new Map),oe(this,Kv,!1)}get pollingInterval(){return K(this,Xv).pollingInterval}get provider(){return this}get plugins(){return Array.from(K(this,gp).values())}attachPlugin(e){if(K(this,gp).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return K(this,gp).set(e.name,e.connect(this)),this}getPlugin(e){return K(this,gp).get(e)||null}get disableCcipRead(){return K(this,Kv)}set disableCcipRead(e){oe(this,Kv,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const c=n[o],l=c.replace("{sender}",s).replace("{data}",i),u=new Bh(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:o,urls:n});let f="unknown error",h;try{h=await u.send()}catch(m){a.push(m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:m}});continue}try{const m=h.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:m}),m.data;m.message&&(f=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:m})}catch{}lt(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),a.push(f)}lt(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new UOe(iBe(e),this)}_wrapLog(e,r){return new s5(nBe(e),this)}_wrapTransactionReceipt(e,r){return new uce(lBe(e),this)}_wrapTransactionResponse(e,r){return new D6(Sce(e),this)}_detectNetwork(){lt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){lt(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ur(await Ye(this,Tr,Ko).call(this,{method:"getBlockNumber"}),"%response");return K(this,rh)>=0&&oe(this,rh,e),e}_getAddress(e){return mi(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Bn(e))return Bn(e,32)?e:hu(e);if(typeof e=="bigint"&&(e=ur(e,"blockTag")),typeof e=="number")return e>=0?hu(e):K(this,rh)>=0?hu(K(this,rh)+e):this.getBlockNumber().then(r=>hu(r+e));he(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?IM(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),l&&(h.fromBlock=l),u&&(h.toBlock=u),n&&(h.blockHash=n),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),a,o]).then(c=>s(c[0],c[1],c[2])):s(i,a,o)}_getTransactionRequest(e){const r=R6(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=mi(r[s],this);G8(i)?n.push(async function(){r[s]=await i}()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);G8(s)?n.push(async function(){r.blockTag=await s}()):r.blockTag=s}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(K(this,tc)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw K(this,tc)===s&&oe(this,tc,null),i}})();return oe(this,tc,s),(await s).clone()}const e=K(this,tc),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(K(this,zg)?(this.emit("network",n,r),K(this,tc)===e&&oe(this,tc,Promise.resolve(n))):lt(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await Ia({_block:Ye(this,Tr,CM).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Ye(this,Tr,Ko).call(this,{method:"getGasPrice"});return Lt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Ye(this,Tr,Ko).call(this,{method:"getPriorityFee"});return Lt(u,"%response")}catch{}return null})()});let o=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=a??BigInt("1000000000"),o=l.baseFeePerGas*bBe+c),new Kq(i,o,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new Bh(n.url),i=await n.processFunc(r,this,s);return new Kq(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return G8(r)&&(r=await r),Lt(await Ye(this,Tr,Ko).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Ia({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Ye(this,Tr,EM).call(this,Ye(this,Tr,NM).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Lt(await Ye(this,Tr,W2).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return ur(await Ye(this,Tr,W2).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return xt(await Ye(this,Tr,W2).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=Lt(r,"position");return xt(await Ye(this,Tr,W2).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await Ia({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=P1.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,CM).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await Ye(this,Tr,Ko).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Ia({network:this.getNetwork(),result:Ye(this,Tr,Ko).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:xt(r)}async getLogs(e){let r=this._getFilter(e);G8(r)&&(r=await r);const{network:n,params:s}=await Ia({network:this.getNetwork(),params:Ye(this,Tr,Ko).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){lt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await rS.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=jr(e);const r=vM(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await rS.getEnsAddress(this),i=await new yh(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===T6)return null;const o=await new yh(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(o)!==e?null:o}catch(n){if(Li(n,"BAD_DATA")&&n.value==="0x"||Li(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let o=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),o&&(clearTimeout(o),o=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),a(is("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){lt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=K(this,nl).get(e);r&&(r.timer&&clearTimeout(r.timer),K(this,nl).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Yh(this,k4)._++,s=()=>{K(this,nl).delete(n),e()};if(this.paused)K(this,nl).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);K(this,nl).set(n,{timer:i,func:s,time:eC()})}return n}_forEachSubscriber(e){for(const r of K(this,Aa).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new kce(e.type);case"block":{const r=new hBe(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new pBe(this,e.type);case"event":return new pR(this,e.filter);case"transaction":return new gBe(this,e.hash);case"orphan":return new mBe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of K(this,Aa).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),K(this,Sa)!=null&&r.pause(K(this,Sa));break}}async on(e,r){const n=await Ye(this,Tr,g7).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,K(this,Sa)!=null&&n.subscriber.pause(K(this,Sa))),this}async once(e,r){const n=await Ye(this,Tr,g7).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,K(this,Sa)!=null&&n.subscriber.pause(K(this,Sa))),this}async emit(e,...r){const n=await Ye(this,Tr,K2).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const o=new cae(this,a?null:i,e);try{i.call(this,...r,o)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),K(this,Aa).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await Ye(this,Tr,K2).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of K(this,Aa).values())r+=n.length;return r}async listeners(e){if(e){const n=await Ye(this,Tr,K2).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of K(this,Aa).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await Ye(this,Tr,K2).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),K(this,Aa).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await Ye(this,Tr,g7).call(this,e);n&&s.stop(),K(this,Aa).delete(r)}else for(const[r,{started:n,subscriber:s}]of K(this,Aa))n&&s.stop(),K(this,Aa).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return K(this,Wv)}destroy(){this.removeAllListeners();for(const e of K(this,nl).keys())this._clearTimeout(e);oe(this,Wv,!0)}get paused(){return K(this,Sa)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(oe(this,rh,-1),K(this,Sa)!=null){if(K(this,Sa)==!!e)return;lt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),oe(this,Sa,!!e);for(const r of K(this,nl).values())r.timer&&clearTimeout(r.timer),r.time=eC()-r.time}resume(){if(K(this,Sa)!=null){this._forEachSubscriber(e=>e.resume()),oe(this,Sa,null);for(const e of K(this,nl).values()){let r=e.time;r<0&&(r=0),e.time=eC(),setTimeout(e.func,r)}}}}Aa=new WeakMap,gp=new WeakMap,Sa=new WeakMap,Wv=new WeakMap,tc=new WeakMap,zg=new WeakMap,bp=new WeakMap,rh=new WeakMap,k4=new WeakMap,nl=new WeakMap,Kv=new WeakMap,Xv=new WeakMap,Tr=new WeakSet,Ko=async function(e){const r=K(this,Xv).cacheTimeout;if(r<0)return await this._perform(e);const n=m7(e.method,e);let s=K(this,bp).get(n);return s||(s=this._perform(e),K(this,bp).set(n,s),setTimeout(()=>{K(this,bp).get(n)===s&&K(this,bp).delete(n)},r)),await s},NM=async function(e,r,n){lt(n<yBe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=R6(e);try{return xt(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&qF(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Tn(i.data,0,4)==="0x556f1830"){const a=i.data,o=await mi(s.to,this);let c;try{c=IBe(Tn(i.data,4))}catch(f){lt(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}lt(c.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);lt(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:o,data:tn([c.selector,kBe([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await Ye(this,Tr,NM).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},EM=async function(e){const{value:r}=await Ia({network:this.getNetwork(),value:e});return r},W2=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await Ye(this,Tr,EM).call(this,Ye(this,Tr,Ko).call(this,Object.assign(e,{address:s,blockTag:i})))},CM=async function(e,r){if(Bn(e,32))return await Ye(this,Tr,Ko).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Ye(this,Tr,Ko).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},K2=async function(e,r){let n=await GE(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await GE({orphan:"drop-log",log:r[0]},this)),K(this,Aa).get(n.tag)||null},g7=async function(e){const r=await GE(e,this),n=r.tag;let s=K(this,Aa).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},K(this,Aa).set(n,s)),s};function ABe(t,e){try{const r=_M(t,e);if(r)return XA(r)}catch{}return null}function _M(t,e){if(t==="0x")return null;try{const r=ur(Tn(t,e,e+32)),n=ur(Tn(t,r,r+32));return Tn(t,r+32,r+32+n)}catch{}return null}function rW(t){const e=ds(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function SBe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const PBe=new Uint8Array([]);function kBe(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(PBe),r+=32;for(let n=0;n<t.length;n++){const s=wt(t[n]);e[n]=rW(r),e.push(rW(s.length)),e.push(SBe(s)),r+=32+Math.ceil(s.length/32)*32}return tn(e)}const nW="0x0000000000000000000000000000000000000000000000000000000000000000";function IBe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};lt(Ry(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Tn(t,0,32);lt(Tn(r,0,12)===Tn(nW,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Tn(r,12);try{const n=[],s=ur(Tn(t,32,64)),i=ur(Tn(t,s,s+32)),a=Tn(t,s+32);for(let o=0;o<i;o++){const c=ABe(a,o*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{lt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=_M(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{lt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}lt(Tn(t,100,128)===Tn(nW,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Tn(t,96,100);try{const n=_M(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{lt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function _m(t,e){if(t.provider)return t.provider;lt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function sW(t,e){let r=R6(e);if(r.to!=null&&(r.to=mi(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),mi(n,t)]).then(([s,i])=>(he(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await Ia(r)}class mR{constructor(e){ve(this,"provider");Jt(this,{provider:e||null})}async getNonce(e){return _m(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await sW(this,e)}async populateTransaction(e){const r=_m(this,"populateTransaction"),n=await sW(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=Lt(n.chainId);he(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?he(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&he(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();lt(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(lt(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):lt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Ia(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await _m(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return _m(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return _m(this,"call").call(await this.populateCall(e))}async resolveName(e){return await _m(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=_m(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=P1.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){lt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Zv,b7;const UU=class UU extends mR{constructor(r,n){super(n);Ne(this,Zv);ve(this,"address");Jt(this,{address:r})}async getAddress(){return this.address}connect(r){return new UU(this.address,r)}async signTransaction(r){Ye(this,Zv,b7).call(this,"transactions","signTransaction")}async signMessage(r){Ye(this,Zv,b7).call(this,"messages","signMessage")}async signTypedData(r,n,s){Ye(this,Zv,b7).call(this,"typed-data","signTypedData")}};Zv=new WeakSet,b7=function(r,n){lt(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:n})};let TM=UU;function NBe(t){return JSON.parse(JSON.stringify(t))}var Wa,wd,Lg,yp,Vg,Jv,im,jM,MM;class Ice{constructor(e){Ne(this,im);Ne(this,Wa);Ne(this,wd);Ne(this,Lg);Ne(this,yp);Ne(this,Vg);Ne(this,Jv);oe(this,Wa,e),oe(this,wd,null),oe(this,Lg,Ye(this,im,jM).bind(this)),oe(this,yp,!1),oe(this,Vg,null),oe(this,Jv,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){K(this,yp)||(oe(this,yp,!0),Ye(this,im,jM).call(this,-2))}stop(){K(this,yp)&&(oe(this,yp,!1),oe(this,Jv,!0),Ye(this,im,MM).call(this),K(this,Wa).off("block",K(this,Lg)))}pause(e){e&&Ye(this,im,MM).call(this),K(this,Wa).off("block",K(this,Lg))}resume(){this.start()}}Wa=new WeakMap,wd=new WeakMap,Lg=new WeakMap,yp=new WeakMap,Vg=new WeakMap,Jv=new WeakMap,im=new WeakSet,jM=async function(e){try{K(this,wd)==null&&oe(this,wd,this._subscribe(K(this,Wa)));let r=null;try{r=await K(this,wd)}catch(i){if(!Li(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){oe(this,wd,null),K(this,Wa)._recoverSubscriber(this,this._recover(K(this,Wa)));return}const n=await K(this,Wa).getNetwork();if(K(this,Vg)||oe(this,Vg,n),K(this,Vg).chainId!==n.chainId)throw new Error("chaid changed");if(K(this,Jv))return;const s=await K(this,Wa).send("eth_getFilterChanges",[r]);await this._emitResults(K(this,Wa),s)}catch(r){console.log("@TODO",r)}K(this,Wa).once("block",K(this,Lg))},MM=function(){const e=K(this,wd);e&&(oe(this,wd,null),e.then(r=>{K(this,Wa).destroyed||K(this,Wa).send("eth_uninstallFilter",[r])}))};var Hg;class EBe extends Ice{constructor(r,n){super(r);Ne(this,Hg);oe(this,Hg,NBe(n))}_recover(r){return new pR(r,K(this,Hg))}async _subscribe(r){return await r.send("eth_newFilter",[K(this,Hg)])}async _emitResults(r,n){for(const s of n)r.emit(K(this,Hg),r._wrapLog(s,r._network))}}Hg=new WeakMap;class CBe extends Ice{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const _Be="bigint,boolean,function,number,string,symbol".split(/,/g);function y7(t){if(t==null||_Be.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(y7);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function TBe(t){return new Promise(e=>{setTimeout(e,t)})}function hb(t){return t&&t.toLowerCase()}function iW(t){return t&&typeof t.pollingInterval=="number"}const Nce={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tC extends mR{constructor(r,n){super(r);ve(this,"address");n=jr(n),Jt(this,{address:n})}connect(r){lt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=y7(r),s=[];if(n.from){const a=n.from;s.push((async()=>{const o=await mi(a,this.provider);he(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;s.push((async()=>{n.to=await mi(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,a)=>{const o=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(Li(u,"CANCELLED")||Li(u,"BAD_DATA")||Li(u,"NETWORK_ERROR")||Li(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,a(u);return}if(Li(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){a(u);return}this.provider.emit("error",is("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},o.pop()||4e3)};l()})}async signTransaction(r){const n=y7(r);if(n.from){const i=await mi(n.from,this.provider);he(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?Oa(r):r;return await this.provider.send("personal_sign",[xt(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=y7(s),a=await Fh.resolveNames(r,n,i,async o=>{const c=await mi(o);return he(c!=null,"TypedData does not support null address","value",o),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Fh.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Oa(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),xt(n)])}}var qg,Qv,nh,Ad,cu,sl,Ao,I4,$M;class jBe extends wBe{constructor(r,n){super(r,n);Ne(this,I4);Ne(this,qg);Ne(this,Qv);Ne(this,nh);Ne(this,Ad);Ne(this,cu);Ne(this,sl);Ne(this,Ao);oe(this,Qv,1),oe(this,qg,Object.assign({},Nce,n||{})),oe(this,nh,[]),oe(this,Ad,null),oe(this,sl,null),oe(this,Ao,null);{let i=null;const a=new Promise(o=>{i=o});oe(this,cu,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(he(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&oe(this,sl,jd.from(r))):s&&(he(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),oe(this,sl,s))}_getOption(r){return K(this,qg)[r]}get _network(){return lt(K(this,sl),"network is not available yet","NETWORK_ERROR"),K(this,sl)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Lt(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(K(this,sl))return K(this,sl)}else return r;return K(this,Ao)?await K(this,Ao):this.ready?(oe(this,Ao,(async()=>{try{const n=jd.from(Lt(await this.send("eth_chainId",[])));return oe(this,Ao,null),n}catch(n){throw oe(this,Ao,null),n}})()),await K(this,Ao)):(oe(this,Ao,(async()=>{const n={id:Yh(this,Qv)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],oe(this,Ao,null)}catch(i){throw oe(this,Ao,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return jd.from(Lt(s.result));throw this.getRpcError(n,s)})()),await K(this,Ao))}_start(){K(this,cu)==null||K(this,cu).resolve==null||(K(this,cu).resolve(),oe(this,cu,null),(async()=>{for(;K(this,sl)==null&&!this.destroyed;)try{oe(this,sl,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",is("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await TBe(1e3)}Ye(this,I4,$M).call(this)})())}async _waitUntilReady(){if(K(this,cu)!=null)return await K(this,cu).promise}_getSubscriber(r){return r.type==="pending"?new CBe(this):r.type==="event"?this._getOption("polling")?new pR(this,r.filter):new EBe(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new kce("orphan"):super._getSubscriber(r)}get ready(){return K(this,cu)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=hu(Lt(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=xt(r[s]))}),r.accessList&&(n.accessList=W1(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{const i=Eoe(s);return{address:i.address,nonce:hu(i.nonce),chainId:hu(i.chainId),yParity:hu(i.signature.yParity),r:hu(i.signature.r),s:hu(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[hb(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[hb(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[hb(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[hb(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(hb):r.filter.address=hb(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return is("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return is("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=OM(i),l=F6.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return l.info={error:i,payload:r},l}const a=JSON.stringify($Be(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return is("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return is("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return is("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return is("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(a.match(/only replay-protected/i))return is("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?is("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):is("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=Yh(this,Qv)._++,i=new Promise((a,o)=>{K(this,nh).push({resolve:a,reject:o,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return Ye(this,I4,$M).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new tC(this,i[r])}const{accounts:s}=await Ia({network:this.getNetwork(),accounts:n});r=jr(r);for(const i of s)if(jr(i)===r)return new tC(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new tC(this,n))}destroy(){K(this,Ad)&&(clearTimeout(K(this,Ad)),oe(this,Ad,null));for(const{payload:r,reject:n}of K(this,nh))n(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));oe(this,nh,[]),super.destroy()}}qg=new WeakMap,Qv=new WeakMap,nh=new WeakMap,Ad=new WeakMap,cu=new WeakMap,sl=new WeakMap,Ao=new WeakMap,I4=new WeakSet,$M=function(){if(K(this,Ad))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");oe(this,Ad,setTimeout(()=>{oe(this,Ad,null);const n=K(this,nh);for(oe(this,nh,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==K(this,qg).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(a=>a.payload)).length>K(this,qg).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:c,payload:l}of s){if(this.destroyed){c(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=a.filter(f=>f.id===l.id)[0];if(u==null){const f=is("missing response for request","BAD_DATA",{value:a,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}o(u.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of s)o(a)}})()}},r))};var vp;class MBe extends jBe{constructor(r,n){super(r,n);Ne(this,vp);let s=this._getOption("pollingInterval");s==null&&(s=Nce.pollingInterval),oe(this,vp,s)}_getSubscriber(r){const n=super._getSubscriber(r);return iW(n)&&(n.pollingInterval=K(this,vp)),n}get pollingInterval(){return K(this,vp)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");oe(this,vp,r),this._forEachSubscriber(n=>{iW(n)&&(n.pollingInterval=K(this,vp))})}}vp=new WeakMap;var Yv;class ww extends MBe{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);Ne(this,Yv);typeof r=="string"?oe(this,Yv,new Bh(r)):oe(this,Yv,r.clone())}_getConnection(){return K(this,Yv).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Yv=new WeakMap;function OM(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Bn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=OM(t[e]);if(r)return r}return null}if(typeof t=="string")try{return OM(JSON.parse(t))}catch{}return null}function BM(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)BM(t[r],e);if(typeof t=="string")try{return BM(JSON.parse(t),e)}catch{}}}function $Be(t){const e=[];return BM(t,e),e}var Gv;const zU=class zU extends mR{constructor(r,n){super(n);ve(this,"address");Ne(this,Gv);he(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),oe(this,Gv,r);const s=n5(this.signingKey.publicKey);Jt(this,{address:s})}get signingKey(){return K(this,Gv)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new zU(K(this,Gv),r)}async signTransaction(r){r=R6(r);const{to:n,from:s}=await Ia({to:r.to?mi(r.to,this):void 0,from:r.from?mi(r.from,this):void 0});n!=null&&(r.to=n),s!=null&&(r.from=s),r.from!=null&&(he(jr(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const i=P1.from(r);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(Joe(r)).serialized}authorizeSync(r){he(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const n=this.signingKey.sign(Coe(r));return Object.assign({},{address:jr(r.address),nonce:Lt(r.nonce||0),chainId:Lt(r.chainId||0)},{signature:n})}async authorize(r){return r=Object.assign({},r,{address:await mi(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,n,s){const i=await Fh.resolveNames(r,n,s,async a=>{lt(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const o=await this.provider.resolveName(a);return lt(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),o});return this.signingKey.sign(Fh.hash(i.domain,n,i.value)).serialized}};Gv=new WeakMap;let FM=zU;const nS=" !#$%&'()*+,-./<=>?@[]^_`{|}~",OBe=/^[a-z]*$/i;function aW(t,e){let r=97;return t.reduce((n,s)=>(s===e?r++:s.match(OBe)?n.push(String.fromCharCode(r)+s):(r=97,n.push(s)),n),[])}function BBe(t,e){for(let s=nS.length-1;s>=0;s--)t=t.split(nS[s]).join(e.substring(2*s,2*s+2));const r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,a,o)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return aW(aW(r,";"),":")}function FBe(t){return he(t[0]==="0","unsupported auwl data","data",t),BBe(t.substring(1+2*nS.length),t.substring(1,1+2*nS.length))}class RBe{constructor(e){ve(this,"locale");Jt(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var ex,N4,Wg,E4,RM;class DBe extends RBe{constructor(r,n,s){super(r);Ne(this,E4);Ne(this,ex);Ne(this,N4);Ne(this,Wg);oe(this,ex,n),oe(this,N4,s),oe(this,Wg,null)}get _data(){return K(this,ex)}_decodeWords(){return FBe(K(this,ex))}getWord(r){const n=Ye(this,E4,RM).call(this);return he(r>=0&&r<n.length,`invalid word index: ${r}`,"index",r),n[r]}getWordIndex(r){return Ye(this,E4,RM).call(this).indexOf(r)}}ex=new WeakMap,N4=new WeakMap,Wg=new WeakMap,E4=new WeakSet,RM=function(){if(K(this,Wg)==null){const r=this._decodeWords();if(Yp(r.join(`
`)+`
`)!==K(this,N4))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);oe(this,Wg,r)}return K(this,Wg)};const UBe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",zBe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let rC=null;class E1 extends DBe{constructor(){super("en",UBe,zBe)}static wordlist(){return rC==null&&(rC=new E1),rC}}function Ece(t){return(1<<t)-1<<8-t&255}function LBe(t){return(1<<t)-1&255}function nC(t,e){nae("NFKD"),e==null&&(e=E1.wordlist());const r=e.split(t);he(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));he(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}const i=32*r.length/3,a=r.length/3,o=Ece(a),c=wt(ts(n.slice(0,i/8)))[0]&o;return he(c===(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),xt(n.slice(0,i/8))}function sC(t,e){he(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=E1.wordlist());const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&LBe(8-n)),n+=3);const s=t.length/4,i=parseInt(ts(t).substring(2,4),16)&Ece(s);return r[r.length-1]<<=s,r[r.length-1]|=i>>8-s,e.join(r.map(a=>e.getWord(a)))}const iC={};class un{constructor(e,r,n,s,i){ve(this,"phrase");ve(this,"password");ve(this,"wordlist");ve(this,"entropy");s==null&&(s=""),i==null&&(i=E1.wordlist()),dm(e,iC,"Mnemonic"),Jt(this,{phrase:n,password:s,wordlist:i,entropy:r})}computeSeed(){const e=Oa("mnemonic"+this.password,"NFKD");return q1(Oa(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){const s=nC(e,n);return e=sC(wt(s),n),new un(iC,s,e,r,n)}static fromEntropy(e,r,n){const s=wt(e,"entropy"),i=sC(s,n);return new un(iC,xt(s),i,r,n)}static entropyToPhrase(e,r){const n=wt(e,"entropy");return sC(n,r)}static phraseToEntropy(e,r){return nC(e,r)}static isValidMnemonic(e,r){try{return nC(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Ti=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},aC=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},v7,Wc,ed;const VBe={16:10,24:12,32:14},HBe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Fc=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],e9=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],qBe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],WBe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],KBe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],XBe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],ZBe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],JBe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],QBe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],YBe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],GBe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],eFe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],tFe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],rFe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function oC(t){const e=[];for(let r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}class gR{get key(){return Ti(this,v7,"f").slice()}constructor(e){if(v7.set(this,void 0),Wc.set(this,void 0),ed.set(this,void 0),!(this instanceof gR))throw Error("AES must be instanitated with `new`");aC(this,v7,new Uint8Array(e),"f");const r=VBe[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");aC(this,ed,[],"f"),aC(this,Wc,[],"f");for(let u=0;u<=r;u++)Ti(this,ed,"f").push([0,0,0,0]),Ti(this,Wc,"f").push([0,0,0,0]);const n=(r+1)*4,s=this.key.length/4,i=oC(this.key);let a;for(let u=0;u<s;u++)a=u>>2,Ti(this,ed,"f")[a][u%4]=i[u],Ti(this,Wc,"f")[r-a][u%4]=i[u];let o=0,c=s,l;for(;c<n;){if(l=i[s-1],i[0]^=Fc[l>>16&255]<<24^Fc[l>>8&255]<<16^Fc[l&255]<<8^Fc[l>>24&255]^HBe[o]<<24,o+=1,s!=8)for(let m=1;m<s;m++)i[m]^=i[m-1];else{for(let m=1;m<s/2;m++)i[m]^=i[m-1];l=i[s/2-1],i[s/2]^=Fc[l&255]^Fc[l>>8&255]<<8^Fc[l>>16&255]<<16^Fc[l>>24&255]<<24;for(let m=s/2+1;m<s;m++)i[m]^=i[m-1]}let u=0,f,h;for(;u<s&&c<n;)f=c>>2,h=c%4,Ti(this,ed,"f")[f][h]=i[u],Ti(this,Wc,"f")[r-f][h]=i[u++],c++}for(let u=1;u<r;u++)for(let f=0;f<4;f++)l=Ti(this,Wc,"f")[u][f],Ti(this,Wc,"f")[u][f]=GBe[l>>24&255]^eFe[l>>16&255]^tFe[l>>8&255]^rFe[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=Ti(this,ed,"f").length-1,n=[0,0,0,0];let s=oC(e);for(let o=0;o<4;o++)s[o]^=Ti(this,ed,"f")[0][o];for(let o=1;o<r;o++){for(let c=0;c<4;c++)n[c]=qBe[s[c]>>24&255]^WBe[s[(c+1)%4]>>16&255]^KBe[s[(c+2)%4]>>8&255]^XBe[s[(c+3)%4]&255]^Ti(this,ed,"f")[o][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ti(this,ed,"f")[r][o],i[4*o]=(Fc[s[o]>>24&255]^a>>24)&255,i[4*o+1]=(Fc[s[(o+1)%4]>>16&255]^a>>16)&255,i[4*o+2]=(Fc[s[(o+2)%4]>>8&255]^a>>8)&255,i[4*o+3]=(Fc[s[(o+3)%4]&255]^a)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=Ti(this,Wc,"f").length-1,n=[0,0,0,0];let s=oC(e);for(let o=0;o<4;o++)s[o]^=Ti(this,Wc,"f")[0][o];for(let o=1;o<r;o++){for(let c=0;c<4;c++)n[c]=ZBe[s[c]>>24&255]^JBe[s[(c+3)%4]>>16&255]^QBe[s[(c+2)%4]>>8&255]^YBe[s[(c+1)%4]&255]^Ti(this,Wc,"f")[o][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ti(this,Wc,"f")[r][o],i[4*o]=(e9[s[o]>>24&255]^a>>24)&255,i[4*o+1]=(e9[s[(o+3)%4]>>16&255]^a>>16)&255,i[4*o+2]=(e9[s[(o+2)%4]>>8&255]^a>>8)&255,i[4*o+3]=(e9[s[(o+1)%4]&255]^a)&255;return i}}v7=new WeakMap,Wc=new WeakMap,ed=new WeakMap;class nFe{constructor(e,r,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new gR(r)},name:{enumerable:!0,value:e}})}}var pb=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Rc=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},X2,qm,Kc;class jx extends nFe{constructor(e,r){super("CTR",e,jx),X2.set(this,void 0),qm.set(this,void 0),Kc.set(this,void 0),pb(this,Kc,new Uint8Array(16),"f"),Rc(this,Kc,"f").fill(0),pb(this,X2,Rc(this,Kc,"f"),"f"),pb(this,qm,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Rc(this,Kc,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Rc(this,Kc,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Rc(this,Kc,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Rc(this,Kc,"f")[e]===255)Rc(this,Kc,"f")[e]=0;else{Rc(this,Kc,"f")[e]++;break}}encrypt(e){var r,n;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)Rc(this,qm,"f")===16&&(pb(this,X2,this.aes.encrypt(Rc(this,Kc,"f")),"f"),pb(this,qm,0,"f"),this.increment()),s[i]^=Rc(this,X2,"f")[pb(this,qm,(n=Rc(this,qm,"f"),r=n++,n),"f"),r];return s}decrypt(e){return this.encrypt(e)}}X2=new WeakMap,qm=new WeakMap,Kc=new WeakMap;function sFe(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),Vi(t)}function o2(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Uk(t){return typeof t=="string"?Oa(t,"NFKC"):Vi(t)}function qs(t,e){const r=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);he(r!=null,"invalid path","path",e);const n=r[1],s=r[3],i=r[4]==="!";let a=t;for(const o of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!o.match(/^[0-9]+$/))break;a=a[parseInt(o)]}else if(typeof a=="object"){let c=null;for(const l in a)if(l.toLowerCase()===o){c=a[l];break}a=c}else a=null;if(a==null)break}if(he(!i||a!=null,"missing required value","path",n),s&&a!=null){if(s==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(s==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(s==="data"&&typeof a=="string")return sFe(a);if(s==="array"&&Array.isArray(a)||s===typeof a)return a;he(!1,`wrong type found for ${s} `,"path",n)}return a}const Cce="m/44'/60'/0'/0/0";function m6t(t){try{const e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function iFe(t,e,r){if(qs(t,"crypto.cipher:string")==="aes-128-ctr"){const s=qs(t,"crypto.cipherparams.iv:data!"),i=new jx(e,s);return xt(i.decrypt(r))}lt(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function sS(t,e){const r=wt(e),n=qs(t,"crypto.ciphertext:data!"),s=xt(On(tn([r.slice(16,32),n]))).substring(2);he(s===qs(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=iFe(t,r.slice(0,16),n),a=n5(i);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),he(jr(l)===a,"keystore address/privateKey mismatch","address",t.address)}const o={address:a,privateKey:i};if(qs(t,"x-ethers.version:string")==="0.1"){const l=r.slice(32,64),u=qs(t,"x-ethers.mnemonicCiphertext:data!"),f=qs(t,"x-ethers.mnemonicCounter:data!"),h=new jx(l,f);o.mnemonic={path:qs(t,"x-ethers.path:string")||Cce,locale:qs(t,"x-ethers.locale:string")||"en",entropy:xt(wt(h.decrypt(u)))}}return o}function _ce(t){const e=qs(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const r=qs(t,"crypto.kdfparams.salt:data!"),n=qs(t,"crypto.kdfparams.n:int!"),s=qs(t,"crypto.kdfparams.r:int!"),i=qs(t,"crypto.kdfparams.p:int!");he(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),he(s>0&&i>0,"invalid kdf","kdf",e);const a=qs(t,"crypto.kdfparams.dklen:int!");return he(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:r,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const r=qs(t,"crypto.kdfparams.salt:data!"),n=qs(t,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();he(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=qs(t,"crypto.kdfparams.c:int!"),a=qs(t,"crypto.kdfparams.dklen:int!");return he(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:r,count:i,dkLen:a,algorithm:s}}}he(!1,"unsupported key-derivation function","kdf",e)}function g6t(t,e){const r=JSON.parse(t),n=Uk(e),s=_ce(r);if(s.name==="pbkdf2"){const{salt:f,count:h,dkLen:m,algorithm:y}=s,x=q1(n,f,h,m,y);return sS(r,x)}lt(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:a,r:o,p:c,dkLen:l}=s,u=yw(n,i,a,o,c,l);return sS(r,u)}function oW(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function b6t(t,e,r){const n=JSON.parse(t),s=Uk(e),i=_ce(n);if(i.name==="pbkdf2"){r&&(r(0),await oW(0));const{salt:h,count:m,dkLen:y,algorithm:x}=i,k=q1(s,h,m,y,x);return r&&(r(1),await oW(0)),sS(n,k)}lt(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:o,r:c,p:l,dkLen:u}=i,f=await bw(s,a,o,c,l,u,r);return sS(n,f)}function Tce(t){const e=t.salt!=null?wt(t.salt,"options.salt"):Hi(32);let r=1<<17,n=8,s=1;return t.scrypt&&(t.scrypt.N&&(r=t.scrypt.N),t.scrypt.r&&(n=t.scrypt.r),t.scrypt.p&&(s=t.scrypt.p)),he(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),he(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),he(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:n,p:s}}function jce(t,e,r,n){const s=wt(r.privateKey,"privateKey"),i=n.iv!=null?wt(n.iv,"options.iv"):Hi(16);he(i.length===16,"invalid options.iv length","options.iv",n.iv);const a=n.uuid!=null?wt(n.uuid,"options.uuid"):Hi(16);he(a.length===16,"invalid options.uuid length","options.uuid",n.iv);const o=t.slice(0,16),c=t.slice(16,32),l=new jx(o,i),u=wt(l.encrypt(s)),f=On(tn([c,u])),h={address:r.address.substring(2).toLowerCase(),id:lje(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:xt(i).substring(2)},ciphertext:xt(u).substring(2),kdf:"scrypt",kdfparams:{salt:xt(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(r.mnemonic){const m=n.client!=null?n.client:`ethers/${tae}`,y=r.mnemonic.path||Cce,x=r.mnemonic.locale||"en",k=t.slice(32,64),C=wt(r.mnemonic.entropy,"account.mnemonic.entropy"),I=Hi(16),_=new jx(k,I),O=wt(_.encrypt(C)),F=new Date,j="UTC--"+(F.getUTCFullYear()+"-"+o2(F.getUTCMonth()+1,2)+"-"+o2(F.getUTCDate(),2)+"T"+o2(F.getUTCHours(),2)+"-"+o2(F.getUTCMinutes(),2)+"-"+o2(F.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:m,gethFilename:j,path:y,locale:x,mnemonicCounter:xt(I).substring(2),mnemonicCiphertext:xt(O).substring(2),version:"0.1"}}return JSON.stringify(h)}function aFe(t,e,r){r==null&&(r={});const n=Uk(e),s=Tce(r),i=yw(n,s.salt,s.N,s.r,s.p,64);return jce(wt(i),s,t,r)}async function oFe(t,e,r){r==null&&(r={});const n=Uk(e),s=Tce(r),i=await bw(n,s.salt,s.N,s.r,s.p,64,r.progressCallback);return jce(wt(i),s,t,r)}const cC="m/44'/60'/0'/0/0",cFe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),qd=2147483648,lFe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uFe="0123456789abcdef";function iS(t,e){let r="";for(;t;)r=uFe[t%16]+r,t=Math.trunc(t/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function DM(t){const e=wt(t),r=Tn(ts(ts(e)),0,4),n=tn([e,r]);return oae(n)}const ld={};function Mce(t,e,r,n){const s=new Uint8Array(37);t&qd?(lt(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(wt(n),1)):s.set(wt(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=t>>24-a&255;const i=wt(gw("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function $ce(t,e){const r=e.split("/");he(r.length>0,"invalid path","path",e),r[0]==="m"&&(he(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),r.shift());let n=t;for(let s=0;s<r.length;s++){const i=r[s];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));he(a<qd,"invalid path index",`path[${s}]`,i),n=n.deriveChild(qd+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);he(a<qd,"invalid path index",`path[${s}]`,i),n=n.deriveChild(a)}else he(!1,"invalid path component",`path[${s}]`,i)}return n}var C4,UM,Kg,Z2;const Yl=class Yl extends FM{constructor(r,n,s,i,a,o,c,l,u){super(n,u);Ne(this,C4);ve(this,"publicKey");ve(this,"fingerprint");ve(this,"parentFingerprint");ve(this,"mnemonic");ve(this,"chainCode");ve(this,"path");ve(this,"index");ve(this,"depth");dm(r,ld,"HDNodeWallet"),Jt(this,{publicKey:n.compressedPublicKey});const f=Tn(uf(ts(this.publicKey)),0,4);Jt(this,{parentFingerprint:s,fingerprint:f,chainCode:i,path:a,index:o,depth:c}),Jt(this,{mnemonic:l})}connect(r){return new Yl(ld,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,n){return await oFe(Ye(this,C4,UM).call(this),r,{progressCallback:n})}encryptSync(r){return aFe(Ye(this,C4,UM).call(this),r)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),DM(tn(["0x0488ADE4",iS(this.depth,1),this.parentFingerprint,iS(this.index,4),this.chainCode,tn(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new z6(ld,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const n=ur(r,"index");he(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~qd),n&qd&&(s+="'"));const{IR:i,IL:a}=Mce(n,this.chainCode,this.publicKey,this.privateKey),o=new vl(Oh((e5(a)+BigInt(this.privateKey))%lFe,32));return new Yl(ld,o,this.fingerprint,xt(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return $ce(this,r)}static fromExtendedKey(r){const n=ds(HTe(r));he(n.length===82||DM(n.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=n[4],i=xt(n.slice(5,9)),a=parseInt(xt(n.slice(9,13)).substring(2),16),o=xt(n.slice(13,45)),c=n.slice(45,78);switch(xt(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const l=xt(c);return new z6(ld,n5(l),l,i,o,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Yl(ld,new vl(c.slice(1)),i,o,null,a,s,null,null)}he(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,n,s){var a;r==null&&(r=""),n==null&&(n=cC),s==null&&(s=E1.wordlist());const i=un.fromEntropy(Hi(16),r,s);return Ye(a=Yl,Kg,Z2).call(a,i.computeSeed(),i).derivePath(n)}static fromMnemonic(r,n){var s;return n||(n=cC),Ye(s=Yl,Kg,Z2).call(s,r.computeSeed(),r).derivePath(n)}static fromPhrase(r,n,s,i){var o;n==null&&(n=""),s==null&&(s=cC),i==null&&(i=E1.wordlist());const a=un.fromPhrase(r,n,i);return Ye(o=Yl,Kg,Z2).call(o,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var n;return Ye(n=Yl,Kg,Z2).call(n,r,null)}};C4=new WeakSet,UM=function(){const r={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),r},Kg=new WeakSet,Z2=function(r,n){he(Sk(r),"invalid seed","seed","[REDACTED]");const s=wt(r,"seed");he(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=wt(gw("sha512",cFe,s)),a=new vl(xt(i.slice(0,32)));return new Yl(ld,a,"0x00000000",xt(i.slice(32)),"m",0,0,n,null)},Ne(Yl,Kg);let Ta=Yl;class z6 extends TM{constructor(r,n,s,i,a,o,c,l,u){super(n,u);ve(this,"publicKey");ve(this,"fingerprint");ve(this,"parentFingerprint");ve(this,"chainCode");ve(this,"path");ve(this,"index");ve(this,"depth");dm(r,ld,"HDNodeVoidWallet"),Jt(this,{publicKey:s});const f=Tn(uf(ts(s)),0,4);Jt(this,{publicKey:s,fingerprint:f,parentFingerprint:i,chainCode:a,path:o,index:c,depth:l})}connect(r){return new z6(ld,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),DM(tn(["0x0488B21E",iS(this.depth,1),this.parentFingerprint,iS(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const n=ur(r,"index");he(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~qd),n&qd&&(s+="'"));const{IR:i,IL:a}=Mce(n,this.chainCode,this.publicKey,null),o=vl.addPoints(a,this.publicKey,!0),c=n5(o);return new z6(ld,c,o,this.fingerprint,xt(i),s,n,this.depth+1,this.provider)}derivePath(r){return $ce(this,r)}}function y6t(t){const e=ur(t,"index");return he(e>=0&&e<qd,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function v6t(t){const e=ur(t,"index");return he(e>=0&&e<qd,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}const dFe="modulepreload",fFe=function(t){return"/"+t},cW={},Gm=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=fFe(c),c in cW)return;cW[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":dFe,l||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};class hFe{constructor(){this.port=null,this.reader=null,this.writer=null,this.connected=!1,this.readBuffer="",this.responseResolver=null,this.responseTimeout=null,this.currentPin=null,this.cachedSeed=null}isWebSerialSupported(){return typeof navigator<"u"&&"serial"in navigator}async connect(){if(!this.isWebSerialSupported())throw new Error("WebSerial is not supported in this browser. Please use Chrome or Edge.");await this.disconnect();try{return this.port=await navigator.serial.requestPort(),await this.port.open({baudRate:115200}),this.port.readable&&this.port.writable?(this.reader=this.port.readable.getReader(),this.writer=this.port.writable.getWriter(),this.connected=!0,this.startReading(),await this.delay(500),!0):!1}catch(e){throw e.name==="NotFoundError"?new Error("No device selected. Please try again."):e}}delay(e){return new Promise(r=>setTimeout(r,e))}async disconnect(){if(this.connected=!1,this.currentPin=null,this.cachedSeed=null,this.reader){try{await this.reader.cancel(),this.reader.releaseLock()}catch{}this.reader=null}if(this.writer){try{this.writer.releaseLock()}catch{}this.writer=null}if(this.port){try{await this.port.close()}catch{}this.port=null}}isConnected(){return this.connected}async startReading(){const e=new TextDecoder;for(;this.connected&&this.reader;)try{const{value:r,done:n}=await this.reader.read();if(n)break;this.readBuffer+=e.decode(r);let s;for(;(s=this.readBuffer.indexOf(`
`))!==-1;){const i=this.readBuffer.slice(0,s).trim();if(this.readBuffer=this.readBuffer.slice(s+1),i&&i.startsWith("{")&&this.responseResolver)try{const a=JSON.parse(i);this.responseTimeout&&(clearTimeout(this.responseTimeout),this.responseTimeout=null),this.responseResolver(a),this.responseResolver=null}catch{}}}catch(r){this.connected&&console.error("Read error:",r);break}}async sendCommand(e,r){if(!this.writer||!this.connected)throw new Error("Not connected to Pico wallet");const n=JSON.stringify({action:e,...r})+`\r
`,s=new TextEncoder;return await this.writer.write(s.encode(n)),new Promise((i,a)=>{this.responseResolver=i,this.responseTimeout=setTimeout(()=>{this.responseResolver=null,a(new Error("Command timed out"))},1e4)})}async ping(){try{return(await this.sendCommand("ping")).pong===!0}catch{return!1}}async getStatus(){try{const e=await this.sendCommand("status");return{initialized:e.has_wallet===!0,locked:e.unlocked!==!0,has_seed:e.has_wallet===!0,device_name:"Pico Hardware Wallet"}}catch{return null}}async setupWallet(e,r){const n=await this.sendCommand("setup",{pin:e,seed:r});if(n.error)throw new Error(n.error);return n.success?(this.currentPin=e,this.cachedSeed=r,!0):!1}async unlock(e){const r=await this.sendCommand("unlock",{pin:e});if(r.error)throw new Error(r.error);if(r.success){if(this.currentPin=e,!this.cachedSeed){const n=await this.sendCommand("get_seed",{pin:e});n.seed&&(this.cachedSeed=n.seed)}return!0}return!1}async lock(){const e=await this.sendCommand("lock");return this.cachedSeed=null,e.success===!0}getSeedPhrase(){return this.cachedSeed}async getAddress(e=1){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Gm(async()=>{const{ethers:i}=await import("./index-DSrkLLFq.js");return{ethers:i}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed);return r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0").address}async getAddresses(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Gm(async()=>{const{ethers:a}=await import("./index-DSrkLLFq.js");return{ethers:a}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed),s="m/44'/60'/0'/0/0",i=r.HDNodeWallet.fromMnemonic(n,s);return e.map(a=>({chainId:a,address:i.address,path:s}))}async signTransaction(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Gm(async()=>{const{ethers:o}=await import("./index-DSrkLLFq.js");return{ethers:o}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed),s=r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0"),i={to:e.to,value:r.parseEther(e.value),data:e.data||"0x",nonce:e.nonce,gasLimit:BigInt(e.gasLimit),chainId:e.chainId};return e.maxFeePerGas&&e.maxPriorityFeePerGas?(i.maxFeePerGas=BigInt(e.maxFeePerGas),i.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)):e.gasPrice&&(i.gasPrice=BigInt(e.gasPrice)),await s.signTransaction(i)}async signMessage(e){if(!this.cachedSeed)throw new Error("Wallet not unlocked");const{ethers:r}=await Gm(async()=>{const{ethers:i}=await import("./index-DSrkLLFq.js");return{ethers:i}},[]),n=r.Mnemonic.fromPhrase(this.cachedSeed);return await r.HDNodeWallet.fromMnemonic(n,"m/44'/60'/0'/0/0").signMessage(e)}async initWallet(e){var s;if(!this.currentPin)throw new Error("PIN not set. Please unlock first.");let r=e;if(!r){const{ethers:i}=await Gm(async()=>{const{ethers:o}=await import("./index-DSrkLLFq.js");return{ethers:o}},[]);r=(s=i.Wallet.createRandom().mnemonic)==null?void 0:s.phrase}if(!r)throw new Error("Failed to generate mnemonic");return await this.setupWallet(this.currentPin,r)?{mnemonic:r}:null}async wipe(){if(!this.currentPin)throw new Error("PIN required to reset wallet");return(await this.sendCommand("reset",{pin:this.currentPin})).success?(this.cachedSeed=null,!0):!1}async factoryReset(){try{return(await this.sendCommand("factory_reset")).success?(this.cachedSeed=null,this.currentPin=null,!0):!1}catch{return!1}}async saveChains(e){var r,n;if(!this.currentPin)throw new Error("Wallet must be unlocked to save chains");try{const s=await this.sendCommand("save_chains",{pin:this.currentPin,chains:JSON.stringify(e)});return s.error==="unsupported_command"?(console.log("[PiWallet] Device does not support chain storage - using fallback"),!1):s.success===!0}catch(s){if((r=s.message)!=null&&r.includes("unsupported")||(n=s.message)!=null&&n.includes("unknown"))return console.log("[PiWallet] Device does not support chain storage - using fallback"),!1;throw s}}async getChains(){var e,r,n;if(!this.currentPin)throw new Error("Wallet must be unlocked to get chains");try{const s=await this.sendCommand("get_chains",{pin:this.currentPin});return s.error==="unsupported_command"?(console.log("[PiWallet] Device does not support chain storage - using fallback"),null):s.chains?typeof s.chains=="string"?JSON.parse(s.chains):s.chains:[]}catch(s){if((e=s.message)!=null&&e.includes("unsupported")||(r=s.message)!=null&&r.includes("unknown")||(n=s.message)!=null&&n.includes("timed out"))return console.log("[PiWallet] Device does not support chain storage or command timed out - using fallback"),null;throw s}}supportsChainStorage(){return!0}}const ci=new hFe,pFe=Object.freeze(Object.defineProperty({__proto__:null,piWallet:ci},Symbol.toStringTag,{value:"Module"})),mFe="SecureVaultDB",gFe=1;class bFe{constructor(){this.db=null,this.ENABLED_ASSETS_KEY="enabledAssets",this.SOFT_WALLET_SETUP_KEY="softWalletSetup",this.HARD_WALLET_SETUP_KEY="hardWalletSetup",this.SOFT_WALLET_DATA_KEY="softWalletData",this.HARD_WALLET_DATA_KEY="hardWalletData",this.SOFT_WALLET_ENCRYPTED_SEED_KEY="softWalletEncryptedSeed",this.SOFT_WALLET_PIN_HASH_KEY="softWalletPinHash",this.SOFT_WALLET_PIN_SALT_KEY="softWalletPinSalt",this.HARD_WALLET_ENCRYPTED_SEED_KEY="hardWalletEncryptedSeed",this.HARD_WALLET_PIN_HASH_KEY="hardWalletPinHash",this.HARD_WALLET_PIN_SALT_KEY="hardWalletPinSalt",this.HARD_WALLET_CHAIN_PREFS_KEY="hardWalletChainPreferences",this.WALLET_SEEDS_KEY="walletSeeds",this.CUSTOM_TOKENS_KEY="customTokens",this.CUSTOM_CHAINS_KEY="customChains",this.BALANCE_CACHE_KEY="balanceCache",this.CACHE_STALE_THRESHOLD=5*60*1e3,this.CACHE_EXPIRE_THRESHOLD=30*60*1e3}async init(){return new Promise((e,r)=>{const n=indexedDB.open(mFe,gFe);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=s=>{const i=s.target.result;if(i.objectStoreNames.contains("profiles")||i.createObjectStore("profiles",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!i.objectStoreNames.contains("wallets")){const a=i.createObjectStore("wallets",{keyPath:"id"});a.createIndex("address","address",{unique:!1}),a.createIndex("chainId","chainId",{unique:!1})}if(!i.objectStoreNames.contains("transactions")){const a=i.createObjectStore("transactions",{keyPath:"id"});a.createIndex("walletId","walletId",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}i.objectStoreNames.contains("settings")||i.createObjectStore("settings",{keyPath:"key"})}})}getStore(e,r="readonly"){if(!this.db)throw new Error("Database not initialized");return this.db.transaction(e,r).objectStore(e)}async saveProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r(i.result||null)})}async getAllProfiles(){return new Promise((e,r)=>{const s=this.getStore("profiles").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteProfile(e){return new Promise((r,n)=>{const i=this.getStore("profiles","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async saveWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r(i.result||null)})}async getWalletsByAddress(e){return new Promise((r,n)=>{const a=this.getStore("wallets").index("address").getAll(e);a.onerror=()=>n(a.error),a.onsuccess=()=>r(a.result)})}async getAllWallets(){return new Promise((e,r)=>{const s=this.getStore("wallets").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteWallet(e){return new Promise((r,n)=>{const i=this.getStore("wallets","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async saveTransaction(e){return new Promise((r,n)=>{const i=this.getStore("transactions","readwrite").put(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async getTransactionsByWallet(e){return new Promise((r,n)=>{const a=this.getStore("transactions").index("walletId").getAll(e);a.onerror=()=>n(a.error),a.onsuccess=()=>r(a.result)})}async getAllTransactions(){return new Promise((e,r)=>{const s=this.getStore("transactions").getAll();s.onerror=()=>r(s.error),s.onsuccess=()=>e(s.result)})}async deleteTransaction(e){return new Promise((r,n)=>{const i=this.getStore("transactions","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async deleteTransactionsByWallet(e){const r=await this.getTransactionsByWallet(e);for(const n of r)await this.deleteTransaction(n.id)}async saveSetting(e,r){return new Promise((n,s)=>{const a=this.getStore("settings","readwrite").put({key:e,value:r});a.onerror=()=>s(a.error),a.onsuccess=()=>n()})}async getSetting(e){return new Promise((r,n)=>{const i=this.getStore("settings").get(e);i.onerror=()=>n(i.error),i.onsuccess=()=>{var a;return r(((a=i.result)==null?void 0:a.value)||null)}})}async deleteSetting(e){return new Promise((r,n)=>{const i=this.getStore("settings","readwrite").delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>r()})}async clearAll(){const e=["profiles","wallets","transactions","settings"];for(const r of e)await new Promise((n,s)=>{const a=this.getStore(r,"readwrite").clear();a.onerror=()=>s(a.error),a.onsuccess=()=>n()})}async getEnabledAssets(){const e=await this.getSetting(this.ENABLED_ASSETS_KEY);return e&&Array.isArray(e)?new Set(e):new Set}async setEnabledAssets(e){await this.saveSetting(this.ENABLED_ASSETS_KEY,Array.from(e))}async toggleAsset(e,r){const n=await this.getEnabledAssets();return r?n.add(e):n.delete(e),await this.setEnabledAssets(n),n}async isAssetEnabled(e){const r=await this.getEnabledAssets();return r.size===0?!0:r.has(e)}async hasEnabledAssetsPreference(){const e=await this.getSetting(this.ENABLED_ASSETS_KEY);return e!==null&&Array.isArray(e)}async isSoftWalletSetup(){return await this.getSetting(this.SOFT_WALLET_SETUP_KEY)===!0}async isHardWalletSetup(){return await this.getSetting(this.HARD_WALLET_SETUP_KEY)===!0}async setSoftWalletSetup(e){await this.saveSetting(this.SOFT_WALLET_SETUP_KEY,e)}async setHardWalletSetup(e){await this.saveSetting(this.HARD_WALLET_SETUP_KEY,e)}async saveSoftWalletData(e){await this.saveSetting(this.SOFT_WALLET_DATA_KEY,e)}async saveHardWalletData(e){await this.saveSetting(this.HARD_WALLET_DATA_KEY,e)}async getSoftWalletData(){return await this.getSetting(this.SOFT_WALLET_DATA_KEY)||[]}async getHardWalletData(){return await this.getSetting(this.HARD_WALLET_DATA_KEY)||[]}async clearSoftWallet(){await this.deleteSetting(this.SOFT_WALLET_SETUP_KEY),await this.deleteSetting(this.SOFT_WALLET_DATA_KEY)}async clearHardWallet(){await this.deleteSetting(this.HARD_WALLET_SETUP_KEY),await this.deleteSetting(this.HARD_WALLET_DATA_KEY),await this.clearHardWalletEncryptedSeed()}async saveEncryptedSeed(e,r,n){await this.saveSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY,e),await this.saveSetting(this.SOFT_WALLET_PIN_HASH_KEY,r),await this.saveSetting(this.SOFT_WALLET_PIN_SALT_KEY,n)}async getEncryptedSeed(){return await this.getSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY)}async getPinHash(){return await this.getSetting(this.SOFT_WALLET_PIN_HASH_KEY)}async getPinSalt(){return await this.getSetting(this.SOFT_WALLET_PIN_SALT_KEY)}async hasEncryptedSeed(){const e=await this.getEncryptedSeed();return e!==null&&e.length>0}async clearEncryptedSeed(){await this.deleteSetting(this.SOFT_WALLET_ENCRYPTED_SEED_KEY),await this.deleteSetting(this.SOFT_WALLET_PIN_HASH_KEY),await this.deleteSetting(this.SOFT_WALLET_PIN_SALT_KEY)}async saveHardWalletEncryptedSeed(e,r,n){await this.saveSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY,e),await this.saveSetting(this.HARD_WALLET_PIN_HASH_KEY,r),await this.saveSetting(this.HARD_WALLET_PIN_SALT_KEY,n)}async getHardWalletEncryptedSeed(){return await this.getSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY)}async getHardWalletPinHash(){return await this.getSetting(this.HARD_WALLET_PIN_HASH_KEY)}async getHardWalletPinSalt(){return await this.getSetting(this.HARD_WALLET_PIN_SALT_KEY)}async hasHardWalletEncryptedSeed(){const e=await this.getHardWalletEncryptedSeed();return e!==null&&e.length>0}async clearHardWalletEncryptedSeed(){await this.deleteSetting(this.HARD_WALLET_ENCRYPTED_SEED_KEY),await this.deleteSetting(this.HARD_WALLET_PIN_HASH_KEY),await this.deleteSetting(this.HARD_WALLET_PIN_SALT_KEY)}async saveHardWalletChainPreferences(e){await this.saveSetting(this.HARD_WALLET_CHAIN_PREFS_KEY,e)}async getHardWalletChainPreferences(){return await this.getSetting(this.HARD_WALLET_CHAIN_PREFS_KEY)}async clearHardWalletChainPreferences(){await this.deleteSetting(this.HARD_WALLET_CHAIN_PREFS_KEY)}getNextAccountIndex(e){return e.length===0?0:Math.max(...e.map(n=>n.accountIndex??0))+1}async saveWalletSeed(e){const r=await this.getAllWalletSeeds(),n=r.findIndex(s=>s.walletGroupId===e.walletGroupId);n>=0?r[n]=e:r.push(e),await this.saveSetting(this.WALLET_SEEDS_KEY,r)}async getWalletSeed(e){return(await this.getAllWalletSeeds()).find(n=>n.walletGroupId===e)||null}async getAllWalletSeeds(){return await this.getSetting(this.WALLET_SEEDS_KEY)||[]}async deleteWalletSeed(e){const n=(await this.getAllWalletSeeds()).filter(s=>s.walletGroupId!==e);await this.saveSetting(this.WALLET_SEEDS_KEY,n)}async clearAllWalletSeeds(){await this.deleteSetting(this.WALLET_SEEDS_KEY)}async getCustomTokens(){return await this.getSetting(this.CUSTOM_TOKENS_KEY)||[]}async addCustomToken(e){const r=await this.getCustomTokens(),n={...e,id:`custom-${e.walletId}-${e.chainId}-${e.contractAddress.toLowerCase()}`,addedAt:new Date().toISOString()},s=r.findIndex(i=>i.id===n.id);return s>=0?r[s]=n:r.push(n),await this.saveSetting(this.CUSTOM_TOKENS_KEY,r),n}async removeCustomToken(e){const n=(await this.getCustomTokens()).filter(s=>s.id!==e);await this.saveSetting(this.CUSTOM_TOKENS_KEY,n)}async getCustomToken(e){return(await this.getCustomTokens()).find(n=>n.id===e)||null}async clearAllCustomTokens(){await this.deleteSetting(this.CUSTOM_TOKENS_KEY)}async getCustomChains(){return await this.getSetting(this.CUSTOM_CHAINS_KEY)||[]}async addCustomChain(e){const r=await this.getCustomChains(),n={...e,id:`custom-chain-${e.chainId}`,addedAt:new Date().toISOString()},s=r.findIndex(i=>i.id===n.id);return s>=0?r[s]=n:r.push(n),await this.saveSetting(this.CUSTOM_CHAINS_KEY,r),n}async removeCustomChain(e){const n=(await this.getCustomChains()).filter(s=>s.id!==e);await this.saveSetting(this.CUSTOM_CHAINS_KEY,n)}async getCustomChain(e){return(await this.getCustomChains()).find(n=>n.id===e)||null}async clearAllCustomChains(){await this.deleteSetting(this.CUSTOM_CHAINS_KEY)}getBalanceCacheKey(e,r){return`${e.toLowerCase()}-${r}`}async getBalanceCache(){return await this.getSetting(this.BALANCE_CACHE_KEY)||{balances:{},lastFullRefresh:0}}async getCachedBalance(e,r){const n=await this.getBalanceCache(),s=this.getBalanceCacheKey(e,r),i=n.balances[s];if(!i)return null;const o=Date.now()-i.timestamp;return o>this.CACHE_EXPIRE_THRESHOLD?null:{...i,isStale:o>this.CACHE_STALE_THRESHOLD}}async setCachedBalance(e,r,n,s){const i=await this.getBalanceCache(),a=this.getBalanceCacheKey(e,r);i.balances[a]={address:e.toLowerCase(),chainSymbol:r,chainId:n,balance:s,timestamp:Date.now()},await this.saveSetting(this.BALANCE_CACHE_KEY,i)}async setCachedBalances(e){const r=await this.getBalanceCache(),n=Date.now();for(const s of e){const i=this.getBalanceCacheKey(s.address,s.chainSymbol);r.balances[i]={address:s.address.toLowerCase(),chainSymbol:s.chainSymbol,chainId:s.chainId,balance:s.balance,timestamp:n}}r.lastFullRefresh=n,await this.saveSetting(this.BALANCE_CACHE_KEY,r)}async getAllCachedBalances(){const e=await this.getBalanceCache(),r=Date.now();return Object.values(e.balances).map(n=>({...n,isStale:r-n.timestamp>this.CACHE_STALE_THRESHOLD})).filter(n=>r-n.timestamp<=this.CACHE_EXPIRE_THRESHOLD)}async getLastFullRefresh(){return(await this.getBalanceCache()).lastFullRefresh}async clearBalanceCache(){await this.deleteSetting(this.BALANCE_CACHE_KEY)}isCacheStale(e){return Date.now()-e>this.CACHE_STALE_THRESHOLD}getCacheAge(e){const r=Date.now()-e,n=Math.floor(r/6e4);if(n<1)return"just now";if(n===1)return"1 min ago";if(n<60)return`${n} mins ago`;const s=Math.floor(n/60);return s===1?"1 hour ago":`${s} hours ago`}}const At=new bFe;/*! Capacitor: https://capacitorjs.com/ - MIT License */const yFe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(i,a)=>{r.platforms.set(i,a)},s=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=s,r},vFe=t=>t.CapacitorPlatforms=yFe(t),Oce=vFe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Oce.addPlatform;Oce.setPlatform;var Mx;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Mx||(Mx={}));class lC extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const xFe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},wFe=t=>{var e,r,n,s,i;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},c=o.Plugins=o.Plugins||{},l=t.CapacitorPlatforms,u=()=>a!==null?a.name:xFe(t),f=((e=l==null?void 0:l.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>f()!=="web",m=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||h,y=j=>{const T=O.get(j);return!!(T!=null&&T.platforms.has(f())||C(j))},x=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||y,k=j=>{var T;return(T=o.PluginHeaders)===null||T===void 0?void 0:T.find(R=>R.name===j)},C=((s=l==null?void 0:l.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||k,I=j=>t.console.error(j),_=(j,T,R)=>Promise.reject(`${R} does not have an implementation of "${T}".`),O=new Map,F=(j,T={})=>{const R=O.get(j);if(R)return console.warn(`Capacitor plugin "${j}" already registered. Cannot register plugins twice.`),R.proxy;const q=f(),$=C(j);let b;const w=async()=>(!b&&q in T?b=typeof T[q]=="function"?b=await T[q]():b=T[q]:a!==null&&!b&&"web"in T&&(b=typeof T.web=="function"?b=await T.web():b=T.web),b),p=(v,E)=>{var M,L;if($){const Q=$==null?void 0:$.methods.find(U=>E===U.name);if(Q)return Q.rtype==="promise"?U=>o.nativePromise(j,E.toString(),U):(U,J)=>o.nativeCallback(j,E.toString(),U,J);if(v)return(M=v[E])===null||M===void 0?void 0:M.bind(v)}else{if(v)return(L=v[E])===null||L===void 0?void 0:L.bind(v);throw new lC(`"${j}" plugin is not implemented on ${q}`,Mx.Unimplemented)}},g=v=>{let E;const M=(...L)=>{const Q=w().then(U=>{const J=p(U,v);if(J){const Z=J(...L);return E=Z==null?void 0:Z.remove,Z}else throw new lC(`"${j}.${v}()" is not implemented on ${q}`,Mx.Unimplemented)});return v==="addListener"&&(Q.remove=async()=>E()),Q};return M.toString=()=>`${v.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:v,writable:!1,configurable:!1}),M},S=g("addListener"),N=g("removeListener"),P=(v,E)=>{const M=S({eventName:v},E),L=async()=>{const U=await M;N({eventName:v,callbackId:U},E)},Q=new Promise(U=>M.then(()=>U({remove:L})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},Q},A=new Proxy({},{get(v,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return $?P:S;case"removeListener":return N;default:return g(E)}}});return c[j]=A,O.set(j,{name:j,proxy:A,platforms:new Set([...Object.keys(T),...$?[q]:[]])}),A},D=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||F;return o.convertFileSrc||(o.convertFileSrc=j=>j),o.getPlatform=f,o.handleError=I,o.isNativePlatform=m,o.isPluginAvailable=x,o.pluginMethodNoop=_,o.registerPlugin=D,o.Exception=lC,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},AFe=t=>t.Capacitor=wFe(t),Mu=AFe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),zk=Mu.registerPlugin;Mu.Plugins;class Bce{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Mu.Exception(e,Mx.Unimplemented)}unavailable(e="not available"){return new Mu.Exception(e,Mx.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const lW=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),uW=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class SFe extends Bce{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=uW(s).trim(),i=uW(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=lW(e.key),n=lW(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}zk("CapacitorCookies",{web:()=>new SFe});const PFe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),kFe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},IFe=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,a]=s;let o,c;return Array.isArray(a)?(c="",a.forEach(l=>{o=e?encodeURIComponent(l):l,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${i}=${o}`),`${n}&${c}`},"").substr(1):null,NFe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=kFe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class EFe extends Bce{async request(e){const r=NFe(e,e.webFetchExtra),n=IFe(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let c,l;switch(o){case"arraybuffer":case"blob":l=await i.blob(),c=await PFe(l);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}const CFe=zk("CapacitorHttp",{web:()=>new EFe}),l0=zk("UsbSerial");function cy(){return Mu.isNativePlatform()&&Mu.getPlatform()==="android"}class _Fe{constructor(){this.connected=!1,this.readBuffer="",this.responseResolver=null,this.responseTimeout=null,this.dataListener=null,this.disconnectListener=null,this.attachListener=null,this.cachedSeed=null,this.currentPin=null,this.onDeviceAttachedCallback=null,this.onDeviceDetachedCallback=null}async isAvailable(){if(!cy())return!1;try{const e=await l0.getDevices();return console.log("[MobileUsbSerial] getDevices result:",e),e.success&&e.count>0}catch(e){return console.log("[MobileUsbSerial] getDevices error:",e),!1}}async getDeviceList(){if(!cy())return[];try{const e=await l0.getDevices();return e.success&&e.devices?Object.values(e.devices):[]}catch{return[]}}onDeviceAttached(e){this.onDeviceAttachedCallback=e}onDeviceDetached(e){this.onDeviceDetachedCallback=e}async startDeviceMonitoring(){if(cy())try{this.attachListener=await l0.addListener("usbAttached",e=>{console.log("[MobileUsbSerial] Device attached:",e.device),this.onDeviceAttachedCallback&&this.onDeviceAttachedCallback(e.device)}),this.disconnectListener=await l0.addListener("usbDisconnected",()=>{console.log("[MobileUsbSerial] Device detached"),this.connected=!1,this.cachedSeed=null,this.onDeviceDetachedCallback&&this.onDeviceDetachedCallback()})}catch(e){console.log("[MobileUsbSerial] Failed to start device monitoring:",e)}}stopDeviceMonitoring(){this.attachListener&&(this.attachListener.remove(),this.attachListener=null),this.disconnectListener&&(this.disconnectListener.remove(),this.disconnectListener=null)}async connect(){if(!cy())throw new Error("Mobile USB serial not available on this platform");try{const e=await l0.connect({vendorId:11914});if(!e.success)throw new Error(e.error||"Failed to connect");return this.connected=!0,this.dataListener=await l0.addListener("usbData",r=>{this.handleData(r.data)}),!0}catch(e){throw this.connected=!1,e}}handleData(e){this.readBuffer+=e;let r;for(;(r=this.readBuffer.indexOf(`
`))!==-1;){const n=this.readBuffer.slice(0,r).trim();if(this.readBuffer=this.readBuffer.slice(r+1),n&&n.startsWith("{")&&this.responseResolver)try{const s=JSON.parse(n);this.responseTimeout&&(clearTimeout(this.responseTimeout),this.responseTimeout=null),this.responseResolver(s),this.responseResolver=null}catch{}}}async disconnect(){this.dataListener&&(this.dataListener.remove(),this.dataListener=null);try{await l0.disconnect()}catch{}this.connected=!1,this.cachedSeed=null,this.readBuffer=""}async sendCommand(e,r){if(!this.connected)throw new Error("Not connected to Pico wallet");const n=JSON.stringify({action:e,...r})+`\r
`,s=await l0.write({data:n});if(!s.success)throw new Error(s.error||"Write failed");return new Promise((i,a)=>{this.responseResolver=i,this.responseTimeout=setTimeout(()=>{this.responseResolver=null,a(new Error("Command timed out"))},1e4)})}async ping(){try{return(await this.sendCommand("ping")).pong===!0}catch{return!1}}async getStatus(){try{const e=await this.sendCommand("status");return{initialized:e.has_wallet===!0,locked:e.unlocked!==!0,has_seed:e.has_wallet===!0,device_name:"Pico Hardware Wallet (USB)"}}catch{return null}}async unlock(e){const r=await this.sendCommand("unlock",{pin:e});if(r.error)throw new Error(r.error);if(r.success===!0||r.unlocked===!0){if(this.currentPin=e,!this.cachedSeed)try{const n=await this.sendCommand("get_seed",{pin:e});n.seed&&(this.cachedSeed=n.seed)}catch(n){console.warn("[MobileUsbSerial] Failed to cache seed:",n)}return!0}return!1}getSeedPhrase(){return this.cachedSeed}async ensureSeedCached(){if(this.cachedSeed)return this.cachedSeed;if(!this.currentPin)return console.warn("[MobileUsbSerial] Cannot fetch seed: no PIN available (wallet not unlocked?)"),null;try{const e=await this.sendCommand("get_seed",{pin:this.currentPin});if(e.seed)return this.cachedSeed=e.seed,this.cachedSeed}catch(e){console.warn("[MobileUsbSerial] Failed to retrieve seed:",e)}return null}async setupWallet(e,r){const n=await this.sendCommand("setup",{pin:e,seed:r});if(n.error)throw new Error(n.error);return n.success===!0}async getAddress(e){try{const r=await this.sendCommand("get_address",{chain_id:e});if(r.error)throw new Error(r.error);return r.address||null}catch{return null}}async getAddresses(e){try{const r=await this.sendCommand("get_addresses",{chain_ids:e});if(r.error)throw new Error(r.error);return r.addresses||[]}catch{return[]}}async signTransaction(e){try{const r=await this.sendCommand("sign_transaction",{tx:e});if(r.error)throw new Error(r.error);return r.signed_tx||null}catch{return null}}async signMessage(e){try{const r=await this.sendCommand("sign_message",{message:e});if(r.error)throw new Error(r.error);return r.signature||null}catch{return null}}async lock(){try{const e=await this.sendCommand("lock");return this.cachedSeed=null,this.currentPin=null,e.success===!0||e.locked===!0}catch{return this.cachedSeed=null,this.currentPin=null,!1}}async saveChains(e){try{return(await this.sendCommand("save_chains",{chains:e})).success===!0}catch{return!1}}async getChains(){try{return(await this.sendCommand("get_chains")).chains||[]}catch{return[]}}isConnectedSync(){return this.connected}}const Is=new _Fe;var df={},Md={},In={},Ja={},Aw={},Lk={};Object.defineProperty(Lk,"__esModule",{value:!0});Lk.crypto=void 0;Lk.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=s,t.ahash=i,t.aexists=a,t.aoutput=o,t.u8=c,t.u32=l,t.clean=u,t.createView=f,t.rotr=h,t.rotl=m,t.byteSwap=y,t.byteSwap32=x,t.bytesToHex=I,t.hexToBytes=F,t.asyncLoop=j,t.utf8ToBytes=T,t.bytesToUtf8=R,t.toBytes=q,t.kdfInputToBytes=$,t.concatBytes=b,t.checkOpts=w,t.createHasher=g,t.createOptHasher=S,t.createXOFer=N,t.randomBytes=P;const e=Lk;function r(A){return A instanceof Uint8Array||ArrayBuffer.isView(A)&&A.constructor.name==="Uint8Array"}function n(A){if(!Number.isSafeInteger(A)||A<0)throw new Error("positive integer expected, got "+A)}function s(A,...v){if(!r(A))throw new Error("Uint8Array expected");if(v.length>0&&!v.includes(A.length))throw new Error("Uint8Array expected of length "+v+", got length="+A.length)}function i(A){if(typeof A!="function"||typeof A.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(A.outputLen),n(A.blockLen)}function a(A,v=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(v&&A.finished)throw new Error("Hash#digest() has already been called")}function o(A,v){s(A);const E=v.outputLen;if(A.length<E)throw new Error("digestInto() expects output buffer of length at least "+E)}function c(A){return new Uint8Array(A.buffer,A.byteOffset,A.byteLength)}function l(A){return new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4))}function u(...A){for(let v=0;v<A.length;v++)A[v].fill(0)}function f(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}function h(A,v){return A<<32-v|A>>>v}function m(A,v){return A<<v|A>>>32-v>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function y(A){return A<<24&4278190080|A<<8&16711680|A>>>8&65280|A>>>24&255}t.swap8IfBE=t.isLE?A=>A:A=>y(A),t.byteSwapIfBE=t.swap8IfBE;function x(A){for(let v=0;v<A.length;v++)A[v]=y(A[v]);return A}t.swap32IfBE=t.isLE?A=>A:x;const k=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",C=Array.from({length:256},(A,v)=>v.toString(16).padStart(2,"0"));function I(A){if(s(A),k)return A.toHex();let v="";for(let E=0;E<A.length;E++)v+=C[A[E]];return v}const _={_0:48,_9:57,A:65,F:70,a:97,f:102};function O(A){if(A>=_._0&&A<=_._9)return A-_._0;if(A>=_.A&&A<=_.F)return A-(_.A-10);if(A>=_.a&&A<=_.f)return A-(_.a-10)}function F(A){if(typeof A!="string")throw new Error("hex string expected, got "+typeof A);if(k)return Uint8Array.fromHex(A);const v=A.length,E=v/2;if(v%2)throw new Error("hex string expected, got unpadded hex of length "+v);const M=new Uint8Array(E);for(let L=0,Q=0;L<E;L++,Q+=2){const U=O(A.charCodeAt(Q)),J=O(A.charCodeAt(Q+1));if(U===void 0||J===void 0){const Z=A[Q]+A[Q+1];throw new Error('hex string expected, got non-hex character "'+Z+'" at index '+Q)}M[L]=U*16+J}return M}const D=async()=>{};t.nextTick=D;async function j(A,v,E){let M=Date.now();for(let L=0;L<A;L++){E(L);const Q=Date.now()-M;Q>=0&&Q<v||(await(0,t.nextTick)(),M+=Q)}}function T(A){if(typeof A!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(A))}function R(A){return new TextDecoder().decode(A)}function q(A){return typeof A=="string"&&(A=T(A)),s(A),A}function $(A){return typeof A=="string"&&(A=T(A)),s(A),A}function b(...A){let v=0;for(let M=0;M<A.length;M++){const L=A[M];s(L),v+=L.length}const E=new Uint8Array(v);for(let M=0,L=0;M<A.length;M++){const Q=A[M];E.set(Q,L),L+=Q.length}return E}function w(A,v){if(v!==void 0&&{}.toString.call(v)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(A,v)}class p{}t.Hash=p;function g(A){const v=M=>A().update(q(M)).digest(),E=A();return v.outputLen=E.outputLen,v.blockLen=E.blockLen,v.create=()=>A(),v}function S(A){const v=(M,L)=>A(L).update(q(M)).digest(),E=A({});return v.outputLen=E.outputLen,v.blockLen=E.blockLen,v.create=M=>A(M),v}function N(A){const v=(M,L)=>A(L).update(q(M)).digest(),E=A({});return v.outputLen=E.outputLen,v.blockLen=E.blockLen,v.create=M=>A(M),v}t.wrapConstructor=g,t.wrapConstructorWithOpts=S,t.wrapXOFConstructorWithOpts=N;function P(A=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(A));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(A));throw new Error("crypto.getRandomValues must be defined")}})(Aw);Object.defineProperty(Ja,"__esModule",{value:!0});Ja.SHA512_IV=Ja.SHA384_IV=Ja.SHA224_IV=Ja.SHA256_IV=Ja.HashMD=void 0;Ja.setBigUint64=Fce;Ja.Chi=TFe;Ja.Maj=jFe;const Wu=Aw;function Fce(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}function TFe(t,e,r){return t&e^~t&r}function jFe(t,e,r){return t&e^t&r^e&r}class MFe extends Wu.Hash{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=(0,Wu.createView)(this.buffer)}update(e){(0,Wu.aexists)(this),e=(0,Wu.toBytes)(e),(0,Wu.abytes)(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=(0,Wu.createView)(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Wu.aexists)(this),(0,Wu.aoutput)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,(0,Wu.clean)(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;Fce(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=(0,Wu.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}Ja.HashMD=MFe;Ja.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ja.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ja.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ja.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.toBig=mr.shrSL=mr.shrSH=mr.rotrSL=mr.rotrSH=mr.rotrBL=mr.rotrBH=mr.rotr32L=mr.rotr32H=mr.rotlSL=mr.rotlSH=mr.rotlBL=mr.rotlBH=mr.add5L=mr.add5H=mr.add4L=mr.add4H=mr.add3L=mr.add3H=void 0;mr.add=Yce;mr.fromBig=bR;mr.split=Rce;const t9=BigInt(2**32-1),zM=BigInt(32);function bR(t,e=!1){return e?{h:Number(t&t9),l:Number(t>>zM&t9)}:{h:Number(t>>zM&t9)|0,l:Number(t&t9)|0}}function Rce(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:a,l:o}=bR(t[i],e);[n[i],s[i]]=[a,o]}return[n,s]}const Dce=(t,e)=>BigInt(t>>>0)<<zM|BigInt(e>>>0);mr.toBig=Dce;const Uce=(t,e,r)=>t>>>r;mr.shrSH=Uce;const zce=(t,e,r)=>t<<32-r|e>>>r;mr.shrSL=zce;const Lce=(t,e,r)=>t>>>r|e<<32-r;mr.rotrSH=Lce;const Vce=(t,e,r)=>t<<32-r|e>>>r;mr.rotrSL=Vce;const Hce=(t,e,r)=>t<<64-r|e>>>r-32;mr.rotrBH=Hce;const qce=(t,e,r)=>t>>>r-32|e<<64-r;mr.rotrBL=qce;const Wce=(t,e)=>e;mr.rotr32H=Wce;const Kce=(t,e)=>t;mr.rotr32L=Kce;const Xce=(t,e,r)=>t<<r|e>>>32-r;mr.rotlSH=Xce;const Zce=(t,e,r)=>e<<r|t>>>32-r;mr.rotlSL=Zce;const Jce=(t,e,r)=>e<<r-32|t>>>64-r;mr.rotlBH=Jce;const Qce=(t,e,r)=>t<<r-32|e>>>64-r;mr.rotlBL=Qce;function Yce(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const Gce=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);mr.add3L=Gce;const ele=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;mr.add3H=ele;const tle=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);mr.add4L=tle;const rle=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;mr.add4H=rle;const nle=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);mr.add5L=nle;const sle=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;mr.add5H=sle;const $Fe={fromBig:bR,split:Rce,toBig:Dce,shrSH:Uce,shrSL:zce,rotrSH:Lce,rotrSL:Vce,rotrBH:Hce,rotrBL:qce,rotr32H:Wce,rotr32L:Kce,rotlSH:Xce,rotlSL:Zce,rotlBH:Jce,rotlBL:Qce,add:Yce,add3L:Gce,add3H:ele,add4L:tle,add4H:rle,add5H:sle,add5L:nle};mr.default=$Fe;Object.defineProperty(In,"__esModule",{value:!0});In.sha512_224=In.sha512_256=In.sha384=In.sha512=In.sha224=In.sha256=In.SHA512_256=In.SHA512_224=In.SHA384=In.SHA512=In.SHA224=In.SHA256=void 0;const rr=Ja,Nr=mr,Fs=Aw,OFe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u0=new Uint32Array(64);class yR extends rr.HashMD{constructor(e=32){super(64,e,8,!1),this.A=rr.SHA256_IV[0]|0,this.B=rr.SHA256_IV[1]|0,this.C=rr.SHA256_IV[2]|0,this.D=rr.SHA256_IV[3]|0,this.E=rr.SHA256_IV[4]|0,this.F=rr.SHA256_IV[5]|0,this.G=rr.SHA256_IV[6]|0,this.H=rr.SHA256_IV[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)u0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=u0[f-15],m=u0[f-2],y=(0,Fs.rotr)(h,7)^(0,Fs.rotr)(h,18)^h>>>3,x=(0,Fs.rotr)(m,17)^(0,Fs.rotr)(m,19)^m>>>10;u0[f]=x+u0[f-7]+y+u0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=(0,Fs.rotr)(o,6)^(0,Fs.rotr)(o,11)^(0,Fs.rotr)(o,25),m=u+h+(0,rr.Chi)(o,c,l)+OFe[f]+u0[f]|0,x=((0,Fs.rotr)(n,2)^(0,Fs.rotr)(n,13)^(0,Fs.rotr)(n,22))+(0,rr.Maj)(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+x|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){(0,Fs.clean)(u0)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,Fs.clean)(this.buffer)}}In.SHA256=yR;class ile extends yR{constructor(){super(28),this.A=rr.SHA224_IV[0]|0,this.B=rr.SHA224_IV[1]|0,this.C=rr.SHA224_IV[2]|0,this.D=rr.SHA224_IV[3]|0,this.E=rr.SHA224_IV[4]|0,this.F=rr.SHA224_IV[5]|0,this.G=rr.SHA224_IV[6]|0,this.H=rr.SHA224_IV[7]|0}}In.SHA224=ile;const ale=Nr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),BFe=ale[0],FFe=ale[1],d0=new Uint32Array(80),f0=new Uint32Array(80);class a5 extends rr.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=rr.SHA512_IV[0]|0,this.Al=rr.SHA512_IV[1]|0,this.Bh=rr.SHA512_IV[2]|0,this.Bl=rr.SHA512_IV[3]|0,this.Ch=rr.SHA512_IV[4]|0,this.Cl=rr.SHA512_IV[5]|0,this.Dh=rr.SHA512_IV[6]|0,this.Dl=rr.SHA512_IV[7]|0,this.Eh=rr.SHA512_IV[8]|0,this.El=rr.SHA512_IV[9]|0,this.Fh=rr.SHA512_IV[10]|0,this.Fl=rr.SHA512_IV[11]|0,this.Gh=rr.SHA512_IV[12]|0,this.Gl=rr.SHA512_IV[13]|0,this.Hh=rr.SHA512_IV[14]|0,this.Hl=rr.SHA512_IV[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:y,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=y|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)d0[_]=e.getUint32(r),f0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const O=d0[_-15]|0,F=f0[_-15]|0,D=Nr.rotrSH(O,F,1)^Nr.rotrSH(O,F,8)^Nr.shrSH(O,F,7),j=Nr.rotrSL(O,F,1)^Nr.rotrSL(O,F,8)^Nr.shrSL(O,F,7),T=d0[_-2]|0,R=f0[_-2]|0,q=Nr.rotrSH(T,R,19)^Nr.rotrBH(T,R,61)^Nr.shrSH(T,R,6),$=Nr.rotrSL(T,R,19)^Nr.rotrBL(T,R,61)^Nr.shrSL(T,R,6),b=Nr.add4L(j,$,f0[_-7],f0[_-16]),w=Nr.add4H(b,D,q,d0[_-7],d0[_-16]);d0[_]=w|0,f0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:y,Gh:x,Gl:k,Hh:C,Hl:I}=this;for(let _=0;_<80;_++){const O=Nr.rotrSH(f,h,14)^Nr.rotrSH(f,h,18)^Nr.rotrBH(f,h,41),F=Nr.rotrSL(f,h,14)^Nr.rotrSL(f,h,18)^Nr.rotrBL(f,h,41),D=f&m^~f&x,j=h&y^~h&k,T=Nr.add5L(I,F,j,FFe[_],f0[_]),R=Nr.add5H(T,C,O,D,BFe[_],d0[_]),q=T|0,$=Nr.rotrSH(n,s,28)^Nr.rotrBH(n,s,34)^Nr.rotrBH(n,s,39),b=Nr.rotrSL(n,s,28)^Nr.rotrBL(n,s,34)^Nr.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;C=x|0,I=k|0,x=m|0,k=y|0,m=f|0,y=h|0,{h:f,l:h}=Nr.add(l|0,u|0,R|0,q|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Nr.add3L(q,b,p);n=Nr.add3H(g,R,$,w),s=g|0}({h:n,l:s}=Nr.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Nr.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Nr.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Nr.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Nr.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:y}=Nr.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:x,l:k}=Nr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:C,l:I}=Nr.add(this.Hh|0,this.Hl|0,C|0,I|0),this.set(n,s,i,a,o,c,l,u,f,h,m,y,x,k,C,I)}roundClean(){(0,Fs.clean)(d0,f0)}destroy(){(0,Fs.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}In.SHA512=a5;class ole extends a5{constructor(){super(48),this.Ah=rr.SHA384_IV[0]|0,this.Al=rr.SHA384_IV[1]|0,this.Bh=rr.SHA384_IV[2]|0,this.Bl=rr.SHA384_IV[3]|0,this.Ch=rr.SHA384_IV[4]|0,this.Cl=rr.SHA384_IV[5]|0,this.Dh=rr.SHA384_IV[6]|0,this.Dl=rr.SHA384_IV[7]|0,this.Eh=rr.SHA384_IV[8]|0,this.El=rr.SHA384_IV[9]|0,this.Fh=rr.SHA384_IV[10]|0,this.Fl=rr.SHA384_IV[11]|0,this.Gh=rr.SHA384_IV[12]|0,this.Gl=rr.SHA384_IV[13]|0,this.Hh=rr.SHA384_IV[14]|0,this.Hl=rr.SHA384_IV[15]|0}}In.SHA384=ole;const da=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),fa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class cle extends a5{constructor(){super(28),this.Ah=da[0]|0,this.Al=da[1]|0,this.Bh=da[2]|0,this.Bl=da[3]|0,this.Ch=da[4]|0,this.Cl=da[5]|0,this.Dh=da[6]|0,this.Dl=da[7]|0,this.Eh=da[8]|0,this.El=da[9]|0,this.Fh=da[10]|0,this.Fl=da[11]|0,this.Gh=da[12]|0,this.Gl=da[13]|0,this.Hh=da[14]|0,this.Hl=da[15]|0}}In.SHA512_224=cle;class lle extends a5{constructor(){super(32),this.Ah=fa[0]|0,this.Al=fa[1]|0,this.Bh=fa[2]|0,this.Bl=fa[3]|0,this.Ch=fa[4]|0,this.Cl=fa[5]|0,this.Dh=fa[6]|0,this.Dl=fa[7]|0,this.Eh=fa[8]|0,this.El=fa[9]|0,this.Fh=fa[10]|0,this.Fl=fa[11]|0,this.Gh=fa[12]|0,this.Gl=fa[13]|0,this.Hh=fa[14]|0,this.Hl=fa[15]|0}}In.SHA512_256=lle;In.sha256=(0,Fs.createHasher)(()=>new yR);In.sha224=(0,Fs.createHasher)(()=>new ile);In.sha512=(0,Fs.createHasher)(()=>new a5);In.sha384=(0,Fs.createHasher)(()=>new ole);In.sha512_256=(0,Fs.createHasher)(()=>new lle);In.sha512_224=(0,Fs.createHasher)(()=>new cle);Object.defineProperty(Md,"__esModule",{value:!0});Md.sha224=Md.SHA224=Md.sha256=Md.SHA256=void 0;const Vk=In;Md.SHA256=Vk.SHA256;Md.sha256=Vk.sha256;Md.SHA224=Vk.SHA224;Md.sha224=Vk.sha224;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.sha512_256=di.SHA512_256=di.sha512_224=di.SHA512_224=di.sha384=di.SHA384=di.sha512=di.SHA512=void 0;const hm=In;di.SHA512=hm.SHA512;di.sha512=hm.sha512;di.SHA384=hm.SHA384;di.sha384=hm.sha384;di.SHA512_224=hm.SHA512_224;di.sha512_224=hm.sha512_224;di.SHA512_256=hm.SHA512_256;di.sha512_256=hm.sha512_256;var Hk={},ule={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Aw;class r extends e.Hash{constructor(i,a){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(i);const o=(0,e.toBytes)(a);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(o.length>c?i.create().update(o).digest():o);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=i.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),(0,e.clean)(l)}update(i){return(0,e.aexists)(this),this.iHash.update(i),this}digestInto(i){(0,e.aexists)(this),(0,e.abytes)(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:o,finished:c,destroyed:l,blockLen:u,outputLen:f}=this;return i=i,i.finished=c,i.destroyed=l,i.blockLen=u,i.outputLen=f,i.oHash=a._cloneInto(i.oHash),i.iHash=o._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r;const n=(s,i,a)=>new r(s,i).update(a).digest();t.hmac=n,t.hmac.create=(s,i)=>new r(s,i)})(ule);Object.defineProperty(Hk,"__esModule",{value:!0});Hk.pbkdf2=DFe;Hk.pbkdf2Async=UFe;const RFe=ule,uu=Aw;function dle(t,e,r,n){(0,uu.ahash)(t);const s=(0,uu.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:o}=s;if((0,uu.anumber)(i),(0,uu.anumber)(a),(0,uu.anumber)(o),i<1)throw new Error("iterations (c) should be >= 1");const c=(0,uu.kdfInputToBytes)(e),l=(0,uu.kdfInputToBytes)(r),u=new Uint8Array(a),f=RFe.hmac.create(t,c),h=f._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:o,DK:u,PRF:f,PRFSalt:h}}function fle(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),(0,uu.clean)(s),r}function DFe(t,e,r,n){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:c}=dle(t,e,r,n);let l;const u=new Uint8Array(4),f=(0,uu.createView)(u),h=new Uint8Array(o.outputLen);for(let m=1,y=0;y<i;m++,y+=o.outputLen){const x=a.subarray(y,y+o.outputLen);f.setInt32(0,m,!1),(l=c._cloneInto(l)).update(u).digestInto(h),x.set(h.subarray(0,x.length));for(let k=1;k<s;k++){o._cloneInto(l).update(h).digestInto(h);for(let C=0;C<x.length;C++)x[C]^=h[C]}}return fle(o,c,a,l,h)}async function UFe(t,e,r,n){const{c:s,dkLen:i,asyncTick:a,DK:o,PRF:c,PRFSalt:l}=dle(t,e,r,n);let u;const f=new Uint8Array(4),h=(0,uu.createView)(f),m=new Uint8Array(c.outputLen);for(let y=1,x=0;x<i;y++,x+=c.outputLen){const k=o.subarray(x,x+c.outputLen);h.setInt32(0,y,!1),(u=l._cloneInto(u)).update(f).digestInto(m),k.set(m.subarray(0,k.length)),await(0,uu.asyncLoop)(s-1,a,()=>{c._cloneInto(u).update(m).digestInto(m);for(let C=0;C<k.length;C++)k[C]^=m[C]})}return fle(c,l,o,u,m)}var lo={};const zFe=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],LFe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],VFe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],HFe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qFe=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"],WFe=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],KFe=["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],XFe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ZFe=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],JFe=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(lo,"__esModule",{value:!0});const yc={};lo.wordlists=yc;let hs;var ff=lo._default=hs;try{ff=lo._default=hs=zFe,yc.czech=hs}catch{}try{ff=lo._default=hs=LFe,yc.chinese_simplified=hs}catch{}try{ff=lo._default=hs=VFe,yc.chinese_traditional=hs}catch{}try{ff=lo._default=hs=HFe,yc.korean=hs}catch{}try{ff=lo._default=hs=qFe,yc.french=hs}catch{}try{ff=lo._default=hs=WFe,yc.italian=hs}catch{}try{ff=lo._default=hs=KFe,yc.spanish=hs}catch{}try{ff=lo._default=hs=XFe,yc.japanese=hs,yc.JA=hs}catch{}try{ff=lo._default=hs=ZFe,yc.portuguese=hs}catch{}try{ff=lo._default=hs=JFe,yc.english=hs,yc.EN=hs}catch{}Object.defineProperty(df,"__esModule",{value:!0});const QFe=Md,hle=di,ple=Hk,YFe=Aw,aS=lo;let L6=aS._default;const dW="Invalid mnemonic",e1="Invalid entropy",GFe="Invalid mnemonic checksum",mle=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function V6(t){return(t||"").normalize("NFKD")}function gle(t,e,r){for(;t.length<r;)t=e+t;return t}function ble(t){return parseInt(t,2)}function yle(t){return t.map(e=>gle(e.toString(2),"0",8)).join("")}function vle(t){const r=t.length*8/32,n=QFe.sha256(Uint8Array.from(t));return yle(Array.from(n)).slice(0,r)}function xle(t){return"mnemonic"+(t||"")}function eRe(t,e){const r=Uint8Array.from(Buffer.from(V6(t),"utf8")),n=Uint8Array.from(Buffer.from(xle(V6(e)),"utf8")),s=ple.pbkdf2(hle.sha512,r,n,{c:2048,dkLen:64});return Buffer.from(s)}var tRe=df.mnemonicToSeedSync=eRe;function rRe(t,e){const r=Uint8Array.from(Buffer.from(V6(t),"utf8")),n=Uint8Array.from(Buffer.from(xle(V6(e)),"utf8"));return ple.pbkdf2Async(hle.sha512,r,n,{c:2048,dkLen:64}).then(s=>Buffer.from(s))}df.mnemonicToSeed=rRe;function wle(t,e){if(e=e||L6,!e)throw new Error(mle);const r=V6(t).split(" ");if(r.length%3!==0)throw new Error(dW);const n=r.map(u=>{const f=e.indexOf(u);if(f===-1)throw new Error(dW);return gle(f.toString(2),"0",11)}).join(""),s=Math.floor(n.length/33)*32,i=n.slice(0,s),a=n.slice(s),o=i.match(/(.{1,8})/g).map(ble);if(o.length<16)throw new Error(e1);if(o.length>32)throw new Error(e1);if(o.length%4!==0)throw new Error(e1);const c=Buffer.from(o);if(vle(c)!==a)throw new Error(GFe);return c.toString("hex")}df.mnemonicToEntropy=wle;function Ale(t,e){if(Buffer.isBuffer(t)||(t=Buffer.from(t,"hex")),e=e||L6,!e)throw new Error(mle);if(t.length<16)throw new TypeError(e1);if(t.length>32)throw new TypeError(e1);if(t.length%4!==0)throw new TypeError(e1);const r=yle(Array.from(t)),n=vle(t),a=(r+n).match(/(.{1,11})/g).map(o=>{const c=ble(o);return e[c]});return e[0]===""?a.join(""):a.join(" ")}df.entropyToMnemonic=Ale;function nRe(t,e,r){if(t=t||128,t%32!==0)throw new TypeError(e1);return e=e||(n=>Buffer.from(YFe.randomBytes(n))),Ale(e(t/8),r)}df.generateMnemonic=nRe;function sRe(t,e){try{wle(t,e)}catch{return!1}return!0}df.validateMnemonic=sRe;function iRe(t){const e=aS.wordlists[t];if(e)L6=e;else throw new Error('Could not find wordlist for language "'+t+'"')}df.setDefaultWordlist=iRe;function aRe(){if(!L6)throw new Error("No Default Wordlist set");return Object.keys(aS.wordlists).filter(t=>t==="JA"||t==="EN"?!1:aS.wordlists[t].every((e,r)=>e===L6[r]))[0]}df.getDefaultWordlist=aRe;var oRe=lo;df.wordlists=oRe.wordlists;function cRe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,h=0;const m=l.length;for(;h!==m&&l[h]===0;)h++,u++;const y=(m-h)*i+1>>>0,x=new Uint8Array(y);for(;h!==m;){let I=l[h],_=0;for(let O=y-1;(I!==0||_<f)&&O!==-1;O--,_++)I+=256*x[O]>>>0,x[O]=I%r>>>0,I=I/r>>>0;if(I!==0)throw new Error("Non-zero carry");f=_,h++}let k=y-f;for(;k!==y&&x[k]===0;)k++;let C=n.repeat(u);for(;k<y;++k)C+=t.charAt(x[k]);return C}function o(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;l[u]===n;)f++,u++;const m=(l.length-u)*s+1>>>0,y=new Uint8Array(m);for(;u<l.length;){const I=l.charCodeAt(u);if(I>255)return;let _=e[I];if(_===255)return;let O=0;for(let F=m-1;(_!==0||O<h)&&F!==-1;F--,O++)_+=r*y[F]>>>0,y[F]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");h=O,u++}let x=m-h;for(;x!==m&&y[x]===0;)x++;const k=new Uint8Array(f+(m-x));let C=f;for(;x!==m;)k[C++]=y[x++];return k}function c(l){const u=o(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:a,decodeUnsafe:o,decode:c}}var lRe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ih=cRe(lRe);var Sle={exports:{}};(function(t){(function(e){var r=function(X){var ee,te=new Float64Array(16);if(X)for(ee=0;ee<X.length;ee++)te[ee]=X[ee];return te},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=r(),o=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(X,ee,te,H){X[ee]=te>>24&255,X[ee+1]=te>>16&255,X[ee+2]=te>>8&255,X[ee+3]=te&255,X[ee+4]=H>>24&255,X[ee+5]=H>>16&255,X[ee+6]=H>>8&255,X[ee+7]=H&255}function x(X,ee,te,H,ie){var fe,Ie=0;for(fe=0;fe<ie;fe++)Ie|=X[ee+fe]^te[H+fe];return(1&Ie-1>>>8)-1}function k(X,ee,te,H){return x(X,ee,te,H,16)}function C(X,ee,te,H){return x(X,ee,te,H,32)}function I(X,ee,te,H){for(var ie=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ie=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,ae=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,ye=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Le=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,Re=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,$t=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,ut=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ot=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Se=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,be=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ee=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Be=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Ve=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Xe=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,xe=ie,Pe=fe,je=Ie,Ze=ae,dt=ye,ft=Le,Ue=Re,Ce=$t,et=ut,Qe=Ot,at=Se,yt=be,Yt=Ee,cr=Be,pr=Ve,hr=Xe,ge,Sr=0;Sr<20;Sr+=2)ge=xe+Yt|0,dt^=ge<<7|ge>>>25,ge=dt+xe|0,et^=ge<<9|ge>>>23,ge=et+dt|0,Yt^=ge<<13|ge>>>19,ge=Yt+et|0,xe^=ge<<18|ge>>>14,ge=ft+Pe|0,Qe^=ge<<7|ge>>>25,ge=Qe+ft|0,cr^=ge<<9|ge>>>23,ge=cr+Qe|0,Pe^=ge<<13|ge>>>19,ge=Pe+cr|0,ft^=ge<<18|ge>>>14,ge=at+Ue|0,pr^=ge<<7|ge>>>25,ge=pr+at|0,je^=ge<<9|ge>>>23,ge=je+pr|0,Ue^=ge<<13|ge>>>19,ge=Ue+je|0,at^=ge<<18|ge>>>14,ge=hr+yt|0,Ze^=ge<<7|ge>>>25,ge=Ze+hr|0,Ce^=ge<<9|ge>>>23,ge=Ce+Ze|0,yt^=ge<<13|ge>>>19,ge=yt+Ce|0,hr^=ge<<18|ge>>>14,ge=xe+Ze|0,Pe^=ge<<7|ge>>>25,ge=Pe+xe|0,je^=ge<<9|ge>>>23,ge=je+Pe|0,Ze^=ge<<13|ge>>>19,ge=Ze+je|0,xe^=ge<<18|ge>>>14,ge=ft+dt|0,Ue^=ge<<7|ge>>>25,ge=Ue+ft|0,Ce^=ge<<9|ge>>>23,ge=Ce+Ue|0,dt^=ge<<13|ge>>>19,ge=dt+Ce|0,ft^=ge<<18|ge>>>14,ge=at+Qe|0,yt^=ge<<7|ge>>>25,ge=yt+at|0,et^=ge<<9|ge>>>23,ge=et+yt|0,Qe^=ge<<13|ge>>>19,ge=Qe+et|0,at^=ge<<18|ge>>>14,ge=hr+pr|0,Yt^=ge<<7|ge>>>25,ge=Yt+hr|0,cr^=ge<<9|ge>>>23,ge=cr+Yt|0,pr^=ge<<13|ge>>>19,ge=pr+cr|0,hr^=ge<<18|ge>>>14;xe=xe+ie|0,Pe=Pe+fe|0,je=je+Ie|0,Ze=Ze+ae|0,dt=dt+ye|0,ft=ft+Le|0,Ue=Ue+Re|0,Ce=Ce+$t|0,et=et+ut|0,Qe=Qe+Ot|0,at=at+Se|0,yt=yt+be|0,Yt=Yt+Ee|0,cr=cr+Be|0,pr=pr+Ve|0,hr=hr+Xe|0,X[0]=xe>>>0&255,X[1]=xe>>>8&255,X[2]=xe>>>16&255,X[3]=xe>>>24&255,X[4]=Pe>>>0&255,X[5]=Pe>>>8&255,X[6]=Pe>>>16&255,X[7]=Pe>>>24&255,X[8]=je>>>0&255,X[9]=je>>>8&255,X[10]=je>>>16&255,X[11]=je>>>24&255,X[12]=Ze>>>0&255,X[13]=Ze>>>8&255,X[14]=Ze>>>16&255,X[15]=Ze>>>24&255,X[16]=dt>>>0&255,X[17]=dt>>>8&255,X[18]=dt>>>16&255,X[19]=dt>>>24&255,X[20]=ft>>>0&255,X[21]=ft>>>8&255,X[22]=ft>>>16&255,X[23]=ft>>>24&255,X[24]=Ue>>>0&255,X[25]=Ue>>>8&255,X[26]=Ue>>>16&255,X[27]=Ue>>>24&255,X[28]=Ce>>>0&255,X[29]=Ce>>>8&255,X[30]=Ce>>>16&255,X[31]=Ce>>>24&255,X[32]=et>>>0&255,X[33]=et>>>8&255,X[34]=et>>>16&255,X[35]=et>>>24&255,X[36]=Qe>>>0&255,X[37]=Qe>>>8&255,X[38]=Qe>>>16&255,X[39]=Qe>>>24&255,X[40]=at>>>0&255,X[41]=at>>>8&255,X[42]=at>>>16&255,X[43]=at>>>24&255,X[44]=yt>>>0&255,X[45]=yt>>>8&255,X[46]=yt>>>16&255,X[47]=yt>>>24&255,X[48]=Yt>>>0&255,X[49]=Yt>>>8&255,X[50]=Yt>>>16&255,X[51]=Yt>>>24&255,X[52]=cr>>>0&255,X[53]=cr>>>8&255,X[54]=cr>>>16&255,X[55]=cr>>>24&255,X[56]=pr>>>0&255,X[57]=pr>>>8&255,X[58]=pr>>>16&255,X[59]=pr>>>24&255,X[60]=hr>>>0&255,X[61]=hr>>>8&255,X[62]=hr>>>16&255,X[63]=hr>>>24&255}function _(X,ee,te,H){for(var ie=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Ie=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,ae=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,ye=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,Le=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,Re=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,$t=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,ut=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ot=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Se=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,be=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Ee=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Be=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Ve=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Xe=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,xe=ie,Pe=fe,je=Ie,Ze=ae,dt=ye,ft=Le,Ue=Re,Ce=$t,et=ut,Qe=Ot,at=Se,yt=be,Yt=Ee,cr=Be,pr=Ve,hr=Xe,ge,Sr=0;Sr<20;Sr+=2)ge=xe+Yt|0,dt^=ge<<7|ge>>>25,ge=dt+xe|0,et^=ge<<9|ge>>>23,ge=et+dt|0,Yt^=ge<<13|ge>>>19,ge=Yt+et|0,xe^=ge<<18|ge>>>14,ge=ft+Pe|0,Qe^=ge<<7|ge>>>25,ge=Qe+ft|0,cr^=ge<<9|ge>>>23,ge=cr+Qe|0,Pe^=ge<<13|ge>>>19,ge=Pe+cr|0,ft^=ge<<18|ge>>>14,ge=at+Ue|0,pr^=ge<<7|ge>>>25,ge=pr+at|0,je^=ge<<9|ge>>>23,ge=je+pr|0,Ue^=ge<<13|ge>>>19,ge=Ue+je|0,at^=ge<<18|ge>>>14,ge=hr+yt|0,Ze^=ge<<7|ge>>>25,ge=Ze+hr|0,Ce^=ge<<9|ge>>>23,ge=Ce+Ze|0,yt^=ge<<13|ge>>>19,ge=yt+Ce|0,hr^=ge<<18|ge>>>14,ge=xe+Ze|0,Pe^=ge<<7|ge>>>25,ge=Pe+xe|0,je^=ge<<9|ge>>>23,ge=je+Pe|0,Ze^=ge<<13|ge>>>19,ge=Ze+je|0,xe^=ge<<18|ge>>>14,ge=ft+dt|0,Ue^=ge<<7|ge>>>25,ge=Ue+ft|0,Ce^=ge<<9|ge>>>23,ge=Ce+Ue|0,dt^=ge<<13|ge>>>19,ge=dt+Ce|0,ft^=ge<<18|ge>>>14,ge=at+Qe|0,yt^=ge<<7|ge>>>25,ge=yt+at|0,et^=ge<<9|ge>>>23,ge=et+yt|0,Qe^=ge<<13|ge>>>19,ge=Qe+et|0,at^=ge<<18|ge>>>14,ge=hr+pr|0,Yt^=ge<<7|ge>>>25,ge=Yt+hr|0,cr^=ge<<9|ge>>>23,ge=cr+Yt|0,pr^=ge<<13|ge>>>19,ge=pr+cr|0,hr^=ge<<18|ge>>>14;X[0]=xe>>>0&255,X[1]=xe>>>8&255,X[2]=xe>>>16&255,X[3]=xe>>>24&255,X[4]=ft>>>0&255,X[5]=ft>>>8&255,X[6]=ft>>>16&255,X[7]=ft>>>24&255,X[8]=at>>>0&255,X[9]=at>>>8&255,X[10]=at>>>16&255,X[11]=at>>>24&255,X[12]=hr>>>0&255,X[13]=hr>>>8&255,X[14]=hr>>>16&255,X[15]=hr>>>24&255,X[16]=Ue>>>0&255,X[17]=Ue>>>8&255,X[18]=Ue>>>16&255,X[19]=Ue>>>24&255,X[20]=Ce>>>0&255,X[21]=Ce>>>8&255,X[22]=Ce>>>16&255,X[23]=Ce>>>24&255,X[24]=et>>>0&255,X[25]=et>>>8&255,X[26]=et>>>16&255,X[27]=et>>>24&255,X[28]=Qe>>>0&255,X[29]=Qe>>>8&255,X[30]=Qe>>>16&255,X[31]=Qe>>>24&255}function O(X,ee,te,H){I(X,ee,te,H)}function F(X,ee,te,H){_(X,ee,te,H)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function j(X,ee,te,H,ie,fe,Ie){var ae=new Uint8Array(16),ye=new Uint8Array(64),Le,Re;for(Re=0;Re<16;Re++)ae[Re]=0;for(Re=0;Re<8;Re++)ae[Re]=fe[Re];for(;ie>=64;){for(O(ye,ae,Ie,D),Re=0;Re<64;Re++)X[ee+Re]=te[H+Re]^ye[Re];for(Le=1,Re=8;Re<16;Re++)Le=Le+(ae[Re]&255)|0,ae[Re]=Le&255,Le>>>=8;ie-=64,ee+=64,H+=64}if(ie>0)for(O(ye,ae,Ie,D),Re=0;Re<ie;Re++)X[ee+Re]=te[H+Re]^ye[Re];return 0}function T(X,ee,te,H,ie){var fe=new Uint8Array(16),Ie=new Uint8Array(64),ae,ye;for(ye=0;ye<16;ye++)fe[ye]=0;for(ye=0;ye<8;ye++)fe[ye]=H[ye];for(;te>=64;){for(O(Ie,fe,ie,D),ye=0;ye<64;ye++)X[ee+ye]=Ie[ye];for(ae=1,ye=8;ye<16;ye++)ae=ae+(fe[ye]&255)|0,fe[ye]=ae&255,ae>>>=8;te-=64,ee+=64}if(te>0)for(O(Ie,fe,ie,D),ye=0;ye<te;ye++)X[ee+ye]=Ie[ye];return 0}function R(X,ee,te,H,ie){var fe=new Uint8Array(32);F(fe,H,ie,D);for(var Ie=new Uint8Array(8),ae=0;ae<8;ae++)Ie[ae]=H[ae+16];return T(X,ee,te,Ie,fe)}function q(X,ee,te,H,ie,fe,Ie){var ae=new Uint8Array(32);F(ae,fe,Ie,D);for(var ye=new Uint8Array(8),Le=0;Le<8;Le++)ye[Le]=fe[Le+16];return j(X,ee,te,H,ie,ye,ae)}var $=function(X){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var ee,te,H,ie,fe,Ie,ae,ye;ee=X[0]&255|(X[1]&255)<<8,this.r[0]=ee&8191,te=X[2]&255|(X[3]&255)<<8,this.r[1]=(ee>>>13|te<<3)&8191,H=X[4]&255|(X[5]&255)<<8,this.r[2]=(te>>>10|H<<6)&7939,ie=X[6]&255|(X[7]&255)<<8,this.r[3]=(H>>>7|ie<<9)&8191,fe=X[8]&255|(X[9]&255)<<8,this.r[4]=(ie>>>4|fe<<12)&255,this.r[5]=fe>>>1&8190,Ie=X[10]&255|(X[11]&255)<<8,this.r[6]=(fe>>>14|Ie<<2)&8191,ae=X[12]&255|(X[13]&255)<<8,this.r[7]=(Ie>>>11|ae<<5)&8065,ye=X[14]&255|(X[15]&255)<<8,this.r[8]=(ae>>>8|ye<<8)&8191,this.r[9]=ye>>>5&127,this.pad[0]=X[16]&255|(X[17]&255)<<8,this.pad[1]=X[18]&255|(X[19]&255)<<8,this.pad[2]=X[20]&255|(X[21]&255)<<8,this.pad[3]=X[22]&255|(X[23]&255)<<8,this.pad[4]=X[24]&255|(X[25]&255)<<8,this.pad[5]=X[26]&255|(X[27]&255)<<8,this.pad[6]=X[28]&255|(X[29]&255)<<8,this.pad[7]=X[30]&255|(X[31]&255)<<8};$.prototype.blocks=function(X,ee,te){for(var H=this.fin?0:2048,ie,fe,Ie,ae,ye,Le,Re,$t,ut,Ot,Se,be,Ee,Be,Ve,Xe,xe,Pe,je,Ze=this.h[0],dt=this.h[1],ft=this.h[2],Ue=this.h[3],Ce=this.h[4],et=this.h[5],Qe=this.h[6],at=this.h[7],yt=this.h[8],Yt=this.h[9],cr=this.r[0],pr=this.r[1],hr=this.r[2],ge=this.r[3],Sr=this.r[4],Lr=this.r[5],Vr=this.r[6],gr=this.r[7],Fr=this.r[8],Rr=this.r[9];te>=16;)ie=X[ee+0]&255|(X[ee+1]&255)<<8,Ze+=ie&8191,fe=X[ee+2]&255|(X[ee+3]&255)<<8,dt+=(ie>>>13|fe<<3)&8191,Ie=X[ee+4]&255|(X[ee+5]&255)<<8,ft+=(fe>>>10|Ie<<6)&8191,ae=X[ee+6]&255|(X[ee+7]&255)<<8,Ue+=(Ie>>>7|ae<<9)&8191,ye=X[ee+8]&255|(X[ee+9]&255)<<8,Ce+=(ae>>>4|ye<<12)&8191,et+=ye>>>1&8191,Le=X[ee+10]&255|(X[ee+11]&255)<<8,Qe+=(ye>>>14|Le<<2)&8191,Re=X[ee+12]&255|(X[ee+13]&255)<<8,at+=(Le>>>11|Re<<5)&8191,$t=X[ee+14]&255|(X[ee+15]&255)<<8,yt+=(Re>>>8|$t<<8)&8191,Yt+=$t>>>5|H,ut=0,Ot=ut,Ot+=Ze*cr,Ot+=dt*(5*Rr),Ot+=ft*(5*Fr),Ot+=Ue*(5*gr),Ot+=Ce*(5*Vr),ut=Ot>>>13,Ot&=8191,Ot+=et*(5*Lr),Ot+=Qe*(5*Sr),Ot+=at*(5*ge),Ot+=yt*(5*hr),Ot+=Yt*(5*pr),ut+=Ot>>>13,Ot&=8191,Se=ut,Se+=Ze*pr,Se+=dt*cr,Se+=ft*(5*Rr),Se+=Ue*(5*Fr),Se+=Ce*(5*gr),ut=Se>>>13,Se&=8191,Se+=et*(5*Vr),Se+=Qe*(5*Lr),Se+=at*(5*Sr),Se+=yt*(5*ge),Se+=Yt*(5*hr),ut+=Se>>>13,Se&=8191,be=ut,be+=Ze*hr,be+=dt*pr,be+=ft*cr,be+=Ue*(5*Rr),be+=Ce*(5*Fr),ut=be>>>13,be&=8191,be+=et*(5*gr),be+=Qe*(5*Vr),be+=at*(5*Lr),be+=yt*(5*Sr),be+=Yt*(5*ge),ut+=be>>>13,be&=8191,Ee=ut,Ee+=Ze*ge,Ee+=dt*hr,Ee+=ft*pr,Ee+=Ue*cr,Ee+=Ce*(5*Rr),ut=Ee>>>13,Ee&=8191,Ee+=et*(5*Fr),Ee+=Qe*(5*gr),Ee+=at*(5*Vr),Ee+=yt*(5*Lr),Ee+=Yt*(5*Sr),ut+=Ee>>>13,Ee&=8191,Be=ut,Be+=Ze*Sr,Be+=dt*ge,Be+=ft*hr,Be+=Ue*pr,Be+=Ce*cr,ut=Be>>>13,Be&=8191,Be+=et*(5*Rr),Be+=Qe*(5*Fr),Be+=at*(5*gr),Be+=yt*(5*Vr),Be+=Yt*(5*Lr),ut+=Be>>>13,Be&=8191,Ve=ut,Ve+=Ze*Lr,Ve+=dt*Sr,Ve+=ft*ge,Ve+=Ue*hr,Ve+=Ce*pr,ut=Ve>>>13,Ve&=8191,Ve+=et*cr,Ve+=Qe*(5*Rr),Ve+=at*(5*Fr),Ve+=yt*(5*gr),Ve+=Yt*(5*Vr),ut+=Ve>>>13,Ve&=8191,Xe=ut,Xe+=Ze*Vr,Xe+=dt*Lr,Xe+=ft*Sr,Xe+=Ue*ge,Xe+=Ce*hr,ut=Xe>>>13,Xe&=8191,Xe+=et*pr,Xe+=Qe*cr,Xe+=at*(5*Rr),Xe+=yt*(5*Fr),Xe+=Yt*(5*gr),ut+=Xe>>>13,Xe&=8191,xe=ut,xe+=Ze*gr,xe+=dt*Vr,xe+=ft*Lr,xe+=Ue*Sr,xe+=Ce*ge,ut=xe>>>13,xe&=8191,xe+=et*hr,xe+=Qe*pr,xe+=at*cr,xe+=yt*(5*Rr),xe+=Yt*(5*Fr),ut+=xe>>>13,xe&=8191,Pe=ut,Pe+=Ze*Fr,Pe+=dt*gr,Pe+=ft*Vr,Pe+=Ue*Lr,Pe+=Ce*Sr,ut=Pe>>>13,Pe&=8191,Pe+=et*ge,Pe+=Qe*hr,Pe+=at*pr,Pe+=yt*cr,Pe+=Yt*(5*Rr),ut+=Pe>>>13,Pe&=8191,je=ut,je+=Ze*Rr,je+=dt*Fr,je+=ft*gr,je+=Ue*Vr,je+=Ce*Lr,ut=je>>>13,je&=8191,je+=et*Sr,je+=Qe*ge,je+=at*hr,je+=yt*pr,je+=Yt*cr,ut+=je>>>13,je&=8191,ut=(ut<<2)+ut|0,ut=ut+Ot|0,Ot=ut&8191,ut=ut>>>13,Se+=ut,Ze=Ot,dt=Se,ft=be,Ue=Ee,Ce=Be,et=Ve,Qe=Xe,at=xe,yt=Pe,Yt=je,ee+=16,te-=16;this.h[0]=Ze,this.h[1]=dt,this.h[2]=ft,this.h[3]=Ue,this.h[4]=Ce,this.h[5]=et,this.h[6]=Qe,this.h[7]=at,this.h[8]=yt,this.h[9]=Yt},$.prototype.finish=function(X,ee){var te=new Uint16Array(10),H,ie,fe,Ie;if(this.leftover){for(Ie=this.leftover,this.buffer[Ie++]=1;Ie<16;Ie++)this.buffer[Ie]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(H=this.h[1]>>>13,this.h[1]&=8191,Ie=2;Ie<10;Ie++)this.h[Ie]+=H,H=this.h[Ie]>>>13,this.h[Ie]&=8191;for(this.h[0]+=H*5,H=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=H,H=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=H,te[0]=this.h[0]+5,H=te[0]>>>13,te[0]&=8191,Ie=1;Ie<10;Ie++)te[Ie]=this.h[Ie]+H,H=te[Ie]>>>13,te[Ie]&=8191;for(te[9]-=8192,ie=(H^1)-1,Ie=0;Ie<10;Ie++)te[Ie]&=ie;for(ie=~ie,Ie=0;Ie<10;Ie++)this.h[Ie]=this.h[Ie]&ie|te[Ie];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,fe=this.h[0]+this.pad[0],this.h[0]=fe&65535,Ie=1;Ie<8;Ie++)fe=(this.h[Ie]+this.pad[Ie]|0)+(fe>>>16)|0,this.h[Ie]=fe&65535;X[ee+0]=this.h[0]>>>0&255,X[ee+1]=this.h[0]>>>8&255,X[ee+2]=this.h[1]>>>0&255,X[ee+3]=this.h[1]>>>8&255,X[ee+4]=this.h[2]>>>0&255,X[ee+5]=this.h[2]>>>8&255,X[ee+6]=this.h[3]>>>0&255,X[ee+7]=this.h[3]>>>8&255,X[ee+8]=this.h[4]>>>0&255,X[ee+9]=this.h[4]>>>8&255,X[ee+10]=this.h[5]>>>0&255,X[ee+11]=this.h[5]>>>8&255,X[ee+12]=this.h[6]>>>0&255,X[ee+13]=this.h[6]>>>8&255,X[ee+14]=this.h[7]>>>0&255,X[ee+15]=this.h[7]>>>8&255},$.prototype.update=function(X,ee,te){var H,ie;if(this.leftover){for(ie=16-this.leftover,ie>te&&(ie=te),H=0;H<ie;H++)this.buffer[this.leftover+H]=X[ee+H];if(te-=ie,ee+=ie,this.leftover+=ie,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(te>=16&&(ie=te-te%16,this.blocks(X,ee,ie),ee+=ie,te-=ie),te){for(H=0;H<te;H++)this.buffer[this.leftover+H]=X[ee+H];this.leftover+=te}};function b(X,ee,te,H,ie,fe){var Ie=new $(fe);return Ie.update(te,H,ie),Ie.finish(X,ee),0}function w(X,ee,te,H,ie,fe){var Ie=new Uint8Array(16);return b(Ie,0,te,H,ie,fe),k(X,ee,Ie,0)}function p(X,ee,te,H,ie){var fe;if(te<32)return-1;for(q(X,0,ee,0,te,H,ie),b(X,16,X,32,te-32,X),fe=0;fe<16;fe++)X[fe]=0;return 0}function g(X,ee,te,H,ie){var fe,Ie=new Uint8Array(32);if(te<32||(R(Ie,0,32,H,ie),w(ee,16,ee,32,te-32,Ie)!==0))return-1;for(q(X,0,ee,0,te,H,ie),fe=0;fe<32;fe++)X[fe]=0;return 0}function S(X,ee){var te;for(te=0;te<16;te++)X[te]=ee[te]|0}function N(X){var ee,te,H=1;for(ee=0;ee<16;ee++)te=X[ee]+H+65535,H=Math.floor(te/65536),X[ee]=te-H*65536;X[0]+=H-1+37*(H-1)}function P(X,ee,te){for(var H,ie=~(te-1),fe=0;fe<16;fe++)H=ie&(X[fe]^ee[fe]),X[fe]^=H,ee[fe]^=H}function A(X,ee){var te,H,ie,fe=r(),Ie=r();for(te=0;te<16;te++)Ie[te]=ee[te];for(N(Ie),N(Ie),N(Ie),H=0;H<2;H++){for(fe[0]=Ie[0]-65517,te=1;te<15;te++)fe[te]=Ie[te]-65535-(fe[te-1]>>16&1),fe[te-1]&=65535;fe[15]=Ie[15]-32767-(fe[14]>>16&1),ie=fe[15]>>16&1,fe[14]&=65535,P(Ie,fe,1-ie)}for(te=0;te<16;te++)X[2*te]=Ie[te]&255,X[2*te+1]=Ie[te]>>8}function v(X,ee){var te=new Uint8Array(32),H=new Uint8Array(32);return A(te,X),A(H,ee),C(te,0,H,0)}function E(X){var ee=new Uint8Array(32);return A(ee,X),ee[0]&1}function M(X,ee){var te;for(te=0;te<16;te++)X[te]=ee[2*te]+(ee[2*te+1]<<8);X[15]&=32767}function L(X,ee,te){for(var H=0;H<16;H++)X[H]=ee[H]+te[H]}function Q(X,ee,te){for(var H=0;H<16;H++)X[H]=ee[H]-te[H]}function U(X,ee,te){var H,ie,fe=0,Ie=0,ae=0,ye=0,Le=0,Re=0,$t=0,ut=0,Ot=0,Se=0,be=0,Ee=0,Be=0,Ve=0,Xe=0,xe=0,Pe=0,je=0,Ze=0,dt=0,ft=0,Ue=0,Ce=0,et=0,Qe=0,at=0,yt=0,Yt=0,cr=0,pr=0,hr=0,ge=te[0],Sr=te[1],Lr=te[2],Vr=te[3],gr=te[4],Fr=te[5],Rr=te[6],Zn=te[7],Jr=te[8],bn=te[9],Jn=te[10],Qn=te[11],vn=te[12],Gs=te[13],ei=te[14],ti=te[15];H=ee[0],fe+=H*ge,Ie+=H*Sr,ae+=H*Lr,ye+=H*Vr,Le+=H*gr,Re+=H*Fr,$t+=H*Rr,ut+=H*Zn,Ot+=H*Jr,Se+=H*bn,be+=H*Jn,Ee+=H*Qn,Be+=H*vn,Ve+=H*Gs,Xe+=H*ei,xe+=H*ti,H=ee[1],Ie+=H*ge,ae+=H*Sr,ye+=H*Lr,Le+=H*Vr,Re+=H*gr,$t+=H*Fr,ut+=H*Rr,Ot+=H*Zn,Se+=H*Jr,be+=H*bn,Ee+=H*Jn,Be+=H*Qn,Ve+=H*vn,Xe+=H*Gs,xe+=H*ei,Pe+=H*ti,H=ee[2],ae+=H*ge,ye+=H*Sr,Le+=H*Lr,Re+=H*Vr,$t+=H*gr,ut+=H*Fr,Ot+=H*Rr,Se+=H*Zn,be+=H*Jr,Ee+=H*bn,Be+=H*Jn,Ve+=H*Qn,Xe+=H*vn,xe+=H*Gs,Pe+=H*ei,je+=H*ti,H=ee[3],ye+=H*ge,Le+=H*Sr,Re+=H*Lr,$t+=H*Vr,ut+=H*gr,Ot+=H*Fr,Se+=H*Rr,be+=H*Zn,Ee+=H*Jr,Be+=H*bn,Ve+=H*Jn,Xe+=H*Qn,xe+=H*vn,Pe+=H*Gs,je+=H*ei,Ze+=H*ti,H=ee[4],Le+=H*ge,Re+=H*Sr,$t+=H*Lr,ut+=H*Vr,Ot+=H*gr,Se+=H*Fr,be+=H*Rr,Ee+=H*Zn,Be+=H*Jr,Ve+=H*bn,Xe+=H*Jn,xe+=H*Qn,Pe+=H*vn,je+=H*Gs,Ze+=H*ei,dt+=H*ti,H=ee[5],Re+=H*ge,$t+=H*Sr,ut+=H*Lr,Ot+=H*Vr,Se+=H*gr,be+=H*Fr,Ee+=H*Rr,Be+=H*Zn,Ve+=H*Jr,Xe+=H*bn,xe+=H*Jn,Pe+=H*Qn,je+=H*vn,Ze+=H*Gs,dt+=H*ei,ft+=H*ti,H=ee[6],$t+=H*ge,ut+=H*Sr,Ot+=H*Lr,Se+=H*Vr,be+=H*gr,Ee+=H*Fr,Be+=H*Rr,Ve+=H*Zn,Xe+=H*Jr,xe+=H*bn,Pe+=H*Jn,je+=H*Qn,Ze+=H*vn,dt+=H*Gs,ft+=H*ei,Ue+=H*ti,H=ee[7],ut+=H*ge,Ot+=H*Sr,Se+=H*Lr,be+=H*Vr,Ee+=H*gr,Be+=H*Fr,Ve+=H*Rr,Xe+=H*Zn,xe+=H*Jr,Pe+=H*bn,je+=H*Jn,Ze+=H*Qn,dt+=H*vn,ft+=H*Gs,Ue+=H*ei,Ce+=H*ti,H=ee[8],Ot+=H*ge,Se+=H*Sr,be+=H*Lr,Ee+=H*Vr,Be+=H*gr,Ve+=H*Fr,Xe+=H*Rr,xe+=H*Zn,Pe+=H*Jr,je+=H*bn,Ze+=H*Jn,dt+=H*Qn,ft+=H*vn,Ue+=H*Gs,Ce+=H*ei,et+=H*ti,H=ee[9],Se+=H*ge,be+=H*Sr,Ee+=H*Lr,Be+=H*Vr,Ve+=H*gr,Xe+=H*Fr,xe+=H*Rr,Pe+=H*Zn,je+=H*Jr,Ze+=H*bn,dt+=H*Jn,ft+=H*Qn,Ue+=H*vn,Ce+=H*Gs,et+=H*ei,Qe+=H*ti,H=ee[10],be+=H*ge,Ee+=H*Sr,Be+=H*Lr,Ve+=H*Vr,Xe+=H*gr,xe+=H*Fr,Pe+=H*Rr,je+=H*Zn,Ze+=H*Jr,dt+=H*bn,ft+=H*Jn,Ue+=H*Qn,Ce+=H*vn,et+=H*Gs,Qe+=H*ei,at+=H*ti,H=ee[11],Ee+=H*ge,Be+=H*Sr,Ve+=H*Lr,Xe+=H*Vr,xe+=H*gr,Pe+=H*Fr,je+=H*Rr,Ze+=H*Zn,dt+=H*Jr,ft+=H*bn,Ue+=H*Jn,Ce+=H*Qn,et+=H*vn,Qe+=H*Gs,at+=H*ei,yt+=H*ti,H=ee[12],Be+=H*ge,Ve+=H*Sr,Xe+=H*Lr,xe+=H*Vr,Pe+=H*gr,je+=H*Fr,Ze+=H*Rr,dt+=H*Zn,ft+=H*Jr,Ue+=H*bn,Ce+=H*Jn,et+=H*Qn,Qe+=H*vn,at+=H*Gs,yt+=H*ei,Yt+=H*ti,H=ee[13],Ve+=H*ge,Xe+=H*Sr,xe+=H*Lr,Pe+=H*Vr,je+=H*gr,Ze+=H*Fr,dt+=H*Rr,ft+=H*Zn,Ue+=H*Jr,Ce+=H*bn,et+=H*Jn,Qe+=H*Qn,at+=H*vn,yt+=H*Gs,Yt+=H*ei,cr+=H*ti,H=ee[14],Xe+=H*ge,xe+=H*Sr,Pe+=H*Lr,je+=H*Vr,Ze+=H*gr,dt+=H*Fr,ft+=H*Rr,Ue+=H*Zn,Ce+=H*Jr,et+=H*bn,Qe+=H*Jn,at+=H*Qn,yt+=H*vn,Yt+=H*Gs,cr+=H*ei,pr+=H*ti,H=ee[15],xe+=H*ge,Pe+=H*Sr,je+=H*Lr,Ze+=H*Vr,dt+=H*gr,ft+=H*Fr,Ue+=H*Rr,Ce+=H*Zn,et+=H*Jr,Qe+=H*bn,at+=H*Jn,yt+=H*Qn,Yt+=H*vn,cr+=H*Gs,pr+=H*ei,hr+=H*ti,fe+=38*Pe,Ie+=38*je,ae+=38*Ze,ye+=38*dt,Le+=38*ft,Re+=38*Ue,$t+=38*Ce,ut+=38*et,Ot+=38*Qe,Se+=38*at,be+=38*yt,Ee+=38*Yt,Be+=38*cr,Ve+=38*pr,Xe+=38*hr,ie=1,H=fe+ie+65535,ie=Math.floor(H/65536),fe=H-ie*65536,H=Ie+ie+65535,ie=Math.floor(H/65536),Ie=H-ie*65536,H=ae+ie+65535,ie=Math.floor(H/65536),ae=H-ie*65536,H=ye+ie+65535,ie=Math.floor(H/65536),ye=H-ie*65536,H=Le+ie+65535,ie=Math.floor(H/65536),Le=H-ie*65536,H=Re+ie+65535,ie=Math.floor(H/65536),Re=H-ie*65536,H=$t+ie+65535,ie=Math.floor(H/65536),$t=H-ie*65536,H=ut+ie+65535,ie=Math.floor(H/65536),ut=H-ie*65536,H=Ot+ie+65535,ie=Math.floor(H/65536),Ot=H-ie*65536,H=Se+ie+65535,ie=Math.floor(H/65536),Se=H-ie*65536,H=be+ie+65535,ie=Math.floor(H/65536),be=H-ie*65536,H=Ee+ie+65535,ie=Math.floor(H/65536),Ee=H-ie*65536,H=Be+ie+65535,ie=Math.floor(H/65536),Be=H-ie*65536,H=Ve+ie+65535,ie=Math.floor(H/65536),Ve=H-ie*65536,H=Xe+ie+65535,ie=Math.floor(H/65536),Xe=H-ie*65536,H=xe+ie+65535,ie=Math.floor(H/65536),xe=H-ie*65536,fe+=ie-1+37*(ie-1),ie=1,H=fe+ie+65535,ie=Math.floor(H/65536),fe=H-ie*65536,H=Ie+ie+65535,ie=Math.floor(H/65536),Ie=H-ie*65536,H=ae+ie+65535,ie=Math.floor(H/65536),ae=H-ie*65536,H=ye+ie+65535,ie=Math.floor(H/65536),ye=H-ie*65536,H=Le+ie+65535,ie=Math.floor(H/65536),Le=H-ie*65536,H=Re+ie+65535,ie=Math.floor(H/65536),Re=H-ie*65536,H=$t+ie+65535,ie=Math.floor(H/65536),$t=H-ie*65536,H=ut+ie+65535,ie=Math.floor(H/65536),ut=H-ie*65536,H=Ot+ie+65535,ie=Math.floor(H/65536),Ot=H-ie*65536,H=Se+ie+65535,ie=Math.floor(H/65536),Se=H-ie*65536,H=be+ie+65535,ie=Math.floor(H/65536),be=H-ie*65536,H=Ee+ie+65535,ie=Math.floor(H/65536),Ee=H-ie*65536,H=Be+ie+65535,ie=Math.floor(H/65536),Be=H-ie*65536,H=Ve+ie+65535,ie=Math.floor(H/65536),Ve=H-ie*65536,H=Xe+ie+65535,ie=Math.floor(H/65536),Xe=H-ie*65536,H=xe+ie+65535,ie=Math.floor(H/65536),xe=H-ie*65536,fe+=ie-1+37*(ie-1),X[0]=fe,X[1]=Ie,X[2]=ae,X[3]=ye,X[4]=Le,X[5]=Re,X[6]=$t,X[7]=ut,X[8]=Ot,X[9]=Se,X[10]=be,X[11]=Ee,X[12]=Be,X[13]=Ve,X[14]=Xe,X[15]=xe}function J(X,ee){U(X,ee,ee)}function Z(X,ee){var te=r(),H;for(H=0;H<16;H++)te[H]=ee[H];for(H=253;H>=0;H--)J(te,te),H!==2&&H!==4&&U(te,te,ee);for(H=0;H<16;H++)X[H]=te[H]}function re(X,ee){var te=r(),H;for(H=0;H<16;H++)te[H]=ee[H];for(H=250;H>=0;H--)J(te,te),H!==1&&U(te,te,ee);for(H=0;H<16;H++)X[H]=te[H]}function G(X,ee,te){var H=new Uint8Array(32),ie=new Float64Array(80),fe,Ie,ae=r(),ye=r(),Le=r(),Re=r(),$t=r(),ut=r();for(Ie=0;Ie<31;Ie++)H[Ie]=ee[Ie];for(H[31]=ee[31]&127|64,H[0]&=248,M(ie,te),Ie=0;Ie<16;Ie++)ye[Ie]=ie[Ie],Re[Ie]=ae[Ie]=Le[Ie]=0;for(ae[0]=Re[0]=1,Ie=254;Ie>=0;--Ie)fe=H[Ie>>>3]>>>(Ie&7)&1,P(ae,ye,fe),P(Le,Re,fe),L($t,ae,Le),Q(ae,ae,Le),L(Le,ye,Re),Q(ye,ye,Re),J(Re,$t),J(ut,ae),U(ae,Le,ae),U(Le,ye,$t),L($t,ae,Le),Q(ae,ae,Le),J(ye,ae),Q(Le,Re,ut),U(ae,Le,c),L(ae,ae,Re),U(Le,Le,ae),U(ae,Re,ut),U(Re,ye,ie),J(ye,$t),P(ae,ye,fe),P(Le,Re,fe);for(Ie=0;Ie<16;Ie++)ie[Ie+16]=ae[Ie],ie[Ie+32]=Le[Ie],ie[Ie+48]=ye[Ie],ie[Ie+64]=Re[Ie];var Ot=ie.subarray(32),Se=ie.subarray(16);return Z(Ot,Ot),U(Se,Se,Ot),A(X,Se),0}function z(X,ee){return G(X,ee,i)}function se(X,ee){return n(ee,32),z(X,ee)}function ce(X,ee,te){var H=new Uint8Array(32);return G(H,te,ee),F(X,s,H,D)}var pe=p,_e=g;function ke(X,ee,te,H,ie,fe){var Ie=new Uint8Array(32);return ce(Ie,ie,fe),pe(X,ee,te,H,Ie)}function tt(X,ee,te,H,ie,fe){var Ie=new Uint8Array(32);return ce(Ie,ie,fe),_e(X,ee,te,H,Ie)}var mt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function we(X,ee,te,H){for(var ie=new Int32Array(16),fe=new Int32Array(16),Ie,ae,ye,Le,Re,$t,ut,Ot,Se,be,Ee,Be,Ve,Xe,xe,Pe,je,Ze,dt,ft,Ue,Ce,et,Qe,at,yt,Yt=X[0],cr=X[1],pr=X[2],hr=X[3],ge=X[4],Sr=X[5],Lr=X[6],Vr=X[7],gr=ee[0],Fr=ee[1],Rr=ee[2],Zn=ee[3],Jr=ee[4],bn=ee[5],Jn=ee[6],Qn=ee[7],vn=0;H>=128;){for(dt=0;dt<16;dt++)ft=8*dt+vn,ie[dt]=te[ft+0]<<24|te[ft+1]<<16|te[ft+2]<<8|te[ft+3],fe[dt]=te[ft+4]<<24|te[ft+5]<<16|te[ft+6]<<8|te[ft+7];for(dt=0;dt<80;dt++)if(Ie=Yt,ae=cr,ye=pr,Le=hr,Re=ge,$t=Sr,ut=Lr,Ot=Vr,Se=gr,be=Fr,Ee=Rr,Be=Zn,Ve=Jr,Xe=bn,xe=Jn,Pe=Qn,Ue=Vr,Ce=Qn,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=(ge>>>14|Jr<<18)^(ge>>>18|Jr<<14)^(Jr>>>9|ge<<23),Ce=(Jr>>>14|ge<<18)^(Jr>>>18|ge<<14)^(ge>>>9|Jr<<23),et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=ge&Sr^~ge&Lr,Ce=Jr&bn^~Jr&Jn,et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=mt[dt*2],Ce=mt[dt*2+1],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=ie[dt%16],Ce=fe[dt%16],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,je=at&65535|yt<<16,Ze=et&65535|Qe<<16,Ue=je,Ce=Ze,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=(Yt>>>28|gr<<4)^(gr>>>2|Yt<<30)^(gr>>>7|Yt<<25),Ce=(gr>>>28|Yt<<4)^(Yt>>>2|gr<<30)^(Yt>>>7|gr<<25),et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Ue=Yt&cr^Yt&pr^cr&pr,Ce=gr&Fr^gr&Rr^Fr&Rr,et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,Ot=at&65535|yt<<16,Pe=et&65535|Qe<<16,Ue=Le,Ce=Be,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=je,Ce=Ze,et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,Le=at&65535|yt<<16,Be=et&65535|Qe<<16,cr=Ie,pr=ae,hr=ye,ge=Le,Sr=Re,Lr=$t,Vr=ut,Yt=Ot,Fr=Se,Rr=be,Zn=Ee,Jr=Be,bn=Ve,Jn=Xe,Qn=xe,gr=Pe,dt%16===15)for(ft=0;ft<16;ft++)Ue=ie[ft],Ce=fe[ft],et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=ie[(ft+9)%16],Ce=fe[(ft+9)%16],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,je=ie[(ft+1)%16],Ze=fe[(ft+1)%16],Ue=(je>>>1|Ze<<31)^(je>>>8|Ze<<24)^je>>>7,Ce=(Ze>>>1|je<<31)^(Ze>>>8|je<<24)^(Ze>>>7|je<<25),et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,je=ie[(ft+14)%16],Ze=fe[(ft+14)%16],Ue=(je>>>19|Ze<<13)^(Ze>>>29|je<<3)^je>>>6,Ce=(Ze>>>19|je<<13)^(je>>>29|Ze<<3)^(Ze>>>6|je<<26),et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,ie[ft]=at&65535|yt<<16,fe[ft]=et&65535|Qe<<16;Ue=Yt,Ce=gr,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[0],Ce=ee[0],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[0]=Yt=at&65535|yt<<16,ee[0]=gr=et&65535|Qe<<16,Ue=cr,Ce=Fr,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[1],Ce=ee[1],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[1]=cr=at&65535|yt<<16,ee[1]=Fr=et&65535|Qe<<16,Ue=pr,Ce=Rr,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[2],Ce=ee[2],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[2]=pr=at&65535|yt<<16,ee[2]=Rr=et&65535|Qe<<16,Ue=hr,Ce=Zn,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[3],Ce=ee[3],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[3]=hr=at&65535|yt<<16,ee[3]=Zn=et&65535|Qe<<16,Ue=ge,Ce=Jr,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[4],Ce=ee[4],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[4]=ge=at&65535|yt<<16,ee[4]=Jr=et&65535|Qe<<16,Ue=Sr,Ce=bn,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[5],Ce=ee[5],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[5]=Sr=at&65535|yt<<16,ee[5]=bn=et&65535|Qe<<16,Ue=Lr,Ce=Jn,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[6],Ce=ee[6],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[6]=Lr=at&65535|yt<<16,ee[6]=Jn=et&65535|Qe<<16,Ue=Vr,Ce=Qn,et=Ce&65535,Qe=Ce>>>16,at=Ue&65535,yt=Ue>>>16,Ue=X[7],Ce=ee[7],et+=Ce&65535,Qe+=Ce>>>16,at+=Ue&65535,yt+=Ue>>>16,Qe+=et>>>16,at+=Qe>>>16,yt+=at>>>16,X[7]=Vr=at&65535|yt<<16,ee[7]=Qn=et&65535|Qe<<16,vn+=128,H-=128}return H}function We(X,ee,te){var H=new Int32Array(8),ie=new Int32Array(8),fe=new Uint8Array(256),Ie,ae=te;for(H[0]=1779033703,H[1]=3144134277,H[2]=1013904242,H[3]=2773480762,H[4]=1359893119,H[5]=2600822924,H[6]=528734635,H[7]=1541459225,ie[0]=4089235720,ie[1]=2227873595,ie[2]=4271175723,ie[3]=1595750129,ie[4]=2917565137,ie[5]=725511199,ie[6]=4215389547,ie[7]=327033209,we(H,ie,ee,te),te%=128,Ie=0;Ie<te;Ie++)fe[Ie]=ee[ae-te+Ie];for(fe[te]=128,te=256-128*(te<112?1:0),fe[te-9]=0,y(fe,te-8,ae/536870912|0,ae<<3),we(H,ie,fe,te),Ie=0;Ie<8;Ie++)y(X,8*Ie,H[Ie],ie[Ie]);return 0}function Ae(X,ee){var te=r(),H=r(),ie=r(),fe=r(),Ie=r(),ae=r(),ye=r(),Le=r(),Re=r();Q(te,X[1],X[0]),Q(Re,ee[1],ee[0]),U(te,te,Re),L(H,X[0],X[1]),L(Re,ee[0],ee[1]),U(H,H,Re),U(ie,X[3],ee[3]),U(ie,ie,u),U(fe,X[2],ee[2]),L(fe,fe,fe),Q(Ie,H,te),Q(ae,fe,ie),L(ye,fe,ie),L(Le,H,te),U(X[0],Ie,ae),U(X[1],Le,ye),U(X[2],ye,ae),U(X[3],Ie,Le)}function Oe(X,ee,te){var H;for(H=0;H<4;H++)P(X[H],ee[H],te)}function qe(X,ee){var te=r(),H=r(),ie=r();Z(ie,ee[2]),U(te,ee[0],ie),U(H,ee[1],ie),A(X,H),X[31]^=E(te)<<7}function Fe(X,ee,te){var H,ie;for(S(X[0],a),S(X[1],o),S(X[2],o),S(X[3],a),ie=255;ie>=0;--ie)H=te[ie/8|0]>>(ie&7)&1,Oe(X,ee,H),Ae(ee,X),Ae(X,X),Oe(X,ee,H)}function ze(X,ee){var te=[r(),r(),r(),r()];S(te[0],f),S(te[1],h),S(te[2],o),U(te[3],f,h),Fe(X,te,ee)}function Ke(X,ee,te){var H=new Uint8Array(64),ie=[r(),r(),r(),r()],fe;for(te||n(ee,32),We(H,ee,32),H[0]&=248,H[31]&=127,H[31]|=64,ze(ie,H),qe(X,ie),fe=0;fe<32;fe++)ee[fe+32]=X[fe];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Y(X,ee){var te,H,ie,fe;for(H=63;H>=32;--H){for(te=0,ie=H-32,fe=H-12;ie<fe;++ie)ee[ie]+=te-16*ee[H]*ct[ie-(H-32)],te=Math.floor((ee[ie]+128)/256),ee[ie]-=te*256;ee[ie]+=te,ee[H]=0}for(te=0,ie=0;ie<32;ie++)ee[ie]+=te-(ee[31]>>4)*ct[ie],te=ee[ie]>>8,ee[ie]&=255;for(ie=0;ie<32;ie++)ee[ie]-=te*ct[ie];for(H=0;H<32;H++)ee[H+1]+=ee[H]>>8,X[H]=ee[H]&255}function V(X){var ee=new Float64Array(64),te;for(te=0;te<64;te++)ee[te]=X[te];for(te=0;te<64;te++)X[te]=0;Y(X,ee)}function W(X,ee,te,H){var ie=new Uint8Array(64),fe=new Uint8Array(64),Ie=new Uint8Array(64),ae,ye,Le=new Float64Array(64),Re=[r(),r(),r(),r()];We(ie,H,32),ie[0]&=248,ie[31]&=127,ie[31]|=64;var $t=te+64;for(ae=0;ae<te;ae++)X[64+ae]=ee[ae];for(ae=0;ae<32;ae++)X[32+ae]=ie[32+ae];for(We(Ie,X.subarray(32),te+32),V(Ie),ze(Re,Ie),qe(X,Re),ae=32;ae<64;ae++)X[ae]=H[ae];for(We(fe,X,te+64),V(fe),ae=0;ae<64;ae++)Le[ae]=0;for(ae=0;ae<32;ae++)Le[ae]=Ie[ae];for(ae=0;ae<32;ae++)for(ye=0;ye<32;ye++)Le[ae+ye]+=fe[ae]*ie[ye];return Y(X.subarray(32),Le),$t}function ne(X,ee){var te=r(),H=r(),ie=r(),fe=r(),Ie=r(),ae=r(),ye=r();return S(X[2],o),M(X[1],ee),J(ie,X[1]),U(fe,ie,l),Q(ie,ie,X[2]),L(fe,X[2],fe),J(Ie,fe),J(ae,Ie),U(ye,ae,Ie),U(te,ye,ie),U(te,te,fe),re(te,te),U(te,te,ie),U(te,te,fe),U(te,te,fe),U(X[0],te,fe),J(H,X[0]),U(H,H,fe),v(H,ie)&&U(X[0],X[0],m),J(H,X[0]),U(H,H,fe),v(H,ie)?-1:(E(X[0])===ee[31]>>7&&Q(X[0],a,X[0]),U(X[3],X[0],X[1]),0)}function le(X,ee,te,H){var ie,fe=new Uint8Array(32),Ie=new Uint8Array(64),ae=[r(),r(),r(),r()],ye=[r(),r(),r(),r()];if(te<64||ne(ye,H))return-1;for(ie=0;ie<te;ie++)X[ie]=ee[ie];for(ie=0;ie<32;ie++)X[ie+32]=H[ie];if(We(Ie,X,te),V(Ie),Fe(ae,ye,Ie),ze(ye,ee.subarray(32)),Ae(ae,ye),qe(fe,ae),te-=64,C(ee,0,fe,0)){for(ie=0;ie<te;ie++)X[ie]=0;return-1}for(ie=0;ie<te;ie++)X[ie]=ee[ie+64];return te}var de=32,me=24,rt=32,ht=16,ot=32,pt=32,_t=32,St=32,Rt=32,sr=me,De=rt,He=ht,gt=64,nt=32,It=64,Ut=32,bt=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:q,crypto_stream:R,crypto_stream_salsa20_xor:j,crypto_stream_salsa20:T,crypto_onetimeauth:b,crypto_onetimeauth_verify:w,crypto_verify_16:k,crypto_verify_32:C,crypto_secretbox:p,crypto_secretbox_open:g,crypto_scalarmult:G,crypto_scalarmult_base:z,crypto_box_beforenm:ce,crypto_box_afternm:pe,crypto_box:ke,crypto_box_open:tt,crypto_box_keypair:se,crypto_hash:We,crypto_sign:W,crypto_sign_keypair:Ke,crypto_sign_open:le,crypto_secretbox_KEYBYTES:de,crypto_secretbox_NONCEBYTES:me,crypto_secretbox_ZEROBYTES:rt,crypto_secretbox_BOXZEROBYTES:ht,crypto_scalarmult_BYTES:ot,crypto_scalarmult_SCALARBYTES:pt,crypto_box_PUBLICKEYBYTES:_t,crypto_box_SECRETKEYBYTES:St,crypto_box_BEFORENMBYTES:Rt,crypto_box_NONCEBYTES:sr,crypto_box_ZEROBYTES:De,crypto_box_BOXZEROBYTES:He,crypto_sign_BYTES:gt,crypto_sign_PUBLICKEYBYTES:nt,crypto_sign_SECRETKEYBYTES:It,crypto_sign_SEEDBYTES:Ut,crypto_hash_BYTES:bt,gf:r,D:l,L:ct,pack25519:A,unpack25519:M,M:U,A:L,S:J,Z:Q,pow2523:re,add:Ae,set25519:S,modL:Y,scalarmult:Fe,scalarbase:ze};function Je(X,ee){if(X.length!==de)throw new Error("bad key size");if(ee.length!==me)throw new Error("bad nonce size")}function Pt(X,ee){if(X.length!==_t)throw new Error("bad public key size");if(ee.length!==St)throw new Error("bad secret key size")}function it(){for(var X=0;X<arguments.length;X++)if(!(arguments[X]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Tt(X){for(var ee=0;ee<X.length;ee++)X[ee]=0}e.randomBytes=function(X){var ee=new Uint8Array(X);return n(ee,X),ee},e.secretbox=function(X,ee,te){it(X,ee,te),Je(te,ee);for(var H=new Uint8Array(rt+X.length),ie=new Uint8Array(H.length),fe=0;fe<X.length;fe++)H[fe+rt]=X[fe];return p(ie,H,H.length,ee,te),ie.subarray(ht)},e.secretbox.open=function(X,ee,te){it(X,ee,te),Je(te,ee);for(var H=new Uint8Array(ht+X.length),ie=new Uint8Array(H.length),fe=0;fe<X.length;fe++)H[fe+ht]=X[fe];return H.length<32||g(ie,H,H.length,ee,te)!==0?null:ie.subarray(rt)},e.secretbox.keyLength=de,e.secretbox.nonceLength=me,e.secretbox.overheadLength=ht,e.scalarMult=function(X,ee){if(it(X,ee),X.length!==pt)throw new Error("bad n size");if(ee.length!==ot)throw new Error("bad p size");var te=new Uint8Array(ot);return G(te,X,ee),te},e.scalarMult.base=function(X){if(it(X),X.length!==pt)throw new Error("bad n size");var ee=new Uint8Array(ot);return z(ee,X),ee},e.scalarMult.scalarLength=pt,e.scalarMult.groupElementLength=ot,e.box=function(X,ee,te,H){var ie=e.box.before(te,H);return e.secretbox(X,ee,ie)},e.box.before=function(X,ee){it(X,ee),Pt(X,ee);var te=new Uint8Array(Rt);return ce(te,X,ee),te},e.box.after=e.secretbox,e.box.open=function(X,ee,te,H){var ie=e.box.before(te,H);return e.secretbox.open(X,ee,ie)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var X=new Uint8Array(_t),ee=new Uint8Array(St);return se(X,ee),{publicKey:X,secretKey:ee}},e.box.keyPair.fromSecretKey=function(X){if(it(X),X.length!==St)throw new Error("bad secret key size");var ee=new Uint8Array(_t);return z(ee,X),{publicKey:ee,secretKey:new Uint8Array(X)}},e.box.publicKeyLength=_t,e.box.secretKeyLength=St,e.box.sharedKeyLength=Rt,e.box.nonceLength=sr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(X,ee){if(it(X,ee),ee.length!==It)throw new Error("bad secret key size");var te=new Uint8Array(gt+X.length);return W(te,X,X.length,ee),te},e.sign.open=function(X,ee){if(it(X,ee),ee.length!==nt)throw new Error("bad public key size");var te=new Uint8Array(X.length),H=le(te,X,X.length,ee);if(H<0)return null;for(var ie=new Uint8Array(H),fe=0;fe<ie.length;fe++)ie[fe]=te[fe];return ie},e.sign.detached=function(X,ee){for(var te=e.sign(X,ee),H=new Uint8Array(gt),ie=0;ie<H.length;ie++)H[ie]=te[ie];return H},e.sign.detached.verify=function(X,ee,te){if(it(X,ee,te),ee.length!==gt)throw new Error("bad signature size");if(te.length!==nt)throw new Error("bad public key size");var H=new Uint8Array(gt+X.length),ie=new Uint8Array(gt+X.length),fe;for(fe=0;fe<gt;fe++)H[fe]=ee[fe];for(fe=0;fe<X.length;fe++)H[fe+gt]=X[fe];return le(ie,H,H.length,te)>=0},e.sign.keyPair=function(){var X=new Uint8Array(nt),ee=new Uint8Array(It);return Ke(X,ee),{publicKey:X,secretKey:ee}},e.sign.keyPair.fromSecretKey=function(X){if(it(X),X.length!==It)throw new Error("bad secret key size");for(var ee=new Uint8Array(nt),te=0;te<ee.length;te++)ee[te]=X[32+te];return{publicKey:ee,secretKey:new Uint8Array(X)}},e.sign.keyPair.fromSeed=function(X){if(it(X),X.length!==Ut)throw new Error("bad seed size");for(var ee=new Uint8Array(nt),te=new Uint8Array(It),H=0;H<32;H++)te[H]=X[H];return Ke(ee,te,!0),{publicKey:ee,secretKey:te}},e.sign.publicKeyLength=nt,e.sign.secretKeyLength=It,e.sign.seedLength=Ut,e.sign.signatureLength=gt,e.hash=function(X){it(X);var ee=new Uint8Array(bt);return We(ee,X,X.length),ee},e.hash.hashLength=bt,e.verify=function(X,ee){return it(X,ee),X.length===0||ee.length===0||X.length!==ee.length?!1:x(X,0,ee,0,X.length)===0},e.setPRNG=function(X){n=X},function(){var X=typeof self<"u"?self.crypto||self.msCrypto:null;if(X&&X.getRandomValues){var ee=65536;e.setPRNG(function(te,H){var ie,fe=new Uint8Array(H);for(ie=0;ie<H;ie+=ee)X.getRandomValues(fe.subarray(ie,ie+Math.min(H-ie,ee)));for(ie=0;ie<H;ie++)te[ie]=fe[ie];Tt(fe)})}else typeof UF<"u"&&(X=z1,X&&X.randomBytes&&e.setPRNG(function(te,H){var ie,fe=X.randomBytes(H);for(ie=0;ie<H;ie++)te[ie]=fe[ie];Tt(fe)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Sle);var qk=Sle.exports;const Ple=La(qk),kle={bitcoin:"m/84'/0'/0'/0/0",ethereum:"m/44'/60'/0'/0/0",solana:"m/44'/501'/0'/0'",tron:"m/44'/195'/0'/0/0"},X1={bitcoin:"https://blockstream.info/api",solana:"https://api.mainnet-beta.solana.com",tron:"https://api.trongrid.io"};function Jo(t){return wt(ts(t))}function uRe(t){return wt(uf(t))}function Ile(t){return uRe(Jo(t))}function dRe(t){const e=Ta.fromPhrase(t,void 0,kle.bitcoin),r=wt(e.publicKey),n=Ile(r),s=fRe(n);return{address:hRe("bc",[0,...s]),privateKey:e.privateKey,publicKey:e.publicKey}}function fRe(t){const e=[];let r=0,n=0;for(const s of t)for(r=r<<8|s,n+=8;n>=5;)n-=5,e.push(r>>n&31);return n>0&&e.push(r<<5-n&31),e}function hRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function n(c){const l=[996825010,642813549,513874426,1027748829,705979059];let u=1;for(const f of c){const h=u>>25;u=(u&33554431)<<5^f;for(let m=0;m<5;m++)h>>m&1&&(u^=l[m])}return u}function s(c){const l=[];for(const u of c)l.push(u.charCodeAt(0)>>5);l.push(0);for(const u of c)l.push(u.charCodeAt(0)&31);return l}function i(c,l){const u=[...s(c),...l,0,0,0,0,0,0],f=n(u)^1,h=[];for(let m=0;m<6;m++)h.push(f>>5*(5-m)&31);return h}const a=i(t,e);let o=t+"1";for(const c of[...e,...a])o+=r[c];return o}function pRe(t){const r=tRe(t).slice(0,32),n=Ple.sign.keyPair.fromSeed(r);return{address:ih.encode(n.publicKey),secretKey:n.secretKey,keypair:n}}function mRe(t){const e=Ta.fromPhrase(t,void 0,kle.tron),n=new vl(e.privateKey).publicKey,s=wt(n).slice(1),i=On(s),a=wt(i),o=new Uint8Array(21);o[0]=65,o.set(a.slice(12),1);const c=ts(o),l=ts(wt(c)),u=wt(l).slice(0,4),f=new Uint8Array(25);return f.set(o),f.set(u,21),{address:ih.encode(f),privateKey:e.privateKey.slice(2)}}async function gRe(t){try{const e=await fetch(`${X1.bitcoin}/address/${t}/utxo`);return e.ok?await e.json():[]}catch{return[]}}async function bRe(){try{const t=await fetch(`${X1.bitcoin}/fee-estimates`);if(!t.ok)return 10;const e=await t.json();return Math.ceil(e[6]||10)}catch{return 10}}function yRe(t){const e=[996825010,642813549,513874426,1027748829,705979059];let r=1;for(const n of t){const s=r>>25;r=(r&33554431)<<5^n;for(let i=0;i<5;i++)s>>i&1&&(r^=e[i])}return r}function vRe(t){const e=[];for(const r of t)e.push(r.charCodeAt(0)>>5);e.push(0);for(const r of t)e.push(r.charCodeAt(0)&31);return e}function xRe(t,e){const s=[...vRe(t),...e],i=yRe(s);return i===1?"bech32":i===734539939?"bech32m":null}function wRe(t){const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r=t.lastIndexOf("1");if(r<1||r+7>t.length)return null;const n=t.slice(0,r).toLowerCase();if(n!=="bc"&&n!=="tb")return null;const s=[];for(let m=r+1;m<t.length;m++){const y=e.indexOf(t[m].toLowerCase());if(y===-1)return null;s.push(y)}const i=xRe(n,s);if(!i)return null;const a=s.slice(0,-6);if(a.length===0||a[0]>16)return null;const o=a[0];if(o===0&&i!=="bech32"||o>=1&&i!=="bech32m")return null;const c=a.slice(1);let l=0,u=0;const f=[];for(const m of c)for(l=l<<5|m,u+=5;u>=8;)u-=8,f.push(l>>u&255);const h=new Uint8Array(f);return o===0&&h.length===20?{type:"p2wpkh",program:h,witnessVersion:0}:o===0&&h.length===32?{type:"p2wsh",program:h,witnessVersion:0}:o===1&&h.length===32?{type:"p2tr",program:h,witnessVersion:1}:null}function ARe(t){try{const e=ih.decode(t);if(e.length!==25)return null;const r=e.slice(0,21),n=e.slice(21),s=Jo(r),a=Jo(s).slice(0,4);for(let l=0;l<4;l++)if(n[l]!==a[l])return null;const o=r[0],c=r.slice(1);return o===0?{type:"p2pkh",program:c}:o===5?{type:"p2sh",program:c}:null}catch{return null}}function SRe(t){return t.toLowerCase().startsWith("bc1")||t.toLowerCase().startsWith("tb1")?wRe(t):ARe(t)}function PRe(t){switch(t.type){case"p2wpkh":return new Uint8Array([0,20,...t.program]);case"p2wsh":return new Uint8Array([0,32,...t.program]);case"p2tr":return new Uint8Array([81,32,...t.program]);case"p2pkh":return new Uint8Array([118,169,20,...t.program,136,172]);case"p2sh":return new Uint8Array([169,20,...t.program,135]);default:return new Uint8Array([0,20,...t.program])}}function c2(t){if(t<253)return new Uint8Array([t]);if(t<=65535){const e=new Uint8Array(3);return e[0]=253,e[1]=t&255,e[2]=t>>8&255,e}else{const e=new Uint8Array(5);return e[0]=254,e[1]=t&255,e[2]=t>>8&255,e[3]=t>>16&255,e[4]=t>>24&255,e}}function uC(t){const e=wt("0x"+t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[e.length-1-n];return r}function dC(t){const e=new Uint8Array(4);return e[0]=t&255,e[1]=t>>8&255,e[2]=t>>16&255,e[3]=t>>24&255,e}function fC(t){const e=new Uint8Array(8);for(let r=0;r<8;r++)e[r]=Number(t>>BigInt(r*8)&BigInt(255));return e}function kRe(t){return new Uint8Array([0,20,...t])}function IRe(t){return new Uint8Array([118,169,20,...t,136,172])}async function NRe(t,e){try{const{address:r,privateKey:n,publicKey:s}=dRe(e);if(t.from!==r)return console.error("Address mismatch: expected",r,"got",t.from),null;const i=await gRe(r);if(i.length===0)return console.error("No UTXOs available"),null;const a=await bRe(),o=BigInt(Math.floor(parseFloat(t.amount)*1e8)),c=110+i.length*68,l=BigInt(a*c);let u=BigInt(0);const f=[];for(const J of i)if(f.push(J),u+=BigInt(J.value),u>=o+l)break;if(u<o+l)return console.error("Insufficient funds"),null;const h=u-o-l,m=wt(s),y=Ile(m),x=SRe(t.to);if(!x)return console.error("Invalid recipient address"),null;const k=new Uint8Array([1,0,0,0]),C=new Uint8Array([0]),I=new Uint8Array([1]),_=c2(f.length),O=[];for(const J of f){const Z=uC(J.txid),re=dC(J.vout),G=new Uint8Array([0]),z=new Uint8Array([255,255,255,255]),se=new Uint8Array(Z.length+re.length+G.length+z.length);let ce=0;se.set(Z,ce),ce+=Z.length,se.set(re,ce),ce+=re.length,se.set(G,ce),ce+=G.length,se.set(z,ce),O.push(se)}const F=[],D=PRe(x),j=fC(o),T=c2(D.length),R=new Uint8Array(j.length+T.length+D.length);let q=0;R.set(j,q),q+=j.length,R.set(T,q),q+=T.length,R.set(D,q),F.push(R);let $=1;if(h>BigInt(546)){$=2;const J=kRe(y),Z=fC(h),re=c2(J.length),G=new Uint8Array(Z.length+re.length+J.length);let z=0;G.set(Z,z),z+=Z.length,G.set(re,z),z+=re.length,G.set(J,z),F.push(G)}const b=c2($),w=new Uint8Array([0,0,0,0]),p=[],g=new vl(n);for(let J=0;J<f.length;J++){const Z=f[J],re=Jo(Jo((()=>{const V=[];for(const de of f)V.push(uC(de.txid)),V.push(dC(de.vout));const W=V.reduce((de,me)=>de+me.length,0),ne=new Uint8Array(W);let le=0;for(const de of V)ne.set(de,le),le+=de.length;return ne})())),G=Jo(Jo((()=>{const V=new Uint8Array(f.length*4);for(let W=0;W<f.length;W++)V.set([255,255,255,255],W*4);return V})())),z=Jo(Jo((()=>{const V=F.reduce((le,de)=>le+de.length,0),W=new Uint8Array(V);let ne=0;for(const le of F)W.set(le,ne),ne+=le.length;return W})())),se=new Uint8Array(36);se.set(uC(Z.txid),0),se.set(dC(Z.vout),32);const ce=IRe(y),pe=c2(ce.length),_e=fC(BigInt(Z.value)),ke=new Uint8Array([255,255,255,255]),tt=new Uint8Array([1,0,0,0]),mt=4+re.length+G.length+36+pe.length+ce.length+8+4+z.length+4+4,we=new Uint8Array(mt);let We=0;we.set(k,We),We+=4,we.set(re,We),We+=re.length,we.set(G,We),We+=G.length,we.set(se,We),We+=36,we.set(pe,We),We+=pe.length,we.set(ce,We),We+=ce.length,we.set(_e,We),We+=8,we.set(ke,We),We+=4,we.set(z,We),We+=z.length,we.set(w,We),We+=4,we.set(tt,We);const Ae=Jo(Jo(we)),Oe=g.sign(Ae),qe=wt(Oe.r),Fe=wt(Oe.s),ze=qe[0]>=128?new Uint8Array([0,...qe]):qe,Ke=Fe[0]>=128?new Uint8Array([0,...Fe]):Fe,ct=new Uint8Array([48,ze.length+Ke.length+4,2,ze.length,...ze,2,Ke.length,...Ke,1]),Y=new Uint8Array([2,ct.length,...ct,m.length,...m]);p.push(Y)}let S=k.length+C.length+I.length+_.length;for(const J of O)S+=J.length;S+=b.length;for(const J of F)S+=J.length;for(const J of p)S+=J.length;S+=w.length;const N=new Uint8Array(S);let P=0;N.set(k,P),P+=k.length,N.set(C,P),P+=C.length,N.set(I,P),P+=I.length,N.set(_,P),P+=_.length;for(const J of O)N.set(J,P),P+=J.length;N.set(b,P),P+=b.length;for(const J of F)N.set(J,P),P+=J.length;for(const J of p)N.set(J,P),P+=J.length;N.set(w,P);const A=xt(N).slice(2);let v=k.length+_.length;for(const J of O)v+=J.length;v+=b.length;for(const J of F)v+=J.length;v+=w.length;const E=new Uint8Array(v);let M=0;E.set(k,M),M+=k.length,E.set(_,M),M+=_.length;for(const J of O)E.set(J,M),M+=J.length;E.set(b,M),M+=b.length;for(const J of F)E.set(J,M),M+=J.length;E.set(w,M);const L=Jo(Jo(E)),Q=new Uint8Array(L.length);for(let J=0;J<L.length;J++)Q[J]=L[L.length-1-J];const U=xt(Q).slice(2);return{signedTx:A,txHash:U}}catch(r){return console.error("Error building Bitcoin transaction:",r),null}}async function ERe(t,e){try{const{address:r,secretKey:n}=pRe(e);if(t.from!==r)return console.error("Address mismatch"),null;const s=Math.floor(parseFloat(t.amount)*1e9),i=ih.decode(t.from),a=ih.decode(t.to),l=(await(await fetch(X1.solana,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getLatestBlockhash",params:[{commitment:"finalized"}]})})).json()).result.value.blockhash,u=new Uint8Array(32),f=1,h=new Uint8Array([f,0,1]),m=new Uint8Array(32*3);m.set(i,0),m.set(a,32),m.set(u,64);const y=ih.decode(l),x=new Uint8Array(12);x[0]=2;const k=BigInt(s);for(let R=0;R<8;R++)x[4+R]=Number(k>>BigInt(R*8)&BigInt(255));const C=new Uint8Array(5+x.length);C[0]=2,C[1]=2,C[2]=0,C[3]=1,C[4]=12,C.set(x,5);const I=h.length+1+m.length+y.length+1+C.length,_=new Uint8Array(I);let O=0;_.set(h,O),O+=h.length,_[O]=3,O+=1,_.set(m,O),O+=m.length,_.set(y,O),O+=y.length,_[O]=1,O+=1,_.set(C,O);const F=Ple.sign.detached(_,n),D=new Uint8Array(1+F.length+_.length);D[0]=1,D.set(F,1),D.set(_,1+F.length);const j=ih.encode(D),T=ih.encode(F);return{signedTx:j,txHash:T}}catch(r){return console.error("Error building Solana transaction:",r),null}}async function CRe(t,e){try{const{address:r,privateKey:n}=mRe(e);if(t.from!==r)return console.error("Address mismatch"),null;const s=Math.floor(parseFloat(t.amount)*1e6),i=await fetch(`${X1.tron}/wallet/createtransaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner_address:r,to_address:t.to,amount:s})});if(!i.ok)throw new Error("Failed to create TRON transaction");const a=await i.json(),o=a.txID,c=new vl("0x"+n),l=wt("0x"+o),u=c.sign(l),f=u.r.slice(2)+u.s.slice(2)+(u.v===27?"00":"01"),h={...a,signature:[f]};return{signedTx:JSON.stringify(h),txHash:o}}catch(r){return console.error("Error building TRON transaction:",r),null}}async function _Re(t){try{const e=await fetch(`${X1.bitcoin}/tx`,{method:"POST",headers:{"Content-Type":"text/plain"},body:t});if(!e.ok){const r=await e.text();return console.error("Bitcoin broadcast error:",r),null}return await e.text()}catch(e){return console.error("Error broadcasting Bitcoin transaction:",e),null}}async function TRe(t){try{const r=await(await fetch(X1.solana,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[t,{encoding:"base58"}]})})).json();return r.error?(console.error("Solana broadcast error:",r.error),null):r.result}catch(e){return console.error("Error broadcasting Solana transaction:",e),null}}async function jRe(t){try{const e=JSON.parse(t),n=await(await fetch(`${X1.tron}/wallet/broadcasttransaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return n.result?n.txid||e.txID:(console.error("TRON broadcast error:",n),null)}catch(e){return console.error("Error broadcasting TRON transaction:",e),null}}async function LM(t,e){let r=null;switch(t.chainType){case"bitcoin":r=await NRe(t,e);break;case"solana":r=await ERe(t,e);break;case"tron":r=await CRe(t,e);break;default:return console.error("Unsupported chain type:",t.chainType),null}return r?{chainType:t.chainType,signedTx:r.signedTx,txHash:r.txHash}:null}async function MRe(t,e){try{let r=null;switch(t){case"bitcoin":r=await _Re(e);break;case"solana":r=await TRe(e);break;case"tron":r=await jRe(e);break;default:return{success:!1,error:`Unsupported chain type: ${t}`}}return r?{success:!0,txHash:r}:{success:!1,error:"Failed to broadcast transaction"}}catch(r){return console.error("Broadcast error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown broadcast error"}}}const r9={ethereum:"44'/60'/0'/0/0",bitcoin:"44'/0'/0'/0/0"};class $Re{constructor(){this.transport=null,this.ethApp=null,this.state={type:null,status:"disconnected",deviceName:null,error:null},this.listeners=new Set,this.simulatedSeedPhrase=null,this.simulatedPinHash=null,this.sessionTimeout=null,this.sessionTimeoutMs=5*60*1e3,this.picoHasWallet=!1,this.usingMobileUsb=!1,this.mobileMonitoringStarted=!1}async hashPin(e,r){const s=new TextEncoder().encode(e+(r||"securevault-salt")),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}generateSalt(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")}async encryptSeed(e,r){const n=new TextEncoder,s=await crypto.subtle.importKey("raw",n.encode(r),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),i=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n.encode("hardwallet-salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!1,["encrypt"]),a=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},i,n.encode(e)),c=new Uint8Array(a.length+new Uint8Array(o).length);return c.set(a),c.set(new Uint8Array(o),a.length),btoa(String.fromCharCode(...c))}async decryptSeed(e,r){try{const n=new TextEncoder,s=new Uint8Array(atob(e).split("").map(u=>u.charCodeAt(0))),i=s.slice(0,12),a=s.slice(12),o=await crypto.subtle.importKey("raw",n.encode(r),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n.encode("hardwallet-salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["decrypt"]),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},c,a);return new TextDecoder().decode(l)}catch{return null}}getState(){return{...this.state}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}setState(e){this.state={...this.state,...e},this.listeners.forEach(r=>r(this.getState()))}isMobileDevice(){return typeof navigator>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints>0&&/Mobile|Tablet/i.test(navigator.userAgent)}isWebHIDSupported(){return typeof navigator<"u"&&"hid"in navigator}isWebSerialSupported(){return ci.isWebSerialSupported()}hasWalletOnDevice(){return this.picoHasWallet}setHasWalletOnDevice(e){this.picoHasWallet=e}async initMobileDeviceMonitoring(){if(this.mobileMonitoringStarted||!cy())return;this.mobileMonitoringStarted=!0,console.log("[HardwareWallet] Starting mobile USB device monitoring..."),Is.onDeviceAttached(async n=>{console.log("[HardwareWallet] USB device attached, attempting auto-connect:",n),n.vendorId===11914&&await this.connectRaspberryPi()}),Is.onDeviceDetached(()=>{console.log("[HardwareWallet] USB device detached"),this.usingMobileUsb&&(this.setState({type:null,status:"disconnected",deviceName:null,error:"Hardware wallet disconnected"}),this.usingMobileUsb=!1,this.picoHasWallet=!1)}),await Is.startDeviceMonitoring();const e=await Is.getDeviceList();console.log("[HardwareWallet] Initial device list:",e),e.find(n=>n.vendorId===11914)&&(console.log("[HardwareWallet] Pico device already connected, auto-connecting..."),await this.connectRaspberryPi())}async connectRaspberryPi(){var e;if(console.log("[HardwareWallet] connectRaspberryPi() called"),cy()){console.log("[HardwareWallet] Trying mobile USB serial...");try{if(await Is.isAvailable())return await this.connectViaMobileUsb()}catch(r){console.log("[HardwareWallet] Mobile USB not available:",r)}}if(!this.isWebSerialSupported()){console.log("[HardwareWallet] WebSerial not supported");const r=this.isMobileDevice();return this.setState({error:r?"No Pico detected via USB. Connect your Pico using an OTG cable or use the Mobile Bridge.":"WebSerial is not supported in this browser. Please use Chrome or Edge on desktop.",status:"disconnected"}),!1}try{this.setState({status:"connecting",error:null}),console.log("[HardwareWallet] Status set to 'connecting'");const r=await ci.connect();if(console.log("[HardwareWallet] piWallet.connect() result:",r),!r)throw new Error("Failed to connect to Raspberry Pi");const n=await ci.ping();if(console.log("[HardwareWallet] piWallet.ping() result:",n),!n)throw new Error("Device not responding");const s=await ci.getStatus();return console.log("[HardwareWallet] piWallet.getStatus() result:",s),this.picoHasWallet=(s==null?void 0:s.has_seed)===!0,console.log("[HardwareWallet] Device has wallet:",this.picoHasWallet),this.usingMobileUsb=!1,this.setState({type:"raspberry_pi",status:"connected",deviceName:(s==null?void 0:s.device_name)||"Raspberry Pi Wallet",error:null}),console.log("[HardwareWallet] Final state:",this.getState()),!0}catch(r){let n="Failed to connect to Raspberry Pi wallet";return(e=r.message)!=null&&e.includes("No device selected")?n="No device selected. Please try again.":r.message&&(n=r.message),this.setState({type:null,status:"disconnected",deviceName:null,error:n}),!1}}async connectViaMobileUsb(){try{if(this.setState({status:"connecting",error:null}),console.log("[HardwareWallet] Connecting via mobile USB..."),!await Is.connect())throw new Error("Failed to connect via mobile USB");if(!await Is.ping())throw new Error("Device not responding");const n=await Is.getStatus();return this.picoHasWallet=(n==null?void 0:n.has_seed)===!0,this.usingMobileUsb=!0,this.setState({type:"raspberry_pi",status:"connected",deviceName:(n==null?void 0:n.device_name)||"Pico Wallet (USB OTG)",error:null}),!0}catch(e){return console.log("[HardwareWallet] Mobile USB connection failed:",e),this.setState({type:null,status:"disconnected",deviceName:null,error:e.message||"Failed to connect via USB"}),!1}}isUsingMobileUsb(){return this.usingMobileUsb}async connectLedger(){var e;if(!this.isWebHIDSupported())return this.setState({error:"WebHID is not supported in this browser. Please use Chrome, Edge, or Opera.",status:"disconnected"}),!1;try{this.setState({status:"connecting",error:null}),this.transport=await gj.create(),this.ethApp=new FTe(this.transport);const r=await this.ethApp.getAppConfiguration();return this.setState({type:"ledger",status:"connected",deviceName:`Ledger (Ethereum App v${r.version})`,error:null}),this.transport&&this.transport.on("disconnect",()=>{this.handleDisconnect()}),!0}catch(r){let n="Failed to connect to Ledger device";return r.name==="TransportOpenUserCancelled"?n="Connection cancelled by user":(e=r.message)!=null&&e.includes("No device selected")?n="No device selected. Please try again.":r.statusCode===26368?n="Please open the Ethereum app on your Ledger":r.statusCode===28160&&(n="App not open. Please open the Ethereum app on your Ledger"),this.setState({type:null,status:"disconnected",deviceName:null,error:n}),!1}}async connectSimulated(e,r){try{this.setState({status:"connecting",error:null});const n=e.trim().split(/\s+/);if(n.length!==12&&n.length!==24)throw new Error("Seed phrase must be 12 or 24 words");try{un.fromPhrase(e)}catch{throw new Error("Invalid seed phrase")}if(this.simulatedSeedPhrase=e,r){const s=this.generateSalt();this.simulatedPinHash=await this.hashPin(r,s);const i=await this.encryptSeed(e,r);await At.saveHardWalletEncryptedSeed(i,this.simulatedPinHash,s)}return this.setState({type:"simulated",status:"connected",deviceName:"Simulated Hardware Wallet",error:null}),!0}catch(n){return this.setState({type:null,status:"disconnected",deviceName:null,error:n.message||"Failed to create simulated wallet"}),!1}}async setPin(e){if(e.length<4||e.length>6||!/^\d+$/.test(e))return this.setState({error:"PIN must be 4-6 digits"}),!1;const r=this.generateSalt();if(this.simulatedPinHash=await this.hashPin(e,r),this.simulatedSeedPhrase){const n=await this.encryptSeed(this.simulatedSeedPhrase,e);await At.saveHardWalletEncryptedSeed(n,this.simulatedPinHash,r)}return!0}async unlock(e){if(this.state.type==="raspberry_pi")try{return this.usingMobileUsb?await Is.unlock(e):await ci.unlock(e),this.setState({status:"unlocked"}),this.startSessionTimeout(),!0}catch(r){return this.setState({error:r.message||"Failed to unlock"}),!1}if(this.state.type==="simulated"){if(e.length<4||e.length>6||!/^\d+$/.test(e))return this.setState({error:"PIN must be 4-6 digits"}),!1;const r=await At.getHardWalletPinHash(),n=await At.getHardWalletPinSalt(),s=await At.getHardWalletEncryptedSeed();if(r&&n&&s){if(await this.hashPin(e,n)!==r)return this.setState({error:"Incorrect PIN"}),!1;const a=await this.decryptSeed(s,e);if(!a)return this.setState({error:"Failed to decrypt wallet"}),!1;this.simulatedSeedPhrase=a,this.simulatedPinHash=r}else if(this.simulatedPinHash){if(await this.hashPin(e)!==this.simulatedPinHash)return this.setState({error:"Incorrect PIN"}),!1}else{const i=this.generateSalt();if(this.simulatedPinHash=await this.hashPin(e,i),this.simulatedSeedPhrase){const a=await this.encryptSeed(this.simulatedSeedPhrase,e);await At.saveHardWalletEncryptedSeed(a,this.simulatedPinHash,i)}}return this.setState({status:"unlocked"}),this.startSessionTimeout(),!0}return this.state.type==="ledger"&&this.state.status==="connected"?(this.setState({status:"unlocked"}),this.startSessionTimeout(),!0):!1}async getAddress(e=1){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked. Please unlock first."}),null;try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?await Is.getAddress(e):await ci.getAddress(e);if(this.state.type==="ledger"&&this.ethApp){const r=r9.ethereum;return(await this.ethApp.getAddress(r)).address}if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=un.fromPhrase(this.simulatedSeedPhrase);return Ta.fromMnemonic(r,"m/44'/60'/0'/0/0").address}return null}catch(r){return this.setState({error:r.message||"Failed to get address"}),null}}async getMultipleAddresses(e){if(this.state.status!=="unlocked")return[];const r=[];try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?(await Is.getAddresses(e)).map(i=>({path:i.path,address:i.address,chainId:i.chainId})):(await ci.getAddresses(e)).map(s=>({path:s.path,address:s.address,chainId:s.chainId}));if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const n=un.fromPhrase(this.simulatedSeedPhrase);for(const s of e){const i="m/44'/60'/0'/0/0",a=Ta.fromMnemonic(n,i);r.push({path:i,address:a.address,chainId:s})}}if(this.state.type==="ledger"&&this.ethApp){const n=r9.ethereum,s=await this.ethApp.getAddress(n);for(const i of e)r.push({path:n,address:s.address,chainId:i})}}catch(n){this.setState({error:n.message||"Failed to derive addresses"})}return r}async signTransaction(e){var r,n,s,i,a;if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="raspberry_pi"){const o={to:e.to,value:((r=e.value)==null?void 0:r.toString())||"0",data:e.data,nonce:Number(e.nonce),gasLimit:((n=e.gasLimit)==null?void 0:n.toString())||"21000",gasPrice:(s=e.gasPrice)==null?void 0:s.toString(),maxFeePerGas:(i=e.maxFeePerGas)==null?void 0:i.toString(),maxPriorityFeePerGas:(a=e.maxPriorityFeePerGas)==null?void 0:a.toString(),chainId:Number(e.chainId)||1};return this.usingMobileUsb?await Is.signTransaction(o):await ci.signTransaction(o)}if(this.state.type==="simulated"){if(!this.simulatedSeedPhrase)return await At.getHardWalletEncryptedSeed()&&this.simulatedPinHash?(this.setState({error:"Wallet needs to be unlocked again"}),null):(this.setState({error:"No seed phrase available for signing"}),null);const o=un.fromPhrase(this.simulatedSeedPhrase);return await Ta.fromMnemonic(o,"m/44'/60'/0'/0/0").signTransaction(e)}if(this.state.type==="ledger"&&this.ethApp){const o=r9.ethereum,c={to:e.to,value:e.value,data:e.data,nonce:e.nonce,gasLimit:e.gasLimit,gasPrice:e.gasPrice,chainId:e.chainId},u=P1.from(c).unsignedSerialized.slice(2),f=await this.ethApp.signTransaction(o,u);return P1.from({...c,signature:{r:"0x"+f.r,s:"0x"+f.s,v:parseInt(f.v,16)}}).serialized}return null}catch(o){return this.setState({error:o.message||"Failed to sign transaction"}),null}}async signNonEvmTransaction(e){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=await LM(e,this.simulatedSeedPhrase);return r||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}if(this.state.type==="raspberry_pi"){let r=null;if(this.usingMobileUsb?(r=Is.getSeedPhrase(),r||(r=await Is.ensureSeedCached())):r=ci.getSeedPhrase(),!r)return this.setState({error:"Wallet seed not available. Please reconnect and unlock."}),null;const n=await LM(e,r);return n||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}return this.state.type==="ledger"&&this.setState({error:"Non-EVM signing on Ledger is not yet supported"}),null}catch(r){return this.setState({error:r.message||"Failed to sign non-EVM transaction"}),null}}async signMessage(e){if(this.state.status!=="unlocked")return this.setState({error:"Device is locked"}),null;try{if(this.state.type==="raspberry_pi")return this.usingMobileUsb?await Is.signMessage(e):await ci.signMessage(e);if(this.state.type==="simulated"&&this.simulatedSeedPhrase){const r=un.fromPhrase(this.simulatedSeedPhrase);return await Ta.fromMnemonic(r,"m/44'/60'/0'/0/0").signMessage(e)}if(this.state.type==="ledger"&&this.ethApp){const r=r9.ethereum,n=Buffer.from(e),s=await this.ethApp.signPersonalMessage(r,n),i=typeof s.v=="string"?Number.parseInt(s.v,16):s.v;return mc.from({r:"0x"+s.r,s:"0x"+s.s,v:i}).serialized}return null}catch(r){return this.setState({error:r.message||"Failed to sign message"}),null}}handleDisconnect(){this.transport=null,this.ethApp=null,this.setState({type:null,status:"disconnected",deviceName:null,error:"Device disconnected"})}async disconnect(){this.clearSessionTimeout(),this.state.type==="raspberry_pi"&&(this.usingMobileUsb?await Is.disconnect():await ci.disconnect()),this.transport&&await this.transport.close(),this.transport=null,this.ethApp=null,this.simulatedSeedPhrase=null,this.simulatedPinHash=null,this.picoHasWallet=!1,this.usingMobileUsb=!1,this.setState({type:null,status:"disconnected",deviceName:null,error:null})}async lock(){this.state.status==="unlocked"&&(this.clearSessionTimeout(),this.state.type==="raspberry_pi"&&(this.usingMobileUsb?await Is.lock():await ci.lock()),this.setState({status:"connected"}))}startSessionTimeout(){this.clearSessionTimeout(),this.sessionTimeout=setTimeout(()=>{this.state.status==="unlocked"&&this.lock()},this.sessionTimeoutMs)}clearSessionTimeout(){this.sessionTimeout&&(clearTimeout(this.sessionTimeout),this.sessionTimeout=null)}resetSessionTimeout(){this.state.status==="unlocked"&&this.startSessionTimeout()}setSessionTimeoutMs(e){this.sessionTimeoutMs=e,this.state.status==="unlocked"&&this.startSessionTimeout()}getSessionTimeoutMs(){return this.sessionTimeoutMs}getSeedPhrase(){return this.state.type==="simulated"&&this.simulatedSeedPhrase?this.simulatedSeedPhrase:null}async getSeedPhraseFromDevice(){if(this.state.type==="raspberry_pi")try{return this.usingMobileUsb?await Is.getSeedPhrase():await ci.getSeedPhrase()}catch(e){return console.error("Failed to get seed phrase from device:",e),null}return this.getSeedPhrase()}async hasStoredHardWallet(){return await At.hasHardWalletEncryptedSeed()}async reconnectFromStorage(){return await At.hasHardWalletEncryptedSeed()?(this.setState({type:"simulated",status:"connected",deviceName:"Simulated Hardware Wallet",error:null}),!0):!1}async saveChainPreferences(e){if(this.state.type==="raspberry_pi"&&this.state.status==="unlocked")try{return(this.usingMobileUsb?await Is.saveChains(e):await ci.saveChains(e))?(console.log("[HardwareWallet] Chain preferences saved to hardware"),!0):(console.log("[HardwareWallet] Hardware doesn't support chain storage, using fallback"),await At.saveHardWalletChainPreferences(e),!0)}catch(r){return console.error("[HardwareWallet] Failed to save chains to hardware:",r),await At.saveHardWalletChainPreferences(e),!0}return await At.saveHardWalletChainPreferences(e),!0}async getChainPreferences(){if(this.state.type==="raspberry_pi"&&this.state.status==="unlocked")try{const e=this.usingMobileUsb?await Is.getChains():await ci.getChains();return e!==null?(console.log("[HardwareWallet] Chain preferences loaded from hardware:",e),e):(console.log("[HardwareWallet] Hardware doesn't support chain storage, using fallback"),await At.getHardWalletChainPreferences())}catch(e){return console.error("[HardwareWallet] Failed to load chains from hardware:",e),await At.getHardWalletChainPreferences()}return await At.getHardWalletChainPreferences()}async setupWallet(e,r){console.log("[HardwareWallet] setupWallet called, usingMobileUsb:",this.usingMobileUsb);try{return this.usingMobileUsb?(console.log("[HardwareWallet] Setting up via mobile USB..."),await Is.setupWallet(e,r)):(console.log("[HardwareWallet] Setting up via desktop serial..."),await ci.setupWallet(e,r))}catch(n){throw console.error("[HardwareWallet] setupWallet failed:",n),n}}}const tr=new $Re,ORe=Object.freeze(Object.defineProperty({__proto__:null,hardwareWallet:tr},Symbol.toStringTag,{value:"Module"})),BRe="Input must be an string, Buffer or Uint8Array";function FRe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(BRe);return e}function RRe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function n9(t){return(4294967296+t).toString(16).substring(1)}function DRe(t,e,r){let n=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(r===32)n+=n9(e[s]).toUpperCase(),n+=" ",n+=n9(e[s+1]).toUpperCase();else if(r===64)n+=n9(e[s+1]).toUpperCase(),n+=n9(e[s]).toUpperCase();else throw new Error("Invalid size "+r);s%6===4?n+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(n+=" ")}console.log(n)}function URe(t,e,r){let n=new Date().getTime();const s=new Uint8Array(e);for(let a=0;a<e;a++)s[a]=a%256;const i=new Date().getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let a=0;a<r;a++){const o=t(s),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var Nle={normalizeInput:FRe,toHex:RRe,debugPrint:DRe,testSpeed:URe};const x7=Nle;function s9(t,e,r){const n=t[e]+t[r];let s=t[e+1]+t[r+1];n>=4294967296&&s++,t[e]=n,t[e+1]=s}function fW(t,e,r,n){let s=t[e]+r;r<0&&(s+=4294967296);let i=t[e+1]+n;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function Ele(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function h0(t,e,r,n,s,i){const a=J2[s],o=J2[s+1],c=J2[i],l=J2[i+1];s9(vr,t,e),fW(vr,t,a,o);let u=vr[n]^vr[t],f=vr[n+1]^vr[t+1];vr[n]=f,vr[n+1]=u,s9(vr,r,n),u=vr[e]^vr[r],f=vr[e+1]^vr[r+1],vr[e]=u>>>24^f<<8,vr[e+1]=f>>>24^u<<8,s9(vr,t,e),fW(vr,t,c,l),u=vr[n]^vr[t],f=vr[n+1]^vr[t+1],vr[n]=u>>>16^f<<16,vr[n+1]=f>>>16^u<<16,s9(vr,r,n),u=vr[e]^vr[r],f=vr[e+1]^vr[r+1],vr[e]=f>>>31^u<<1,vr[e+1]=u>>>31^f<<1}const Cle=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),zRe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ha=new Uint8Array(zRe.map(function(t){return t*2})),vr=new Uint32Array(32),J2=new Uint32Array(32);function _le(t,e){let r=0;for(r=0;r<16;r++)vr[r]=t.h[r],vr[r+16]=Cle[r];for(vr[24]=vr[24]^t.t,vr[25]=vr[25]^t.t/4294967296,e&&(vr[28]=~vr[28],vr[29]=~vr[29]),r=0;r<32;r++)J2[r]=Ele(t.b,4*r);for(r=0;r<12;r++)h0(0,8,16,24,ha[r*16+0],ha[r*16+1]),h0(2,10,18,26,ha[r*16+2],ha[r*16+3]),h0(4,12,20,28,ha[r*16+4],ha[r*16+5]),h0(6,14,22,30,ha[r*16+6],ha[r*16+7]),h0(0,10,20,30,ha[r*16+8],ha[r*16+9]),h0(2,12,22,24,ha[r*16+10],ha[r*16+11]),h0(4,14,16,26,ha[r*16+12],ha[r*16+13]),h0(6,8,18,28,ha[r*16+14],ha[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^vr[r]^vr[r+16]}const p0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Tle(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};p0.fill(0),p0[0]=t,e&&(p0[1]=e.length),p0[2]=1,p0[3]=1,r&&p0.set(r,32),n&&p0.set(n,48);for(let i=0;i<16;i++)s.h[i]=Cle[i]^Ele(p0,i*4);return e&&(vR(s,e),s.c=128),s}function vR(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,_le(t,!1),t.c=0),t.b[t.c++]=e[r]}function jle(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;_le(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Mle(t,e,r,n,s){r=r||64,t=x7.normalizeInput(t),n&&(n=x7.normalizeInput(n)),s&&(s=x7.normalizeInput(s));const i=Tle(r,e,n,s);return vR(i,t),jle(i)}function LRe(t,e,r,n,s){const i=Mle(t,e,r,n,s);return x7.toHex(i)}var VRe={blake2b:Mle,blake2bHex:LRe,blake2bInit:Tle,blake2bUpdate:vR,blake2bFinal:jle};const $le=Nle;function HRe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function m0(t,e,r,n,s,i){on[t]=on[t]+on[e]+s,on[n]=i9(on[n]^on[t],16),on[r]=on[r]+on[n],on[e]=i9(on[e]^on[r],12),on[t]=on[t]+on[e]+i,on[n]=i9(on[n]^on[t],8),on[r]=on[r]+on[n],on[e]=i9(on[e]^on[r],7)}function i9(t,e){return t>>>e^t<<32-e}const Ole=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pa=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),on=new Uint32Array(16),ji=new Uint32Array(16);function Ble(t,e){let r=0;for(r=0;r<8;r++)on[r]=t.h[r],on[r+8]=Ole[r];for(on[12]^=t.t,on[13]^=t.t/4294967296,e&&(on[14]=~on[14]),r=0;r<16;r++)ji[r]=HRe(t.b,4*r);for(r=0;r<10;r++)m0(0,4,8,12,ji[pa[r*16+0]],ji[pa[r*16+1]]),m0(1,5,9,13,ji[pa[r*16+2]],ji[pa[r*16+3]]),m0(2,6,10,14,ji[pa[r*16+4]],ji[pa[r*16+5]]),m0(3,7,11,15,ji[pa[r*16+6]],ji[pa[r*16+7]]),m0(0,5,10,15,ji[pa[r*16+8]],ji[pa[r*16+9]]),m0(1,6,11,12,ji[pa[r*16+10]],ji[pa[r*16+11]]),m0(2,7,8,13,ji[pa[r*16+12]],ji[pa[r*16+13]]),m0(3,4,9,14,ji[pa[r*16+14]],ji[pa[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=on[r]^on[r+8]}function Fle(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(Ole),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(xR(n,e),n.c=64),n}function xR(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,Ble(t,!1),t.c=0),t.b[t.c++]=e[r]}function Rle(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Ble(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function Dle(t,e,r){r=r||32,t=$le.normalizeInput(t);const n=Fle(r,e);return xR(n,t),Rle(n)}function qRe(t,e,r){const n=Dle(t,e,r);return $le.toHex(n)}var WRe={blake2s:Dle,blake2sHex:qRe,blake2sInit:Fle,blake2sUpdate:xR,blake2sFinal:Rle};const l2=VRe,u2=WRe;var Ule={blake2b:l2.blake2b,blake2bHex:l2.blake2bHex,blake2bInit:l2.blake2bInit,blake2bUpdate:l2.blake2bUpdate,blake2bFinal:l2.blake2bFinal,blake2s:u2.blake2s,blake2sHex:u2.blake2sHex,blake2sInit:u2.blake2sInit,blake2sUpdate:u2.blake2sUpdate,blake2sFinal:u2.blake2sFinal};const KRe={BTC:0,LTC:2,DOGE:3,BCH:145,ETH:60,BNB:60,MATIC:60,AVAX:60,ARB:60,XRP:144,TRX:195,SOL:501,ADA:1815,ATOM:118,OSMO:118,DOT:354};function o5(t,e=0){const r=KRe[t]??60;switch(t){case"BTC":case"LTC":return`m/84'/${r}'/${e}'/0/0`;case"SOL":return`m/44'/${r}'/${e}'/0'`;case"ADA":return`m/1852'/${r}'/${e}'/0'/0'`;case"DOT":return`m/44'/${r}'/${e}'/0'/0'`;default:return`m/44'/${r}'/${e}'/0/0`}}const XRe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ZRe="rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz";function Wk(t,e=XRe){if(t.length===0)return"";let r="",n=BigInt("0x"+jA.Buffer.from(t).toString("hex"));for(;n>BigInt(0);){const s=Number(n%BigInt(58));r=e[s]+r,n=n/BigInt(58)}for(let s=0;s<t.length&&t[s]===0;s++)r=e[0]+r;return r||e[0]}function VM(t,e,r=0){try{const n=o5(e,r),s=un.fromPhrase(t);return Ta.fromMnemonic(s,n).address}catch(n){return console.error("EVM derivation error:",n),""}}function JRe(t,e,r=0){try{const n=o5(e,r),s=un.fromPhrase(t),a=Ta.fromMnemonic(s,n).publicKey,o=wt(a),c=ts(o),l=uf(c),u=wt(l);if(e==="BTC"||e==="LTC")return QRe(e==="LTC"?"ltc":"bc",u);{let f;e==="DOGE"?f=30:f=0;const h=new Uint8Array(21);h[0]=f,h.set(u,1);const m=wt(ts(h)),x=wt(ts(m)).slice(0,4),k=new Uint8Array(25);return k.set(h),k.set(x,21),Wk(k)}}catch(n){return console.error(`${e} derivation error:`,n),""}}function QRe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const y=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=y>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,y){let x=0,k=0;const C=[],I=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,C.push(x>>k&I);return k>0&&C.push(x<<m-k&I),C}const o=[0,...a(e,8,5)],c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}function YRe(t,e=0){try{const r=o5("XRP",e),n=un.fromPhrase(t),s=Ta.fromMnemonic(n,r),i=wt(s.publicKey),a=ts(i),o=uf(a),c=wt(o),l=new Uint8Array(21);l[0]=0,l.set(c,1);const u=wt(ts(l)),h=wt(ts(u)).slice(0,4),m=new Uint8Array(25);return m.set(l),m.set(h,21),Wk(m,ZRe)}catch(r){return console.error("XRP derivation error:",r),""}}function GRe(t,e=0){try{const r=VM(t,"TRX",e);if(!r)return"";const n="41"+r.slice(2),s=wt("0x"+n),i=wt(ts(s)),o=wt(ts(i)).slice(0,4),c=new Uint8Array(25);return c.set(s),c.set(o,21),Wk(c)}catch(r){return console.error("TRON derivation error:",r),""}}async function $x(t,e){const r=await crypto.subtle.importKey("raw",t,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),n=await crypto.subtle.sign("HMAC",r,e);return new Uint8Array(n)}async function eDe(t,e=0){try{const n=un.fromPhrase(t).computeSeed(),s=wt(n),i=await $x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147483692,2147484149,2147483648+e,2147483648];for(const u of c){const f=new Uint8Array(37);f[0]=0,f.set(a,1),f[33]=u>>24&255,f[34]=u>>16&255,f[35]=u>>8&255,f[36]=u&255;const h=await $x(o,f);a=h.slice(0,32),o=h.slice(32,64)}const l=qk.sign.keyPair.fromSeed(a);return ih.encode(l.publicKey)}catch(r){return console.error("Solana derivation error:",r),""}}function tDe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const y=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=y>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,y){let x=0,k=0;const C=[],I=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,C.push(x>>k&I);return k>0&&C.push(x<<m-k&I),C}const o=a(e,8,5),c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}function rDe(t){return Ule.blake2b(t,void 0,28)}function nDe(t,e=0){const r=new TextEncoder().encode("SS58PRE");let n;if(e<64)n=new Uint8Array([e]);else if(e<16384)n=new Uint8Array([(e&252)>>2|64,e>>8|(e&3)<<6]);else throw new Error("SS58 prefix too large");const s=new Uint8Array(r.length+n.length+t.length);s.set(r,0),s.set(n,r.length),s.set(t,r.length+n.length);const a=Ule.blake2b(s,void 0,64).slice(0,2),o=new Uint8Array(n.length+t.length+2);return o.set(n,0),o.set(t,n.length),o.set(a,n.length+t.length),Wk(o)}async function sDe(t,e=0){try{const n=un.fromPhrase(t).computeSeed(),s=wt(n),i=await $x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147483692,2147484002,2147483648+e,2147483648,2147483648];for(const u of c){const f=new Uint8Array(37);f[0]=0,f.set(a,1),f[33]=u>>24&255,f[34]=u>>16&255,f[35]=u>>8&255,f[36]=u&255;const h=await $x(o,f);a=h.slice(0,32),o=h.slice(32,64)}const l=qk.sign.keyPair.fromSeed(a);return nDe(l.publicKey,0)}catch(r){return console.error("Polkadot derivation error:",r),""}}async function iDe(t,e=0){try{const n=un.fromPhrase(t).computeSeed(),s=wt(n),i=await $x(new TextEncoder().encode("ed25519 seed"),s);let a=i.slice(0,32),o=i.slice(32,64);const c=[2147485500,2147485463,2147483648+e,2147483648,2147483648];for(const m of c){const y=new Uint8Array(37);y[0]=0,y.set(a,1),y[33]=m>>24&255,y[34]=m>>16&255,y[35]=m>>8&255,y[36]=m&255;const x=await $x(o,y);a=x.slice(0,32),o=x.slice(32,64)}const u=qk.sign.keyPair.fromSeed(a).publicKey,f=rDe(u),h=new Uint8Array(29);return h[0]=97,h.set(f,1),tDe("addr",h)}catch(r){return console.error("Cardano derivation error:",r),""}}function aDe(t,e,r=0){try{const n=o5(e,r),s=un.fromPhrase(t),a=Ta.fromMnemonic(s,n).publicKey,o=wt(a),c=ts(o),l=uf(c),u=wt(l);return oDe(e==="OSMO"?"osmo":"cosmos",u)}catch(n){return console.error(`${e} derivation error:`,n),""}}function oDe(t,e){const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n=[996825010,642813549,513874426,1027748829,705979059];function s(f){let h=1;for(const m of f){const y=h>>25;h=(h&33554431)<<5^m;for(let x=0;x<5;x++)h^=y>>x&1?n[x]:0}return h}function i(f){const h=[];for(const m of f)h.push(m.charCodeAt(0)>>5);h.push(0);for(const m of f)h.push(m.charCodeAt(0)&31);return h}function a(f,h,m,y){let x=0,k=0;const C=[],I=(1<<m)-1;for(const _ of f)for(x=x<<h|_,k+=h;k>=m;)k-=m,C.push(x>>k&I);return k>0&&C.push(x<<m-k&I),C}const o=a(e,8,5),c=s([...i(t),...o,0,0,0,0,0,0])^1,l=[];for(let f=0;f<6;f++)l.push(c>>5*(5-f)&31);let u=t+"1";for(const f of o)u+=r[f];for(const f of l)u+=r[f];return u}async function cDe(t,e,r=0){try{try{un.fromPhrase(t)}catch{return console.error("Invalid mnemonic"),null}const n=o5(e,r);let s="";switch(e){case"BTC":case"LTC":case"DOGE":case"BCH":s=JRe(t,e,r);break;case"ETH":case"BNB":case"MATIC":case"AVAX":case"ARB":s=VM(t,e,r);break;case"XRP":s=YRe(t,r);break;case"TRX":s=GRe(t,r);break;case"SOL":s=await eDe(t,r);break;case"ADA":s=await iDe(t,r);break;case"DOT":s=await sDe(t,r);break;case"ATOM":case"OSMO":s=aDe(t,e,r);break;default:s=VM(t,e,r)}return{chainSymbol:e,address:s,path:n}}catch(n){return console.error(`Error deriving address for ${e}:`,n),null}}async function Ub(t,e,r=0){const n=[];for(const s of e){const i=await cDe(t,s,r);i&&i.address&&n.push(i)}return n}const hW=1e5,mb=16,hC=12;class lDe{constructor(){this.state={status:"disconnected",error:null,hasWallet:!1},this.listeners=new Set,this.decryptedSeed=null,this.sessionTimeout=null,this.SESSION_TIMEOUT_MS=5*60*1e3}getState(){return{...this.state}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){const e=this.getState();this.listeners.forEach(r=>r(e))}setState(e){this.state={...this.state,...e},this.notifyListeners()}async deriveKey(e,r){const s=new TextEncoder().encode(e),i=await crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:hW,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptSeed(e,r){const s=new TextEncoder().encode(e),i=crypto.getRandomValues(new Uint8Array(mb)),a=crypto.getRandomValues(new Uint8Array(hC)),o=await this.deriveKey(r,i),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},o,s),l=new Uint8Array(i.length+a.length+c.byteLength);return l.set(i,0),l.set(a,i.length),l.set(new Uint8Array(c),i.length+a.length),btoa(String.fromCharCode(...l))}async decryptSeed(e,r){const n=Uint8Array.from(atob(e),u=>u.charCodeAt(0)),s=n.slice(0,mb),i=n.slice(mb,mb+hC),a=n.slice(mb+hC),o=await this.deriveKey(r,s),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,a);return new TextDecoder().decode(c)}async hashPin(e,r){const n=r||crypto.getRandomValues(new Uint8Array(mb)),i=new TextEncoder().encode(e),a=await crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveBits"]),o=await crypto.subtle.deriveBits({name:"PBKDF2",salt:n,iterations:hW,hash:"SHA-256"},a,256),c=new Uint8Array(o);return{hash:btoa(String.fromCharCode(...c)),salt:btoa(String.fromCharCode(...n))}}async verifyPin(e,r,n){const s=Uint8Array.from(atob(n),a=>a.charCodeAt(0)),{hash:i}=await this.hashPin(e,s);return i===r}async checkWalletExists(){const e=await At.hasEncryptedSeed();return this.setState({hasWallet:e}),e}async setup(e,r){try{const n=e.trim().toLowerCase().split(/\s+/);if(n.length!==12&&n.length!==24)return this.setState({error:"Seed phrase must be 12 or 24 words"}),!1;const s=n.join(" "),i=await this.encryptSeed(s,r),{hash:a,salt:o}=await this.hashPin(r);return await At.saveEncryptedSeed(i,a,o),await At.setSoftWalletSetup(!0),this.decryptedSeed=s,this.setState({status:"unlocked",hasWallet:!0,error:null}),this.startSessionTimeout(),!0}catch(n){return this.setState({error:n.message||"Failed to set up wallet"}),!1}}async unlock(e){try{const r=await At.getPinHash(),n=await At.getPinSalt(),s=await At.getEncryptedSeed();if(!r||!n||!s)return this.setState({error:"No wallet found. Please set up first."}),!1;if(!await this.verifyPin(e,r,n))return this.setState({error:"Incorrect PIN"}),!1;try{this.decryptedSeed=await this.decryptSeed(s,e)}catch{return this.setState({error:"Failed to decrypt wallet. Incorrect PIN or corrupted data."}),!1}return this.setState({status:"unlocked",error:null}),this.startSessionTimeout(),!0}catch(r){return this.setState({error:r.message||"Failed to unlock wallet"}),!1}}lock(){this.decryptedSeed=null,this.clearSessionTimeout(),this.setState({status:"locked",error:null})}getSeedPhrase(){return this.state.status!=="unlocked"?null:this.decryptedSeed}async deriveAddresses(e,r=0){if(this.state.status!=="unlocked"||!this.decryptedSeed)throw new Error("Wallet must be unlocked to derive addresses");return await Ub(this.decryptedSeed,e,r)}async reset(){this.decryptedSeed=null,this.clearSessionTimeout(),await At.clearEncryptedSeed(),await At.clearSoftWallet(),this.setState({status:"disconnected",hasWallet:!1,error:null})}startSessionTimeout(){this.clearSessionTimeout(),this.sessionTimeout=setTimeout(()=>{this.lock()},this.SESSION_TIMEOUT_MS)}clearSessionTimeout(){this.sessionTimeout&&(clearTimeout(this.sessionTimeout),this.sessionTimeout=null)}resetSessionTimeout(){this.state.status==="unlocked"&&this.startSessionTimeout()}isUnlocked(){return this.state.status==="unlocked"}async verifySeedPhrase(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return!1;const r=e.trim().toLowerCase().split(/\s+/),n=this.decryptedSeed.split(" ");if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1;return!0}getSeedWordCount(){return this.state.status!=="unlocked"||!this.decryptedSeed?null:this.decryptedSeed.split(" ").length}async signTransaction(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return this.setState({error:"Wallet must be unlocked to sign transactions"}),null;try{const r=un.fromPhrase(this.decryptedSeed);return await Ta.fromMnemonic(r,"m/44'/60'/0'/0/0").signTransaction(e)}catch(r){return this.setState({error:r.message||"Failed to sign transaction"}),null}}async signNonEvmTransaction(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return this.setState({error:"Wallet must be unlocked to sign transactions"}),null;try{const r=await LM(e,this.decryptedSeed);return r||(this.setState({error:"Failed to sign non-EVM transaction"}),null)}catch(r){return this.setState({error:r.message||"Failed to sign non-EVM transaction"}),null}}async getAddress(e){if(this.state.status!=="unlocked"||!this.decryptedSeed)return null;try{const r=un.fromPhrase(this.decryptedSeed);return Ta.fromMnemonic(r,"m/44'/60'/0'/0/0").address}catch{return null}}async encryptSeedForWalletGroup(e,r,n){const s=e.trim().toLowerCase().split(/\s+/);if(s.length!==12&&s.length!==24)throw new Error("Seed phrase must be 12 or 24 words");const i=s.join(" "),a=await this.encryptSeed(i,r),{hash:o,salt:c}=await this.hashPin(r);return{encryptedSeed:a,pinHash:o,pinSalt:c}}async decryptWalletGroupSeed(e,r){return await this.decryptSeed(e,r)}async verifyWalletGroupPin(e,r,n){return await this.verifyPin(e,r,n)}generateNewSeedPhrase(){const e=crypto.getRandomValues(new Uint8Array(16));return un.entropyToPhrase(e)}}const Ur=new lDe,uDe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io"},zle=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function transfer(address to, uint256 amount) returns (bool)"];async function dDe(t,e){const r=e||uDe[t];return r?new ww(r,t):null}async function fDe(t,e){return t?new ww(t,e):null}async function hDe(t,e,r){try{const n=await dDe(e,r);if(!n)return"0";const s=await n.getBalance(t);return vae(s)}catch{return"0"}}async function Lle(t,e,r){try{const n=await fDe(e,r);if(!n)return null;const s=new yh(t,zle,n),[i,a,o]=await Promise.all([s.name(),s.symbol(),s.decimals()]);return{name:i,symbol:a,decimals:Number(o)}}catch{return null}}async function pDe(t){var e,r;try{const n=await fetch(`https://blockstream.info/api/address/${t}`,{signal:AbortSignal.timeout(8e3)});if(!n.ok)return"0";const s=await n.json(),i=((e=s.chain_stats)==null?void 0:e.funded_txo_sum)||0,a=((r=s.chain_stats)==null?void 0:r.spent_txo_sum)||0;return((i-a)/1e8).toString()}catch{return"0"}}async function mDe(t){var e,r;try{const n=await fetch(`https://api.trongrid.io/v1/accounts/${t}`,{signal:AbortSignal.timeout(8e3)});if(!n.ok)return"0";const s=await n.json();return(r=(e=s.data)==null?void 0:e[0])!=null&&r.balance?(s.data[0].balance/1e6).toString():"0"}catch{return"0"}}async function gDe(t){var e;try{const r=await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[t]}),signal:AbortSignal.timeout(1e4)});if(!r.ok)return"0";const n=await r.json();return((e=n.result)==null?void 0:e.value)!==void 0?(n.result.value/1e9).toString():"0"}catch{return"0"}}async function bDe(t){var e,r,n,s,i,a,o;try{const c=await fetch("https://polkadot.webapi.subscan.io/api/v2/scan/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:t}),signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((r=(e=l.data)==null?void 0:e.account)!=null&&r.balance)return l.data.account.balance;if((n=l.data)!=null&&n.balance)return l.data.balance}}catch{}try{const c=await fetch(`https://polkadot.statescan.io/api/accounts/${t}`,{signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((i=(s=l.accountDetail)==null?void 0:s.data)!=null&&i.free){const u=BigInt(l.accountDetail.data.free);return(Number(u)/Math.pow(10,10)).toString()}if((a=l.data)!=null&&a.free){const u=BigInt(l.data.free);return(Number(u)/Math.pow(10,10)).toString()}}}catch{}try{const c=await fetch(`https://api.polkaholic.io/account/${t}?chainID=polkadot`,{signal:AbortSignal.timeout(1e4)});if(c.ok){const l=await c.json();if((o=l.balances)!=null&&o.free){const u=BigInt(l.balances.free);return(Number(u)/Math.pow(10,10)).toString()}if(l.free){const u=BigInt(l.free);return(Number(u)/Math.pow(10,10)).toString()}}}catch{}return"0"}async function yDe(t){var e,r;try{const n=await fetch("https://s1.ripple.com:51234/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"account_info",params:[{account:t,ledger_index:"validated"}]}),signal:AbortSignal.timeout(1e4)});if(!n.ok)return"0";const s=await n.json();return(r=(e=s.result)==null?void 0:e.account_data)!=null&&r.Balance?(parseInt(s.result.account_data.Balance)/1e6).toString():"0"}catch{return"0"}}async function vDe(t){try{const e=await fetch(`https://api.blockcypher.com/v1/doge/main/addrs/${t}/balance`,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return"0";const r=await e.json();return r.balance!==void 0?(r.balance/1e8).toString():"0"}catch{return"0"}}async function xDe(t){try{const e=await fetch(`https://api.blockcypher.com/v1/ltc/main/addrs/${t}/balance`,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return"0";const r=await e.json();return r.balance!==void 0?(r.balance/1e8).toString():"0"}catch{return"0"}}async function wDe(t){var e,r,n;try{const s=await fetch(`https://rest.bitcoin.com/v2/address/details/${t}`,{signal:AbortSignal.timeout(1e4)});if(!s.ok){const a=await fetch(`https://api.blockchair.com/bitcoin-cash/dashboards/address/${t}`,{signal:AbortSignal.timeout(1e4)});if(!a.ok)return"0";const o=await a.json();return(n=(r=(e=o.data)==null?void 0:e[t])==null?void 0:r.address)!=null&&n.balance?(o.data[t].address.balance/1e8).toString():"0"}const i=await s.json();return i.balance!==void 0?i.balance.toString():"0"}catch{return"0"}}async function ADe(t){var e,r;try{const n=await fetch("https://api.koios.rest/api/v1/address_info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_addresses:[t]}),signal:AbortSignal.timeout(1e4)});if(!n.ok)return"0";const s=await n.json();if((e=s[0])!=null&&e.utxo_set){let i=0;for(const o of s[0].utxo_set)i+=parseInt(o.value||"0");return(i/1e6).toString()}return"0"}catch{try{const n=await fetch(`https://cardano-mainnet.blockfrost.io/api/v0/addresses/${t}`,{headers:{project_id:"mainnetpublic"},signal:AbortSignal.timeout(1e4)});if(n.ok){const i=(r=(await n.json()).amount)==null?void 0:r.find(a=>a.unit==="lovelace");if(i)return(parseInt(i.quantity)/1e6).toString()}}catch{}return"0"}}async function SDe(t){var e;try{const r=await fetch(`https://rest.cosmos.directory/cosmoshub/cosmos/bank/v1beta1/balances/${t}`,{signal:AbortSignal.timeout(8e3)});if(!r.ok)return"0";const s=(e=(await r.json()).balances)==null?void 0:e.find(i=>i.denom==="uatom");return s?(parseInt(s.amount)/1e6).toString():"0"}catch{return"0"}}async function PDe(t){var e;try{const r=await fetch(`https://rest.cosmos.directory/osmosis/cosmos/bank/v1beta1/balances/${t}`,{signal:AbortSignal.timeout(8e3)});if(!r.ok)return"0";const s=(e=(await r.json()).balances)==null?void 0:e.find(i=>i.denom==="uosmo");return s?(parseInt(s.amount)/1e6).toString():"0"}catch{return"0"}}async function kDe(t,e){switch(e.toUpperCase()){case"BTC":return await pDe(t);case"TRX":return await mDe(t);case"ATOM":return await SDe(t);case"OSMO":return await PDe(t);case"SOL":return await gDe(t);case"XRP":return await yDe(t);case"DOGE":return await vDe(t);case"ADA":return await ADe(t);case"DOT":return await bDe(t);case"LTC":return await xDe(t);case"BCH":return await wDe(t);default:return"0"}}async function pC(t,e,r,n){return e>0?await hDe(t,e,n):await kDe(t,r)}const pW={"usdt-eth":{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",chainId:1,decimals:6,rpcUrl:"https://eth.llamarpc.com"},"usdt-bsc":{address:"0x55d398326f99059fF775485246999027B3197955",chainId:56,decimals:18,rpcUrl:"https://bsc-dataseed.binance.org"},"usdt-polygon":{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",chainId:137,decimals:6,rpcUrl:"https://polygon-rpc.com"},"usdt-arb":{address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",chainId:42161,decimals:6,rpcUrl:"https://arb1.arbitrum.io/rpc"},"usdc-eth":{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",chainId:1,decimals:6,rpcUrl:"https://eth.llamarpc.com"},"usdc-bsc":{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",chainId:56,decimals:18,rpcUrl:"https://bsc-dataseed.binance.org"},"usdc-polygon":{address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",chainId:137,decimals:6,rpcUrl:"https://polygon-rpc.com"},"usdc-arb":{address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",chainId:42161,decimals:6,rpcUrl:"https://arb1.arbitrum.io/rpc"},"wbtc-eth":{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",chainId:1,decimals:8,rpcUrl:"https://eth.llamarpc.com"},"link-eth":{address:"0x514910771AF9Ca656af840dff83E8264EcF986CA",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"uni-eth":{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"shib-eth":{address:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"steth-eth":{address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"aave-eth":{address:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"mkr-eth":{address:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"grt-eth":{address:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"},"dai-eth":{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",chainId:1,decimals:18,rpcUrl:"https://eth.llamarpc.com"}},mW={"usdt-tron":{address:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",decimals:6},"usdc-tron":{address:"TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8",decimals:6}};async function Vle(t,e,r){var n,s;try{const i=await fetch(`https://api.trongrid.io/v1/accounts/${t}/tokens?only_trc20=true`,{signal:AbortSignal.timeout(1e4)});if(!i.ok)return"0";const a=await i.json();if((s=(n=a.data)==null?void 0:n[0])!=null&&s.trc20){const o=a.data[0].trc20;for(const c of o){const l=Object.keys(c)[0];if(l===e){const u=c[l];return(parseFloat(u)/Math.pow(10,r)).toString()}}}return"0"}catch{return"0"}}async function Hle(t,e,r,n,s){try{const i=new ww(s,r),o=await new yh(e,zle,i).balanceOf(t);return kk(o,n)}catch{return"0"}}const qle={tether:{evmKey:"usdt-eth",parentChainSymbol:"ETH"},"tether-bsc":{evmKey:"usdt-bsc",parentChainSymbol:"BNB"},"tether-tron":{tronKey:"usdt-tron",parentChainSymbol:"TRX"},"usd-coin":{evmKey:"usdc-eth",parentChainSymbol:"ETH"},"usd-coin-bsc":{evmKey:"usdc-bsc",parentChainSymbol:"BNB"},"usd-coin-tron":{tronKey:"usdc-tron",parentChainSymbol:"TRX"},"wrapped-bitcoin":{evmKey:"wbtc-eth",parentChainSymbol:"ETH"},chainlink:{evmKey:"link-eth",parentChainSymbol:"ETH"},uniswap:{evmKey:"uni-eth",parentChainSymbol:"ETH"},"shiba-inu":{evmKey:"shib-eth",parentChainSymbol:"ETH"},"staked-ether":{evmKey:"steth-eth",parentChainSymbol:"ETH"},aave:{evmKey:"aave-eth",parentChainSymbol:"ETH"},maker:{evmKey:"mkr-eth",parentChainSymbol:"ETH"},"the-graph":{evmKey:"grt-eth",parentChainSymbol:"ETH"},dai:{evmKey:"dai-eth",parentChainSymbol:"ETH"}};async function IDe(t,e){const r=qle[t];if(!r)return"0";if(r.evmKey&&pW[r.evmKey]){const n=pW[r.evmKey],s=e[r.parentChainSymbol];if(s){const i=await Hle(s,n.address,n.chainId,n.decimals,n.rpcUrl);if(parseFloat(i)>0)return i}}if(r.tronKey&&mW[r.tronKey]){const n=mW[r.tronKey],s=e.TRX;if(s){const i=await Vle(s,n.address,n.decimals);if(parseFloat(i)>0)return i}}return"0"}function Q2(t){return t in qle}async function NDe(t,e,r,n,s,i){return r==="tron"?await Vle(t,e,i):await Hle(t,e,n,i,s)}const EDe={1:"ETH",56:"BNB",137:"MATIC",43114:"AVAX",42161:"ETH",10:"ETH"},Wle={1:"https://eth.blockscout.com/api",137:"https://polygon.blockscout.com/api",42161:"https://arbitrum.blockscout.com/api",10:"https://optimism.blockscout.com/api"},Kle={56:"https://bsc-mainnet.public.blastapi.io",43114:"https://api.avax.network/ext/bc/C/rpc"},gW="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef";let Vy=new Map;const Xle=6e4;async function CDe(t,e,r,n){var i,a;const s=Kle[e];if(!s)return[];try{const o=new ww(s),c=await o.getBlockNumber(),l="0x"+t.slice(2).toLowerCase().padStart(64,"0"),u=[],f=t.toLowerCase(),h=2e3,m=5;for(let y=0;y<m;y++){const x=c-y*h,k=x-h+1;if(k<0)break;try{const[C,I]=await Promise.all([o.getLogs({fromBlock:k,toBlock:x,topics:[gW,null,l]}),o.getLogs({fromBlock:k,toBlock:x,topics:[gW,l,null]})]);for(const _ of[...C,...I]){const O="0x"+((i=_.topics[1])==null?void 0:i.slice(26)),F="0x"+((a=_.topics[2])==null?void 0:a.slice(26)),D=F.toLowerCase()===f;let j=18,T="TOKEN";try{const $=new yh(_.address,["function decimals() view returns (uint8)","function symbol() view returns (string)"],o);[j,T]=await Promise.all([$.decimals(),$.symbol()])}catch{}const R=kk(_.data,j),q=await o.getBlock(_.blockNumber);u.push({id:`rpc-${_.transactionHash}-${_.index}`,txHash:_.transactionHash,fromAddress:O,toAddress:F,amount:R,timestamp:q!=null&&q.timestamp?new Date(q.timestamp*1e3).toISOString():new Date().toISOString(),type:D?"receive":"send",status:"confirmed",chainId:n,tokenSymbol:T,walletId:r,isTokenTransfer:!0,contractAddress:_.address})}}catch(C){console.error(`Error fetching block range ${k}-${x}:`,C)}}return u.sort((y,x)=>new Date(x.timestamp).getTime()-new Date(y.timestamp).getTime()).slice(0,50)}catch(o){return console.error("Error fetching via RPC:",o),[]}}async function _De(t,e,r,n,s){const i=Wle[e];if(!i)return[];try{const a=`${i}?module=account&action=txlist&address=${t}&startblock=0&endblock=99999999&page=1&offset=50&sort=desc`,o=await fetch(a,{signal:AbortSignal.timeout(1e4)});if(!o.ok)return[];const c=await o.json();if(c.status!=="1"||!Array.isArray(c.result))return[];const l=t.toLowerCase(),u=EDe[e]||s||"ETH";return c.result.map(f=>{const h=f.to.toLowerCase()===l,m=vae(f.value||"0");return{id:`explorer-${f.hash}`,txHash:f.hash,fromAddress:f.from,toAddress:f.to,amount:m,timestamp:new Date(parseInt(f.timeStamp)*1e3).toISOString(),type:h?"receive":"send",status:f.isError==="0"?"confirmed":"failed",chainId:n,tokenSymbol:u,walletId:r,isTokenTransfer:!1}})}catch{return[]}}async function TDe(t,e,r){try{const n=await fetch(`https://blockstream.info/api/address/${t}/txs`,{signal:AbortSignal.timeout(1e4)});if(!n.ok)return[];const s=await n.json();return Array.isArray(s)?s.slice(0,50).map(i=>{var c,l,u,f;const a=(c=i.vout)==null?void 0:c.some(h=>h.scriptpubkey_address===t);let o=0;return a?o=i.vout.filter(h=>h.scriptpubkey_address===t).reduce((h,m)=>h+(m.value||0),0)/1e8:o=((l=i.vin)==null?void 0:l.reduce((h,m)=>{var y;return((y=m.prevout)==null?void 0:y.scriptpubkey_address)===t?h+(m.prevout.value||0):h},0))/1e8||0,{id:`btc-${i.txid}`,txHash:i.txid,fromAddress:a?"Unknown":t,toAddress:a?t:"Unknown",amount:o.toString(),timestamp:(u=i.status)!=null&&u.block_time?new Date(i.status.block_time*1e3).toISOString():new Date().toISOString(),type:a?"receive":"send",status:(f=i.status)!=null&&f.confirmed?"confirmed":"failed",chainId:r,tokenSymbol:"BTC",walletId:e,isTokenTransfer:!1}}):[]}catch{return[]}}async function jDe(t,e,r,n,s,i){const a=`native-${t}-${e}-${s}`,o=Vy.get(a);if(o&&Date.now()-o.timestamp<Xle)return o.data;let c=[];if(e===0)switch(s.toUpperCase()){case"BTC":c=await TDe(t,r,n);break;default:c=[]}else c=await _De(t,e,r,n,s);return c.length>0&&Vy.set(a,{data:c,timestamp:Date.now()}),c}async function MDe(t,e,r,n,s){if(e===0)return[];const i=`tokens-${t}-${e}`,a=Vy.get(i);if(a&&Date.now()-a.timestamp<Xle)return a.data;const o=Wle[e];if(Kle[e]&&!o){const c=await CDe(t,e,r,n);return c.length>0&&Vy.set(i,{data:c,timestamp:Date.now()}),c}if(!o)return[];try{const c=`${o}?module=account&action=tokentx&address=${t}&startblock=0&endblock=99999999&page=1&offset=50&sort=desc`,l=await fetch(c,{signal:AbortSignal.timeout(1e4)});if(!l.ok)return[];const u=await l.json();if(u.status!=="1"||!Array.isArray(u.result))return[];const f=t.toLowerCase(),h=u.result.map(m=>{const y=m.to.toLowerCase()===f,x=parseInt(m.tokenDecimal)||18,k=kk(m.value||"0",x);return{id:`token-${m.hash}-${m.contractAddress}`,txHash:m.hash,fromAddress:m.from,toAddress:m.to,amount:k,timestamp:new Date(parseInt(m.timeStamp)*1e3).toISOString(),type:y?"receive":"send",status:"confirmed",chainId:n,tokenSymbol:m.tokenSymbol||"TOKEN",walletId:r,isTokenTransfer:!0,contractAddress:m.contractAddress}});return Vy.set(i,{data:h,timestamp:Date.now()}),h}catch{return[]}}function $De(t){return{id:t.id,txHash:t.txHash||"",fromAddress:t.fromAddress,toAddress:t.toAddress,amount:t.amount,timestamp:t.timestamp,type:t.type,status:t.status==="pending"?"confirmed":t.status,chainId:t.chainId,tokenSymbol:t.tokenSymbol,walletId:t.walletId,isTokenTransfer:t.tokenSymbol!=="ETH"&&t.tokenSymbol!=="BNB"&&t.tokenSymbol!=="MATIC"&&t.tokenSymbol!=="AVAX"&&t.tokenSymbol!=="BTC"&&t.tokenSymbol!=="SOL"&&t.tokenSymbol!=="TRX"&&t.tokenSymbol!=="DOGE"&&t.tokenSymbol!=="LTC"&&t.tokenSymbol!=="BCH"&&t.tokenSymbol!=="XRP"}}async function Zle(t){const e=[],r=await Promise.all(t.flatMap(i=>[jDe(i.address,i.numericChainId,i.id,i.chainId,i.chainSymbol,i.blockExplorerUrl),i.numericChainId>0?MDe(i.address,i.numericChainId,i.id,i.chainId,i.blockExplorerUrl):Promise.resolve([])]));for(const i of r)e.push(...i);try{const i=await At.getAllTransactions(),a=new Set(t.map(o=>o.chainId));for(const o of i)a.has(o.chainId)&&e.push($De(o))}catch(i){console.error("Failed to fetch local transactions:",i)}const n=new Map;for(const i of e){const a=i.txHash||i.id;n.has(a)||n.set(a,i)}return Array.from(n.values()).sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime())}function bW(){Vy.clear()}const wR={ETH:3500,BNB:600,MATIC:.85,AVAX:35,ARB:1.2,BTC:1e5,SOL:180,XRP:2.2,DOGE:.35,ADA:.95,TRX:.25,DOT:7.5,LTC:105,BCH:450,OP:2.5,USDT:1,USDC:1},yW={ETH:"coingecko:ethereum",BNB:"coingecko:binancecoin",MATIC:"coingecko:matic-network",AVAX:"coingecko:avalanche-2",ARB:"coingecko:arbitrum",BTC:"coingecko:bitcoin",SOL:"coingecko:solana",XRP:"coingecko:ripple",DOGE:"coingecko:dogecoin",ADA:"coingecko:cardano",TRX:"coingecko:tron",DOT:"coingecko:polkadot",LTC:"coingecko:litecoin",BCH:"coingecko:bitcoin-cash",OP:"coingecko:optimism",USDT:"coingecko:tether",USDC:"coingecko:usd-coin"};let d2={...wR},vW=0;const ODe=3e4;async function BDe(){var t;try{const e=Object.values(yW).join(","),r=await fetch(`https://coins.llama.fi/prices/current/${e}`,{signal:AbortSignal.timeout(1e4)});if(!r.ok)return null;const n=await r.json(),s={};for(const[i,a]of Object.entries(yW)){const o=(t=n.coins)==null?void 0:t[a];o!=null&&o.price&&(s[i]=o.price)}return Object.keys(s).length>0?s:null}catch{return null}}async function Hy(){const t=Date.now();if(t-vW<ODe&&Object.keys(d2).length>0)return d2;const e=await BDe();return e&&Object.keys(e).length>0&&(d2={...wR,...e},vW=t),d2}function Sd(t){return t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(2)}K`:Number.isInteger(t)&&t>=1?`$${t.toFixed(0)}`:t>=1?`$${t.toFixed(2)}`:t>=.01?`$${t.toFixed(2)}`:t>0?`$${t.toFixed(4)}`:"$0.00"}function AR(t){const e=typeof t=="string"?parseFloat(t):t;if(isNaN(e)||e===0)return"0.00";if(e>=1e6){const r=e/1e6;return Number.isInteger(r)?`${r.toFixed(0)}M`:`${r.toFixed(2)}M`}if(e>=1e3){const r=e/1e3;return Number.isInteger(r)?`${r.toFixed(0)}K`:`${r.toFixed(2)}K`}if(Number.isInteger(e))return e.toString();if(e>=100){const r=e.toFixed(2);return parseFloat(r).toString()}if(e>=1){const r=e.toFixed(4);return parseFloat(r).toString()}if(e>=.01){const r=e.toFixed(4);return parseFloat(r).toString()}if(e>=1e-6){const r=e.toFixed(6);return parseFloat(r).toString()}return"<0.000001"}function Af(t,e,r){const n=parseFloat(t);return isNaN(n)||!r[e]?0:n*r[e]}let P3=[],xW=0;const FDe=5*60*1e3;async function wW(t=50){const e=Date.now();if(e-xW<FDe&&P3.length>0)return P3.slice(0,t);try{const r=await Hy(),n=Dd.slice(0,t).map(s=>({...s,currentPrice:r[s.symbol]||wR[s.symbol]||0,priceChangePercentage24h:0,image:s.image||""}));return P3=n,xW=e,n}catch{return RDe(t)}}function RDe(t){if(P3.length>0)return P3.slice(0,t);const e={BTC:1e5,ETH:3500,USDT:1,BNB:600,SOL:180,USDC:1,XRP:2.2,STETH:3500,DOGE:.35,ADA:.95,TRX:.25,AVAX:35,SHIB:25e-6,LINK:22,WBTC:1e5,DOT:7.5,BCH:450,MATIC:.85,LTC:105,UNI:13};return Dd.map(r=>({...r,currentPrice:e[r.symbol]||0,priceChangePercentage24h:0,image:r.image||""}))}const zb={ethereum:"ETH","matic-network":"MATIC",binancecoin:"BNB","avalanche-2":"AVAX",arbitrum:"ARB",bitcoin:"BTC",solana:"SOL",ripple:"XRP",dogecoin:"DOGE",cardano:"ADA",tron:"TRX",polkadot:"DOT",litecoin:"LTC","bitcoin-cash":"BCH",cosmos:"ATOM",osmosis:"OSMO",tether:"ETH","usd-coin":"ETH","staked-ether":"ETH",chainlink:"ETH","wrapped-bitcoin":"ETH",uniswap:"ETH","shiba-inu":"ETH",aave:"ETH",maker:"ETH","the-graph":"ETH","compound-governance-token":"ETH","yearn-finance":"ETH",sushi:"ETH","curve-dao-token":"ETH","1inch":"ETH",ens:"ETH","lido-dao":"ETH","rocket-pool":"ETH",frax:"ETH",dai:"ETH","pancakeswap-token":"BNB",venus:"BNB","baby-doge-coin":"BNB","trust-wallet-token":"BNB",wbnb:"BNB",floki:"BNB","safemoon-2":"BNB","alpaca-finance":"BNB",biswap:"BNB",raydium:"SOL",bonk:"SOL","jupiter-exchange-solana":"SOL","jito-governance-token":"SOL","trader-joe":"AVAX",benqi:"AVAX",gmx:"ARB",magic:"ARB",optimism:"OP","tether-bsc":"BNB","tether-tron":"TRX","usd-coin-bsc":"BNB","usd-coin-tron":"TRX"},Ox={tether:"ETH","tether-bsc":"BNB","tether-tron":"TRX","usd-coin":"ETH","usd-coin-bsc":"BNB","usd-coin-tron":"TRX","staked-ether":"ETH",chainlink:"ETH","wrapped-bitcoin":"ETH",uniswap:"ETH","shiba-inu":"ETH",aave:"ETH",maker:"ETH","the-graph":"ETH",dai:"ETH","pancakeswap-token":"BNB",venus:"BNB","trust-wallet-token":"BNB","binance-usd":"BNB","first-digital-usd":"BNB","wrapped-bitcoin-bsc":"BNB","wrapped-ethereum-bsc":"BNB","baby-doge-coin":"BNB",wbnb:"BNB",floki:"BNB","safemoon-2":"BNB","alpaca-finance":"BNB",biswap:"BNB",raydium:"SOL",bonk:"SOL","jupiter-exchange-solana":"SOL","jito-governance-token":"SOL","trader-joe":"AVAX",benqi:"AVAX",gmx:"ARB",magic:"ARB",optimism:"OP"},t1={tether:"Ethereum","tether-bsc":"BNB Smart Chain","tether-tron":"TRON","usd-coin":"Ethereum","usd-coin-bsc":"BNB Smart Chain","usd-coin-tron":"TRON","staked-ether":"Ethereum",chainlink:"Ethereum","wrapped-bitcoin":"Ethereum",uniswap:"Ethereum","shiba-inu":"Ethereum",aave:"Ethereum",maker:"Ethereum","the-graph":"Ethereum",dai:"Ethereum","pancakeswap-token":"BNB Smart Chain",venus:"BNB Smart Chain","trust-wallet-token":"BNB Smart Chain","binance-usd":"BNB Smart Chain","first-digital-usd":"BNB Smart Chain","wrapped-bitcoin-bsc":"BNB Smart Chain","wrapped-ethereum-bsc":"BNB Smart Chain","baby-doge-coin":"BNB Smart Chain",wbnb:"BNB Smart Chain",floki:"BNB Smart Chain","safemoon-2":"BNB Smart Chain","alpaca-finance":"BNB Smart Chain",biswap:"BNB Smart Chain",raydium:"Solana",bonk:"Solana","jupiter-exchange-solana":"Solana","jito-governance-token":"Solana","trader-joe":"Avalanche",benqi:"Avalanche",gmx:"Arbitrum",magic:"Arbitrum",optimism:"Optimism"};function DDe(t){const e=new Set;return Array.from(t).forEach(r=>{const n=Ox[r];if(n)e.add(n);else{const s=zb[r];s&&e.add(s)}}),e}const Jle=B.createContext(void 0);function UDe({children:t}){const[e,r]=B.useState(tr.getState()),[n,s]=B.useState(Ur.getState()),[i,a]=B.useState([]),[o,c]=B.useState([]),[l,u]=B.useState([]),[f,h]=B.useState([]),[m,y]=B.useState(null),[x,k]=B.useState(!1),[C,I]=B.useState(null),[_,O]=B.useState(null),[F,D]=B.useState(!1),[j,T]=B.useState(!1),[R,q]=B.useState(null),[$,b]=B.useState(!1),[w,p]=B.useState([]),[g,S]=B.useState(new Set),[N,P]=B.useState(!1),[A,v]=B.useState(()=>localStorage.getItem("walletMode")==="hard_wallet"?"hard_wallet":"soft_wallet"),[E,M]=B.useState(!1),[L,Q]=B.useState(!1),[U,J]=B.useState([]),[Z,re]=B.useState([]),[G,z]=B.useState(0),[se,ce]=B.useState([]),[pe,_e]=B.useState([]),[ke,tt]=B.useState({}),[mt,we]=B.useState({}),[We,Ae]=B.useState({isStale:!1,lastUpdated:null,isRefreshing:!1}),[Oe,qe]=B.useState(null),Fe=B.useRef(0),ze=B.useRef(!1),Ke=B.useRef({soft:!1,hard:!1}),ct=B.useRef(!1),Y=B.useMemo(()=>{const Se=new Map;return o.forEach(be=>{Se.has(be.accountIndex)||Se.set(be.accountIndex,{index:be.accountIndex,label:be.label})}),Array.from(Se.values()).sort((be,Ee)=>be.index-Ee.index)},[o]),V=B.useMemo(()=>(A==="soft_wallet"?U:e.status==="unlocked"?Z:[]).filter(be=>be.accountIndex===G),[A,U,Z,e.status,G]);B.useEffect(()=>{if(o.length===0)return;const Se=new Set(o.map(be=>be.accountIndex));if(!Se.has(G)){const be=Math.min(...Array.from(Se));z(be)}},[o,G]),B.useEffect(()=>{const Se=tr.subscribe(r);return tr.initMobileDeviceMonitoring(),Se},[]),B.useEffect(()=>Ur.subscribe(s),[]),B.useEffect(()=>{$&&Ur.checkWalletExists()},[$]),B.useEffect(()=>{async function Se(){try{await At.init(),b(!0);const be=await At.isSoftWalletSetup(),Ee=await At.isHardWalletSetup();M(be),Q(Ee);const Ve=localStorage.getItem("walletMode")==="hard_wallet"?"hard_wallet":"soft_wallet",Xe=be?await At.getSoftWalletData():[],xe=Ee?await At.getHardWalletData():[];if(Xe.length>0&&xe.length>0){const dt=new Set(Xe.map(Ce=>Ce.address.toLowerCase())),ft=new Set(xe.map(Ce=>Ce.address.toLowerCase()));if(Array.from(dt).some(Ce=>ft.has(Ce))){if(console.log("[WalletContext] Detected cross-contamination - clearing soft wallet data"),await At.clearSoftWallet(),await At.clearEncryptedSeed(),M(!1),J([]),Ee){const Ce=xe.map(et=>({id:et.id,deviceId:"hard",chainId:et.chainId,address:et.address,balance:"0",isActive:!0,accountIndex:et.accountIndex??0,label:et.label}));re(Ce)}return}}const Pe=await At.getAllCachedBalances(),je=new Map;Pe.forEach(dt=>{je.set(`${dt.address.toLowerCase()}-${dt.chainSymbol}`,dt.balance)});const Ze=await At.getLastFullRefresh();if(Ze>0){const dt=At.isCacheStale(Ze);Ae({isStale:dt,lastUpdated:Ze,isRefreshing:!1})}if(be&&Xe.length>0){const dt=Xe.map(ft=>{const Ue=`${ft.address.toLowerCase()}-${ft.chainSymbol}`,Ce=je.get(Ue);return{id:ft.id,deviceId:"soft",chainId:ft.chainId,address:ft.address,balance:Ce||"0",isActive:!0,accountIndex:ft.accountIndex??0,label:ft.label}});J(dt),Ve==="soft_wallet"&&(c(dt),Ke.current.soft=!0)}if(Ee&&xe.length>0){const dt=xe.map(ft=>{const Ue=`${ft.address.toLowerCase()}-${ft.chainSymbol}`,Ce=je.get(Ue);return{id:ft.id,deviceId:"hard",chainId:ft.chainId,address:ft.address,balance:Ce||"0",isActive:!0,accountIndex:ft.accountIndex??0,label:ft.label}});re(dt)}}catch(be){console.error("Failed to initialize storage:",be)}}Se()},[]);const W=B.useCallback(async Se=>{if(Se===A)return;ze.current=!0,Fe.current+=1;const be=Fe.current,Ee=A==="soft_wallet"?"soft":"hard",Be=o.filter(Ve=>Ve.deviceId===Ee);if(Be.length>0&&$){const Ve=Be.map(Xe=>{const xe=i.find(Pe=>Pe.id===Xe.chainId);return{id:Xe.id,address:Xe.address,chainId:Xe.chainId,chainName:(xe==null?void 0:xe.name)||"",chainSymbol:(xe==null?void 0:xe.symbol)||"",balance:Xe.balance,path:"m/44'/60'/0'/0/0",lastUpdated:new Date().toISOString(),accountIndex:Xe.accountIndex??0,label:Xe.label}});if(A==="soft_wallet"){if(await At.saveSoftWalletData(Ve),await At.setSoftWalletSetup(!0),Fe.current!==be)return;M(!0),J(Be)}else{if(await At.saveHardWalletData(Ve),await At.setHardWalletSetup(!0),Fe.current!==be)return;Q(!0),re(Be)}}if(Fe.current===be){v(Se),localStorage.setItem("walletMode",Se),c([]);try{if(Se==="soft_wallet"){const Ve=await At.isSoftWalletSetup();if(Fe.current!==be)return;if(M(Ve),Ve){const Xe=await At.getSoftWalletData();if(Fe.current!==be)return;if(Xe.length>0){const xe=Xe.map(Pe=>({id:Pe.id,deviceId:"soft",chainId:Pe.chainId,address:Pe.address,balance:"0",isActive:!0,accountIndex:Pe.accountIndex??0,label:Pe.label}));J(xe),c(xe)}else c([])}else c([])}else{const Ve=await At.isHardWalletSetup(),Xe=await tr.hasStoredHardWallet();if(Fe.current!==be)return;if(Ve||Xe){const xe=await At.getHardWalletData();if(Fe.current!==be)return;if(xe.length>0){const Pe=xe.map(je=>({id:je.id,deviceId:"hard",chainId:je.chainId,address:je.address,balance:"0",isActive:!0,accountIndex:je.accountIndex??0,label:je.label}));re(Pe),Q(!0),c([])}else Q(!1),re([]),c([])}else Q(!1),c([])}}catch(Ve){console.error("Failed to load wallet data for mode:",Se,Ve),Fe.current===be&&c([])}finally{Fe.current===be&&(ze.current=!1)}}},[A,o,$,i]);B.useEffect(()=>{async function Se(){if($){P(!0);try{const be=await wW(1e3);p(be);const Ee=new Set(be.map(Ve=>Ve.id));if(await At.hasEnabledAssetsPreference()){const Ve=await At.getEnabledAssets(),Xe=new Set;for(const xe of Array.from(Ve))Ee.has(xe)&&Xe.add(xe);Xe.size===0&&Ve.size>0?(S(Ee),await At.setEnabledAssets(Ee)):(S(Xe),Xe.size!==Ve.size&&await At.setEnabledAssets(Xe))}else{const Ve=new Set,Xe=["bitcoin","ethereum","binancecoin","tron"];for(const xe of Xe)Ee.has(xe)&&Ve.add(xe);Ve.size===0&&Array.from(Ee).slice(0,4).forEach(Pe=>Ve.add(Pe)),S(Ve),await At.setEnabledAssets(Ve)}}catch(be){console.error("Failed to load assets:",be)}finally{P(!1)}}}Se()},[$]),B.useEffect(()=>{async function Se(){if($)try{const Ee=(await At.getAllTransactions()).map(Be=>({id:Be.id,walletId:Be.walletId,chainId:Be.chainId,type:Be.type,status:Be.status,amount:Be.amount,tokenSymbol:Be.tokenSymbol,toAddress:Be.toAddress,fromAddress:Be.fromAddress,txHash:Be.txHash||void 0,gasUsed:Be.gasUsed||void 0,timestamp:Be.timestamp}));u(Ee)}catch(be){console.error("Failed to load transactions:",be)}}Se()},[$]),B.useEffect(()=>{const Se=Ui.map((Ee,Be)=>({...Ee,id:`chain-${Be}`})),be=pe.map(Ee=>({id:Ee.id,name:Ee.name,symbol:Ee.symbol,rpcUrl:Ee.rpcUrl,chainId:Ee.chainId,blockExplorer:Ee.blockExplorer||"",iconColor:Ee.iconColor||"#6B7280",isDefault:!1,decimals:Ee.decimals}));a([...Se,...be]),Se.length>0&&!m&&y(Se[0].id)},[pe]),B.useEffect(()=>{const Se=()=>{A==="soft_wallet"?n.status==="unlocked"&&Ur.resetSessionTimeout():e.status==="unlocked"&&tr.resetSessionTimeout()},be=["mousedown","keydown","touchstart","scroll"];return be.forEach(Ee=>{window.addEventListener(Ee,Se,{passive:!0})}),()=>{be.forEach(Ee=>{window.removeEventListener(Ee,Se)})}},[A,e.status,n.status]);const ne=B.useRef(new Set),le=B.useRef(!1);B.useEffect(()=>{ne.current=new Set},[A]),B.useEffect(()=>{if(le.current)return;if(o.length===0){ne.current=new Set;return}if(i.length===0)return;const Se=o.filter(be=>!ne.current.has(be.id));Se.length!==0&&(Se.forEach(be=>ne.current.add(be.id)),(async()=>{const be=new Map;await Promise.all(Se.map(async Ee=>{if(Ee.balance!=="0")return;const Be=i.find(Ve=>Ve.id===Ee.chainId);if(!(!Be||Be.chainId===0))try{const Ve=!Be.isDefault&&Be.rpcUrl?Be.rpcUrl:void 0,Xe=await pC(Ee.address,Be.chainId,Be.symbol,Ve);be.set(Ee.id,Xe)}catch{}})),c(Ee=>Ee.map(Be=>{const Ve=be.get(Be.id);return Ve?{...Be,balance:Ve}:Be}))})())},[o,i.length,A]);const de=A==="soft_wallet"?n.status==="locked"||n.status==="unlocked"||n.hasWallet:e.status==="connected"||e.status==="unlocked",me=A==="soft_wallet"?n.status==="unlocked":e.status==="unlocked",rt=A==="soft_wallet"?E:L;B.useMemo(()=>A==="soft_wallet"?U:e.status==="unlocked"?Z:[],[A,U,Z,e.status]);const ht=B.useRef(!1);B.useEffect(()=>{var Se;if(!ze.current)if(A==="hard_wallet"){const be=e.status==="unlocked",Ee=be&&!ht.current;ht.current=be,be&&Z.length>0?(o.length===0||Ee)&&(ne.current=new Set,c([...Z])):be||o.length>0&&((Se=o[0])==null?void 0:Se.deviceId)==="hard"&&c([])}else ht.current=!1},[A,e.status,Z,o.length]);const ot=B.useRef(!1);B.useEffect(()=>{if(A!=="hard_wallet"){ot.current=!1;return}const Se=e.status==="unlocked"&&!ot.current;ot.current=e.status==="unlocked",!(!Se||!$)&&(async()=>{try{console.log("[WalletContext] Hardware wallet unlocked - syncing chain preferences");const be=await tr.getChainPreferences();if(be&&be.length>0){console.log("[WalletContext] Loaded chain preferences from hardware:",be);const Ee=await tr.getSeedPhraseFromDevice();if(!Ee){console.error("[WalletContext] Cannot get seed phrase from device");return}const Be=i.length>0?i:Ui.map((Xe,xe)=>({...Xe,id:`chain-${xe}`})),Ve=[];for(const Xe of be){const xe=Be.find(Ze=>Ze.symbol===Xe.symbol);if(!xe)continue;const je=(await Ub(Ee,[Xe.symbol],Xe.accountIndex))[0];je&&je.address&&Ve.push({id:`wallet-${Date.now()}-${xe.id}-${Xe.accountIndex}`,deviceId:"hard",chainId:xe.id,address:je.address,balance:"0",isActive:!0,accountIndex:Xe.accountIndex,label:Xe.label})}if(Ve.length>0){console.log("[WalletContext] Derived wallets from chain preferences:",Ve.length),re(Ve),c(Ve),Q(!0);const Xe=Ve.map(xe=>{const Pe=Be.find(je=>je.id===xe.chainId);return{id:xe.id,chainId:xe.chainId,chainName:(Pe==null?void 0:Pe.name)||"",chainSymbol:(Pe==null?void 0:Pe.symbol)||"",address:xe.address,balance:xe.balance,path:`m/44'/${(Pe==null?void 0:Pe.symbol)==="ETH"?"60":(Pe==null?void 0:Pe.symbol)==="BTC"?"0":"501"}'/0'/0/${xe.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:xe.accountIndex,label:xe.label}});await At.saveHardWalletData(Xe),await At.setHardWalletSetup(!0)}}}catch(be){console.error("[WalletContext] Failed to sync chain preferences:",be)}})()},[A,e.status,$,i]);const pt=B.useCallback(async()=>{D(!0),q(null);try{return await tr.connectLedger()}catch(Se){return q(Se.message||"Failed to connect Ledger"),!1}finally{D(!1)}},[]),_t=B.useCallback(async()=>{console.log("[WalletContext] connectRaspberryPi() called"),D(!0),q(null);try{const Se=await tr.connectRaspberryPi();if(console.log("[WalletContext] hardwareWallet.connectRaspberryPi() result:",Se),Se){const be=tr.hasWalletOnDevice();return console.log("[WalletContext] Device has wallet:",be),be?console.log("[WalletContext] EXISTING DEVICE - Wallet found on device"):(console.log("[WalletContext] NEW DEVICE - No wallet found, clearing cache"),c([]),u([]),await At.clearAll()),{success:!0,hasWallet:be}}else return console.log("[WalletContext] Connection failed"),tr.setHasWalletOnDevice(!1),{success:!1,hasWallet:!1,error:tr.getState().error||void 0}}catch(Se){console.log("[WalletContext] Exception:",Se),tr.setHasWalletOnDevice(!1);const be=Se.message||"Failed to connect Raspberry Pi";return q(be),{success:!1,hasWallet:!1,error:be}}finally{D(!1)}},[]),St=B.useCallback(async Se=>{D(!0),q(null);try{return await tr.connectSimulated(Se)}catch(be){return q(be.message||"Failed to create simulated wallet"),!1}finally{D(!1)}},[]),Rt=B.useCallback(async Se=>{D(!0),q(null);try{let be;return A==="soft_wallet"?(be=await Ur.unlock(Se),!be&&Ur.getState().error&&q(Ur.getState().error)):be=await tr.unlock(Se),be&&k(!1),be}catch(be){return q(be.message||"Failed to unlock wallet"),!1}finally{D(!1)}},[A]),sr=B.useCallback(()=>{A==="soft_wallet"?Ur.lock():tr.lock()},[A]),De=B.useCallback(()=>{A==="soft_wallet"?Ur.resetSessionTimeout():tr.resetSessionTimeout()},[A]),He=B.useCallback(async()=>{A==="soft_wallet"?(await Ur.reset(),M(!1),J([])):(await tr.disconnect(),await At.clearHardWallet(),Q(!1),re([])),c([]),u([])},[A]),gt=B.useCallback(async Se=>{if(A==="soft_wallet"){if(Ur.getState().status!=="unlocked"){q("Wallet must be unlocked to derive wallets");return}}else if(tr.getState().status!=="unlocked"){q("Device must be unlocked to derive wallets");return}if($&&!Se){const be=A==="soft_wallet"?await At.getSoftWalletData():await At.getHardWalletData();if(be.length>0){const Ee=be.map(Be=>({id:Be.id,deviceId:A==="soft_wallet"?"soft":"hard",chainId:Be.chainId,address:Be.address,balance:"0",isActive:!0,accountIndex:Be.accountIndex??0,label:Be.label}));c(Ee),A==="soft_wallet"?J(Ee):re(Ee);return}}D(!0);try{const be=i.length>0?i:Ui.map((Ee,Be)=>({...Ee,id:`chain-${Be}`}));if(Se&&Se.length>0){const Ee=A==="soft_wallet"?Ur.getSeedPhrase():await tr.getSeedPhraseFromDevice();if(!Ee)throw new Error("Cannot access seed phrase");const Be=be.filter(Pe=>Se.includes(Pe.id)),Ve=Be.map(Pe=>Pe.symbol),Xe=await Ub(Ee,Ve,0),xe=[];for(const Pe of Xe){const je=Be.find(Ze=>Ze.symbol===Pe.chainSymbol);!je||!Pe.address||xe.push({id:`wallet-${Date.now()}-${je.id}-0`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:je.id,address:Pe.address,balance:"0",isActive:!0,accountIndex:0})}if(A==="soft_wallet"?J(xe):re(xe),c(xe),$){const Pe=xe.map(je=>{const Ze=Be.find(dt=>dt.id===je.chainId);return{id:je.id,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",address:je.address,balance:je.balance,path:`m/44'/${(Ze==null?void 0:Ze.symbol)==="ETH"?"60":(Ze==null?void 0:Ze.symbol)==="BTC"?"0":"501"}'/0'/0/${je.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex,label:je.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Pe),await At.setSoftWalletSetup(!0),M(!0);else{await At.saveHardWalletData(Pe),await At.setHardWalletSetup(!0),Q(!0);const je=xe.map(Ze=>{const dt=Be.find(ft=>ft.id===Ze.chainId);return{symbol:(dt==null?void 0:dt.symbol)||"",accountIndex:Ze.accountIndex,label:Ze.label}});await tr.saveChainPreferences(je)}}}else c([]),$&&(A==="soft_wallet"?(await At.saveSoftWalletData([]),await At.setSoftWalletSetup(!0),M(!0),J([])):(await At.saveHardWalletData([]),await At.setHardWalletSetup(!0),Q(!0),re([])));i.length===0&&a(be)}catch(be){q(be.message||"Failed to initialize wallet")}finally{D(!1)}},[i,m,$,A]);B.useCallback(async()=>{const Se=A==="soft_wallet"?U:Z;if(!(Se.length===0||i.length===0))try{const be=await At.getAllCachedBalances();if(be.length===0)return;const Ee=await At.getLastFullRefresh(),Be=Ee>0?At.isCacheStale(Ee):!0;Ae(Xe=>({...Xe,isStale:Be,lastUpdated:Ee||null}));const Ve=Se.map(Xe=>{const xe=i.find(je=>je.id===Xe.chainId);if(!xe)return Xe;const Pe=be.find(je=>je.address.toLowerCase()===Xe.address.toLowerCase()&&je.chainSymbol===xe.symbol);return Pe?{...Xe,balance:Pe.balance}:Xe});c([...Ve]),A==="soft_wallet"?J([...Ve]):re([...Ve])}catch(be){console.error("Failed to load cached balances:",be)}},[A,U,Z,i]);const nt=B.useCallback(async()=>{le.current=!0,ne.current=new Set,Ae(Se=>({...Se,isRefreshing:!0}));try{const Se=A==="soft_wallet"?U:Z;if(Se.length===0||i.length===0){Ae(Pe=>({...Pe,isStale:!1,isRefreshing:!1}));return}const be=DDe(g),Ee=Se.filter(Pe=>{const je=i.find(Ze=>Ze.id===Pe.chainId);return je&&be.has(je.symbol)});if(Ee.length===0){Ae(Pe=>({...Pe,isStale:!1,isRefreshing:!1}));return}const Be=[],Ve=await Promise.all(Ee.map(async Pe=>{const je=i.find(Ze=>Ze.id===Pe.chainId);if(!je)return Pe;try{const Ze=!je.isDefault&&je.rpcUrl?je.rpcUrl:void 0,dt=await pC(Pe.address,je.chainId,je.symbol,Ze);return Be.push({address:Pe.address,chainSymbol:je.symbol,chainId:je.chainId,balance:dt}),{...Pe,balance:dt}}catch(Ze){return console.error(`Failed to fetch balance for ${Pe.address}:`,Ze),Pe}})),Xe=new Set(Ve.map(Pe=>Pe.id)),xe=Se.map(Pe=>Xe.has(Pe.id)&&Ve.find(je=>je.id===Pe.id)||Pe);if(Be.length>0&&(c([...xe]),A==="soft_wallet"?J([...xe]):re([...xe])),$&&Be.length>0){await At.setCachedBalances(Be);const Pe=xe.map(je=>{const Ze=i.find(dt=>dt.id===je.chainId);return{id:je.id,address:je.address,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",balance:je.balance,path:"m/44'/60'/0'/0/0",lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex??0,label:je.label,walletGroupId:je.walletGroupId}});A==="soft_wallet"?await At.saveSoftWalletData(Pe):await At.saveHardWalletData(Pe),Ae({isStale:!1,lastUpdated:Date.now(),isRefreshing:!1})}else Ae(Pe=>({...Pe,isRefreshing:!1}))}catch(Se){console.error("Failed to refresh balances:",Se),Ae(be=>({...be,isRefreshing:!1}))}finally{le.current=!1}},[i,$,A,U,Z,g]),It=B.useCallback(async Se=>{const Ee=(A==="soft_wallet"?U:Z).find(Ve=>Ve.id===Se);if(!Ee)return;const Be=i.find(Ve=>Ve.id===Ee.chainId);if(Be)try{const Ve=!Be.isDefault&&Be.rpcUrl?Be.rpcUrl:void 0,Xe=await pC(Ee.address,Be.chainId,Be.symbol,Ve),xe={...Ee,balance:Xe},Pe=je=>je.map(Ze=>Ze.id===Se?xe:Ze);c(je=>Pe(je)),A==="soft_wallet"?J(je=>Pe(je)):re(je=>Pe(je)),$&&await At.setCachedBalances([{address:Ee.address,chainSymbol:Be.symbol,chainId:Be.chainId,balance:Xe}])}catch(Ve){console.error(`Failed to fetch balance for wallet ${Se}:`,Ve)}},[i,$,A,U,Z]),Ut=B.useCallback(async()=>{if(!(o.length===0||i.length===0)){T(!0);try{const Se=o.map(xe=>{const Pe=i.find(je=>je.id===xe.chainId);return{id:xe.id,address:xe.address,chainId:xe.chainId,numericChainId:(Pe==null?void 0:Pe.chainId)||0,chainSymbol:(Pe==null?void 0:Pe.symbol)||"ETH",blockExplorerUrl:Pe==null?void 0:Pe.blockExplorer}}),be=await Zle(Se),Ee=await At.getAllTransactions(),Be=new Set(Ee.map(xe=>xe.txHash).filter(Boolean)),Ve=be.filter(xe=>!Be.has(xe.txHash)),Xe=[...Ee.map(xe=>({id:xe.id,walletId:xe.walletId,chainId:xe.chainId,type:xe.type,status:xe.status,amount:xe.amount,tokenSymbol:xe.tokenSymbol,toAddress:xe.toAddress,fromAddress:xe.fromAddress,txHash:xe.txHash||void 0,gasUsed:xe.gasUsed||void 0,timestamp:xe.timestamp})),...Ve.map(xe=>({id:xe.id,walletId:xe.walletId,chainId:xe.chainId,type:xe.type,status:xe.status,amount:xe.amount,tokenSymbol:xe.tokenSymbol,toAddress:xe.toAddress,fromAddress:xe.fromAddress,txHash:xe.txHash,gasUsed:void 0,timestamp:xe.timestamp}))];Xe.sort((xe,Pe)=>new Date(Pe.timestamp).getTime()-new Date(xe.timestamp).getTime()),u(Xe)}catch(Se){console.error("Failed to refresh transactions:",Se)}finally{T(!1)}}},[o,i]),bt=e.type==="raspberry_pi"?tr.hasWalletOnDevice():!0,Je=B.useCallback(async(Se,be)=>{const Ee=await At.toggleAsset(Se,be);S(new Set(Ee))},[]),Pt=B.useCallback(async()=>{P(!0);try{const Se=await wW(1e3);p(Se);const be=new Set(Se.map(Ee=>Ee.id));S(Ee=>{const Be=new Set;for(const Ve of Array.from(Ee))be.has(Ve)&&Be.add(Ve);return Be.size===0&&Ee.size>0?(At.setEnabledAssets(be),be):(Be.size!==Ee.size&&At.setEnabledAssets(Be),Be)})}catch(Se){console.error("Failed to refresh top assets:",Se)}finally{P(!1)}},[]),it=B.useCallback(async()=>{const Se=new Set(w.map(be=>be.id));S(Se),await At.setEnabledAssets(Se)},[w]),Tt=B.useCallback(async()=>{S(new Set),await At.setEnabledAssets(new Set)},[]),X=B.useCallback(async()=>{try{const be=(await At.getCustomTokens()).map(Ee=>{if(Ee.image)return Ee;const Be=Ee.symbol.toUpperCase().trim(),Ve=Dd.find(Xe=>Xe.symbol.toUpperCase().trim()===Be);return{...Ee,image:Ve==null?void 0:Ve.image}});ce(be)}catch(Se){console.error("Failed to load custom tokens:",Se)}},[]),ee=B.useCallback(async Se=>{const be=await At.addCustomToken(Se);return ce(Ee=>{const Be=Ee.findIndex(Ve=>Ve.id===be.id);if(Be>=0){const Ve=[...Ee];return Ve[Be]=be,Ve}return[...Ee,be]}),be},[]),te=B.useCallback(async Se=>{await At.removeCustomToken(Se),ce(be=>be.filter(Ee=>Ee.id!==Se))},[]);B.useEffect(()=>{$&&X()},[$,X]);const H=B.useCallback(async()=>{try{const Se=await At.getCustomChains();_e(Se)}catch(Se){console.error("Failed to load custom chains:",Se)}},[]),ie=B.useCallback(async Se=>{const be=await At.addCustomChain(Se);return _e(Ee=>{const Be=Ee.findIndex(Ve=>Ve.id===be.id);if(Be>=0){const Ve=[...Ee];return Ve[Be]=be,Ve}return[...Ee,be]}),be},[]),fe=B.useCallback(async Se=>{await At.removeCustomChain(Se),_e(be=>be.filter(Ee=>Ee.id!==Se))},[]);B.useEffect(()=>{$&&!ct.current&&(ct.current=!0,H())},[$,H]),B.useEffect(()=>{if(o.length===0||w.length===0)return;const Se={};o.forEach(Be=>{const Ve=i.find(Xe=>Xe.id===Be.chainId);Ve&&(Se[Ve.symbol]=Be.address)});const be=async()=>{const Ve=w.filter(Pe=>g.has(Pe.id)&&Q2(Pe.id)).map(Pe=>Pe.id).map(async Pe=>{try{const je=await IDe(Pe,Se);return[Pe,je]}catch{return[Pe,"0"]}}),Xe=await Promise.all(Ve),xe={};Xe.forEach(([Pe,je])=>{xe[Pe]=je}),tt(xe)};be();const Ee=setInterval(be,3e4);return()=>clearInterval(Ee)},[o.length,w.length,g.size,i]),B.useEffect(()=>{if(o.length===0||se.length===0)return;const Se={};o.forEach(Be=>{const Ve=i.find(Xe=>Xe.id===Be.chainId);Ve&&(Se[Ve.symbol]=Be.address,Se[Ve.id]=Be.address)});const be=async()=>{const Be=se.map(async xe=>{const Pe=Se[xe.chainId]||Se[xe.chainId.toUpperCase()];if(!Pe)return[xe.id,"0"];try{const je=await NDe(Pe,xe.contractAddress,xe.chainType,xe.evmChainId||0,xe.rpcUrl||"",xe.decimals);return[xe.id,je]}catch{return[xe.id,"0"]}}),Ve=await Promise.all(Be),Xe={};Ve.forEach(([xe,Pe])=>{Xe[xe]=Pe}),we(Xe)};be();const Ee=setInterval(be,3e4);return()=>clearInterval(Ee)},[o.length,se.length,i]);const Ie=B.useCallback(async Se=>A!=="soft_wallet"?!1:await Ur.verifySeedPhrase(Se),[A]),ae=B.useCallback(()=>A!=="soft_wallet"?null:Ur.getSeedWordCount(),[A]),ye=B.useCallback(async Se=>{if(!Oe)return!1;try{const be=Oe.chainId,Ee=i.find(Pe=>Pe.id===be);if(!Ee)return qe(null),!1;let Be=null;if(A==="soft_wallet"){const Pe=await Ur.deriveAddresses([Ee.symbol],0);if(Pe.length===0)return qe(null),!1;Be=Pe[0].address}else{const Pe=await tr.getSeedPhraseFromDevice();if(!Pe)return qe(null),!1;const je=await Ub(Pe,[Ee.symbol],0);if(je.length===0||!je[0].address)return qe(null),!1;Be=je[0].address}const Ve={id:`wallet-${be}-${Date.now()}`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:be,address:Be,balance:"0",isActive:!0,accountIndex:0,label:Se||Ee.name},xe=[...A==="soft_wallet"?U:Z,Ve];if(A==="soft_wallet"?J(xe):re(xe),c(xe),$){const Pe=xe.map(je=>{const Ze=i.find(dt=>dt.id===je.chainId);return{id:je.id,chainId:je.chainId,chainName:(Ze==null?void 0:Ze.name)||"",chainSymbol:(Ze==null?void 0:Ze.symbol)||"",address:je.address,balance:je.balance,path:`m/44'/${(Ze==null?void 0:Ze.symbol)==="ETH"?"60":(Ze==null?void 0:Ze.symbol)==="BTC"?"0":"501"}'/0'/0/${je.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:je.accountIndex,label:je.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Pe);else{await At.saveHardWalletData(Pe);const je=xe.map(Ze=>{const dt=i.find(ft=>ft.id===Ze.chainId);return{symbol:(dt==null?void 0:dt.symbol)||"",accountIndex:Ze.accountIndex,label:Ze.label}});await tr.saveChainPreferences(je)}}return qe(null),!0}catch(be){return console.error("Failed to add chain:",be),qe(null),!1}},[Oe,i,A,U,Z,$]),Le=B.useCallback(()=>{qe(null)},[]),Re=B.useCallback(async(Se,be)=>{const Be=(A==="soft_wallet"?U:Z).map(Ve=>Ve.id===Se?{...Ve,label:be}:Ve);if(A==="soft_wallet"?J(Be):re(Be),c(Be),$){const Ve=Be.map(Xe=>{const xe=i.find(Pe=>Pe.id===Xe.chainId);return{id:Xe.id,chainId:Xe.chainId,chainName:(xe==null?void 0:xe.name)||"",chainSymbol:(xe==null?void 0:xe.symbol)||"",address:Xe.address,balance:Xe.balance,path:`m/44'/${(xe==null?void 0:xe.symbol)==="ETH"?"60":(xe==null?void 0:xe.symbol)==="BTC"?"0":"501"}'/0'/0/${Xe.accountIndex}`,lastUpdated:new Date().toISOString(),accountIndex:Xe.accountIndex,label:Xe.label}});if(A==="soft_wallet")await At.saveSoftWalletData(Ve);else{await At.saveHardWalletData(Ve);const Xe=Be.map(xe=>{const Pe=i.find(je=>je.id===xe.chainId);return{symbol:(Pe==null?void 0:Pe.symbol)||"",accountIndex:xe.accountIndex,label:xe.label}});await tr.saveChainPreferences(Xe)}}},[A,U,Z,i,$]),$t=B.useCallback(async(Se,be)=>{if(A==="soft_wallet"){if(Ur.getState().status!=="unlocked"){const Ee="Wallet must be unlocked to create additional wallet";throw q(Ee),new Error(Ee)}}else if(tr.getState().status!=="unlocked"){const Be="Device must be unlocked to create additional wallet";throw q(Be),new Error(Be)}D(!0);try{let Ee;if(A==="soft_wallet"?Ee=Ur.getSeedPhrase():Ee=await tr.getSeedPhraseFromDevice(),!Ee)throw new Error("Cannot access seed phrase");const Be=i.length>0?i:Ui.map((Ce,et)=>({...Ce,id:`chain-${et}`})),Ve=A==="soft_wallet"?await At.getSoftWalletData():await At.getHardWalletData(),Xe=Ve.map(Ce=>({id:Ce.id,deviceId:A==="soft_wallet"?"soft":"hard",chainId:Ce.chainId,address:Ce.address,balance:Ce.balance||"0",isActive:!0,accountIndex:Ce.accountIndex??0,label:Ce.label})),xe=be?Ve.filter(Ce=>Ce.chainId===be):Ve,Pe=xe.length>0?Math.max(...xe.map(Ce=>Ce.accountIndex??0))+1:0,je=be?Be.filter(Ce=>Ce.id===be):Be;if(je.length===0)throw new Error("Invalid chain selected");const Ze=je.map(Ce=>Ce.symbol),dt=await Ub(Ee,Ze,Pe),ft=[];for(const Ce of dt){const et=je.find(yt=>yt.symbol===Ce.chainSymbol);if(!et||!Ce.address)continue;const at={id:`wallet-${et.id}-${Ce.address.slice(0,8)}-${Pe}`,deviceId:A==="soft_wallet"?"soft":"hard",chainId:et.id,address:Ce.address,balance:"0",isActive:!0,accountIndex:Pe,label:Se||`Wallet ${Pe+1}`};ft.push(at)}const Ue=[...Xe,...ft];if(c(Ue),$){const Ce=Ue.map(et=>{const Qe=Be.find(at=>at.id===et.chainId);return{id:et.id,address:et.address,chainId:et.chainId,chainName:(Qe==null?void 0:Qe.name)||"",chainSymbol:(Qe==null?void 0:Qe.symbol)||"",balance:et.balance,path:`m/44'/60'/${et.accountIndex??0}'/0/0`,lastUpdated:new Date().toISOString(),accountIndex:et.accountIndex??0,label:et.label}});A==="soft_wallet"?(await At.saveSoftWalletData(Ce),J(Ue)):(await At.saveHardWalletData(Ce),re(Ue))}}catch(Ee){throw q(Ee.message||"Failed to create additional wallet"),Ee}finally{D(!1)}},[i,o,A,$]),ut=B.useCallback(()=>Ur.generateNewSeedPhrase(),[]),Ot=B.useCallback(async(Se,be)=>{if(A!=="soft_wallet")throw new Error("Independent seed wallets are only available in soft wallet mode");if(!be)throw new Error("PIN is required to encrypt the new seed phrase");D(!0);try{const Ee=Ur.generateNewSeedPhrase(),Be=`wallet-group-${Date.now()}`,{encryptedSeed:Ve,pinHash:Xe,pinSalt:xe}=await Ur.encryptSeedForWalletGroup(Ee,be,Be);await At.saveWalletSeed({walletGroupId:Be,encryptedSeed:Ve,pinHash:Xe,pinSalt:xe,createdAt:new Date().toISOString()});const Pe=i.length>0?i:Ui.map((et,Qe)=>({...et,id:`chain-${Qe}`})),je=await At.getSoftWalletData(),Ze=At.getNextAccountIndex(je),dt=Pe.map(et=>et.symbol),ft=await Ub(Ee,dt,0),Ue=[];for(const et of ft){const Qe=Pe.find(Yt=>Yt.symbol===et.chainSymbol);if(!Qe||!et.address)continue;const yt={id:`wallet-${Qe.id}-${et.address.slice(0,8)}-${Ze}`,deviceId:"soft",chainId:Qe.id,address:et.address,balance:"0",isActive:!0,accountIndex:Ze,label:Se||`Wallet ${Ze+1}`,walletGroupId:Be};Ue.push(yt)}const Ce=[...o,...Ue];if(c(Ce),$){const et=Ce.map(Qe=>{const at=Pe.find(yt=>yt.id===Qe.chainId);return{id:Qe.id,address:Qe.address,chainId:Qe.chainId,chainName:(at==null?void 0:at.name)||"",chainSymbol:(at==null?void 0:at.symbol)||"",balance:Qe.balance,path:`m/44'/60'/${Qe.accountIndex??0}'/0/0`,lastUpdated:new Date().toISOString(),accountIndex:Qe.accountIndex??0,label:Qe.label,walletGroupId:Qe.walletGroupId}});await At.saveSoftWalletData(et),J(Ce)}return{seedPhrase:Ee,walletGroupId:Be}}catch(Ee){throw q(Ee.message||"Failed to create wallet with new seed"),Ee}finally{D(!1)}},[i,o,A,$]);return d.jsx(Jle.Provider,{value:{hardwareState:e,isConnected:de,isUnlocked:me,hasWalletOnDevice:bt,walletMode:A,setWalletMode:W,hasSoftWalletSetup:E,hasHardWalletSetup:L,currentModeHasWallet:rt,chains:i,wallets:o,setWallets:c,transactions:l,setTransactions:u,tokens:f,setTokens:h,selectedChainId:m,setSelectedChainId:y,showPinModal:x,setShowPinModal:k,pinAction:C,setPinAction:I,pendingTransaction:_,setPendingTransaction:O,connectLedger:pt,connectRaspberryPi:_t,connectSimulated:St,unlockWallet:Rt,lockWallet:sr,disconnectDevice:He,deriveWallets:gt,refreshBalances:nt,refreshWalletBalance:It,refreshTransactions:Ut,resetSessionTimeout:De,isLoading:F,isLoadingTransactions:j,error:R,topAssets:w,enabledAssetIds:g,isLoadingAssets:N,toggleAssetEnabled:Je,refreshTopAssets:Pt,enableAllAssets:it,disableAllAssets:Tt,createAdditionalWallet:$t,createWalletWithNewSeed:Ot,generateNewSeedPhrase:ut,selectedAccountIndex:G,setSelectedAccountIndex:z,availableAccounts:Y,visibleWallets:V,customTokens:se,loadCustomTokens:X,addCustomToken:ee,removeCustomToken:te,tokenBalances:ke,setTokenBalances:tt,customTokenBalances:mt,setCustomTokenBalances:we,customChains:pe,loadCustomChains:H,addCustomChain:ie,removeCustomChain:fe,balanceCacheStatus:We,pendingAddChain:Oe,setPendingAddChain:qe,verifySeedForAddChain:Ie,confirmAddChain:ye,abortAddChain:Le,getSeedWordCount:ae,renameWallet:Re},children:t})}function Yi(){const t=B.useContext(Jle);if(!t)throw new Error("useWallet must be used within WalletProvider");return t}const zDe=[{title:"Dashboard",url:"/",icon:ure},{title:"Send / Receive",url:"/transfer",icon:B2e},{title:"Chains & Tokens",url:"/chains",icon:OB,softWalletOnly:!0},{title:"Manage Crypto",url:"/manage-crypto",icon:ux},{title:"DApps",url:"/dapps",icon:gA,softWalletOnly:!0},{title:"Settings",url:"/settings",icon:a6},{title:"Setup Guide",url:"/setup",icon:D2e},{title:"Mobile Bridge",url:"/bridge",icon:fx}];function LDe(){const[t]=Ou(),{isConnected:e,isUnlocked:r,hardwareState:n,wallets:s,setShowPinModal:i,setPinAction:a,lockWallet:o,walletMode:c,setWalletMode:l,currentModeHasWallet:u}=Yi(),f=u,h=()=>{a(f?"unlock":"setup"),i(!0)};return d.jsxs(N5e,{children:[d.jsxs(E5e,{className:"border-b border-sidebar-border p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:d.jsx($s,{className:"h-6 w-6 text-primary-foreground"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-lg font-semibold",children:"VaultKey"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Crypto Wallet"})]})]}),d.jsxs("div",{className:"mt-3 flex rounded-md border border-border overflow-hidden",children:[d.jsxs("button",{onClick:()=>l("hard_wallet"),className:`flex-1 flex items-center justify-center gap-1.5 py-1.5 px-3 text-xs font-medium transition-colors ${c==="hard_wallet"?"bg-primary text-primary-foreground":"bg-background text-muted-foreground hover:bg-muted"}`,"data-testid":"button-mode-hard-wallet",children:[d.jsx(pA,{className:"h-3.5 w-3.5"}),"Hard Wallet"]}),d.jsxs("button",{onClick:()=>l("soft_wallet"),className:`flex-1 flex items-center justify-center gap-1.5 py-1.5 px-3 text-xs font-medium transition-colors ${c==="soft_wallet"?"bg-primary text-primary-foreground":"bg-background text-muted-foreground hover:bg-muted"}`,"data-testid":"button-mode-soft-wallet",children:[d.jsx(i6,{className:"h-3.5 w-3.5"}),"Soft Wallet"]})]}),d.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-sidebar-accent/50 p-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:c==="soft_wallet"?f?r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Active"})]}):d.jsxs(d.Fragment,{children:[d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Locked"})]}):d.jsxs(d.Fragment,{children:[d.jsx(i6,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Not Set Up"})]}):f?r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Connected"})]}):d.jsxs(d.Fragment,{children:[d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Locked"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/50"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"No Device"})]})}),f&&!r&&d.jsx(Te,{size:"sm",variant:"ghost",onClick:h,"data-testid":"button-sidebar-unlock",children:d.jsx(bA,{className:"h-4 w-4"})}),f&&r&&d.jsx(Te,{size:"sm",variant:"ghost",onClick:o,"data-testid":"button-sidebar-lock",children:d.jsx(hl,{className:"h-4 w-4"})})]})]}),d.jsx(_5e,{children:d.jsx(T5e,{children:d.jsx(j5e,{children:d.jsx(M5e,{children:zDe.filter(m=>!(m.softWalletOnly&&c==="hard_wallet")).map(m=>{const y=t===m.url||m.url!=="/"&&t.startsWith(m.url);return d.jsx($5e,{children:d.jsx(B5e,{asChild:!0,isActive:y,className:y?"bg-sidebar-accent":"",children:d.jsxs(dl,{href:m.url,"data-testid":`link-${m.title.toLowerCase().replace(/\s+/g,"-")}`,children:[d.jsx(m.icon,{className:"h-5 w-5"}),d.jsx("span",{children:m.title})]})})},m.title)})})})})}),d.jsx(C5e,{className:"border-t border-sidebar-border p-4",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx($s,{className:"h-3 w-3"}),d.jsx("span",{children:"Secured by hardware encryption"})]})})]})}function VDe(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Kk(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const HM=t=>Array.isArray(t);function Qle(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function H6(t){return typeof t=="string"||Array.isArray(t)}function AW(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function SR(t,e,r,n){if(typeof e=="function"){const[s,i]=AW(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=AW(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function Xk(t,e,r){const n=t.getProps();return SR(n,e,r!==void 0?r:n.custom,t)}const PR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kR=["initial",...PR],c5=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Z1=new Set(c5),vh=t=>t*1e3,xh=t=>t/1e3,HDe={type:"spring",stiffness:500,damping:25,restSpeed:10},qDe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WDe={type:"keyframes",duration:.8},KDe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XDe=(t,{keyframes:e})=>e.length>2?WDe:Z1.has(t)?t.startsWith("scale")?qDe(e[1]):HDe:KDe;function IR(t,e){return t?t[e]||t.default||t:void 0}const ZDe={skipAnimations:!1,useManualTiming:!1},JDe=t=>t!==null;function Zk(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(JDe),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const Fa=t=>t;let qM=Fa;function QDe(t){let e=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(l){i.has(l)&&(c.schedule(l),t()),l(a)}const c={schedule:(l,u=!1,f=!1)=>{const m=f&&n?e:r;return u&&i.add(l),m.has(l)||m.add(l),l},cancel:l=>{r.delete(l),i.delete(l)},process:l=>{if(a=l,n){s=!0;return}n=!0,[e,r]=[r,e],r.clear(),e.forEach(o),n=!1,s&&(s=!1,c.process(l))}};return c}const a9=["read","resolveKeyframes","update","preRender","render","postRender"],YDe=40;function Yle(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=a9.reduce((C,I)=>(C[I]=QDe(i),C),{}),{read:o,resolveKeyframes:c,update:l,preRender:u,render:f,postRender:h}=a,m=()=>{const C=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(C-s.timestamp,YDe),1),s.timestamp=C,s.isProcessing=!0,o.process(s),c.process(s),l.process(s),u.process(s),f.process(s),h.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(m))},y=()=>{r=!0,n=!0,s.isProcessing||t(m)};return{schedule:a9.reduce((C,I)=>{const _=a[I];return C[I]=(O,F=!1,D=!1)=>(r||y(),_.schedule(O,F,D)),C},{}),cancel:C=>{for(let I=0;I<a9.length;I++)a[a9[I]].cancel(C)},state:s,steps:a}}const{schedule:Sn,cancel:Gp,state:Fi,steps:mC}=Yle(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fa,!0),Gle=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,GDe=1e-7,eUe=12;function tUe(t,e,r,n,s){let i,a,o=0;do a=e+(r-e)/2,i=Gle(a,n,s)-t,i>0?r=a:e=a;while(Math.abs(i)>GDe&&++o<eUe);return a}function l5(t,e,r,n){if(t===e&&r===n)return Fa;const s=i=>tUe(i,0,1,t,r);return i=>i===0||i===1?i:Gle(s(i),e,n)}const eue=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tue=t=>e=>1-t(1-e),rue=l5(.33,1.53,.69,.99),NR=tue(rue),nue=eue(NR),sue=t=>(t*=2)<1?.5*NR(t):.5*(2-Math.pow(2,-10*(t-1))),ER=t=>1-Math.sin(Math.acos(t)),iue=tue(ER),aue=eue(ER),oue=t=>/^0[^.\s]+$/u.test(t);function rUe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oue(t):!0}const cue=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),lue=t=>e=>typeof e=="string"&&e.startsWith(t),uue=lue("--"),nUe=lue("var(--"),CR=t=>nUe(t)?sUe.test(t.split("/*")[0].trim()):!1,sUe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iUe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aUe(t){const e=iUe.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function due(t,e,r=1){const[n,s]=aUe(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return cue(a)?parseFloat(a):a}return CR(s)?due(s,e,r+1):s}const Dh=(t,e,r)=>r>e?e:r<t?t:r,Sw={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},q6={...Sw,transform:t=>Dh(0,1,t)},o9={...Sw,default:1},u5=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),M0=u5("deg"),Wd=u5("%"),ir=u5("px"),oUe=u5("vh"),cUe=u5("vw"),SW={...Wd,parse:t=>Wd.parse(t)/100,transform:t=>Wd.transform(t*100)},lUe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PW=t=>t===Sw||t===ir,kW=(t,e)=>parseFloat(t.split(", ")[e]),IW=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return kW(s[1],e);{const i=n.match(/^matrix\((.+)\)$/u);return i?kW(i[1],t):0}},uUe=new Set(["x","y","z"]),dUe=c5.filter(t=>!uUe.has(t));function fUe(t){const e=[];return dUe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Bx={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:IW(4,13),y:IW(5,14)};Bx.translateX=Bx.x;Bx.translateY=Bx.y;const fue=t=>e=>e.test(t),hUe={test:t=>t==="auto",parse:t=>t},hue=[Sw,ir,Wd,M0,cUe,oUe,hUe],NW=t=>hue.find(fue(t)),r1=new Set;let WM=!1,KM=!1;function pue(){if(KM){const t=Array.from(r1).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=fUe(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}KM=!1,WM=!1,r1.forEach(t=>t.complete()),r1.clear()}function mue(){r1.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(KM=!0)})}function pUe(){mue(),pue()}class _R{constructor(e,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(r1.add(this),WM||(WM=!0,Sn.read(mue),Sn.resolveKeyframes(pue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),r1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,r1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const k3=t=>Math.round(t*1e5)/1e5,TR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mUe(t){return t==null}const gUe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jR=(t,e)=>r=>!!(typeof r=="string"&&gUe.test(r)&&r.startsWith(t)||e&&!mUe(r)&&Object.prototype.hasOwnProperty.call(r,e)),gue=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(TR);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},bUe=t=>Dh(0,255,t),gC={...Sw,transform:t=>Math.round(bUe(t))},hg={test:jR("rgb","red"),parse:gue("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+gC.transform(t)+", "+gC.transform(e)+", "+gC.transform(r)+", "+k3(q6.transform(n))+")"};function yUe(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const XM={test:jR("#"),parse:yUe,transform:hg.transform},ly={test:jR("hsl","hue"),parse:gue("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Wd.transform(k3(e))+", "+Wd.transform(k3(r))+", "+k3(q6.transform(n))+")"},Pa={test:t=>hg.test(t)||XM.test(t)||ly.test(t),parse:t=>hg.test(t)?hg.parse(t):ly.test(t)?ly.parse(t):XM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hg.transform(t):ly.transform(t)},vUe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xUe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(TR))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(vUe))===null||r===void 0?void 0:r.length)||0)>0}const bue="number",yue="color",wUe="var",AUe="var(",EW="${}",SUe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function W6(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(SUe,c=>(Pa.test(c)?(n.color.push(i),s.push(yue),r.push(Pa.parse(c))):c.startsWith(AUe)?(n.var.push(i),s.push(wUe),r.push(c)):(n.number.push(i),s.push(bue),r.push(parseFloat(c))),++i,EW)).split(EW);return{values:r,split:o,indexes:n,types:s}}function vue(t){return W6(t).values}function xue(t){const{split:e,types:r}=W6(t),n=e.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],s[a]!==void 0){const o=r[a];o===bue?i+=k3(s[a]):o===yue?i+=Pa.transform(s[a]):i+=s[a]}return i}}const PUe=t=>typeof t=="number"?0:t;function kUe(t){const e=vue(t);return xue(t)(e.map(PUe))}const em={test:xUe,parse:vue,createTransformer:xue,getAnimatableNone:kUe},IUe=new Set(["brightness","contrast","saturate","opacity"]);function NUe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(TR)||[];if(!n)return t;const s=r.replace(n,"");let i=IUe.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const EUe=/\b([a-z-]*)\(.*?\)/gu,ZM={...em,getAnimatableNone:t=>{const e=t.match(EUe);return e?e.map(NUe).join(" "):t}},CUe={borderWidth:ir,borderTopWidth:ir,borderRightWidth:ir,borderBottomWidth:ir,borderLeftWidth:ir,borderRadius:ir,radius:ir,borderTopLeftRadius:ir,borderTopRightRadius:ir,borderBottomRightRadius:ir,borderBottomLeftRadius:ir,width:ir,maxWidth:ir,height:ir,maxHeight:ir,top:ir,right:ir,bottom:ir,left:ir,padding:ir,paddingTop:ir,paddingRight:ir,paddingBottom:ir,paddingLeft:ir,margin:ir,marginTop:ir,marginRight:ir,marginBottom:ir,marginLeft:ir,backgroundPositionX:ir,backgroundPositionY:ir},_Ue={rotate:M0,rotateX:M0,rotateY:M0,rotateZ:M0,scale:o9,scaleX:o9,scaleY:o9,scaleZ:o9,skew:M0,skewX:M0,skewY:M0,distance:ir,translateX:ir,translateY:ir,translateZ:ir,x:ir,y:ir,z:ir,perspective:ir,transformPerspective:ir,opacity:q6,originX:SW,originY:SW,originZ:ir},CW={...Sw,transform:Math.round},MR={...CUe,..._Ue,zIndex:CW,size:ir,fillOpacity:q6,strokeOpacity:q6,numOctaves:CW},TUe={...MR,color:Pa,backgroundColor:Pa,outlineColor:Pa,fill:Pa,stroke:Pa,borderColor:Pa,borderTopColor:Pa,borderRightColor:Pa,borderBottomColor:Pa,borderLeftColor:Pa,filter:ZM,WebkitFilter:ZM},$R=t=>TUe[t];function wue(t,e){let r=$R(t);return r!==ZM&&(r=em),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const jUe=new Set(["auto","none","0"]);function MUe(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!jUe.has(i)&&W6(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=wue(r,s)}class Aue extends _R{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),CR(l))){const u=due(l,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!lUe.has(n)||e.length!==2)return;const[s,i]=e,a=NW(s),o=NW(i);if(a!==o)if(PW(a)&&PW(o))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)rUe(e[s])&&n.push(s);n.length&&MUe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Bx[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{r.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function OR(t){return typeof t=="function"}let w7;function $Ue(){w7=void 0}const Kd={now:()=>(w7===void 0&&Kd.set(Fi.isProcessing||ZDe.useManualTiming?Fi.timestamp:performance.now()),w7),set:t=>{w7=t,queueMicrotask($Ue)}},_W=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(em.test(t)||t==="0")&&!t.startsWith("url("));function OUe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function BUe(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=_W(s,e),o=_W(i,e);return!a||!o?!1:OUe(t)||(r==="spring"||OR(r))&&n}const FUe=40;class Sue{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Kd.now(),this.options={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>FUe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pUe(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Kd.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:l}=this.options;if(!l&&!BUe(e,n,s,i))if(a)this.options.duration=0;else{c==null||c(Zk(e,this.options,r)),o==null||o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fx=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Pue=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(Fx(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function kue(t,e){return e?t*(1e3/e):0}const RUe=5;function Iue(t,e,r){const n=Math.max(e-RUe,0);return kue(r-t(n),e-n)}const xs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bC=.001;function DUe({duration:t=xs.duration,bounce:e=xs.bounce,velocity:r=xs.velocity,mass:n=xs.mass}){let s,i,a=1-e;a=Dh(xs.minDamping,xs.maxDamping,a),t=Dh(xs.minDuration,xs.maxDuration,xh(t)),a<1?(s=l=>{const u=l*a,f=u*t,h=u-r,m=JM(l,a),y=Math.exp(-f);return bC-h/m*y},i=l=>{const f=l*a*t,h=f*r+r,m=Math.pow(a,2)*Math.pow(l,2)*t,y=Math.exp(-f),x=JM(Math.pow(l,2),a);return(-s(l)+bC>0?-1:1)*((h-m)*y)/x}):(s=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-bC+u*f},i=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const o=5/t,c=zUe(s,i,o);if(t=vh(t),isNaN(c))return{stiffness:xs.stiffness,damping:xs.damping,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:t}}}const UUe=12;function zUe(t,e,r){let n=r;for(let s=1;s<UUe;s++)n=n-t(n)/e(n);return n}function JM(t,e){return t*Math.sqrt(1-e*e)}const QM=2e4;function Nue(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<QM;)e+=r,n=t.next(e);return e>=QM?1/0:e}const LUe=["duration","bounce"],VUe=["stiffness","damping","mass"];function TW(t,e){return e.some(r=>t[r]!==void 0)}function HUe(t){let e={velocity:xs.velocity,stiffness:xs.stiffness,damping:xs.damping,mass:xs.mass,isResolvedFromDuration:!1,...t};if(!TW(t,VUe)&&TW(t,LUe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Dh(.05,1,1-t.bounce)*Math.sqrt(s);e={...e,mass:xs.mass,stiffness:s,damping:i}}else{const r=DUe(t);e={...e,...r,mass:xs.mass},e.isResolvedFromDuration=!0}return e}function Eue(t=xs.visualDuration,e=xs.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=HUe({...r,velocity:-xh(r.velocity||0)}),y=h||0,x=l/(2*Math.sqrt(c*u)),k=a-i,C=xh(Math.sqrt(c/u)),I=Math.abs(k)<5;n||(n=I?xs.restSpeed.granular:xs.restSpeed.default),s||(s=I?xs.restDelta.granular:xs.restDelta.default);let _;if(x<1){const F=JM(C,x);_=D=>{const j=Math.exp(-x*C*D);return a-j*((y+x*C*k)/F*Math.sin(F*D)+k*Math.cos(F*D))}}else if(x===1)_=F=>a-Math.exp(-C*F)*(k+(y+C*k)*F);else{const F=C*Math.sqrt(x*x-1);_=D=>{const j=Math.exp(-x*C*D),T=Math.min(F*D,300);return a-j*((y+x*C*k)*Math.sinh(T)+F*k*Math.cosh(T))/F}}const O={calculatedDuration:m&&f||null,next:F=>{const D=_(F);if(m)o.done=F>=f;else{let j=0;x<1&&(j=F===0?vh(y):Iue(_,F,D));const T=Math.abs(j)<=n,R=Math.abs(a-D)<=s;o.done=T&&R}return o.value=o.done?a:D,o},toString:()=>{const F=Math.min(Nue(O),QM),D=Pue(j=>O.next(F*j).value,F,30);return F+"ms "+D}};return O}function jW({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:l=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},m=T=>o!==void 0&&T<o||c!==void 0&&T>c,y=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let x=r*e;const k=f+x,C=a===void 0?k:a(k);C!==k&&(x=C-f);const I=T=>-x*Math.exp(-T/n),_=T=>C+I(T),O=T=>{const R=I(T),q=_(T);h.done=Math.abs(R)<=l,h.value=h.done?C:q};let F,D;const j=T=>{m(h.value)&&(F=T,D=Eue({keyframes:[h.value,y(h.value)],velocity:Iue(_,T,h.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return j(0),{calculatedDuration:null,next:T=>{let R=!1;return!D&&F===void 0&&(R=!0,O(T),j(T)),F!==void 0&&T>=F?D.next(T-F):(!R&&O(T),h)}}}const qUe=l5(.42,0,1,1),WUe=l5(0,0,.58,1),Cue=l5(.42,0,.58,1),KUe=t=>Array.isArray(t)&&typeof t[0]!="number",BR=t=>Array.isArray(t)&&typeof t[0]=="number",MW={linear:Fa,easeIn:qUe,easeInOut:Cue,easeOut:WUe,circIn:ER,circInOut:aue,circOut:iue,backIn:NR,backInOut:nue,backOut:rue,anticipate:sue},$W=t=>{if(BR(t)){qM(t.length===4);const[e,r,n,s]=t;return l5(e,r,n,s)}else if(typeof t=="string")return qM(MW[t]!==void 0),MW[t];return t},XUe=(t,e)=>r=>e(t(r)),Rp=(...t)=>t.reduce(XUe),us=(t,e,r)=>t+(e-t)*r;function yC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZUe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,a=0;if(!e)s=i=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;s=yC(c,o,t+1/3),i=yC(c,o,t),a=yC(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function oS(t,e){return r=>r>0?e:t}const vC=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},JUe=[XM,hg,ly],QUe=t=>JUe.find(e=>e.test(t));function OW(t){const e=QUe(t);if(!e)return!1;let r=e.parse(t);return e===ly&&(r=ZUe(r)),r}const BW=(t,e)=>{const r=OW(t),n=OW(e);if(!r||!n)return oS(t,e);const s={...r};return i=>(s.red=vC(r.red,n.red,i),s.green=vC(r.green,n.green,i),s.blue=vC(r.blue,n.blue,i),s.alpha=us(r.alpha,n.alpha,i),hg.transform(s))},YM=new Set(["none","hidden"]);function YUe(t,e){return YM.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function GUe(t,e){return r=>us(t,e,r)}function FR(t){return typeof t=="number"?GUe:typeof t=="string"?CR(t)?oS:Pa.test(t)?BW:rze:Array.isArray(t)?_ue:typeof t=="object"?Pa.test(t)?BW:eze:oS}function _ue(t,e){const r=[...t],n=r.length,s=t.map((i,a)=>FR(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function eze(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=FR(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function tze(t,e){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],c=(r=t.values[o])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const rze=(t,e)=>{const r=em.createTransformer(e),n=W6(t),s=W6(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?YM.has(t)&&!s.values.length||YM.has(e)&&!n.values.length?YUe(t,e):Rp(_ue(tze(n,s),s.values),r):oS(t,e)};function Tue(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?us(t,e,r):FR(t)(t,e)}function nze(t,e,r){const n=[],s=r||Tue,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Fa:e;o=Rp(c,o)}n.push(o)}return n}function sze(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(qM(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=nze(e,n,s),o=a.length,c=l=>{let u=0;if(o>1)for(;u<t.length-2&&!(l<t[u+1]);u++);const f=Fx(t[u],t[u+1],l);return a[u](f)};return r?l=>c(Dh(t[0],t[i-1],l)):c}function ize(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Fx(0,e,n);t.push(us(r,1,s))}}function aze(t){const e=[0];return ize(e,t.length-1),e}function oze(t,e){return t.map(r=>r*e)}function cze(t,e){return t.map(()=>e||Cue).splice(0,t.length-1)}function cS({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=KUe(n)?n.map($W):$W(n),i={done:!1,value:e[0]},a=oze(r&&r.length===e.length?r:aze(e),t),o=sze(a,e,{ease:Array.isArray(s)?s:cze(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const lze=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Sn.update(e,!0),stop:()=>Gp(e),now:()=>Fi.isProcessing?Fi.timestamp:Kd.now()}},uze={decay:jW,inertia:jW,tween:cS,keyframes:cS,spring:Eue},dze=t=>t/100;class RR extends Sue{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||_R,o=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=OR(r)?r:uze[r]||cS;let c,l;o!==cS&&typeof e[0]!="number"&&(c=Rp(dze,Tue(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});i==="mirror"&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Nue(u));const{calculatedDuration:f}=u,h=f+s,m=h*(n+1)-s;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:x,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const C=this.currentTime-h*(this.speed>=0?1:-1),I=this.speed>=0?C<0:C>u;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,O=i;if(m){const T=Math.min(this.currentTime,u)/f;let R=Math.floor(T),q=T%1;!q&&T>=1&&(q=1),q===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(y==="reverse"?(q=1-q,x&&(q-=x/f)):y==="mirror"&&(O=a)),_=Dh(0,1,q)*f}const F=I?{done:!1,value:c[0]}:O.next(_);o&&(F.value=o(F.value));let{done:D}=F;!I&&l!==null&&(D=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return j&&s!==void 0&&(F.value=Zk(c,this.options,s)),k&&k(F.value),j&&this.finish(),F}get duration(){const{resolved:e}=this;return e?xh(e.calculatedDuration):0}get time(){return xh(this.currentTime)}set time(e){e=vh(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=xh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=lze,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fze=new Set(["opacity","clipPath","filter","transform"]);function DR(t){let e;return()=>(e===void 0&&(e=t()),e)}const hze={linearEasing:void 0};function pze(t,e){const r=DR(t);return()=>{var n;return(n=hze[e])!==null&&n!==void 0?n:r()}}const lS=pze(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function jue(t){return!!(typeof t=="function"&&lS()||!t||typeof t=="string"&&(t in GM||lS())||BR(t)||Array.isArray(t)&&t.every(jue))}const Y2=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,GM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Y2([0,.65,.55,1]),circOut:Y2([.55,0,1,.45]),backIn:Y2([.31,.01,.66,-.59]),backOut:Y2([.33,1.53,.69,.99])};function Mue(t,e){if(t)return typeof t=="function"&&lS()?Pue(t,e):BR(t)?Y2(t):Array.isArray(t)?t.map(r=>Mue(r,e)||GM.easeOut):GM[t]}function mze(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const l={[e]:r};c&&(l.offset=c);const u=Mue(o,s);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function FW(t,e){t.timeline=e,t.onfinish=null}const gze=DR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uS=10,bze=2e4;function yze(t){return OR(t.type)||t.type==="spring"||!jue(t.ease)}function vze(t,e){const r=new RR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let i=0;for(;!n.done&&i<bze;)n=r.sample(i),s.push(n.value),i+=uS;return{times:void 0,keyframes:s,duration:i-uS,ease:"linear"}}const $ue={anticipate:sue,backInOut:nue,circInOut:aue};function xze(t){return t in $ue}class RW extends Sue{constructor(e){super(e);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Aue(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(e,r){var n;let{duration:s=300,times:i,ease:a,type:o,motionValue:c,name:l,startTime:u}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof a=="string"&&lS()&&xze(a)&&(a=$ue[a]),yze(this.options)){const{onComplete:h,onUpdate:m,motionValue:y,element:x,...k}=this.options,C=vze(e,k);e=C.keyframes,e.length===1&&(e[1]=e[0]),s=C.duration,i=C.times,a=C.ease,o="keyframes"}const f=mze(c.owner.current,l,e,{...this.options,duration:s,times:i,ease:a});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(FW(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(Zk(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return xh(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return xh(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=vh(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Fa;const{animation:n}=r;FW(n,e)}return Fa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:f,element:h,...m}=this.options,y=new RR({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),x=vh(this.time);l.setWithVelocity(y.sample(x-uS).value,y.sample(x).value,uS)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;return gze()&&n&&fze.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const wze=DR(()=>window.ScrollTimeline!==void 0);class Aze{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(s=>wze()&&s.attachTimeline?s.attachTimeline(e):r(s));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Sze({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const UR=(t,e,r,n={},s,i)=>a=>{const o=IR(n,t)||{},c=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-vh(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-l,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};Sze(o)||(u={...u,...XDe(t,u)}),u.duration&&(u.duration=vh(u.duration)),u.repeatDelay&&(u.repeatDelay=vh(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const h=Zk(u.keyframes,o);if(h!==void 0)return Sn.update(()=>{u.onUpdate(h),u.onComplete()}),new Aze([])}return!i&&RW.supports(u)?new RW(u):new RR(u)},Pze=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kze=t=>HM(t)?t[t.length-1]||0:t;function zR(t,e){t.indexOf(e)===-1&&t.push(e)}function LR(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class VR{constructor(){this.subscriptions=[]}add(e){return zR(this.subscriptions,e),()=>LR(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DW=30,Ize=t=>!isNaN(parseFloat(t));class Nze{constructor(e,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Kd.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Kd.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ize(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new VR);const n=this.events[e].add(r);return e==="change"?()=>{n(),Sn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kd.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DW)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DW);return kue(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function K6(t,e){return new Nze(t,e)}function Eze(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,K6(r))}function Cze(t,e){const r=Xk(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=kze(i[a]);Eze(t,a,o)}}const HR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_ze="framerAppearId",Oue="data-"+HR(_ze);function Bue(t){return t.props[Oue]}const ja=t=>!!(t&&t.getVelocity);function Tze(t){return!!(ja(t)&&t.add)}function e$(t,e){const r=t.getValue("willChange");if(Tze(r))return r.add(e)}function jze({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Fue(t,e,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const f in c){const h=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||u&&jze(u,f))continue;const y={delay:r,...IR(a||{},f)};let x=!1;if(window.MotionHandoffAnimation){const C=Bue(t);if(C){const I=window.MotionHandoffAnimation(C,f,Sn);I!==null&&(y.startTime=I,x=!0)}}e$(t,f),h.start(UR(f,h,m,t.shouldReduceMotion&&Z1.has(f)?{type:!1}:y,t,x));const k=h.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{Sn.update(()=>{o&&Cze(t,o)})}),l}function t$(t,e,r={}){var n;const s=Xk(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(Fue(t,s,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Mze(t,e,u+l,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[l,u]=c==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function Mze(t,e,r=0,n=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*n,c=s===1?(l=0)=>l*n:(l=0)=>o-l*n;return Array.from(t.variantChildren).sort($ze).forEach((l,u)=>{l.notify("AnimationStart",e),a.push(t$(l,e,{...i,delay:r+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(a)}function $ze(t,e){return t.sortNodePosition(e)}function Oze(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>t$(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=t$(t,e,r);else{const s=typeof e=="function"?Xk(t,e,r.custom):e;n=Promise.all(Fue(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Bze=kR.length;function Rue(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Rue(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Bze;r++){const n=kR[r],s=t.props[n];(H6(s)||s===!1)&&(e[n]=s)}return e}const Fze=[...PR].reverse(),Rze=PR.length;function Dze(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Oze(t,r,n)))}function Uze(t){let e=Dze(t),r=UW(),n=!0;const s=c=>(l,u)=>{var f;const h=Xk(t,u,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...x}=h;l={...l,...x,...y}}return l};function i(c){e=c(t)}function a(c){const{props:l}=t,u=Rue(t.parent)||{},f=[],h=new Set;let m={},y=1/0;for(let k=0;k<Rze;k++){const C=Fze[k],I=r[C],_=l[C]!==void 0?l[C]:u[C],O=H6(_),F=C===c?I.isActive:null;F===!1&&(y=k);let D=_===u[C]&&_!==l[C]&&O;if(D&&n&&t.manuallyAnimateOnMount&&(D=!1),I.protectedKeys={...m},!I.isActive&&F===null||!_&&!I.prevProp||Kk(_)||typeof _=="boolean")continue;const j=zze(I.prevProp,_);let T=j||C===c&&I.isActive&&!D&&O||k>y&&O,R=!1;const q=Array.isArray(_)?_:[_];let $=q.reduce(s(C),{});F===!1&&($={});const{prevResolvedValues:b={}}=I,w={...b,...$},p=N=>{T=!0,h.has(N)&&(R=!0,h.delete(N)),I.needsAnimating[N]=!0;const P=t.getValue(N);P&&(P.liveStyle=!1)};for(const N in w){const P=$[N],A=b[N];if(m.hasOwnProperty(N))continue;let v=!1;HM(P)&&HM(A)?v=!Qle(P,A):v=P!==A,v?P!=null?p(N):h.add(N):P!==void 0&&h.has(N)?p(N):I.protectedKeys[N]=!0}I.prevProp=_,I.prevResolvedValues=$,I.isActive&&(m={...m,...$}),n&&t.blockInitialAnimation&&(T=!1),T&&(!(D&&j)||R)&&f.push(...q.map(N=>({animation:N,options:{type:C}})))}if(h.size){const k={};h.forEach(C=>{const I=t.getBaseTarget(C),_=t.getValue(C);_&&(_.liveStyle=!0),k[C]=I??null}),f.push({animation:k})}let x=!!f.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function o(c,l){var u;if(r[c].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,l)}),r[c].isActive=l;const f=a(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=UW(),n=!0}}}function zze(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qle(e,t):!1}function Tm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UW(){return{animate:Tm(!0),whileInView:Tm(),whileHover:Tm(),whileTap:Tm(),whileDrag:Tm(),whileFocus:Tm(),exit:Tm()}}class pm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Lze extends pm{constructor(e){super(e),e.animationState||(e.animationState=Uze(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Vze=0;class Hze extends pm{constructor(){super(...arguments),this.id=Vze++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qze={animation:{Feature:Lze},exit:{Feature:Hze}};function Wze(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Zl={x:!1,y:!1};function Due(){return Zl.x||Zl.y}function zW(t){return e=>{e.pointerType==="touch"||Due()||t(e)}}function Kze(t,e,r={}){const n=new AbortController,s={passive:!0,...r,signal:n.signal},i=zW(a=>{const{target:o}=a,c=e(a);if(!c||!o)return;const l=zW(u=>{c(u),o.removeEventListener("pointerleave",l)});o.addEventListener("pointerleave",l,s)});return Wze(t).forEach(a=>{a.addEventListener("pointerenter",i,s)}),()=>n.abort()}function Xze(t){return t==="x"||t==="y"?Zl[t]?null:(Zl[t]=!0,()=>{Zl[t]=!1}):Zl.x||Zl.y?null:(Zl.x=Zl.y=!0,()=>{Zl.x=Zl.y=!1})}const Uue=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function d5(t){return{point:{x:t.pageX,y:t.pageY}}}const Zze=t=>e=>Uue(e)&&t(e,d5(e));function uh(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Dp(t,e,r,n){return uh(t,e,Zze(r),n)}const LW=(t,e)=>Math.abs(t-e);function Jze(t,e){const r=LW(t.x,e.x),n=LW(t.y,e.y);return Math.sqrt(r**2+n**2)}class zue{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=wC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Jze(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:x}=Fi;this.history.push({...y,timestamp:x});const{onStart:k,onMove:C}=this.handlers;h||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=xC(h,this.transformPagePoint),Sn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=wC(f.type==="pointercancel"?this.lastMoveEventInfo:xC(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,k),y&&y(f,k)},!Uue(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=d5(e),o=xC(a,this.transformPagePoint),{point:c}=o,{timestamp:l}=Fi;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=r;u&&u(e,wC(o,this.history)),this.removeListeners=Rp(Dp(this.contextWindow,"pointermove",this.handlePointerMove),Dp(this.contextWindow,"pointerup",this.handlePointerUp),Dp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gp(this.updatePoint)}}function xC(t,e){return e?{point:e(t.point)}:t}function VW(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wC({point:t},e){return{point:t,delta:VW(t,Lue(e)),offset:VW(t,Qze(e)),velocity:Yze(e,.1)}}function Qze(t){return t[0]}function Lue(t){return t[t.length-1]}function Yze(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Lue(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>vh(e)));)r--;if(!n)return{x:0,y:0};const i=xh(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uy(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Vue=1e-4,Gze=1-Vue,eLe=1+Vue,Hue=.01,tLe=0-Hue,rLe=0+Hue;function vc(t){return t.max-t.min}function nLe(t,e,r){return Math.abs(t-e)<=r}function HW(t,e,r,n=.5){t.origin=n,t.originPoint=us(e.min,e.max,t.origin),t.scale=vc(r)/vc(e),t.translate=us(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Gze&&t.scale<=eLe||isNaN(t.scale))&&(t.scale=1),(t.translate>=tLe&&t.translate<=rLe||isNaN(t.translate))&&(t.translate=0)}function I3(t,e,r,n){HW(t.x,e.x,r.x,n?n.originX:void 0),HW(t.y,e.y,r.y,n?n.originY:void 0)}function qW(t,e,r){t.min=r.min+e.min,t.max=t.min+vc(e)}function sLe(t,e,r){qW(t.x,e.x,r.x),qW(t.y,e.y,r.y)}function WW(t,e,r){t.min=e.min-r.min,t.max=t.min+vc(e)}function N3(t,e,r){WW(t.x,e.x,r.x),WW(t.y,e.y,r.y)}function iLe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?us(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?us(r,t,n.max):Math.min(t,r)),t}function KW(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function aLe(t,{top:e,left:r,bottom:n,right:s}){return{x:KW(t.x,r,s),y:KW(t.y,e,n)}}function XW(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function oLe(t,e){return{x:XW(t.x,e.x),y:XW(t.y,e.y)}}function cLe(t,e){let r=.5;const n=vc(t),s=vc(e);return s>n?r=Fx(e.min,e.max-n,t.min):n>s&&(r=Fx(t.min,t.max-s,e.min)),Dh(0,1,r)}function lLe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const r$=.35;function uLe(t=r$){return t===!1?t=0:t===!0&&(t=r$),{x:ZW(t,"left","right"),y:ZW(t,"top","bottom")}}function ZW(t,e,r){return{min:JW(t,e),max:JW(t,r)}}function JW(t,e){return typeof t=="number"?t:t[e]||0}const QW=()=>({translate:0,scale:1,origin:0,originPoint:0}),dy=()=>({x:QW(),y:QW()}),YW=()=>({min:0,max:0}),Ns=()=>({x:YW(),y:YW()});function Xc(t){return[t("x"),t("y")]}function que({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function dLe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fLe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function AC(t){return t===void 0||t===1}function n$({scale:t,scaleX:e,scaleY:r}){return!AC(t)||!AC(e)||!AC(r)}function Wm(t){return n$(t)||Wue(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Wue(t){return GW(t.x)||GW(t.y)}function GW(t){return t&&t!=="0%"}function dS(t,e,r){const n=t-r,s=e*n;return r+s}function eK(t,e,r,n,s){return s!==void 0&&(t=dS(t,s,n)),dS(t,r,n)+e}function s$(t,e=0,r=1,n,s){t.min=eK(t.min,e,r,n,s),t.max=eK(t.max,e,r,n,s)}function Kue(t,{x:e,y:r}){s$(t.x,e.translate,e.scale,e.originPoint),s$(t.y,r.translate,r.scale,r.originPoint)}const tK=.999999999999,rK=1.0000000000001;function hLe(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hy(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Kue(t,a)),n&&Wm(i.latestValues)&&hy(t,i.latestValues))}e.x<rK&&e.x>tK&&(e.x=1),e.y<rK&&e.y>tK&&(e.y=1)}function fy(t,e){t.min=t.min+e,t.max=t.max+e}function nK(t,e,r,n,s=.5){const i=us(t.min,t.max,s);s$(t,e,r,i,n)}function hy(t,e){nK(t.x,e.x,e.scaleX,e.scale,e.originX),nK(t.y,e.y,e.scaleY,e.scale,e.originY)}function Xue(t,e){return que(fLe(t.getBoundingClientRect(),e))}function pLe(t,e,r){const n=Xue(t,r),{scroll:s}=e;return s&&(fy(n.x,s.offset.x),fy(n.y,s.offset.y)),n}const Zue=({current:t})=>t?t.ownerDocument.defaultView:null,mLe=new WeakMap;class gLe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ns(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(d5(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xze(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xc(k=>{let C=this.getAxisMotionValue(k).get()||0;if(Wd.test(C)){const{projection:I}=this.visualElement;if(I&&I.layout){const _=I.layout.layoutBox[k];_&&(C=vc(_)*(parseFloat(C)/100))}}this.originPoint[k]=C}),y&&Sn.postRender(()=>y(u,f)),e$(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:k}=f;if(m&&this.currentDirection===null){this.currentDirection=bLe(k),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),x&&x(u,f)},o=(u,f)=>this.stop(u,f),c=()=>Xc(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new zue(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Zue(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Sn.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!c9(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=iLe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&uy(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=aLe(s.layoutBox,r):this.constraints=!1,this.elastic=uLe(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xc(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lLe(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!uy(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pLe(n,s.root,this.visualElement.getTransformPagePoint());let a=oLe(s.layout.layoutBox,i);if(r){const o=r(dLe(a));this.hasMutatedConstraints=!!o,o&&(a=que(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},l=Xc(u=>{if(!c9(u,r,this.currentDirection))return;let f=c&&c[u]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(l).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return e$(this.visualElement,e),n.start(UR(e,n,0,r,this.visualElement,!1))}stopAnimation(){Xc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xc(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xc(r=>{const{drag:n}=this.getProps();if(!c9(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(e[r]-us(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!uy(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xc(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=cLe({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xc(a=>{if(!c9(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:l}=this.constraints[a];o.set(us(c,l,s[a]))})}addListeners(){if(!this.visualElement.current)return;mLe.set(this.visualElement,this);const e=this.visualElement.current,r=Dp(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();uy(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Sn.read(n);const a=uh(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Xc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=r$,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function c9(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function bLe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class yLe extends pm{constructor(e){super(e),this.removeGroupControls=Fa,this.removeListeners=Fa,this.controls=new gLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const sK=t=>(e,r)=>{t&&Sn.postRender(()=>t(e,r))};class vLe extends pm{constructor(){super(...arguments),this.removePointerDownListener=Fa}onPointerDown(e){this.session=new zue(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zue(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:sK(e),onStart:sK(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Sn.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Dp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qR=B.createContext(null);function xLe(){const t=B.useContext(qR);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,s=B.useId();B.useEffect(()=>n(s),[]);const i=B.useCallback(()=>r&&r(s),[s,r]);return!e&&r?[!1,i]:[!0]}const Jue=B.createContext({}),Que=B.createContext({}),A7={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iK(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const f2={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ir.test(t))t=parseFloat(t);else return t;const r=iK(t,e.target.x),n=iK(t,e.target.y);return`${r}% ${n}%`}},wLe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=em.parse(t);if(s.length>5)return n;const i=em.createTransformer(t),a=typeof s[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const l=us(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=l),typeof s[3+a]=="number"&&(s[3+a]/=l),i(s)}},fS={};function ALe(t){Object.assign(fS,t)}const{schedule:WR,cancel:x6t}=Yle(queueMicrotask,!1);class SLe extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;ALe(PLe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),A7.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Sn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),WR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Yue(t){const[e,r]=xLe(),n=B.useContext(Jue);return d.jsx(SLe,{...t,layoutGroup:n,switchLayoutGroup:B.useContext(Que),isPresent:e,safeToRemove:r})}const PLe={borderRadius:{...f2,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:f2,borderTopRightRadius:f2,borderBottomLeftRadius:f2,borderBottomRightRadius:f2,boxShadow:wLe},Gue=["TopLeft","TopRight","BottomLeft","BottomRight"],kLe=Gue.length,aK=t=>typeof t=="string"?parseFloat(t):t,oK=t=>typeof t=="number"||ir.test(t);function ILe(t,e,r,n,s,i){s?(t.opacity=us(0,r.opacity!==void 0?r.opacity:1,NLe(n)),t.opacityExit=us(e.opacity!==void 0?e.opacity:1,0,ELe(n))):i&&(t.opacity=us(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<kLe;a++){const o=`border${Gue[a]}Radius`;let c=cK(e,o),l=cK(r,o);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||oK(c)===oK(l)?(t[o]=Math.max(us(aK(c),aK(l),n),0),(Wd.test(l)||Wd.test(c))&&(t[o]+="%")):t[o]=l}(e.rotate||r.rotate)&&(t.rotate=us(e.rotate||0,r.rotate||0,n))}function cK(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NLe=ede(0,.5,iue),ELe=ede(.5,.95,Fa);function ede(t,e,r){return n=>n<t?0:n>e?1:r(Fx(t,e,n))}function lK(t,e){t.min=e.min,t.max=e.max}function Dc(t,e){lK(t.x,e.x),lK(t.y,e.y)}function uK(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dK(t,e,r,n,s){return t-=e,t=dS(t,1/r,n),s!==void 0&&(t=dS(t,1/s,n)),t}function CLe(t,e=0,r=1,n=.5,s,i=t,a=t){if(Wd.test(e)&&(e=parseFloat(e),e=us(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=us(i.min,i.max,n);t===i&&(o-=e),t.min=dK(t.min,e,r,o,s),t.max=dK(t.max,e,r,o,s)}function fK(t,e,[r,n,s],i,a){CLe(t,e[r],e[n],e[s],e.scale,i,a)}const _Le=["x","scaleX","originX"],TLe=["y","scaleY","originY"];function hK(t,e,r,n){fK(t.x,e,_Le,r?r.x:void 0,n?n.x:void 0),fK(t.y,e,TLe,r?r.y:void 0,n?n.y:void 0)}function pK(t){return t.translate===0&&t.scale===1}function tde(t){return pK(t.x)&&pK(t.y)}function mK(t,e){return t.min===e.min&&t.max===e.max}function jLe(t,e){return mK(t.x,e.x)&&mK(t.y,e.y)}function gK(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rde(t,e){return gK(t.x,e.x)&&gK(t.y,e.y)}function bK(t){return vc(t.x)/vc(t.y)}function yK(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MLe{constructor(){this.members=[]}add(e){zR(this.members,e),e.scheduleRender()}remove(e){if(LR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $Le(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:l,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:y}=r;l&&(n=`perspective(${l}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const OLe=(t,e)=>t.depth-e.depth;class BLe{constructor(){this.children=[],this.isDirty=!1}add(e){zR(this.children,e),this.isDirty=!0}remove(e){LR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OLe),this.isDirty=!1,this.children.forEach(e)}}function S7(t){const e=ja(t)?t.get():t;return Pze(e)?e.toValue():e}function FLe(t,e){const r=Kd.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Gp(n),t(i-e))};return Sn.read(n,!0),()=>Gp(n)}function RLe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function DLe(t,e,r){const n=ja(t)?t:K6(t);return n.start(UR("",n,e,r)),n.animation}const Km={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},G2=typeof window<"u"&&window.MotionDebug!==void 0,SC=["","X","Y","Z"],ULe={visibility:"hidden"},vK=1e3;let zLe=0;function PC(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function nde(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Bue(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Sn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&nde(n)}function sde({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=zLe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,G2&&(Km.totalNodes=Km.resolvedTargetDeltas=Km.recalculatedProjection=0),this.nodes.forEach(HLe),this.nodes.forEach(ZLe),this.nodes.forEach(JLe),this.nodes.forEach(qLe),G2&&window.MotionDebug.record(Km)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BLe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new VR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=RLe(a),this.instance=a;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=FLe(h,250),A7.hasAnimatedSinceResize&&(A7.hasAnimatedSinceResize=!1,this.nodes.forEach(wK))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||tVe,{onLayoutAnimationStart:k,onLayoutAnimationComplete:C}=u.getProps(),I=!this.targetLayout||!rde(this.targetLayout,y)||m,_=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const O={...IR(x,"layout"),onPlay:k,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else h||wK(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QLe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nde(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xK);return}this.isUpdating||this.nodes.forEach(KLe),this.isUpdating=!1,this.nodes.forEach(XLe),this.nodes.forEach(LLe),this.nodes.forEach(VLe),this.clearAllSnapshots();const o=Kd.now();Fi.delta=Dh(0,1e3/60,o-Fi.timestamp),Fi.timestamp=o,Fi.isProcessing=!0,mC.update.process(Fi),mC.preRender.process(Fi),mC.render.process(Fi),Fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,WR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WLe),this.sharedNodes.forEach(YLe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ns(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!tde(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;a&&(o||Wm(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),rVe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ns();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(nVe))){const{scroll:u}=this.root;u&&(fy(c.x,u.offset.x),fy(c.y,u.offset.y))}return c}removeElementScroll(a){var o;const c=Ns();if(Dc(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Dc(c,a),fy(c.x,f.offset.x),fy(c.y,f.offset.y))}return c}applyTransform(a,o=!1){const c=Ns();Dc(c,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hy(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Wm(u.latestValues)&&hy(c,u.latestValues)}return Wm(this.latestValues)&&hy(c,this.latestValues),c}removeTransform(a){const o=Ns();Dc(o,a);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Wm(l.latestValues))continue;n$(l.latestValues)&&l.updateSnapshot();const u=Ns(),f=l.measurePageBox();Dc(u,f),hK(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Wm(this.latestValues)&&hK(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Fi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ns(),this.relativeTargetOrigin=Ns(),N3(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Dc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ns(),this.targetWithTransforms=Ns()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sLe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dc(this.target,this.layout.layoutBox),Kue(this.target,this.targetDelta)):Dc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ns(),this.relativeTargetOrigin=Ns(),N3(this.relativeTargetOrigin,this.target,m.target),Dc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}G2&&Km.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||n$(this.parent.latestValues)||Wue(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Fi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Dc(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;hLe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ns());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uK(this.prevProjectionDelta.x,this.projectionDelta.x),uK(this.prevProjectionDelta.y,this.projectionDelta.y)),I3(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!yK(this.projectionDelta.x,this.prevProjectionDelta.x)||!yK(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),G2&&Km.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dy(),this.projectionDelta=dy(),this.projectionDeltaWithTransform=dy()}setAnimationOrigin(a,o=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},f=dy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Ns(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,k=this.getStack(),C=!k||k.members.length<=1,I=!!(x&&!C&&this.options.crossfade===!0&&!this.path.some(eVe));this.animationProgress=0;let _;this.mixTargetDelta=O=>{const F=O/1e3;AK(f.x,a.x,F),AK(f.y,a.y,F),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(N3(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GLe(this.relativeTarget,this.relativeTargetOrigin,h,F),_&&jLe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ns()),Dc(_,this.relativeTarget)),x&&(this.animationValues=u,ILe(u,l,this.latestValues,F,I,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sn.update(()=>{A7.hasAnimatedSinceResize=!0,this.currentAnimation=DLe(0,vK,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:l,latestValues:u}=a;if(!(!o||!c||!l)){if(this!==a&&this.layout&&l&&ide(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Ns();const f=vc(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=vc(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Dc(o,c),hy(o,u),I3(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new MLe),this.sharedNodes.get(a).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const l={};c.z&&PC("z",a,l,this.animationValues);for(let u=0;u<SC.length;u++)PC(`rotate${SC[u]}`,a,l,this.animationValues),PC(`skew${SC[u]}`,a,l,this.animationValues);a.render();for(const u in l)a.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ULe;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=S7(a==null?void 0:a.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=S7(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Wm(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=$Le(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in fS){if(h[x]===void 0)continue;const{correct:k,applyTo:C}=fS[x],I=l.transform==="none"?h[x]:k(h[x],f);if(C){const _=C.length;for(let O=0;O<_;O++)l[C[O]]=I}else l[x]=I}return this.options.layoutId&&(l.pointerEvents=f===this?S7(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(xK),this.root.sharedNodes.clear()}}}function LLe(t){t.updateLayout()}function VLe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=r.source!==t.layout.source;i==="size"?Xc(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vc(h);h.min=n[f].min,h.max=h.min+m}):ide(i,r.layoutBox,n)&&Xc(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vc(n[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=dy();I3(o,n,r.layoutBox);const c=dy();a?I3(c,t.applyTransform(s,!0),r.measuredBox):I3(c,n,r.layoutBox);const l=!tde(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Ns();N3(y,r.layoutBox,h.layoutBox);const x=Ns();N3(x,n,m.layoutBox),rde(y,x)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function HLe(t){G2&&Km.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qLe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WLe(t){t.clearSnapshot()}function xK(t){t.clearMeasurements()}function KLe(t){t.isLayoutDirty=!1}function XLe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wK(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZLe(t){t.resolveTargetDelta()}function JLe(t){t.calcProjection()}function QLe(t){t.resetSkewAndRotation()}function YLe(t){t.removeLeadSnapshot()}function AK(t,e,r){t.translate=us(e.translate,0,r),t.scale=us(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function SK(t,e,r,n){t.min=us(e.min,r.min,n),t.max=us(e.max,r.max,n)}function GLe(t,e,r,n){SK(t.x,e.x,r.x,n),SK(t.y,e.y,r.y,n)}function eVe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tVe={duration:.45,ease:[.4,0,.1,1]},PK=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kK=PK("applewebkit/")&&!PK("chrome/")?Math.round:Fa;function IK(t){t.min=kK(t.min),t.max=kK(t.max)}function rVe(t){IK(t.x),IK(t.y)}function ide(t,e,r){return t==="position"||t==="preserve-aspect"&&!nLe(bK(e),bK(r),.2)}function nVe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const sVe=sde({attachResizeListener:(t,e)=>uh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kC={current:void 0},ade=sde({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kC.current){const t=new sVe({});t.mount(window),t.setOptions({layoutScroll:!0}),kC.current=t}return kC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iVe={pan:{Feature:vLe},drag:{Feature:yLe,ProjectionNode:ade,MeasureLayout:Yue}};function NK(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r);const s=n[r?"onHoverStart":"onHoverEnd"];s&&Sn.postRender(()=>s(e,d5(e)))}class aVe extends pm{mount(){const{current:e,props:r}=this.node;e&&(this.unmount=Kze(e,n=>(NK(this.node,n,!0),s=>NK(this.node,s,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class oVe extends pm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rp(uh(this.node.current,"focus",()=>this.onFocus()),uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ode=(t,e)=>e?t===e?!0:ode(t,e.parentElement):!1;function IC(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,d5(r))}class cVe extends pm{constructor(){super(...arguments),this.removeStartListeners=Fa,this.removeEndListeners=Fa,this.removeAccessibleListeners=Fa,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Dp(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:f}=this.node.getProps(),h=!f&&!ode(this.node.current,o.target)?u:l;h&&Sn.update(()=>h(o,c))},{passive:!(n.onTap||n.onPointerUp)}),a=Dp(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Rp(i,a),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||IC("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&Sn.postRender(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=uh(this.node.current,"keyup",a),IC("down",(o,c)=>{this.startPress(o,c)})},r=uh(this.node.current,"keydown",e),n=()=>{this.isPressing&&IC("cancel",(i,a)=>this.cancelPress(i,a))},s=uh(this.node.current,"blur",n);this.removeAccessibleListeners=Rp(r,s)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Sn.postRender(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Due()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Sn.postRender(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Dp(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=uh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rp(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const i$=new WeakMap,NC=new WeakMap,lVe=t=>{const e=i$.get(t.target);e&&e(t)},uVe=t=>{t.forEach(lVe)};function dVe({root:t,...e}){const r=t||document;NC.has(r)||NC.set(r,{});const n=NC.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(uVe,{root:t,...e})),n[s]}function fVe(t,e,r){const n=dVe(e);return i$.set(t,r),n.observe(t),()=>{i$.delete(t),n.unobserve(t)}}const hVe={some:0,all:1};class pVe extends pm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:hVe[s]},o=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=l?u:f;h&&h(c)};return fVe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(mVe(e,r))&&this.startObserver()}unmount(){}}function mVe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const gVe={inView:{Feature:pVe},tap:{Feature:cVe},focus:{Feature:oVe},hover:{Feature:aVe}},bVe={layout:{ProjectionNode:ade,MeasureLayout:Yue}},cde=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Jk=B.createContext({}),KR=typeof window<"u",yVe=KR?B.useLayoutEffect:B.useEffect,lde=B.createContext({strict:!1});function vVe(t,e,r,n,s){var i,a;const{visualElement:o}=B.useContext(Jk),c=B.useContext(lde),l=B.useContext(qR),u=B.useContext(cde).reducedMotion,f=B.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,m=B.useContext(Que);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&xVe(f.current,r,s,m);const y=B.useRef(!1);B.useInsertionEffect(()=>{h&&y.current&&h.update(r,l)});const x=r[Oue],k=B.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return yVe(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),WR.render(h.render),k.current&&h.animationState&&h.animationState.animateChanges())}),B.useEffect(()=>{h&&(!k.current&&h.animationState&&h.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,x)}),k.current=!1))}),h}function xVe(t,e,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:l}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:ude(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&uy(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:l})}function ude(t){if(t)return t.options.allowProjection!==!1?t.projection:ude(t.parent)}function wVe(t,e,r){return B.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):uy(r)&&(r.current=n))},[e])}function Qk(t){return Kk(t.animate)||kR.some(e=>H6(t[e]))}function dde(t){return!!(Qk(t)||t.variants)}function AVe(t,e){if(Qk(t)){const{initial:r,animate:n}=t;return{initial:r===!1||H6(r)?r:void 0,animate:H6(n)?n:void 0}}return t.inherit!==!1?e:{}}function SVe(t){const{initial:e,animate:r}=AVe(t,B.useContext(Jk));return B.useMemo(()=>({initial:e,animate:r}),[EK(e),EK(r)])}function EK(t){return Array.isArray(t)?t.join(" "):t}const CK={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rx={};for(const t in CK)Rx[t]={isEnabled:e=>CK[t].some(r=>!!e[r])};function PVe(t){for(const e in t)Rx[e]={...Rx[e],...t[e]}}const kVe=Symbol.for("motionComponentSymbol");function IVe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&PVe(t);function i(o,c){let l;const u={...B.useContext(cde),...o,layoutId:NVe(o)},{isStatic:f}=u,h=SVe(o),m=n(o,f);if(!f&&KR){EVe();const y=CVe(u);l=y.MeasureLayout,h.visualElement=vVe(s,m,u,e,y.ProjectionNode)}return d.jsxs(Jk.Provider,{value:h,children:[l&&h.visualElement?d.jsx(l,{visualElement:h.visualElement,...u}):null,r(s,o,wVe(m,h.visualElement,c),m,f,h.visualElement)]})}const a=B.forwardRef(i);return a[kVe]=s,a}function NVe({layoutId:t}){const e=B.useContext(Jue).id;return e&&t!==void 0?e+"-"+t:t}function EVe(t,e){B.useContext(lde).strict}function CVe(t){const{drag:e,layout:r}=Rx;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const _Ve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XR(t){return typeof t!="string"||t.includes("-")?!1:!!(_Ve.indexOf(t)>-1||/[A-Z]/u.test(t))}function fde(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const hde=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pde(t,e,r,n){fde(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(hde.has(s)?s:HR(s),e.attrs[s])}function mde(t,{layout:e,layoutId:r}){return Z1.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!fS[t]||t==="opacity")}function ZR(t,e,r){var n;const{style:s}=t,i={};for(const a in s)(ja(s[a])||e.style&&ja(e.style[a])||mde(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function gde(t,e,r){const n=ZR(t,e,r);for(const s in t)if(ja(t[s])||ja(e[s])){const i=c5.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function TVe(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}function jVe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,s,i){const a={latestValues:MVe(n,s,i,t),renderState:e()};return r&&(a.mount=o=>r(n,o,a)),a}const bde=t=>(e,r)=>{const n=B.useContext(Jk),s=B.useContext(qR),i=()=>jVe(t,e,n,s);return r?i():TVe(i)};function MVe(t,e,r,n){const s={},i=n(t,{});for(const h in i)s[h]=S7(i[h]);let{initial:a,animate:o}=t;const c=Qk(t),l=dde(t);e&&l&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!Kk(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const y=SR(t,h[m]);if(y){const{transitionEnd:x,transition:k,...C}=y;for(const I in C){let _=C[I];if(Array.isArray(_)){const O=u?_.length-1:0;_=_[O]}_!==null&&(s[I]=_)}for(const I in x)s[I]=x[I]}}}return s}const JR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yde=()=>({...JR(),attrs:{}}),vde=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$Ve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OVe=c5.length;function BVe(t,e,r){let n="",s=!0;for(let i=0;i<OVe;i++){const a=c5[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const l=vde(o,MR[a]);if(!c){s=!1;const u=$Ve[a]||a;n+=`${u}(${l}) `}r&&(e[a]=l)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function QR(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const l=e[c];if(Z1.has(c)){a=!0;continue}else if(uue(c)){s[c]=l;continue}else{const u=vde(l,MR[c]);c.startsWith("origin")?(o=!0,i[c]=u):n[c]=u}}if(e.transform||(a||r?n.transform=BVe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${l} ${u}`}}function _K(t,e,r){return typeof t=="string"?t:ir.transform(e+r*t)}function FVe(t,e,r){const n=_K(e,t.x,t.width),s=_K(r,t.y,t.height);return`${n} ${s}`}const RVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},DVe={offset:"strokeDashoffset",array:"strokeDasharray"};function UVe(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?RVe:DVe;t[i.offset]=ir.transform(-n);const a=ir.transform(e),o=ir.transform(r);t[i.array]=`${a} ${o}`}function YR(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...l},u,f){if(QR(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:y}=t;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=FVe(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&UVe(h,a,o,c,!1)}const GR=t=>typeof t=="string"&&t.toLowerCase()==="svg",zVe={useVisualState:bde({scrapeMotionValuesFromProps:gde,createRenderState:yde,onMount:(t,e,{renderState:r,latestValues:n})=>{Sn.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Sn.render(()=>{YR(r,n,GR(e.tagName),t.transformTemplate),pde(e,r)})}})},LVe={useVisualState:bde({scrapeMotionValuesFromProps:ZR,createRenderState:JR})};function xde(t,e,r){for(const n in e)!ja(e[n])&&!mde(n,r)&&(t[n]=e[n])}function VVe({transformTemplate:t},e){return B.useMemo(()=>{const r=JR();return QR(r,e,t),Object.assign({},r.vars,r.style)},[e])}function HVe(t,e){const r=t.style||{},n={};return xde(n,r,t),Object.assign(n,VVe(t,e)),n}function qVe(t,e){const r={},n=HVe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const WVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WVe.has(t)}let wde=t=>!hS(t);function KVe(t){t&&(wde=e=>e.startsWith("on")?!hS(e):t(e))}try{KVe(require("@emotion/is-prop-valid").default)}catch{}function XVe(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(wde(s)||r===!0&&hS(s)||!e&&!hS(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function ZVe(t,e,r,n){const s=B.useMemo(()=>{const i=yde();return YR(i,e,GR(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};xde(i,t.style,t),s.style={...i,...s.style}}return s}function JVe(t=!1){return(r,n,s,{latestValues:i},a)=>{const c=(XR(r)?ZVe:qVe)(n,i,a,r),l=XVe(n,typeof r=="string",t),u=r!==B.Fragment?{...l,...c,ref:s}:{},{children:f}=n,h=B.useMemo(()=>ja(f)?f.get():f,[f]);return B.createElement(r,{...u,children:h})}}function QVe(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...XR(n)?zVe:LVe,preloadedFeatures:t,useRender:JVe(s),createVisualElement:e,Component:n};return IVe(a)}}const a$={current:null},Ade={current:!1};function YVe(){if(Ade.current=!0,!!KR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>a$.current=t.matches;t.addListener(e),e()}else a$.current=!1}function GVe(t,e,r){for(const n in e){const s=e[n],i=r[n];if(ja(s))t.addValue(n,s);else if(ja(i))t.addValue(n,K6(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(n);t.addValue(n,K6(a!==void 0?a:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const TK=new WeakMap,eHe=[...hue,Pa,em],tHe=t=>eHe.find(fue(t)),jK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rHe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_R,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Kd.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Sn.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Qk(r),this.isVariantNode=dde(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ja(m)&&m.set(c[h],!1)}}mount(e){this.current=e,TK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ade.current||YVe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TK.delete(this.current),this.projection&&this.projection.unmount(),Gp(this.notifyUpdate),Gp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Z1.has(e),s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Sn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rx){const r=Rx[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ns()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<jK.length;n++){const s=jK[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=GVe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=K6(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cue(s)||oue(s))?s=parseFloat(s):!tHe(s)&&em.test(r)&&(s=wue(e,r)),this.setBaseTarget(e,ja(s)?s.get():s)),ja(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=SR(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ja(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new VR),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Sde extends rHe{constructor(){super(...arguments),this.KeyframeResolver=Aue}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ja(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function nHe(t){return window.getComputedStyle(t)}class sHe extends Sde{constructor(){super(...arguments),this.type="html",this.renderInstance=fde}readValueFromInstance(e,r){if(Z1.has(r)){const n=$R(r);return n&&n.default||0}else{const n=nHe(e),s=(uue(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Xue(e,r)}build(e,r,n){QR(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return ZR(e,r,n)}}class iHe extends Sde{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ns}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Z1.has(r)){const n=$R(r);return n&&n.default||0}return r=hde.has(r)?r:HR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return gde(e,r,n)}build(e,r,n){YR(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){pde(e,r,n,s)}mount(e){this.isSVGTag=GR(e.tagName),super.mount(e)}}const aHe=(t,e)=>XR(t)?new iHe(e):new sHe(e,{allowProjection:t!==B.Fragment}),oHe=QVe({...qze,...gVe,...iVe,...bVe},aHe),MK=VDe(oHe),cHe=U1("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function nr({className:t,variant:e,...r}){return d.jsx("div",{className:jt(cHe({variant:e}),t),...r})}var lHe="Label",Pde=B.forwardRef((t,e)=>d.jsx(Qt.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Pde.displayName=lHe;var kde=Pde;const uHe=U1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zt=B.forwardRef(({className:t,...e},r)=>d.jsx(kde,{ref:r,className:jt(uHe(),t),...e}));Zt.displayName=kde.displayName;const dHe=U1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hn=B.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:jt(dHe({variant:e}),t),...r}));hn.displayName="Alert";const o$=B.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:jt("mb-1 font-medium leading-none tracking-tight",t),...e}));o$.displayName="AlertTitle";const pn=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-sm [&_p]:leading-relaxed",t),...e}));pn.displayName="AlertDescription";function Yk(t){const e=B.useRef({value:t,previous:t});return B.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eD="Checkbox",[fHe,A6t]=Zi(eD),[hHe,pHe]=fHe(eD),Ide=B.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:l,form:u,...f}=t,[h,m]=B.useState(null),y=yr(e,O=>m(O)),x=B.useRef(!1),k=h?u||!!h.closest("form"):!0,[C=!1,I]=Nu({prop:s,defaultProp:i,onChange:l}),_=B.useRef(C);return B.useEffect(()=>{const O=h==null?void 0:h.form;if(O){const F=()=>I(_.current);return O.addEventListener("reset",F),()=>O.removeEventListener("reset",F)}},[h,I]),d.jsxs(hHe,{scope:r,state:C,disabled:o,children:[d.jsx(Qt.button,{type:"button",role:"checkbox","aria-checked":Up(C)?"mixed":C,"aria-required":a,"data-state":Cde(C),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:y,onKeyDown:Ct(t.onKeyDown,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:Ct(t.onClick,O=>{I(F=>Up(F)?!0:!F),k&&(x.current=O.isPropagationStopped(),x.current||O.stopPropagation())})}),k&&d.jsx(mHe,{control:h,bubbles:!x.current,name:n,value:c,checked:C,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Up(i)?!1:i})]})});Ide.displayName=eD;var Nde="CheckboxIndicator",Ede=B.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=pHe(Nde,r);return d.jsx(Ji,{present:n||Up(i.state)||i.state===!0,children:d.jsx(Qt.span,{"data-state":Cde(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Ede.displayName=Nde;var mHe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...i}=t,a=B.useRef(null),o=Yk(r),c=RP(e);B.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const y=new Event("click",{bubbles:n});u.indeterminate=Up(r),m.call(u,Up(r)?!1:r),u.dispatchEvent(y)}},[o,r,n]);const l=B.useRef(Up(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...i,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Up(t){return t==="indeterminate"}function Cde(t){return Up(t)?"indeterminate":t?"checked":"unchecked"}var _de=Ide,gHe=Ede;const wh=B.forwardRef(({className:t,...e},r)=>d.jsx(_de,{ref:r,className:jt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(gHe,{className:jt("flex items-center justify-center text-current"),children:d.jsx(Ma,{className:"h-4 w-4"})})}));wh.displayName=_de.displayName;const es=sF,qy=Tne,bHe=iF,Tde=B.forwardRef(({className:t,...e},r)=>d.jsx(U4,{ref:r,className:jt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Tde.displayName=U4.displayName;const Hn=B.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(bHe,{children:[d.jsx(Tde,{}),d.jsxs(z4,{ref:n,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(KP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(mh,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=z4.displayName;const qn=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});qn.displayName="DialogHeader";const Ss=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ss.displayName="DialogFooter";const Wn=B.forwardRef(({className:t,...e},r)=>d.jsx(L4,{ref:r,className:jt("text-lg font-semibold leading-none tracking-tight",t),...e}));Wn.displayName=L4.displayName;const Kn=B.forwardRef(({className:t,...e},r)=>d.jsx(V4,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Kn.displayName=V4.displayName;var yHe=B.createContext(void 0);function Pw(t){const e=B.useContext(yHe);return t||e||"ltr"}var EC="rovingFocusGroup.onEntryFocus",vHe={bubbles:!1,cancelable:!0},Gk="RovingFocusGroup",[c$,jde,xHe]=jP(Gk),[wHe,kw]=Zi(Gk,[xHe]),[AHe,SHe]=wHe(Gk),Mde=B.forwardRef((t,e)=>d.jsx(c$.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(c$.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(PHe,{...t,ref:e})})}));Mde.displayName=Gk;var PHe=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,h=B.useRef(null),m=yr(e,h),y=Pw(i),[x=null,k]=Nu({prop:a,defaultProp:o,onChange:c}),[C,I]=B.useState(!1),_=ls(l),O=jde(r),F=B.useRef(!1),[D,j]=B.useState(0);return B.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(EC,_),()=>T.removeEventListener(EC,_)},[_]),d.jsx(AHe,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:x,onItemFocus:B.useCallback(T=>k(T),[k]),onItemShiftTab:B.useCallback(()=>I(!0),[]),onFocusableItemAdd:B.useCallback(()=>j(T=>T+1),[]),onFocusableItemRemove:B.useCallback(()=>j(T=>T-1),[]),children:d.jsx(Qt.div,{tabIndex:C||D===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ct(t.onMouseDown,()=>{F.current=!0}),onFocus:Ct(t.onFocus,T=>{const R=!F.current;if(T.target===T.currentTarget&&R&&!C){const q=new CustomEvent(EC,vHe);if(T.currentTarget.dispatchEvent(q),!q.defaultPrevented){const $=O().filter(S=>S.focusable),b=$.find(S=>S.active),w=$.find(S=>S.id===x),g=[b,w,...$].filter(Boolean).map(S=>S.ref.current);Bde(g,u)}}F.current=!1}),onBlur:Ct(t.onBlur,()=>I(!1))})})}),$de="RovingFocusGroupItem",Ode=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=t,o=Su(),c=i||o,l=SHe($de,r),u=l.currentTabStopId===c,f=jde(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=l;return B.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),d.jsx(c$.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:d.jsx(Qt.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...a,ref:e,onMouseDown:Ct(t.onMouseDown,y=>{n?l.onItemFocus(c):y.preventDefault()}),onFocus:Ct(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ct(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){l.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=NHe(y,l.orientation,l.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let C=f().filter(I=>I.focusable).map(I=>I.ref.current);if(x==="last")C.reverse();else if(x==="prev"||x==="next"){x==="prev"&&C.reverse();const I=C.indexOf(y.currentTarget);C=l.loop?EHe(C,I+1):C.slice(I+1)}setTimeout(()=>Bde(C))}})})})});Ode.displayName=$de;var kHe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IHe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function NHe(t,e,r){const n=IHe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kHe[n]}function Bde(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function EHe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var tD=Mde,rD=Ode,nD="Tabs",[CHe,S6t]=Zi(nD,[kw]),Fde=kw(),[_He,sD]=CHe(nD),Rde=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...l}=t,u=Pw(o),[f,h]=Nu({prop:n,onChange:s,defaultProp:i});return d.jsx(_He,{scope:r,baseId:Su(),value:f,onValueChange:h,orientation:a,dir:u,activationMode:c,children:d.jsx(Qt.div,{dir:u,"data-orientation":a,...l,ref:e})})});Rde.displayName=nD;var Dde="TabsList",Ude=B.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=sD(Dde,r),a=Fde(r);return d.jsx(tD,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(Qt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Ude.displayName=Dde;var zde="TabsTrigger",Lde=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,a=sD(zde,r),o=Fde(r),c=qde(a.baseId,n),l=Wde(a.baseId,n),u=n===a.value;return d.jsx(rD,{asChild:!0,...o,focusable:!s,active:u,children:d.jsx(Qt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ct(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:Ct(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:Ct(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!s&&f&&a.onValueChange(n)})})})});Lde.displayName=zde;var Vde="TabsContent",Hde=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=t,o=sD(Vde,r),c=qde(o.baseId,n),l=Wde(o.baseId,n),u=n===o.value,f=B.useRef(u);return B.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(Ji,{present:s||u,children:({present:h})=>d.jsx(Qt.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Hde.displayName=Vde;function qde(t,e){return`${t}-trigger-${e}`}function Wde(t,e){return`${t}-content-${e}`}var THe=Rde,Kde=Ude,Xde=Lde,Zde=Hde;const f5=THe,Iw=B.forwardRef(({className:t,...e},r)=>d.jsx(Kde,{ref:r,className:jt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Iw.displayName=Kde.displayName;const No=B.forwardRef(({className:t,...e},r)=>d.jsx(Xde,{ref:r,className:jt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));No.displayName=Xde.displayName;const Eo=B.forwardRef(({className:t,...e},r)=>d.jsx(Zde,{ref:r,className:jt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Eo.displayName=Zde.displayName;function l$(t,[e,r]){return Math.min(r,Math.max(e,t))}function jHe(t,e){return B.useReducer((r,n)=>e[r][n]??r,t)}var iD="ScrollArea",[Jde,P6t]=Zi(iD),[MHe,Cl]=Jde(iD),Qde=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=t,[o,c]=B.useState(null),[l,u]=B.useState(null),[f,h]=B.useState(null),[m,y]=B.useState(null),[x,k]=B.useState(null),[C,I]=B.useState(0),[_,O]=B.useState(0),[F,D]=B.useState(!1),[j,T]=B.useState(!1),R=yr(e,$=>c($)),q=Pw(s);return d.jsx(MHe,{scope:r,type:n,dir:q,scrollHideDelay:i,scrollArea:o,viewport:l,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:F,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:k,scrollbarYEnabled:j,onScrollbarYEnabledChange:T,onCornerWidthChange:I,onCornerHeightChange:O,children:d.jsx(Qt.div,{dir:q,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Qde.displayName=iD;var Yde="ScrollAreaViewport",Gde=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=t,a=Cl(Yde,r),o=B.useRef(null),c=yr(e,o,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Qt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Gde.displayName=Yde;var hf="ScrollAreaScrollbar",aD=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cl(hf,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=t.orientation==="horizontal";return B.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?d.jsx($He,{...n,ref:e,forceMount:r}):s.type==="scroll"?d.jsx(OHe,{...n,ref:e,forceMount:r}):s.type==="auto"?d.jsx(efe,{...n,ref:e,forceMount:r}):s.type==="always"?d.jsx(oD,{...n,ref:e}):null});aD.displayName=hf;var $He=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cl(hf,t.__scopeScrollArea),[i,a]=B.useState(!1);return B.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const l=()=>{window.clearTimeout(c),a(!0)},u=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",l),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",l),o.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Ji,{present:r||i,children:d.jsx(efe,{"data-state":i?"visible":"hidden",...n,ref:e})})}),OHe=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cl(hf,t.__scopeScrollArea),i=t.orientation==="horizontal",a=tI(()=>c("SCROLL_END"),100),[o,c]=jHe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return B.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay,c]),B.useEffect(()=>{const l=s.viewport,u=i?"scrollLeft":"scrollTop";if(l){let f=l[u];const h=()=>{const m=l[u];f!==m&&(c("SCROLL"),a()),f=m};return l.addEventListener("scroll",h),()=>l.removeEventListener("scroll",h)}},[s.viewport,i,c,a]),d.jsx(Ji,{present:r||o!=="hidden",children:d.jsx(oD,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ct(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ct(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),efe=B.forwardRef((t,e)=>{const r=Cl(hf,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,a]=B.useState(!1),o=t.orientation==="horizontal",c=tI(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?l:u)}},10);return Dx(r.viewport,c),Dx(r.content,c),d.jsx(Ji,{present:n||i,children:d.jsx(oD,{"data-state":i?"visible":"hidden",...s,ref:e})})}),oD=B.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Cl(hf,t.__scopeScrollArea),i=B.useRef(null),a=B.useRef(0),[o,c]=B.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=ife(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return zHe(h,a.current,o,m)}return r==="horizontal"?d.jsx(BHe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=$K(h,o,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?d.jsx(FHe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=$K(h,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),BHe=B.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Cl(hf,t.__scopeScrollArea),[a,o]=B.useState(),c=B.useRef(null),l=yr(e,c,i.onScrollbarXChange);return B.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),d.jsx(rfe,{"data-orientation":"horizontal",...s,ref:l,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eI(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),ofe(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mS(a.paddingLeft),paddingEnd:mS(a.paddingRight)}})}})}),FHe=B.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Cl(hf,t.__scopeScrollArea),[a,o]=B.useState(),c=B.useRef(null),l=yr(e,c,i.onScrollbarYChange);return B.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),d.jsx(rfe,{"data-orientation":"vertical",...s,ref:l,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eI(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),ofe(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mS(a.paddingTop),paddingEnd:mS(a.paddingBottom)}})}})}),[RHe,tfe]=Jde(hf),rfe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:f,...h}=t,m=Cl(hf,r),[y,x]=B.useState(null),k=yr(e,R=>x(R)),C=B.useRef(null),I=B.useRef(""),_=m.viewport,O=n.content-n.viewport,F=ls(u),D=ls(c),j=tI(f,10);function T(R){if(C.current){const q=R.clientX-C.current.left,$=R.clientY-C.current.top;l({x:q,y:$})}}return B.useEffect(()=>{const R=q=>{const $=q.target;(y==null?void 0:y.contains($))&&F(q,O)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,y,O,F]),B.useEffect(D,[n,D]),Dx(y,j),Dx(m.content,j),d.jsx(RHe,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:ls(i),onThumbPointerUp:ls(a),onThumbPositionChange:D,onThumbPointerDown:ls(o),children:d.jsx(Qt.div,{...h,ref:k,style:{position:"absolute",...h.style},onPointerDown:Ct(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),C.current=y.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(R))}),onPointerMove:Ct(t.onPointerMove,T),onPointerUp:Ct(t.onPointerUp,R=>{const q=R.target;q.hasPointerCapture(R.pointerId)&&q.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=I.current,m.viewport&&(m.viewport.style.scrollBehavior=""),C.current=null})})})}),pS="ScrollAreaThumb",nfe=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=tfe(pS,t.__scopeScrollArea);return d.jsx(Ji,{present:r||s.hasThumb,children:d.jsx(DHe,{ref:e,...n})})}),DHe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=Cl(pS,r),a=tfe(pS,r),{onThumbPositionChange:o}=a,c=yr(e,f=>a.onThumbChange(f)),l=B.useRef(void 0),u=tI(()=>{l.current&&(l.current(),l.current=void 0)},100);return B.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!l.current){const m=LHe(f,o);l.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,o]),d.jsx(Qt.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ct(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,x=f.clientY-m.top;a.onThumbPointerDown({x:y,y:x})}),onPointerUp:Ct(t.onPointerUp,a.onThumbPointerUp)})});nfe.displayName=pS;var cD="ScrollAreaCorner",sfe=B.forwardRef((t,e)=>{const r=Cl(cD,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(UHe,{...t,ref:e}):null});sfe.displayName=cD;var UHe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Cl(cD,r),[i,a]=B.useState(0),[o,c]=B.useState(0),l=!!(i&&o);return Dx(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),Dx(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),a(u)}),l?d.jsx(Qt.div,{...n,ref:e,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mS(t){return t?parseInt(t,10):0}function ife(t,e){const r=t/e;return isNaN(r)?0:r}function eI(t){const e=ife(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function zHe(t,e,r,n="ltr"){const s=eI(r),i=s/2,a=e||i,o=s-a,c=r.scrollbar.paddingStart+a,l=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return afe([c,l],f)(t)}function $K(t,e,r="ltr"){const n=eI(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,o=i-n,c=r==="ltr"?[0,a]:[a*-1,0],l=l$(t,c);return afe([0,a],[0,o])(l)}function afe(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function ofe(t,e){return t>0&&t<e}var LHe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=r.left!==i.left,o=r.top!==i.top;(a||o)&&e(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function tI(t,e){const r=ls(t),n=B.useRef(0);return B.useEffect(()=>()=>window.clearTimeout(n.current),[]),B.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Dx(t,e){const r=ls(e);Xi(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var cfe=Qde,VHe=Gde,HHe=sfe;const rI=B.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(cfe,{ref:n,className:jt("relative overflow-hidden",t),...r,children:[d.jsx(VHe,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(lfe,{}),d.jsx(HHe,{})]}));rI.displayName=cfe.displayName;const lfe=B.forwardRef(({className:t,orientation:e="vertical",...r},n)=>d.jsx(aD,{ref:n,orientation:e,className:jt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:d.jsx(nfe,{className:"relative flex-1 rounded-full bg-border"})}));lfe.displayName=aD.displayName;var ufe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OK=Yr.createContext&&Yr.createContext(ufe),qHe=["attr","size","title"];function WHe(t,e){if(t==null)return{};var r=KHe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function BK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(r),!0).forEach(function(n){XHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XHe(t,e,r){return e=ZHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZHe(t){var e=JHe(t,"string");return typeof e=="symbol"?e:e+""}function JHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t){return t&&t.map((e,r)=>Yr.createElement(e.tag,bS({key:r},e.attr),dfe(e.child)))}function pf(t){return e=>Yr.createElement(QHe,gS({attr:bS({},t.attr)},e),dfe(t.child))}function QHe(t){var e=r=>{var{attr:n,size:s,title:i}=t,a=WHe(t,qHe),o=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Yr.createElement("svg",gS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:bS(bS({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Yr.createElement("title",null,i),t.children)};return OK!==void 0?Yr.createElement(OK.Consumer,null,r=>e(r)):e(ufe)}function YHe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.624 13.9202l2.7175 2.7154-7.353 7.353-7.353-7.352 2.7175-2.7164 4.6355 4.6595 4.6356-4.6595zm4.6366-4.6366L24 12l-2.7154 2.7164L18.5682 12l2.6924-2.7164zm-9.272.001l2.7163 2.6914-2.7164 2.7174v-.001L9.2721 12l2.7164-2.7154zm-9.2722-.001L5.4088 12l-2.6914 2.6924L0 12l2.7164-2.7164zM11.9885.0115l7.353 7.329-2.7174 2.7154-4.6356-4.6356-4.6355 4.6595-2.7174-2.7154 7.353-7.353z"},child:[]}]})(t)}function GHe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.5765 11.92c-.0488.8906.6316 1.653 1.5219 1.7056h.0934c.8928-.0006 1.6161-.725 1.6155-1.6178-.0006-.8928-.725-1.6161-1.6178-1.6155-.8578.0006-1.5658.6711-1.613 1.5277Zm-6.025-.416c-.288-.0161-.5345.2042-.5507.4922-.0161.288.2042.5345.4922.5507.2878.0161.5343-.204.5506-.4918.0167-.2876-.2029-.5343-.4905-.5509H.5514Zm5.9226-8.9645c.257-.1309.3593-.4453.2284-.7024-.1309-.257-.4453-.3593-.7024-.2284-.2558.1302-.3585.4424-.2301.6991.13.2582.4448.3622.703.2322.0003-.0002.0007-.0003.001-.0005Zm1.6397 2.8589c.398-.2006.558-.6859.3573-1.0839-.2006-.398-.6859-.558-1.0839-.3573-.3978.2006-.5579.6856-.3575 1.0835.2007.398.686.5581 1.0842.3578ZM2.597 7.3645c.3072.2013.7194.1154.9206-.1918.2013-.3072.1154-.7194-.1918-.9206-.3072-.2013-.7194-.1154-.9206.1918 0 .0001-.0001.0002-.0002.0003-.201.3072-.1151.7191.192.9203Zm.9824 3.8515c-.4453-.0254-.827.3149-.8524.7603s.3149.827.7603.8524c.4453.0254.827-.3149.8524-.7603v-.0006c.0251-.4451-.3152-.8264-.7603-.8518Zm-.8915 5.4221c-.328.1652-.46.565-.2948.893.1652.328.565.46.893.2948.328-.1652.46-.565.2948-.893l-.0002-.0004c-.1645-.3276-.5633-.4598-.8909-.2954-.0006.0003-.0013.0006-.0019.001Zm3.136-7.0931c.4386.2876 1.0274.1653 1.315-.2734.2876-.4386.1653-1.0274-.2734-1.315-.4386-.2876-1.0273-.1653-1.3149.2732-.2878.4381-.166 1.0266.2721 1.3144.0004.0003.0008.0005.0012.0008Zm9.9501-4.2106c.3729.2447.8737.1408 1.1184-.2321.2447-.3729.1408-.8737-.2321-1.1184-.3729-.2447-.8737-.1408-1.1184.2321 0 .0001-.0001.0002-.0002.0003-.2447.3726-.141.8729.2316 1.1176.0003.0002.0005.0003.0008.0005Zm1.6563-2.8499c.2413.1579.565.0904.723-.151s.0904-.565-.151-.723c-.241-.1577-.5642-.0906-.7224.1501-.1584.241-.0915.5648.1495.7233l.0009.0006Zm-1.5296 7.8938c-.8911-.0507-1.6546.6305-1.7053 1.5216-.0507.8911.6305 1.6546 1.5216 1.7053h.0928c.8925 0 1.616-.7235 1.616-1.616 0-.8572-.6693-1.5652-1.5251-1.6134v.0026ZM8.645 9.433c.2737.5459.8331.8896 1.4438.887.8925-.0002 1.6159-.7238 1.6157-1.6163 0-.2526-.0593-.5018-.1731-.7273-.4017-.7971-1.3735-1.1176-2.1706-.7158-.7971.4017-1.1176 1.3735-.7158 2.1706v.0019Zm12.6669-2.0704c.3273-.1666.4575-.567.2909-.8943-.1666-.3273-.567-.4575-.8943-.2909-.3259.1659-.4567.5639-.2927.8908.1652.3284.5653.4607.8937.2956.0008-.0004.0015-.0008.0023-.0012Zm-4.096.5146c-.4683.2362-.6565.8074-.4203 1.2757.2362.4683.8074.6565 1.2757.4203.468-.2361.6563-.8066.4207-1.2749-.2364-.4683-.8074-.6568-1.2762-.4211Zm-5.2768-5.6365c.3667.0205.6806-.2601.7011-.6267s-.2601-.6806-.6267-.7011c-.3655-.0205-.6789.2584-.7009.6238-.0225.3662.2562.6813.6224.7038.0014 0 .0028.0002.0042.0002Zm-.0077 4.1837c.5237.0288.9717-.3724 1.0006-.8961.0288-.5237-.3723-.9717-.8961-1.0006-.5231-.0288-.9707.3714-1.0005.8944-.0298.5237.3706.9724.8943 1.0021h.0017Zm-5.1475 9.6992c.4685-.2359.657-.807.421-1.2755-.2359-.4685-.807-.657-1.2755-.421-.4684.2359-.6569.8069-.4211 1.2754.2362.4682.807.6567 1.2755.4211Zm5.76-8.313c-.4881.7459-.2792 1.7463.4667 2.2344s1.7463.2792 2.2344-.4667.2792-1.7463-.4667-2.2344c-.262-.1715-.5683-.263-.8815-.2635-.5452-.0001-1.0538.2744-1.353.7302Zm2.8109 6.7571c-.4015-.7975-1.3735-1.1185-2.171-.7169-.7975.4015-1.1185 1.3735-.7169 2.171.4015.7975 1.3735 1.1185 2.171.7169.0005-.0002.0009-.0005.0014-.0007.7947-.3952 1.1186-1.3598.7235-2.1545-.0026-.0053-.0053-.0105-.0079-.0158Zm2.8211-.112c-.4386-.2876-1.0274-.1653-1.315.2734-.2876.4386-.1653 1.0274.2734 1.315.4386.2876 1.0273.1653 1.3149-.2732.2877-.4386.1654-1.0274-.2731-1.3151h-.0002Zm3.0963-2.4282c.0254-.4453-.3149-.827-.7603-.8524-.4453-.0254-.827.3149-.8524.7603-.0254.4453.3149.827.7603.8524h.0006c.4451.0251.8264-.3152.8518-.7603Zm2.2349-.5741c-.288-.0161-.5345.2042-.5507.4922s.2042.5345.4922.5507c.2878.0161.5343-.204.5506-.4918.016-.288-.2042-.5345-.4922-.551Zm-2.1043 5.1821c-.3073-.2011-.7194-.115-.9205.1923-.2011.3073-.115.7194.1923.9205.3071.201.719.1151.9202-.1918.2013-.3071.1156-.7193-.1916-.9207l-.0004-.0003ZM6.5695 21.5161c-.2411-.1584-.5649-.0913-.7232.1497-.1584.2411-.0913.5649.1497.7232.2411.1584.5649.0913.7232-.1497.158-.2411.091-.5646-.1498-.7232Zm10.9555-.055c-.257.1309-.3593.4453-.2284.7024.1309.257.4453.3593.7023.2284.2558-.1302.3585-.4424.2301-.6991-.1291-.2579-.4428-.3624-.7007-.2333-.0011.0005-.0022.0011-.0033.0016Zm-6.0691-5.2717c.4892-.7465.2806-1.7482-.4659-2.2374-.7465-.4892-1.7482-.2806-2.2374.4659s-.2806 1.7482.4659 2.2374c.2628.1722.5702.2641.8844.2644.5458.0022 1.0553-.2728 1.353-.7302Zm-3.2301 2.4768c-.3729-.2447-.8737-.1408-1.1184.2321-.2447.3729-.1408.8737.2321 1.1184s.8737.1408 1.1184-.2321c0-.0001.0001-.0002.0002-.0003.2445-.3729.1405-.8734-.2323-1.1181Zm3.7664 3.0931c-.3667-.0209-.6808.2594-.7017.6261s.2594.6808.6261.7017c.3658.0208.6795-.2581.7016-.6238.0222-.3666-.2571-.6817-.6236-.7039-.0008 0-.0015 0-.0023-.0001Zm.007-4.1837c-.5237-.0288-.9717.3724-1.0005.8961-.0288.5237.3724.9717.8961 1.0005.5228.0288.9703-.371 1.0004-.8938.0298-.524-.3709-.973-.8949-1.0028h-.0011Zm3.8861 1.0259c-.3976.2022-.556.6884-.3539 1.086.2022.3976.6884.556 1.086.3539.3961-.2014.5551-.685.3558-1.0821-.2-.3987-.6854-.5598-1.0841-.3597-.0013.0007-.0026.0013-.0039.002Z"},child:[]}]})(t)}function eqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.288 7.908h-1.715v3.38h2.697v1.415h-2.697v3.38h1.799c.462 0 3.794.052 3.789-3.933-.005-3.984-3.232-4.242-3.873-4.242zM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.472 18.481H8.126v-5.778H6.594v-1.415h1.532V5.511h3.73c.882 0 6.727-.183 6.727 6.594-.001 6.888-6.111 6.376-6.111 6.376z"},child:[]}]})(t)}function tqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"},child:[]}]})(t)}function rqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0a12 12 0 1012 12A12 12 0 0012 0zm-.2617 3.6777h2.584a.3425.3425 0 01.33.4356l-2.0312 6.918 1.9062-.582-.4082 1.3847-1.9238.5605-1.248 4.213h6.6757a.3425.3425 0 01.3282.4374l-.582 2a.4586.4586 0 01-.4395.3301H6.7324l1.7227-5.8223-1.9063.5801.42-1.3613 1.9101-.58 2.4219-8.1798a.4557.4557 0 01.4375-.334Z"},child:[]}]})(t)}function nqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12,0c2.39,0,4.328,1.127,4.328,2.517S14.39,5.034,12,5.034,7.672,3.907,7.672,2.517,9.61,0,12,0Zm0,18.966c2.39,0,4.328,1.127,4.328,2.517S14.39,24,12,24s-4.328-1.127-4.328-2.517S9.61,18.966,12,18.966ZM1.606,6C2.8,3.93,4.747,2.816,5.952,3.511s1.212,2.937.017,5.007S2.828,11.7,1.624,11.007.411,8.07,1.606,6Zm16.427,9.483c1.2-2.07,3.139-3.184,4.343-2.489s1.211,2.936.016,5.006-3.14,3.185-4.344,2.49S16.837,17.553,18.033,15.483ZM1.624,12.993c1.205-.7,3.15.419,4.346,2.489s1.187,4.311-.018,5.007S2.8,20.07,1.607,18,.42,13.689,1.624,12.993ZM18.049,3.512c1.2-.695,3.149.419,4.344,2.489s1.188,4.311-.016,5.007-3.148-.42-4.343-2.49S16.846,4.207,18.049,3.512Z"},child:[]}]})(t)}function sqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m17.82 16.342 5.692-3.287A.98.98 0 0 0 24 12.21V5.635a.98.98 0 0 0-.488-.846l-5.693-3.286a.98.98 0 0 0-.977 0L11.15 4.789a.98.98 0 0 0-.489.846v11.747L6.67 19.686l-3.992-2.304v-4.61l3.992-2.304 2.633 1.52V8.896L7.158 7.658a.98.98 0 0 0-.977 0L.488 10.945a.98.98 0 0 0-.488.846v6.573a.98.98 0 0 0 .488.847l5.693 3.286a.981.981 0 0 0 .977 0l5.692-3.286a.98.98 0 0 0 .489-.846V6.618l.072-.041 3.92-2.263 3.99 2.305v4.609l-3.99 2.304-2.63-1.517v3.092l2.14 1.236a.981.981 0 0 0 .978 0v-.001Z"},child:[]}]})(t)}function iqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.55 14.65c-.846-.486-1.805-.632-2.752-.666-.79-.023-1.974-.541-1.974-1.985 0-1.072.868-1.94 1.985-1.985.947-.034 1.906-.18 2.752-.666A5.018 5.018 0 0022.4 2.502 5.04 5.04 0 0015.53.674a4.993 4.993 0 00-2.504 4.343c0 .97.35 1.861.79 2.696.372.699.553 1.996-.71 2.73-.948.54-2.132.202-2.719-.745-.496-.801-1.094-1.545-1.94-2.03C6.045 6.28 2.977 7.104 1.6 9.495A5.018 5.018 0 003.44 16.34a5.025 5.025 0 005.008 0c.846-.485 1.444-1.23 1.94-2.03.406-.654 1.433-1.489 2.718-.744.948.541 1.241 1.737.711 2.73-.44.823-.79 1.725-.79 2.695A5.011 5.011 0 0018.034 24a5.011 5.011 0 005.008-5.008 4.982 4.982 0 00-2.492-4.343z"},child:[]}]})(t)}function aqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m23.8764 18.0313-3.962 4.1393a.9201.9201 0 0 1-.306.2106.9407.9407 0 0 1-.367.0742H.4599a.4689.4689 0 0 1-.2522-.0733.4513.4513 0 0 1-.1696-.1962.4375.4375 0 0 1-.0314-.2545.4438.4438 0 0 1 .117-.2298l3.9649-4.1393a.92.92 0 0 1 .3052-.2102.9407.9407 0 0 1 .3658-.0746H23.54a.4692.4692 0 0 1 .2523.0734.4531.4531 0 0 1 .1697.196.438.438 0 0 1 .0313.2547.4442.4442 0 0 1-.1169.2297zm-3.962-8.3355a.9202.9202 0 0 0-.306-.2106.941.941 0 0 0-.367-.0742H.4599a.4687.4687 0 0 0-.2522.0734.4513.4513 0 0 0-.1696.1961.4376.4376 0 0 0-.0314.2546.444.444 0 0 0 .117.2297l3.9649 4.1394a.9204.9204 0 0 0 .3052.2102c.1154.049.24.0744.3658.0746H23.54a.469.469 0 0 0 .2523-.0734.453.453 0 0 0 .1697-.1961.4382.4382 0 0 0 .0313-.2546.4444.4444 0 0 0-.1169-.2297zM.46 6.7225h18.7815a.9411.9411 0 0 0 .367-.0742.9202.9202 0 0 0 .306-.2106l3.962-4.1394a.4442.4442 0 0 0 .117-.2297.4378.4378 0 0 0-.0314-.2546.453.453 0 0 0-.1697-.196.469.469 0 0 0-.2523-.0734H4.7596a.941.941 0 0 0-.3658.0745.9203.9203 0 0 0-.3052.2102L.1246 5.9687a.4438.4438 0 0 0-.1169.2295.4375.4375 0 0 0 .0312.2544.4512.4512 0 0 0 .1692.196.4689.4689 0 0 0 .2518.0739z"},child:[]}]})(t)}function oqe(t){return pf({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.7538 10.5176c0 .6251-2.2379 1.1483-5.2381 1.2812l.0028.0007c-.0848.0064-.5233.0325-1.5012.0325-.7778 0-1.33-.0233-1.5237-.0325-3.0059-.1322-5.2495-.6555-5.2495-1.2819s2.2436-1.149 5.2495-1.2834v2.0442c.1965.0142.7594.0474 1.5372.0474.9334 0 1.4008-.0389 1.4849-.0466V9.2356c2.9994.1337 5.2381.657 5.2381 1.282zm5.19.5466L12.1248 22.389a.1803.1803 0 0 1-.2496 0L.0562 11.0635a.1781.1781 0 0 1-.0382-.2079l4.3762-9.1921a.1767.1767 0 0 1 .1626-.1026h14.8878a.1768.1768 0 0 1 .1612.1032l4.3762 9.1922a.1782.1782 0 0 1-.0382.2079zm-4.478-.4038c0-.8068-2.5515-1.4799-5.9473-1.6369V7.195h4.186V4.4055H6.3076V7.195h4.1852v1.8286c-3.4018.1562-5.9601.83-5.9601 1.6376 0 .8075 2.5583 1.4806 5.9601 1.6376v5.8618h3.025v-5.8639c3.394-.1563 5.948-.8295 5.948-1.6363z"},child:[]}]})(t)}const cqe={sm:"h-5 w-5",md:"h-8 w-8",lg:"h-12 w-12"},zs={BTC:"#F7931A",ETH:"#627EEA",BNB:"#F3BA2F",MATIC:"#8247E5",SOL:"#14F195",AVAX:"#E84142",ARB:"#12AAFF",XRP:"#23292F",DOGE:"#C2A633",ADA:"#0033AD",TRX:"#FF0013",DOT:"#E6007A",LTC:"#345D9D",BCH:"#8DC351",USDT:"#26A17B",USDC:"#2775CA",ATOM:"#2E3148",OSMO:"#750BBB",OP:"#FF0420"};function lqe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L2 19.5h6.5L12 13l3.5 6.5H22L12 2z"})})}function uqe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L3 21h4.5l4.5-9 4.5 9H21L12 2zm0 7l2.5 5h-5L12 9z"})})}function dqe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2L3 8.5v7L12 22l9-6.5v-7L12 2zm0 2.5l6 4.3-6 8.2-6-8.2 6-4.3z"})})}function fqe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 14.5v1.5h-2v-1.5c-1.5-.3-2.5-1.1-2.8-2.3l1.5-.5c.2.8.9 1.3 1.8 1.3.7 0 1.5-.3 1.5-1 0-.6-.5-.9-1.5-1.2-1.5-.4-3-1-3-2.8 0-1.3 1-2.3 2.5-2.5V6h2v1.5c1.2.2 2.1.9 2.5 2l-1.5.5c-.2-.6-.7-1-1.5-1-.7 0-1.2.3-1.2.8 0 .5.4.8 1.5 1.1 1.5.4 3 1 3 2.9 0 1.5-1.2 2.5-2.8 2.7z"})})}function FK({className:t,style:e}){return d.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5",transform:"rotate(60 12 12)"}),d.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.5",transform:"rotate(120 12 12)"})]})}function hqe({className:t,style:e}){return d.jsx("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("circle",{cx:"12",cy:"12",r:"10"})})}function Yn({symbol:t,iconColor:e,className:r="",size:n="md"}){const s=cqe[n],i=t.toUpperCase(),a=e||zs[i]||"#6B7280",o={BTC:d.jsx(R2e,{className:`${s} ${r}`,style:{color:zs.BTC}}),ETH:d.jsx(tqe,{className:`${s} ${r}`,style:{color:zs.ETH}}),BNB:d.jsx(YHe,{className:`${s} ${r}`,style:{color:zs.BNB}}),MATIC:d.jsx(sqe,{className:`${s} ${r}`,style:{color:zs.MATIC}}),SOL:d.jsx(aqe,{className:`${s} ${r}`,style:{color:zs.SOL}}),LTC:d.jsx(rqe,{className:`${s} ${r}`,style:{color:zs.LTC}}),DOGE:d.jsx(eqe,{className:`${s} ${r}`,style:{color:zs.DOGE}}),XRP:d.jsx(iqe,{className:`${s} ${r}`,style:{color:zs.XRP}}),ADA:d.jsx(GHe,{className:`${s} ${r}`,style:{color:zs.ADA}}),DOT:d.jsx(nqe,{className:`${s} ${r}`,style:{color:zs.DOT}}),USDT:d.jsx(oqe,{className:`${s} ${r}`,style:{color:zs.USDT}}),AVAX:d.jsx(lqe,{className:`${s} ${r}`,style:{color:zs.AVAX}}),ARB:d.jsx(uqe,{className:`${s} ${r}`,style:{color:zs.ARB}}),TRX:d.jsx(dqe,{className:`${s} ${r}`,style:{color:zs.TRX}}),BCH:d.jsx(fqe,{className:`${s} ${r}`,style:{color:zs.BCH}}),ATOM:d.jsx(FK,{className:`${s} ${r}`,style:{color:zs.ATOM}}),OSMO:d.jsx(FK,{className:`${s} ${r}`,style:{color:zs.OSMO}}),OP:d.jsx(hqe,{className:`${s} ${r}`,style:{color:zs.OP}})};return o[i]?o[i]:d.jsx("div",{className:`flex items-center justify-center rounded-full ${s} ${r}`,style:{backgroundColor:a},children:d.jsx("span",{className:"text-white font-bold text-xs",children:i.slice(0,2)})})}function ffe(t){return d.jsx(Yn,{symbol:t,size:"sm"})}function pqe(){const{isConnected:t,isUnlocked:e,hardwareState:r,setShowPinModal:n,setPinAction:s,lockWallet:i,connectRaspberryPi:a,connectLedger:o,connectSimulated:c,unlockWallet:l,deriveWallets:u,isLoading:f,walletMode:h,setWalletMode:m}=Yi(),{toast:y}=Qs(),[x,k]=B.useState(!1),[C,I]=B.useState(!1),[_,O]=B.useState("soft_wallet"),[F,D]=B.useState("select-chains"),[j,T]=B.useState(24),[R,q]=B.useState(""),[$,b]=B.useState(!1),[w,p]=B.useState(!1),[g,S]=B.useState("create"),[N,P]=B.useState(""),[A,v]=B.useState(new Set),[E,M]=B.useState(""),[L,Q]=B.useState(""),[U,J]=B.useState(""),[Z,re]=B.useState(!1),[G,z]=B.useState("choose"),[se,ce]=B.useState(24),[pe,_e]=B.useState(""),[ke,tt]=B.useState(!1),[mt,we]=B.useState(!1),[We,Ae]=B.useState(""),[Oe,qe]=B.useState(""),[Fe,ze]=B.useState(""),[Ke,ct]=B.useState(!1),[Y,V]=B.useState("create"),[W,ne]=B.useState(""),le=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),de=()=>{if(console.log("[HardwareStatus] handleConnect() - isConnected:",t,"isUnlocked:",e,"isMobile:",le),t)e||(console.log("[HardwareStatus] Connected but locked - showing PIN unlock"),s("unlock"),n(!0));else{if(h==="hard_wallet"&&le){console.log("[HardwareStatus] Mobile hard wallet - navigating to bridge"),window.location.href="/bridge";return}console.log("[HardwareStatus] Not connected - showing setup dialog"),O(h);const He=new Set;Ui.forEach((gt,nt)=>{["ETH","BTC","BNB","TRX"].includes(gt.symbol)&&He.add(`chain-${nt}`)}),v(He),D("select-chains"),k(!0)}},me=async()=>{console.log("[HardwareStatus] handleHeaderConnectRaspberryPi() called");const He=await a();console.log("[HardwareStatus] connectRaspberryPi result:",He),He.success?(k(!1),He.hasWallet?(console.log("[HardwareStatus] EXISTING WALLET - showing PIN unlock"),y({title:"Wallet Found",description:"Existing wallet detected. Please enter your PIN to unlock."}),s("unlock"),n(!0)):(console.log("[HardwareStatus] NEW DEVICE - showing wallet setup"),y({title:"New Device Detected",description:"This is a new device. Let's set up your wallet."}),z("choose"),V("create"),ce(24),_e(""),tt(!1),we(!1),Ae(""),qe(""),ze(""),ne(""),I(!0))):(console.log("[HardwareStatus] Connection failed:",He.error),y({title:"Connection Failed",description:He.error||"Failed to connect",variant:"destructive"}))},rt=()=>{try{let He;if(j===12){const gt=Hi(16);He=un.entropyToPhrase(gt)}else{const gt=Hi(32);He=un.entropyToPhrase(gt)}q(He),D("display")}catch{J("Failed to generate seed phrase")}},ht=async()=>{try{await navigator.clipboard.writeText(R),p(!0),setTimeout(()=>p(!1),2e3)}catch{y({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},ot=()=>{if(A.size===0){J("Please select at least one chain.");return}J(""),D("choose")},pt=()=>{J("");const He=g==="create"?R:N;if(!He||He.trim().length===0){J("No recovery phrase found. Please go back and generate one.");return}const gt=He.trim().toLowerCase().split(/\s+/);if(gt.length!==12&&gt.length!==24){J("Recovery phrase must be 12 or 24 words.");return}if(E.length!==5||!/^\d+$/.test(E)){J("PIN must be 5 digits.");return}if(E!==L){J("PINs do not match.");return}_t()},_t=async()=>{if(console.log("[handleSetupSoftWallet] Starting soft wallet setup"),J(""),A.size===0){J("Please select at least one chain.");return}const gt=(g==="create"?R:N).trim().toLowerCase().split(/\s+/);re(!0);try{console.log("[handleSetupSoftWallet] Calling softWallet.setup()");const nt=await Ur.setup(gt.join(" "),E);if(console.log("[handleSetupSoftWallet] softWallet.setup() result:",nt),nt)console.log("[handleSetupSoftWallet] Creating wallets for selected chains:",Array.from(A)),await u(Array.from(A)),console.log("[handleSetupSoftWallet] deriveWallets() completed"),k(!1),D("select-chains"),q(""),P(""),M(""),Q(""),b(!1),v(new Set),y({title:"Wallet Created",description:"Your soft wallet is ready."});else{const It=Ur.getState().error;console.log("[handleSetupSoftWallet] Setup failed:",It),J(It||"Failed to set up wallet.")}}catch(nt){console.error("[handleSetupSoftWallet] Exception:",nt),J(nt.message||"Failed to create wallet.")}finally{re(!1)}},St=()=>{try{let He;if(se===12){const gt=Hi(16);He=un.entropyToPhrase(gt)}else{const gt=Hi(32);He=un.entropyToPhrase(gt)}_e(He),z("display")}catch{ze("Failed to generate seed phrase")}},Rt=async()=>{try{await navigator.clipboard.writeText(pe),we(!0),setTimeout(()=>we(!1),2e3)}catch{y({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},sr=async()=>{ze("");const gt=(Y==="create"?pe:W).trim().toLowerCase().split(/\s+/);if(gt.length!==12&&gt.length!==24){ze("Recovery phrase must be 12 or 24 words.");return}if(We.length<4||We.length>6||!/^\d+$/.test(We)){ze("PIN must be 4-6 digits.");return}if(We!==Oe){ze("PINs do not match.");return}ct(!0);try{if(await tr.setupWallet(We,gt.join(" "))){if(tr.setHasWalletOnDevice(!0),await l(We)){const Ut=[];Ui.forEach((bt,Je)=>{["ETH","BTC","BNB","TRX"].includes(bt.symbol)&&Ut.push(`chain-${Je}`)}),await u(Ut),I(!1),_e(""),ne(""),Ae(""),qe(""),y({title:"Wallet Created",description:"Your hardware wallet is ready."})}}else ze("Failed to set up wallet on device.")}catch(nt){ze(nt.message||"Failed to create wallet.")}finally{ct(!1)}};tr.isWebHIDSupported();const De=h==="soft_wallet"?t?e?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"hidden sm:inline",children:"Active"})]}),d.jsx(Te,{size:"sm",variant:"ghost",onClick:i,"data-testid":"button-lock-wallet",children:d.jsx(hl,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{variant:"secondary",className:"gap-1.5",children:[d.jsx(hl,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Locked"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-unlock-wallet",children:[d.jsx(bA,{className:"mr-1.5 h-4 w-4"}),"Unlock"]})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{variant:"outline",className:"gap-1.5 text-muted-foreground",children:[d.jsx(i6,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Not Set Up"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-setup-soft-wallet",children:[d.jsx($s,{className:"mr-1.5 h-4 w-4"}),"Set Up"]})]}):t?e?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),d.jsx("span",{className:"hidden sm:inline",children:r.deviceName||"Connected"})]}),d.jsx(Te,{size:"sm",variant:"ghost",onClick:i,"data-testid":"button-lock-wallet",children:d.jsx(hl,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{variant:"secondary",className:"gap-1.5",children:[d.jsx(hl,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"Locked"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-unlock-wallet",children:[d.jsx(bA,{className:"mr-1.5 h-4 w-4"}),"Unlock"]})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(nr,{variant:"outline",className:"gap-1.5 text-muted-foreground",children:[d.jsx(e3e,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:"No Device"})]}),d.jsxs(Te,{size:"sm",onClick:de,"data-testid":"button-connect-device",children:[d.jsx(yA,{className:"mr-1.5 h-4 w-4"}),"Connect"]})]});return d.jsxs(d.Fragment,{children:[De,d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:h==="soft_wallet"?d.jsxs(d.Fragment,{children:[F==="select-chains"&&"Select Chains",F==="choose"&&"Set Up Recovery Phrase",F==="display"&&"Your Recovery Phrase",F==="confirm"&&"Confirm Backup",F==="pin"&&"Create Your PIN"]}):"Connect Your Wallet"}),d.jsx(Kn,{children:h==="soft_wallet"?d.jsxs(d.Fragment,{children:[F==="select-chains"&&"Choose the blockchain networks for your wallet.",F==="choose"&&"Generate a new recovery phrase or import an existing one.",F==="display"&&"Write down these words in order and store them safely.",F==="confirm"&&"Confirm that you have saved your recovery phrase.",F==="pin"&&"Set a PIN to protect your wallet."]}):"Choose how you want to set up your wallet."})]}),h==="hard_wallet"&&d.jsx("div",{className:"space-y-4 mt-4",children:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?d.jsxs(d.Fragment,{children:[d.jsxs(hn,{children:[d.jsx(fx,{className:"h-4 w-4"}),d.jsx(pn,{children:"USB connection is not available on mobile devices. Use the Mobile Bridge to connect through a desktop computer."})]}),d.jsxs(Te,{className:"w-full",onClick:()=>{k(!1),window.location.href="/bridge"},"data-testid":"button-mobile-bridge",children:[d.jsx(fx,{className:"h-4 w-4 mr-2"}),"Open Mobile Bridge"]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Or use a desktop browser with USB support."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your hardware wallet device via USB."}),d.jsx(Te,{className:"w-full",onClick:me,disabled:f,"data-testid":"button-header-connect-hard-wallet",children:f?"Connecting...":"Connect Hard Wallet"})]})}),h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[F==="select-chains"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the blockchain networks you want to use. You can add more chains later."}),d.jsx(rI,{className:"h-64",children:d.jsx("div",{className:"space-y-2 pr-4",children:Ui.map((He,gt)=>{const nt=`chain-${gt}`,It=A.has(nt);return d.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border cursor-pointer transition-colors ${It?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"}`,onClick:()=>{const Ut=new Set(A);It?Ut.delete(nt):Ut.add(nt),v(Ut)},"data-testid":`chain-select-${He.symbol}`,children:[d.jsx(wh,{checked:It,onCheckedChange:Ut=>{const bt=new Set(A);Ut?bt.add(nt):bt.delete(nt),v(bt)}}),d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[ffe(He.symbol),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:He.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:He.symbol})]})]})]},nt)})})}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[d.jsxs("span",{children:[A.size," chain",A.size!==1?"s":""," selected"]}),d.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>{A.size===Ui.length?v(new Set):v(new Set(Ui.map((He,gt)=>`chain-${gt}`)))},children:A.size===Ui.length?"Deselect All":"Select All"})]}),U&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:U})]}),d.jsx(Te,{className:"w-full",onClick:ot,disabled:A.size===0,"data-testid":"button-confirm-chains",children:"Continue"})]}),F==="choose"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the number of words for your recovery phrase:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:j===12?"default":"outline",onClick:()=>T(12),className:"flex-1","data-testid":"button-soft-12-words",children:"12 Words"}),d.jsx(Te,{variant:j===24?"default":"outline",onClick:()=>T(24),className:"flex-1","data-testid":"button-soft-24-words",children:"24 Words (Recommended)"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D("select-chains"),className:"flex-1","data-testid":"button-back-to-chains",children:"Back"}),d.jsxs(Te,{className:"flex-1",onClick:rt,"data-testid":"button-soft-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate"]})]})]}),F==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:R.split(" ").map((He,gt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[gt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`soft-word-${gt+1}`,children:He})]},gt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:ht,"data-testid":"button-soft-copy-seed",children:w?d.jsxs(d.Fragment,{children:[d.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wh,{id:"soft-seed-confirmed",checked:$,onCheckedChange:He=>b(He===!0),"data-testid":"checkbox-soft-seed-confirmed"}),d.jsx("label",{htmlFor:"soft-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>D("confirm"),disabled:!$,"data-testid":"button-soft-continue-to-confirm",children:"Continue"})]}),F==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsxs(pn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D("display"),className:"flex-1","data-testid":"button-soft-go-back",children:"Go Back"}),d.jsx(Te,{onClick:()=>D("pin"),className:"flex-1","data-testid":"button-soft-continue-to-pin",children:"I Understand, Continue"})]})]}),F==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (5 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:E,onChange:He=>{M(He.target.value.replace(/\D/g,"")),J("")},"data-testid":"input-soft-wallet-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:L,onChange:He=>{Q(He.target.value.replace(/\D/g,"")),J("")},"data-testid":"input-soft-wallet-confirm-pin"})]}),U&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:U})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>D(g==="create"?"confirm":"choose"),className:"flex-1","data-testid":"button-soft-back",children:"Back"}),d.jsx(Te,{onClick:pt,disabled:!E||!L||Z,className:"flex-1","data-testid":"button-soft-wallet-create",children:Z?"Creating...":"Create Wallet"})]})]})]})]})}),d.jsx(es,{open:C,onOpenChange:I,children:d.jsxs(Hn,{className:"max-w-lg",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{children:[G==="choose"&&"Set Up New Wallet",G==="display"&&"Your Recovery Phrase",G==="confirm"&&"Confirm Backup",G==="pin"&&"Create Your PIN"]}),d.jsxs(Kn,{children:[G==="choose"&&"Create a new wallet or import an existing one",G==="display"&&"Write down these words in order and store them safely",G==="confirm"&&"Confirm that you have saved your recovery phrase",G==="pin"&&"Set a PIN to protect your wallet"]})]}),G==="choose"&&d.jsx("div",{className:"space-y-4",children:d.jsxs(f5,{value:Y,onValueChange:He=>V(He),children:[d.jsxs(Iw,{className:"grid w-full grid-cols-2",children:[d.jsxs(No,{value:"create","data-testid":"tab-create-new",children:[d.jsx(_d,{className:"mr-2 h-4 w-4"}),"Create New"]}),d.jsxs(No,{value:"import","data-testid":"tab-import-existing",children:[d.jsx(lre,{className:"mr-2 h-4 w-4"}),"Import Existing"]})]}),d.jsxs(Eo,{value:"create",className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a new recovery phrase for your wallet. Choose the number of words:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:se===12?"default":"outline",onClick:()=>ce(12),className:"flex-1","data-testid":"button-12-words",children:"12 Words"}),d.jsx(Te,{variant:se===24?"default":"outline",onClick:()=>ce(24),className:"flex-1","data-testid":"button-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:St,"data-testid":"button-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),d.jsxs(Eo,{value:"import",className:"space-y-4 mt-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Only import a phrase you trust. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Recovery Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your recovery phrase, separated by spaces",value:W,onChange:He=>{ne(He.target.value),ze("")},"data-testid":"input-import-seed"})]}),Fe&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:Fe})]}),d.jsx(Te,{className:"w-full",onClick:()=>{const He=W.trim().toLowerCase().split(/\s+/);if(He.length!==12&&He.length!==24){ze("Recovery phrase must be 12 or 24 words.");return}z("pin")},disabled:!W.trim(),"data-testid":"button-continue-import",children:"Continue to PIN Setup"})]})]})}),G==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:pe.split(" ").map((He,gt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[gt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`word-${gt+1}`,children:He})]},gt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:Rt,"data-testid":"button-copy-seed",children:mt?d.jsxs(d.Fragment,{children:[d.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wh,{id:"seed-confirmed",checked:ke,onCheckedChange:He=>tt(He===!0),"data-testid":"checkbox-seed-confirmed"}),d.jsx("label",{htmlFor:"seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>z("confirm"),disabled:!ke,"data-testid":"button-continue-to-confirm",children:"Continue"})]}),G==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsxs(pn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>z("display"),className:"flex-1",children:"Go Back"}),d.jsx(Te,{onClick:()=>z("pin"),className:"flex-1","data-testid":"button-continue-to-pin",children:"I Understand, Continue"})]})]}),G==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (4-6 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (4-6 digits)"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Enter PIN",value:We,onChange:He=>{Ae(He.target.value.replace(/\D/g,"")),ze("")},"data-testid":"input-header-pico-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Confirm PIN",value:Oe,onChange:He=>{qe(He.target.value.replace(/\D/g,"")),ze("")},"data-testid":"input-header-pico-confirm-pin"})]}),Fe&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:Fe})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>z(Y==="create"?"confirm":"choose"),className:"flex-1",children:"Back"}),d.jsx(Te,{onClick:sr,disabled:!We||!Oe||Ke,className:"flex-1","data-testid":"button-header-setup-pico",children:Ke?"Setting up...":"Create Wallet"})]})]}),d.jsx(Ss,{className:"flex-col sm:flex-row gap-2",children:d.jsx(Te,{variant:"ghost",onClick:()=>I(!1),className:"w-full sm:w-auto",children:"Cancel"})})]})})]})}function h5(){const{isConnected:t,isUnlocked:e,hardwareState:r,hasWalletOnDevice:n,setShowPinModal:s,setPinAction:i,connectLedger:a,connectRaspberryPi:o,connectSimulated:c,unlockWallet:l,deriveWallets:u,isLoading:f,walletMode:h}=Yi(),{toast:m}=Qs(),[y,x]=B.useState(!1),[k,C]=B.useState(!1),[I,_]=B.useState(!1),[O,F]=B.useState(""),[D,j]=B.useState(""),[T,R]=B.useState(""),[q,$]=B.useState(""),[b,w]=B.useState(!1);B.useState("soft_wallet");const[p,g]=B.useState("select-chains"),[S,N]=B.useState(()=>{const Je=new Set;return Ui.forEach((Pt,it)=>{["ETH","BTC","BNB","TRX"].includes(Pt.symbol)&&Je.add(`chain-${it}`)}),Je}),[P,A]=B.useState(24),[v,E]=B.useState(""),[M,L]=B.useState(!1),[Q,U]=B.useState(!1),[J,Z]=B.useState("create"),[re,G]=B.useState(""),[z,se]=B.useState(""),[ce,pe]=B.useState(""),[_e,ke]=B.useState(""),[tt,mt]=B.useState(!1),[we,We]=B.useState("choose"),[Ae,Oe]=B.useState(24),[qe,Fe]=B.useState(""),[ze,Ke]=B.useState(!1),[ct,Y]=B.useState(!1),[V,W]=B.useState("create"),[ne,le]=B.useState(""),[de,me]=B.useState(""),[rt,ht]=B.useState(""),[ot,pt]=B.useState(""),[_t,St]=B.useState(!1),Rt=()=>{t?e||(i("unlock"),s(!0)):x(!0)},sr=async()=>{console.log("[HardwareStatusCard] handleConnectRaspberryPi() called");const Je=await o();console.log("[HardwareStatusCard] connectRaspberryPi result:",Je),Je.success?(x(!1),Je.hasWallet?(console.log("[HardwareStatusCard] EXISTING WALLET DETECTED - showing PIN unlock"),m({title:"Hard Wallet Connected",description:"Your hardware wallet is now connected. Please enter your PIN to unlock."}),i("unlock"),s(!0)):(console.log("[HardwareStatusCard] NEW DEVICE DETECTED - showing wallet setup dialog"),m({title:"Hard Wallet Connected",description:"This is a new device. Please set up your wallet."}),We("choose"),W("create"),Oe(24),Fe(""),Ke(!1),Y(!1),le(""),me(""),ht(""),pt(""),_(!0))):(console.log("[HardwareStatusCard] Connection failed:",Je.error),m({title:"Connection Failed",description:Je.error||"Failed to connect to hardware wallet",variant:"destructive"}))},De=()=>{try{let Je;if(Ae===12){const Pt=Hi(16);Je=un.entropyToPhrase(Pt)}else{const Pt=Hi(32);Je=un.entropyToPhrase(Pt)}Fe(Je),We("display")}catch{pt("Failed to generate seed phrase")}},He=()=>{try{let Je;if(P===12){const Pt=Hi(16);Je=un.entropyToPhrase(Pt)}else{const Pt=Hi(32);Je=un.entropyToPhrase(Pt)}E(Je),g("display")}catch{ke("Failed to generate seed phrase")}},gt=async()=>{try{await navigator.clipboard.writeText(v),U(!0),setTimeout(()=>U(!1),2e3)}catch{m({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},nt=async()=>{console.log("[HardwareStatusCard] handleSetupSoftWallet() called"),ke("");const Je=J==="create"?v:re;if(console.log("[HardwareStatusCard] Mode:",J,"Seed length:",(Je==null?void 0:Je.length)||0),!Je||Je.trim().length===0){ke("No recovery phrase found. Please go back and generate one.");return}const Pt=Je.trim().toLowerCase().split(/\s+/);if(console.log("[HardwareStatusCard] Word count:",Pt.length),Pt.length!==12&&Pt.length!==24){ke("Recovery phrase must be 12 or 24 words.");return}if(z.length!==5){ke("PIN must be 5 digits.");return}if(!/^\d+$/.test(z)){ke("PIN must contain only numbers.");return}if(z!==ce){ke("PINs do not match.");return}mt(!0);try{console.log("[HardwareStatusCard] Calling softWallet.setup()");const it=await Ur.setup(Pt.join(" "),z);if(console.log("[HardwareStatusCard] softWallet.setup() result:",it),it)console.log("[HardwareStatusCard] Creating wallets for selected chains:",Array.from(S)),await u(Array.from(S)),console.log("[HardwareStatusCard] deriveWallets() completed"),x(!1),g("select-chains"),E(""),G(""),se(""),pe(""),L(!1),m({title:"Wallet Created",description:"Your soft wallet has been set up successfully."});else{const Tt=Ur.getState().error;console.log("[HardwareStatusCard] Setup failed:",Tt),ke(Tt||"Failed to set up wallet.")}}catch(it){console.error("[HardwareStatusCard] Exception:",it),ke(it.message||"Failed to create wallet.")}finally{mt(!1)}},It=async()=>{try{await navigator.clipboard.writeText(qe),Y(!0),setTimeout(()=>Y(!1),2e3)}catch{m({title:"Copy failed",description:"Please manually select and copy",variant:"destructive"})}},Ut=async()=>{$(""),console.log("[handleRecover] Starting recovery, walletMode:",h);const Je=O.trim().toLowerCase().split(/\s+/);if(Je.length!==12&&Je.length!==24){$("Recovery phrase must be 12 or 24 words.");return}if(h==="soft_wallet"){if(D.length!==5){$("PIN must be exactly 5 digits for soft wallet.");return}}else if(D.length<4||D.length>6){$("PIN must be 4-6 digits.");return}if(!/^\d+$/.test(D)){$("PIN must contain only numbers.");return}if(D!==T){$("PINs do not match.");return}w(!0);try{if(h==="soft_wallet"){console.log("[handleRecover] Using soft wallet import");const Pt=await Ur.setup(Je.join(" "),D);if(console.log("[handleRecover] Soft wallet setup result:",Pt),Pt){const it=await l(D);console.log("[handleRecover] Soft wallet unlock result:",it),it&&(await u(),C(!1),F(""),j(""),R(""),m({title:"Wallet Recovered",description:"Your wallet has been successfully restored from the recovery phrase."}))}else{const it=Ur.getState();$(it.error||"Failed to import wallet.")}}else{console.log("[handleRecover] Using hardware wallet import"),await tr.setPin(D);const Pt=await c(Je.join(" "));if(console.log("[handleRecover] Hardware wallet connect result:",Pt),Pt){const it=await l(D);console.log("[handleRecover] Hardware wallet unlock result:",it),it&&(await u(),C(!1),F(""),j(""),R(""),m({title:"Wallet Recovered",description:"Your wallet has been successfully restored from the recovery phrase."}))}else r.error&&$(r.error)}}catch(Pt){console.error("[handleRecover] Error:",Pt),$(Pt.message||"Failed to recover wallet.")}finally{w(!1)}},bt=async()=>{pt("");const Pt=(V==="create"?qe:ne).trim().toLowerCase().split(/\s+/);if(Pt.length!==12&&Pt.length!==24){pt("Recovery phrase must be 12 or 24 words.");return}if(de.length<4||de.length>6){pt("PIN must be 4-6 digits.");return}if(!/^\d+$/.test(de)){pt("PIN must contain only numbers.");return}if(de!==rt){pt("PINs do not match.");return}St(!0);try{if(await tr.setupWallet(de,Pt.join(" "))){if(tr.setHasWalletOnDevice(!0),await l(de)){const X=[];Ui.forEach((ee,te)=>{["ETH","BTC","BNB","TRX"].includes(ee.symbol)&&X.push(`chain-${te}`)}),await u(X),_(!1),Fe(""),le(""),me(""),ht(""),m({title:"Wallet Created",description:"Your Raspberry Pi wallet has been set up successfully."})}}else pt("Failed to set up wallet on device.")}catch(it){pt(it.message||"Failed to create wallet.")}finally{St(!1)}};return tr.isWebHIDSupported(),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-muted-foreground/30 bg-muted/20 p-8 text-center",children:[h==="hard_wallet"?d.jsxs("div",{className:"mb-4 relative h-52 w-40 flex flex-col items-center",children:[d.jsxs("div",{className:"relative w-24 h-40 rounded-3xl border-2 border-muted-foreground/30 bg-muted/20",children:[d.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-8 h-1.5 rounded-full bg-muted-foreground/20"}),d.jsx("div",{className:"absolute inset-2 top-5 bottom-6 rounded-2xl bg-background flex flex-col items-center justify-center p-3 border border-border/50",children:d.jsxs(MK.div,{className:"text-center flex flex-col items-center",animate:{opacity:[0,1,1,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",times:[.1,.14,.86,.9]},children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center mb-1.5",children:d.jsx($s,{className:"w-3.5 h-3.5 text-primary"})}),d.jsx("p",{className:"text-[10px] font-bold text-foreground leading-none tracking-tight",children:"VaultKey"}),d.jsxs("div",{className:"flex items-center gap-1 mt-1.5 px-2 py-0.5 rounded-full bg-green-500/10 border border-green-500/20",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),d.jsx("p",{className:"text-[7px] font-semibold text-green-600 dark:text-green-400 leading-none",children:"Connected"})]})]})}),d.jsx("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-6 h-1.5 rounded-full bg-muted-foreground/15"})]}),d.jsx(MK.div,{className:"-mt-1",animate:{y:[10,-2,-2,10]},transition:{duration:7,repeat:1/0,ease:"easeInOut",times:[0,.1,.9,1]},children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-3 h-1.5 bg-muted-foreground/40 rounded-t-sm"}),d.jsxs("div",{className:"w-8 h-12 bg-primary rounded-lg border-2 border-primary flex flex-col items-center justify-center gap-0.5 shadow-md",children:[d.jsx("div",{className:"w-4 h-0.5 bg-background/50 rounded-full"}),d.jsx("div",{className:"w-4 h-0.5 bg-background/50 rounded-full"}),d.jsx(yA,{className:"h-4 w-4 text-background/80 mt-0.5"})]})]})})]}):d.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:d.jsx($s,{className:"h-10 w-10 text-primary"})}),t?e?null:d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Wallet Locked"}),d.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:"Enter your PIN to unlock and access your wallet."}),d.jsxs(Te,{onClick:Rt,"data-testid":"button-unlock-wallet-card",children:[d.jsx(bA,{className:"mr-2 h-4 w-4"}),"Unlock Wallet"]})]}):d.jsxs(d.Fragment,{children:[h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Set Up Your Soft Wallet"}),d.jsx("p",{className:"mb-6 max-w-sm text-sm text-muted-foreground",children:"Generate a new recovery phrase to secure your wallet."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[d.jsxs(Te,{onClick:Rt,"data-testid":"button-setup-wallet",children:[h==="soft_wallet"?d.jsx(i6,{className:"mr-2 h-4 w-4"}):d.jsx(yA,{className:"mr-2 h-4 w-4"}),h==="soft_wallet"?"Create Wallet":"Connect Wallet"]}),h==="soft_wallet"&&d.jsxs(Te,{variant:"outline",onClick:()=>C(!0),"data-testid":"button-recover-wallet",children:[d.jsx(hre,{className:"mr-2 h-4 w-4"}),"Recover Wallet"]})]})]})]}),d.jsx(es,{open:y,onOpenChange:x,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:h==="soft_wallet"?"Set Up Soft Wallet":"Connect Your Wallet"}),d.jsx(Kn,{children:h==="soft_wallet"?"Generate a new recovery phrase to secure your wallet.":"Connect your hardware wallet device via USB."})]}),h==="hard_wallet"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your hardware wallet device via USB."}),d.jsxs("ol",{className:"text-sm text-muted-foreground list-decimal list-inside space-y-1",children:[d.jsx("li",{children:"Connect your hardware wallet via USB"}),d.jsx("li",{children:"Ensure the wallet software is running"}),d.jsx("li",{children:'Click "Connect Hard Wallet" below'})]}),d.jsx(Te,{className:"w-full",onClick:sr,disabled:f,"data-testid":"button-connect-hard-wallet",children:f?"Connecting...":"Connect Hard Wallet"})]}),h==="soft_wallet"&&d.jsxs(d.Fragment,{children:[p==="select-chains"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which blockchain networks you want to use:"}),d.jsx(rI,{className:"h-[300px] pr-4",children:d.jsx("div",{className:"space-y-2",children:Ui.map((Je,Pt)=>{const it=`chain-${Pt}`,Tt=S.has(it);return d.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${Tt?"border-primary bg-primary/5":"border-border hover-elevate"}`,onClick:()=>{const X=new Set(S);Tt?X.delete(it):X.add(it),N(X)},"data-testid":`chain-select-${Je.symbol}`,children:[d.jsx(wh,{checked:Tt,onCheckedChange:X=>{const ee=new Set(S);X?ee.add(it):ee.delete(it),N(ee)}}),d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[ffe(Je.symbol),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:Je.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:Je.symbol})]})]})]},it)})})}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[d.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.size," chain",S.size!==1?"s":""," selected"]}),d.jsx(Te,{onClick:()=>g("choose"),disabled:S.size===0,"data-testid":"button-continue-to-phrase",children:"Continue"})]})]}),p==="choose"&&d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the number of words for your recovery phrase:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:P===12?"default":"outline",onClick:()=>A(12),className:"flex-1","data-testid":"button-card-12-words",children:"12 Words"}),d.jsx(Te,{variant:P===24?"default":"outline",onClick:()=>A(24),className:"flex-1","data-testid":"button-card-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:He,"data-testid":"button-card-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),p==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:v.split(" ").map((Je,Pt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[Pt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`card-word-${Pt+1}`,children:Je})]},Pt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:gt,"data-testid":"button-card-copy-seed",children:Q?d.jsxs(d.Fragment,{children:[d.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wh,{id:"card-seed-confirmed",checked:M,onCheckedChange:Je=>L(Je===!0),"data-testid":"checkbox-card-seed-confirmed"}),d.jsx("label",{htmlFor:"card-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>g("confirm"),disabled:!M,"data-testid":"button-card-continue-to-confirm",children:"Continue"})]}),p==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsxs(pn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever. Make sure you have stored it safely before continuing."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>g("display"),className:"flex-1","data-testid":"button-card-go-back",children:"Go Back"}),d.jsx(Te,{onClick:()=>g("pin"),className:"flex-1","data-testid":"button-card-continue-to-pin",children:"I Understand, Continue"})]})]}),p==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (5 digits) to protect your wallet. You will need this PIN every time you want to unlock your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:z,onChange:Je=>{se(Je.target.value.replace(/\D/g,"")),ke("")},"data-testid":"input-card-wallet-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:ce,onChange:Je=>{pe(Je.target.value.replace(/\D/g,"")),ke("")},"data-testid":"input-card-wallet-confirm-pin"})]}),_e&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:_e})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>g(J==="create"?"confirm":"choose"),className:"flex-1","data-testid":"button-card-back",children:"Back"}),d.jsx(Te,{onClick:nt,disabled:!z||!ce||tt,className:"flex-1","data-testid":"button-card-wallet-create",children:tt?"Creating...":"Create Wallet"})]})]})]})]})}),d.jsx(es,{open:k,onOpenChange:C,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Recover Your Wallet"}),d.jsx(Kn,{children:"Enter your 12 or 24 word recovery phrase to restore your wallet."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Only enter your recovery phrase on trusted devices. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"seed-phrase",children:"Recovery Phrase"}),d.jsx("textarea",{id:"seed-phrase",className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"Enter your 12 or 24 word recovery phrase, separated by spaces",value:O,onChange:Je=>{F(Je.target.value),$("")},"data-testid":"input-recovery-phrase"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"new-pin",children:"New PIN (5 digits)"}),d.jsx(ar,{id:"new-pin",type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter new PIN",value:D,onChange:Je=>{const Pt=Je.target.value.replace(/\D/g,"");j(Pt),$("")},"data-testid":"input-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"confirm-pin",children:"Confirm PIN"}),d.jsx(ar,{id:"confirm-pin",type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm new PIN",value:T,onChange:Je=>{const Pt=Je.target.value.replace(/\D/g,"");R(Pt),$("")},"data-testid":"input-confirm-pin"})]}),q&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:q})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),d.jsx(Te,{onClick:Ut,disabled:!O.trim()||!D||!T||b,"data-testid":"button-confirm-recover",children:b?"Recovering...":"Recover Wallet"})]})]})}),d.jsx(es,{open:I,onOpenChange:_,children:d.jsxs(Hn,{className:"max-w-lg",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{children:[we==="choose"&&"Set Up New Wallet",we==="display"&&"Your Recovery Phrase",we==="confirm"&&"Confirm Backup",we==="pin"&&"Create Your PIN"]}),d.jsxs(Kn,{children:[we==="choose"&&"Create a new wallet or import an existing one",we==="display"&&"Write down these words in order and store them safely",we==="confirm"&&"Confirm that you have saved your recovery phrase",we==="pin"&&"Set a PIN to protect your wallet"]})]}),we==="choose"&&d.jsx("div",{className:"space-y-4",children:d.jsxs(f5,{value:V,onValueChange:Je=>W(Je),children:[d.jsxs(Iw,{className:"grid w-full grid-cols-2",children:[d.jsxs(No,{value:"create","data-testid":"card-tab-create-new",children:[d.jsx(_d,{className:"mr-2 h-4 w-4"}),"Create New"]}),d.jsxs(No,{value:"import","data-testid":"card-tab-import-existing",children:[d.jsx(lre,{className:"mr-2 h-4 w-4"}),"Import Existing"]})]}),d.jsxs(Eo,{value:"create",className:"space-y-4 mt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a new recovery phrase for your wallet. Choose the number of words:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:Ae===12?"default":"outline",onClick:()=>Oe(12),className:"flex-1","data-testid":"card-button-12-words",children:"12 Words"}),d.jsx(Te,{variant:Ae===24?"default":"outline",onClick:()=>Oe(24),className:"flex-1","data-testid":"card-button-24-words",children:"24 Words (Recommended)"})]}),d.jsxs(Te,{className:"w-full",onClick:De,"data-testid":"card-button-generate-seed",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Generate Recovery Phrase"]})]}),d.jsxs(Eo,{value:"import",className:"space-y-4 mt-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Only import a phrase you trust. Never share it with anyone."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Recovery Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your recovery phrase, separated by spaces",value:ne,onChange:Je=>{le(Je.target.value),pt("")},"data-testid":"card-input-import-seed"})]}),ot&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:ot})]}),d.jsx(Te,{className:"w-full",onClick:()=>{const Je=ne.trim().toLowerCase().split(/\s+/);if(Je.length!==12&&Je.length!==24){pt("Recovery phrase must be 12 or 24 words.");return}We("pin")},disabled:!ne.trim(),"data-testid":"card-button-continue-import",children:"Continue to PIN Setup"})]})]})}),we==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"Write these words down on paper. Never store them digitally or share with anyone."})]}),d.jsx("div",{className:"grid grid-cols-3 gap-2 p-4 bg-muted rounded-md",children:qe.split(" ").map((Je,Pt)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-muted-foreground w-5 text-right",children:[Pt+1,"."]}),d.jsx("span",{className:"font-mono","data-testid":`card-word-${Pt+1}`,children:Je})]},Pt))}),d.jsx(Te,{variant:"outline",className:"w-full",onClick:It,"data-testid":"card-button-copy-seed",children:ct?d.jsxs(d.Fragment,{children:[d.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wh,{id:"card-seed-confirmed",checked:ze,onCheckedChange:Je=>Ke(Je===!0),"data-testid":"card-checkbox-seed-confirmed"}),d.jsx("label",{htmlFor:"card-seed-confirmed",className:"text-sm cursor-pointer",children:"I have written down my recovery phrase and stored it safely"})]}),d.jsx(Te,{className:"w-full",onClick:()=>We("confirm"),disabled:!ze,"data-testid":"card-button-continue-to-confirm",children:"Continue"})]}),we==="confirm"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsxs(pn,{children:[d.jsx("strong",{children:"Important:"})," Your recovery phrase is the ONLY way to recover your wallet if you lose access. If you lose it, your funds will be lost forever."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>We("display"),className:"flex-1",children:"Go Back"}),d.jsx(Te,{onClick:()=>We("pin"),className:"flex-1","data-testid":"card-button-continue-to-pin",children:"I Understand, Continue"})]})]}),we==="pin"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a PIN (4-6 digits) to protect your wallet."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (4-6 digits)"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Enter PIN",value:de,onChange:Je=>{me(Je.target.value.replace(/\D/g,"")),pt("")},"data-testid":"card-input-pico-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:6,placeholder:"Confirm PIN",value:rt,onChange:Je=>{ht(Je.target.value.replace(/\D/g,"")),pt("")},"data-testid":"card-input-pico-confirm-pin"})]}),ot&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:ot})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>We(V==="create"?"confirm":"choose"),className:"flex-1",children:"Back"}),d.jsx(Te,{onClick:bt,disabled:!de||!rt||_t,className:"flex-1","data-testid":"button-setup-pico-wallet",children:_t?"Setting up...":"Create Wallet"})]})]}),d.jsx(Ss,{children:d.jsx(Te,{variant:"ghost",onClick:()=>_(!1),children:"Cancel"})})]})})]})}function mqe(){const{isConnected:t,isUnlocked:e,hardwareState:r,disconnectDevice:n,setShowPinModal:s,setPinAction:i,connectRaspberryPi:a,connectSimulated:o,unlockWallet:c,deriveWallets:l,isLoading:u,hasSoftWalletSetup:f,walletMode:h,setWalletMode:m}=Yi(),{toast:y}=Qs(),[x,k]=B.useState(!1),[C,I]=B.useState("soft_wallet"),[_,O]=B.useState(!1),[F,D]=B.useState(""),[j,T]=B.useState(""),[R,q]=B.useState(""),[$,b]=B.useState(""),[w,p]=B.useState(!1),g=async P=>{P!==h&&(I(P),k(!0))},S=async()=>{if(k(!1),await n(),C==="hard_wallet"){const P=await a();P.success?P.hasWallet?(i("unlock"),s(!0)):O(!0):y({title:"Connection Failed",description:P.error||"Could not connect to hardware wallet",variant:"destructive"})}else m("soft_wallet"),f?(i("unlock"),s(!0)):(D(""),T(""),q(""),b(""),O(!0))},N=async()=>{b("");const P=F.trim().toLowerCase().split(/\s+/);if(P.length!==12&&P.length!==24){b("Recovery phrase must be 12 or 24 words.");return}if(j.length<4||j.length>6||!/^\d+$/.test(j)){b("PIN must be 4-6 digits.");return}if(j!==R){b("PINs do not match.");return}p(!0);try{const{hardwareWallet:A}=await Gm(async()=>{const{hardwareWallet:E}=await Promise.resolve().then(()=>ORe);return{hardwareWallet:E}},void 0);await A.setPin(j),await o(P.join(" "))&&await c(j)&&(await l(),O(!1),y({title:"Wallet Created",description:"Your soft wallet is ready."}))}catch(A){b(A.message||"Failed to create wallet.")}finally{p(!1)}};return!t||!e?null:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-lg bg-muted/50",children:[d.jsxs(Te,{size:"sm",variant:h==="hard_wallet"?"default":"ghost",onClick:()=>g("hard_wallet"),className:"gap-1.5",disabled:u,"data-testid":"button-mode-hard-wallet",children:[d.jsx(pA,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Hard Wallet"})]}),d.jsxs(Te,{size:"sm",variant:h==="soft_wallet"?"default":"ghost",onClick:()=>g("soft_wallet"),className:"gap-1.5",disabled:u,"data-testid":"button-mode-soft-wallet",children:[d.jsx(i6,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Soft Wallet"})]})]}),d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-sm",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Switch Wallet Mode"}),d.jsxs(Kn,{children:["Switching to ",C==="hard_wallet"?"Hard Wallet":"Soft Wallet"," will disconnect your current wallet. You'll need to set up or unlock the new wallet."]})]}),d.jsxs(Ss,{className:"gap-2",children:[d.jsx(Te,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),d.jsx(Te,{onClick:S,"data-testid":"button-confirm-switch",children:"Switch"})]})]})}),d.jsx(es,{open:_&&C==="soft_wallet",onOpenChange:O,children:d.jsxs(Hn,{className:"max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Set Up Soft Wallet"}),d.jsx(Kn,{children:"Enter a seed phrase to create your soft wallet."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(hn,{children:[d.jsx($s,{className:"h-4 w-4"}),d.jsx(pn,{children:"For testing only. Enter a seed phrase to simulate a hardware wallet."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Seed Phrase (12 or 24 words)"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your seed phrase separated by spaces",value:F,onChange:P=>{D(P.target.value),b("")},"data-testid":"input-mode-seed-phrase"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"New PIN (5 digits)"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Enter PIN",value:j,onChange:P=>{T(P.target.value.replace(/\D/g,"")),b("")},"data-testid":"input-mode-new-pin"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Confirm PIN"}),d.jsx(ar,{type:"password",inputMode:"numeric",maxLength:5,placeholder:"Confirm PIN",value:R,onChange:P=>{q(P.target.value.replace(/\D/g,"")),b("")},"data-testid":"input-mode-confirm-pin"})]}),$&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:$})]})]}),d.jsxs(Ss,{className:"gap-2",children:[d.jsx(Te,{variant:"ghost",onClick:()=>O(!1),children:"Cancel"}),d.jsx(Te,{onClick:N,disabled:!F.trim()||!j||!R||w,"data-testid":"button-create-soft-wallet",children:w?"Creating...":"Create Wallet"})]})]})})]})}var hfe="AlertDialog",[gqe,k6t]=Zi(hfe,[mne]),Kh=mne(),pfe=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kh(e);return d.jsx(sF,{...n,...r,modal:!0})};pfe.displayName=hfe;var bqe="AlertDialogTrigger",yqe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kh(r);return d.jsx(Tne,{...s,...n,ref:e})});yqe.displayName=bqe;var vqe="AlertDialogPortal",mfe=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kh(e);return d.jsx(iF,{...n,...r})};mfe.displayName=vqe;var xqe="AlertDialogOverlay",gfe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kh(r);return d.jsx(U4,{...s,...n,ref:e})});gfe.displayName=xqe;var Wy="AlertDialogContent",[wqe,Aqe]=gqe(Wy),Sqe=$te("AlertDialogContent"),bfe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Kh(r),a=B.useRef(null),o=yr(e,a),c=B.useRef(null);return d.jsx(h5e,{contentName:Wy,titleName:yfe,docsSlug:"alert-dialog",children:d.jsx(wqe,{scope:r,cancelRef:c,children:d.jsxs(z4,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:Ct(s.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[d.jsx(Sqe,{children:n}),d.jsx(kqe,{contentRef:a})]})})})});bfe.displayName=Wy;var yfe="AlertDialogTitle",vfe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kh(r);return d.jsx(L4,{...s,...n,ref:e})});vfe.displayName=yfe;var xfe="AlertDialogDescription",wfe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kh(r);return d.jsx(V4,{...s,...n,ref:e})});wfe.displayName=xfe;var Pqe="AlertDialogAction",Afe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kh(r);return d.jsx(KP,{...s,...n,ref:e})});Afe.displayName=Pqe;var Sfe="AlertDialogCancel",Pfe=B.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=Aqe(Sfe,r),i=Kh(r),a=yr(e,s);return d.jsx(KP,{...i,...n,ref:a})});Pfe.displayName=Sfe;var kqe=({contentRef:t})=>{const e=`\`${Wy}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wy}\` by passing a \`${xfe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wy}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return B.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Iqe=pfe,Nqe=mfe,kfe=gfe,Ife=bfe,Nfe=Afe,Efe=Pfe,Cfe=vfe,_fe=wfe;const Eqe=Iqe,Cqe=Nqe,Tfe=B.forwardRef(({className:t,...e},r)=>d.jsx(kfe,{className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Tfe.displayName=kfe.displayName;const jfe=B.forwardRef(({className:t,...e},r)=>d.jsxs(Cqe,{children:[d.jsx(Tfe,{}),d.jsx(Ife,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));jfe.displayName=Ife.displayName;const Mfe=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Mfe.displayName="AlertDialogHeader";const $fe=({className:t,...e})=>d.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$fe.displayName="AlertDialogFooter";const Ofe=B.forwardRef(({className:t,...e},r)=>d.jsx(Cfe,{ref:r,className:jt("text-lg font-semibold",t),...e}));Ofe.displayName=Cfe.displayName;const Bfe=B.forwardRef(({className:t,...e},r)=>d.jsx(_fe,{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));Bfe.displayName=_fe.displayName;const Ffe=B.forwardRef(({className:t,...e},r)=>d.jsx(Nfe,{ref:r,className:jt(QB(),t),...e}));Ffe.displayName=Nfe.displayName;const Rfe=B.forwardRef(({className:t,...e},r)=>d.jsx(Efe,{ref:r,className:jt(QB({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Rfe.displayName=Efe.displayName;const _qe={"chain-0":{evmChainId:1,type:"evm"},"chain-1":{evmChainId:0,type:"bitcoin"},"chain-2":{evmChainId:56,type:"evm"},"chain-3":{evmChainId:137,type:"evm"},"chain-4":{evmChainId:43114,type:"evm"},"chain-5":{evmChainId:42161,type:"evm"},"chain-6":{evmChainId:0,type:"bitcoin"},"chain-7":{evmChainId:0,type:"bitcoin"},"chain-8":{evmChainId:0,type:"tron"},"chain-9":{evmChainId:0,type:"bitcoin"},"chain-10":{evmChainId:0,type:"bitcoin"},"chain-11":{evmChainId:0,type:"solana"}},Tqe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io"},jqe=["function transfer(address to, uint256 amount) returns (bool)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"];function lD(t){return _qe[t]||null}function Mqe(t){return{"chain-0":"ETH","chain-1":"BTC","chain-2":"BNB","chain-3":"MATIC","chain-4":"AVAX","chain-5":"ARB","chain-6":"XRP","chain-7":"DOGE","chain-8":"TRX","chain-9":"LTC","chain-10":"BCH","chain-11":"SOL"}[t]||"ETH"}async function uD(t){const e=Tqe[t];return e?new ww(e,t):null}async function $qe(t,e){try{const r=await uD(e);if(!r)return null;const[n,s,i]=await Promise.all([r.getFeeData().then(c=>c.gasPrice),r.getTransactionCount(t.from),r.getFeeData()]),a=cje(t.amount),o={to:t.to,value:a,chainId:e,gasLimit:BigInt(21e3),nonce:s};return i.maxFeePerGas&&i.maxPriorityFeePerGas?(o.maxFeePerGas=i.maxFeePerGas,o.maxPriorityFeePerGas=i.maxPriorityFeePerGas):o.gasPrice=n||BigInt(2e10),o}catch(r){return console.error("Failed to build EVM native transaction:",r),null}}async function Oqe(t,e){try{if(!t.tokenContractAddress)return console.error("Token contract address required for ERC20 transfer"),null;const r=await uD(e);if(!r)return null;const n=new yh(t.tokenContractAddress,jqe,r),s=t.decimals||await n.decimals(),i=yae(t.amount,s),a=n.interface.encodeFunctionData("transfer",[t.to,i]),[o,c,l]=await Promise.all([r.getFeeData().then(h=>h.gasPrice),r.getTransactionCount(t.from),r.getFeeData()]),u=await r.estimateGas({from:t.from,to:t.tokenContractAddress,data:a}),f={to:t.tokenContractAddress,value:BigInt(0),data:a,chainId:e,gasLimit:u*BigInt(12)/BigInt(10),nonce:c};return l.maxFeePerGas&&l.maxPriorityFeePerGas?(f.maxFeePerGas=l.maxFeePerGas,f.maxPriorityFeePerGas=l.maxPriorityFeePerGas):f.gasPrice=o||BigInt(2e10),f}catch(r){return console.error("Failed to build ERC20 transaction:",r),null}}async function Bqe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e9));return{from:t.from,to:t.to,amount:t.amount,lamports:e}}catch(e){return console.error("Failed to build Solana transaction:",e),null}}async function Fqe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e6));return{from:t.from,to:t.to,amount:t.amount,sunAmount:e}}catch(e){return console.error("Failed to build TRON transaction:",e),null}}async function Rqe(t){try{const e=BigInt(Math.floor(parseFloat(t.amount)*1e8));return{from:t.from,to:t.to,amount:t.amount,satoshis:e}}catch(e){return console.error("Failed to build Bitcoin transaction:",e),null}}async function Dqe(t){const e=lD(t.chainId);if(!e)return console.error("Unknown chain:",t.chainId),null;if(e.type==="evm")if(t.isNativeToken){const r=await $qe(t,e.evmChainId);return r?{tx:r,chainType:"evm",evmChainId:e.evmChainId}:null}else{const r=await Oqe(t,e.evmChainId);return r?{tx:r,chainType:"evm",evmChainId:e.evmChainId}:null}if(e.type==="solana"){const r=await Bqe(t);return r?{tx:null,chainType:"solana",evmChainId:0,solanaData:r}:null}if(e.type==="tron"){const r=await Fqe(t);return r?{tx:null,chainType:"tron",evmChainId:0,tronData:r}:null}if(e.type==="bitcoin"){const r=await Rqe(t);return r?{tx:null,chainType:"bitcoin",evmChainId:0,bitcoinData:r}:null}return null}async function Uqe(t,e){try{const r=await uD(e);return r?{success:!0,txHash:(await r.broadcastTransaction(t)).hash}:{success:!1,error:`No RPC endpoint for chain ${e}`}}catch(r){return{success:!1,error:r.message||"Failed to broadcast transaction"}}}async function zqe(t){try{const r=await(await fetch("https://api.mainnet-beta.solana.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[t,{encoding:"base64"}]})})).json();return r.error?{success:!1,error:r.error.message}:{success:!0,txHash:r.result}}catch(e){return{success:!1,error:e.message||"Failed to broadcast Solana transaction"}}}async function Lqe(t){try{const r=await(await fetch("https://api.trongrid.io/wallet/broadcasttransaction",{method:"POST",headers:{"Content-Type":"application/json"},body:t})).json();return r.result?{success:!0,txHash:r.txid}:{success:!1,error:r.message||"Failed to broadcast TRON transaction"}}catch(e){return{success:!1,error:e.message||"Failed to broadcast TRON transaction"}}}async function Vqe(t,e,r){switch(e){case"evm":return r?Uqe(t,r):{success:!1,error:"EVM chain ID required"};case"solana":return zqe(t);case"tron":return Lqe(t);case"bitcoin":return{success:!1,error:"Bitcoin transactions not yet supported"};default:return{success:!1,error:"Unknown chain type"}}}const Hqe={USDT:{"chain-0":{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",decimals:6},"chain-2":{address:"0x55d398326f99059fF775485246999027B3197955",decimals:18},"chain-3":{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",decimals:6},"chain-5":{address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",decimals:6}},USDC:{"chain-0":{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",decimals:6},"chain-2":{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",decimals:18},"chain-3":{address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",decimals:6},"chain-5":{address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",decimals:6}},WBTC:{"chain-0":{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",decimals:8}},LINK:{"chain-0":{address:"0x514910771AF9Ca656af840dff83E8264EcF986CA",decimals:18},"chain-2":{address:"0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD",decimals:18}},UNI:{"chain-0":{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",decimals:18}},SHIB:{"chain-0":{address:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",decimals:18}},STETH:{"chain-0":{address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:18}},AAVE:{"chain-0":{address:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",decimals:18}},MKR:{"chain-0":{address:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",decimals:18}},GRT:{"chain-0":{address:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",decimals:18}},DAI:{"chain-0":{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",decimals:18},"chain-2":{address:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",decimals:18}}};function qqe(t,e){const r=t.toUpperCase(),n=Hqe[r];return n&&n[e]||null}function Wqe(t){const e=lD(t);if(!e)return{supported:!1,type:"unknown",reason:"Unknown chain"};switch(e.type){case"evm":return{supported:!0,type:"evm",evmChainId:e.evmChainId};case"solana":return{supported:!0,type:"solana"};case"tron":return{supported:!0,type:"tron"};case"bitcoin":return{supported:!0,type:"bitcoin"};default:return{supported:!1,type:"unknown",reason:"Unknown chain type"}}}const Kqe={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc"},Xqe={1:12,56:15,137:128,43114:12,42161:12};class Zqe{constructor(){this.transactions=new Map,this.listeners=new Set,this.pollingIntervals=new Map}addTransaction(e){const r={...e,status:"pending",currentConfirmations:0,requiredConfirmations:e.evmChainId&&Xqe[e.evmChainId]||12};this.transactions.set(e.id,r),this.notifyListeners(),this.startPolling(e.id)}async startPolling(e){const r=this.transactions.get(e);if(!r||!r.evmChainId)return;const n=Kqe[r.evmChainId];if(!n){this.updateTransaction(e,{status:"confirmed"});return}const s=new ww(n);let i=0;const a=60,o=async()=>{try{const l=await s.getTransactionReceipt(r.txHash);if(l){if(l.status===0){this.updateTransaction(e,{status:"failed"}),this.stopPolling(e),setTimeout(()=>{this.removeTransaction(e)},1e4);return}const f=await s.getBlockNumber()-l.blockNumber+1,h=this.transactions.get(e);if(!h)return;if(f>=h.requiredConfirmations){this.updateTransaction(e,{status:"confirmed",currentConfirmations:f}),this.stopPolling(e),setTimeout(()=>{this.removeTransaction(e)},5e3);return}else this.updateTransaction(e,{status:"confirming",currentConfirmations:f})}else if(i++,i>=a){this.updateTransaction(e,{status:"failed"}),this.stopPolling(e);return}}catch(l){console.error("Error polling transaction:",l),i++,i>=a&&(this.updateTransaction(e,{status:"failed"}),this.stopPolling(e))}};o();const c=setInterval(o,3e3);this.pollingIntervals.set(e,c)}stopPolling(e){const r=this.pollingIntervals.get(e);r&&(clearInterval(r),this.pollingIntervals.delete(e))}updateTransaction(e,r){const n=this.transactions.get(e);n&&(this.transactions.set(e,{...n,...r}),this.notifyListeners())}removeTransaction(e){this.stopPolling(e),this.transactions.delete(e),this.notifyListeners()}getTransactions(){return Array.from(this.transactions.values())}getTransactionsForChain(e){return this.getTransactions().filter(r=>r.chainId===e)}subscribe(e){return this.listeners.add(e),e(this.getTransactions()),()=>this.listeners.delete(e)}notifyListeners(){const e=this.getTransactions();this.listeners.forEach(r=>r(e))}clear(){this.pollingIntervals.forEach((e,r)=>this.stopPolling(r)),this.transactions.clear(),this.notifyListeners()}}const Dfe=new Zqe;function Jqe(){const{showPinModal:t,setShowPinModal:e,pinAction:r,setPinAction:n,hardwareState:s,walletMode:i,unlockWallet:a,deriveWallets:o,pendingTransaction:c,setPendingTransaction:l,disconnectDevice:u,refreshBalances:f}=Yi(),{toast:h}=Qs(),[,m]=Ou(),[y,x]=B.useState(""),[k,C]=B.useState(""),[I,_]=B.useState("enter"),[O,F]=B.useState(i==="soft_wallet"?5:6),[D,j]=B.useState(!1),[T,R]=B.useState(""),[q,$]=B.useState(!1),[b,w]=B.useState(!1),p=O;B.useEffect(()=>{i==="soft_wallet"&&F(5)},[i]),B.useEffect(()=>{t&&(x(""),C(""),_("enter"),R(""),j(!1),i==="soft_wallet"&&F(5))},[t,i]),B.useEffect(()=>{t||(x(""),C(""),R(""),j(!1))},[t]);const g=B.useCallback(L=>{R(""),I==="enter"&&y.length<p?x(Q=>Q+L):I==="confirm"&&k.length<p&&C(Q=>Q+L)},[I,y.length,k.length,p]),S=B.useCallback(()=>{I==="enter"?x(L=>L.slice(0,-1)):C(L=>L.slice(0,-1)),R("")},[I]),N=B.useCallback(()=>{I==="enter"?x(""):C(""),R("")},[I]),P=B.useCallback(async()=>{var L,Q;if(r==="unlock"||r==="sign"){if(y.length<4){R("PIN must be at least 4 digits");return}j(!0);try{if(await a(y)){if(await o(),r==="sign"&&c){const J=Wqe(c.chainId);if(!J.supported){h({title:"Chain Not Supported",description:J.reason||"This chain is not yet supported for transactions",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const Z=J.evmChainId||1,re=i==="soft_wallet"?await Ur.getAddress(Z):await tr.getAddress(Z);if(!re){h({title:"Wallet Error",description:"Could not get wallet address",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const G=Mqe(c.chainId);if(J.type==="bitcoin"||J.type==="solana"||J.type==="tron"){const se={chainType:J.type,from:re,to:c.toAddress,amount:c.amount,isNativeToken:c.isNativeToken??!0},ce=i==="soft_wallet"?await Ur.signNonEvmTransaction(se):await tr.signNonEvmTransaction(se);if(!ce){h({title:"Signing Failed",description:i==="soft_wallet"?"Could not sign the transaction":"Non-EVM signing is only supported in simulated hardware wallet mode",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const pe=await MRe(ce.chainType,ce.signedTx);if(pe.success){const ke={id:`tx-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,walletId:c.chainId,chainId:c.chainId,type:"send",status:"confirmed",amount:c.amount,tokenSymbol:c.tokenSymbol||G,toAddress:c.toAddress,fromAddress:re,txHash:pe.txHash||ce.txHash,timestamp:new Date().toISOString()};await At.saveTransaction(ke),h({title:"Transaction Sent",description:`Transaction broadcast successfully. Hash: ${(L=pe.txHash||ce.txHash)==null?void 0:L.slice(0,10)}...`}),bW(),f();const tt=c.isNativeToken?"native":c.tokenSymbol||"native";m(`/wallet/${c.chainId}/token/${tt}`)}else h({title:"Broadcast Failed",description:pe.error||"Failed to broadcast transaction",variant:"destructive"}),f()}else{let se=null;if(!c.isNativeToken&&c.tokenSymbol){const ke=qqe(c.tokenSymbol,c.chainId);ke?se={address:ke.address,decimals:ke.decimals}:c.tokenContractAddress&&(se={address:c.tokenContractAddress,decimals:18})}const ce={chainId:c.chainId,from:re,to:c.toAddress,amount:c.amount,tokenSymbol:c.tokenSymbol,tokenContractAddress:(se==null?void 0:se.address)||c.tokenContractAddress,isNativeToken:c.isNativeToken??!0,decimals:se==null?void 0:se.decimals},pe=await Dqe(ce);if(!pe){h({title:"Transaction Build Failed",description:"Could not build transaction. Please try again.",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}if(!pe.tx){h({title:"Transaction Error",description:"Could not build transaction data. Please try again.",variant:"destructive"}),l(null),e(!1),n(null),j(!1);return}const _e=i==="soft_wallet"?await Ur.signTransaction(pe.tx):await tr.signTransaction(pe.tx);if(_e){const ke=await Vqe(_e,pe.chainType,pe.evmChainId);if(ke.success){const tt=`tx-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,mt={id:tt,walletId:c.chainId,chainId:c.chainId,type:"send",status:"confirmed",amount:c.amount,tokenSymbol:c.tokenSymbol||G,toAddress:c.toAddress,fromAddress:re,txHash:ke.txHash,timestamp:new Date().toISOString()};await At.saveTransaction(mt);const we=lD(c.chainId);Dfe.addTransaction({id:tt,txHash:ke.txHash||"",chainId:c.chainId,evmChainId:we==null?void 0:we.evmChainId,tokenSymbol:c.tokenSymbol||G,amount:c.amount,toAddress:c.toAddress,fromAddress:re,timestamp:new Date().toISOString()}),h({title:"Transaction Sent",description:`Transaction broadcast successfully. Hash: ${(Q=ke.txHash)==null?void 0:Q.slice(0,10)}...`}),bW(),f();const We=c.isNativeToken?"native":c.tokenSymbol||"native";m(`/wallet/${c.chainId}/token/${We}`)}else h({title:"Broadcast Failed",description:ke.error||"Failed to broadcast transaction",variant:"destructive"}),f()}else h({title:"Signing Failed",description:"Could not sign the transaction",variant:"destructive"}),f()}l(null)}else h({title:"Wallet Unlocked",description:"You can now access your wallet.",duration:2e3});e(!1),n(null)}else R("Incorrect PIN. Please try again."),x("")}catch(U){R(U.message||"Verification failed. Please try again."),x("")}finally{j(!1)}}},[r,y,a,o,c,l,e,n,h,f,i]);B.useEffect(()=>{if(t&&(r==="unlock"||r==="sign")&&y.length===p&&!D&&y!==""){const L=setTimeout(()=>{y.length===p&&P()},100);return()=>clearTimeout(L)}},[y,p,r,P,t,D]);const A=()=>r==="sign"?"Sign Transaction":"Enter Your PIN",v=()=>r==="sign"?"Enter your PIN to authorize this transaction":"Enter your PIN to unlock your wallet",E=async()=>{w(!0);try{await ci.factoryReset()?(await u(),e(!1),n(null),h({title:"Device Reset",description:"Your device has been reset. Reconnect to set up a new wallet."})):h({title:"Reset Not Supported",description:"Your device firmware doesn't support remote reset. Please reflash the firmware to reset.",variant:"destructive"})}catch{h({title:"Reset Failed",description:"Could not reset device. Please reflash the firmware manually.",variant:"destructive"})}finally{w(!1),$(!1)}},M=I==="enter"?y:k;return d.jsxs(es,{open:t,onOpenChange:L=>{!L&&!D&&(x(""),C(""),_("enter"),R(""),e(!1),n(null),l(null))},children:[d.jsxs(Hn,{className:"sm:max-w-md","data-testid":"pin-modal",children:[d.jsxs(qn,{className:"text-center",children:[d.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:r==="sign"?d.jsx(F2e,{className:"h-8 w-8 text-primary"}):d.jsx(hl,{className:"h-8 w-8 text-primary"})}),d.jsx(Wn,{className:"text-xl font-semibold",children:A()}),d.jsx(Kn,{className:"text-muted-foreground",children:v()})]}),i==="hard_wallet"&&s.deviceName&&d.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Device: ",s.deviceName]}),i==="soft_wallet"&&d.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Soft Wallet"}),i==="hard_wallet"&&d.jsx("div",{className:"flex justify-center gap-2 py-2",children:[4,5,6].map(L=>d.jsxs(Te,{variant:O===L?"default":"outline",size:"sm",onClick:()=>{F(L),x("")},"data-testid":`button-pin-length-${L}`,children:[L," digits"]},L))}),d.jsx("div",{className:"flex justify-center gap-3 py-6",children:Array.from({length:p}).map((L,Q)=>d.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 transition-all ${Q<M.length?"border-primary bg-primary":"border-muted-foreground/30 bg-muted/30"}`,"data-testid":`pin-dot-${Q}`,children:Q<M.length&&d.jsx("div",{className:"h-3 w-3 rounded-full bg-primary-foreground"})},Q))}),T&&d.jsx("p",{className:"text-center text-sm text-destructive","data-testid":"pin-error",children:T}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 px-4",children:[[1,2,3,4,5,6,7,8,9].map(L=>d.jsx(Te,{variant:"outline",className:"h-14 text-xl font-semibold",onClick:()=>g(L.toString()),disabled:D,"data-testid":`button-pin-${L}`,children:L},L)),d.jsx(Te,{variant:"ghost",className:"h-14",onClick:N,disabled:D,"data-testid":"button-pin-clear",children:d.jsx(mh,{className:"h-5 w-5"})}),d.jsx(Te,{variant:"outline",className:"h-14 text-xl font-semibold",onClick:()=>g("0"),disabled:D,"data-testid":"button-pin-0",children:"0"}),d.jsx(Te,{variant:"ghost",className:"h-14",onClick:S,disabled:D,"data-testid":"button-pin-delete",children:d.jsx(V2e,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[d.jsx($s,{className:"h-3 w-3"}),d.jsx("span",{children:"Secured by hardware encryption"})]}),i==="hard_wallet"&&s.type==="raspberry_pi"&&d.jsxs("div",{className:"mt-2 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Existing wallet detected on device"}),d.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>$(!0),disabled:D||b,className:"text-destructive","data-testid":"button-reset-device",children:[d.jsx(hre,{className:"h-3 w-3 mr-1"}),"Forgot PIN? Reset Device"]})]})]}),d.jsx(Eqe,{open:q,onOpenChange:$,children:d.jsxs(jfe,{"data-testid":"reset-confirm-dialog",children:[d.jsxs(Mfe,{children:[d.jsxs(Ofe,{className:"flex items-center gap-2",children:[d.jsx(fn,{className:"h-5 w-5 text-destructive"}),"Reset Device?"]}),d.jsx(Bfe,{children:"This will attempt to erase all wallet data from your device. Your funds will be lost forever unless you have backed up your recovery phrase. This action cannot be undone."})]}),d.jsxs($fe,{children:[d.jsx(Rfe,{disabled:b,"data-testid":"button-reset-cancel",children:"Cancel"}),d.jsx(Ffe,{onClick:E,disabled:b,className:"bg-destructive text-destructive-foreground","data-testid":"button-reset-confirm",children:b?"Resetting...":"Yes, Reset Device"})]})]})})]})}function Qqe(){const[t]=Ou(),{walletMode:e,setWalletMode:r}=Yi(),i=e==="soft_wallet"?[{label:"Chains",href:"/",icon:d.jsx(OB,{className:"h-5 w-5"})},{label:"DApps",href:"/dapps",icon:d.jsx(gA,{className:"h-5 w-5"})},{label:"Settings",href:"/settings",icon:d.jsx(a6,{className:"h-5 w-5"})}]:[{label:"Dashboard",href:"/",icon:d.jsx(ure,{className:"h-5 w-5"})},{label:"Accounts",href:"/chains",icon:d.jsx(mre,{className:"h-5 w-5"})},{label:"Settings",href:"/settings",icon:d.jsx(a6,{className:"h-5 w-5"})},{label:"Manage",href:"/manage-crypto",icon:d.jsx(ux,{className:"h-5 w-5"})}],a=c=>c==="/"?t==="/":t.startsWith(c),o=t.startsWith("/dapps")||t.startsWith("/dapp-browser");return d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background md:hidden",children:[!o&&d.jsxs("div",{className:"flex items-center justify-center gap-2 border-b border-border/50 px-4 py-2",children:[d.jsxs(Te,{variant:e==="hard_wallet"?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>r("hard_wallet"),"data-testid":"button-hard-wallet-mode",children:[d.jsx($s,{className:"h-4 w-4"}),"Hard Wallet"]}),d.jsxs(Te,{variant:e==="soft_wallet"?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>r("soft_wallet"),"data-testid":"button-soft-wallet-mode",children:[d.jsx(Cy,{className:"h-4 w-4"}),"Soft Wallet"]})]}),d.jsx("nav",{className:"flex items-center justify-around px-2 py-2",children:i.map(c=>d.jsxs(dl,{href:c.href,className:jt("flex flex-col items-center gap-1 rounded-lg px-4 py-2 text-xs transition-colors",a(c.href)?"bg-primary/10 text-primary":"text-muted-foreground hover-elevate"),"data-testid":`nav-${c.label.toLowerCase()}`,children:[c.icon,d.jsx("span",{children:c.label})]},c.href))})]})}const Gt=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Gt.displayName="Card";const jn=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("flex flex-col space-y-1.5 p-6",t),...e}));jn.displayName="CardHeader";const Mn=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mn.displayName="CardTitle";const n1=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("text-sm text-muted-foreground",t),...e}));n1.displayName="CardDescription";const er=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("p-6 pt-0",t),...e}));er.displayName="CardContent";const Yqe=B.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:jt("flex items-center p-6 pt-0",t),...e}));Yqe.displayName="CardFooter";var Gqe=[" ","Enter","ArrowUp","ArrowDown"],eWe=[" ","Enter"],p5="Select",[nI,sI,tWe]=jP(p5),[Nw,I6t]=Zi(p5,[tWe,iw]),iI=iw(),[rWe,mm]=Nw(p5),[nWe,sWe]=Nw(p5),Ufe=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:h,required:m,form:y}=t,x=iI(e),[k,C]=B.useState(null),[I,_]=B.useState(null),[O,F]=B.useState(!1),D=Pw(l),[j=!1,T]=Nu({prop:n,defaultProp:s,onChange:i}),[R,q]=Nu({prop:a,defaultProp:o,onChange:c}),$=B.useRef(null),b=k?y||!!k.closest("form"):!0,[w,p]=B.useState(new Set),g=Array.from(w).map(S=>S.props.value).join(";");return d.jsx(WB,{...x,children:d.jsxs(rWe,{required:m,scope:e,trigger:k,onTriggerChange:C,valueNode:I,onValueNodeChange:_,valueNodeHasChildren:O,onValueNodeHasChildrenChange:F,contentId:Su(),value:R,onValueChange:q,open:j,onOpenChange:T,dir:D,triggerPointerDownPosRef:$,disabled:h,children:[d.jsx(nI.Provider,{scope:e,children:d.jsx(nWe,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(S=>{p(N=>new Set(N).add(S))},[]),onNativeOptionRemove:B.useCallback(S=>{p(N=>{const P=new Set(N);return P.delete(S),P})},[]),children:r})}),b?d.jsxs(dhe,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:S=>q(S.target.value),disabled:h,form:y,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(w)]},g):null]})})};Ufe.displayName=p5;var zfe="SelectTrigger",Lfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=iI(r),a=mm(zfe,r),o=a.disabled||n,c=yr(e,a.onTriggerChange),l=sI(r),u=B.useRef("touch"),[f,h,m]=fhe(x=>{const k=l().filter(_=>!_.disabled),C=k.find(_=>_.value===a.value),I=hhe(k,x,C);I!==void 0&&a.onValueChange(I.value)}),y=x=>{o||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(KB,{asChild:!0,...i,children:d.jsx(Qt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":uhe(a.value)?"":void 0,...s,ref:c,onClick:Ct(s.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:Ct(s.onPointerDown,x=>{u.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ct(s.onKeyDown,x=>{const k=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(k&&x.key===" ")&&Gqe.includes(x.key)&&(y(),x.preventDefault())})})})});Lfe.displayName=zfe;var Vfe="SelectValue",Hfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=t,c=mm(Vfe,r),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,f=yr(e,c.onValueNodeChange);return Xi(()=>{l(u)},[l,u]),d.jsx(Qt.span,{...o,ref:f,style:{pointerEvents:"none"},children:uhe(c.value)?d.jsx(d.Fragment,{children:a}):i})});Hfe.displayName=Vfe;var iWe="SelectIcon",qfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return d.jsx(Qt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});qfe.displayName=iWe;var aWe="SelectPortal",Wfe=t=>d.jsx(B4,{asChild:!0,...t});Wfe.displayName=aWe;var C1="SelectContent",Kfe=B.forwardRef((t,e)=>{const r=mm(C1,t.__scopeSelect),[n,s]=B.useState();if(Xi(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?D1.createPortal(d.jsx(Xfe,{scope:t.__scopeSelect,children:d.jsx(nI.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(Zfe,{...t,ref:e})});Kfe.displayName=C1;var Jl=10,[Xfe,gm]=Nw(C1),oWe="SelectContentImpl",cWe=p1("SelectContent.RemoveScroll"),Zfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:k,...C}=t,I=mm(C1,r),[_,O]=B.useState(null),[F,D]=B.useState(null),j=yr(e,Z=>O(Z)),[T,R]=B.useState(null),[q,$]=B.useState(null),b=sI(r),[w,p]=B.useState(!1),g=B.useRef(!1);B.useEffect(()=>{if(_)return GB(_)},[_]),YB();const S=B.useCallback(Z=>{const[re,...G]=b().map(ce=>ce.ref.current),[z]=G.slice(-1),se=document.activeElement;for(const ce of Z)if(ce===se||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===re&&F&&(F.scrollTop=0),ce===z&&F&&(F.scrollTop=F.scrollHeight),ce==null||ce.focus(),document.activeElement!==se))return},[b,F]),N=B.useCallback(()=>S([T,_]),[S,T,_]);B.useEffect(()=>{w&&N()},[w,N]);const{onOpenChange:P,triggerPointerDownPosRef:A}=I;B.useEffect(()=>{if(_){let Z={x:0,y:0};const re=z=>{var se,ce;Z={x:Math.abs(Math.round(z.pageX)-(((se=A.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(z.pageY)-(((ce=A.current)==null?void 0:ce.y)??0))}},G=z=>{Z.x<=10&&Z.y<=10?z.preventDefault():_.contains(z.target)||P(!1),document.removeEventListener("pointermove",re),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",G,{capture:!0})}}},[_,P,A]),B.useEffect(()=>{const Z=()=>P(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[P]);const[v,E]=fhe(Z=>{const re=b().filter(se=>!se.disabled),G=re.find(se=>se.ref.current===document.activeElement),z=hhe(re,Z,G);z&&setTimeout(()=>z.ref.current.focus())}),M=B.useCallback((Z,re,G)=>{const z=!g.current&&!G;(I.value!==void 0&&I.value===re||z)&&(R(Z),z&&(g.current=!0))},[I.value]),L=B.useCallback(()=>_==null?void 0:_.focus(),[_]),Q=B.useCallback((Z,re,G)=>{const z=!g.current&&!G;(I.value!==void 0&&I.value===re||z)&&$(Z)},[I.value]),U=n==="popper"?u$:Jfe,J=U===u$?{side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:k}:{};return d.jsx(Xfe,{scope:r,content:_,viewport:F,onViewportChange:D,itemRefCallback:M,selectedItem:T,onItemLeave:L,itemTextRefCallback:Q,focusSelectedItem:N,selectedItemText:q,position:n,isPositioned:w,searchRef:v,children:d.jsx(WP,{as:cWe,allowPinchZoom:!0,children:d.jsx(VP,{asChild:!0,trapped:I.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Ct(s,Z=>{var re;(re=I.trigger)==null||re.focus({preventScroll:!0}),Z.preventDefault()}),children:d.jsx(tw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:d.jsx(U,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:Z=>Z.preventDefault(),...C,...J,onPlaced:()=>p(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ct(C.onKeyDown,Z=>{const re=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!re&&Z.key.length===1&&E(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let z=b().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const se=Z.target,ce=z.indexOf(se);z=z.slice(ce+1)}setTimeout(()=>S(z)),Z.preventDefault()}})})})})})})});Zfe.displayName=oWe;var lWe="SelectItemAlignedPosition",Jfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=mm(C1,r),a=gm(C1,r),[o,c]=B.useState(null),[l,u]=B.useState(null),f=yr(e,j=>u(j)),h=sI(r),m=B.useRef(!1),y=B.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:C,focusSelectedItem:I}=a,_=B.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&l&&x&&k&&C){const j=i.trigger.getBoundingClientRect(),T=l.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),q=C.getBoundingClientRect();if(i.dir!=="rtl"){const se=q.left-T.left,ce=R.left-se,pe=j.left-ce,_e=j.width+pe,ke=Math.max(_e,T.width),tt=window.innerWidth-Jl,mt=l$(ce,[Jl,Math.max(Jl,tt-ke)]);o.style.minWidth=_e+"px",o.style.left=mt+"px"}else{const se=T.right-q.right,ce=window.innerWidth-R.right-se,pe=window.innerWidth-j.right-ce,_e=j.width+pe,ke=Math.max(_e,T.width),tt=window.innerWidth-Jl,mt=l$(ce,[Jl,Math.max(Jl,tt-ke)]);o.style.minWidth=_e+"px",o.style.right=mt+"px"}const $=h(),b=window.innerHeight-Jl*2,w=x.scrollHeight,p=window.getComputedStyle(l),g=parseInt(p.borderTopWidth,10),S=parseInt(p.paddingTop,10),N=parseInt(p.borderBottomWidth,10),P=parseInt(p.paddingBottom,10),A=g+S+w+P+N,v=Math.min(k.offsetHeight*5,A),E=window.getComputedStyle(x),M=parseInt(E.paddingTop,10),L=parseInt(E.paddingBottom,10),Q=j.top+j.height/2-Jl,U=b-Q,J=k.offsetHeight/2,Z=k.offsetTop+J,re=g+S+Z,G=A-re;if(re<=Q){const se=$.length>0&&k===$[$.length-1].ref.current;o.style.bottom="0px";const ce=l.clientHeight-x.offsetTop-x.offsetHeight,pe=Math.max(U,J+(se?L:0)+ce+N),_e=re+pe;o.style.height=_e+"px"}else{const se=$.length>0&&k===$[0].ref.current;o.style.top="0px";const pe=Math.max(Q,g+x.offsetTop+(se?M:0)+J)+G;o.style.height=pe+"px",x.scrollTop=re-Q+x.offsetTop}o.style.margin=`${Jl}px 0`,o.style.minHeight=v+"px",o.style.maxHeight=b+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,l,x,k,C,i.dir,n]);Xi(()=>_(),[_]);const[O,F]=B.useState();Xi(()=>{l&&F(window.getComputedStyle(l).zIndex)},[l]);const D=B.useCallback(j=>{j&&y.current===!0&&(_(),I==null||I(),y.current=!1)},[_,I]);return d.jsx(dWe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:d.jsx(Qt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Jfe.displayName=lWe;var uWe="SelectPopperPosition",u$=B.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Jl,...i}=t,a=iI(r);return d.jsx(XB,{...a,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u$.displayName=uWe;var[dWe,dD]=Nw(C1,{}),d$="SelectViewport",Qfe=B.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=gm(d$,r),a=dD(d$,r),o=yr(e,i.onViewportChange),c=B.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(nI.Slot,{scope:r,children:d.jsx(Qt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ct(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-Jl*2,x=parseFloat(f.style.minHeight),k=parseFloat(f.style.height),C=Math.max(x,k);if(C<y){const I=C+m,_=Math.min(y,I),O=I-_;f.style.height=_+"px",f.style.bottom==="0px"&&(u.scrollTop=O>0?O:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Qfe.displayName=d$;var Yfe="SelectGroup",[fWe,hWe]=Nw(Yfe),pWe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Su();return d.jsx(fWe,{scope:r,id:s,children:d.jsx(Qt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});pWe.displayName=Yfe;var Gfe="SelectLabel",ehe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=hWe(Gfe,r);return d.jsx(Qt.div,{id:s.id,...n,ref:e})});ehe.displayName=Gfe;var yS="SelectItem",[mWe,the]=Nw(yS),rhe=B.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=t,o=mm(yS,r),c=gm(yS,r),l=o.value===n,[u,f]=B.useState(i??""),[h,m]=B.useState(!1),y=yr(e,I=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,I,n,s)}),x=Su(),k=B.useRef("touch"),C=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(mWe,{scope:r,value:n,disabled:s,textId:x,isSelected:l,onItemTextChange:B.useCallback(I=>{f(_=>_||((I==null?void 0:I.textContent)??"").trim())},[]),children:d.jsx(nI.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:d.jsx(Qt.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:Ct(a.onFocus,()=>m(!0)),onBlur:Ct(a.onBlur,()=>m(!1)),onClick:Ct(a.onClick,()=>{k.current!=="mouse"&&C()}),onPointerUp:Ct(a.onPointerUp,()=>{k.current==="mouse"&&C()}),onPointerDown:Ct(a.onPointerDown,I=>{k.current=I.pointerType}),onPointerMove:Ct(a.onPointerMove,I=>{var _;k.current=I.pointerType,s?(_=c.onItemLeave)==null||_.call(c):k.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(a.onPointerLeave,I=>{var _;I.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Ct(a.onKeyDown,I=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&I.key===" "||(eWe.includes(I.key)&&C(),I.key===" "&&I.preventDefault())})})})})});rhe.displayName=yS;var e3="SelectItemText",nhe=B.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,a=mm(e3,r),o=gm(e3,r),c=the(e3,r),l=sWe(e3,r),[u,f]=B.useState(null),h=yr(e,C=>f(C),c.onItemTextChange,C=>{var I;return(I=o.itemTextRefCallback)==null?void 0:I.call(o,C,c.value,c.disabled)}),m=u==null?void 0:u.textContent,y=B.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=l;return Xi(()=>(x(y),()=>k(y)),[x,k,y]),d.jsxs(d.Fragment,{children:[d.jsx(Qt.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?D1.createPortal(i.children,a.valueNode):null]})});nhe.displayName=e3;var she="SelectItemIndicator",ihe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return the(she,r).isSelected?d.jsx(Qt.span,{"aria-hidden":!0,...n,ref:e}):null});ihe.displayName=she;var f$="SelectScrollUpButton",ahe=B.forwardRef((t,e)=>{const r=gm(f$,t.__scopeSelect),n=dD(f$,t.__scopeSelect),[s,i]=B.useState(!1),a=yr(e,n.onScrollButtonChange);return Xi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollTop>0;i(l)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?d.jsx(che,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});ahe.displayName=f$;var h$="SelectScrollDownButton",ohe=B.forwardRef((t,e)=>{const r=gm(h$,t.__scopeSelect),n=dD(h$,t.__scopeSelect),[s,i]=B.useState(!1),a=yr(e,n.onScrollButtonChange);return Xi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?d.jsx(che,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});ohe.displayName=h$;var che=B.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=gm("SelectScrollButton",r),a=B.useRef(null),o=sI(r),c=B.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return B.useEffect(()=>()=>c(),[c]),Xi(()=>{var u;const l=o().find(f=>f.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),d.jsx(Qt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ct(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Ct(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Ct(s.onPointerLeave,()=>{c()})})}),gWe="SelectSeparator",lhe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(Qt.div,{"aria-hidden":!0,...n,ref:e})});lhe.displayName=gWe;var p$="SelectArrow",bWe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=iI(r),i=mm(p$,r),a=gm(p$,r);return i.open&&a.position==="popper"?d.jsx(ZB,{...s,...n,ref:e}):null});bWe.displayName=p$;function uhe(t){return t===""||t===void 0}var dhe=B.forwardRef((t,e)=>{const{value:r,...n}=t,s=B.useRef(null),i=yr(e,s),a=Yk(r);return B.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&u){const f=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(f)}},[a,r]),d.jsx(F4,{asChild:!0,children:d.jsx("select",{...n,ref:i,defaultValue:r})})});dhe.displayName="BubbleSelect";function fhe(t){const e=ls(t),r=B.useRef(""),n=B.useRef(0),s=B.useCallback(a=>{const o=r.current+a;e(o),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),i=B.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function hhe(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=yWe(t,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function yWe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var vWe=Ufe,phe=Lfe,xWe=Hfe,wWe=qfe,AWe=Wfe,mhe=Kfe,SWe=Qfe,ghe=ehe,bhe=rhe,PWe=nhe,kWe=ihe,yhe=ahe,vhe=ohe,xhe=lhe;const _1=vWe,Ux=xWe,tm=B.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(phe,{ref:n,className:jt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(wWe,{asChild:!0,children:d.jsx(are,{className:"h-4 w-4 opacity-50"})})]}));tm.displayName=phe.displayName;const whe=B.forwardRef(({className:t,...e},r)=>d.jsx(yhe,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(z2e,{className:"h-4 w-4"})}));whe.displayName=yhe.displayName;const Ahe=B.forwardRef(({className:t,...e},r)=>d.jsx(vhe,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(are,{className:"h-4 w-4"})}));Ahe.displayName=vhe.displayName;const rm=B.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>d.jsx(AWe,{children:d.jsxs(mhe,{ref:s,className:jt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(whe,{}),d.jsx(SWe,{className:jt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(Ahe,{})]})}));rm.displayName=mhe.displayName;const IWe=B.forwardRef(({className:t,...e},r)=>d.jsx(ghe,{ref:r,className:jt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));IWe.displayName=ghe.displayName;const ll=B.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(bhe,{ref:n,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(kWe,{children:d.jsx(Ma,{className:"h-4 w-4"})})}),d.jsx(PWe,{children:e})]}));ll.displayName=bhe.displayName;const NWe=B.forwardRef(({className:t,...e},r)=>d.jsx(xhe,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",t),...e}));NWe.displayName=xhe.displayName;var fD="Radio",[EWe,She]=Zi(fD),[CWe,_We]=EWe(fD),Phe=B.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:c,form:l,...u}=t,[f,h]=B.useState(null),m=yr(e,k=>h(k)),y=B.useRef(!1),x=f?l||!!f.closest("form"):!0;return d.jsxs(CWe,{scope:r,checked:s,disabled:a,children:[d.jsx(Qt.button,{type:"button",role:"radio","aria-checked":s,"data-state":Nhe(s),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:m,onClick:Ct(t.onClick,k=>{s||c==null||c(),x&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),x&&d.jsx(TWe,{control:f,bubbles:!y.current,name:n,value:o,checked:s,required:i,disabled:a,form:l,style:{transform:"translateX(-100%)"}})]})});Phe.displayName=fD;var khe="RadioIndicator",Ihe=B.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,i=_We(khe,r);return d.jsx(Ji,{present:n||i.checked,children:d.jsx(Qt.span,{"data-state":Nhe(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});Ihe.displayName=khe;var TWe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=B.useRef(null),a=Yk(r),o=RP(e);return B.useEffect(()=>{const c=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nhe(t){return t?"checked":"unchecked"}var jWe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hD="RadioGroup",[MWe,N6t]=Zi(hD,[kw,She]),Ehe=kw(),Che=She(),[$We,OWe]=MWe(hD),_he=B.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:c,dir:l,loop:u=!0,onValueChange:f,...h}=t,m=Ehe(r),y=Pw(l),[x,k]=Nu({prop:i,defaultProp:s,onChange:f});return d.jsx($We,{scope:r,name:n,required:a,disabled:o,value:x,onValueChange:k,children:d.jsx(tD,{asChild:!0,...m,orientation:c,dir:y,loop:u,children:d.jsx(Qt.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":o?"":void 0,dir:y,...h,ref:e})})})});_he.displayName=hD;var The="RadioGroupItem",jhe=B.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,i=OWe(The,r),a=i.disabled||n,o=Ehe(r),c=Che(r),l=B.useRef(null),u=yr(e,l),f=i.value===s.value,h=B.useRef(!1);return B.useEffect(()=>{const m=x=>{jWe.includes(x.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),d.jsx(rD,{asChild:!0,...o,focusable:!a,active:f,children:d.jsx(Phe,{disabled:a,required:i.required,checked:f,...c,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ct(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ct(s.onFocus,()=>{var m;h.current&&((m=l.current)==null||m.click())})})})});jhe.displayName=The;var BWe="RadioGroupIndicator",Mhe=B.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=Che(r);return d.jsx(Ihe,{...s,...n,ref:e})});Mhe.displayName=BWe;var $he=_he,Ohe=jhe,FWe=Mhe;const pD=B.forwardRef(({className:t,...e},r)=>d.jsx($he,{className:jt("grid gap-2",t),...e,ref:r}));pD.displayName=$he.displayName;const vS=B.forwardRef(({className:t,...e},r)=>d.jsx(Ohe,{ref:r,className:jt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(FWe,{className:"flex items-center justify-center",children:d.jsx(cre,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vS.displayName=Ohe.displayName;const Xm=AR;function Bhe(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:""}const Hs="https://cdn.jsdelivr.net/npm/cryptocurrency-icons@0.16.1/128/color",Sf="https://assets.coingecko.com/coins/images",l9={bitcoin:`${Hs}/btc.png`,ethereum:`${Hs}/eth.png`,tether:`${Hs}/usdt.png`,binancecoin:`${Hs}/bnb.png`,solana:`${Sf}/4128/small/solana.png`,"usd-coin":`${Hs}/usdc.png`,ripple:`${Hs}/xrp.png`,"staked-ether":`${Sf}/13442/small/steth_logo.png`,dogecoin:`${Hs}/doge.png`,cardano:`${Hs}/ada.png`,tron:`${Hs}/trx.png`,"avalanche-2":`${Sf}/12559/small/Avalanche_Circle_RedWhite_Trans.png`,"shiba-inu":`${Sf}/11939/small/shiba.png`,chainlink:`${Sf}/877/small/chainlink-new-logo.png`,"wrapped-bitcoin":`${Sf}/7598/small/wrapped_bitcoin_wbtc.png`,polkadot:`${Sf}/12171/small/polkadot.png`,"bitcoin-cash":`${Hs}/bch.png`,"matic-network":`${Hs}/matic.png`,litecoin:`${Hs}/ltc.png`,uniswap:`${Sf}/12504/small/uniswap.png`,cosmos:`${Hs}/atom.png`,osmosis:`${Sf}/16724/small/osmo.png`},CC={CAKE:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png",TWT:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png",BABY:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png",XVS:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png",USDT:`${Hs}/usdt.png`,USDC:`${Hs}/usdc.png`,BTC:`${Hs}/btc.png`,ETH:`${Hs}/eth.png`,BNB:`${Hs}/bnb.png`,SOL:"https://assets-cdn.trustwallet.com/blockchains/solana/info/logo.png",DOGE:`${Hs}/doge.png`},RWe={"tether-bsc":"tether","tether-tron":"tether","tether-ethereum":"tether","usd-coin-bsc":"usd-coin","usd-coin-ethereum":"usd-coin","usd-coin-solana":"usd-coin","staked-ether-ethereum":"staked-ether"};function xS(t,e){if(e&&e.trim())return e;if(l9[t])return l9[t];const r=RWe[t];if(r&&l9[r])return l9[r];const n=Dd.find(s=>s.id===t);if(n!=null&&n.image&&n.image.trim())return n.image}function u9(t){if(console.log("[ICON_DEBUG] Looking for icon for token:",t.symbol,"stored image:",t.image),t.image&&typeof t.image=="string"&&t.image.trim())return console.log(`[ICON_DEBUG]  Found stored image for ${t.symbol}:`,t.image),t.image;const e=t.symbol.toUpperCase().trim();if(console.log(`[ICON_DEBUG] Checking CUSTOM_TOKEN_LOGOS for symbol: "${e}"`),CC[e])return console.log(`[ICON_DEBUG]  Found in CUSTOM_TOKEN_LOGOS for ${e}:`,CC[e]),CC[e];const r=Dd.find(n=>n.symbol.toUpperCase().trim()===e);if(r!=null&&r.image&&r.image.trim())return console.log(`[ICON_DEBUG]  Found in FALLBACK_TOP_ASSETS for ${e}:`,r.image),r.image;console.log(`[ICON_DEBUG]  NO ICON found for symbol: "${e}"`)}function DWe({asset:t,wallet:e,chain:r,prices:n,tokenBalance:s}){const{toast:i}=Qs();Ou();const a=e&&r,o=t1[t.id],c=!!o,l=c?t.symbol.toUpperCase():(r==null?void 0:r.symbol)||t.symbol.toUpperCase(),u=c&&s?s:a?e.balance:"0",h=parseFloat(u)*(t.currentPrice||0),m=k=>{k.preventDefault(),k.stopPropagation(),e&&(navigator.clipboard.writeText(e.address),i({title:"Address Copied",description:"Wallet address copied to clipboard."}))},y=k=>{k.preventDefault(),k.stopPropagation(),r&&e&&window.open(`${r.blockExplorer}/address/${e.address}`,"_blank")},x=d.jsx(Gt,{className:"hover-elevate cursor-pointer transition-all h-full","data-testid":`card-asset-${t.id}`,children:d.jsxs(er,{className:"p-3 sm:p-4 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[xS(t.id,t.image)?d.jsx("img",{src:xS(t.id,t.image),alt:t.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:k=>{k.target.style.display="none"}}):r?d.jsx(Yn,{symbol:r.symbol,iconColor:r.iconColor,size:"md"}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted shrink-0"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold truncate",children:t.name}),d.jsxs("span",{className:`text-xs font-medium shrink-0 ${t.priceChangePercentage24h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[t.priceChangePercentage24h>=0?"+":"",t.priceChangePercentage24h.toFixed(1),"%"]})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.symbol.toUpperCase(),o&&d.jsxs("span",{className:"ml-1 opacity-70",children:["on ",o]})]})]})]}),d.jsx("div",{className:"text-right shrink-0",children:a?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold","data-testid":`text-value-${t.id}`,children:Sd(h)}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Xm(u)," ",l]})]}):d.jsx("p",{className:"text-sm text-muted-foreground",children:Sd(t.currentPrice)})})]}),a&&d.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[d.jsx("code",{className:"text-xs font-mono text-muted-foreground",children:Bhe(e.address)}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Te,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:m,"data-testid":`button-copy-${t.id}`,children:d.jsx(Oo,{className:"h-3 w-3"})}),r.blockExplorer&&d.jsx(Te,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:y,"data-testid":`button-explorer-${t.id}`,children:d.jsx(dx,{className:"h-3 w-3"})})]})]})]})});if(a){const k=c?`/wallet/${r.id}/token/${t.id}`:`/wallet/${r.id}/token/native`;return d.jsx(dl,{href:k,children:x})}return x}function UWe(){const{isConnected:t,isUnlocked:e,chains:r,wallets:n,refreshBalances:s,refreshWalletBalance:i,topAssets:a,enabledAssetIds:o,isLoadingAssets:c,refreshTopAssets:l,createAdditionalWallet:u,createWalletWithNewSeed:f,walletMode:h,isLoading:m,selectedAccountIndex:y,setSelectedAccountIndex:x,availableAccounts:k,visibleWallets:C,customTokens:I,balanceCacheStatus:_,hasSoftWalletSetup:O,hasHardWalletSetup:F,tokenBalances:D,customTokenBalances:j}=Yi(),{toast:T}=Qs(),[,R]=Ou(),q=yte(),$=new URLSearchParams(q),b=$.get("chain"),w=$.get("wallet"),[p,g]=B.useState({}),[S,N]=B.useState(!1),[P,A]=B.useState(""),[v,E]=B.useState(!1),[M,L]=B.useState(""),[Q,U]=B.useState("derive"),[J,Z]=B.useState(""),[re,G]=B.useState(!1),[z,se]=B.useState(""),[ce,pe]=B.useState(!1),[_e,ke]=B.useState(!0),[tt,mt]=B.useState("chains"),[we,We]=B.useState(null),[Ae,Oe]=B.useState(null);B.useEffect(()=>{if(!(r.length===0||C.length===0)&&b){const ae=r.find(ye=>ye.id===b);if(ae)if(We(ae),w){const ye=C.find(Le=>Le.id===w);ye?(Oe(ye),mt("tokens")):mt("wallets")}else mt("wallets")}},[b,w,r,C]);const[qe,Fe]=B.useState(!1);B.useState(null);const[ze,Ke]=B.useState(!1),[ct,Y]=B.useState(new Set),[V,W]=B.useState(!1),[ne,le]=B.useState({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""});B.useEffect(()=>{Hy().then(g);const ae=setInterval(()=>{Hy().then(g)},5e3);return()=>clearInterval(ae)},[]),B.useEffect(()=>{if(n.length===0)return;const ae=setInterval(()=>{Ae&&tt==="tokens"?i(Ae.id):s()},5e3);return()=>clearInterval(ae)},[n.length,s,i,Ae,tt]);const de=r,me=C,rt=a.filter(ae=>o.has(ae.id)),ht=ae=>{const ye=Ox[ae.id];if(ye){const ut=de.find(Se=>Se.symbol===ye);return ut?{wallet:me.find(Se=>Se.chainId===ut.id),chain:ut}:{}}const Le=zb[ae.id];if(!Le)return{};const Re=de.find(ut=>ut.symbol===Le);return Re?{wallet:me.find(ut=>ut.chainId===Re.id),chain:Re}:{}},ot=ae=>{const ye=Ox[ae.id];if(ye){const Le=de.find(Re=>Re.symbol===ye);return Le?me.some(Re=>Re.chainId===Le.id):!1}else{const{wallet:Le}=ht(ae);return!!Le}},St=[...[...rt.filter(ae=>{if(e&&me.length>0&&!ot(ae))return!1;if(!P.trim())return!0;const ye=P.toLowerCase();return ae.name.toLowerCase().includes(ye)||ae.symbol.toLowerCase().includes(ye)})].sort((ae,ye)=>{const Le=ht(ae),Re=ht(ye),$t=Q2(ae.id),ut=Q2(ye.id),Ot=$t&&D[ae.id]?parseFloat(D[ae.id])*(ae.currentPrice||0):Le.wallet&&Le.chain?Af(Le.wallet.balance,Le.chain.symbol,p):0,Se=ut&&D[ye.id]?parseFloat(D[ye.id])*(ye.currentPrice||0):Re.wallet&&Re.chain?Af(Re.wallet.balance,Re.chain.symbol,p):0;return Se!==Ot?Se-Ot:(ae.marketCapRank||999)-(ye.marketCapRank||999)})];if(Ae&&tt==="tokens"){const ae=I.filter(ye=>ye.walletId===Ae.id&&ye.chainId===(we==null?void 0:we.symbol));St.push(...ae)}else St.push(...I);const Rt=[...St].sort((ae,ye)=>{var Ot,Se;const Le="walletId"in ae,Re="walletId"in ye;let $t=0,ut=0;if(Le){const be=ae;$t=parseFloat(j[be.id]||"0")*(((Ot=a.find(Ee=>Ee.symbol.toUpperCase()===be.symbol.toUpperCase()))==null?void 0:Ot.currentPrice)||0)}else{const be=ae,Ee=ht(be);$t=Q2(be.id)&&D[be.id]?parseFloat(D[be.id])*(be.currentPrice||0):Ee.wallet&&Ee.chain?Af(Ee.wallet.balance,Ee.chain.symbol,p):0}if(Re){const be=ye;ut=parseFloat(j[be.id]||"0")*(((Se=a.find(Ee=>Ee.symbol.toUpperCase()===be.symbol.toUpperCase()))==null?void 0:Se.currentPrice)||0)}else{const be=ye,Ee=ht(be);ut=Q2(be.id)&&D[be.id]?parseFloat(D[be.id])*(be.currentPrice||0):Ee.wallet&&Ee.chain?Af(Ee.wallet.balance,Ee.chain.symbol,p):0}return ut-$t}),sr=me.reduce((ae,ye)=>{const Le=de.find(Re=>Re.id===ye.chainId);return Le?ae+Af(ye.balance,Le.symbol,p):ae},0),De=Object.entries(D).reduce((ae,[ye,Le])=>{const Re=a.find($t=>$t.id===ye);return Re?ae+parseFloat(Le)*(Re.currentPrice||0):ae},0),He=sr+De,gt=me.length>0,nt=B.useMemo(()=>{const ae=new Set(n.map(ye=>ye.chainId));return de.filter(ye=>ae.has(ye.id))},[de,n]),It=B.useMemo(()=>{const ae=new Set(n.map(ye=>ye.chainId));return de.filter(ye=>!ae.has(ye.id))},[de,n]),Ut=ae=>n.filter(Le=>Le.chainId===ae.id).reduce((Le,Re)=>Le+Af(Re.balance,ae.symbol,p),0),bt=B.useMemo(()=>we?n.filter(ae=>ae.chainId===we.id):[],[we,n]),Je=B.useMemo(()=>{if(!Ae||!we)return[];const ae=a.find(Re=>zb[Re.id]===we.symbol&&!t1[Re.id]),ye=a.filter(Re=>zb[Re.id]===we.symbol&&t1[Re.id]&&o.has(Re.id)),Le=[];return ae&&Le.push(ae),Le.push(...ye),Le},[Ae,we,a,o]),Pt=B.useMemo(()=>{if(!Ae||!we)return 0;const ae=Af(Ae.balance,we.symbol,p),ye=Object.entries(D).reduce((Le,[Re,$t])=>{const ut=a.find(Se=>Se.id===Re);return!ut||zb[Re]!==we.symbol?Le:Le+parseFloat($t)*(ut.currentPrice||0)},0);return ae+ye},[Ae,we,p,D,a]);B.useMemo(()=>{if(!we)return 0;const ae=Ut(we),ye=Object.entries(D).reduce((Le,[Re,$t])=>{const ut=a.find(Se=>Se.id===Re);return!ut||zb[Re]!==we.symbol?Le:Le+parseFloat($t)*(ut.currentPrice||0)},0);return ae+ye},[we,p,D,a,n]);const it=async()=>{N(!0);try{await Promise.all([s(),l(),Hy().then(g)]),T({title:"Refreshed",description:"Balances and prices updated"})}finally{N(!1)}},Tt=async()=>{try{if(Q==="derive")await u(M||void 0,we==null?void 0:we.id),E(!1),L(""),U("derive"),T({title:"Wallet Created",description:`New ${(we==null?void 0:we.name)||""} wallet has been created successfully`});else{if(!J||J.length!==5||!/^\d+$/.test(J)){T({title:"Error",description:"Please enter exactly 5 digits for your PIN",variant:"destructive"});return}const ae=await f(M||void 0,J);se(ae.seedPhrase),E(!1),G(!0),L(""),Z(""),U("derive")}}catch(ae){const ye=(ae==null?void 0:ae.message)||"Failed to create new wallet";T({title:"Error",description:ye,variant:"destructive"})}},X=ae=>{Oe(ae),mt("tokens")},ee=()=>{tt==="tokens"?(Oe(null),mt("wallets")):tt==="wallets"&&(We(null),Oe(null),mt("chains"))},te=ae=>{V||Y(ye=>{const Le=new Set(ye);return Le.has(ae)?Le.delete(ae):Le.add(ae),Le})},H=async()=>{if(ct.size!==0){if(!e){T({title:"Wallet Locked",description:"Please unlock your wallet first to add new networks.",variant:"destructive"});return}W(!0);try{const ae=Array.from(ct),ye=[],Le=[];for(const Re of ae)try{await u(void 0,Re),ye.push(Re)}catch{Le.push(Re)}if(ye.length>0&&(Y(Re=>{const $t=new Set(Re);return ye.forEach(ut=>$t.delete(ut)),$t}),navigator.vibrate&&navigator.vibrate([50,30,50]),T({title:"Chains Added",description:`${ye.length} chain${ye.length>1?"s have":" has"} been added to your wallet.`})),Le.length>0){const Re=Le.map($t=>{var ut;return(ut=de.find(Ot=>Ot.id===$t))==null?void 0:ut.name}).filter(Boolean).join(", ");navigator.vibrate&&navigator.vibrate([100,50,100]),T({title:"Some Chains Failed",description:`Failed to add: ${Re}. They remain selected for retry.`,variant:"destructive"})}}catch(ae){navigator.vibrate&&navigator.vibrate([100,50,100]),T({title:"Error",description:(ae==null?void 0:ae.message)||"Failed to add chains",variant:"destructive"})}finally{W(!1)}}},ie=async()=>{try{T({title:"Coming Soon",description:"Custom chain support will be available in a future update."}),Ke(!1),le({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""})}catch(ae){T({title:"Error",description:(ae==null?void 0:ae.message)||"Failed to add custom chain",variant:"destructive"})}};return(h==="hard_wallet"?!t:!gt&&!(h==="soft_wallet"?O:F))?d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"mb-4 md:mb-6 text-2xl md:text-3xl font-bold",children:"Dashboard"}),d.jsx(h5,{})]}):h==="soft_wallet"?d.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[tt!=="chains"&&d.jsxs("div",{className:"shrink-0 bg-background",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:ee,className:"text-muted-foreground hover:text-foreground","data-testid":"button-back",children:d.jsx(U2e,{className:"h-5 w-5"})}),d.jsxs("span",{className:"font-semibold",children:[tt==="wallets"&&`${we==null?void 0:we.name}`,tt==="tokens"&&`${we==null?void 0:we.name} Wallet`]})]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:it,disabled:S||_.isRefreshing,"data-testid":"button-refresh-portfolio",children:d.jsx(m1,{className:`h-4 w-4 ${S||_.isRefreshing?"animate-spin":""}`})})]}),tt!=="tokens"&&d.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-2 bg-muted/40 text-sm border-y",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("button",{onClick:()=>{mt("chains"),We(null),Oe(null)},className:"text-muted-foreground hover:text-foreground","data-testid":"breadcrumb-chains",children:"Chains"}),we&&d.jsxs(d.Fragment,{children:[d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground shrink-0"}),tt==="tokens"?d.jsxs(_1,{value:we.id,onValueChange:ae=>{const ye=nt.find(Le=>Le.id===ae);ye&&(We(ye),Oe(null),mt("wallets"))},children:[d.jsx(tm,{className:"h-auto text-sm border-0 bg-transparent px-0 py-0 gap-1 w-auto","data-testid":"select-chain-dropdown",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"sm"}),d.jsx("span",{children:we.name})]})}),d.jsx(rm,{children:nt.map(ae=>d.jsx(ll,{value:ae.id,"data-testid":`select-chain-option-${ae.symbol}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"sm"}),d.jsx("span",{children:ae.name})]})},ae.id))})]}):d.jsxs("button",{onClick:()=>{mt("wallets"),Oe(null)},className:`flex items-center gap-2 ${tt==="wallets"?"font-medium text-foreground":"text-muted-foreground hover:text-foreground"}`,"data-testid":"breadcrumb-wallets",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"sm"}),we.name]})]}),Ae&&d.jsxs(d.Fragment,{children:[d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground shrink-0"}),d.jsx("span",{className:"font-medium text-foreground","data-testid":"breadcrumb-tokens",children:"Tokens"})]})]}),tt==="wallets"&&we&&d.jsxs(es,{open:v,onOpenChange:E,children:[d.jsx(qy,{asChild:!0,children:d.jsxs(Te,{size:"sm",className:"gap-2 flex-shrink-0","data-testid":"button-create-chain-wallet",children:[d.jsx(_d,{className:"h-4 w-4"}),d.jsx("span",{children:"Add Wallet"})]})}),d.jsxs(Hn,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[d.jsxs(qn,{className:"pb-2",children:[d.jsxs(Wn,{className:"text-base",children:["Create ",we.name," Wallet"]}),d.jsxs(Kn,{className:"text-xs",children:["Create a new wallet for ",we.name,"."]})]}),d.jsxs("div",{className:"py-2 space-y-3",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"wallet-label",className:"text-sm",children:"Wallet Label (optional)"}),d.jsx(ar,{id:"wallet-label",placeholder:"e.g., Savings, Trading, DeFi",value:M,onChange:ae=>L(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-wallet-label"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{className:"text-sm",children:"Wallet Type"}),d.jsxs(pD,{value:Q,onValueChange:ae=>U(ae),className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 rounded-md border",children:[d.jsx(vS,{value:"derive",id:"derive",className:"mt-0.5","data-testid":"radio-derive"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(Zt,{htmlFor:"derive",className:"text-sm font-medium cursor-pointer",children:"Derive from existing seed"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Uses your main seed phrase with a new account index."})]})]}),d.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 rounded-md border",children:[d.jsx(vS,{value:"new-seed",id:"new-seed",className:"mt-0.5","data-testid":"radio-new-seed"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(Zt,{htmlFor:"new-seed",className:"text-sm font-medium cursor-pointer",children:"Generate new seed phrase"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Creates a completely independent wallet with its own seed phrase."})]})]})]}),Q==="new-seed"&&d.jsxs("div",{className:"space-y-3 pt-2 border-t mt-3",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"seed-wallet-name",className:"text-sm",children:"Wallet Name"}),d.jsx(ar,{id:"seed-wallet-name",placeholder:"e.g., My Savings Wallet",value:M,onChange:ae=>L(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-seed-wallet-name"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"seed-pin",className:"text-sm",children:"PIN for new seed (5 digits)"}),d.jsx(ar,{id:"seed-pin",type:"password",placeholder:"Enter PIN to encrypt new seed",value:J,onChange:ae=>Z(ae.target.value),className:"mt-1.5 h-9","data-testid":"input-seed-pin"})]})]})]})]}),d.jsxs(Ss,{className:"flex-col sm:flex-row gap-2 pt-2",children:[d.jsx(Te,{variant:"outline",size:"sm",className:"w-full sm:w-auto order-2 sm:order-1",onClick:()=>{E(!1),U("derive"),Z("")},children:"Cancel"}),d.jsx(Te,{size:"sm",className:"w-full sm:w-auto order-1 sm:order-2",onClick:Tt,disabled:m,"data-testid":"button-confirm-create-wallet",children:m?"Creating...":"Create Wallet"})]})]})]})]})]}),d.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[tt!=="tokens"&&d.jsx("div",{className:"hidden md:flex w-20 flex-col min-h-0",children:d.jsx("div",{className:"flex-1 overflow-y-auto py-2 scrollbar-hide",style:{overscrollBehavior:"contain",scrollbarWidth:"none",msOverflowStyle:"none"},children:nt.map(ae=>d.jsx("div",{className:`p-3 cursor-pointer flex justify-center hover-elevate ${(we==null?void 0:we.id)===ae.id?"bg-muted border-r-2 border-primary":""}`,onClick:()=>{We(ae),Oe(null),mt("wallets")},"data-testid":`chain-icon-${ae.symbol}`,children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"lg"})},ae.id))})}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 sm:p-4 pb-44 md:pb-4",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:we?tt==="wallets"?d.jsx("div",{className:"space-y-4",children:bt.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(Cy,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsxs("p",{className:"text-muted-foreground",children:["No wallets for ",we.name]})]})}):bt.map((ae,ye)=>{const Le=Af(ae.balance,we.symbol,p);return d.jsx(Gt,{className:"hover-elevate cursor-pointer border bg-background",onClick:()=>X(ae),"data-testid":`card-wallet-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-sm",children:ae.label||(ye===0?"Main Wallet":`Wallet ${ye+1}`)}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:Bhe(ae.address)})]})]}),d.jsxs("div",{className:"flex-shrink-0 text-right",children:[d.jsx("p",{className:"font-semibold text-sm",children:Sd(Le)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[Xm(ae.balance)," ",we.symbol]})]}),d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})},ae.id)})}):tt==="tokens"&&Ae?d.jsxs("div",{className:"space-y-3",children:[d.jsx(Gt,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:d.jsx(er,{className:"p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Main Wallet Balance"}),d.jsx("p",{className:"text-3xl font-bold",children:Sd(Pt)}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Xm(Ae.balance)," ",we.symbol]})]}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs(Te,{className:"gap-2 flex-1 sm:flex-none",onClick:()=>R(`/transfer?chain=${we.id}`),"data-testid":"button-send",children:[d.jsx(lx,{className:"h-4 w-4"}),"Send"]}),d.jsxs(Te,{variant:"outline",className:"gap-2 flex-1 sm:flex-none",onClick:()=>R(`/transfer?chain=${we.id}&type=receive`),"data-testid":"button-receive",children:[d.jsx(n6,{className:"h-4 w-4"}),"Receive"]})]})]})})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:_e?"default":"outline",className:"flex-1",onClick:()=>ke(!0),"data-testid":"button-toggle-assets",children:"Assets"}),d.jsx(Te,{variant:_e?"outline":"default",className:"flex-1",onClick:()=>ke(!1),"data-testid":"button-toggle-nft",children:"NFT"})]}),_e&&d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/native`),"data-testid":"card-token-native",children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Yn,{symbol:we.symbol,iconColor:we.iconColor,size:"lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold",children:we.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:we.symbol})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-semibold",children:Sd(Af(Ae.balance,we.symbol,p))}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Xm(Ae.balance)," ",we.symbol]})]})]})})}),_e&&Je.filter(ae=>t1[ae.id]).map(ae=>{const ye=D[ae.id]||"0",Re=parseFloat(ye)*(ae.currentPrice||0);return d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/${ae.id}`),"data-testid":`card-token-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[xS(ae.id,ae.image)?d.jsx("img",{src:xS(ae.id,ae.image),alt:ae.name,className:"h-10 w-10 rounded-full bg-muted",onError:$t=>{$t.target.style.display="none"}}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center text-sm font-semibold",children:ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold",children:ae.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:ae.symbol.toUpperCase()})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-semibold",children:Sd(Re)}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Xm(ye)," ",ae.symbol.toUpperCase()]})]})]})})},ae.id)}),_e&&h==="soft_wallet"&&I.filter(ae=>ae.chainId===we.symbol&&(!ae.walletId||ae.walletId===Ae.id)).map(ae=>{const ye=j[ae.id]||"0";return d.jsx(Gt,{className:"cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>R(`/wallet/${we.id}/token/${ae.id}`),"data-testid":`card-custom-token-${ae.id}`,children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[u9(ae)?d.jsx("img",{src:u9(ae),alt:ae.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:Le=>{Le.target.style.display="none"}}):null,d.jsx("div",{className:`h-10 w-10 rounded-full bg-muted flex items-center justify-center text-sm font-semibold shrink-0 ${u9(ae)?"hidden":""}`,children:ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("h3",{className:"font-semibold",children:ae.name}),d.jsx(nr,{variant:"outline",className:"text-xs",children:"Custom"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:ae.symbol})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-semibold",children:[Xm(ye)," ",ae.symbol]})})]})})},ae.id)}),h==="soft_wallet"&&d.jsx("div",{className:"pt-2",children:d.jsx(dl,{href:`/manage-crypto?chain=${we.symbol}&wallet=${Ae.id}`,children:d.jsxs(Te,{variant:"outline",className:"w-full justify-start gap-3 h-14","data-testid":"button-add-custom-token",children:[d.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:d.jsx(_d,{className:"h-4 w-4"})}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("p",{className:"font-semibold text-sm",children:"Add Custom Token"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:we.symbol==="ETH"?"Import ERC-20 tokens":we.symbol==="BNB"?"Import BEP-20 tokens":we.symbol==="MATIC"?"Import Polygon tokens":we.symbol==="ARB"?"Import Arbitrum tokens":we.symbol==="TRX"?"Import TRC-20 tokens":`Import ${we.name} tokens`})]})]})})})]}):null:d.jsxs("div",{className:"space-y-6",children:[m&&r.length===0&&d.jsxs("div",{children:[d.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse mb-3"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[1,2,3,4,5,6].map(ae=>d.jsx(Gt,{"data-testid":`skeleton-chain-${ae}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsx(Yc,{className:"h-10 w-10 rounded-full"}),d.jsx(Yc,{className:"h-3 w-16"}),d.jsx(Yc,{className:"h-3 w-12"})]})},ae))})]}),!m&&nt.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm py-3 -mx-4 px-4 border-b mb-4",children:[d.jsx("h3",{className:"font-bold text-base tracking-tight","data-testid":"text-your-chains",children:"Your Chains"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[nt.length," network",nt.length!==1?"s":""," active"]})]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:nt.slice(0,qe?void 0:8).map((ae,ye)=>d.jsx(Gt,{className:"hover-elevate cursor-pointer relative transition-all duration-200 active:scale-[0.98]",onClick:()=>{navigator.vibrate&&navigator.vibrate(10),We(ae),Oe(null),mt("wallets")},"data-testid":`card-chain-${ae.symbol}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted/50 flex items-center justify-center",children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"md"})}),d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-4 w-4 rounded-full bg-green-500 dark:bg-green-500 flex items-center justify-center ring-2 ring-background",children:d.jsx(Ma,{className:"h-2.5 w-2.5 text-white"})})]}),d.jsx("div",{className:"text-center w-full",children:d.jsx("span",{className:"text-xs font-semibold block truncate",children:ae.name})})]})},ae.id))}),nt.length>6&&d.jsxs(Te,{variant:"ghost",className:"w-full mt-3",onClick:()=>Fe(!qe),"data-testid":"button-view-all-chains",children:[qe?"Show Less":`View All ${nt.length} Chains`,d.jsx(Ap,{className:`h-4 w-4 ml-1 transition-transform ${qe?"rotate-90":""}`})]})]}),!m&&nt.length===0&&It.length>0&&d.jsxs("div",{className:"text-center py-10 px-6 bg-gradient-to-b from-primary/5 to-transparent rounded-xl border border-dashed border-primary/20","data-testid":"empty-state-no-chains",children:[d.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(Cy,{className:"h-8 w-8 text-primary"})}),d.jsx("p",{className:"font-semibold text-lg text-foreground mb-1",children:"Get Started"}),d.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:"Select the blockchain networks you want to add to your wallet"})]}),!m&&It.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm py-3 -mx-4 px-4 border-b mb-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-base tracking-tight","data-testid":"text-add-new-chain",children:"Add Networks"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[It.length," available"]})]}),ct.size>0&&d.jsxs(nr,{variant:"secondary",className:"cursor-pointer",onClick:()=>!V&&Y(new Set),"data-testid":"button-clear-selection",children:[ct.size," selected"]})]})}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:It.map(ae=>{const ye=ct.has(ae.id);return d.jsx(Gt,{className:`cursor-pointer transition-all duration-200 active:scale-[0.98] ${ye?"ring-2 ring-primary shadow-md shadow-primary/10":"hover-elevate"} ${V?"opacity-50 pointer-events-none":""}`,onClick:()=>{navigator.vibrate&&navigator.vibrate(10),te(ae.id)},"data-testid":`card-add-chain-${ae.symbol}`,children:d.jsxs(er,{className:"p-3 flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center transition-colors ${ye?"bg-primary/10":"bg-muted/50"}`,children:d.jsx(Yn,{symbol:ae.symbol,iconColor:ae.iconColor,size:"md"})}),ye&&d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-4 w-4 rounded-full bg-primary flex items-center justify-center ring-2 ring-background",children:d.jsx(Ma,{className:"h-2.5 w-2.5 text-primary-foreground"})})]}),d.jsxs("div",{className:"text-center w-full",children:[d.jsx("span",{className:"text-xs font-semibold block truncate",children:ae.name}),d.jsx("span",{className:`text-[10px] mt-0.5 block ${ye?"text-primary font-medium":"text-muted-foreground"}`,children:ye?"Selected":"Tap to add"})]})]})},ae.id)})})]}),!m&&nt.length===0&&It.length===0&&d.jsxs("div",{className:"text-center py-12","data-testid":"empty-state-no-available",children:[d.jsx(Cy,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"No chains available"})]}),d.jsx("div",{className:"mt-6 mb-4",children:d.jsxs("div",{className:"p-4 space-y-2",children:[ct.size>0&&d.jsx(Te,{className:"w-full h-12 text-base font-semibold rounded-xl shadow-lg shadow-primary/20",onClick:H,disabled:V,"data-testid":"button-confirm-chains",children:V?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-5 w-5 mr-2 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Adding ",ct.size," Network",ct.size>1?"s":"","..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ma,{className:"h-5 w-5 mr-2"}),"Add ",ct.size," Network",ct.size>1?"s":""]})}),d.jsxs(es,{open:ze,onOpenChange:Ke,children:[d.jsx(qy,{asChild:!0,children:d.jsxs(Te,{className:`w-full ${ct.size>0?"h-10":"h-12 text-base font-semibold rounded-xl"}`,variant:ct.size>0?"ghost":"outline","data-testid":"button-add-custom-chain",children:[d.jsx(_d,{className:"h-4 w-4 mr-2"}),"Add Custom Network"]})}),d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Add Custom Chain"}),d.jsx(Kn,{children:"Enter the details for your custom blockchain network."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-name",children:"Chain Name"}),d.jsx(ar,{id:"custom-chain-name",placeholder:"e.g., My Network",value:ne.name,onChange:ae=>le({...ne,name:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-name"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-rpc",children:"RPC URL"}),d.jsx(ar,{id:"custom-chain-rpc",placeholder:"https://rpc.example.com",value:ne.rpcUrl,onChange:ae=>le({...ne,rpcUrl:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-rpc"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-id",children:"Chain ID"}),d.jsx(ar,{id:"custom-chain-id",placeholder:"e.g., 1",type:"number",value:ne.chainId,onChange:ae=>le({...ne,chainId:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-id"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-symbol",children:"Currency Symbol"}),d.jsx(ar,{id:"custom-chain-symbol",placeholder:"e.g., ETH",value:ne.symbol,onChange:ae=>le({...ne,symbol:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-symbol"})]}),d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"custom-chain-explorer",children:"Block Explorer URL (optional)"}),d.jsx(ar,{id:"custom-chain-explorer",placeholder:"https://explorer.example.com",value:ne.explorerUrl,onChange:ae=>le({...ne,explorerUrl:ae.target.value}),className:"mt-1","data-testid":"input-custom-chain-explorer"})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{Ke(!1),le({name:"",rpcUrl:"",chainId:"",symbol:"",explorerUrl:""})},children:"Cancel"}),d.jsx(Te,{onClick:ie,disabled:!ne.name||!ne.rpcUrl||!ne.chainId||!ne.symbol,"data-testid":"button-save-custom-chain",children:"Add Chain"})]})]})]})]})})]})})]}),d.jsx(es,{open:re,onOpenChange:ae=>{!ae&&!ce||(G(ae),ae||(se(""),pe(!1)))},children:d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Your New Seed Phrase"}),d.jsx(Kn,{children:"Write down these 12 words and store them securely."})]}),d.jsx("div",{className:"p-4 bg-muted rounded-md font-mono text-sm break-words","data-testid":"text-seed-phrase",children:z}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsx(wh,{id:"seed-confirmed",checked:ce,onCheckedChange:ae=>pe(!!ae),"data-testid":"checkbox-seed-confirmed"}),d.jsx(Zt,{htmlFor:"seed-confirmed",className:"cursor-pointer",children:"I have written down my seed phrase"})]}),d.jsx(Ss,{children:d.jsx(Te,{disabled:!ce,onClick:()=>{G(!1),se(""),pe(!1),T({title:"Wallet Created",description:"New wallet with independent seed created"})},"data-testid":"button-seed-done",children:"Done"})})]})})]}):d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-4 md:mb-6 flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Dashboard"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(mqe,{})})]}),d.jsx(Gt,{className:"mb-4 md:mb-6",children:d.jsxs(er,{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Hard Wallet Portfolio"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[_.isStale&&_.lastUpdated&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["Updated ",At.getCacheAge(_.lastUpdated)]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:it,disabled:S||_.isRefreshing,"data-testid":"button-refresh-portfolio",children:d.jsx(m1,{className:`h-4 w-4 ${S||_.isRefreshing?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"flex flex-wrap items-baseline gap-4",children:[d.jsx("h2",{className:"text-2xl md:text-4xl font-bold","data-testid":"text-portfolio-value",children:Sd(He)}),_.isRefreshing&&d.jsx("span",{className:"text-xs text-muted-foreground animate-pulse",children:"Refreshing..."})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Your Assets"}),d.jsxs(es,{open:v,onOpenChange:E,children:[d.jsx(qy,{asChild:!0,children:d.jsx(Te,{size:"icon",variant:"ghost","data-testid":"button-create-wallet",children:d.jsx(_d,{className:"h-4 w-4"})})}),d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Create New Wallet"}),d.jsx(Kn,{children:"Create an additional wallet for your portfolio."})]}),d.jsx("div",{className:"py-4 space-y-4",children:d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"wallet-label",children:"Wallet Label (optional)"}),d.jsx(ar,{id:"wallet-label",placeholder:"e.g., Savings, Trading, DeFi",value:M,onChange:ae=>L(ae.target.value),className:"mt-2","data-testid":"input-wallet-label"})]})}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{E(!1),U("derive"),Z("")},children:"Cancel"}),d.jsx(Te,{onClick:Tt,disabled:m,"data-testid":"button-confirm-create-wallet",children:m?"Creating...":"Create Wallet"})]})]})]}),d.jsx(es,{open:re,onOpenChange:ae=>{!ae&&!ce||(G(ae),ae||(se(""),pe(!1)))},children:d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Your New Seed Phrase"}),d.jsx(Kn,{children:"Write down these 12 words and store them securely. You will need them to recover this wallet."})]}),d.jsx("div",{className:"p-4 bg-muted rounded-md font-mono text-sm break-words","data-testid":"text-seed-phrase",children:z}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsx(wh,{id:"seed-confirmed",checked:ce,onCheckedChange:ae=>pe(!!ae),"data-testid":"checkbox-seed-confirmed"}),d.jsx(Zt,{htmlFor:"seed-confirmed",className:"cursor-pointer",children:"I have written down my seed phrase"})]}),d.jsx(Ss,{children:d.jsx(Te,{disabled:!ce,onClick:()=>{G(!1),se(""),pe(!1),T({title:"Wallet Created",description:"New wallet with independent seed created"})},"data-testid":"button-seed-done",children:"Done"})})]})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(pre,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{placeholder:"Search assets...",value:P,onChange:ae=>A(ae.target.value),className:"pl-8 h-8 w-40 sm:w-48","data-testid":"input-search-assets"})]}),d.jsx(Te,{variant:"ghost",size:"sm",asChild:!0,children:d.jsxs(dl,{href:"/manage-crypto",children:[d.jsx(a6,{className:"mr-1 h-4 w-4"}),"Manage"]})}),d.jsx(Te,{variant:"ghost",size:"sm",asChild:!0,children:d.jsxs(dl,{href:"/chains",children:["View All",d.jsx(lx,{className:"ml-1 h-4 w-4"})]})})]})]}),c?d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(ae=>d.jsx(Gt,{children:d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Yc,{className:"h-8 w-8 rounded-full"}),d.jsxs("div",{children:[d.jsx(Yc,{className:"h-4 w-20 mb-1"}),d.jsx(Yc,{className:"h-3 w-12"})]})]}),d.jsx(Yc,{className:"h-4 w-24 mt-4"}),d.jsx(Yc,{className:"h-6 w-32 mt-2"}),d.jsx(Yc,{className:"h-10 w-full mt-4"})]})},ae))}):Rt.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(a6,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"No assets enabled"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1 mb-4",children:"Enable assets to track in Manage Crypto"}),d.jsx(Te,{variant:"outline",size:"sm",asChild:!0,children:d.jsx(dl,{href:"/manage-crypto",children:"Manage Crypto"})})]})}):d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Rt.map(ae=>{var Le;if("walletId"in ae){const Re=ae,$t=j[Re.id]||"0",ut=((Le=a.find(Se=>Se.symbol.toUpperCase()===Re.symbol.toUpperCase()))==null?void 0:Le.currentPrice)||0,Ot=parseFloat($t)*ut;return d.jsx(Gt,{className:"hover-elevate cursor-pointer transition-all h-full","data-testid":`card-custom-token-${Re.id}`,children:d.jsx(er,{className:"p-3 sm:p-4 flex flex-col h-full",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(()=>{const Se=u9(Re);return Se&&Se.trim()?d.jsx("img",{src:Se,alt:Re.name,className:"h-10 w-10 rounded-full bg-muted shrink-0",onError:be=>{be.target.style.display="none"}}):d.jsx("div",{className:"h-10 w-10 rounded-full bg-muted shrink-0 flex items-center justify-center text-xs font-semibold",children:Re.symbol.slice(0,2).toUpperCase()})})(),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-semibold truncate text-sm",children:Re.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Re.symbol.toUpperCase()})]})]}),d.jsxs("div",{className:"text-right shrink-0",children:[d.jsx("p",{className:"font-semibold text-sm","data-testid":`text-value-${Re.id}`,children:Sd(Ot)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[Xm($t)," ",Re.symbol.toUpperCase()]})]})]})})},Re.id)}else{const Re=ae,{wallet:$t,chain:ut}=ht(Re);return d.jsx(DWe,{asset:Re,wallet:$t,chain:ut,prices:p,tokenBalance:D[Re.id]},Re.id)}})})]})]})}var zWe=Object.defineProperty,wS=Object.getOwnPropertySymbols,Fhe=Object.prototype.hasOwnProperty,Rhe=Object.prototype.propertyIsEnumerable,RK=(t,e,r)=>e in t?zWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,m$=(t,e)=>{for(var r in e||(e={}))Fhe.call(e,r)&&RK(t,r,e[r]);if(wS)for(var r of wS(e))Rhe.call(e,r)&&RK(t,r,e[r]);return t},g$=(t,e)=>{var r={};for(var n in t)Fhe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&wS)for(var n of wS(t))e.indexOf(n)<0&&Rhe.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var T1;(t=>{const e=class Mr{constructor(c,l,u,f){if(this.version=c,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],c<Mr.MIN_VERSION||c>Mr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let y=0;y<this.size;y++)h.push(!1);for(let y=0;y<this.size;y++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(u);if(this.drawCodewords(m),f==-1){let y=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const k=this.getPenaltyScore();k<y&&(f=x,y=k),this.applyMask(x)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,l){const u=t.QrSegment.makeSegments(c);return Mr.encodeSegments(u,l)}static encodeBinary(c,l){const u=t.QrSegment.makeBytes(c);return Mr.encodeSegments([u],l)}static encodeSegments(c,l,u=1,f=40,h=-1,m=!0){if(!(Mr.MIN_VERSION<=u&&u<=f&&f<=Mr.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let y,x;for(y=u;;y++){const _=Mr.getNumDataCodewords(y,l)*8,O=a.getTotalBits(c,y);if(O<=_){x=O;break}if(y>=f)throw new RangeError("Data too long")}for(const _ of[Mr.Ecc.MEDIUM,Mr.Ecc.QUARTILE,Mr.Ecc.HIGH])m&&x<=Mr.getNumDataCodewords(y,_)*8&&(l=_);let k=[];for(const _ of c){r(_.mode.modeBits,4,k),r(_.numChars,_.mode.numCharCountBits(y),k);for(const O of _.getData())k.push(O)}s(k.length==x);const C=Mr.getNumDataCodewords(y,l)*8;s(k.length<=C),r(0,Math.min(4,C-k.length),k),r(0,(8-k.length%8)%8,k),s(k.length%8==0);for(let _=236;k.length<C;_^=253)r(_,8,k);let I=[];for(;I.length*8<k.length;)I.push(0);return k.forEach((_,O)=>I[O>>>3]|=_<<7-(O&7)),new Mr(y,l,I,h)}getModule(c,l){return 0<=c&&c<this.size&&0<=l&&l<this.size&&this.modules[l][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),l=c.length;for(let u=0;u<l;u++)for(let f=0;f<l;f++)u==0&&f==0||u==0&&f==l-1||u==l-1&&f==0||this.drawAlignmentPattern(c[u],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const l=this.errorCorrectionLevel.formatBits<<3|c;let u=l;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const f=(l<<10|u)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const l=this.version<<12|c;s(l>>>18==0);for(let u=0;u<18;u++){const f=n(l,u),h=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,l){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(u)),m=c+f,y=l+u;0<=m&&m<this.size&&0<=y&&y<this.size&&this.setFunctionModule(m,y,h!=2&&h!=4)}}drawAlignmentPattern(c,l){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,l+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(c,l,u){this.modules[l][c]=u,this.isFunction[l][c]=!0}addEccAndInterleave(c){const l=this.version,u=this.errorCorrectionLevel;if(c.length!=Mr.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const f=Mr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],h=Mr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],m=Math.floor(Mr.getNumRawDataModules(l)/8),y=f-m%f,x=Math.floor(m/f);let k=[];const C=Mr.reedSolomonComputeDivisor(h);for(let _=0,O=0;_<f;_++){let F=c.slice(O,O+x-h+(_<y?0:1));O+=F.length;const D=Mr.reedSolomonComputeRemainder(F,C);_<y&&F.push(0),k.push(F.concat(D))}let I=[];for(let _=0;_<k[0].length;_++)k.forEach((O,F)=>{(_!=x-h||F>=y)&&I.push(O[_])});return s(I.length==m),I}drawCodewords(c){if(c.length!=Math.floor(Mr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=u-h,x=(u+1&2)==0?this.size-1-f:f;!this.isFunction[x][m]&&l<c.length*8&&(this.modules[x][m]=n(c[l>>>3],7-(l&7)),l++)}}s(l==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let f;switch(c){case 0:f=(u+l)%2==0;break;case 1:f=l%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+l)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:f=u*l%2+u*l%3==0;break;case 6:f=(u*l%2+u*l%3)%2==0;break;case 7:f=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&f&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,y=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[h][k]==m?(y++,y==5?c+=Mr.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,x),m||(c+=this.finderPenaltyCountPatterns(x)*Mr.PENALTY_N3),m=this.modules[h][k],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,x)*Mr.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,y=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][h]==m?(y++,y==5?c+=Mr.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,x),m||(c+=this.finderPenaltyCountPatterns(x)*Mr.PENALTY_N3),m=this.modules[k][h],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,x)*Mr.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const y=this.modules[h][m];y==this.modules[h][m+1]&&y==this.modules[h+1][m]&&y==this.modules[h+1][m+1]&&(c+=Mr.PENALTY_N2)}let l=0;for(const h of this.modules)l=h.reduce((m,y)=>m+(y?1:0),l);const u=this.size*this.size,f=Math.ceil(Math.abs(l*20-u*10)/u)-1;return s(0<=f&&f<=9),c+=f*Mr.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let f=this.size-7;u.length<c;f-=l)u.splice(1,0,f);return u}}static getNumRawDataModules(c){if(c<Mr.MIN_VERSION||c>Mr.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;l-=(25*u-10)*u-55,c>=7&&(l-=36)}return s(208<=l&&l<=29648),l}static getNumDataCodewords(c,l){return Math.floor(Mr.getNumRawDataModules(c)/8)-Mr.ECC_CODEWORDS_PER_BLOCK[l.ordinal][c]*Mr.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let l=[];for(let f=0;f<c-1;f++)l.push(0);l.push(1);let u=1;for(let f=0;f<c;f++){for(let h=0;h<l.length;h++)l[h]=Mr.reedSolomonMultiply(l[h],u),h+1<l.length&&(l[h]^=l[h+1]);u=Mr.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(c,l){let u=l.map(f=>0);for(const f of c){const h=f^u.shift();u.push(0),l.forEach((m,y)=>u[y]^=Mr.reedSolomonMultiply(m,h))}return u}static reedSolomonMultiply(c,l){if(c>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(l>>>f&1)*c;return s(u>>>8==0),u}finderPenaltyCountPatterns(c){const l=c[1];s(l<=this.size*3);const u=l>0&&c[2]==l&&c[3]==l*3&&c[4]==l&&c[5]==l;return(u&&c[0]>=l*4&&c[6]>=l?1:0)+(u&&c[6]>=l*4&&c[0]>=l?1:0)}finderPenaltyTerminateAndCount(c,l,u){return c&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,l){l[0]==0&&(c+=this.size),l.pop(),l.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(o,c,l){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)l.push(o>>>u&1)}function n(o,c){return(o>>>c&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}const i=class bs{constructor(c,l,u){if(this.mode=c,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let l=[];for(const u of c)r(u,8,l);return new bs(bs.Mode.BYTE,c.length,l)}static makeNumeric(c){if(!bs.isNumeric(c))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<c.length;){const f=Math.min(c.length-u,3);r(parseInt(c.substring(u,u+f),10),f*3+1,l),u+=f}return new bs(bs.Mode.NUMERIC,c.length,l)}static makeAlphanumeric(c){if(!bs.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=c.length;u+=2){let f=bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;f+=bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),r(f,11,l)}return u<c.length&&r(bs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,l),new bs(bs.Mode.ALPHANUMERIC,c.length,l)}static makeSegments(c){return c==""?[]:bs.isNumeric(c)?[bs.makeNumeric(c)]:bs.isAlphanumeric(c)?[bs.makeAlphanumeric(c)]:[bs.makeBytes(bs.toUtf8ByteArray(c))]}static makeEci(c){let l=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,l);else if(c<16384)r(2,2,l),r(c,14,l);else if(c<1e6)r(6,3,l),r(c,21,l);else throw new RangeError("ECI assignment value out of range");return new bs(bs.Mode.ECI,0,l)}static isNumeric(c){return bs.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return bs.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,l){let u=0;for(const f of c){const h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let l=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?l.push(c.charCodeAt(u)):(l.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return l}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(T1||(T1={}));(t=>{(e=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(T1||(T1={}));(t=>{(e=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(T1||(T1={}));var py=T1;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var LWe={L:py.QrCode.Ecc.LOW,M:py.QrCode.Ecc.MEDIUM,Q:py.QrCode.Ecc.QUARTILE,H:py.QrCode.Ecc.HIGH},Dhe=128,Uhe="L",zhe="#FFFFFF",Lhe="#000000",Vhe=!1,Hhe=1,VWe=4,HWe=0,qWe=.1;function qhe(t,e=0){const r=[];return t.forEach(function(n,s){let i=null;n.forEach(function(a,o){if(!a&&i!==null){r.push(`M${i+e} ${s+e}h${o-i}v1H${i+e}z`),i=null;return}if(o===n.length-1){if(!a)return;i===null?r.push(`M${o+e},${s+e} h1v1H${o+e}z`):r.push(`M${i+e},${s+e} h${o+1-i}v1H${i+e}z`);return}a&&i===null&&(i=o)})}),r.join("")}function Whe(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function WWe(t,e,r,n){if(n==null)return null;const s=t.length+r*2,i=Math.floor(e*qWe),a=s/e,o=(n.width||i)*a,c=(n.height||i)*a,l=n.x==null?t.length/2-o/2:n.x*a,u=n.y==null?t.length/2-c/2:n.y*a,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let y=Math.floor(l),x=Math.floor(u),k=Math.ceil(o+l-y),C=Math.ceil(c+u-x);h={x:y,y:x,w:k,h:C}}const m=n.crossOrigin;return{x:l,y:u,h:c,w:o,excavation:h,opacity:f,crossOrigin:m}}function KWe(t,e){return e!=null?Math.max(Math.floor(e),0):t?VWe:HWe}function Khe({value:t,level:e,minVersion:r,includeMargin:n,marginSize:s,imageSettings:i,size:a,boostLevel:o}){let c=Yr.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((x,k)=>(x.push(...py.QrSegment.makeSegments(k)),x),[]);return py.QrCode.encodeSegments(y,LWe[e],r,void 0,void 0,o)},[t,e,r,o]);const{cells:l,margin:u,numCells:f,calculatedImageSettings:h}=Yr.useMemo(()=>{let m=c.getModules();const y=KWe(n,s),x=m.length+y*2,k=WWe(m,a,y,i);return{cells:m,margin:y,numCells:x,calculatedImageSettings:k}},[c,a,i,n,s]);return{qrcode:c,margin:u,cells:l,numCells:f,calculatedImageSettings:h}}var XWe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),ZWe=Yr.forwardRef(function(e,r){const n=e,{value:s,size:i=Dhe,level:a=Uhe,bgColor:o=zhe,fgColor:c=Lhe,includeMargin:l=Vhe,minVersion:u=Hhe,boostLevel:f,marginSize:h,imageSettings:m}=n,x=g$(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=x,C=g$(x,["style"]),I=m==null?void 0:m.src,_=Yr.useRef(null),O=Yr.useRef(null),F=Yr.useCallback(p=>{_.current=p,typeof r=="function"?r(p):r&&(r.current=p)},[r]),[D,j]=Yr.useState(!1),{margin:T,cells:R,numCells:q,calculatedImageSettings:$}=Khe({value:s,level:a,minVersion:u,boostLevel:f,includeMargin:l,marginSize:h,imageSettings:m,size:i});Yr.useEffect(()=>{if(_.current!=null){const p=_.current,g=p.getContext("2d");if(!g)return;let S=R;const N=O.current,P=$!=null&&N!==null&&N.complete&&N.naturalHeight!==0&&N.naturalWidth!==0;P&&$.excavation!=null&&(S=Whe(R,$.excavation));const A=window.devicePixelRatio||1;p.height=p.width=i*A;const v=i/q*A;g.scale(v,v),g.fillStyle=o,g.fillRect(0,0,q,q),g.fillStyle=c,XWe?g.fill(new Path2D(qhe(S,T))):R.forEach(function(E,M){E.forEach(function(L,Q){L&&g.fillRect(Q+T,M+T,1,1)})}),$&&(g.globalAlpha=$.opacity),P&&g.drawImage(N,$.x+T,$.y+T,$.w,$.h)}}),Yr.useEffect(()=>{j(!1)},[I]);const b=m$({height:i,width:i},k);let w=null;return I!=null&&(w=Yr.createElement("img",{src:I,key:I,style:{display:"none"},onLoad:()=>{j(!0)},ref:O,crossOrigin:$==null?void 0:$.crossOrigin})),Yr.createElement(Yr.Fragment,null,Yr.createElement("canvas",m$({style:b,height:i,width:i,ref:F,role:"img"},C)),w)});ZWe.displayName="QRCodeCanvas";var mD=Yr.forwardRef(function(e,r){const n=e,{value:s,size:i=Dhe,level:a=Uhe,bgColor:o=zhe,fgColor:c=Lhe,includeMargin:l=Vhe,minVersion:u=Hhe,boostLevel:f,title:h,marginSize:m,imageSettings:y}=n,x=g$(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:C,numCells:I,calculatedImageSettings:_}=Khe({value:s,level:a,minVersion:u,boostLevel:f,includeMargin:l,marginSize:m,imageSettings:y,size:i});let O=C,F=null;y!=null&&_!=null&&(_.excavation!=null&&(O=Whe(C,_.excavation)),F=Yr.createElement("image",{href:y.src,height:_.h,width:_.w,x:_.x+k,y:_.y+k,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const D=qhe(O,k);return Yr.createElement("svg",m$({height:i,width:i,viewBox:`0 0 ${I} ${I}`,ref:r,role:"img"},x),!!h&&Yr.createElement("title",null,h),Yr.createElement("path",{fill:o,d:`M0,0 h${I}v${I}H0z`,shapeRendering:"crispEdges"}),Yr.createElement("path",{fill:c,d:D,shapeRendering:"crispEdges"}),F)});mD.displayName="QRCodeSVG";function Ew({fallbackPath:t="/",className:e}){const[,r]=Ou(),n=()=>{window.history.length>1?window.history.back():r(t)};return d.jsx(Te,{variant:"ghost",size:"icon",onClick:n,className:e,"data-testid":"button-back",children:d.jsx(s6,{className:"h-5 w-5"})})}var b$=["Enter"," "],JWe=["ArrowDown","PageUp","Home"],Xhe=["ArrowUp","PageDown","End"],QWe=[...JWe,...Xhe],YWe={ltr:[...b$,"ArrowRight"],rtl:[...b$,"ArrowLeft"]},GWe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},m5="Menu",[X6,eKe,tKe]=jP(m5),[J1,Zhe]=Zi(m5,[tKe,iw,kw]),aI=iw(),Jhe=kw(),[rKe,Q1]=J1(m5),[nKe,g5]=J1(m5),Qhe=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=t,o=aI(e),[c,l]=B.useState(null),u=B.useRef(!1),f=ls(i),h=Pw(s);return B.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),d.jsx(WB,{...o,children:d.jsx(rKe,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:l,children:d.jsx(nKe,{scope:e,onClose:B.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:a,children:n})})})};Qhe.displayName=m5;var sKe="MenuAnchor",gD=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=aI(r);return d.jsx(KB,{...s,...n,ref:e})});gD.displayName=sKe;var bD="MenuPortal",[iKe,Yhe]=J1(bD,{forceMount:void 0}),Ghe=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=Q1(bD,e);return d.jsx(iKe,{scope:e,forceMount:r,children:d.jsx(Ji,{present:r||i.open,children:d.jsx(B4,{asChild:!0,container:s,children:n})})})};Ghe.displayName=bD;var xl="MenuContent",[aKe,yD]=J1(xl),e0e=B.forwardRef((t,e)=>{const r=Yhe(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Q1(xl,t.__scopeMenu),a=g5(xl,t.__scopeMenu);return d.jsx(X6.Provider,{scope:t.__scopeMenu,children:d.jsx(Ji,{present:n||i.open,children:d.jsx(X6.Slot,{scope:t.__scopeMenu,children:a.modal?d.jsx(oKe,{...s,ref:e}):d.jsx(cKe,{...s,ref:e})})})})}),oKe=B.forwardRef((t,e)=>{const r=Q1(xl,t.__scopeMenu),n=B.useRef(null),s=yr(e,n);return B.useEffect(()=>{const i=n.current;if(i)return GB(i)},[]),d.jsx(vD,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ct(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cKe=B.forwardRef((t,e)=>{const r=Q1(xl,t.__scopeMenu);return d.jsx(vD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lKe=p1("MenuContent.ScrollLock"),vD=B.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...x}=t,k=Q1(xl,r),C=g5(xl,r),I=aI(r),_=Jhe(r),O=eKe(r),[F,D]=B.useState(null),j=B.useRef(null),T=yr(e,j,k.onContentChange),R=B.useRef(0),q=B.useRef(""),$=B.useRef(0),b=B.useRef(null),w=B.useRef("right"),p=B.useRef(0),g=y?WP:B.Fragment,S=y?{as:lKe,allowPinchZoom:!0}:void 0,N=A=>{var Z,re;const v=q.current+A,E=O().filter(G=>!G.disabled),M=document.activeElement,L=(Z=E.find(G=>G.ref.current===M))==null?void 0:Z.textValue,Q=E.map(G=>G.textValue),U=wKe(Q,v,L),J=(re=E.find(G=>G.textValue===U))==null?void 0:re.ref.current;(function G(z){q.current=z,window.clearTimeout(R.current),z!==""&&(R.current=window.setTimeout(()=>G(""),1e3))})(v),J&&setTimeout(()=>J.focus())};B.useEffect(()=>()=>window.clearTimeout(R.current),[]),YB();const P=B.useCallback(A=>{var E,M;return w.current===((E=b.current)==null?void 0:E.side)&&SKe(A,(M=b.current)==null?void 0:M.area)},[]);return d.jsx(aKe,{scope:r,searchRef:q,onItemEnter:B.useCallback(A=>{P(A)&&A.preventDefault()},[P]),onItemLeave:B.useCallback(A=>{var v;P(A)||((v=j.current)==null||v.focus(),D(null))},[P]),onTriggerLeave:B.useCallback(A=>{P(A)&&A.preventDefault()},[P]),pointerGraceTimerRef:$,onPointerGraceIntentChange:B.useCallback(A=>{b.current=A},[]),children:d.jsx(g,{...S,children:d.jsx(VP,{asChild:!0,trapped:s,onMountAutoFocus:Ct(i,A=>{var v;A.preventDefault(),(v=j.current)==null||v.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:d.jsx(tw,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:d.jsx(tD,{asChild:!0,..._,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:F,onCurrentTabStopIdChange:D,onEntryFocus:Ct(c,A=>{C.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(XB,{role:"menu","aria-orientation":"vertical","data-state":g0e(k.open),"data-radix-menu-content":"",dir:C.dir,...I,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Ct(x.onKeyDown,A=>{const E=A.target.closest("[data-radix-menu-content]")===A.currentTarget,M=A.ctrlKey||A.altKey||A.metaKey,L=A.key.length===1;E&&(A.key==="Tab"&&A.preventDefault(),!M&&L&&N(A.key));const Q=j.current;if(A.target!==Q||!QWe.includes(A.key))return;A.preventDefault();const J=O().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);Xhe.includes(A.key)&&J.reverse(),vKe(J)}),onBlur:Ct(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(R.current),q.current="")}),onPointerMove:Ct(t.onPointerMove,Z6(A=>{const v=A.target,E=p.current!==A.clientX;if(A.currentTarget.contains(v)&&E){const M=A.clientX>p.current?"right":"left";w.current=M,p.current=A.clientX}}))})})})})})})});e0e.displayName=xl;var uKe="MenuGroup",xD=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{role:"group",...n,ref:e})});xD.displayName=uKe;var dKe="MenuLabel",t0e=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{...n,ref:e})});t0e.displayName=dKe;var AS="MenuItem",DK="menu.itemSelect",oI=B.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=B.useRef(null),a=g5(AS,t.__scopeMenu),o=yD(AS,t.__scopeMenu),c=yr(e,i),l=B.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(DK,{bubbles:!0,cancelable:!0});f.addEventListener(DK,m=>n==null?void 0:n(m),{once:!0}),TB(f,h),h.defaultPrevented?l.current=!1:a.onClose()}};return d.jsx(r0e,{...s,ref:c,disabled:r,onClick:Ct(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),l.current=!0},onPointerUp:Ct(t.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ct(t.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||b$.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});oI.displayName=AS;var r0e=B.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,a=yD(AS,r),o=Jhe(r),c=B.useRef(null),l=yr(e,c),[u,f]=B.useState(!1),[h,m]=B.useState("");return B.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),d.jsx(X6.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:d.jsx(rD,{asChild:!0,...o,focusable:!n,children:d.jsx(Qt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:Ct(t.onPointerMove,Z6(y=>{n?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ct(t.onPointerLeave,Z6(y=>a.onItemLeave(y))),onFocus:Ct(t.onFocus,()=>f(!0)),onBlur:Ct(t.onBlur,()=>f(!1))})})})}),fKe="MenuCheckboxItem",n0e=B.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return d.jsx(c0e,{scope:t.__scopeMenu,checked:r,children:d.jsx(oI,{role:"menuitemcheckbox","aria-checked":SS(r)?"mixed":r,...s,ref:e,"data-state":AD(r),onSelect:Ct(s.onSelect,()=>n==null?void 0:n(SS(r)?!0:!r),{checkForDefaultPrevented:!1})})})});n0e.displayName=fKe;var s0e="MenuRadioGroup",[hKe,pKe]=J1(s0e,{value:void 0,onValueChange:()=>{}}),i0e=B.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=ls(n);return d.jsx(hKe,{scope:t.__scopeMenu,value:r,onValueChange:i,children:d.jsx(xD,{...s,ref:e})})});i0e.displayName=s0e;var a0e="MenuRadioItem",o0e=B.forwardRef((t,e)=>{const{value:r,...n}=t,s=pKe(a0e,t.__scopeMenu),i=r===s.value;return d.jsx(c0e,{scope:t.__scopeMenu,checked:i,children:d.jsx(oI,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":AD(i),onSelect:Ct(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});o0e.displayName=a0e;var wD="MenuItemIndicator",[c0e,mKe]=J1(wD,{checked:!1}),l0e=B.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=mKe(wD,r);return d.jsx(Ji,{present:n||SS(i.checked)||i.checked===!0,children:d.jsx(Qt.span,{...s,ref:e,"data-state":AD(i.checked)})})});l0e.displayName=wD;var gKe="MenuSeparator",u0e=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Qt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});u0e.displayName=gKe;var bKe="MenuArrow",d0e=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=aI(r);return d.jsx(ZB,{...s,...n,ref:e})});d0e.displayName=bKe;var yKe="MenuSub",[_6t,f0e]=J1(yKe),t3="MenuSubTrigger",h0e=B.forwardRef((t,e)=>{const r=Q1(t3,t.__scopeMenu),n=g5(t3,t.__scopeMenu),s=f0e(t3,t.__scopeMenu),i=yD(t3,t.__scopeMenu),a=B.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=B.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return B.useEffect(()=>u,[u]),B.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),d.jsx(gD,{asChild:!0,...l,children:d.jsx(r0e,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":g0e(r.open),...t,ref:TP(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ct(t.onPointerMove,Z6(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ct(t.onPointerLeave,Z6(f=>{var m,y;u();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const x=(y=r.content)==null?void 0:y.dataset.side,k=x==="right",C=k?-5:5,I=h[k?"left":"right"],_=h[k?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+C,y:f.clientY},{x:I,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:I,y:h.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ct(t.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||YWe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});h0e.displayName=t3;var p0e="MenuSubContent",m0e=B.forwardRef((t,e)=>{const r=Yhe(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Q1(xl,t.__scopeMenu),a=g5(xl,t.__scopeMenu),o=f0e(p0e,t.__scopeMenu),c=B.useRef(null),l=yr(e,c);return d.jsx(X6.Provider,{scope:t.__scopeMenu,children:d.jsx(Ji,{present:n||i.open,children:d.jsx(X6.Slot,{scope:t.__scopeMenu,children:d.jsx(vD,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ct(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ct(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:Ct(t.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=GWe[a.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),u.preventDefault())})})})})})});m0e.displayName=p0e;function g0e(t){return t?"open":"closed"}function SS(t){return t==="indeterminate"}function AD(t){return SS(t)?"indeterminate":t?"checked":"unchecked"}function vKe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function xKe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function wKe(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=xKe(t,Math.max(i,0));s.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function AKe(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i].x,c=e[i].y,l=e[a].x,u=e[a].y;c>n!=u>n&&r<(l-o)*(n-c)/(u-c)+o&&(s=!s)}return s}function SKe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return AKe(r,e)}function Z6(t){return e=>e.pointerType==="mouse"?t(e):void 0}var PKe=Qhe,kKe=gD,IKe=Ghe,NKe=e0e,EKe=xD,CKe=t0e,_Ke=oI,TKe=n0e,jKe=i0e,MKe=o0e,$Ke=l0e,OKe=u0e,BKe=d0e,FKe=h0e,RKe=m0e,SD="DropdownMenu",[DKe,T6t]=Zi(SD,[Zhe]),uo=Zhe(),[UKe,b0e]=DKe(SD),y0e=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=uo(e),l=B.useRef(null),[u=!1,f]=Nu({prop:s,defaultProp:i,onChange:a});return d.jsx(UKe,{scope:e,triggerId:Su(),triggerRef:l,contentId:Su(),open:u,onOpenChange:f,onOpenToggle:B.useCallback(()=>f(h=>!h),[f]),modal:o,children:d.jsx(PKe,{...c,open:u,onOpenChange:f,dir:n,modal:o,children:r})})};y0e.displayName=SD;var v0e="DropdownMenuTrigger",x0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=b0e(v0e,r),a=uo(r);return d.jsx(kKe,{asChild:!0,...a,children:d.jsx(Qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:TP(e,i.triggerRef),onPointerDown:Ct(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Ct(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});x0e.displayName=v0e;var zKe="DropdownMenuPortal",w0e=t=>{const{__scopeDropdownMenu:e,...r}=t,n=uo(e);return d.jsx(IKe,{...n,...r})};w0e.displayName=zKe;var A0e="DropdownMenuContent",S0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=b0e(A0e,r),i=uo(r),a=B.useRef(!1);return d.jsx(NKe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:Ct(t.onCloseAutoFocus,o=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Ct(t.onInteractOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});S0e.displayName=A0e;var LKe="DropdownMenuGroup",VKe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(EKe,{...s,...n,ref:e})});VKe.displayName=LKe;var HKe="DropdownMenuLabel",P0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(CKe,{...s,...n,ref:e})});P0e.displayName=HKe;var qKe="DropdownMenuItem",k0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(_Ke,{...s,...n,ref:e})});k0e.displayName=qKe;var WKe="DropdownMenuCheckboxItem",I0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(TKe,{...s,...n,ref:e})});I0e.displayName=WKe;var KKe="DropdownMenuRadioGroup",XKe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(jKe,{...s,...n,ref:e})});XKe.displayName=KKe;var ZKe="DropdownMenuRadioItem",N0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(MKe,{...s,...n,ref:e})});N0e.displayName=ZKe;var JKe="DropdownMenuItemIndicator",E0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx($Ke,{...s,...n,ref:e})});E0e.displayName=JKe;var QKe="DropdownMenuSeparator",C0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(OKe,{...s,...n,ref:e})});C0e.displayName=QKe;var YKe="DropdownMenuArrow",GKe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(BKe,{...s,...n,ref:e})});GKe.displayName=YKe;var eXe="DropdownMenuSubTrigger",_0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(FKe,{...s,...n,ref:e})});_0e.displayName=eXe;var tXe="DropdownMenuSubContent",T0e=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=uo(r);return d.jsx(RKe,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T0e.displayName=tXe;var rXe=y0e,nXe=x0e,sXe=w0e,j0e=S0e,M0e=P0e,$0e=k0e,O0e=I0e,B0e=N0e,F0e=E0e,R0e=C0e,D0e=_0e,U0e=T0e;const PD=rXe,kD=nXe,iXe=B.forwardRef(({className:t,inset:e,children:r,...n},s)=>d.jsxs(D0e,{ref:s,className:jt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,d.jsx(Ap,{className:"ml-auto"})]}));iXe.displayName=D0e.displayName;const aXe=B.forwardRef(({className:t,...e},r)=>d.jsx(U0e,{ref:r,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));aXe.displayName=U0e.displayName;const cI=B.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(sXe,{children:d.jsx(j0e,{ref:n,sideOffset:e,className:jt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));cI.displayName=j0e.displayName;const J6=B.forwardRef(({className:t,inset:e,...r},n)=>d.jsx($0e,{ref:n,className:jt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));J6.displayName=$0e.displayName;const oXe=B.forwardRef(({className:t,children:e,checked:r,...n},s)=>d.jsxs(O0e,{ref:s,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(F0e,{children:d.jsx(Ma,{className:"h-4 w-4"})})}),e]}));oXe.displayName=O0e.displayName;const cXe=B.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(B0e,{ref:n,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(F0e,{children:d.jsx(cre,{className:"h-2 w-2 fill-current"})})}),e]}));cXe.displayName=B0e.displayName;const lXe=B.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(M0e,{ref:n,className:jt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));lXe.displayName=M0e.displayName;const uXe=B.forwardRef(({className:t,...e},r)=>d.jsx(R0e,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",t),...e}));uXe.displayName=R0e.displayName;async function dXe(t,e,r){if(Mu.isNativePlatform())try{return(await CFe.post({url:t,headers:{"Content-Type":"application/json",...r},data:e})).data}catch(s){throw console.error("[NativeHttp] CapacitorHttp POST failed:",s),s}else return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(e)})).json()}const _C=AR;function fXe(t){if(!t)return"Enter address...";switch(t.toUpperCase()){case"BTC":return"bc1... or 1... or 3...";case"SOL":return"Base58 address...";case"XRP":return"r...";case"ADA":return"addr1...";case"DOGE":return"D...";case"DOT":return"1... (SS58 format)";case"LTC":return"L... or M... or ltc1...";case"BCH":return"bitcoincash:q...";case"TRX":return"T...";case"ATOM":case"OSMO":return"cosmos1... or osmo1...";case"ETH":case"BNB":case"MATIC":case"AVAX":case"ARB":default:return"0x..."}}const hXe={"chain-0":"https://eth.llamarpc.com","chain-3":"https://bsc-dataseed1.binance.org","chain-4":"https://polygon-rpc.com","chain-5":"https://api.avax.network/ext/bc/C/rpc","chain-6":"https://arb1.arbitrum.io/rpc","chain-7":"https://mainnet.optimism.io"},UK={"chain-0":21e3,"chain-1":250,"chain-2":5e3,"chain-3":21e3,"chain-4":21e3,"chain-5":21e3,"chain-6":21e3,"chain-7":21e3,"chain-8":0},zK={"chain-0":65e3,"chain-3":65e3,"chain-4":65e3,"chain-5":65e3,"chain-6":65e3,"chain-7":65e3},pXe={BTC:{fee:"0.00001",unit:"BTC"},SOL:{fee:"0.000005",unit:"SOL"},TRX:{fee:"0",unit:"TRX"},XRP:{fee:"0.00001",unit:"XRP"},DOGE:{fee:"1",unit:"DOGE"},LTC:{fee:"0.0001",unit:"LTC"},BCH:{fee:"0.00001",unit:"BCH"},ADA:{fee:"0.17",unit:"ADA"},ATOM:{fee:"0.005",unit:"ATOM"},OSMO:{fee:"0.005",unit:"OSMO"},DOT:{fee:"0.01",unit:"DOT"}};async function LK(t,e,r){const n=r||"ETH",s=pXe[n];if(s)return{gasPrice:"0",gasPriceGwei:"N/A",estimatedGas:"0",estimatedFee:s.fee,estimatedFeeUsd:null,symbol:s.unit};const i=hXe[t];if(!i)return{gasPrice:"0",gasPriceGwei:"20",estimatedGas:"21000",estimatedFee:"0.00042",estimatedFeeUsd:null,symbol:n,error:"No RPC endpoint available"};try{console.log("[GasEstimate] Fetching gas price for chain:",t,"RPC:",i);const a=await dXe(i,{jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:1});if(console.log("[GasEstimate] Response:",a),!a.result)throw console.error("[GasEstimate] No result in response:",a),new Error("No gas price result");const o=BigInt(a.result),c=(Number(o)/1e9).toFixed(2),l=e?UK[t]||21e3:zK[t]||65e3,u=o*BigInt(l),f=(Number(u)/1e18).toFixed(6);return{gasPrice:o.toString(),gasPriceGwei:c,estimatedGas:l.toString(),estimatedFee:f,estimatedFeeUsd:null,symbol:n}}catch(a){console.error("[GasEstimate] Client-side fetch failed:",a);const o=mXe(t),c=e?UK[t]||21e3:zK[t]||65e3,l=(o*c/1e9).toFixed(6);return{gasPrice:(o*1e9).toString(),gasPriceGwei:o.toString(),estimatedGas:c.toString(),estimatedFee:l,estimatedFeeUsd:null,symbol:n,error:"Using estimated values"}}}function mXe(t){return{"chain-0":20,"chain-3":3,"chain-4":30,"chain-5":25,"chain-6":.1,"chain-7":.001}[t]||20}function gXe({chains:t,wallets:e,initialChainId:r,initialTokenId:n}){const{setShowPinModal:s,setPinAction:i,setPendingTransaction:a,topAssets:o,enabledAssetIds:c,tokenBalances:l,customTokenBalances:u}=Yi(),{toast:f}=Qs(),[h,m]=B.useState(r||""),[y,x]=B.useState(n||"native"),k=!!n,[C,I]=B.useState([]),[_,O]=B.useState(""),[F,D]=B.useState(""),[j,T]=B.useState("");console.log("[SendTab] initialChainId:",r,"selectedChainId:",h,"chains.length:",t.length);const R=t.find(E=>E.id===h),q=e.find(E=>E.chainId===h),$=C.find(E=>E.id===y)||C[0],b=($==null?void 0:$.isNative)??!0,w=Mu.isNativePlatform(),g=R?new Set(["BTC","SOL","TRX","XRP","DOGE","LTC","BCH","ADA","ATOM","OSMO","DOT"]).has(R.symbol):!1,{data:S,isLoading:N}=Fwe({queryKey:["/api/gas-estimate",h,b,w,g,R==null?void 0:R.symbol],queryFn:async()=>g||w?LK(h,b,R==null?void 0:R.symbol):(await fetch(`/api/gas-estimate?chainId=${h}&isNative=${b}`)).json(),enabled:!!h&&!!R,refetchInterval:3e4});B.useEffect(()=>{console.log("[SendTab useEffect] initialChainId:",r,"chains.length:",t.length,"current selectedChainId:",h),r&&t.find(E=>E.id===r)?(console.log("[SendTab useEffect] Setting selectedChainId to initialChainId:",r),m(r)):t.length>0&&!h&&(console.log("[SendTab useEffect] Defaulting to first chain:",t[0].id),m(t[0].id))},[t,r]),B.useEffect(()=>{async function E(){if(!R||!q){I([]);return}const M=[{id:"native",symbol:R.symbol,name:R.name,balance:q.balance,isNative:!0}],L=R.symbol;o.forEach(Q=>{if(Ox[Q.id]===L&&c.has(Q.id)){const J=l[Q.id]||"0";M.push({id:Q.id,symbol:Q.symbol.toUpperCase(),name:Q.name,balance:J,isNative:!1,image:Q.image})}});try{const U=(await At.getCustomTokens()).filter(J=>J.chainId===h&&(J.walletId===q.id||!J.walletId));for(const J of U){const Z=u[J.id]||"0";M.push({id:J.id,symbol:J.symbol,name:J.name,balance:Z,isNative:!1,contractAddress:J.contractAddress,decimals:J.decimals,image:J.image})}}catch(Q){console.error("Failed to load custom tokens:",Q)}I(M),n||x("native")}E()},[h,R,q,n,o,c,l,u]);const P=()=>{if(T(""),!_){T("Please enter a recipient address");return}if(!F||parseFloat(F)<=0){T("Please enter a valid amount");return}const E=parseFloat(($==null?void 0:$.balance)||"0");if(parseFloat(F)>E){T("Insufficient balance");return}a({toAddress:_,amount:F,chainId:h,tokenSymbol:$==null?void 0:$.symbol,tokenContractAddress:$==null?void 0:$.contractAddress,isNativeToken:($==null?void 0:$.isNative)??!0}),i("sign"),s(!0)},A=()=>{$&&D($.balance)},v=E=>{m(E),x("native"),D("")};return d.jsxs("div",{className:"space-y-6",children:[!r&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Network"}),d.jsxs(_1,{value:h,onValueChange:v,children:[d.jsx(tm,{id:"chain","data-testid":"select-send-chain",children:d.jsx(Ux,{placeholder:"Select network"})}),d.jsx(rm,{children:t.map(E=>{const M=e.find(L=>L.chainId===E.id);return d.jsx(ll,{value:E.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:E.symbol,iconColor:E.iconColor,size:"sm"}),d.jsx("span",{children:E.name}),d.jsxs("span",{className:"text-muted-foreground",children:["(",_C((M==null?void 0:M.balance)||"0")," ",E.symbol,")"]})]})},E.id)})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"token",children:["Coin / Token ",k&&d.jsx("span",{className:"text-xs text-muted-foreground",children:"(locked)"})]}),d.jsxs(_1,{value:y,onValueChange:x,disabled:k,children:[d.jsx(tm,{id:"token","data-testid":"select-send-token",className:k?"opacity-70":"",children:d.jsx(Ux,{placeholder:"Select coin or token"})}),d.jsx(rm,{children:C.map(E=>d.jsx(ll,{value:E.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[E.isNative?d.jsx(Yn,{symbol:E.symbol,size:"sm"}):E.image?d.jsx("img",{src:E.image,alt:E.symbol,className:"h-5 w-5 rounded-full object-cover",onError:M=>{M.target.style.display="none"}}):d.jsx(ux,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:E.symbol}),d.jsx("span",{className:"text-muted-foreground",children:E.name}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",_C(E.balance),")"]})]})},E.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx(Zt,{htmlFor:"recipient",children:"Recipient Address"}),d.jsxs(PD,{children:[d.jsx(kD,{asChild:!0,children:d.jsxs(Te,{type:"button",variant:"ghost",size:"sm",className:"h-auto py-0 text-xs gap-1","data-testid":"button-select-wallet",children:[d.jsx(mre,{className:"h-3 w-3"}),"Select Wallet"]})}),d.jsxs(cI,{align:"end",className:"w-64",children:[e.filter(E=>E.chainId===h&&E.address!==(q==null?void 0:q.address)).map(E=>d.jsxs(J6,{onClick:()=>O(E.address),className:"flex items-center gap-2 font-mono text-xs","data-testid":`wallet-option-${E.id}`,children:[d.jsx(Yn,{symbol:(R==null?void 0:R.symbol)||"",size:"sm"}),d.jsxs("span",{className:"truncate flex-1",children:[E.address.slice(0,12),"...",E.address.slice(-8)]}),_===E.address&&d.jsx(Ma,{className:"h-4 w-4 text-primary"})]},E.id)),e.filter(E=>E.chainId===h&&E.address!==(q==null?void 0:q.address)).length===0&&d.jsx(J6,{disabled:!0,className:"text-muted-foreground text-xs",children:"No other wallets on this chain"})]})]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ar,{id:"recipient",placeholder:fXe(R==null?void 0:R.symbol),value:_,onChange:E=>O(E.target.value),className:"font-mono flex-1","data-testid":"input-recipient-address"}),d.jsx(Te,{type:"button",variant:"outline",size:"icon",onClick:()=>{Mu.isNativePlatform()?f({title:"QR Scanner",description:"QR scanning will open your camera"}):f({title:"QR Scanner",description:"QR scanning is available on mobile app"})},"data-testid":"button-scan-qr",children:d.jsx(W2e,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx(Zt,{htmlFor:"amount",children:"Amount"}),d.jsxs(Te,{type:"button",variant:"ghost",size:"sm",className:"h-auto py-0 text-xs",onClick:A,"data-testid":"button-max-amount",children:["Max: ",_C(($==null?void 0:$.balance)||"0")," ",($==null?void 0:$.symbol)||(R==null?void 0:R.symbol)]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ar,{id:"amount",type:"number",placeholder:"0.00",value:F,onChange:E=>D(E.target.value),className:"pr-16","data-testid":"input-send-amount"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:($==null?void 0:$.symbol)||(R==null?void 0:R.symbol)})]})]}),j&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(R4,{className:"h-4 w-4"}),d.jsx(pn,{children:j})]}),d.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Gas Price"}),N?d.jsx(Yc,{className:"h-4 w-16"}):d.jsx("span",{"data-testid":"text-gas-price",children:g?"Fixed fee":S!=null&&S.gasPriceGwei&&S.gasPriceGwei!=="N/A"?`${S.gasPriceGwei} Gwei`:"~20 Gwei"})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estimated Gas Fee"}),N?d.jsx(Yc,{className:"h-4 w-20"}):d.jsxs("span",{"data-testid":"text-gas-fee",children:["~",(S==null?void 0:S.estimatedFee)||"0.00042"," ",R==null?void 0:R.symbol]})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total"}),N?d.jsx(Yc,{className:"h-4 w-24"}):d.jsx("span",{className:"font-medium","data-testid":"text-total-amount",children:b?d.jsxs(d.Fragment,{children:[F?(parseFloat(F)+parseFloat((S==null?void 0:S.estimatedFee)||"0")).toFixed(6):"0.00"," ",R==null?void 0:R.symbol]}):d.jsxs(d.Fragment,{children:[F||"0"," ",$==null?void 0:$.symbol," + ~",(S==null?void 0:S.estimatedFee)||"0"," ",R==null?void 0:R.symbol]})})]}),(S==null?void 0:S.error)&&d.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Using estimated values (live data unavailable)"})]}),d.jsxs(Te,{type:"button",className:"w-full",size:"lg",onClick:P,disabled:!_||!F,"data-testid":"button-sign-transaction",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Sign & Send Transaction"]}),d.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"You will need to enter your PIN to authorize this transaction"})]})}function bXe({chains:t,wallets:e,initialChainId:r}){const{toast:n}=Qs(),[s,i]=B.useState(r||""),a=t.find(l=>l.id===s),o=e.find(l=>l.chainId===s);B.useEffect(()=>{r&&t.find(l=>l.id===r)?i(r):t.length>0&&!s&&i(t[0].id)},[t,r]);const c=()=>{o&&(navigator.clipboard.writeText(o.address),n({title:"Address Copied",description:"Wallet address copied to clipboard."}))};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"receive-chain",children:"Network"}),d.jsxs(_1,{value:s,onValueChange:i,children:[d.jsx(tm,{id:"receive-chain","data-testid":"select-receive-chain",children:d.jsx(Ux,{placeholder:"Select network"})}),d.jsx(rm,{children:t.map(l=>d.jsx(ll,{value:l.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:l.symbol,iconColor:l.iconColor,size:"sm"}),d.jsx("span",{children:l.name})]})},l.id))})]})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[d.jsx("div",{className:"mb-6 flex h-64 w-64 items-center justify-center rounded-xl bg-white p-4",children:o?d.jsx(mD,{value:o.address,size:224,level:"M",includeMargin:!1,"data-testid":"qr-code-address"}):d.jsxs("div",{className:"text-center",children:[d.jsx(fre,{className:"mx-auto h-32 w-32 text-muted-foreground/50"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select a network"})]})}),o&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4 text-center",children:[d.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Your ",a==null?void 0:a.name," Address"]}),d.jsx("code",{className:"block rounded-lg bg-muted/50 px-4 py-3 font-mono text-sm break-all",children:o.address})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs(Te,{type:"button",variant:"outline",onClick:c,"data-testid":"button-copy-receive-address",children:[d.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Copy Address"]})})]})]}),d.jsxs(hn,{children:[d.jsx(R4,{className:"h-4 w-4"}),d.jsxs(pn,{children:["Only send ",a==null?void 0:a.symbol," and tokens on the ",a==null?void 0:a.name," network to this address. Sending other assets may result in permanent loss."]})]})]})}function yXe(){const{isConnected:t,isUnlocked:e,chains:r,wallets:n,visibleWallets:s,walletMode:i,refreshBalances:a}=Yi(),o=i==="hard_wallet"?s:n,[c,l]=B.useState(()=>window.location.search);B.useEffect(()=>{const C=()=>{l(window.location.search)};return window.addEventListener("popstate",C),C(),()=>{window.removeEventListener("popstate",C)}},[]),B.useEffect(()=>{const C=setInterval(()=>{window.location.search!==c&&l(window.location.search)},100);return()=>clearInterval(C)},[c]);const u=new URLSearchParams(c),f=u.get("type")==="receive"?"receive":"send",h=u.get("chain")||void 0,m=u.get("token")||void 0,[y,x]=B.useState(f);B.useEffect(()=>{const I=new URLSearchParams(c).get("type");(I==="receive"||I==="send")&&x(I)},[c]),console.log("[Transfer] chainParam:",h,"search:",c);const k=B.useRef(!1);return B.useEffect(()=>{i==="hard_wallet"&&o.length>0&&!k.current&&(k.current=!0,a())},[i,o.length,a]),o.length===0?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Send / Receive"}),d.jsx(h5,{})]}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[d.jsx(Ew,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Send / Receive"})]}),d.jsx(Gt,{className:"max-w-lg mx-auto",children:d.jsx(er,{className:"p-6",children:d.jsxs(f5,{value:y,onValueChange:x,children:[d.jsxs(Iw,{className:"grid w-full grid-cols-2 mb-6",children:[d.jsxs(No,{value:"send","data-testid":"tab-send",children:[d.jsx(lx,{className:"mr-2 h-4 w-4"}),"Send"]}),d.jsxs(No,{value:"receive","data-testid":"tab-receive",children:[d.jsx(n6,{className:"mr-2 h-4 w-4"}),"Receive"]})]}),d.jsx(Eo,{value:"send",children:d.jsx(gXe,{chains:r,wallets:o,initialChainId:h,initialTokenId:m},`send-${h}-${m}`)}),d.jsx(Eo,{value:"receive",children:d.jsx(bXe,{chains:r,wallets:o,initialChainId:h},`receive-${h}`)})]})})})]})}const z0e=B.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:jt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));z0e.displayName="Textarea";function vXe({open:t,onOpenChange:e}){const{pendingAddChain:r,verifySeedForAddChain:n,confirmAddChain:s,abortAddChain:i,getSeedWordCount:a}=Yi(),{toast:o}=Qs(),[c,l]=B.useState(""),[u,f]=B.useState(""),[h,m]=B.useState(!1),[y,x]=B.useState(0),[k,C]=B.useState(""),_=a()||12,O=B.useCallback(()=>{l(""),f(""),C(""),x(0),i(),e(!1)},[i,e]),F=async()=>{if(!c.trim()){C("Please enter your recovery phrase");return}if(c.trim().split(/\s+/).length!==_){C(`Please enter all ${_} words of your recovery phrase`);return}m(!0),C("");try{if(await n(c))await s(u.trim()||void 0)?(o({title:"Network Added",description:`${(r==null?void 0:r.chainName)||"Network"} wallet has been created.`}),l(""),f(""),x(0),e(!1)):C("Failed to create wallet. Please try again.");else{const T=y+1;x(T),T>=3?C("Too many failed attempts. Please close and try again later."):C(`Incorrect recovery phrase. ${3-T} attempts remaining.`)}}catch{C("Verification failed. Please try again.")}finally{m(!1)}};return r?d.jsx(es,{open:t,onOpenChange:D=>{D||O()},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{className:"flex items-center gap-2",children:[d.jsx($s,{className:"h-5 w-5 text-primary"}),"Security Verification"]}),d.jsxs(Kn,{children:["To add ",r.chainName," to your wallet, please verify ownership by entering your recovery phrase."]})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-amber-200 bg-amber-50 p-3 dark:border-amber-900 dark:bg-amber-950/30",children:[d.jsx(fn,{className:"mt-0.5 h-4 w-4 shrink-0 text-amber-600 dark:text-amber-400"}),d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"This security check ensures only you can add new networks to your wallet. Your recovery phrase is never stored or transmitted."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"seed-phrase",children:["Recovery Phrase (",_," words)"]}),d.jsx(z0e,{id:"seed-phrase",placeholder:`Enter your ${_}-word recovery phrase...`,value:c,onChange:D=>{l(D.target.value),C("")},className:"min-h-[100px] font-mono text-sm",disabled:h||y>=3,"data-testid":"input-seed-verification"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:"wallet-label",className:"flex items-center gap-1",children:[d.jsx(dre,{className:"h-3 w-3"}),"Wallet Name (Optional)"]}),d.jsx(ar,{id:"wallet-label",placeholder:r.chainName,value:u,onChange:D=>f(D.target.value),disabled:h||y>=3,"data-testid":"input-wallet-label"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Give this wallet a custom name to easily identify it"})]}),k&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),k]})]}),d.jsxs(Ss,{className:"gap-2 sm:gap-0",children:[d.jsx(Te,{variant:"outline",onClick:O,disabled:h,children:"Cancel"}),d.jsx(Te,{onClick:F,disabled:h||y>=3||!c.trim(),"data-testid":"button-verify-seed",children:h?d.jsxs(d.Fragment,{children:[d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify & Add Network"})]})]})}):null}function xXe({chain:t,wallet:e,onRename:r}){const{toast:n}=Qs(),[s,i]=B.useState(!1),[a,o]=B.useState((e==null?void 0:e.label)||t.name),[c,l]=B.useState(!1),u=()=>{e&&(navigator.clipboard.writeText(e.address),n({title:"Address Copied",description:"Wallet address copied to clipboard."}))},f=async()=>{if(!(!e||!r||!a.trim())){l(!0);try{await r(e.id,a.trim()),n({title:"Wallet Renamed",description:`Wallet renamed to "${a.trim()}"`}),i(!1)}catch{n({title:"Error",description:"Failed to rename wallet",variant:"destructive"})}finally{l(!1)}}};return d.jsxs(Gt,{className:"overflow-hidden","data-testid":`card-chain-${t.symbol}`,children:[d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Yn,{symbol:t.symbol,iconColor:t.iconColor,size:"lg"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("h3",{className:"font-semibold",children:(e==null?void 0:e.label)||t.name}),e&&r&&d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{o(e.label||t.name),i(!0)},"data-testid":`button-rename-${t.symbol}`,children:d.jsx(dre,{className:"h-3 w-3"})})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.symbol})]})]}),d.jsx("div",{className:"flex gap-1",children:t.isDefault&&d.jsx(nr,{variant:"secondary",className:"text-xs",children:"Default"})})]}),d.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Chain ID"}),d.jsx("span",{className:"font-mono",children:t.chainId})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:t.decimals})]}),e&&d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("code",{className:"text-xs font-mono",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:u,children:d.jsx(Oo,{className:"h-3 w-3"})})]})]})]}),t.blockExplorer&&d.jsxs(Te,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:()=>window.open(t.blockExplorer,"_blank"),"data-testid":`button-explorer-${t.symbol}`,children:[d.jsx(dx,{className:"mr-2 h-4 w-4"}),"Block Explorer"]})]}),d.jsx(es,{open:s,onOpenChange:i,children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Rename Wallet"}),d.jsxs(Kn,{children:["Give your ",t.name," wallet a custom name"]})]}),d.jsxs("div",{className:"py-4",children:[d.jsx(Zt,{htmlFor:"wallet-name",children:"Wallet Name"}),d.jsx(ar,{id:"wallet-name",value:a,onChange:h=>o(h.target.value),placeholder:"My Wallet",className:"mt-2","data-testid":"input-rename-wallet"})]}),d.jsxs(Ss,{className:"gap-2 sm:gap-0",children:[d.jsx(Te,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),d.jsx(Te,{onClick:f,disabled:c||!a.trim(),"data-testid":"button-confirm-rename",children:c?d.jsxs(d.Fragment,{children:[d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})}function wXe({addCustomChain:t}){const{toast:e}=Qs(),[r,n]=B.useState(!1),[s,i]=B.useState(!1),[a,o]=B.useState({name:"",symbol:"",rpcUrl:"",chainId:"",blockExplorer:"",decimals:"18"}),c=()=>{o({name:"",symbol:"",rpcUrl:"",chainId:"",blockExplorer:"",decimals:"18"})},l=async u=>{u.preventDefault(),i(!0);try{await t({name:a.name,symbol:a.symbol.toUpperCase(),rpcUrl:a.rpcUrl,chainId:parseInt(a.chainId),blockExplorer:a.blockExplorer||void 0,decimals:parseInt(a.decimals),iconColor:"#6B7280"}),e({title:"Network Added",description:`${a.name} has been added successfully.`}),n(!1),c()}catch{e({title:"Error",description:"Failed to add network. Please try again.",variant:"destructive"})}finally{i(!1)}};return d.jsxs(es,{open:r,onOpenChange:n,children:[d.jsx(qy,{asChild:!0,children:d.jsxs(Te,{"data-testid":"button-add-chain",children:[d.jsx(_d,{className:"mr-2 h-4 w-4"}),"Add Network"]})}),d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Add Custom Network"}),d.jsx(Kn,{children:"Add a new blockchain network to your wallet"})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"name",children:"Network Name"}),d.jsx(ar,{id:"name",placeholder:"Ethereum Mainnet",value:a.name,onChange:u=>o({...a,name:u.target.value}),required:!0,"data-testid":"input-chain-name"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"symbol",children:"Currency Symbol"}),d.jsx(ar,{id:"symbol",placeholder:"ETH",value:a.symbol,onChange:u=>o({...a,symbol:u.target.value.toUpperCase()}),required:!0,"data-testid":"input-chain-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chainId",children:"Chain ID"}),d.jsx(ar,{id:"chainId",type:"number",placeholder:"1",value:a.chainId,onChange:u=>o({...a,chainId:u.target.value}),required:!0,"data-testid":"input-chain-id"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"rpcUrl",children:"RPC URL"}),d.jsx(ar,{id:"rpcUrl",placeholder:"https://mainnet.infura.io/v3/...",value:a.rpcUrl,onChange:u=>o({...a,rpcUrl:u.target.value}),required:!0,"data-testid":"input-chain-rpc"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"blockExplorer",children:"Block Explorer URL (Optional)"}),d.jsx(ar,{id:"blockExplorer",placeholder:"https://etherscan.io",value:a.blockExplorer,onChange:u=>o({...a,blockExplorer:u.target.value}),"data-testid":"input-chain-explorer"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"decimals",children:"Decimals"}),d.jsx(ar,{id:"decimals",type:"number",placeholder:"18",value:a.decimals,onChange:u=>o({...a,decimals:u.target.value}),required:!0,"data-testid":"input-chain-decimals"})]}),d.jsxs(Ss,{children:[d.jsx(Te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),d.jsx(Te,{type:"submit",disabled:s,"data-testid":"button-submit-chain",children:s?"Adding...":"Add Network"})]})]})]})]})}const L0e=[{id:"ETH",name:"Ethereum (ERC-20)",evmChainId:1,rpcUrl:"https://eth.llamarpc.com",type:"evm"},{id:"BNB",name:"BNB Chain (BEP-20)",evmChainId:56,rpcUrl:"https://bsc-dataseed.binance.org",type:"evm"},{id:"MATIC",name:"Polygon",evmChainId:137,rpcUrl:"https://polygon-rpc.com",type:"evm"},{id:"ARB",name:"Arbitrum",evmChainId:42161,rpcUrl:"https://arb1.arbitrum.io/rpc",type:"evm"},{id:"TRX",name:"TRON (TRC-20)",evmChainId:0,rpcUrl:"",type:"tron"}];function VK({addCustomToken:t,customChains:e}){const{toast:r}=Qs(),[n,s]=B.useState(!1),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState(null),[f,h]=B.useState(!1),[m,y]=B.useState(""),[x,k]=B.useState(!1),[C,I]=B.useState(""),[_,O]=B.useState(""),[F,D]=B.useState("18"),j=[...L0e,...e.map(S=>({id:S.id,name:`${S.name} (Custom)`,evmChainId:S.chainId,rpcUrl:S.rpcUrl,type:"evm",isCustom:!0}))],T=j.find(S=>S.id===i),R=(T==null?void 0:T.type)==="tron",q=S=>{a(S),u(null),y(""),I(""),O(""),D("18")},$=S=>{c(S),u(null),y("")},b=async()=>{if(!i||!o)return;const S=j.find(N=>N.id===i);if(S){if(S.type==="tron"){y("TRON tokens require manual entry. Please fill in the token details below.");return}h(!0),y("");try{const N=await Lle(o,S.rpcUrl,S.evmChainId);N?u(N):y("Could not fetch token info. Please verify the contract address.")}catch{y("Failed to fetch token info. Please check the address.")}finally{h(!1)}}},w=()=>!i||!o?!1:R?C.trim()&&_.trim()&&F:!!l,p=async()=>{if(!i||!o)return;const S=j.find(P=>P.id===i);if(!S)return;const N=R?{name:C.trim(),symbol:_.trim().toUpperCase(),decimals:parseInt(F)||18}:l;if(N){k(!0);try{await t({chainId:S.id,chainType:S.type,contractAddress:o.trim(),name:N.name,symbol:N.symbol,decimals:N.decimals,evmChainId:S.evmChainId,rpcUrl:S.rpcUrl}),r({title:"Token Added",description:`${N.name} has been added successfully.`}),g(),s(!1)}catch{r({title:"Error",description:"Failed to add token. Please try again.",variant:"destructive"})}finally{k(!1)}}},g=()=>{a(""),c(""),u(null),y(""),I(""),O(""),D("18")};return d.jsxs(es,{open:n,onOpenChange:S=>{s(S),S||g()},children:[d.jsx(qy,{asChild:!0,children:d.jsxs(Te,{variant:"outline","data-testid":"button-add-token",children:[d.jsx(_d,{className:"mr-2 h-4 w-4"}),"Add Token"]})}),d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Add Custom Token"}),d.jsx(Kn,{children:"Add an ERC-20, BEP-20, or TRC-20 token by entering its contract address."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Blockchain Network"}),d.jsxs(_1,{value:i,onValueChange:q,children:[d.jsx(tm,{id:"chain","data-testid":"select-token-chain",children:d.jsx(Ux,{placeholder:"Select a network"})}),d.jsx(rm,{children:j.map(S=>d.jsx(ll,{value:S.id,children:S.name},S.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"contract",children:"Contract Address"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ar,{id:"contract",placeholder:R?"T...":"0x...",value:o,onChange:S=>$(S.target.value),className:"font-mono","data-testid":"input-token-contract"}),!R&&d.jsx(Te,{variant:"outline",onClick:b,disabled:!i||!o||f,"data-testid":"button-fetch-info",children:f?d.jsx(fl,{className:"h-4 w-4 animate-spin"}):"Fetch"})]})]}),m&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[d.jsx(R4,{className:"h-4 w-4"}),m]}),R&&i&&d.jsxs("div",{className:"space-y-3 rounded-md border p-3 bg-muted/50",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter token details manually for TRC-20 tokens:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualName",children:"Token Name"}),d.jsx(ar,{id:"manualName",placeholder:"e.g., Tether USD",value:C,onChange:S=>I(S.target.value),"data-testid":"input-manual-name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualSymbol",children:"Token Symbol"}),d.jsx(ar,{id:"manualSymbol",placeholder:"e.g., USDT",value:_,onChange:S=>O(S.target.value),"data-testid":"input-manual-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualDecimals",children:"Decimals"}),d.jsx(ar,{id:"manualDecimals",type:"number",min:"0",max:"18",placeholder:"18",value:F,onChange:S=>D(S.target.value),"data-testid":"input-manual-decimals"})]})]}),l&&!R&&d.jsxs("div",{className:"rounded-md border p-3 space-y-2 bg-muted/50",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),d.jsx("span",{className:"font-medium",children:l.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Symbol:"}),d.jsx("span",{className:"font-medium",children:l.symbol})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Decimals:"}),d.jsx("span",{className:"font-medium",children:l.decimals})]})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{g(),s(!1)},children:"Cancel"}),d.jsxs(Te,{onClick:p,disabled:!w()||x,"data-testid":"button-submit-token",children:[x?d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Token"]})]})]})]})}function AXe({token:t,onRemove:e}){const r=L0e.find(n=>n.id===t.chainId);return d.jsx(Gt,{"data-testid":`card-token-${t.symbol}`,children:d.jsxs(er,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:d.jsx(ux,{className:"h-5 w-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:t.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.symbol})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[r&&d.jsx(nr,{variant:"outline",className:"text-xs",children:r.name.split(" ")[0]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>e(t.id),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900/20","data-testid":`button-remove-token-${t.id}`,children:d.jsx(x3,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contract"}),d.jsxs("code",{className:"text-xs font-mono",children:[t.contractAddress.slice(0,6),"...",t.contractAddress.slice(-4)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:t.decimals})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Type"}),d.jsx("span",{className:"uppercase text-xs",children:t.chainType})]})]})]})})}function SXe({chain:t,onClick:e}){return d.jsx(Gt,{className:"cursor-pointer hover-elevate active-elevate-2 transition-all",onClick:e,"data-testid":`card-add-network-${t.symbol}`,children:d.jsxs(er,{className:"flex flex-col items-center justify-center p-6 text-center",children:[d.jsx(Yn,{symbol:t.symbol,iconColor:t.iconColor,size:"lg"}),d.jsx("h3",{className:"mt-3 font-semibold",children:t.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap to add"})]})})}function PXe(){const{wallets:t,isUnlocked:e,chains:r,customTokens:n,addCustomToken:s,removeCustomToken:i,addCustomChain:a,customChains:o,pendingAddChain:c,setPendingAddChain:l,walletMode:u,renameWallet:f}=Yi(),h=t.length>0,[m,y]=B.useState("chains"),[x,k]=B.useState(!1),C=r.filter(O=>t.some(F=>F.chainId===O.id)),I=r.filter(O=>!t.some(F=>F.chainId===O.id)),_=O=>{u==="soft_wallet"&&(l({chainId:O.id,chainName:O.name}),k(!0))};return!h||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Chains & Tokens"}),d.jsx(h5,{})]}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ew,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Chains & Tokens"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(VK,{addCustomToken:s,customChains:o}),d.jsx(wXe,{addCustomChain:a})]})]}),d.jsxs(f5,{value:m,onValueChange:y,children:[d.jsxs(Iw,{className:"mb-6",children:[d.jsxs(No,{value:"chains","data-testid":"tab-chains",children:[d.jsx(OB,{className:"mr-2 h-4 w-4"}),"Networks (",C.length,")"]}),d.jsxs(No,{value:"tokens","data-testid":"tab-tokens",children:[d.jsx(ux,{className:"mr-2 h-4 w-4"}),"Tokens (",n.length,")"]})]}),d.jsxs(Eo,{value:"chains",className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Chains"}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[C.length," network",C.length!==1?"s":""," active"]}),C.length>0?d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:C.map(O=>{const F=t.find(D=>D.chainId===O.id);return d.jsx(xXe,{chain:O,wallet:F,onRename:f},O.id)})}):d.jsx(Gt,{children:d.jsx(er,{className:"py-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No active networks. Add one below."})})})]}),I.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Add Networks"}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[I.length," available"]}),d.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:I.map(O=>d.jsx(SXe,{chain:O,onClick:()=>_(O)},O.id))})]})]}),d.jsx(Eo,{value:"tokens",children:n.length===0?d.jsx(Gt,{children:d.jsxs(er,{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(ux,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Custom Tokens"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add custom ERC-20, BEP-20, or TRC-20 tokens to track"}),d.jsx(VK,{addCustomToken:s,customChains:o})]})}):d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(O=>d.jsx(AXe,{token:O,onRemove:i},O.id))})})]}),d.jsx(vXe,{open:x&&!!c,onOpenChange:k})]})}var ID="Switch",[kXe,j6t]=Zi(ID),[IXe,NXe]=kXe(ID),V0e=B.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:l,form:u,...f}=t,[h,m]=B.useState(null),y=yr(e,_=>m(_)),x=B.useRef(!1),k=h?u||!!h.closest("form"):!0,[C=!1,I]=Nu({prop:s,defaultProp:i,onChange:l});return d.jsxs(IXe,{scope:r,checked:C,disabled:o,children:[d.jsx(Qt.button,{type:"button",role:"switch","aria-checked":C,"aria-required":a,"data-state":W0e(C),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:y,onClick:Ct(t.onClick,_=>{I(O=>!O),k&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),k&&d.jsx(EXe,{control:h,bubbles:!x.current,name:n,value:c,checked:C,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});V0e.displayName=ID;var H0e="SwitchThumb",q0e=B.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=NXe(H0e,r);return d.jsx(Qt.span,{"data-state":W0e(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});q0e.displayName=H0e;var EXe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,i=B.useRef(null),a=Yk(r),o=RP(e);return B.useEffect(()=>{const c=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W0e(t){return t?"checked":"unchecked"}var K0e=V0e,CXe=q0e;const PS=B.forwardRef(({className:t,...e},r)=>d.jsx(K0e,{className:jt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:d.jsx(CXe,{className:jt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));PS.displayName=K0e.displayName;var Me={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y$=function(t,e){return y$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},y$(t,e)};function _Xe(t,e){y$(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v$=function(){return v$=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},v$.apply(this,arguments)};function TXe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function jXe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function MXe(t,e){return function(r,n){e(r,n,t)}}function $Xe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function OXe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{l(n.next(u))}catch(f){a(f)}}function c(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function BXe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function FXe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function RXe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function x$(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X0e(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function DXe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(X0e(arguments[e]));return t}function UXe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function Q6(t){return this instanceof Q6?(this.v=t,this):new Q6(t)}function zXe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(m){return new Promise(function(y,x){i.push([h,m,y,x])>1||o(h,m)})})}function o(h,m){try{c(n[h](m))}catch(y){f(i[0][3],y)}}function c(h){h.value instanceof Q6?Promise.resolve(h.value.v).then(l,u):f(i[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,m){h(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}function LXe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Q6(t[s](a)),done:s==="return"}:i?i(a):a}:i}}function VXe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof x$=="function"?x$(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function HXe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function qXe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function WXe(t){return t&&t.__esModule?t:{default:t}}function KXe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function XXe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const ZXe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return v$},__asyncDelegator:LXe,__asyncGenerator:zXe,__asyncValues:VXe,__await:Q6,__awaiter:OXe,__classPrivateFieldGet:KXe,__classPrivateFieldSet:XXe,__createBinding:FXe,__decorate:jXe,__exportStar:RXe,__extends:_Xe,__generator:BXe,__importDefault:WXe,__importStar:qXe,__makeTemplateObject:HXe,__metadata:$Xe,__param:MXe,__read:X0e,__rest:TXe,__spread:DXe,__spreadArrays:UXe,__values:x$},Symbol.toStringTag,{value:"Module"})),lI=hP(ZXe);var TC={},h2={},HK;function JXe(){if(HK)return h2;HK=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return h2.delay=t,h2}var jm={},jC={},Mm={},qK;function QXe(){return qK||(qK=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.ONE_THOUSAND=Mm.ONE_HUNDRED=void 0,Mm.ONE_HUNDRED=100,Mm.ONE_THOUSAND=1e3),Mm}var MC={},WK;function YXe(){return WK||(WK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(MC)),MC}var KK;function Z0e(){return KK||(KK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lI;e.__exportStar(QXe(),t),e.__exportStar(YXe(),t)}(jC)),jC}var XK;function GXe(){if(XK)return jm;XK=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.fromMiliseconds=jm.toMiliseconds=void 0;const t=Z0e();function e(n){return n*t.ONE_THOUSAND}jm.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return jm.fromMiliseconds=r,jm}var ZK;function eZe(){return ZK||(ZK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lI;e.__exportStar(JXe(),t),e.__exportStar(GXe(),t)}(TC)),TC}var gb={},JK;function tZe(){if(JK)return gb;JK=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return gb.Watch=t,gb.default=t,gb}var $C={},p2={},QK;function rZe(){if(QK)return p2;QK=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.IWatch=void 0;class t{}return p2.IWatch=t,p2}var YK;function nZe(){return YK||(YK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),lI.__exportStar(rZe(),t)}($C)),$C}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lI;e.__exportStar(eZe(),t),e.__exportStar(tZe(),t),e.__exportStar(nZe(),t),e.__exportStar(Z0e(),t)})(Me);class Ys{}let sZe=class extends Ys{constructor(e){super()}};const GK=Me.FIVE_SECONDS,Gi={pulse:"heartbeat_pulse"};let ND=class J0e extends sZe{constructor(e){super(e),this.events=new Un.EventEmitter,this.interval=GK,this.interval=(e==null?void 0:e.interval)||GK}static async init(e){const r=new J0e(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Me.toMiliseconds(this.interval))}pulse(){this.events.emit(Gi.pulse)}};const iZe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,aZe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,oZe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function cZe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){lZe(t);return}return e}function lZe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function d9(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!oZe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(iZe.test(t)||aZe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,cZe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function uZe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function oi(t,...e){try{return uZe(t(...e))}catch(r){return Promise.reject(r)}}function dZe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function fZe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function P7(t){if(dZe(t))return String(t);if(fZe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return P7(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const w$="base64:";function hZe(t){return typeof t=="string"?t:w$+gZe(t)}function pZe(t){return typeof t!="string"||!t.startsWith(w$)?t:mZe(t.slice(w$.length))}function mZe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function gZe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function yo(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function bZe(...t){return yo(t.join(":"))}function f9(t){return t=yo(t),t?t+":":""}function yZe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function vZe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const xZe="memory",wZe=()=>{const t=new Map;return{name:xZe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function ED(t={}){const e={mounts:{"":t.driver||wZe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=yo(u);for(const f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await eX(e.mounts[l],s,l)}},a=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},o=(l,u,f)=>{const h=new Map,m=y=>{let x=h.get(y.base);return x||(x={driver:y.driver,base:y.base,items:[]},h.set(y.base,x)),x};for(const y of l){const x=typeof y=="string",k=yo(x?y:y.key),C=x?void 0:y.value,I=x||!y.options?u:{...u,...y.options},_=r(k);m(_).items.push({key:k,value:C,relativeKey:_.relativeKey,options:I})}return Promise.all([...h.values()].map(y=>f(y))).then(y=>y.flat())},c={hasItem(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return oi(h.hasItem,f,u)},getItem(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return oi(h.getItem,f,u).then(m=>d9(m))},getItems(l,u={}){return o(l,u,f=>f.driver.getItems?oi(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(m=>({key:bZe(f.base,m.key),value:d9(m.value)}))):Promise.all(f.items.map(h=>oi(f.driver.getItem,h.relativeKey,h.options).then(m=>({key:h.key,value:d9(m)})))))},getItemRaw(l,u={}){l=yo(l);const{relativeKey:f,driver:h}=r(l);return h.getItemRaw?oi(h.getItemRaw,f,u):oi(h.getItem,f,u).then(m=>pZe(m))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=yo(l);const{relativeKey:h,driver:m}=r(l);m.setItem&&(await oi(m.setItem,h,P7(u),f),m.watch||s("update",l))},async setItems(l,u){await o(l,u,async f=>{if(f.driver.setItems)return oi(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:P7(h.value),options:h.options})),u);f.driver.setItem&&await Promise.all(f.items.map(h=>oi(f.driver.setItem,h.relativeKey,P7(h.value),h.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=yo(l);const{relativeKey:h,driver:m}=r(l);if(m.setItemRaw)await oi(m.setItemRaw,h,u,f);else if(m.setItem)await oi(m.setItem,h,hZe(u),f);else return;m.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=yo(l);const{relativeKey:f,driver:h}=r(l);h.removeItem&&(await oi(h.removeItem,f,u),(u.removeMeta||u.removeMata)&&await oi(h.removeItem,f+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=yo(l);const{relativeKey:f,driver:h}=r(l),m=Object.create(null);if(h.getMeta&&Object.assign(m,await oi(h.getMeta,f,u)),!u.nativeOnly){const y=await oi(h.getItem,f+"$",u).then(x=>d9(x));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(m,y))}return m},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var k;l=f9(l);const f=n(l,!0);let h=[];const m=[];let y=!0;for(const C of f){(k=C.driver.flags)!=null&&k.maxDepth||(y=!1);const I=await oi(C.driver.getKeys,C.relativeBase,u);for(const _ of I){const O=C.mountpoint+yo(_);h.some(F=>O.startsWith(F))||m.push(O)}h=[C.mountpoint,...h.filter(_=>!_.startsWith(C.mountpoint))]}const x=u.maxDepth!==void 0&&!y;return m.filter(C=>(!x||yZe(C,u.maxDepth))&&vZe(C,l))},async clear(l,u={}){l=f9(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return oi(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(h.map(m=>f.driver.removeItem(m,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>tX(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(l,u){if(l=f9(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(eX(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,h;l=f9(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(f=e.unwatch)[l])==null||h.call(f),delete e.unwatch[l]),u&&await tX(e.mounts[l]),e.mountpoints=e.mountpoints.filter(m=>m!==l),delete e.mounts[l])},getMount(l=""){l=yo(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=yo(l),n(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function eX(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function tX(t){typeof t.dispose=="function"&&await oi(t.dispose)}function Y1(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function uI(t,e){let r;const n=()=>{if(r)return r;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),r=Y1(s),r.then(i=>{i.onclose=()=>r=void 0},()=>{}),r};return(s,i)=>n().then(a=>i(a.transaction(e,s).objectStore(e)))}let OC;function b5(){return OC||(OC=uI("keyval-store","keyval")),OC}function zx(t,e=b5()){return e("readonly",r=>Y1(r.get(t)))}function CD(t,e,r=b5()){return r("readwrite",n=>(n.put(e,t),Y1(n.transaction)))}function _D(t,e=b5()){return e("readwrite",r=>(r.delete(t),Y1(r.transaction)))}function TD(t=b5()){return t("readwrite",e=>(e.clear(),Y1(e.transaction)))}function AZe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Y1(t.transaction)}function jD(t=b5()){return t("readonly",e=>{if(e.getAllKeys)return Y1(e.getAllKeys());const r=[];return AZe(e,n=>r.push(n.key)).then(()=>r)})}const SZe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),PZe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Pi(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return PZe(t)}catch{return t}}function Js(t){return typeof t=="string"?t:SZe(t)||""}const kZe="idb-keyval";var IZe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=uI(t.dbName,t.storeName)),{name:kZe,options:t,async hasItem(s){return!(typeof await zx(r(s),n)>"u")},async getItem(s){return await zx(r(s),n)??null},setItem(s,i){return CD(r(s),i,n)},removeItem(s){return _D(r(s),n)},getKeys(){return jD(n)},clear(){return TD(n)}}};const NZe="WALLET_CONNECT_V2_INDEXED_DB",EZe="keyvaluestorage";let CZe=class{constructor(){this.indexedDb=ED({driver:IZe({dbName:NZe,storeName:EZe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Js(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof BC<"u"&&BC.localStorage?k7.exports=BC.localStorage:typeof window<"u"&&window.localStorage?k7.exports=window.localStorage:k7.exports=new e})();function _Ze(t){var e;return[t[0],Pi((e=t[1])!=null?e:"")]}let TZe=class{constructor(){this.localStorage=k7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_Ze)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Pi(r)}async setItem(e,r){this.localStorage.setItem(e,Js(r))}async removeItem(e){this.localStorage.removeItem(e)}};const jZe="wc_storage_version",rX=1,MZe=async(t,e,r)=>{const n=jZe,s=await e.getItem(n);if(s&&s>=rX){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,rX),r(e),$Ze(t,a)},$Ze=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let OZe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new TZe;this.storage=e;try{const r=new CZe;MZe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Cd={exports:{}};function BZe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var FZe=RZe;function RZe(t,e,r){var n=r&&r.stringify||BZe,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var a=new Array(i);a[0]=n(t);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,f=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Number(e[u]),f=m+2,m++;break;case 105:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Math.floor(Number(e[u])),f=m+2,m++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<m&&(l+=t.slice(f,m));var y=typeof e[u];if(y==="string"){l+="'"+e[u]+"'",f=m+2,m++;break}if(y==="function"){l+=e[u].name||"<anonymous>",f=m+2,m++;break}l+=n(e[u]),f=m+2,m++;break;case 115:if(u>=c)break;f<m&&(l+=t.slice(f,m)),l+=String(e[u]),f=m+2,m++;break;case 37:f<m&&(l+=t.slice(f,m)),l+="%",f=m+2,m++,u--;break}++u}++m}return f===-1?t:(f<h&&(l+=t.slice(f)),l)}const nX=FZe;Cd.exports=Ah;const Y6=GZe().console||{},DZe={mapHttpRequest:h9,mapHttpResponse:h9,wrapRequestSerializer:FC,wrapResponseSerializer:FC,wrapErrorSerializer:FC,req:h9,res:h9,err:iX,errWithCause:iX};function Sp(t,e){return t==="silent"?1/0:e.levels.values[t]}const MD=Symbol("pino.logFuncs"),A$=Symbol("pino.hierarchy"),UZe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function sX(t,e){const r={logger:e,parent:t[A$]};e[A$]=r}function zZe(t,e,r){const n={};e.forEach(s=>{n[s]=r[s]?r[s]:Y6[s]||Y6[UZe[s]||"log"]||Ky}),t[MD]=n}function LZe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ah(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Y6;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=LZe(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&o.forEach(function(x){r[x]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const c=t.level||"info",l=Object.create(r);l.log||(l.log=Ky),zZe(l,o,r),sX({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:h,set:m});const u={transmit:e,serialize:s,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:o,timestamp:JZe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Ky};l.levels=VZe(t),l.level=c,l.isLevelEnabled=function(x){return this.levels.values[x]?this.levels.values[x]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Ky,l.serializers=n,l._serialize=s,l._stdErrSerialize=i,l.child=function(...x){return y.call(this,u,...x)},e&&(l._logEvent=S$());function f(){return Sp(this.level,this)}function h(){return this._level}function m(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,$m(this,u,l,"error"),$m(this,u,l,"fatal"),$m(this,u,l,"warn"),$m(this,u,l,"info"),$m(this,u,l,"debug"),$m(this,u,l,"trace"),a.forEach(k=>{$m(this,u,l,k)})}function y(x,k,C){if(!k)throw new Error("missing bindings for child Pino");C=C||{},s&&k.serializers&&(C.serializers=k.serializers);const I=C.serializers;if(s&&I){var _=Object.assign({},n,I),O=t.browser.serialize===!0?Object.keys(_):s;delete k.serializers,$D([k],O,_,this._stdErrSerialize)}function F(j){this._childLevel=(j._childLevel|0)+1,this.bindings=k,_&&(this.serializers=_,this._serialize=O),e&&(this._logEvent=S$([].concat(j._logEvent.bindings,k)))}F.prototype=this;const D=new F(this);return sX(this,D),D.child=function(...j){return y.call(this,x,...j)},D.level=C.level||this.level,x.onChild(D),D}return l}function VZe(t){const e=t.customLevels||{},r=Object.assign({},Ah.levels.values,e),n=Object.assign({},Ah.levels.labels,HZe(e));return{values:r,labels:n}}function HZe(t){const e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}Ah.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Ah.stdSerializers=DZe,Ah.stdTimeFunctions=Object.assign({},{nullTime:Q0e,epochTime:Y0e,unixTime:QZe,isoTime:YZe});function qZe(t){const e=[];t.bindings&&e.push(t.bindings);let r=t[A$];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function $m(t,e,r,n){if(Object.defineProperty(t,n,{value:Sp(t.level,r)>Sp(n,r)?Ky:r[MD][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Ky){if(!e.transmit)return;const i=e.transmit.level||t.level,a=Sp(i,r);if(Sp(n,r)<a)return}t[n]=KZe(t,e,r,n);const s=qZe(t);s.length!==0&&(t[n]=WZe(s,t[n]))}function WZe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function KZe(t,e,r,n){return function(s){return function(){const i=e.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Y6?Y6:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];var l=!1;if(e.serialize&&($D(a,this._serialize,this.serializers,this._stdErrSerialize),l=!0),e.asObject||e.formatters?s.call(o,...XZe(this,n,a,i,e)):s.apply(o,a),e.transmit){const u=e.transmit.level||t._level,f=Sp(u,r),h=Sp(n,r);if(h<f)return;ZZe(this,{ts:i,methodLevel:n,methodValue:h,transmitLevel:u,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Sp(t._level,r)},a,l)}}}(t[MD][n])}function XZe(t,e,r,n,s){const{level:i,log:a=f=>f}=s.formatters||{},o=r.slice();let c=o[0];const l={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),n&&(l.time=n),i){const f=i(e,t.levels.values[e]);Object.assign(l,f)}else l.level=t.levels.values[e];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());return[a(l),...o]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());c=o.length?nX(o.shift(),o):void 0}else typeof c=="string"&&(c=nX(o.shift(),o));return c!==void 0&&(l[s.messageKey]=c),[a(l)]}}function $D(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Ah.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s])&&e)for(const i in t[s])e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function ZZe(t,e,r,n=!1){const s=e.send,i=e.ts,a=e.methodLevel,o=e.methodValue,c=e.val,l=t._logEvent.bindings;n||$D(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return l.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,s(a,t._logEvent,c),t._logEvent=S$(l)}function S$(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function iX(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function JZe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Q0e:Y0e}function h9(){return{}}function FC(t){return t}function Ky(){}function Q0e(){return!1}function Y0e(){return Date.now()}function QZe(){return Math.round(Date.now()/1e3)}function YZe(){return new Date(Date.now()).toISOString()}function GZe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}Cd.exports.default=Ah;Cd.exports.pino=Ah;const eJe={level:"info"},dI="custom_context",OD=1e3*1024;var tJe=Object.defineProperty,rJe=(t,e,r)=>e in t?tJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K0=(t,e,r)=>rJe(t,typeof e!="symbol"?e+"":e,r);let nJe=class{constructor(e){K0(this,"nodeValue"),K0(this,"sizeInBytes"),K0(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},aX=class{constructor(e){K0(this,"lengthInNodes"),K0(this,"sizeInBytes"),K0(this,"head"),K0(this,"tail"),K0(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new nJe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}};const sJe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);function oX(t){return typeof t=="string"?t:sJe(t)||""}var iJe=Object.defineProperty,aJe=(t,e,r)=>e in t?iJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p9=(t,e,r)=>aJe(t,typeof e!="symbol"?e+"":e,r);let G0e=class{constructor(e,r=OD){p9(this,"logs"),p9(this,"level"),p9(this,"levelValue"),p9(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Cd.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new aX(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Cd.exports.levels.values.error?console.error(e):r===Cd.exports.levels.values.warn?console.warn(e):r===Cd.exports.levels.values.debug?console.debug(e):r===Cd.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(oX({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new aX(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(oX({extraMetadata:e})),new Blob(r,{type:"application/json"})}};var oJe=Object.defineProperty,cJe=(t,e,r)=>e in t?oJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lJe=(t,e,r)=>cJe(t,e+"",r);let uJe=class{constructor(e,r=OD){lJe(this,"baseChunkLogger"),this.baseChunkLogger=new G0e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}};var dJe=Object.defineProperty,fJe=(t,e,r)=>e in t?dJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hJe=(t,e,r)=>fJe(t,e+"",r);let pJe=class{constructor(e,r=OD){hJe(this,"baseChunkLogger"),this.baseChunkLogger=new G0e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var mJe=Object.defineProperty,gJe=Object.defineProperties,bJe=Object.getOwnPropertyDescriptors,cX=Object.getOwnPropertySymbols,yJe=Object.prototype.hasOwnProperty,vJe=Object.prototype.propertyIsEnumerable,lX=(t,e,r)=>e in t?mJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kS=(t,e)=>{for(var r in e||(e={}))yJe.call(e,r)&&lX(t,r,e[r]);if(cX)for(var r of cX(e))vJe.call(e,r)&&lX(t,r,e[r]);return t},IS=(t,e)=>gJe(t,bJe(e));function xJe(t){return IS(kS({},t),{level:(t==null?void 0:t.level)||eJe.level})}function wJe(t,e,r=dI){return t[r]=e,t}function Pc(t,e=dI){return t[e]||""}function AJe(t,e,r=dI){const n=Pc(t,r);return n.trim()?`${n}/${e}`:e}function kc(t,e,r=dI){const n=AJe(t,e,r),s=t.child({context:n});return wJe(s,n,r)}function SJe(t){var e,r;const n=new uJe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Cd.exports(IS(kS({},t.opts),{level:"trace",browser:IS(kS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function PJe(t){var e;const r=new pJe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Cd.exports(IS(kS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function epe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?SJe(t):PJe(t)}var kJe=Object.defineProperty,IJe=(t,e,r)=>e in t?kJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uX=(t,e,r)=>IJe(t,typeof e!="symbol"?e+"":e,r);let NJe=class extends Ys{constructor(e){super(),this.opts=e,uX(this,"protocol","wc"),uX(this,"version",2)}};var EJe=Object.defineProperty,CJe=(t,e,r)=>e in t?EJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_Je=(t,e,r)=>CJe(t,e+"",r);let TJe=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r,_Je(this,"records",new Map)}},jJe=class{constructor(e,r){this.logger=e,this.core=r}},MJe=class extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}},$Je=class extends Ys{constructor(e){super()}},OJe=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},BJe=class extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}},FJe=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r}},RJe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},DJe=class{constructor(e,r){this.projectId=e,this.logger=r}},UJe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};function zJe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tpe(t,...e){if(!zJe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LJe(t,e){tpe(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const bb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RC=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function VJe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function rpe(t){return typeof t=="string"&&(t=VJe(t)),tpe(t),t}let HJe=class{clone(){return this._cloneInto()}};function qJe(t){const e=n=>t().update(rpe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function npe(t=32){if(bb&&typeof bb.getRandomValues=="function")return bb.getRandomValues(new Uint8Array(t));if(bb&&typeof bb.randomBytes=="function")return bb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function WJe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}let KJe=class extends HJe{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RC(this.buffer)}update(e){dX(this);const{view:r,buffer:n,blockLen:s}=this;e=rpe(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=RC(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dX(this),LJe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;WJe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=RC(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}};const m9=BigInt(2**32-1),P$=BigInt(32);function spe(t,e=!1){return e?{h:Number(t&m9),l:Number(t>>P$&m9)}:{h:Number(t>>P$&m9)|0,l:Number(t&m9)|0}}function XJe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=spe(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const ZJe=(t,e)=>BigInt(t>>>0)<<P$|BigInt(e>>>0),JJe=(t,e,r)=>t>>>r,QJe=(t,e,r)=>t<<32-r|e>>>r,YJe=(t,e,r)=>t>>>r|e<<32-r,GJe=(t,e,r)=>t<<32-r|e>>>r,eQe=(t,e,r)=>t<<64-r|e>>>r-32,tQe=(t,e,r)=>t>>>r-32|e<<64-r,rQe=(t,e)=>e,nQe=(t,e)=>t,sQe=(t,e,r)=>t<<r|e>>>32-r,iQe=(t,e,r)=>e<<r|t>>>32-r,aQe=(t,e,r)=>e<<r-32|t>>>64-r,oQe=(t,e,r)=>t<<r-32|e>>>64-r;function cQe(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const lQe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),uQe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,dQe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fQe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,hQe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),pQe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Er={fromBig:spe,split:XJe,toBig:ZJe,shrSH:JJe,shrSL:QJe,rotrSH:YJe,rotrSL:GJe,rotrBH:eQe,rotrBL:tQe,rotr32H:rQe,rotr32L:nQe,rotlSH:sQe,rotlSL:iQe,rotlBH:aQe,rotlBL:oQe,add:cQe,add3L:lQe,add3H:uQe,add4L:dQe,add4H:fQe,add5H:pQe,add5L:hQe},[mQe,gQe]=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),g0=new Uint32Array(80),b0=new Uint32Array(80);let bQe=class extends KJe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:y,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=y|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)g0[_]=e.getUint32(r),b0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const O=g0[_-15]|0,F=b0[_-15]|0,D=Er.rotrSH(O,F,1)^Er.rotrSH(O,F,8)^Er.shrSH(O,F,7),j=Er.rotrSL(O,F,1)^Er.rotrSL(O,F,8)^Er.shrSL(O,F,7),T=g0[_-2]|0,R=b0[_-2]|0,q=Er.rotrSH(T,R,19)^Er.rotrBH(T,R,61)^Er.shrSH(T,R,6),$=Er.rotrSL(T,R,19)^Er.rotrBL(T,R,61)^Er.shrSL(T,R,6),b=Er.add4L(j,$,b0[_-7],b0[_-16]),w=Er.add4H(b,D,q,g0[_-7],g0[_-16]);g0[_]=w|0,b0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:y,Gh:x,Gl:k,Hh:C,Hl:I}=this;for(let _=0;_<80;_++){const O=Er.rotrSH(f,h,14)^Er.rotrSH(f,h,18)^Er.rotrBH(f,h,41),F=Er.rotrSL(f,h,14)^Er.rotrSL(f,h,18)^Er.rotrBL(f,h,41),D=f&m^~f&x,j=h&y^~h&k,T=Er.add5L(I,F,j,gQe[_],b0[_]),R=Er.add5H(T,C,O,D,mQe[_],g0[_]),q=T|0,$=Er.rotrSH(n,s,28)^Er.rotrBH(n,s,34)^Er.rotrBH(n,s,39),b=Er.rotrSL(n,s,28)^Er.rotrBL(n,s,34)^Er.rotrBL(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;C=x|0,I=k|0,x=m|0,k=y|0,m=f|0,y=h|0,{h:f,l:h}=Er.add(l|0,u|0,R|0,q|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=Er.add3L(q,b,p);n=Er.add3H(g,R,$,w),s=g|0}({h:n,l:s}=Er.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Er.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Er.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Er.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Er.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:y}=Er.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:x,l:k}=Er.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:C,l:I}=Er.add(this.Hh|0,this.Hl|0,C|0,I|0),this.set(n,s,i,a,o,c,l,u,f,h,m,y,x,k,C,I)}roundClean(){g0.fill(0),b0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const yQe=qJe(()=>new bQe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BD=BigInt(0),ipe=BigInt(1),vQe=BigInt(2);function FD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function RD(t){if(!FD(t))throw new Error("Uint8Array expected")}function DC(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const xQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function DD(t){RD(t);let e="";for(let r=0;r<t.length;r++)e+=xQe[t[r]];return e}function ape(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?BD:BigInt("0x"+t)}const Pf={_0:48,_9:57,A:65,F:70,a:97,f:102};function fX(t){if(t>=Pf._0&&t<=Pf._9)return t-Pf._0;if(t>=Pf.A&&t<=Pf.F)return t-(Pf.A-10);if(t>=Pf.a&&t<=Pf.f)return t-(Pf.a-10)}function ope(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const a=fX(t.charCodeAt(i)),o=fX(t.charCodeAt(i+1));if(a===void 0||o===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=a*16+o}return n}function wQe(t){return ape(DD(t))}function I7(t){return RD(t),ape(DD(Uint8Array.from(t).reverse()))}function cpe(t,e){return ope(t.toString(16).padStart(e*2,"0"))}function k$(t,e){return cpe(t,e).reverse()}function kf(t,e,r){let n;if(typeof e=="string")try{n=ope(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(FD(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function hX(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];RD(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const UC=t=>typeof t=="bigint"&&BD<=t;function AQe(t,e,r){return UC(t)&&UC(e)&&UC(r)&&e<=t&&t<r}function m2(t,e,r,n){if(!AQe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function SQe(t){let e;for(e=0;t>BD;t>>=ipe,e+=1);return e}const PQe=t=>(vQe<<BigInt(t-1))-ipe,kQe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||FD(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function UD(t,e,r={}){const n=(s,i,a)=>{const o=kQe[i];if(typeof o!="function")throw new Error("invalid validator function");const c=t[s];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function pX(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const gi=BigInt(0),Ms=BigInt(1),eg=BigInt(2),IQe=BigInt(3),I$=BigInt(4),mX=BigInt(5),gX=BigInt(8);function Ks(t,e){const r=t%e;return r>=gi?r:e+r}function NQe(t,e,r){if(e<gi)throw new Error("invalid exponent, negatives unsupported");if(r<=gi)throw new Error("invalid modulus");if(r===Ms)return gi;let n=Ms;for(;e>gi;)e&Ms&&(n=n*t%r),t=t*t%r,e>>=Ms;return n}function Ku(t,e,r){let n=t;for(;e-- >gi;)n*=n,n%=r;return n}function bX(t,e){if(t===gi)throw new Error("invert: expected non-zero number");if(e<=gi)throw new Error("invert: expected positive modulus, got "+e);let r=Ks(t,e),n=e,s=gi,i=Ms;for(;r!==gi;){const a=n/r,o=n%r,c=s-i*a;n=r,r=o,s=i,i=c}if(n!==Ms)throw new Error("invert: does not exist");return Ks(s,e)}function EQe(t){const e=(t-Ms)/eg;let r,n,s;for(r=t-Ms,n=0;r%eg===gi;r/=eg,n++);for(s=eg;s<t&&NQe(s,e,t)!==t-Ms;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(t+Ms)/I$;return function(o,c){const l=o.pow(c,a);if(!o.eql(o.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(r+Ms)/eg;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,l=a.pow(a.mul(a.ONE,s),r),u=a.pow(o,i),f=a.pow(o,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(f);h<c&&!a.eql(y,a.ONE);h++)y=a.sqr(y);const m=a.pow(l,Ms<<BigInt(c-h-1));l=a.sqr(m),u=a.mul(u,m),f=a.mul(f,l),c=h}return u}}function CQe(t){if(t%I$===IQe){const e=(t+Ms)/I$;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%gX===mX){const e=(t-mX)/gX;return function(r,n){const s=r.mul(n,eg),i=r.pow(s,e),a=r.mul(n,i),o=r.mul(r.mul(a,eg),i),c=r.mul(a,r.sub(o,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return EQe(t)}const _Qe=(t,e)=>(Ks(t,e)&Ms)===Ms,TQe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jQe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=TQe.reduce((n,s)=>(n[s]="function",n),e);return UD(t,r)}function MQe(t,e,r){if(r<gi)throw new Error("invalid exponent, negatives unsupported");if(r===gi)return t.ONE;if(r===Ms)return e;let n=t.ONE,s=e;for(;r>gi;)r&Ms&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ms;return n}function $Qe(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function lpe(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function upe(t,e,r=!1,n={}){if(t<=gi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=lpe(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:PQe(s),ZERO:gi,ONE:Ms,create:c=>Ks(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return gi<=c&&c<t},is0:c=>c===gi,isOdd:c=>(c&Ms)===Ms,neg:c=>Ks(-c,t),eql:(c,l)=>c===l,sqr:c=>Ks(c*c,t),add:(c,l)=>Ks(c+l,t),sub:(c,l)=>Ks(c-l,t),mul:(c,l)=>Ks(c*l,t),pow:(c,l)=>MQe(o,c,l),div:(c,l)=>Ks(c*bX(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>bX(c,t),sqrt:n.sqrt||(c=>(a||(a=CQe(t)),a(o,c))),invertBatch:c=>$Qe(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?k$(c,i):cpe(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?I7(c):wQe(c)}});return Object.freeze(o)}const yX=BigInt(0),g9=BigInt(1);function zC(t,e){const r=e.negate();return t?r:e}function dpe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function LC(t,e){dpe(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function OQe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function BQe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const VC=new WeakMap,fpe=new WeakMap;function HC(t){return fpe.get(t)||1}function FQe(t,e){return{constTimeNegate:zC,hasPrecomputes(r){return HC(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>yX;)n&g9&&(s=s.add(i)),i=i.double(),n>>=g9;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=LC(n,e),a=[];let o=r,c=o;for(let l=0;l<s;l++){c=o,a.push(c);for(let u=1;u<i;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(r,n,s){const{windows:i,windowSize:a}=LC(r,e);let o=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<i;h++){const m=h*a;let y=Number(s&l);s>>=f,y>a&&(y-=u,s+=g9);const x=m,k=m+Math.abs(y)-1,C=h%2!==0,I=y<0;y===0?c=c.add(zC(C,n[x])):o=o.add(zC(I,n[k]))}return{p:o,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:a,windowSize:o}=LC(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<a;f++){const h=f*o;if(s===yX)break;let m=Number(s&c);if(s>>=u,m>o&&(m-=l,s+=g9),m===0)continue;let y=n[h+Math.abs(m)-1];m<0&&(y=y.negate()),i=i.add(y)}return i},getPrecomputes(r,n,s){let i=VC.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&VC.set(n,s(i))),i},wNAFCached(r,n,s){const i=HC(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const a=HC(r);return a===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),n,i)},setWindowSize(r,n){dpe(n,e),fpe.set(r,n),VC.delete(r)}}}function RQe(t,e,r,n){if(OQe(r,t),BQe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=SQe(BigInt(r.length)),a=i>12?i-3:i>4?i-2:i?2:1,o=(1<<a)-1,c=new Array(o+1).fill(s),l=Math.floor((e.BITS-1)/a)*a;let u=s;for(let f=l;f>=0;f-=a){c.fill(s);for(let m=0;m<n.length;m++){const y=n[m],x=Number(y>>BigInt(f)&BigInt(o));c[x]=c[x].add(r[m])}let h=s;for(let m=c.length-1,y=s;m>0;m--)y=y.add(c[m]),h=h.add(y);if(u=u.add(h),f!==0)for(let m=0;m<a;m++)u=u.double()}return u}function DQe(t){return jQe(t.Fp),UD(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lpe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Rl=BigInt(0),po=BigInt(1),b9=BigInt(2),UQe=BigInt(8),zQe={zip215:!0};function LQe(t){const e=DQe(t);return UD(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function VQe(t){const e=LQe(t),{Fp:r,n,prehash:s,hash:i,randomBytes:a,nByteLength:o,h:c}=e,l=b9<<BigInt(o*8)-po,u=r.create,f=upe(e.n,e.nBitLength),h=e.uvRatio||((g,S)=>{try{return{isValid:!0,value:r.sqrt(g*r.inv(S))}}catch{return{isValid:!1,value:Rl}}}),m=e.adjustScalarBytes||(g=>g),y=e.domain||((g,S,N)=>{if(DC("phflag",N),S.length||N)throw new Error("Contexts/pre-hash are not supported");return g});function x(g,S){m2("coordinate "+g,S,Rl,l)}function k(g){if(!(g instanceof _))throw new Error("ExtendedPoint expected")}const C=pX((g,S)=>{const{ex:N,ey:P,ez:A}=g,v=g.is0();S==null&&(S=v?UQe:r.inv(A));const E=u(N*S),M=u(P*S),L=u(A*S);if(v)return{x:Rl,y:po};if(L!==po)throw new Error("invZ was invalid");return{x:E,y:M}}),I=pX(g=>{const{a:S,d:N}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:P,ey:A,ez:v,et:E}=g,M=u(P*P),L=u(A*A),Q=u(v*v),U=u(Q*Q),J=u(M*S),Z=u(Q*u(J+L)),re=u(U+u(N*u(M*L)));if(Z!==re)throw new Error("bad point: equation left != right (1)");const G=u(P*A),z=u(v*E);if(G!==z)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(S,N,P,A){this.ex=S,this.ey=N,this.ez=P,this.et=A,x("x",S),x("y",N),x("z",P),x("t",A),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof _)throw new Error("extended point not allowed");const{x:N,y:P}=S||{};return x("x",N),x("y",P),new _(N,P,po,u(N*P))}static normalizeZ(S){const N=r.invertBatch(S.map(P=>P.ez));return S.map((P,A)=>P.toAffine(N[A])).map(_.fromAffine)}static msm(S,N){return RQe(_,f,S,N)}_setWindowSize(S){D.setWindowSize(this,S)}assertValidity(){I(this)}equals(S){k(S);const{ex:N,ey:P,ez:A}=this,{ex:v,ey:E,ez:M}=S,L=u(N*M),Q=u(v*A),U=u(P*M),J=u(E*A);return L===Q&&U===J}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:N,ey:P,ez:A}=this,v=u(N*N),E=u(P*P),M=u(b9*u(A*A)),L=u(S*v),Q=N+P,U=u(u(Q*Q)-v-E),J=L+E,Z=J-M,re=L-E,G=u(U*Z),z=u(J*re),se=u(U*re),ce=u(Z*J);return new _(G,z,ce,se)}add(S){k(S);const{a:N,d:P}=e,{ex:A,ey:v,ez:E,et:M}=this,{ex:L,ey:Q,ez:U,et:J}=S;if(N===BigInt(-1)){const We=u((v-A)*(Q+L)),Ae=u((v+A)*(Q-L)),Oe=u(Ae-We);if(Oe===Rl)return this.double();const qe=u(E*b9*J),Fe=u(M*b9*U),ze=Fe+qe,Ke=Ae+We,ct=Fe-qe,Y=u(ze*Oe),V=u(Ke*ct),W=u(ze*ct),ne=u(Oe*Ke);return new _(Y,V,ne,W)}const Z=u(A*L),re=u(v*Q),G=u(M*P*J),z=u(E*U),se=u((A+v)*(L+Q)-Z-re),ce=z-G,pe=z+G,_e=u(re-N*Z),ke=u(se*ce),tt=u(pe*_e),mt=u(se*_e),we=u(ce*pe);return new _(ke,tt,we,mt)}subtract(S){return this.add(S.negate())}wNAF(S){return D.wNAFCached(this,S,_.normalizeZ)}multiply(S){const N=S;m2("scalar",N,po,n);const{p:P,f:A}=this.wNAF(N);return _.normalizeZ([P,A])[0]}multiplyUnsafe(S,N=_.ZERO){const P=S;return m2("scalar",P,Rl,n),P===Rl?F:this.is0()||P===po?this:D.wNAFCachedUnsafe(this,P,_.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,n).is0()}toAffine(S){return C(this,S)}clearCofactor(){const{h:S}=e;return S===po?this:this.multiplyUnsafe(S)}static fromHex(S,N=!1){const{d:P,a:A}=e,v=r.BYTES;S=kf("pointHex",S,v),DC("zip215",N);const E=S.slice(),M=S[v-1];E[v-1]=M&-129;const L=I7(E),Q=N?l:r.ORDER;m2("pointHex.y",L,Rl,Q);const U=u(L*L),J=u(U-po),Z=u(P*U-A);let{isValid:re,value:G}=h(J,Z);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const z=(G&po)===po,se=(M&128)!==0;if(!N&&G===Rl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==z&&(G=u(-G)),_.fromAffine({x:G,y:L})}static fromPrivateKey(S){return R(S).point}toRawBytes(){const{x:S,y:N}=this.toAffine(),P=k$(N,r.BYTES);return P[P.length-1]|=S&po?128:0,P}toHex(){return DD(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,po,u(e.Gx*e.Gy)),_.ZERO=new _(Rl,po,po,Rl);const{BASE:O,ZERO:F}=_,D=FQe(_,o*8);function j(g){return Ks(g,n)}function T(g){return j(I7(g))}function R(g){const S=r.BYTES;g=kf("private key",g,S);const N=kf("hashed private key",i(g),2*S),P=m(N.slice(0,S)),A=N.slice(S,2*S),v=T(P),E=O.multiply(v),M=E.toRawBytes();return{head:P,prefix:A,scalar:v,point:E,pointBytes:M}}function q(g){return R(g).pointBytes}function $(g=new Uint8Array,...S){const N=hX(...S);return T(i(y(N,kf("context",g),!!s)))}function b(g,S,N={}){g=kf("message",g),s&&(g=s(g));const{prefix:P,scalar:A,pointBytes:v}=R(S),E=$(N.context,P,g),M=O.multiply(E).toRawBytes(),L=$(N.context,M,v,g),Q=j(E+L*A);m2("signature.s",Q,Rl,n);const U=hX(M,k$(Q,r.BYTES));return kf("result",U,r.BYTES*2)}const w=zQe;function p(g,S,N,P=w){const{context:A,zip215:v}=P,E=r.BYTES;g=kf("signature",g,2*E),S=kf("message",S),N=kf("publicKey",N,E),v!==void 0&&DC("zip215",v),s&&(S=s(S));const M=I7(g.slice(E,2*E));let L,Q,U;try{L=_.fromHex(N,v),Q=_.fromHex(g.slice(0,E),v),U=O.multiplyUnsafe(M)}catch{return!1}if(!v&&L.isSmallOrder())return!1;const J=$(A,Q.toRawBytes(),L.toRawBytes(),S);return Q.add(L.multiplyUnsafe(J)).subtract(U).clearCofactor().equals(_.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:b,verify:p,ExtendedPoint:_,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>a(r.BYTES),precompute(g=8,S=_.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const zD=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const HQe=BigInt(1),xX=BigInt(2);BigInt(3);const qQe=BigInt(5),WQe=BigInt(8);function KQe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=zD,a=t*t%i*t%i,o=Ku(a,xX,i)*a%i,c=Ku(o,HQe,i)*t%i,l=Ku(c,qQe,i)*c%i,u=Ku(l,e,i)*l%i,f=Ku(u,r,i)*u%i,h=Ku(f,n,i)*f%i,m=Ku(h,s,i)*h%i,y=Ku(m,s,i)*h%i,x=Ku(y,e,i)*l%i;return{pow_p_5_8:Ku(x,xX,i)*t%i,b2:a}}function XQe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function ZQe(t,e){const r=zD,n=Ks(e*e*e,r),s=Ks(n*n*e,r),i=KQe(t*s).pow_p_5_8;let a=Ks(t*n*i,r);const o=Ks(e*a*a,r),c=a,l=Ks(a*vX,r),u=o===t,f=o===Ks(-t,r),h=o===Ks(-t*vX,r);return u&&(a=c),(f||h)&&(a=l),_Qe(a,r)&&(a=Ks(-a,r)),{isValid:u||f,value:a}}const JQe=upe(zD,void 0,!0),QQe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:JQe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:WQe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:yQe,randomBytes:npe,adjustScalarBytes:XQe,uvRatio:ZQe},hpe=VQe(QQe),YQe="EdDSA",GQe="JWT",NS=".",fI="base64url",ppe="utf8",mpe="utf8",eYe=":",tYe="did",rYe="key",wX="base58btc",nYe="z",sYe="K36",iYe=32;function LD(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function gpe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?LD(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function bpe(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=gpe(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return LD(r)}function aYe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var oYe=aYe,cYe=oYe;const ype=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lYe=t=>new TextEncoder().encode(t),uYe=t=>new TextDecoder().decode(t);let dYe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},fYe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return vpe(this,e)}},hYe=class{constructor(e){this.decoders=e}or(e){return vpe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const vpe=(t,e)=>new hYe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let pYe=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new dYe(e,r,n),this.decoder=new fYe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const hI=({name:t,prefix:e,encode:r,decode:n})=>new pYe(t,e,r,n),y5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=cYe(r,e);return hI({prefix:t,name:e,encode:n,decode:i=>ype(s(i))})},mYe=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},gYe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ea=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>hI({prefix:e,name:t,encode(s){return gYe(s,n,r)},decode(s){return mYe(s,n,r,t)}}),bYe=hI({prefix:"\0",name:"identity",encode:t=>uYe(t),decode:t=>lYe(t)});var yYe=Object.freeze({__proto__:null,identity:bYe});const vYe=ea({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xYe=Object.freeze({__proto__:null,base2:vYe});const wYe=ea({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var AYe=Object.freeze({__proto__:null,base8:wYe});const SYe=y5({prefix:"9",name:"base10",alphabet:"0123456789"});var PYe=Object.freeze({__proto__:null,base10:SYe});const kYe=ea({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),IYe=ea({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var NYe=Object.freeze({__proto__:null,base16:kYe,base16upper:IYe});const EYe=ea({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CYe=ea({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_Ye=ea({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TYe=ea({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jYe=ea({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MYe=ea({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$Ye=ea({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),OYe=ea({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),BYe=ea({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var FYe=Object.freeze({__proto__:null,base32:EYe,base32upper:CYe,base32pad:_Ye,base32padupper:TYe,base32hex:jYe,base32hexupper:MYe,base32hexpad:$Ye,base32hexpadupper:OYe,base32z:BYe});const RYe=y5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DYe=y5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var UYe=Object.freeze({__proto__:null,base36:RYe,base36upper:DYe});const zYe=y5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LYe=y5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var VYe=Object.freeze({__proto__:null,base58btc:zYe,base58flickr:LYe});const HYe=ea({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qYe=ea({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WYe=ea({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),KYe=ea({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var XYe=Object.freeze({__proto__:null,base64:HYe,base64pad:qYe,base64url:WYe,base64urlpad:KYe});const xpe=Array.from(""),ZYe=xpe.reduce((t,e,r)=>(t[r]=e,t),[]),JYe=xpe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function QYe(t){return t.reduce((e,r)=>(e+=ZYe[r],e),"")}function YYe(t){const e=[];for(const r of t){const n=JYe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const GYe=hI({prefix:"",name:"base256emoji",encode:QYe,decode:YYe});var eGe=Object.freeze({__proto__:null,base256emoji:GYe}),tGe=wpe,AX=128,rGe=127,nGe=~rGe,sGe=Math.pow(2,31);function wpe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=sGe;)e[r++]=t&255|AX,t/=128;for(;t&nGe;)e[r++]=t&255|AX,t>>>=7;return e[r]=t|0,wpe.bytes=r-n+1,e}var iGe=N$,aGe=128,SX=127;function N$(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw N$.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&SX)<<s:(a&SX)*Math.pow(2,s),s+=7}while(a>=aGe);return N$.bytes=i-n,r}var oGe=Math.pow(2,7),cGe=Math.pow(2,14),lGe=Math.pow(2,21),uGe=Math.pow(2,28),dGe=Math.pow(2,35),fGe=Math.pow(2,42),hGe=Math.pow(2,49),pGe=Math.pow(2,56),mGe=Math.pow(2,63),gGe=function(t){return t<oGe?1:t<cGe?2:t<lGe?3:t<uGe?4:t<dGe?5:t<fGe?6:t<hGe?7:t<pGe?8:t<mGe?9:10},bGe={encode:tGe,decode:iGe,encodingLength:gGe},Ape=bGe;const PX=(t,e,r=0)=>(Ape.encode(t,e,r),e),kX=t=>Ape.encodingLength(t),E$=(t,e)=>{const r=e.byteLength,n=kX(t),s=n+kX(r),i=new Uint8Array(s+r);return PX(t,i,0),PX(r,i,n),i.set(e,s),new yGe(t,r,e,i)};let yGe=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const Spe=({name:t,code:e,encode:r})=>new vGe(t,e,r);let vGe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?E$(this.code,r):r.then(n=>E$(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Ppe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xGe=Spe({name:"sha2-256",code:18,encode:Ppe("SHA-256")}),wGe=Spe({name:"sha2-512",code:19,encode:Ppe("SHA-512")});var AGe=Object.freeze({__proto__:null,sha256:xGe,sha512:wGe});const kpe=0,SGe="identity",Ipe=ype,PGe=t=>E$(kpe,Ipe(t)),kGe={code:kpe,name:SGe,encode:Ipe,digest:PGe};var IGe=Object.freeze({__proto__:null,identity:kGe});new TextEncoder,new TextDecoder;const IX={...yYe,...xYe,...AYe,...PYe,...NYe,...FYe,...UYe,...VYe,...XYe,...eGe};({...AGe,...IGe});function Npe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const NX=Npe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qC=Npe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=gpe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Epe={utf8:NX,"utf-8":NX,hex:IX.base16,latin1:qC,ascii:qC,binary:qC,...IX};function pI(t,e="utf8"){const r=Epe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Cw(t,e="utf8"){const r=Epe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?LD(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function EX(t){return Pi(pI(Cw(t,fI),ppe))}function ES(t){return pI(Cw(Js(t),ppe),fI)}function Cpe(t){const e=Cw(sYe,wX),r=nYe+pI(bpe([e,t]),wX);return[tYe,rYe,r].join(eYe)}function NGe(t){return pI(t,fI)}function EGe(t){return Cw(t,fI)}function CGe(t){return Cw([ES(t.header),ES(t.payload)].join(NS),mpe)}function _Ge(t){return[ES(t.header),ES(t.payload),NGe(t.signature)].join(NS)}function C$(t){const e=t.split(NS),r=EX(e[0]),n=EX(e[1]),s=EGe(e[2]),i=Cw(e.slice(0,2).join(NS),mpe);return{header:r,payload:n,signature:s,data:i}}function CX(t=npe(iYe)){const e=hpe.getPublicKey(t);return{secretKey:bpe([t,e]),publicKey:e}}async function TGe(t,e,r,n,s=Me.fromMiliseconds(Date.now())){const i={alg:YQe,typ:GQe},a=Cpe(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=CGe({header:i,payload:c}),u=hpe.sign(l,n.secretKey.slice(0,32));return _Ge({header:i,payload:c,signature:u})}var _X=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},jGe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),MGe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),$Ge=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),OGe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),BGe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),FGe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,RGe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,TX=3,DGe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",FGe]],jX=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function VD(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new BGe:typeof navigator<"u"?zGe(navigator.userAgent):VGe()}function UGe(t){return t!==""&&DGe.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function zGe(t){var e=UGe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new OGe;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<TX&&(s=_X(_X([],s,!0),HGe(TX-s.length),!0)):s=[];var i=s.join("."),a=LGe(t),o=RGe.exec(t);return o&&o[1]?new $Ge(r,i,a,o[1]):new jGe(r,i,a)}function LGe(t){for(var e=0,r=jX.length;e<r;e++){var n=jX[e],s=n[0],i=n[1],a=i.exec(t);if(a)return s}return null}function VGe(){var t=typeof process<"u"&&process.version;return t?new MGe(process.version.slice(1)):null}function HGe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.getLocalStorage=_n.getLocalStorageOrThrow=_n.getCrypto=_n.getCryptoOrThrow=mI=_n.getLocation=_n.getLocationOrThrow=eb=_n.getNavigator=_n.getNavigatorOrThrow=xc=_n.getDocument=_n.getDocumentOrThrow=_n.getFromWindowOrThrow=_n.getFromWindow=void 0;function G1(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}_n.getFromWindow=G1;function _w(t){const e=G1(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}_n.getFromWindowOrThrow=_w;function qGe(){return _w("document")}_n.getDocumentOrThrow=qGe;function WGe(){return G1("document")}var xc=_n.getDocument=WGe;function KGe(){return _w("navigator")}_n.getNavigatorOrThrow=KGe;function XGe(){return G1("navigator")}var eb=_n.getNavigator=XGe;function ZGe(){return _w("location")}_n.getLocationOrThrow=ZGe;function JGe(){return G1("location")}var mI=_n.getLocation=JGe;function QGe(){return _w("crypto")}_n.getCryptoOrThrow=QGe;function YGe(){return G1("crypto")}_n.getCrypto=YGe;function GGe(){return _w("localStorage")}_n.getLocalStorageOrThrow=GGe;function eet(){return G1("localStorage")}_n.getLocalStorage=eet;var HD={};Object.defineProperty(HD,"__esModule",{value:!0});var gI=HD.getWindowMetadata=void 0;const MX=_n;function tet(){let t,e;try{t=MX.getDocumentOrThrow(),e=MX.getLocationOrThrow()}catch{return null}function r(){const f=t.getElementsByTagName("link"),h=[];for(let m=0;m<f.length;m++){const y=f[m],x=y.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const k=y.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(k.indexOf("/")===0)C+=k;else{const I=e.pathname.split("/");I.pop();const _=I.join("/");C+=_+"/"+k}h.push(C)}else if(k.indexOf("//")===0){const C=e.protocol+k;h.push(C)}else h.push(k)}}return h}function n(...f){const h=t.getElementsByTagName("meta");for(let m=0;m<h.length;m++){const y=h[m],x=["itemprop","property","name"].map(k=>y.getAttribute(k)).filter(k=>k?f.includes(k):!1);if(x.length&&x){const k=y.getAttribute("content");if(k)return k}}return""}function s(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function i(){return n("description","og:description","twitter:description","keywords")}const a=s(),o=i(),c=e.origin,l=r();return{description:o,url:c,icons:l,name:a}}gI=HD.getWindowMetadata=tet;function qD(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _pe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qD(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function E3(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=_pe(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return qD(r)}function ret(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var net=ret,set=net;const iet=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aet=t=>new TextEncoder().encode(t),oet=t=>new TextDecoder().decode(t);class cet{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class uet{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Tpe(this,e)}}class det{constructor(e){this.decoders=e}or(e){return Tpe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Tpe=(t,e)=>new det({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fet{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new cet(e,r,n),this.decoder=new uet(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const bI=({name:t,prefix:e,encode:r,decode:n})=>new fet(t,e,r,n),v5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=set(r,e);return bI({prefix:t,name:e,encode:n,decode:i=>iet(s(i))})},het=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},pet=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ta=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>bI({prefix:e,name:t,encode(s){return pet(s,n,r)},decode(s){return het(s,n,r,t)}}),met=bI({prefix:"\0",name:"identity",encode:t=>oet(t),decode:t=>aet(t)}),get=Object.freeze(Object.defineProperty({__proto__:null,identity:met},Symbol.toStringTag,{value:"Module"})),bet=ta({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yet=Object.freeze(Object.defineProperty({__proto__:null,base2:bet},Symbol.toStringTag,{value:"Module"})),vet=ta({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),xet=Object.freeze(Object.defineProperty({__proto__:null,base8:vet},Symbol.toStringTag,{value:"Module"})),wet=v5({prefix:"9",name:"base10",alphabet:"0123456789"}),Aet=Object.freeze(Object.defineProperty({__proto__:null,base10:wet},Symbol.toStringTag,{value:"Module"})),Pet=ta({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ket=ta({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Iet=Object.freeze(Object.defineProperty({__proto__:null,base16:Pet,base16upper:ket},Symbol.toStringTag,{value:"Module"})),Net=ta({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Eet=ta({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Cet=ta({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_et=ta({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tet=ta({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jet=ta({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Met=ta({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$et=ta({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Oet=ta({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Bet=Object.freeze(Object.defineProperty({__proto__:null,base32:Net,base32hex:Tet,base32hexpad:Met,base32hexpadupper:$et,base32hexupper:jet,base32pad:Cet,base32padupper:_et,base32upper:Eet,base32z:Oet},Symbol.toStringTag,{value:"Module"})),Fet=v5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ret=v5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Det=Object.freeze(Object.defineProperty({__proto__:null,base36:Fet,base36upper:Ret},Symbol.toStringTag,{value:"Module"})),Uet=v5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zet=v5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Let=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Uet,base58flickr:zet},Symbol.toStringTag,{value:"Module"})),Vet=ta({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Het=ta({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qet=ta({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wet=ta({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ket=Object.freeze(Object.defineProperty({__proto__:null,base64:Vet,base64pad:Het,base64url:qet,base64urlpad:Wet},Symbol.toStringTag,{value:"Module"})),jpe=Array.from(""),Xet=jpe.reduce((t,e,r)=>(t[r]=e,t),[]),Zet=jpe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Jet(t){return t.reduce((e,r)=>(e+=Xet[r],e),"")}function Qet(t){const e=[];for(const r of t){const n=Zet[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Yet=bI({prefix:"",name:"base256emoji",encode:Jet,decode:Qet}),Get=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Yet},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Lx={...get,...yet,...xet,...Aet,...Iet,...Bet,...Det,...Let,...Ket,...Get};function Mpe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const $X=Mpe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),WC=Mpe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=_pe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),$pe={utf8:$X,"utf-8":$X,hex:Lx.base16,latin1:WC,ascii:WC,binary:WC,...Lx};function pl(t,e="utf8"){const r=$pe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qD(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ro(t,e="utf8"){const r=$pe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const WD={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var ett={};const ttt="ReactNative",vu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},rtt="js";function CS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function tb(){return!xc()&&!!eb()&&navigator.product===ttt}function ntt(){return tb()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function stt(){return tb()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Tw(){return!CS()&&!!eb()&&!!xc()}function yI(){return tb()?vu.reactNative:CS()?vu.node:Tw()?vu.browser:vu.unknown}function OX(){var t;try{return tb()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function itt(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function att(){return gI()||{name:"",description:"",url:"",icons:[""]}}function ott(){if(yI()===vu.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=VD();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function ctt(){var t;const e=yI();return e===vu.browser?[e,((t=mI())==null?void 0:t.host)||"unknown"].join(":"):e}function Ope(t,e,r){const n=ott(),s=ctt();return[[t,e].join("-"),[rtt,r].join("-"),n,s].join("/")}function ltt({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o,packageName:c}){const l=r.split("?"),u=Ope(t,e,n),f={auth:s,ua:u,projectId:i,useOnCloseEvent:a||void 0,packageName:c||void 0,bundleId:o||void 0},h=itt(l[1]||"",f);return l[0]+"?"+h}function KC(t,e){return t.filter(r=>e.includes(r)).length===t.length}function _$(t){return Object.fromEntries(t.entries())}function T$(t){return new Map(Object.entries(t))}function utt(t=Me.FIVE_MINUTES,e){const r=Me.toMiliseconds(t||Me.FIVE_MINUTES);let n,s,i,a;return{resolve:o=>{i&&n&&(clearTimeout(i),n(o),a=Promise.resolve(o))},reject:o=>{i&&s&&(clearTimeout(i),s(o))},done:()=>new Promise((o,c)=>{if(a)return o(a);i=setTimeout(()=>{const l=new Error(e);a=Promise.reject(l),c(l)},r),n=o,s=c})}}function $d(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function Bpe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function dtt(t){return Bpe("topic",t)}function ftt(t){return Bpe("id",t)}function htt(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function C3(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function BX(t){return Date.now()>=Me.toMiliseconds(t)}function XC(t,e){return`${t}${e?`:${e}`:""}`}function pg(t=[],e=[]){return[...new Set([...t,...e])]}function FX(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Fpe(){return typeof process<"u"&&ett.IS_VITEST==="true"}function Rpe(t){return Buffer.from(t,"base64").toString("utf-8")}function ptt(t){return new Promise(e=>setTimeout(e,t))}const y9=BigInt(2**32-1),RX=BigInt(32);function Dpe(t,e=!1){return e?{h:Number(t&y9),l:Number(t>>RX&y9)}:{h:Number(t>>RX&y9)|0,l:Number(t&y9)|0}}function Upe(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:a,l:o}=Dpe(t[i],e);[n[i],s[i]]=[a,o]}return[n,s]}const DX=(t,e,r)=>t>>>r,UX=(t,e,r)=>t<<32-r|e>>>r,R0=(t,e,r)=>t>>>r|e<<32-r,D0=(t,e,r)=>t<<32-r|e>>>r,r3=(t,e,r)=>t<<64-r|e>>>r-32,n3=(t,e,r)=>t>>>r-32|e<<64-r,mtt=(t,e)=>e,gtt=(t,e)=>t,btt=(t,e,r)=>t<<r|e>>>32-r,ytt=(t,e,r)=>e<<r|t>>>32-r,vtt=(t,e,r)=>e<<r-32|t>>>64-r,xtt=(t,e,r)=>t<<r-32|e>>>64-r;function Ql(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const KD=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),XD=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,wtt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Att=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Stt=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Ptt=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,yb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function vI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Uh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function $u(t,...e){if(!vI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Uh(t.outputLen),Uh(t.blockLen)}function nm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZD(t,e){$u(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function G6(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Pl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ZC(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xu(t,e){return t<<32-e|t>>>e}const zpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Lpe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Bf=zpe?t=>t:t=>Lpe(t);function ktt(t){for(let e=0;e<t.length;e++)t[e]=Lpe(t[e]);return t}const U0=zpe?t=>t:ktt,Vpe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Itt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xy(t){if($u(t),Vpe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Itt[t[r]];return e}const If={_0:48,_9:57,A:65,F:70,a:97,f:102};function zX(t){if(t>=If._0&&t<=If._9)return t-If._0;if(t>=If.A&&t<=If.F)return t-(If.A-10);if(t>=If.a&&t<=If.f)return t-(If.a-10)}function _S(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Vpe)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const a=zX(t.charCodeAt(i)),o=zX(t.charCodeAt(i+1));if(a===void 0||o===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=a*16+o}return n}function Hpe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ku(t){return typeof t=="string"&&(t=Hpe(t)),$u(t),t}function X0(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];$u(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let wI=class{};function x5(t){const e=n=>t().update(ku(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Ntt(t){const e=(n,s)=>t(s).update(ku(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function rb(t=32){if(yb&&typeof yb.getRandomValues=="function")return yb.getRandomValues(new Uint8Array(t));if(yb&&typeof yb.randomBytes=="function")return Uint8Array.from(yb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Ett=BigInt(0),g2=BigInt(1),Ctt=BigInt(2),_tt=BigInt(7),Ttt=BigInt(256),jtt=BigInt(113),qpe=[],Wpe=[],Kpe=[];for(let t=0,e=g2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],qpe.push(2*(5*n+r)),Wpe.push((t+1)*(t+2)/2%64);let s=Ett;for(let i=0;i<7;i++)e=(e<<g2^(e>>_tt)*jtt)%Ttt,e&Ctt&&(s^=g2<<(g2<<BigInt(i))-g2);Kpe.push(s)}const Xpe=Upe(Kpe,!0),Mtt=Xpe[0],$tt=Xpe[1],LX=(t,e,r)=>r>32?vtt(t,e,r):btt(t,e,r),VX=(t,e,r)=>r>32?xtt(t,e,r):ytt(t,e,r);function Ott(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],f=LX(l,u,1)^r[o],h=VX(l,u,1)^r[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=Wpe[a],c=LX(s,i,o),l=VX(s,i,o),u=qpe[a];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Mtt[n],t[1]^=$tt[n]}Pl(r)}let Btt=class Zpe extends wI{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Uh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=G6(this.state)}clone(){return this._cloneInto()}keccak(){U0(this.state32),Ott(this.state32,this.rounds),U0(this.state32),this.posOut=0,this.pos=0}update(e){nm(this),e=ku(e),$u(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){nm(this,!1),$u(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ZD(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Pl(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Zpe(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Ftt=(t,e,r)=>x5(()=>new Btt(e,t,r));Ftt(1,136,256/8);function Rtt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,o,n)}function Dtt(t,e,r){return t&e^~t&r}function Utt(t,e,r){return t&e^t&r^e&r}let Jpe=class extends wI{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ZC(this.buffer)}update(e){nm(this),e=ku(e),$u(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const c=ZC(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nm(this),ZD(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,Pl(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;Rtt(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=ZC(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=o,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const y0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ma=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ga=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ztt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),v0=new Uint32Array(64);class Ltt extends Jpe{constructor(e=32){super(64,e,8,!1),this.A=y0[0]|0,this.B=y0[1]|0,this.C=y0[2]|0,this.D=y0[3]|0,this.E=y0[4]|0,this.F=y0[5]|0,this.G=y0[6]|0,this.H=y0[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:c}=this;return[e,r,n,s,i,a,o,c]}set(e,r,n,s,i,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)v0[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=v0[f-15],m=v0[f-2],y=Xu(h,7)^Xu(h,18)^h>>>3,x=Xu(m,17)^Xu(m,19)^m>>>10;v0[f]=x+v0[f-7]+y+v0[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Xu(o,6)^Xu(o,11)^Xu(o,25),m=u+h+Dtt(o,c,l)+ztt[f]+v0[f]|0,y=(Xu(n,2)^Xu(n,13)^Xu(n,22))+Utt(n,s,i)|0;u=l,l=c,c=o,o=a+m|0,a=i,i=s,s=n,n=m+y|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,a,o,c,l,u)}roundClean(){Pl(v0)}destroy(){this.set(0,0,0,0,0,0,0,0),Pl(this.buffer)}}const Qpe=Upe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vtt=Qpe[0],Htt=Qpe[1],x0=new Uint32Array(80),w0=new Uint32Array(80);let JD=class extends Jpe{constructor(e=64){super(128,e,16,!1),this.Ah=ga[0]|0,this.Al=ga[1]|0,this.Bh=ga[2]|0,this.Bl=ga[3]|0,this.Ch=ga[4]|0,this.Cl=ga[5]|0,this.Dh=ga[6]|0,this.Dl=ga[7]|0,this.Eh=ga[8]|0,this.El=ga[9]|0,this.Fh=ga[10]|0,this.Fl=ga[11]|0,this.Gh=ga[12]|0,this.Gl=ga[13]|0,this.Hh=ga[14]|0,this.Hl=ga[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:y,Hh:x,Hl:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=y|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let _=0;_<16;_++,r+=4)x0[_]=e.getUint32(r),w0[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const O=x0[_-15]|0,F=w0[_-15]|0,D=R0(O,F,1)^R0(O,F,8)^DX(O,F,7),j=D0(O,F,1)^D0(O,F,8)^UX(O,F,7),T=x0[_-2]|0,R=w0[_-2]|0,q=R0(T,R,19)^r3(T,R,61)^DX(T,R,6),$=D0(T,R,19)^n3(T,R,61)^UX(T,R,6),b=wtt(j,$,w0[_-7],w0[_-16]),w=Att(b,D,q,x0[_-7],x0[_-16]);x0[_]=w|0,w0[_]=b|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:y,Gh:x,Gl:k,Hh:C,Hl:I}=this;for(let _=0;_<80;_++){const O=R0(f,h,14)^R0(f,h,18)^r3(f,h,41),F=D0(f,h,14)^D0(f,h,18)^n3(f,h,41),D=f&m^~f&x,j=h&y^~h&k,T=Stt(I,F,j,Htt[_],w0[_]),R=Ptt(T,C,O,D,Vtt[_],x0[_]),q=T|0,$=R0(n,s,28)^r3(n,s,34)^r3(n,s,39),b=D0(n,s,28)^n3(n,s,34)^n3(n,s,39),w=n&i^n&o^i&o,p=s&a^s&c^a&c;C=x|0,I=k|0,x=m|0,k=y|0,m=f|0,y=h|0,{h:f,l:h}=Ql(l|0,u|0,R|0,q|0),l=o|0,u=c|0,o=i|0,c=a|0,i=n|0,a=s|0;const g=KD(q,b,p);n=XD(g,R,$,w),s=g|0}({h:n,l:s}=Ql(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Ql(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:c}=Ql(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Ql(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Ql(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:y}=Ql(this.Fh|0,this.Fl|0,m|0,y|0),{h:x,l:k}=Ql(this.Gh|0,this.Gl|0,x|0,k|0),{h:C,l:I}=Ql(this.Hh|0,this.Hl|0,C|0,I|0),this.set(n,s,i,a,o,c,l,u,f,h,m,y,x,k,C,I)}roundClean(){Pl(x0,w0)}destroy(){Pl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class qtt extends JD{constructor(){super(48),this.Ah=ma[0]|0,this.Al=ma[1]|0,this.Bh=ma[2]|0,this.Bl=ma[3]|0,this.Ch=ma[4]|0,this.Cl=ma[5]|0,this.Dh=ma[6]|0,this.Dl=ma[7]|0,this.Eh=ma[8]|0,this.El=ma[9]|0,this.Fh=ma[10]|0,this.Fl=ma[11]|0,this.Gh=ma[12]|0,this.Gl=ma[13]|0,this.Hh=ma[14]|0,this.Hl=ma[15]|0}}const ba=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Wtt extends JD{constructor(){super(32),this.Ah=ba[0]|0,this.Al=ba[1]|0,this.Bh=ba[2]|0,this.Bl=ba[3]|0,this.Ch=ba[4]|0,this.Cl=ba[5]|0,this.Dh=ba[6]|0,this.Dl=ba[7]|0,this.Eh=ba[8]|0,this.El=ba[9]|0,this.Fh=ba[10]|0,this.Fl=ba[11]|0,this.Gh=ba[12]|0,this.Gl=ba[13]|0,this.Hh=ba[14]|0,this.Hl=ba[15]|0}}const Ype=x5(()=>new Ltt),Ktt=x5(()=>new JD),Xtt=x5(()=>new qtt);x5(()=>new Wtt);const Ztt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ls=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Dt=new Uint32Array(32);function A0(t,e,r,n,s,i){const a=s[i],o=s[i+1];let c=Dt[2*t],l=Dt[2*t+1],u=Dt[2*e],f=Dt[2*e+1],h=Dt[2*r],m=Dt[2*r+1],y=Dt[2*n],x=Dt[2*n+1],k=KD(c,u,a);l=XD(k,l,f,o),c=k|0,{Dh:x,Dl:y}={Dh:x^l,Dl:y^c},{Dh:x,Dl:y}={Dh:mtt(x,y),Dl:gtt(x)},{h:m,l:h}=Ql(m,h,x,y),{Bh:f,Bl:u}={Bh:f^m,Bl:u^h},{Bh:f,Bl:u}={Bh:R0(f,u,24),Bl:D0(f,u,24)},Dt[2*t]=c,Dt[2*t+1]=l,Dt[2*e]=u,Dt[2*e+1]=f,Dt[2*r]=h,Dt[2*r+1]=m,Dt[2*n]=y,Dt[2*n+1]=x}function S0(t,e,r,n,s,i){const a=s[i],o=s[i+1];let c=Dt[2*t],l=Dt[2*t+1],u=Dt[2*e],f=Dt[2*e+1],h=Dt[2*r],m=Dt[2*r+1],y=Dt[2*n],x=Dt[2*n+1],k=KD(c,u,a);l=XD(k,l,f,o),c=k|0,{Dh:x,Dl:y}={Dh:x^l,Dl:y^c},{Dh:x,Dl:y}={Dh:R0(x,y,16),Dl:D0(x,y,16)},{h:m,l:h}=Ql(m,h,x,y),{Bh:f,Bl:u}={Bh:f^m,Bl:u^h},{Bh:f,Bl:u}={Bh:r3(f,u,63),Bl:n3(f,u,63)},Dt[2*t]=c,Dt[2*t+1]=l,Dt[2*e]=u,Dt[2*e+1]=f,Dt[2*r]=h,Dt[2*r+1]=m,Dt[2*n]=y,Dt[2*n+1]=x}function Jtt(t,e={},r,n,s){if(Uh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:i,salt:a,personalization:o}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(o!==void 0&&o.length!==s)throw new Error("personalization must be undefined or "+s)}class Qtt extends wI{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Uh(e),Uh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=G6(this.buffer)}update(e){nm(this),e=ku(e),$u(e);const{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,a=e.byteOffset,o=e.buffer;for(let c=0;c<i;){this.pos===r&&(U0(s),this.compress(s,0,!1),U0(s),this.pos=0);const l=Math.min(r-this.pos,i-c),u=a+c;if(l===r&&!(u%4)&&c+l<i){const f=new Uint32Array(o,u,Math.floor((i-c)/4));U0(f);for(let h=0;c+r<i;h+=s.length,c+=r)this.length+=r,this.compress(f,h,!1);U0(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){nm(this),ZD(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Pl(this.buffer.subarray(r)),U0(n),this.compress(n,0,!0),U0(n);const s=G6(e);this.get().forEach((i,a)=>s[a]=Bf(i))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:s,destroyed:i,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}}class Ytt extends Qtt{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Ls[0]|0,this.v0h=Ls[1]|0,this.v1l=Ls[2]|0,this.v1h=Ls[3]|0,this.v2l=Ls[4]|0,this.v2h=Ls[5]|0,this.v3l=Ls[6]|0,this.v3h=Ls[7]|0,this.v4l=Ls[8]|0,this.v4h=Ls[9]|0,this.v5l=Ls[10]|0,this.v5h=Ls[11]|0,this.v6l=Ls[12]|0,this.v6h=Ls[13]|0,this.v7l=Ls[14]|0,this.v7h=Ls[15]|0,Jtt(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,a=0;if(n!==void 0&&(n=ku(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,i!==void 0){i=ku(i);const o=G6(i);this.v4l^=Bf(o[0]),this.v4h^=Bf(o[1]),this.v5l^=Bf(o[2]),this.v5h^=Bf(o[3])}if(s!==void 0){s=ku(s);const o=G6(s);this.v6l^=Bf(o[0]),this.v6h^=Bf(o[1]),this.v7l^=Bf(o[2]),this.v7h^=Bf(o[3])}if(n!==void 0){const o=new Uint8Array(this.blockLen);o.set(n),this.update(o)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:a,v3l:o,v3h:c,v4l:l,v4h:u,v5l:f,v5h:h,v6l:m,v6h:y,v7l:x,v7h:k}=this;return[e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k]}set(e,r,n,s,i,a,o,c,l,u,f,h,m,y,x,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=a|0,this.v3l=o|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=h|0,this.v6l=m|0,this.v6h=y|0,this.v7l=x|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((c,l)=>Dt[l]=c),Dt.set(Ls,16);let{h:s,l:i}=Dpe(BigInt(this.length));Dt[24]=Ls[8]^i,Dt[25]=Ls[9]^s,n&&(Dt[28]=~Dt[28],Dt[29]=~Dt[29]);let a=0;const o=Ztt;for(let c=0;c<12;c++)A0(0,4,8,12,e,r+2*o[a++]),S0(0,4,8,12,e,r+2*o[a++]),A0(1,5,9,13,e,r+2*o[a++]),S0(1,5,9,13,e,r+2*o[a++]),A0(2,6,10,14,e,r+2*o[a++]),S0(2,6,10,14,e,r+2*o[a++]),A0(3,7,11,15,e,r+2*o[a++]),S0(3,7,11,15,e,r+2*o[a++]),A0(0,5,10,15,e,r+2*o[a++]),S0(0,5,10,15,e,r+2*o[a++]),A0(1,6,11,12,e,r+2*o[a++]),S0(1,6,11,12,e,r+2*o[a++]),A0(2,7,8,13,e,r+2*o[a++]),S0(2,7,8,13,e,r+2*o[a++]),A0(3,4,9,14,e,r+2*o[a++]),S0(3,4,9,14,e,r+2*o[a++]);this.v0l^=Dt[0]^Dt[16],this.v0h^=Dt[1]^Dt[17],this.v1l^=Dt[2]^Dt[18],this.v1h^=Dt[3]^Dt[19],this.v2l^=Dt[4]^Dt[20],this.v2h^=Dt[5]^Dt[21],this.v3l^=Dt[6]^Dt[22],this.v3h^=Dt[7]^Dt[23],this.v4l^=Dt[8]^Dt[24],this.v4h^=Dt[9]^Dt[25],this.v5l^=Dt[10]^Dt[26],this.v5h^=Dt[11]^Dt[27],this.v6l^=Dt[12]^Dt[28],this.v6h^=Dt[13]^Dt[29],this.v7l^=Dt[14]^Dt[30],this.v7h^=Dt[15]^Dt[31],Pl(Dt)}destroy(){this.destroyed=!0,Pl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ntt(t=>new Ytt(t));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Gpe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function j$(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function JC(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Po(t,...e){if(!Gpe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gtt(t,e){Po(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function zp(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Vx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ert(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const trt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rrt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function M$(t){if(typeof t=="string")t=rrt(t);else if(Gpe(t))t=$$(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function nrt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function srt(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const irt=(t,e)=>{function r(n,...s){if(Po(n),!trt)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Po(l):Po(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Po(s[1]);const a=e(n,...s),o=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Po(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Po(l),o(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(Po(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(r,t),r};function qX(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!ort(e))throw new Error("invalid output, must be aligned");return e}function WX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i);t.setUint32(e+4,a,n),t.setUint32(e+0,o,n)}function art(t,e,r){j$(r);const n=new Uint8Array(16),s=ert(n);return WX(s,0,BigInt(e),r),WX(s,8,BigInt(t),r),n}function ort(t){return t.byteOffset%4===0}function $$(t){return Uint8Array.from(t)}const eme=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),crt=eme("expand 16-byte k"),lrt=eme("expand 32-byte k"),urt=zp(crt),drt=zp(lrt);function sn(t,e){return t<<e|t>>>32-e}function O$(t){return t.byteOffset%4===0}const v9=64,frt=16,tme=2**32-1,KX=new Uint32Array;function hrt(t,e,r,n,s,i,a,o){const c=s.length,l=new Uint8Array(v9),u=zp(l),f=O$(s)&&O$(i),h=f?zp(s):KX,m=f?zp(i):KX;for(let y=0;y<c;a++){if(t(e,r,n,u,a,o),a>=tme)throw new Error("arx: counter overflow");const x=Math.min(v9,c-y);if(f&&x===v9){const k=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let C=0,I;C<frt;C++)I=k+C,m[I]=h[I]^u[C];y+=v9;continue}for(let k=0,C;k<x;k++)C=y+k,i[C]=s[C]^l[k];y+=x}}function prt(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:a}=nrt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return JC(s),JC(a),j$(i),j$(r),(o,c,l,u,f=0)=>{Po(o),Po(c),Po(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Po(u),JC(f),f<0||f>=tme)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const m=[];let y=o.length,x,k;if(y===32)m.push(x=$$(o)),k=drt;else if(y===16&&r)x=new Uint8Array(32),x.set(o),x.set(o,16),k=urt,m.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);O$(c)||m.push(c=$$(c));const C=zp(x);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(k,C,zp(c.subarray(0,16)),C),c=c.subarray(16)}const I=16-s;if(I!==c.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const O=new Uint8Array(12);O.set(c,i?0:12-c.length),c=O,m.push(c)}const _=zp(c);return hrt(t,k,C,_,l,u,f,a),Vx(...m),u}}const Mi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class mrt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=M$(e),Po(e,32);const r=Mi(e,0),n=Mi(e,2),s=Mi(e,4),i=Mi(e,6),a=Mi(e,8),o=Mi(e,10),c=Mi(e,12),l=Mi(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Mi(e,16+2*u)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:a}=this,o=a[0],c=a[1],l=a[2],u=a[3],f=a[4],h=a[5],m=a[6],y=a[7],x=a[8],k=a[9],C=Mi(e,r+0),I=Mi(e,r+2),_=Mi(e,r+4),O=Mi(e,r+6),F=Mi(e,r+8),D=Mi(e,r+10),j=Mi(e,r+12),T=Mi(e,r+14);let R=i[0]+(C&8191),q=i[1]+((C>>>13|I<<3)&8191),$=i[2]+((I>>>10|_<<6)&8191),b=i[3]+((_>>>7|O<<9)&8191),w=i[4]+((O>>>4|F<<12)&8191),p=i[5]+(F>>>1&8191),g=i[6]+((F>>>14|D<<2)&8191),S=i[7]+((D>>>11|j<<5)&8191),N=i[8]+((j>>>8|T<<8)&8191),P=i[9]+(T>>>5|s),A=0,v=A+R*o+q*(5*k)+$*(5*x)+b*(5*y)+w*(5*m);A=v>>>13,v&=8191,v+=p*(5*h)+g*(5*f)+S*(5*u)+N*(5*l)+P*(5*c),A+=v>>>13,v&=8191;let E=A+R*c+q*o+$*(5*k)+b*(5*x)+w*(5*y);A=E>>>13,E&=8191,E+=p*(5*m)+g*(5*h)+S*(5*f)+N*(5*u)+P*(5*l),A+=E>>>13,E&=8191;let M=A+R*l+q*c+$*o+b*(5*k)+w*(5*x);A=M>>>13,M&=8191,M+=p*(5*y)+g*(5*m)+S*(5*h)+N*(5*f)+P*(5*u),A+=M>>>13,M&=8191;let L=A+R*u+q*l+$*c+b*o+w*(5*k);A=L>>>13,L&=8191,L+=p*(5*x)+g*(5*y)+S*(5*m)+N*(5*h)+P*(5*f),A+=L>>>13,L&=8191;let Q=A+R*f+q*u+$*l+b*c+w*o;A=Q>>>13,Q&=8191,Q+=p*(5*k)+g*(5*x)+S*(5*y)+N*(5*m)+P*(5*h),A+=Q>>>13,Q&=8191;let U=A+R*h+q*f+$*u+b*l+w*c;A=U>>>13,U&=8191,U+=p*o+g*(5*k)+S*(5*x)+N*(5*y)+P*(5*m),A+=U>>>13,U&=8191;let J=A+R*m+q*h+$*f+b*u+w*l;A=J>>>13,J&=8191,J+=p*c+g*o+S*(5*k)+N*(5*x)+P*(5*y),A+=J>>>13,J&=8191;let Z=A+R*y+q*m+$*h+b*f+w*u;A=Z>>>13,Z&=8191,Z+=p*l+g*c+S*o+N*(5*k)+P*(5*x),A+=Z>>>13,Z&=8191;let re=A+R*x+q*y+$*m+b*h+w*f;A=re>>>13,re&=8191,re+=p*u+g*l+S*c+N*o+P*(5*k),A+=re>>>13,re&=8191;let G=A+R*k+q*x+$*y+b*m+w*h;A=G>>>13,G&=8191,G+=p*f+g*u+S*l+N*c+P*o,A+=G>>>13,G&=8191,A=(A<<2)+A|0,A=A+v|0,v=A&8191,A=A>>>13,E+=A,i[0]=v,i[1]=E,i[2]=M,i[3]=L,i[4]=Q,i[5]=U,i[6]=J,i[7]=Z,i[8]=re,i[9]=G}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=s,s=e[o]>>>13,e[o]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+s,s=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(s^1)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+r[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+r[o]|0)+(a>>>16)|0,e[o]=a&65535;Vx(n)}update(e){HX(this),e=M$(e),Po(e);const{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);if(a===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Vx(this.h,this.r,this.buffer,this.pad)}digestInto(e){HX(this),Gtt(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let a=0;a<8;a++)e[i++]=n[a]>>>0,e[i++]=n[a]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function grt(t){const e=(n,s)=>t(s).update(M$(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const brt=grt(t=>new mrt(t));function yrt(t,e,r,n,s,i=20){let a=t[0],o=t[1],c=t[2],l=t[3],u=e[0],f=e[1],h=e[2],m=e[3],y=e[4],x=e[5],k=e[6],C=e[7],I=s,_=r[0],O=r[1],F=r[2],D=a,j=o,T=c,R=l,q=u,$=f,b=h,w=m,p=y,g=x,S=k,N=C,P=I,A=_,v=O,E=F;for(let L=0;L<i;L+=2)D=D+q|0,P=sn(P^D,16),p=p+P|0,q=sn(q^p,12),D=D+q|0,P=sn(P^D,8),p=p+P|0,q=sn(q^p,7),j=j+$|0,A=sn(A^j,16),g=g+A|0,$=sn($^g,12),j=j+$|0,A=sn(A^j,8),g=g+A|0,$=sn($^g,7),T=T+b|0,v=sn(v^T,16),S=S+v|0,b=sn(b^S,12),T=T+b|0,v=sn(v^T,8),S=S+v|0,b=sn(b^S,7),R=R+w|0,E=sn(E^R,16),N=N+E|0,w=sn(w^N,12),R=R+w|0,E=sn(E^R,8),N=N+E|0,w=sn(w^N,7),D=D+$|0,E=sn(E^D,16),S=S+E|0,$=sn($^S,12),D=D+$|0,E=sn(E^D,8),S=S+E|0,$=sn($^S,7),j=j+b|0,P=sn(P^j,16),N=N+P|0,b=sn(b^N,12),j=j+b|0,P=sn(P^j,8),N=N+P|0,b=sn(b^N,7),T=T+w|0,A=sn(A^T,16),p=p+A|0,w=sn(w^p,12),T=T+w|0,A=sn(A^T,8),p=p+A|0,w=sn(w^p,7),R=R+q|0,v=sn(v^R,16),g=g+v|0,q=sn(q^g,12),R=R+q|0,v=sn(v^R,8),g=g+v|0,q=sn(q^g,7);let M=0;n[M++]=a+D|0,n[M++]=o+j|0,n[M++]=c+T|0,n[M++]=l+R|0,n[M++]=u+q|0,n[M++]=f+$|0,n[M++]=h+b|0,n[M++]=m+w|0,n[M++]=y+p|0,n[M++]=x+g|0,n[M++]=k+S|0,n[M++]=C+N|0,n[M++]=I+P|0,n[M++]=_+A|0,n[M++]=O+v|0,n[M++]=F+E|0}const vrt=prt(yrt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),xrt=new Uint8Array(16),XX=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(xrt.subarray(r))},wrt=new Uint8Array(32);function ZX(t,e,r,n,s){const i=t(e,r,wrt),a=brt.create(i);s&&XX(a,s),XX(a,n);const o=art(n.length,s?s.length:0,!0);a.update(o);const c=a.digest();return Vx(i,o),c}const Art=t=>(e,r,n)=>({encrypt(s,i){const a=s.length;i=qX(a+16,i,!1),i.set(s);const o=i.subarray(0,-16);t(e,r,o,o,1);const c=ZX(t,e,r,o,n);return i.set(c,a),Vx(c),i},decrypt(s,i){i=qX(s.length-16,i,!1);const a=s.subarray(0,-16),o=s.subarray(-16),c=ZX(t,e,r,a,n);if(!srt(o,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),Vx(c),i}}),rme=irt({blockSize:64,nonceLength:12,tagLength:16},Art(vrt));let nme=class extends wI{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,xI(e);const n=ku(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),Pl(i)}update(e){return nm(this),this.iHash.update(e),this}digestInto(e){nm(this),$u(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const AI=(t,e,r)=>new nme(t,e).update(r).digest();AI.create=(t,e)=>new nme(t,e);function Srt(t,e,r){return xI(t),r===void 0&&(r=new Uint8Array(t.outputLen)),AI(t,ku(r),ku(e))}const QC=Uint8Array.from([0]),JX=Uint8Array.of();function Prt(t,e,r,n=32){xI(t),Uh(n);const s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/s);r===void 0&&(r=JX);const a=new Uint8Array(i*s),o=AI.create(t,e),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)QC[0]=u+1,c.update(u===0?JX:l).update(r).update(QC).digestInto(l),a.set(l,s*u),o._cloneInto(c);return o.destroy(),c.destroy(),Pl(l,QC),a.slice(0,n)}const krt=(t,e,r,n,s)=>Prt(t,Srt(t,e,r),n,s),SI=Ype,QD=BigInt(0),B$=BigInt(1);function TS(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function mg(t,e,r=""){const n=vI(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){const a=r&&`"${r}" `,o=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+o+", got "+c)}return t}function x9(t){const e=t.toString(16);return e.length&1?"0"+e:e}function sme(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?QD:BigInt("0x"+t)}function PI(t){return sme(Xy(t))}function jS(t){return $u(t),sme(Xy(Uint8Array.from(t).reverse()))}function YD(t,e){return _S(t.toString(16).padStart(e*2,"0"))}function GD(t,e){return YD(t,e).reverse()}function ka(t,e,r){let n;if(typeof e=="string")try{n=_S(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(vI(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}const YC=t=>typeof t=="bigint"&&QD<=t;function Irt(t,e,r){return YC(t)&&YC(e)&&YC(r)&&e<=t&&t<r}function F$(t,e,r,n){if(!Irt(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ime(t){let e;for(e=0;t>QD;t>>=B$,e+=1);return e}const w5=t=>(B$<<BigInt(t))-B$;function Nrt(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=n(t),a=n(t),o=0;const c=()=>{i.fill(1),a.fill(0),o=0},l=(...h)=>r(a,i,...h),u=(h=n(0))=>{a=l(s(0),h),i=l(),h.length!==0&&(a=l(s(1),h),i=l())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){i=l();const y=i.slice();m.push(y),h+=i.length}return X0(...m)};return(h,m)=>{c(),u(h);let y;for(;!(y=m(f()));)u();return c(),y}}function kI(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,a){const o=t[s];if(a&&o===void 0)return;const c=typeof o;if(c!==i||o===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function QX(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const To=BigInt(0),eo=BigInt(1),gg=BigInt(2),ame=BigInt(3),ome=BigInt(4),cme=BigInt(5),Ert=BigInt(7),lme=BigInt(8),Crt=BigInt(9),ume=BigInt(16);function nc(t,e){const r=t%e;return r>=To?r:e+r}function ql(t,e,r){let n=t;for(;e-- >To;)n*=n,n%=r;return n}function YX(t,e){if(t===To)throw new Error("invert: expected non-zero number");if(e<=To)throw new Error("invert: expected positive modulus, got "+e);let r=nc(t,e),n=e,s=To,i=eo;for(;r!==To;){const a=n/r,o=n%r,c=s-i*a;n=r,r=o,s=i,i=c}if(n!==eo)throw new Error("invert: does not exist");return nc(s,e)}function eU(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function dme(t,e){const r=(t.ORDER+eo)/ome,n=t.pow(e,r);return eU(t,n,e),n}function _rt(t,e){const r=(t.ORDER-cme)/lme,n=t.mul(e,gg),s=t.pow(n,r),i=t.mul(e,s),a=t.mul(t.mul(i,gg),s),o=t.mul(i,t.sub(a,t.ONE));return eU(t,o,e),o}function Trt(t){const e=bm(t),r=fme(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),a=(t+Ert)/ume;return(o,c)=>{let l=o.pow(c,a),u=o.mul(l,n);const f=o.mul(l,s),h=o.mul(l,i),m=o.eql(o.sqr(u),c),y=o.eql(o.sqr(f),c);l=o.cmov(l,u,m),u=o.cmov(h,f,y);const x=o.eql(o.sqr(u),c),k=o.cmov(l,u,x);return eU(o,k,c),k}}function fme(t){if(t<ame)throw new Error("sqrt is not defined for small field");let e=t-eo,r=0;for(;e%gg===To;)e/=gg,r++;let n=gg;const s=bm(t);for(;GX(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return dme;let i=s.pow(n,e);const a=(e+eo)/gg;return function(o,c){if(o.is0(c))return c;if(GX(o,c)!==1)throw new Error("Cannot find square root");let l=r,u=o.mul(o.ONE,i),f=o.pow(c,e),h=o.pow(c,a);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let m=1,y=o.sqr(f);for(;!o.eql(y,o.ONE);)if(m++,y=o.sqr(y),m===l)throw new Error("Cannot find square root");const x=eo<<BigInt(l-m-1),k=o.pow(u,x);l=m,u=o.sqr(k),f=o.mul(f,u),h=o.mul(h,k)}return h}}function jrt(t){return t%ome===ame?dme:t%lme===cme?_rt:t%ume===Crt?Trt(t):fme(t)}const Mrt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $rt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Mrt.reduce((n,s)=>(n[s]="function",n),e);return kI(t,r),t}function Ort(t,e,r){if(r<To)throw new Error("invalid exponent, negatives unsupported");if(r===To)return t.ONE;if(r===eo)return e;let n=t.ONE,s=e;for(;r>To;)r&eo&&(n=t.mul(n,s)),s=t.sqr(s),r>>=eo;return n}function hme(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((a,o,c)=>t.is0(o)?a:(n[c]=a,t.mul(a,o)),t.ONE),i=t.inv(s);return e.reduceRight((a,o,c)=>t.is0(o)?a:(n[c]=t.mul(a,n[c]),t.mul(a,o)),i),n}function GX(t,e){const r=(t.ORDER-eo)/gg,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function pme(t,e){e!==void 0&&Uh(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function bm(t,e,r=!1,n={}){if(t<=To)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,a=!1,o;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(s=h.BITS),h.sqrt&&(i=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(a=h.modFromBytes),o=h.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);const{nBitLength:c,nByteLength:l}=pme(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:w5(c),ZERO:To,ONE:eo,allowedLengths:o,create:h=>nc(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return To<=h&&h<t},is0:h=>h===To,isValidNot0:h=>!f.is0(h)&&f.isValid(h),isOdd:h=>(h&eo)===eo,neg:h=>nc(-h,t),eql:(h,m)=>h===m,sqr:h=>nc(h*h,t),add:(h,m)=>nc(h+m,t),sub:(h,m)=>nc(h-m,t),mul:(h,m)=>nc(h*m,t),pow:(h,m)=>Ort(f,h,m),div:(h,m)=>nc(h*YX(m,t),t),sqrN:h=>h*h,addN:(h,m)=>h+m,subN:(h,m)=>h-m,mulN:(h,m)=>h*m,inv:h=>YX(h,t),sqrt:i||(h=>(u||(u=jrt(t)),u(f,h))),toBytes:h=>r?GD(h,l):YD(h,l),fromBytes:(h,m=!0)=>{if(o){if(!o.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);const x=new Uint8Array(l);x.set(h,r?0:x.length-h.length),h=x}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let y=r?jS(h):PI(h);if(a&&(y=nc(y,t)),!m&&!f.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:h=>hme(f,h),cmov:(h,m,y)=>y?m:h});return Object.freeze(f)}function mme(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function gme(t){const e=mme(t);return e+Math.ceil(e/2)}function Brt(t,e,r=!1){const n=t.length,s=mme(e),i=gme(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const a=r?jS(t):PI(t),o=nc(a,e-eo)+eo;return r?GD(o,s):YD(o,s)}const Hx=BigInt(0),bg=BigInt(1);function MS(t,e){const r=e.negate();return t?r:e}function GC(t,e){const r=hme(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function bme(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function e_(t,e){bme(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=w5(t),a=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:a}}function eZ(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:a}=r;let o=Number(t&s),c=t>>a;o>n&&(o-=i,c+=bg);const l=e*n,u=l+Math.abs(o)-1,f=o===0,h=o<0,m=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:m,offsetF:l}}function Frt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Rrt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const t_=new WeakMap,yme=new WeakMap;function r_(t){return yme.get(t)||1}function tZ(t){if(t!==Hx)throw new Error("invalid wNAF")}class Drt{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>Hx;)r&bg&&(n=n.add(s)),s=s.double(),r>>=bg;return n}precomputeWindow(e,r){const{windows:n,windowSize:s}=e_(r,this.bits),i=[];let a=e,o=a;for(let c=0;c<n;c++){o=a,i.push(o);for(let l=1;l<s;l++)o=o.add(a),i.push(o);a=o.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const a=e_(e,this.bits);for(let o=0;o<a.windows;o++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:h,offsetF:m}=eZ(n,o,a);n=c,u?i=i.add(MS(h,r[m])):s=s.add(MS(f,r[l]))}return tZ(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){const i=e_(e,this.bits);for(let a=0;a<i.windows&&n!==Hx;a++){const{nextN:o,offset:c,isZero:l,isNeg:u}=eZ(n,a,i);if(n=o,!l){const f=r[c];s=s.add(u?f.negate():f)}}return tZ(n),s}getPrecomputes(e,r,n){let s=t_.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),t_.set(r,s))),s}cached(e,r,n){const s=r_(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){const i=r_(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){bme(r,this.bits),yme.set(e,r),t_.delete(e)}hasCache(e){return r_(e)!==1}}function Urt(t,e,r,n){let s=e,i=t.ZERO,a=t.ZERO;for(;r>Hx||n>Hx;)r&bg&&(i=i.add(s)),n&bg&&(a=a.add(s)),s=s.double(),r>>=bg,n>>=bg;return{p1:i,p2:a}}function zrt(t,e,r,n){Frt(r,t),Rrt(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=ime(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=w5(c),u=new Array(Number(l)+1).fill(a),f=Math.floor((e.BITS-1)/c)*c;let h=a;for(let m=f;m>=0;m-=c){u.fill(a);for(let x=0;x<i;x++){const k=n[x],C=Number(k>>BigInt(m)&l);u[C]=u[C].add(r[x])}let y=a;for(let x=u.length-1,k=a;x>0;x--)k=k.add(u[x]),y=y.add(k);if(h=h.add(y),m!==0)for(let x=0;x<c;x++)h=h.double()}return h}function rZ(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $rt(e),e}else return bm(t,{isLE:r})}function Lrt(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const c=e[o];if(!(typeof c=="bigint"&&c>Hx))throw new Error(`CURVE.${o} must be positive bigint`)}const s=rZ(e.p,r.Fp,n),i=rZ(e.n,r.Fn,n),a=["Gx","Gy","a","b"];for(const o of a)if(!s.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Hpe("HashToScalar-");const b2=BigInt(0),vb=BigInt(1),w9=BigInt(2);function Vrt(t){return kI(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Hrt(t){const e=Vrt(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:a}=e,o=n==="x25519";if(!o&&n!=="x448")throw new Error("invalid type");const c=a||rb,l=o?255:448,u=o?32:56,f=BigInt(o?9:5),h=BigInt(o?121665:39081),m=o?w9**BigInt(254):w9**BigInt(447),y=o?BigInt(8)*w9**BigInt(251)-vb:BigInt(4)*w9**BigInt(445)-vb,x=m+y+vb,k=b=>nc(b,r),C=I(f);function I(b){return GD(k(b),u)}function _(b){const w=ka("u coordinate",b,u);return o&&(w[31]&=127),k(jS(w))}function O(b){return jS(s(ka("scalar",b,u)))}function F(b,w){const p=T(_(w),O(b));if(p===b2)throw new Error("invalid private or public key received");return I(p)}function D(b){return F(b,C)}function j(b,w,p){const g=k(b*(w-p));return w=k(w-g),p=k(p+g),{x_2:w,x_3:p}}function T(b,w){F$("u",b,b2,r),F$("scalar",w,m,x);const p=w,g=b;let S=vb,N=b2,P=b,A=vb,v=b2;for(let M=BigInt(l-1);M>=b2;M--){const L=p>>M&vb;v^=L,{x_2:S,x_3:P}=j(v,S,P),{x_2:N,x_3:A}=j(v,N,A),v=L;const Q=S+N,U=k(Q*Q),J=S-N,Z=k(J*J),re=U-Z,G=P+A,z=P-A,se=k(z*Q),ce=k(G*J),pe=se+ce,_e=se-ce;P=k(pe*pe),A=k(g*k(_e*_e)),S=k(U*Z),N=k(re*(U+k(h*re)))}({x_2:S,x_3:P}=j(v,S,P)),{x_2:N,x_3:A}=j(v,N,A);const E=i(N);return k(S*E)}const R={secretKey:u,publicKey:u,seed:u},q=(b=c(u))=>($u(b,R.seed),b);function $(b){const w=q(b);return{secretKey:w,publicKey:D(w)}}return{keygen:$,getSharedSecret:(b,w)=>F(b,w),getPublicKey:b=>D(b),scalarMult:F,scalarMultBase:D,utils:{randomSecretKey:q,randomPrivateKey:q},GuBytes:C.slice(),lengths:R}}const qrt=BigInt(1),nZ=BigInt(2),Wrt=BigInt(3),Krt=BigInt(5),Xrt=BigInt(8),vme=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Zrt={p:vme,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Xrt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Jrt(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=vme,a=t*t%i*t%i,o=ql(a,nZ,i)*a%i,c=ql(o,qrt,i)*t%i,l=ql(c,Krt,i)*c%i,u=ql(l,e,i)*l%i,f=ql(u,r,i)*u%i,h=ql(f,n,i)*f%i,m=ql(h,s,i)*h%i,y=ql(m,s,i)*h%i,x=ql(y,e,i)*l%i;return{pow_p_5_8:ql(x,nZ,i)*t%i,b2:a}}function Qrt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Yrt=bm(Zrt.p,{isLE:!0}),R$=(()=>{const t=Yrt.ORDER;return Hrt({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Jrt(e);return nc(ql(r,Wrt,t)*n,t)},adjustScalarBytes:Qrt})})(),sZ=(t,e)=>(t+(t>=0?e:-e)/xme)/e;function Grt(t,e,r){const[[n,s],[i,a]]=e,o=sZ(a*t,r),c=sZ(-s*t,r);let l=t-o*n-c*i,u=-o*s-c*a;const f=l<dh,h=u<dh;f&&(l=-l),h&&(u=-u);const m=w5(Math.ceil(ime(r)/2))+Zy;if(l<dh||l>=m||u<dh||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}function D$(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function n_(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return TS(r.lowS,"lowS"),TS(r.prehash,"prehash"),r.format!==void 0&&D$(r.format),r}class ent extends Error{constructor(e=""){super(e)}}const qf={Err:ent,_tlv:{encode:(t,e)=>{const{Err:r}=qf;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=x9(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?x9(s.length/2|128):"";return x9(t)+i+s+e},decode(t,e){const{Err:r}=qf;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let a=0;if(!i)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+a);if(o.length!==a)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+a)}}},_int:{encode(t){const{Err:e}=qf;if(t<dh)throw new e("integer: negative integers are not allowed");let r=x9(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=qf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return PI(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=qf,s=ka("signature",t),{v:i,l:a}=n.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=qf,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},dh=BigInt(0),Zy=BigInt(1),xme=BigInt(2),A9=BigInt(3),tnt=BigInt(4);function my(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let s=ka("private key",e);try{n=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function rnt(t,e={}){const r=Lrt("weierstrass",t,e),{Fp:n,Fn:s}=r;let i=r.CURVE;const{h:a,n:o}=i;kI(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Ame(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(b,w,p){const{x:g,y:S}=w.toAffine(),N=n.toBytes(g);if(TS(p,"isCompressed"),p){u();const P=!n.isOdd(S);return X0(wme(P),N)}else return X0(Uint8Array.of(4),N,n.toBytes(S))}function h(b){mg(b,void 0,"Point");const{publicKey:w,publicKeyUncompressed:p}=l,g=b.length,S=b[0],N=b.subarray(1);if(g===w&&(S===2||S===3)){const P=n.fromBytes(N);if(!n.isValid(P))throw new Error("bad point: is not on curve, wrong x");const A=x(P);let v;try{v=n.sqrt(A)}catch(M){const L=M instanceof Error?": "+M.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}u();const E=n.isOdd(v);return(S&1)===1!==E&&(v=n.neg(v)),{x:P,y:v}}else if(g===p&&S===4){const P=n.BYTES,A=n.fromBytes(N.subarray(0,P)),v=n.fromBytes(N.subarray(P,P*2));if(!k(A,v))throw new Error("bad point: is not on curve");return{x:A,y:v}}else throw new Error(`bad point: got length ${g}, expected compressed=${w} or uncompressed=${p}`)}const m=e.toBytes||f,y=e.fromBytes||h;function x(b){const w=n.sqr(b),p=n.mul(w,b);return n.add(n.add(p,n.mul(b,i.a)),i.b)}function k(b,w){const p=n.sqr(w),g=x(b);return n.eql(p,g)}if(!k(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const C=n.mul(n.pow(i.a,A9),tnt),I=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(C,I)))throw new Error("bad curve params: a or b");function _(b,w,p=!1){if(!n.isValid(w)||p&&n.is0(w))throw new Error(`bad point coordinate ${b}`);return w}function O(b){if(!(b instanceof R))throw new Error("ProjectivePoint expected")}function F(b){if(!c||!c.basises)throw new Error("no endo");return Grt(b,c.basises,s.ORDER)}const D=QX((b,w)=>{const{X:p,Y:g,Z:S}=b;if(n.eql(S,n.ONE))return{x:p,y:g};const N=b.is0();w==null&&(w=N?n.ONE:n.inv(S));const P=n.mul(p,w),A=n.mul(g,w),v=n.mul(S,w);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:P,y:A}}),j=QX(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:p}=b.toAffine();if(!n.isValid(w)||!n.isValid(p))throw new Error("bad point: x or y not field elements");if(!k(w,p))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function T(b,w,p,g,S){return p=new R(n.mul(p.X,b),p.Y,p.Z),w=MS(g,w),p=MS(S,p),w.add(p)}class R{constructor(w,p,g){this.X=_("x",w),this.Y=_("y",p,!0),this.Z=_("z",g),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:p,y:g}=w||{};if(!w||!n.isValid(p)||!n.isValid(g))throw new Error("invalid affine point");if(w instanceof R)throw new Error("projective point not allowed");return n.is0(p)&&n.is0(g)?R.ZERO:new R(p,g,n.ONE)}static fromBytes(w){const p=R.fromAffine(y(mg(w,void 0,"point")));return p.assertValidity(),p}static fromHex(w){return R.fromBytes(ka("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,p=!0){return $.createCache(this,w),p||this.multiply(A9),this}assertValidity(){j(this)}hasEvenY(){const{y:w}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(w)}equals(w){O(w);const{X:p,Y:g,Z:S}=this,{X:N,Y:P,Z:A}=w,v=n.eql(n.mul(p,A),n.mul(N,S)),E=n.eql(n.mul(g,A),n.mul(P,S));return v&&E}negate(){return new R(this.X,n.neg(this.Y),this.Z)}double(){const{a:w,b:p}=i,g=n.mul(p,A9),{X:S,Y:N,Z:P}=this;let A=n.ZERO,v=n.ZERO,E=n.ZERO,M=n.mul(S,S),L=n.mul(N,N),Q=n.mul(P,P),U=n.mul(S,N);return U=n.add(U,U),E=n.mul(S,P),E=n.add(E,E),A=n.mul(w,E),v=n.mul(g,Q),v=n.add(A,v),A=n.sub(L,v),v=n.add(L,v),v=n.mul(A,v),A=n.mul(U,A),E=n.mul(g,E),Q=n.mul(w,Q),U=n.sub(M,Q),U=n.mul(w,U),U=n.add(U,E),E=n.add(M,M),M=n.add(E,M),M=n.add(M,Q),M=n.mul(M,U),v=n.add(v,M),Q=n.mul(N,P),Q=n.add(Q,Q),M=n.mul(Q,U),A=n.sub(A,M),E=n.mul(Q,L),E=n.add(E,E),E=n.add(E,E),new R(A,v,E)}add(w){O(w);const{X:p,Y:g,Z:S}=this,{X:N,Y:P,Z:A}=w;let v=n.ZERO,E=n.ZERO,M=n.ZERO;const L=i.a,Q=n.mul(i.b,A9);let U=n.mul(p,N),J=n.mul(g,P),Z=n.mul(S,A),re=n.add(p,g),G=n.add(N,P);re=n.mul(re,G),G=n.add(U,J),re=n.sub(re,G),G=n.add(p,S);let z=n.add(N,A);return G=n.mul(G,z),z=n.add(U,Z),G=n.sub(G,z),z=n.add(g,S),v=n.add(P,A),z=n.mul(z,v),v=n.add(J,Z),z=n.sub(z,v),M=n.mul(L,G),v=n.mul(Q,Z),M=n.add(v,M),v=n.sub(J,M),M=n.add(J,M),E=n.mul(v,M),J=n.add(U,U),J=n.add(J,U),Z=n.mul(L,Z),G=n.mul(Q,G),J=n.add(J,Z),Z=n.sub(U,Z),Z=n.mul(L,Z),G=n.add(G,Z),U=n.mul(J,G),E=n.add(E,U),U=n.mul(z,G),v=n.mul(re,v),v=n.sub(v,U),U=n.mul(re,J),M=n.mul(z,M),M=n.add(M,U),new R(v,E,M)}subtract(w){return this.add(w.negate())}is0(){return this.equals(R.ZERO)}multiply(w){const{endo:p}=e;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let g,S;const N=P=>$.cached(this,P,A=>GC(R,A));if(p){const{k1neg:P,k1:A,k2neg:v,k2:E}=F(w),{p:M,f:L}=N(A),{p:Q,f:U}=N(E);S=L.add(U),g=T(p.beta,M,Q,P,v)}else{const{p:P,f:A}=N(w);g=P,S=A}return GC(R,[g,S])[0]}multiplyUnsafe(w){const{endo:p}=e,g=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===dh||g.is0())return R.ZERO;if(w===Zy)return g;if($.hasCache(this))return this.multiply(w);if(p){const{k1neg:S,k1:N,k2neg:P,k2:A}=F(w),{p1:v,p2:E}=Urt(R,g,N,A);return T(p.beta,v,E,S,P)}else return $.unsafe(g,w)}multiplyAndAddUnsafe(w,p,g){const S=this.multiplyUnsafe(p).add(w.multiplyUnsafe(g));return S.is0()?void 0:S}toAffine(w){return D(this,w)}isTorsionFree(){const{isTorsionFree:w}=e;return a===Zy?!0:w?w(R,this):$.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:w}=e;return a===Zy?this:w?w(R,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(w=!0){return TS(w,"isCompressed"),this.assertValidity(),m(R,this,w)}toHex(w=!0){return Xy(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return GC(R,w)}static msm(w,p){return zrt(R,s,w,p)}static fromPrivateKey(w){return R.BASE.multiply(my(s,w))}}R.BASE=new R(i.Gx,i.Gy,n.ONE),R.ZERO=new R(n.ZERO,n.ONE,n.ZERO),R.Fp=n,R.Fn=s;const q=s.BITS,$=new Drt(R,e.endo?Math.ceil(q/2):q);return R.BASE.precompute(8),R}function wme(t){return Uint8Array.of(t?2:3)}function Ame(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function nnt(t,e={}){const{Fn:r}=t,n=e.randomBytes||rb,s=Object.assign(Ame(t.Fp,r),{seed:gme(r.ORDER)});function i(h){try{return!!my(r,h)}catch{return!1}}function a(h,m){const{publicKey:y,publicKeyUncompressed:x}=s;try{const k=h.length;return m===!0&&k!==y||m===!1&&k!==x?!1:!!t.fromBytes(h)}catch{return!1}}function o(h=n(s.seed)){return Brt(mg(h,s.seed,"seed"),r.ORDER)}function c(h,m=!0){return t.BASE.multiply(my(r,h)).toBytes(m)}function l(h){const m=o(h);return{secretKey:m,publicKey:c(m)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:m,publicKey:y,publicKeyUncompressed:x}=s;if(r.allowedLengths||m===y)return;const k=ka("key",h).length;return k===y||k===x}function f(h,m,y=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(m)===!1)throw new Error("second arg must be public key");const x=my(r,h);return t.fromHex(m).multiply(x).toBytes(y)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:o,isValidPrivateKey:i,randomPrivateKey:o,normPrivateKeyToScalar:h=>my(r,h),precompute(h=8,m=t.BASE){return m.precompute(h,!1)}},lengths:s})}function snt(t,e,r={}){xI(e),kI(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||rb,s=r.hmac||((p,...g)=>AI(e,p,X0(...g))),{Fp:i,Fn:a}=t,{ORDER:o,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:h,lengths:m}=nnt(t,r),y={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function k(p){const g=o>>Zy;return p>g}function C(p,g){if(!a.isValidNot0(g))throw new Error(`invalid signature ${p}: out of range 1..Point.Fn.ORDER`);return g}function I(p,g){D$(g);const S=m.signature,N=g==="compact"?S:g==="recovered"?S+1:void 0;return mg(p,N,`${g} signature`)}class _{constructor(g,S,N){this.r=C("r",g),this.s=C("s",S),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(g,S=x){I(g,S);let N;if(S==="der"){const{r:E,s:M}=qf.toSig(mg(g));return new _(E,M)}S==="recovered"&&(N=g[0],S="compact",g=g.subarray(1));const P=a.BYTES,A=g.subarray(0,P),v=g.subarray(P,P*2);return new _(a.fromBytes(A),a.fromBytes(v),N)}static fromHex(g,S){return this.fromBytes(_S(g),S)}addRecoveryBit(g){return new _(this.r,this.s,g)}recoverPublicKey(g){const S=i.ORDER,{r:N,s:P,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(o*xme<S&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const v=A===2||A===3?N+o:N;if(!i.isValid(v))throw new Error("recovery id 2 or 3 invalid");const E=i.toBytes(v),M=t.fromBytes(X0(wme((A&1)===0),E)),L=a.inv(v),Q=F(ka("msgHash",g)),U=a.create(-Q*L),J=a.create(P*L),Z=t.BASE.multiplyUnsafe(U).add(M.multiplyUnsafe(J));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return k(this.s)}toBytes(g=x){if(D$(g),g==="der")return _S(qf.hexFromSig(this));const S=a.toBytes(this.r),N=a.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return X0(Uint8Array.of(this.recovery),S,N)}return X0(S,N)}toHex(g){return Xy(this.toBytes(g))}assertValidity(){}static fromCompact(g){return _.fromBytes(ka("sig",g),"compact")}static fromDER(g){return _.fromBytes(ka("sig",g),"der")}normalizeS(){return this.hasHighS()?new _(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Xy(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Xy(this.toBytes("compact"))}}const O=r.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const g=PI(p),S=p.length*8-c;return S>0?g>>BigInt(S):g},F=r.bits2int_modN||function(p){return a.create(O(p))},D=w5(c);function j(p){return F$("num < 2^"+c,p,dh,D),a.toBytes(p)}function T(p,g){return mg(p,void 0,"message"),g?mg(e(p),void 0,"prehashed message"):p}function R(p,g,S){if(["recovered","canonical"].some(J=>J in S))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:P,extraEntropy:A}=n_(S,y);p=T(p,P);const v=F(p),E=my(a,g),M=[j(E),j(v)];if(A!=null&&A!==!1){const J=A===!0?n(m.secretKey):A;M.push(ka("extraEntropy",J))}const L=X0(...M),Q=v;function U(J){const Z=O(J);if(!a.isValidNot0(Z))return;const re=a.inv(Z),G=t.BASE.multiply(Z).toAffine(),z=a.create(G.x);if(z===dh)return;const se=a.create(re*a.create(Q+z*E));if(se===dh)return;let ce=(G.x===z?0:2)|Number(G.y&Zy),pe=se;return N&&k(se)&&(pe=a.neg(se),ce^=1),new _(z,pe,ce)}return{seed:L,k2sig:U}}function q(p,g,S={}){p=ka("message",p);const{seed:N,k2sig:P}=R(p,g,S);return Nrt(e.outputLen,a.BYTES,s)(N,P)}function $(p){let g;const S=typeof p=="string"||vI(p),N=!S&&p!==null&&typeof p=="object"&&typeof p.r=="bigint"&&typeof p.s=="bigint";if(!S&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)g=new _(p.r,p.s);else if(S){try{g=_.fromBytes(ka("sig",p),"der")}catch(P){if(!(P instanceof qf.Err))throw P}if(!g)try{g=_.fromBytes(ka("sig",p),"compact")}catch{return!1}}return g||!1}function b(p,g,S,N={}){const{lowS:P,prehash:A,format:v}=n_(N,y);if(S=ka("publicKey",S),g=T(ka("message",g),A),"strict"in N)throw new Error("options.strict was renamed to lowS");const E=v===void 0?$(p):_.fromBytes(ka("sig",p),v);if(E===!1)return!1;try{const M=t.fromBytes(S);if(P&&E.hasHighS())return!1;const{r:L,s:Q}=E,U=F(g),J=a.inv(Q),Z=a.create(U*J),re=a.create(L*J),G=t.BASE.multiplyUnsafe(Z).add(M.multiplyUnsafe(re));return G.is0()?!1:a.create(G.x)===L}catch{return!1}}function w(p,g,S={}){const{prehash:N}=n_(S,y);return g=T(g,N),_.fromBytes(p,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:h,lengths:m,Point:t,sign:q,verify:b,recoverPublicKey:w,Signature:_,hash:e})}function int(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=bm(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function ant(t){const{CURVE:e,curveOpts:r}=int(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function ont(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,pme(r.Fn.ORDER,r.Fn.BITS))})}function cnt(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=ant(t),i=rnt(e,r),a=snt(i,n,s);return ont(t,a)}function U$(t,e){const r=n=>cnt({...t,hash:n});return{...r(e),create:r}}const Sme={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Pme={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},kme={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},lnt=bm(Sme.p),unt=bm(Pme.p),dnt=bm(kme.p),fnt=U$({...Sme,Fp:lnt,lowS:!1},Ype);U$({...Pme,Fp:unt,lowS:!1},Xtt),U$({...kme,Fp:dnt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Ktt);const hnt=fnt,Ime="base10",to="base16",s1="base64pad",tU="base64url",A5="utf8",Nme=0,nb=1,II=2,pnt=0,iZ=1,_3=12,rU=32;function mnt(){const t=R$.utils.randomPrivateKey(),e=R$.getPublicKey(t);return{privateKey:Ro(t,to),publicKey:Ro(e,to)}}function z$(){const t=rb(rU);return Ro(t,to)}function gnt(t,e){const r=R$.getSharedSecret(pl(t,to),pl(e,to)),n=krt(SI,r,void 0,void 0,rU);return Ro(n,to)}function L$(t){const e=SI(pl(t,to));return Ro(e,to)}function N7(t){const e=SI(pl(t,A5));return Ro(e,to)}function Eme(t){return pl(`${t}`,Ime)}function j1(t){return Number(Ro(t,Ime))}function Cme(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function _me(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function bnt(t){const e=Eme(typeof t.type<"u"?t.type:Nme);if(j1(e)===nb&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?pl(t.senderPublicKey,to):void 0,n=typeof t.iv<"u"?pl(t.iv,to):rb(_3),s=pl(t.symKey,to),i=rme(s,n).encrypt(pl(t.message,A5)),a=Tme({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===tU?Cme(a):a}function ynt(t){const e=pl(t.symKey,to),{sealed:r,iv:n}=e4({encoded:t.encoded,encoding:t.encoding}),s=rme(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return Ro(s,A5)}function vnt(t,e){const r=Eme(II),n=rb(_3),s=pl(t,A5),i=Tme({type:r,sealed:s,iv:n});return e===tU?Cme(i):i}function xnt(t,e){const{sealed:r}=e4({encoded:t,encoding:e});return Ro(r,A5)}function Tme(t){if(j1(t.type)===II)return Ro(E3([t.type,t.sealed]),s1);if(j1(t.type)===nb){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ro(E3([t.type,t.senderPublicKey,t.iv,t.sealed]),s1)}return Ro(E3([t.type,t.iv,t.sealed]),s1)}function e4(t){const e=(t.encoding||s1)===tU?_me(t.encoded):t.encoded,r=pl(e,s1),n=r.slice(pnt,iZ),s=iZ;if(j1(n)===nb){const c=s+rU,l=c+_3,u=r.slice(s,c),f=r.slice(c,l),h=r.slice(l);return{type:n,sealed:h,iv:f,senderPublicKey:u}}if(j1(n)===II){const c=r.slice(s),l=rb(_3);return{type:n,sealed:c,iv:l}}const i=s+_3,a=r.slice(s,i),o=r.slice(i);return{type:n,sealed:o,iv:a}}function wnt(t,e){const r=e4({encoded:t,encoding:e==null?void 0:e.encoding});return jme({type:j1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ro(r.senderPublicKey,to):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function jme(t){const e=(t==null?void 0:t.type)||Nme;if(e===nb){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function aZ(t){return t.type===nb&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function oZ(t){return t.type===II}function Ant(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return E3([new Uint8Array([4]),e,r])}function Snt(t,e){const[r,n,s]=t.split("."),i=Buffer.from(_me(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32),o=i.slice(32,64),c=`${r}.${n}`,l=SI(c),u=Ant(e);if(!hnt.verify(E3([a,o]),l,u))throw new Error("Invalid signature");return C$(t).payload}const Pnt="irn";function $S(t){return(t==null?void 0:t.relay)||{protocol:Pnt}}function gy(t){const e=WD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var knt=Object.defineProperty,Int=Object.defineProperties,Nnt=Object.getOwnPropertyDescriptors,cZ=Object.getOwnPropertySymbols,Ent=Object.prototype.hasOwnProperty,Cnt=Object.prototype.propertyIsEnumerable,lZ=(t,e,r)=>e in t?knt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s_=(t,e)=>{for(var r in e||(e={}))Ent.call(e,r)&&lZ(t,r,e[r]);if(cZ)for(var r of cZ(e))Cnt.call(e,r)&&lZ(t,r,e[r]);return t},_nt=(t,e)=>Int(t,Nnt(e));function Tnt(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function uZ(t){if(!t.includes("wc:")){const l=Rpe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=new URLSearchParams(i),o=Object.fromEntries(a.entries()),c=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:jnt(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:Tnt(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function jnt(t){return t.startsWith("//")?t.substring(2):t}function Mnt(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,a=r+e+i;t[i]&&(n[a]=t[i])}),n}function dZ(t){const e=new URLSearchParams,r=s_(s_(_nt(s_({},Mnt(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}var $nt=Object.defineProperty,Ont=Object.defineProperties,Bnt=Object.getOwnPropertyDescriptors,fZ=Object.getOwnPropertySymbols,Fnt=Object.prototype.hasOwnProperty,Rnt=Object.prototype.propertyIsEnumerable,hZ=(t,e,r)=>e in t?$nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dnt=(t,e)=>{for(var r in e||(e={}))Fnt.call(e,r)&&hZ(t,r,e[r]);if(fZ)for(var r of fZ(e))Rnt.call(e,r)&&hZ(t,r,e[r]);return t},Unt=(t,e)=>Ont(t,Bnt(e));function Mme(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function znt(t){var e;const{proposal:{requiredNamespaces:r,optionalNamespaces:n={}},supportedNamespaces:s}=t,i=pZ(r),a=pZ(n),o={};Object.keys(s).forEach(u=>{const f=s[u].chains,h=s[u].methods,m=s[u].events,y=s[u].accounts;f.forEach(x=>{if(!y.some(k=>k.includes(x)))throw new Error(`No accounts provided for chain ${x} in namespace ${u}`)}),o[u]={chains:f,methods:h,events:m,accounts:y}});const c=Znt(r,o,"approve()");if(c)throw new Error(c.message);const l={};if(!Object.keys(r).length&&!Object.keys(n).length)return o;Object.keys(i).forEach(u=>{const f=s[u].chains.filter(x=>{var k,C;return(C=(k=i[u])==null?void 0:k.chains)==null?void 0:C.includes(x)}),h=s[u].methods.filter(x=>{var k,C;return(C=(k=i[u])==null?void 0:k.methods)==null?void 0:C.includes(x)}),m=s[u].events.filter(x=>{var k,C;return(C=(k=i[u])==null?void 0:k.events)==null?void 0:C.includes(x)}),y=f.map(x=>s[u].accounts.filter(k=>k.includes(`${x}:`))).flat();l[u]={chains:f,methods:h,events:m,accounts:y}}),Object.keys(a).forEach(u=>{var f,h,m,y,x,k;if(!s[u])return;const C=(h=(f=a[u])==null?void 0:f.chains)==null?void 0:h.filter(F=>s[u].chains.includes(F)),I=s[u].methods.filter(F=>{var D,j;return(j=(D=a[u])==null?void 0:D.methods)==null?void 0:j.includes(F)}),_=s[u].events.filter(F=>{var D,j;return(j=(D=a[u])==null?void 0:D.events)==null?void 0:j.includes(F)}),O=C==null?void 0:C.map(F=>s[u].accounts.filter(D=>D.includes(`${F}:`))).flat();l[u]={chains:pg((m=l[u])==null?void 0:m.chains,C),methods:pg((y=l[u])==null?void 0:y.methods,I),events:pg((x=l[u])==null?void 0:x.events,_),accounts:pg((k=l[u])==null?void 0:k.accounts,O)}});for(const[u,f]of Object.entries(l))(f.accounts.length===0||((e=f==null?void 0:f.chains)==null?void 0:e.length)===0)&&delete l[u];return l}function $me(t){return t.includes(":")}function Lnt(t){return $me(t)?t.split(":")[0]:t}function pZ(t){var e,r,n;const s={};if(!qnt(t))return s;for(const[i,a]of Object.entries(t)){const o=$me(i)?[i]:a.chains,c=a.methods||[],l=a.events||[],u=Lnt(i);s[u]=Unt(Dnt({},s[u]),{chains:pg(o,(e=s[u])==null?void 0:e.chains),methods:pg(c,(r=s[u])==null?void 0:r.methods),events:pg(l,(n=s[u])==null?void 0:n.events)})}return s}const Vnt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hnt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Or(t,e){const{message:r,code:n}=Hnt[t];return{message:e?`${r} ${e}`:r,code:n}}function Pp(t,e){const{message:r,code:n}=Vnt[t];return{message:e?`${r} ${e}`:r,code:n}}function qnt(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function s3(t){return typeof t>"u"}function Ome(t,e){return typeof t=="string"&&!!t.trim().length}function Wnt(t,e){return typeof t=="number"&&!isNaN(t)}function Bme(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ome(t,!1)){if(e(t))return!0;const r=Rpe(t);return e(r)}}catch{}return!1}function Knt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Xnt(t){return t==null?void 0:t.topic}function i_(t){return typeof t<"u"&&typeof t!==null}function Znt(t,e,r){let n=null;const s=Jnt(t),i=Qnt(e),a=Object.keys(s),o=Object.keys(i),c=mZ(Object.keys(t)),l=mZ(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),KC(a,o)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=Mme(e[f].accounts);h.includes(f)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),a.forEach(f=>{n||(KC(s[f].methods,i[f].methods)?KC(s[f].events,i[f].events)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Jnt(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function mZ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Qnt(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Mme(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Ynt(t,e){return Wnt(t)&&t<=e.max&&t>=e.min}function gZ(){const t=yI();return new Promise(e=>{switch(t){case vu.browser:e(Gnt());break;case vu.reactNative:e(est());break;case vu.node:e(tst());break;default:e(!0)}})}function Gnt(){return Tw()&&(navigator==null?void 0:navigator.onLine)}async function est(){if(tb()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function tst(){return!0}function rst(t){switch(yI()){case vu.browser:nst(t);break;case vu.reactNative:sst(t);break}}function nst(t){!tb()&&Tw()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function sst(t){tb()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function ist(){var t;return Tw()&&xc()?((t=xc())==null?void 0:t.visibilityState)==="visible":!0}function ast({logger:t,name:e}){const r=typeof t=="string"?epe({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}const ost="PARSE_ERROR",cst="INVALID_REQUEST",lst="METHOD_NOT_FOUND",ust="INVALID_PARAMS",Fme="INTERNAL_ERROR",nU="SERVER_ERROR",dst=[-32700,-32600,-32601,-32602,-32603],T3={[ost]:{code:-32700,message:"Parse error"},[cst]:{code:-32600,message:"Invalid Request"},[lst]:{code:-32601,message:"Method not found"},[ust]:{code:-32602,message:"Invalid params"},[Fme]:{code:-32603,message:"Internal error"},[nU]:{code:-32e3,message:"Server error"}},Rme=nU;function fst(t){return dst.includes(t)}function bZ(t){return Object.keys(T3).includes(t)?T3[t]:T3[Rme]}function hst(t){const e=Object.values(T3).find(r=>r.code===t);return e||T3[Rme]}function sU(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var NI={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V$=function(t,e){return V$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},V$(t,e)};function pst(t,e){V$(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H$=function(){return H$=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},H$.apply(this,arguments)};function mst(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function gst(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function bst(t,e){return function(r,n){e(r,n,t)}}function yst(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vst(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{l(n.next(u))}catch(f){a(f)}}function c(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?i(u.value):s(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function xst(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function wst(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Ast(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function q$(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dme(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Sst(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Dme(arguments[e]));return t}function Pst(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function t4(t){return this instanceof t4?(this.v=t,this):new t4(t)}function kst(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(m){return new Promise(function(y,x){i.push([h,m,y,x])>1||o(h,m)})})}function o(h,m){try{c(n[h](m))}catch(y){f(i[0][3],y)}}function c(h){h.value instanceof t4?Promise.resolve(h.value.v).then(l,u):f(i[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,m){h(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Ist(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:t4(t[s](a)),done:s==="return"}:i?i(a):a}:i}}function Nst(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof q$=="function"?q$(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(l){i({value:l,done:o})},a)}}function Est(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Cst(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _st(t){return t&&t.__esModule?t:{default:t}}function Tst(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function jst(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Mst=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return H$},__asyncDelegator:Ist,__asyncGenerator:kst,__asyncValues:Nst,__await:t4,__awaiter:vst,__classPrivateFieldGet:Tst,__classPrivateFieldSet:jst,__createBinding:wst,__decorate:gst,__exportStar:Ast,__extends:pst,__generator:xst,__importDefault:_st,__importStar:Cst,__makeTemplateObject:Est,__metadata:yst,__param:bst,__read:Dme,__rest:mst,__spread:Sst,__spreadArrays:Pst,__values:q$},Symbol.toStringTag,{value:"Module"})),$st=hP(Mst);var Nf={},yZ;function Ost(){if(yZ)return Nf;yZ=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.isBrowserCryptoAvailable=Nf.getSubtleCrypto=Nf.getBrowerCrypto=void 0;function t(){return(Ds==null?void 0:Ds.crypto)||(Ds==null?void 0:Ds.msCrypto)||{}}Nf.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Nf.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Nf.isBrowserCryptoAvailable=r,Nf}var Ef={},vZ;function Bst(){if(vZ)return Ef;vZ=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.isBrowser=Ef.isNode=Ef.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ef.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ef.isNode=e;function r(){return!t()&&!e()}return Ef.isBrowser=r,Ef}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=$st;e.__exportStar(Ost(),t),e.__exportStar(Bst(),t)})(NI);function z0(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function ml(t=6){return BigInt(z0(t))}function gl(t,e,r){return{id:r||z0(),jsonrpc:"2.0",method:t,params:e}}function ym(t,e){return{id:t,jsonrpc:"2.0",result:e}}function vm(t,e,r){return{id:t,jsonrpc:"2.0",error:Fst(e)}}function Fst(t,e){return typeof t>"u"?bZ(Fme):(typeof t=="string"&&(t=Object.assign(Object.assign({},bZ(nU)),{message:t})),fst(t.code)&&(t=hst(t.code)),t)}class Rst{}let Dst=class extends Rst{constructor(){super()}},Ust=class extends Dst{constructor(e){super()}};const zst="^wss?:";function Lst(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Vst(t,e){const r=Lst(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function qx(t){return Vst(t,zst)}function iU(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ume(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function xm(t){return Ume(t)&&"method"in t}function Xh(t){return Ume(t)&&(sc(t)||Ri(t))}function sc(t){return"result"in t}function Ri(t){return"error"in t}let aU=class extends Ust{constructor(e){super(e),this.events=new Un.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(gl(e.method,e.params||[],e.id||ml().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ri(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Xh(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Hst=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),qst=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",xZ=t=>t.split("?")[0],wZ=10,Wst=Hst();let Kst=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Js(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=NI.isReactNative()?void 0:{rejectUnauthorized:!iU(e)},i=new Wst(e,[],s);qst()?i.onerror=a=>{const o=a;n(this.emitError(o.error))}:i.on("error",a=>{n(this.emitError(a))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Pi(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=vm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return sU(e,xZ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>wZ&&this.events.setMaxListeners(wZ)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${xZ(this.url)}`));return this.events.emit("register_error",r),r}};var Xst={};const zme="wc",Lme=2,OS="core",sf=`${zme}@2:${OS}:`,Zst={name:OS,logger:"error"},Jst={database:":memory:"},Qst="crypto",AZ="client_ed25519_seed",Yst=Me.ONE_DAY,Gst="keychain",eit="0.3",tit="messages",rit="0.3",nit=Me.SIX_HOURS,sit="publisher",iit="irn",ait="error",Vme="wss://relay.walletconnect.org",oit="relayer",Rs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cit="_subscription",Uc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lit=.1,W$="2.23.1",Wx={link_mode:"link_mode",relay:"relay"},E7={inbound:"inbound",outbound:"outbound"},uit="0.3",dit="WALLETCONNECT_CLIENT_ID",SZ="WALLETCONNECT_LINK_MODE_APPS",Xo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},fit="subscription",hit="0.3",pit="pairing",mit="0.3",y2={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},Lb={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Dl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},git="history",bit="0.3",yit="expirer",Wl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vit="0.3",xit="verify-api",wit="https://verify.walletconnect.com",Hme="https://verify.walletconnect.org",C7=Hme,Ait=`${C7}/v3`,Sit=[wit,Hme],Pit="echo",kit="https://echo.walletconnect.com",Cf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},P0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Iit=.1,Nit="event-client",Eit=86400,Cit="https://pulse.walletconnect.org/batch";function _it(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var Tit=_it,jit=Tit;const qme=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Mit=t=>new TextEncoder().encode(t),$it=t=>new TextDecoder().decode(t);let Oit=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Bit=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Wme(this,e)}},Fit=class{constructor(e){this.decoders=e}or(e){return Wme(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Wme=(t,e)=>new Fit({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Rit=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Oit(e,r,n),this.decoder=new Bit(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const EI=({name:t,prefix:e,encode:r,decode:n})=>new Rit(t,e,r,n),S5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=jit(r,e);return EI({prefix:t,name:e,encode:n,decode:i=>qme(s(i))})},Dit=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Uit=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ra=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>EI({prefix:e,name:t,encode(s){return Uit(s,n,r)},decode(s){return Dit(s,n,r,t)}}),zit=EI({prefix:"\0",name:"identity",encode:t=>$it(t),decode:t=>Mit(t)});var Lit=Object.freeze({__proto__:null,identity:zit});const Vit=ra({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Hit=Object.freeze({__proto__:null,base2:Vit});const qit=ra({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wit=Object.freeze({__proto__:null,base8:qit});const Kit=S5({prefix:"9",name:"base10",alphabet:"0123456789"});var Xit=Object.freeze({__proto__:null,base10:Kit});const Zit=ra({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jit=ra({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qit=Object.freeze({__proto__:null,base16:Zit,base16upper:Jit});const Yit=ra({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Git=ra({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eat=ra({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tat=ra({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rat=ra({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nat=ra({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sat=ra({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iat=ra({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aat=ra({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var oat=Object.freeze({__proto__:null,base32:Yit,base32upper:Git,base32pad:eat,base32padupper:tat,base32hex:rat,base32hexupper:nat,base32hexpad:sat,base32hexpadupper:iat,base32z:aat});const cat=S5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lat=S5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var uat=Object.freeze({__proto__:null,base36:cat,base36upper:lat});const dat=S5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fat=S5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hat=Object.freeze({__proto__:null,base58btc:dat,base58flickr:fat});const pat=ra({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mat=ra({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gat=ra({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bat=ra({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yat=Object.freeze({__proto__:null,base64:pat,base64pad:mat,base64url:gat,base64urlpad:bat});const Kme=Array.from(""),vat=Kme.reduce((t,e,r)=>(t[r]=e,t),[]),xat=Kme.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function wat(t){return t.reduce((e,r)=>(e+=vat[r],e),"")}function Aat(t){const e=[];for(const r of t){const n=xat[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Sat=EI({prefix:"",name:"base256emoji",encode:wat,decode:Aat});var Pat=Object.freeze({__proto__:null,base256emoji:Sat}),kat=Xme,PZ=128,Iat=127,Nat=~Iat,Eat=Math.pow(2,31);function Xme(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Eat;)e[r++]=t&255|PZ,t/=128;for(;t&Nat;)e[r++]=t&255|PZ,t>>>=7;return e[r]=t|0,Xme.bytes=r-n+1,e}var Cat=K$,_at=128,kZ=127;function K$(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw K$.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&kZ)<<s:(a&kZ)*Math.pow(2,s),s+=7}while(a>=_at);return K$.bytes=i-n,r}var Tat=Math.pow(2,7),jat=Math.pow(2,14),Mat=Math.pow(2,21),$at=Math.pow(2,28),Oat=Math.pow(2,35),Bat=Math.pow(2,42),Fat=Math.pow(2,49),Rat=Math.pow(2,56),Dat=Math.pow(2,63),Uat=function(t){return t<Tat?1:t<jat?2:t<Mat?3:t<$at?4:t<Oat?5:t<Bat?6:t<Fat?7:t<Rat?8:t<Dat?9:10},zat={encode:kat,decode:Cat,encodingLength:Uat},Zme=zat;const IZ=(t,e,r=0)=>(Zme.encode(t,e,r),e),NZ=t=>Zme.encodingLength(t),X$=(t,e)=>{const r=e.byteLength,n=NZ(t),s=n+NZ(r),i=new Uint8Array(s+r);return IZ(t,i,0),IZ(r,i,n),i.set(e,s),new Lat(t,r,e,i)};let Lat=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const Jme=({name:t,code:e,encode:r})=>new Vat(t,e,r);let Vat=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?X$(this.code,r):r.then(n=>X$(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Qme=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Hat=Jme({name:"sha2-256",code:18,encode:Qme("SHA-256")}),qat=Jme({name:"sha2-512",code:19,encode:Qme("SHA-512")});var Wat=Object.freeze({__proto__:null,sha256:Hat,sha512:qat});const Yme=0,Kat="identity",Gme=qme,Xat=t=>X$(Yme,Gme(t)),Zat={code:Yme,name:Kat,encode:Gme,digest:Xat};var Jat=Object.freeze({__proto__:null,identity:Zat});new TextEncoder,new TextDecoder;const EZ={...Lit,...Hit,...Wit,...Xit,...Qit,...oat,...uat,...hat,...yat,...Pat};({...Wat,...Jat});function ege(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Qat(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ege(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function tge(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const CZ=tge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),a_=tge("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Qat(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Yat={utf8:CZ,"utf-8":CZ,hex:EZ.base16,latin1:a_,ascii:a_,binary:a_,...EZ};function Gat(t,e="utf8"){const r=Yat[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ege(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var eot=Object.defineProperty,tot=(t,e,r)=>e in t?eot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zu=(t,e,r)=>tot(t,typeof e!="symbol"?e+"":e,r);let rot=class{constructor(e,r){this.core=e,this.logger=r,Zu(this,"keychain",new Map),Zu(this,"name",Gst),Zu(this,"version",eit),Zu(this,"initialized",!1),Zu(this,"storagePrefix",sf),Zu(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Zu(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Zu(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),Zu(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=Or("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),Zu(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,_$(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?T$(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}};var not=Object.defineProperty,sot=(t,e,r)=>e in t?not(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,si=(t,e,r)=>sot(t,typeof e!="symbol"?e+"":e,r);class iot{constructor(e,r,n){this.core=e,this.logger=r,si(this,"name",Qst),si(this,"keychain"),si(this,"randomSessionIdentifier",z$()),si(this,"initialized",!1),si(this,"clientId"),si(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),si(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),si(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=CX(s),a=Cpe(i.publicKey);return this.clientId=a,a}),si(this,"generateKeyPair",()=>{this.isInitialized();const s=mnt();return this.setPrivateKey(s.publicKey,s.privateKey)}),si(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),a=CX(i),o=this.randomSessionIdentifier;return await TGe(o,s,Yst,a)}),si(this,"generateSharedKey",(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=gnt(o,i);return this.setSymKey(c,a)}),si(this,"setSymKey",async(s,i)=>{this.isInitialized();const a=i||L$(s);return await this.keychain.set(a,s),a}),si(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),si(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),si(this,"encode",async(s,i,a)=>{this.isInitialized();const o=jme(a),c=Js(i);if(oZ(o))return vnt(c,a==null?void 0:a.encoding);if(aZ(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return bnt({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})}),si(this,"decode",async(s,i,a)=>{this.isInitialized();const o=wnt(i,a);if(oZ(o)){const c=xnt(i,a==null?void 0:a.encoding);return Pi(c)}if(aZ(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=ynt({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Pi(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),si(this,"getPayloadType",(s,i=s1)=>{const a=e4({encoded:s,encoding:i});return j1(a.type)}),si(this,"getPayloadSenderPublicKey",(s,i=s1)=>{const a=e4({encoded:s,encoding:i});return a.senderPublicKey?Ro(a.senderPublicKey,to):void 0}),this.core=e,this.logger=kc(r,this.name),this.keychain=n||new rot(this.core,this.logger)}get context(){return Pc(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(AZ)}catch{e=z$(),await this.keychain.set(AZ,e)}return Gat(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var aot=Object.defineProperty,oot=Object.defineProperties,cot=Object.getOwnPropertyDescriptors,_Z=Object.getOwnPropertySymbols,lot=Object.prototype.hasOwnProperty,uot=Object.prototype.propertyIsEnumerable,Z$=(t,e,r)=>e in t?aot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dot=(t,e)=>{for(var r in e||(e={}))lot.call(e,r)&&Z$(t,r,e[r]);if(_Z)for(var r of _Z(e))uot.call(e,r)&&Z$(t,r,e[r]);return t},fot=(t,e)=>oot(t,cot(e)),Wo=(t,e,r)=>Z$(t,typeof e!="symbol"?e+"":e,r);class hot extends jJe{constructor(e,r){super(e,r),this.logger=e,this.core=r,Wo(this,"messages",new Map),Wo(this,"messagesWithoutClientAck",new Map),Wo(this,"name",tit),Wo(this,"version",rit),Wo(this,"initialized",!1),Wo(this,"storagePrefix",sf),Wo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Wo(this,"set",async(n,s,i)=>{this.isInitialized();const a=N7(s);let o=this.messages.get(n);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=s,this.messages.set(n,o),i===E7.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,fot(dot({},c),{[a]:s}))}return await this.persist(),a}),Wo(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Wo(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const a=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(a)}return s}),Wo(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),a=N7(s);return typeof i[a]<"u"}),Wo(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const a=N7(s);delete i[a],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Wo(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=kc(e,this.name),this.core=r}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,_$(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,_$(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?T$(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?T$(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pot=Object.defineProperty,mot=Object.defineProperties,got=Object.getOwnPropertyDescriptors,TZ=Object.getOwnPropertySymbols,bot=Object.prototype.hasOwnProperty,yot=Object.prototype.propertyIsEnumerable,J$=(t,e,r)=>e in t?pot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xb=(t,e)=>{for(var r in e||(e={}))bot.call(e,r)&&J$(t,r,e[r]);if(TZ)for(var r of TZ(e))yot.call(e,r)&&J$(t,r,e[r]);return t},jZ=(t,e)=>mot(t,got(e)),zc=(t,e,r)=>J$(t,typeof e!="symbol"?e+"":e,r);let vot=class extends MJe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,zc(this,"events",new Un.EventEmitter),zc(this,"name",sit),zc(this,"queue",new Map),zc(this,"publishTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),zc(this,"initialPublishTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),zc(this,"needsTransportRestart",!1),zc(this,"publish",async(n,s,i)=>{var a,o,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const f=(i==null?void 0:i.ttl)||nit,h=(i==null?void 0:i.prompt)||!1,m=(i==null?void 0:i.tag)||0,y=(i==null?void 0:i.id)||ml().toString(),x=gy($S().protocol),k={id:y,method:(i==null?void 0:i.publishMethod)||x.publish,params:xb({topic:n,message:s,ttl:f,prompt:h,tag:m,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},C=`Failed to publish payload, please try again. id:${y} tag:${m}`;try{s3((a=k.params)==null?void 0:a.prompt)&&((o=k.params)==null||delete o.prompt),s3((c=k.params)==null?void 0:c.tag)&&((l=k.params)==null||delete l.tag);const I=new Promise(async _=>{const O=({id:D})=>{var j;((j=k.id)==null?void 0:j.toString())===D.toString()&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(Rs.publish,O),_())};this.relayer.events.on(Rs.publish,O);const F=$d(new Promise((D,j)=>{this.rpcPublish(k,i).then(D).catch(T=>{this.logger.warn(T,T==null?void 0:T.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${y} tag:${m}`);try{await F,this.events.removeListener(Rs.publish,O)}catch(D){this.queue.set(y,{request:k,opts:i,attempt:1}),this.logger.warn(D,D==null?void 0:D.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,topic:n,message:s,opts:i}}),await $d(I,this.publishTimeout,C)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(u=i==null?void 0:i.internal)!=null&&u.throwOnFailedPublish)throw I}finally{this.queue.delete(y)}}),zc(this,"publishCustom",async n=>{var s,i,a,o,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:h,publishMethod:m,prompt:y,tag:x,ttl:k=Me.FIVE_MINUTES}=u,C=u.id||ml().toString(),I=gy($S().protocol),_=m||I.publish,O={id:C,method:_,params:xb(jZ(xb({},l),{ttl:k,prompt:y,tag:x,attestation:f}),h)},F=`Failed to publish custom payload, please try again. id:${C} tag:${x}`;try{s3((s=O.params)==null?void 0:s.prompt)&&((i=O.params)==null||delete i.prompt),s3((a=O.params)==null?void 0:a.tag)&&((o=O.params)==null||delete o.tag);const D=new Promise(async j=>{const T=({id:q})=>{var $;(($=O.id)==null?void 0:$.toString())===q.toString()&&(this.removeRequestFromQueue(q),this.relayer.events.removeListener(Rs.publish,T),j())};this.relayer.events.on(Rs.publish,T);const R=$d(new Promise((q,$)=>{this.rpcPublish(O,u).then(q).catch(b=>{this.logger.warn(b,b==null?void 0:b.message),$(b)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${C} tag:${x}`);try{await R,this.events.removeListener(Rs.publish,T)}catch(q){this.queue.set(C,{request:O,opts:u,attempt:1}),this.logger.warn(q,q==null?void 0:q.message)}});this.logger.trace({type:"method",method:"publish",params:{id:C,payload:l,opts:u}}),await $d(D,this.publishTimeout,F)}catch(D){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(D),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw D}finally{this.queue.delete(C)}}),zc(this,"on",(n,s)=>{this.events.on(n,s)}),zc(this,"once",(n,s)=>{this.events.once(n,s)}),zc(this,"off",(n,s)=>{this.events.off(n,s)}),zc(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=kc(r,this.name),this.registerEventListeners()}get context(){return Pc(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Rs.publish,xb(xb({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const s=e.attempt+1;this.queue.set(r,jZ(xb({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Rs.connection_stalled);return}this.checkQueue()}),this.relayer.on(Rs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var xot=Object.defineProperty,wot=(t,e,r)=>e in t?xot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wb=(t,e,r)=>wot(t,typeof e!="symbol"?e+"":e,r);let Aot=class{constructor(){wb(this,"map",new Map),wb(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),wb(this,"get",e=>this.map.get(e)||[]),wb(this,"exists",(e,r)=>this.get(e).includes(r)),wb(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),wb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Sot=Object.defineProperty,Pot=Object.defineProperties,kot=Object.getOwnPropertyDescriptors,MZ=Object.getOwnPropertySymbols,Iot=Object.prototype.hasOwnProperty,Not=Object.prototype.propertyIsEnumerable,Q$=(t,e,r)=>e in t?Sot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v2=(t,e)=>{for(var r in e||(e={}))Iot.call(e,r)&&Q$(t,r,e[r]);if(MZ)for(var r of MZ(e))Not.call(e,r)&&Q$(t,r,e[r]);return t},o_=(t,e)=>Pot(t,kot(e)),kn=(t,e,r)=>Q$(t,typeof e!="symbol"?e+"":e,r);class Eot extends BJe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,kn(this,"subscriptions",new Map),kn(this,"topicMap",new Aot),kn(this,"events",new Un.EventEmitter),kn(this,"name",fit),kn(this,"version",hit),kn(this,"pending",new Map),kn(this,"cached",[]),kn(this,"initialized",!1),kn(this,"storagePrefix",sf),kn(this,"subscribeTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),kn(this,"initialSubscribeTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),kn(this,"clientId"),kn(this,"batchSubscribeTopicsLimit",500),kn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),kn(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const a=$S(s),o={topic:n,relay:a,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,o);const c=await this.rpcSubscribe(n,a,s);return typeof c=="string"&&(this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),kn(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),kn(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),kn(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),kn(this,"on",(n,s)=>{this.events.on(n,s)}),kn(this,"once",(n,s)=>{this.events.once(n,s)}),kn(this,"off",(n,s)=>{this.events.off(n,s)}),kn(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),kn(this,"start",async()=>{await this.onConnect()}),kn(this,"stop",async()=>{await this.onDisconnect()}),kn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),kn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),kn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(Xo.created,async n=>{const s=Xo.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Xo.deleted,async n=>{const s=Xo.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=kc(r,this.name),this.clientId=""}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=$S(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=Pp("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;const a=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return a;(!n||(n==null?void 0:n.transportType)===Wx.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const o={method:gy(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===Wx.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(f=>this.logger.warn(f))},Me.toMiliseconds(Me.ONE_SECOND)),a;const l=new Promise(async f=>{const h=m=>{m.topic===e&&(this.events.removeListener(Xo.created,h),f(m.id))};this.events.on(Xo.created,h);try{const m=await $d(new Promise((y,x)=>{this.relayer.request(o).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),x(k)}).then(y)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Xo.created,h),f(m)}catch{}}),u=await $d(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Rs.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:gy(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await $d(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Rs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:gy(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await $d(new Promise((i,a)=>{this.relayer.request(n).catch(o=>{this.logger.warn(o),a(o)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Rs.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:gy(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,o_(v2({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,v2({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,v2({},r)),this.topicMap.set(r.topic,e),this.events.emit(Xo.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Xo.deleted,o_(v2({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Xo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Xo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>o_(v2({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await ptt(Me.toMiliseconds(Me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return N7(e+await this.getClientId())}}var Cot=Object.defineProperty,$Z=Object.getOwnPropertySymbols,_ot=Object.prototype.hasOwnProperty,Tot=Object.prototype.propertyIsEnumerable,Y$=(t,e,r)=>e in t?Cot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OZ=(t,e)=>{for(var r in e||(e={}))_ot.call(e,r)&&Y$(t,r,e[r]);if($Z)for(var r of $Z(e))Tot.call(e,r)&&Y$(t,r,e[r]);return t},an=(t,e,r)=>Y$(t,typeof e!="symbol"?e+"":e,r);class jot extends $Je{constructor(e){var r;super(e),an(this,"protocol","wc"),an(this,"version",2),an(this,"core"),an(this,"logger"),an(this,"events",new Un.EventEmitter),an(this,"provider"),an(this,"messages"),an(this,"subscriber"),an(this,"publisher"),an(this,"name",oit),an(this,"transportExplicitlyClosed",!1),an(this,"initialized",!1),an(this,"connectionAttemptInProgress",!1),an(this,"relayUrl"),an(this,"projectId"),an(this,"packageName"),an(this,"bundleId"),an(this,"hasExperiencedNetworkDisruption",!1),an(this,"pingTimeout"),an(this,"heartBeatTimeout",Me.toMiliseconds(Me.THIRTY_SECONDS+Me.FIVE_SECONDS)),an(this,"reconnectTimeout"),an(this,"connectPromise"),an(this,"reconnectInProgress",!1),an(this,"requestsInFlight",[]),an(this,"connectTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),an(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const a=n.id||ml().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const o=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),c}catch(o){throw this.logger.debug(`Failed to Publish Request: ${a}`),o}}),an(this,"resetPingTimeout",()=>{CS()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),an(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),an(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Rs.connect)}),an(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),an(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Rs.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),an(this,"registerProviderListeners",()=>{this.provider.on(Uc.payload,this.onPayloadHandler),this.provider.on(Uc.connect,this.onConnectHandler),this.provider.on(Uc.disconnect,this.onDisconnectHandler),this.provider.on(Uc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=ast({logger:(r=e.logger)!=null?r:ait,name:this.name}),this.messages=new hot(this.logger,e.core),this.subscriber=new Eot(this,this.logger),this.publisher=new vot(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Vme,ntt()?this.packageName=OX():stt()&&(this.bundleId=OX()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Pc(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Wx.relay},E7.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Xo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Xo.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,OZ({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await $d(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await gZ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=C3(Me.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(Rs.message,e),await this.recordMessageEvent(e,E7.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Uc.disconnect,i),await $d(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{s(a)}).finally(()=>{this.provider.off(Uc.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Uc.disconnect,c),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Uc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Me.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(CS())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new aU(new Kst(ltt({sdkVersion:W$,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),xm(e)){if(!e.method.endsWith(cit))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:Wx.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(OZ({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xh(e)&&this.events.emit(Rs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,E7.inbound),this.events.emit(Rs.message,e))}async acknowledgePayload(e){const r=ym(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Uc.payload,this.onPayloadHandler),this.provider.off(Uc.connect,this.onConnectHandler),this.provider.off(Uc.disconnect,this.onDisconnectHandler),this.provider.off(Uc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await gZ();rst(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Gi.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&ist())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Rs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Me.toMiliseconds(lit)))))}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Mot(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function BZ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function FZ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $ot="[object RegExp]",Oot="[object String]",Bot="[object Number]",Fot="[object Boolean]",RZ="[object Arguments]",Rot="[object Symbol]",Dot="[object Date]",Uot="[object Map]",zot="[object Set]",Lot="[object Array]",Vot="[object Function]",Hot="[object ArrayBuffer]",c_="[object Object]",qot="[object Error]",Wot="[object DataView]",Kot="[object Uint8Array]",Xot="[object Uint8ClampedArray]",Zot="[object Uint16Array]",Jot="[object Uint32Array]",Qot="[object BigUint64Array]",Yot="[object Int8Array]",Got="[object Int16Array]",ect="[object Int32Array]",tct="[object BigInt64Array]",rct="[object Float32Array]",nct="[object Float64Array]";function sct(){}function DZ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function ict(t,e,r){return i3(t,e,void 0,void 0,void 0,void 0,r)}function i3(t,e,r,n,s,i,a){const o=a(t,e,r,n,s,i);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return j3(t,e,i,a)}return j3(t,e,i,a)}function j3(t,e,r,n){if(Object.is(t,e))return!0;let s=FZ(t),i=FZ(e);if(s===RZ&&(s=c_),i===RZ&&(i=c_),s!==i)return!1;switch(s){case Oot:return t.toString()===e.toString();case Bot:{const c=t.valueOf(),l=e.valueOf();return Mot(c,l)}case Fot:case Dot:case Rot:return Object.is(t.valueOf(),e.valueOf());case $ot:return t.source===e.source&&t.flags===e.flags;case Vot:return t===e}r=r??new Map;const a=r.get(t),o=r.get(e);if(a!=null&&o!=null)return a===e;r.set(t,e),r.set(e,t);try{switch(s){case Uot:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!i3(l,e.get(c),c,t,e,r,n))return!1;return!0}case zot:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],h=l.findIndex(m=>i3(f,m,void 0,t,e,r,n));if(h===-1)return!1;l.splice(h,1)}return!0}case Lot:case Kot:case Xot:case Zot:case Jot:case Qot:case Yot:case Got:case ect:case tct:case rct:case nct:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!i3(t[c],e[c],c,t,e,r,n))return!1;return!0}case Hot:return t.byteLength!==e.byteLength?!1:j3(new Uint8Array(t),new Uint8Array(e),r,n);case Wot:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:j3(new Uint8Array(t),new Uint8Array(e),r,n);case qot:return t.name===e.name&&t.message===e.message;case c_:{if(!(j3(t.constructor,e.constructor,r,n)||DZ(t)&&DZ(e)))return!1;const c=[...Object.keys(t),...BZ(t)],l=[...Object.keys(e),...BZ(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],h=t[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!i3(h,m,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function act(t,e){return ict(t,e,sct)}var oct=Object.defineProperty,UZ=Object.getOwnPropertySymbols,cct=Object.prototype.hasOwnProperty,lct=Object.prototype.propertyIsEnumerable,G$=(t,e,r)=>e in t?oct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zZ=(t,e)=>{for(var r in e||(e={}))cct.call(e,r)&&G$(t,r,e[r]);if(UZ)for(var r of UZ(e))lct.call(e,r)&&G$(t,r,e[r]);return t},mo=(t,e,r)=>G$(t,typeof e!="symbol"?e+"":e,r);class _7 extends OJe{constructor(e,r,n,s=sf,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,mo(this,"map",new Map),mo(this,"version",uit),mo(this,"cached",[]),mo(this,"initialized",!1),mo(this,"getKey"),mo(this,"storagePrefix",sf),mo(this,"recentlyDeleted",[]),mo(this,"recentlyDeletedLimit",200),mo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!s3(a)?this.map.set(this.getKey(a),a):Knt(a)?this.map.set(a.id,a):Xnt(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),mo(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),mo(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),mo(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>act(o[c],a[c]))):this.values)),mo(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=zZ(zZ({},this.getData(a)),o);this.map.set(a,c),await this.persist()}),mo(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=kc(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=Or("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uct=Object.defineProperty,dct=(t,e,r)=>e in t?uct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hr=(t,e,r)=>dct(t,typeof e!="symbol"?e+"":e,r);class fct{constructor(e,r){this.core=e,this.logger=r,Hr(this,"name",pit),Hr(this,"version",mit),Hr(this,"events",new q4),Hr(this,"pairings"),Hr(this,"initialized",!1),Hr(this,"storagePrefix",sf),Hr(this,"ignoredPayloadTypes",[nb]),Hr(this,"registeredMethods",[]),Hr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Hr(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Hr(this,"create",async n=>{this.isInitialized();const s=z$(),i=await this.core.crypto.setSymKey(s),a=C3(Me.FIVE_MINUTES),o={protocol:iit},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=dZ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(Lb.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:l}}),Hr(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Cf.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=uZ(n.uri);s.props.properties.topic=i,s.addTrace(Cf.pairing_uri_validation_success),s.addTrace(Cf.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Cf.existing_pairing),u.active)throw s.setError(P0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Cf.pairing_not_expired)}const f=c||C3(Me.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(Cf.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Lb.create,h),s.addTrace(Cf.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(Cf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(P0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(P0.subscribe_pairing_topic_failure),m}return s.addTrace(Cf.subscribe_pairing_topic_success),h}),Hr(this,"activate",async({topic:n})=>{this.isInitialized();const s=C3(Me.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),Hr(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=utt();this.events.once(XC("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}}),Hr(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),Hr(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),Hr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Hr(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Pp("USER_DISCONNECTED")),await this.deletePairing(s))}),Hr(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return dZ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})}),Hr(this,"sendRequest",async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=y2[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id}),Hr(this,"sendResult",async(n,s,i)=>{const a=ym(n,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,n)).request.method,l=y2[c].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),Hr(this,"sendError",async(n,s,i)=>{const a=vm(n,i),o=await this.core.crypto.encode(s,a),c=(await this.core.history.get(s,n)).request.method,l=y2[c]?y2[c].res:y2.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)}),Hr(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Pp("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),Hr(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>BX(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),Hr(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Hr(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}}),Hr(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(Lb.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),Hr(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit(XC("pairing_ping",i),{}):Ri(s)&&this.events.emit(XC("pairing_ping",i),{error:s.error})},500)}),Hr(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Lb.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),Hr(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=Pp("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),Hr(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Pp("WC_METHOD_UNSUPPORTED",n))}),Hr(this,"isValidPair",(n,s)=>{var i;if(!i_(n)){const{message:o}=Or("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(P0.malformed_pairing_uri),new Error(o)}if(!Bme(n.uri)){const{message:o}=Or("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(P0.malformed_pairing_uri),new Error(o)}const a=uZ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=Or("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(P0.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=Or("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(P0.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Me.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(P0.pairing_expired);const{message:o}=Or("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),Hr(this,"isValidPing",async n=>{if(!i_(n)){const{message:i}=Or("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Hr(this,"isValidDisconnect",async n=>{if(!i_(n)){const{message:i}=Or("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Hr(this,"isValidPairingTopic",async n=>{if(!Ome(n)){const{message:s}=Or("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Or("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(BX(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Or("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=kc(r,this.name),this.pairings=new _7(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Pc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Rs.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==Wx.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);xm(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Xh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Wl.expired,async e=>{const{topic:r}=htt(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Lb.expire,{topic:r}))})}}var hct=Object.defineProperty,pct=(t,e,r)=>e in t?hct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$i=(t,e,r)=>pct(t,typeof e!="symbol"?e+"":e,r);class mct extends TJe{constructor(e,r){super(e,r),this.core=e,this.logger=r,$i(this,"records",new Map),$i(this,"events",new Un.EventEmitter),$i(this,"name",git),$i(this,"version",bit),$i(this,"cached",[]),$i(this,"initialized",!1),$i(this,"storagePrefix",sf),$i(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),$i(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:C3(Me.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Dl.created,a)}),$i(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Dl.updated,s))}),$i(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),$i(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Dl.deleted,i)}}),this.persist()}),$i(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),$i(this,"on",(n,s)=>{this.events.on(n,s)}),$i(this,"once",(n,s)=>{this.events.once(n,s)}),$i(this,"off",(n,s)=>{this.events.off(n,s)}),$i(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Dl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Dl.created,e=>{const r=Dl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Dl.updated,e=>{const r=Dl.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Dl.deleted,e=>{const r=Dl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Me.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Dl.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gct=Object.defineProperty,bct=(t,e,r)=>e in t?gct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ya=(t,e,r)=>bct(t,typeof e!="symbol"?e+"":e,r);class yct extends FJe{constructor(e,r){super(e,r),this.core=e,this.logger=r,ya(this,"expirations",new Map),ya(this,"events",new Un.EventEmitter),ya(this,"name",yit),ya(this,"version",vit),ya(this,"cached",[]),ya(this,"initialized",!1),ya(this,"storagePrefix",sf),ya(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ya(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ya(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Wl.created,{target:i,expiration:a})}),ya(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),ya(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Wl.deleted,{target:s,expiration:i})}}),ya(this,"on",(n,s)=>{this.events.on(n,s)}),ya(this,"once",(n,s)=>{this.events.once(n,s)}),ya(this,"off",(n,s)=>{this.events.off(n,s)}),ya(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=kc(r,this.name)}get context(){return Pc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return dtt(e);if(typeof e=="number")return ftt(e);const{message:r}=Or("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Wl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Or("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Or("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Me.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Wl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(Wl.created,e=>{const r=Wl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Wl.expired,e=>{const r=Wl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Wl.deleted,e=>{const r=Wl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vct=Object.defineProperty,xct=(t,e,r)=>e in t?vct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bs=(t,e,r)=>xct(t,typeof e!="symbol"?e+"":e,r);class wct extends RJe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Bs(this,"name",xit),Bs(this,"abortController"),Bs(this,"isDevEnv"),Bs(this,"verifyUrlV3",Ait),Bs(this,"storagePrefix",sf),Bs(this,"version",Lme),Bs(this,"publicKey"),Bs(this,"fetchPromise"),Bs(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Bs(this,"register",async s=>{if(!Tw()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer(Me.ONE_SECOND*5),f=await new Promise((h,m)=>{const y=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",y,{signal:this.abortController.signal});const k=C=>{if(C.data&&typeof C.data=="string")try{const I=JSON.parse(C.data);if(I.type==="verify_attestation"){if(C$(I.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",k),h(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(l){this.logger.warn(l)}return""}),Bs(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(C$(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)}),Bs(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer(Me.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),Bs(this,"getVerifyUrl",s=>{let i=s||C7;return Sit.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${C7}`),i=C7),i}),Bs(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Me.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Bs(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Bs(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Bs(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),Bs(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Bs(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Bs(this,"validateAttestation",(s,i)=>{const a=Snt(s,i.publicKey),o={hasExpired:Me.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=kc(r,this.name),this.abortController=new AbortController,this.isDevEnv=Fpe(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Pc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}}var Act=Object.defineProperty,Sct=(t,e,r)=>e in t?Act(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,LZ=(t,e,r)=>Sct(t,typeof e!="symbol"?e+"":e,r);class Pct extends DJe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,LZ(this,"context",Pit),LZ(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${kit}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})}),this.logger=kc(r,this.context)}}var kct=Object.defineProperty,VZ=Object.getOwnPropertySymbols,Ict=Object.prototype.hasOwnProperty,Nct=Object.prototype.propertyIsEnumerable,eO=(t,e,r)=>e in t?kct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x2=(t,e)=>{for(var r in e||(e={}))Ict.call(e,r)&&eO(t,r,e[r]);if(VZ)for(var r of VZ(e))Nct.call(e,r)&&eO(t,r,e[r]);return t},ii=(t,e,r)=>eO(t,typeof e!="symbol"?e+"":e,r);class Ect extends UJe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ii(this,"context",Nit),ii(this,"storagePrefix",sf),ii(this,"storageVersion",Iit),ii(this,"events",new Map),ii(this,"shouldPersist",!1),ii(this,"init",async()=>{if(!Fpe())try{const s={eventId:FX(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Ope(this.core.relayer.protocol,this.core.relayer.version,W$)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ii(this,"createEvent",s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=FX(),u=this.core.projectId||"",f=Date.now(),h=x2({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ii(this,"getEvent",s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return x2(x2({},o),this.setMethods(o.eventId))}),ii(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ii(this,"setEventListeners",()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(s.timestamp)>Eit&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ii(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ii(this,"addTrace",(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)}),ii(this,"setError",(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)}),ii(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ii(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,x2(x2({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ii(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ii(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Cit}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${W$}${i}`,{method:"POST",body:JSON.stringify(s)})}),ii(this,"getAppDomain",()=>att().url),this.logger=kc(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Cct=Object.defineProperty,HZ=Object.getOwnPropertySymbols,_ct=Object.prototype.hasOwnProperty,Tct=Object.prototype.propertyIsEnumerable,tO=(t,e,r)=>e in t?Cct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qZ=(t,e)=>{for(var r in e||(e={}))_ct.call(e,r)&&tO(t,r,e[r]);if(HZ)for(var r of HZ(e))Tct.call(e,r)&&tO(t,r,e[r]);return t},Nn=(t,e,r)=>tO(t,typeof e!="symbol"?e+"":e,r);class oU extends NJe{constructor(e){var r;super(e),Nn(this,"protocol",zme),Nn(this,"version",Lme),Nn(this,"name",OS),Nn(this,"relayUrl"),Nn(this,"projectId"),Nn(this,"customStoragePrefix"),Nn(this,"events",new Un.EventEmitter),Nn(this,"logger"),Nn(this,"heartbeat"),Nn(this,"relayer"),Nn(this,"crypto"),Nn(this,"storage"),Nn(this,"history"),Nn(this,"expirer"),Nn(this,"pairing"),Nn(this,"verify"),Nn(this,"echoClient"),Nn(this,"linkModeSupportedApps"),Nn(this,"eventClient"),Nn(this,"initialized",!1),Nn(this,"logChunkController"),Nn(this,"on",(o,c)=>this.events.on(o,c)),Nn(this,"once",(o,c)=>this.events.once(o,c)),Nn(this,"off",(o,c)=>this.events.off(o,c)),Nn(this,"removeListener",(o,c)=>this.events.removeListener(o,c)),Nn(this,"dispatchEnvelope",({topic:o,message:c,sessionExists:l})=>{if(!o||!c)return;const u={topic:o,message:c,publishedAt:Date.now(),transportType:Wx.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Vme,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=xJe({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Zst.logger,name:OS}),{logger:i,chunkLoggerController:a}=epe({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,c;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=kc(i,this.name),this.heartbeat=new ND,this.crypto=new iot(this,this.logger,e==null?void 0:e.keychain),this.history=new mct(this,this.logger),this.expirer=new yct(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new OZe(qZ(qZ({},Jst),e==null?void 0:e.storageOptions)),this.relayer=new jot({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fct(this,this.logger),this.verify=new wct(this,this.logger,this.storage),this.echoClient=new Pct(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Ect(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new oU(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(dit,n),r}get context(){return Pc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(SZ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(SZ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Xst.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const rge=oU;function jct(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var cU=Mct;function Mct(t,e,r){var n=r&&r.stringify||jct,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var a=new Array(i);a[0]=n(t);for(var o=1;o<i;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,f=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Number(e[u]),f=m+2,m++;break;case 105:if(u>=c||e[u]==null)break;f<m&&(l+=t.slice(f,m)),l+=Math.floor(Number(e[u])),f=m+2,m++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<m&&(l+=t.slice(f,m));var y=typeof e[u];if(y==="string"){l+="'"+e[u]+"'",f=m+2,m++;break}if(y==="function"){l+=e[u].name||"<anonymous>",f=m+2,m++;break}l+=n(e[u]),f=m+2,m++;break;case 115:if(u>=c)break;f<m&&(l+=t.slice(f,m)),l+=String(e[u]),f=m+2,m++;break;case 37:f<m&&(l+=t.slice(f,m)),l+="%",f=m+2,m++,u--;break}++u}++m}return f===-1?t:(f<h&&(l+=t.slice(f)),l)}const WZ=cU;var nge=Xd;const r4=Vct().console||{},$ct={mapHttpRequest:S9,mapHttpResponse:S9,wrapRequestSerializer:l_,wrapResponseSerializer:l_,wrapErrorSerializer:l_,req:S9,res:S9,err:Dct};function Oct(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Xd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||r4;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=Oct(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=n4),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:Uct(t)};c.levels=Xd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=n4,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=rO());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(y){if(y!=="silent"&&!this.levels.values[y])throw Error("unknown level "+y);this._level=y,Ab(l,c,"error","log"),Ab(l,c,"fatal","error"),Ab(l,c,"warn","error"),Ab(l,c,"info","log"),Ab(l,c,"debug","log"),Ab(l,c,"trace","log")}function m(y,x){if(!y)throw new Error("missing bindings for child Pino");x=x||{},s&&y.serializers&&(x.serializers=y.serializers);const k=x.serializers;if(s&&k){var C=Object.assign({},n,k),I=t.browser.serialize===!0?Object.keys(C):s;delete y.serializers,CI([y],I,C,this._stdErrSerialize)}function _(O){this._childLevel=(O._childLevel|0)+1,this.error=Sb(O,y,"error"),this.fatal=Sb(O,y,"fatal"),this.warn=Sb(O,y,"warn"),this.info=Sb(O,y,"info"),this.debug=Sb(O,y,"debug"),this.trace=Sb(O,y,"trace"),C&&(this.serializers=C,this._serialize=I),e&&(this._logEvent=rO([].concat(O._logEvent.bindings,y)))}return _.prototype=this,new _(this)}return c}Xd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Xd.stdSerializers=$ct;Xd.stdTimeFunctions=Object.assign({},{nullTime:sge,epochTime:ige,unixTime:zct,isoTime:Lct});function Ab(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?n4:s[r]?s[r]:r4[r]||r4[n]||n4,Bct(t,e,r)}function Bct(t,e,r){!t.transmit&&e[r]===n4||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===r4?r4:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&CI(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,Fct(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=Xd.levels.values[l],f=Xd.levels.values[r];if(f<u)return;Rct(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:Xd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function Fct(t,e,r,n){t._serialize&&CI(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=Xd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?WZ(s.shift(),s):void 0}else typeof i=="string"&&(i=WZ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function CI(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Xd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function Sb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function Rct(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;CI(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=rO(c)}function rO(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Dct(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Uct(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?sge:ige}function S9(){return{}}function l_(t){return t}function n4(){}function sge(){return!1}function ige(){return Date.now()}function zct(){return Math.round(Date.now()/1e3)}function Lct(){return new Date(Date.now()).toISOString()}function Vct(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const age=La(nge),Hct=KY({__proto__:null,default:age},[nge]),qct={level:"info"},P5="custom_context";var Wct=Object.defineProperty,Kct=Object.defineProperties,Xct=Object.getOwnPropertyDescriptors,KZ=Object.getOwnPropertySymbols,Zct=Object.prototype.hasOwnProperty,Jct=Object.prototype.propertyIsEnumerable,XZ=(t,e,r)=>e in t?Wct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qct=(t,e)=>{for(var r in e||(e={}))Zct.call(e,r)&&XZ(t,r,e[r]);if(KZ)for(var r of KZ(e))Jct.call(e,r)&&XZ(t,r,e[r]);return t},Yct=(t,e)=>Kct(t,Xct(e));function Gct(t){return Yct(Qct({},t),{level:(t==null?void 0:t.level)||qct.level})}function elt(t,e=P5){return t[e]||""}function tlt(t,e,r=P5){return t[r]=e,t}function oge(t,e=P5){let r="";return typeof t.bindings>"u"?r=elt(t,e):r=t.bindings().context||"",r}function rlt(t,e,r=P5){const n=oge(t,r);return n.trim()?`${n}/${e}`:e}function nlt(t,e,r=P5){const n=rlt(t,e,r),s=t.child({context:n});return tlt(s,n,r)}var ZZ;const slt=(ZZ=age)!=null?ZZ:Hct;function ilt(t,e){return e=e||{},new Promise(function(r,n){var s=new XMLHttpRequest,i=[],a=[],o={},c=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return a},get:function(u){return o[u.toLowerCase()]},has:function(u){return u.toLowerCase()in o}}}};for(var l in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,h){i.push(f=f.toLowerCase()),a.push([f,h]),o[f]=o[f]?o[f]+","+h:h}),r(c())},s.onerror=n,s.withCredentials=e.credentials=="include",e.headers)s.setRequestHeader(l,e.headers[l]);s.send(e.body||null)})}const alt=Object.freeze(Object.defineProperty({__proto__:null,default:ilt},Symbol.toStringTag,{value:"Module"})),JZ=hP(alt);var olt=self.fetch||(self.fetch=JZ.default||JZ);const clt=La(olt);var Ic={},_I={},TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.BrowserRandomSource=void 0;const QZ=65536;class llt{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=QZ)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,QZ)));return r}}TI.BrowserRandomSource=llt;var jI={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});function ult(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Nc.wipe=ult;Object.defineProperty(jI,"__esModule",{value:!0});jI.NodeRandomSource=void 0;const dlt=Nc;class flt{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof UF<"u"){const e=z1;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=r[s];return(0,dlt.wipe)(r),n}}jI.NodeRandomSource=flt;Object.defineProperty(_I,"__esModule",{value:!0});_I.SystemRandomSource=void 0;const hlt=TI,plt=jI;class mlt{constructor(){if(this.isAvailable=!1,this.name="",this._source=new hlt.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new plt.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}_I.SystemRandomSource=mlt;var Ar={},cge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(o,c){var l=o>>>16&65535,u=o&65535,f=c>>>16&65535,h=c&65535;return u*h+(l*h+u*f<<16>>>0)|0}t.mul=Math.imul||e;function r(o,c){return o+c|0}t.add=r;function n(o,c){return o-c|0}t.sub=n;function s(o,c){return o<<c|o>>>32-c}t.rotl=s;function i(o,c){return o<<32-c|o>>>c}t.rotr=i;function a(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}t.isInteger=Number.isInteger||a,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(o){return t.isInteger(o)&&o>=-t.MAX_SAFE_INTEGER&&o<=t.MAX_SAFE_INTEGER}})(cge);Object.defineProperty(Ar,"__esModule",{value:!0});var lge=cge;function glt(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ar.readInt16BE=glt;function blt(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ar.readUint16BE=blt;function ylt(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ar.readInt16LE=ylt;function vlt(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ar.readUint16LE=vlt;function uge(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ar.writeUint16BE=uge;Ar.writeInt16BE=uge;function dge(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ar.writeUint16LE=dge;Ar.writeInt16LE=dge;function nO(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ar.readInt32BE=nO;function sO(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ar.readUint32BE=sO;function iO(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ar.readInt32LE=iO;function aO(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ar.readUint32LE=aO;function BS(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ar.writeUint32BE=BS;Ar.writeInt32BE=BS;function FS(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ar.writeUint32LE=FS;Ar.writeInt32LE=FS;function xlt(t,e){e===void 0&&(e=0);var r=nO(t,e),n=nO(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ar.readInt64BE=xlt;function wlt(t,e){e===void 0&&(e=0);var r=sO(t,e),n=sO(t,e+4);return r*4294967296+n}Ar.readUint64BE=wlt;function Alt(t,e){e===void 0&&(e=0);var r=iO(t,e),n=iO(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ar.readInt64LE=Alt;function Slt(t,e){e===void 0&&(e=0);var r=aO(t,e),n=aO(t,e+4);return n*4294967296+r}Ar.readUint64LE=Slt;function fge(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),BS(t/4294967296>>>0,e,r),BS(t>>>0,e,r+4),e}Ar.writeUint64BE=fge;Ar.writeInt64BE=fge;function hge(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),FS(t>>>0,e,r),FS(t/4294967296>>>0,e,r+4),e}Ar.writeUint64LE=hge;Ar.writeInt64LE=hge;function Plt(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,i=t/8+r-1;i>=r;i--)n+=e[i]*s,s*=256;return n}Ar.readUintBE=Plt;function klt(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,i=r;i<r+t/8;i++)n+=e[i]*s,s*=256;return n}Ar.readUintLE=klt;function Ilt(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!lge.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,i=t/8+n-1;i>=n;i--)r[i]=e/s&255,s*=256;return r}Ar.writeUintBE=Ilt;function Nlt(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!lge.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,i=n;i<n+t/8;i++)r[i]=e/s&255,s*=256;return r}Ar.writeUintLE=Nlt;function Elt(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ar.readFloat32BE=Elt;function Clt(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ar.readFloat32LE=Clt;function _lt(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ar.readFloat64BE=_lt;function Tlt(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ar.readFloat64LE=Tlt;function jlt(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ar.writeFloat32BE=jlt;function Mlt(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ar.writeFloat32LE=Mlt;function $lt(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ar.writeFloat64BE=$lt;function Olt(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ar.writeFloat64LE=Olt;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=_I,r=Ar,n=Nc;t.defaultRandomSource=new e.SystemRandomSource;function s(l,u=t.defaultRandomSource){return u.randomBytes(l)}t.randomBytes=s;function i(l=t.defaultRandomSource){const u=s(4,l),f=(0,r.readUint32LE)(u);return(0,n.wipe)(u),f}t.randomUint32=i;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(l,u=a,f=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const m=u.length,y=256-256%m;for(;l>0;){const x=s(Math.ceil(l*256/y),f);for(let k=0;k<x.length&&l>0;k++){const C=x[k];C<y&&(h+=u.charAt(C%m),l--)}(0,n.wipe)(x)}return h}t.randomString=o;function c(l,u=a,f=t.defaultRandomSource){const h=Math.ceil(l/(Math.log(u.length)/Math.LN2));return o(h,u,f)}t.randomStringForEntropy=c})(Ic);var mf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ar,r=Nc;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},o.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=i(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},o.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,m=l%64<56?64:128;this._buffer[u]=128;for(var y=u+1;y<m-8;y++)this._buffer[y]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),i(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var y=0;y<this.digestLength/4;y++)e.writeUint32BE(this._state[y],c,y*4);return this},o.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},o}();t.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(o,c,l,u,f){for(;f>=64;){for(var h=c[0],m=c[1],y=c[2],x=c[3],k=c[4],C=c[5],I=c[6],_=c[7],O=0;O<16;O++){var F=u+O*4;o[O]=e.readUint32BE(l,F)}for(var O=16;O<64;O++){var D=o[O-2],j=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10;D=o[O-15];var T=(D>>>7|D<<25)^(D>>>18|D<<14)^D>>>3;o[O]=(j+o[O-7]|0)+(T+o[O-16]|0)}for(var O=0;O<64;O++){var j=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&C^~k&I)|0)+(_+(s[O]+o[O]|0)|0)|0,T=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&y^m&y)|0;_=I,I=C,C=k,k=x+j|0,x=y,y=m,m=h,h=j+T|0}c[0]+=h,c[1]+=m,c[2]+=y,c[3]+=x,c[4]+=k,c[5]+=C,c[6]+=I,c[7]+=_,u+=64,f-=64}return u}function a(o){var c=new n;c.update(o);var l=c.digest();return c.clean(),l}t.hash=a})(mf);let Blt=class{constructor(e){this.client=e}},Flt=class{constructor(e){this.opts=e}};const Rlt="https://rpc.walletconnect.com/v1",P9={wc_authRequest:{req:{ttl:Me.ONE_DAY,prompt:!0,tag:3e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:3001}}},u_={min:Me.FIVE_MINUTES,max:Me.SEVEN_DAYS},pge="wc",Dlt=1,Ult="auth",YZ="authClient",T7=`${pge}@1:${Ult}:`,a3=`${T7}:PUB_KEY`;function lU(t){return t==null?void 0:t.split(":")}function zlt(t){const e=t&&lU(t);if(e)return e[3]}function Llt(t){const e=t&&lU(t);if(e)return e[2]+":"+e[3]}function GZ(t){const e=t&&lU(t);if(e)return e.pop()}async function Vlt(t,e,r,n,s){switch(r.t){case"eip191":return Hlt(t,e,r.s);case"eip1271":return await qlt(t,e,r.s,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function Hlt(t,e,r){return IF(zie(e),r).toLowerCase()===t.toLowerCase()}async function qlt(t,e,r,n,s){try{const i="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",o="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),l=zie(e).substring(2),u=i+l+a+o+c,f=await clt(`${Rlt}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:Wlt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:u},"latest"]})}),{result:h}=await f.json();return h?h.slice(0,i.length).toLowerCase()===i.toLowerCase():!1}catch(i){return console.error("isValidEip1271Signature: ",i),!1}}function Wlt(){return Date.now()+Math.floor(Math.random()*1e3)}function mge(t){return t.getAll().filter(e=>"requester"in e)}function gge(t,e){return mge(t).find(r=>r.id===e)}function Klt(t){const e=Bme(t.aud),r=new RegExp(`${t.domain}`).test(t.aud),n=!!t.nonce,s=t.type?t.type==="eip4361":!0,i=t.expiry;if(i&&!Ynt(i,u_)){const{message:a}=Or("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${u_.min} and ${u_.max}`);throw new Error(a)}return!!(e&&r&&n&&s)}function Xlt(t,e){return!!gge(e,t.id)}function Zlt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Jlt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var Qlt=Jlt,Ylt=Qlt;const bge=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Glt=t=>new TextEncoder().encode(t),eut=t=>new TextDecoder().decode(t);let tut=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},rut=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yge(this,e)}},nut=class{constructor(e){this.decoders=e}or(e){return yge(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const yge=(t,e)=>new nut({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let sut=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new tut(e,r,n),this.decoder=new rut(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const MI=({name:t,prefix:e,encode:r,decode:n})=>new sut(t,e,r,n),k5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=Ylt(r,e);return MI({prefix:t,name:e,encode:n,decode:i=>bge(s(i))})},iut=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},aut=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},na=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>MI({prefix:e,name:t,encode(s){return aut(s,n,r)},decode(s){return iut(s,n,r,t)}}),out=MI({prefix:"\0",name:"identity",encode:t=>eut(t),decode:t=>Glt(t)});var cut=Object.freeze({__proto__:null,identity:out});const lut=na({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uut=Object.freeze({__proto__:null,base2:lut});const dut=na({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fut=Object.freeze({__proto__:null,base8:dut});const hut=k5({prefix:"9",name:"base10",alphabet:"0123456789"});var put=Object.freeze({__proto__:null,base10:hut});const mut=na({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gut=na({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var but=Object.freeze({__proto__:null,base16:mut,base16upper:gut});const yut=na({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vut=na({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xut=na({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wut=na({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Aut=na({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sut=na({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Put=na({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kut=na({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Iut=na({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Nut=Object.freeze({__proto__:null,base32:yut,base32upper:vut,base32pad:xut,base32padupper:wut,base32hex:Aut,base32hexupper:Sut,base32hexpad:Put,base32hexpadupper:kut,base32z:Iut});const Eut=k5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Cut=k5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _ut=Object.freeze({__proto__:null,base36:Eut,base36upper:Cut});const Tut=k5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jut=k5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mut=Object.freeze({__proto__:null,base58btc:Tut,base58flickr:jut});const $ut=na({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Out=na({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),But=na({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fut=na({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Rut=Object.freeze({__proto__:null,base64:$ut,base64pad:Out,base64url:But,base64urlpad:Fut});const vge=Array.from(""),Dut=vge.reduce((t,e,r)=>(t[r]=e,t),[]),Uut=vge.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function zut(t){return t.reduce((e,r)=>(e+=Dut[r],e),"")}function Lut(t){const e=[];for(const r of t){const n=Uut[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Vut=MI({prefix:"",name:"base256emoji",encode:zut,decode:Lut});var Hut=Object.freeze({__proto__:null,base256emoji:Vut}),qut=xge,eJ=128,Wut=127,Kut=~Wut,Xut=Math.pow(2,31);function xge(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Xut;)e[r++]=t&255|eJ,t/=128;for(;t&Kut;)e[r++]=t&255|eJ,t>>>=7;return e[r]=t|0,xge.bytes=r-n+1,e}var Zut=oO,Jut=128,tJ=127;function oO(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw oO.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&tJ)<<s:(a&tJ)*Math.pow(2,s),s+=7}while(a>=Jut);return oO.bytes=i-n,r}var Qut=Math.pow(2,7),Yut=Math.pow(2,14),Gut=Math.pow(2,21),edt=Math.pow(2,28),tdt=Math.pow(2,35),rdt=Math.pow(2,42),ndt=Math.pow(2,49),sdt=Math.pow(2,56),idt=Math.pow(2,63),adt=function(t){return t<Qut?1:t<Yut?2:t<Gut?3:t<edt?4:t<tdt?5:t<rdt?6:t<ndt?7:t<sdt?8:t<idt?9:10},odt={encode:qut,decode:Zut,encodingLength:adt},wge=odt;const rJ=(t,e,r=0)=>(wge.encode(t,e,r),e),nJ=t=>wge.encodingLength(t),cO=(t,e)=>{const r=e.byteLength,n=nJ(t),s=n+nJ(r),i=new Uint8Array(s+r);return rJ(t,i,0),rJ(r,i,n),i.set(e,s),new cdt(t,r,e,i)};let cdt=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const Age=({name:t,code:e,encode:r})=>new ldt(t,e,r);let ldt=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?cO(this.code,r):r.then(n=>cO(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Sge=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),udt=Age({name:"sha2-256",code:18,encode:Sge("SHA-256")}),ddt=Age({name:"sha2-512",code:19,encode:Sge("SHA-512")});var fdt=Object.freeze({__proto__:null,sha256:udt,sha512:ddt});const Pge=0,hdt="identity",kge=bge,pdt=t=>cO(Pge,kge(t)),mdt={code:Pge,name:hdt,encode:kge,digest:pdt};var gdt=Object.freeze({__proto__:null,identity:mdt});new TextEncoder,new TextDecoder;const sJ={...cut,...uut,...fut,...put,...but,...Nut,..._ut,...Mut,...Rut,...Hut};({...fdt,...gdt});function Ige(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const iJ=Ige("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),d_=Ige("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Zlt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nge={utf8:iJ,"utf-8":iJ,hex:sJ.base16,latin1:d_,ascii:d_,binary:d_,...sJ};function bdt(t,e="utf8"){const r=Nge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function ydt(t,e="utf8"){const r=Nge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const vdt="base16",xdt="utf8";function aJ(t){const e=mf.hash(bdt(t,xdt));return ydt(e,vdt)}var wdt=Object.defineProperty,Adt=Object.defineProperties,Sdt=Object.getOwnPropertyDescriptors,oJ=Object.getOwnPropertySymbols,Pdt=Object.prototype.hasOwnProperty,kdt=Object.prototype.propertyIsEnumerable,cJ=(t,e,r)=>e in t?wdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w2=(t,e)=>{for(var r in e||(e={}))Pdt.call(e,r)&&cJ(t,r,e[r]);if(oJ)for(var r of oJ(e))kdt.call(e,r)&&cJ(t,r,e[r]);return t},f_=(t,e)=>Adt(t,Sdt(e));let Idt=class extends Blt{constructor(e){super(e),this.initialized=!1,this.name="authEngine",this.init=()=>{this.initialized||(this.registerRelayerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(P9)}),this.initialized=!0)},this.request=async(r,n)=>{if(this.isInitialized(),!Klt(r))throw new Error("Invalid request");if(n!=null&&n.topic)return await this.requestOnKnownPairing(n.topic,r);const{chainId:s,statement:i,aud:a,domain:o,nonce:c,type:l,exp:u,nbf:f}=r,{topic:h,uri:m}=await this.client.core.pairing.create();this.client.logger.info({message:"Generated new pairing",pairing:{topic:h,uri:m}});const y=await this.client.core.crypto.generateKeyPair(),x=L$(y);await this.client.authKeys.set(a3,{responseTopic:x,publicKey:y}),await this.client.pairingTopics.set(x,{topic:x,pairingTopic:h}),await this.client.core.relayer.subscribe(x),this.client.logger.info(`sending request to new pairing topic: ${h}`);const k=await this.sendRequest(h,"wc_authRequest",{payloadParams:{type:l??"eip4361",chainId:s,statement:i,aud:a,domain:o,version:"1",nonce:c,iat:new Date().toISOString(),exp:u,nbf:f},requester:{publicKey:y,metadata:this.client.metadata}},{},r.expiry);return this.client.logger.info(`sent request to new pairing topic: ${h}`),{uri:m,id:k}},this.respond=async(r,n)=>{if(this.isInitialized(),!Xlt(r,this.client.requests))throw new Error("Invalid response");const s=gge(this.client.requests,r.id);if(!s)throw new Error(`Could not find pending auth request with id ${r.id}`);const i=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),o=L$(i),c={type:nb,receiverPublicKey:i,senderPublicKey:a};if("error"in r){await this.sendError(s.id,o,r,c);return}const l={h:{t:"eip4361"},p:f_(w2({},s.cacaoPayload),{iss:n}),s:r.signature};await this.sendResult(s.id,o,l,c),await this.client.core.pairing.activate({topic:s.pairingTopic}),await this.client.requests.update(s.id,w2({},l))},this.getPendingRequests=()=>mge(this.client.requests),this.formatMessage=(r,n)=>{this.client.logger.debug(`formatMessage, cacao is: ${JSON.stringify(r)}`);const s=`${r.domain} wants you to sign in with your Ethereum account:`,i=GZ(n),a=r.statement,o=`URI: ${r.aud}`,c=`Version: ${r.version}`,l=`Chain ID: ${zlt(n)}`,u=`Nonce: ${r.nonce}`,f=`Issued At: ${r.iat}`,h=r.exp?`Expiry: ${r.exp}`:void 0,m=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(y=>`- ${y}`).join(`
`)}`:void 0;return[s,i,"",a,"",o,c,l,u,f,h,m].filter(y=>y!=null).join(`
`)},this.setExpiry=async(r,n)=>{this.client.core.pairing.pairings.keys.includes(r)&&await this.client.core.pairing.updateExpiry({topic:r,expiry:n}),this.client.core.expirer.set(r,n)},this.sendRequest=async(r,n,s,i,a)=>{const o=gl(n,s),c=await this.client.core.crypto.encode(r,o,i),l=P9[n].req;if(a&&(l.ttl=a),this.client.core.history.set(r,o),Tw()){const u=aJ(JSON.stringify(o));this.client.core.verify.register({attestationId:u})}return await this.client.core.relayer.publish(r,c,f_(w2({},l),{internal:{throwOnFailedPublish:!0}})),o.id},this.sendResult=async(r,n,s,i)=>{const a=ym(r,s),o=await this.client.core.crypto.encode(n,a,i),c=await this.client.core.history.get(n,r),l=P9[c.request.method].res;return await this.client.core.relayer.publish(n,o,f_(w2({},l),{internal:{throwOnFailedPublish:!0}})),await this.client.core.history.resolve(a),a.id},this.sendError=async(r,n,s,i)=>{const a=vm(r,s.error),o=await this.client.core.crypto.encode(n,a,i),c=await this.client.core.history.get(n,r),l=P9[c.request.method].res;return await this.client.core.relayer.publish(n,o,l),await this.client.core.history.resolve(a),a.id},this.requestOnKnownPairing=async(r,n)=>{const s=this.client.core.pairing.pairings.getAll({active:!0}).find(m=>m.topic===r);if(!s)throw new Error(`Could not find pairing for provided topic ${r}`);const{publicKey:i}=this.client.authKeys.get(a3),{chainId:a,statement:o,aud:c,domain:l,nonce:u,type:f}=n,h=await this.sendRequest(s.topic,"wc_authRequest",{payloadParams:{type:f??"eip4361",chainId:a,statement:o,aud:c,domain:l,version:"1",nonce:u,iat:new Date().toISOString()},requester:{publicKey:i,metadata:this.client.metadata}},{},n.expiry);return this.client.logger.info(`sent request to known pairing topic: ${s.topic}`),{id:h}},this.onPairingCreated=r=>{const n=this.getPendingRequests();if(n){const s=Object.values(n).find(i=>i.pairingTopic===r.topic);s&&this.handleAuthRequest(s)}},this.onRelayEventRequest=r=>{const{topic:n,payload:s}=r,i=s.method;switch(i){case"wc_authRequest":return this.onAuthRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s}=r,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_authRequest":return this.onAuthResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onAuthRequest=async(r,n)=>{const{requester:s,payloadParams:i}=n.params;this.client.logger.info({type:"onAuthRequest",topic:r,payload:n});const a=aJ(JSON.stringify(n)),o=await this.getVerifyContext(a,this.client.metadata),c={requester:s,pairingTopic:r,id:n.id,cacaoPayload:i,verifyContext:o};await this.client.requests.set(n.id,c),this.handleAuthRequest(c)},this.handleAuthRequest=async r=>{const{id:n,pairingTopic:s,requester:i,cacaoPayload:a,verifyContext:o}=r;try{this.client.emit("auth_request",{id:n,topic:s,params:{requester:i,cacaoPayload:a},verifyContext:o})}catch(c){await this.sendError(r.id,r.pairingTopic,c),this.client.logger.error(c)}},this.onAuthResponse=async(r,n)=>{const{id:s}=n;if(this.client.logger.info({type:"onAuthResponse",topic:r,response:n}),sc(n)){const{pairingTopic:i}=this.client.pairingTopics.get(r);await this.client.core.pairing.activate({topic:i});const{s:a,p:o}=n.result;await this.client.requests.set(s,w2({id:s,pairingTopic:i},n.result));const c=this.formatMessage(o,o.iss);this.client.logger.debug(`reconstructed message:
`,JSON.stringify(c)),this.client.logger.debug("payload.iss:",o.iss),this.client.logger.debug("signature:",a);const l=GZ(o.iss),u=Llt(o.iss);if(!l)throw new Error("Could not derive address from `payload.iss`");if(!u)throw new Error("Could not derive chainId from `payload.iss`");this.client.logger.debug("walletAddress extracted from `payload.iss`:",l),await Vlt(l,c,a,u,this.client.projectId)?this.client.emit("auth_response",{id:s,topic:r,params:n}):this.client.emit("auth_response",{id:s,topic:r,params:{message:"Invalid signature",code:-1}})}else Ri(n)&&this.client.emit("auth_response",{id:s,topic:r,params:n})},this.getVerifyContext=async(r,n)=>{const s={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});i&&(s.verified.origin=i.origin,s.verified.isScam=i.isScam,s.verified.validation=origin===new URL(n.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.error(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s}}isInitialized(){if(!this.initialized){const{message:e}=Or("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(Rs.message,async e=>{const{topic:r,message:n}=e,{responseTopic:s,publicKey:i}=this.client.authKeys.keys.includes(a3)?this.client.authKeys.get(a3):{responseTopic:void 0,publicKey:void 0};if(s&&r!==s){this.client.logger.debug("[Auth] Ignoring message from unknown topic",r);return}const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:i});xm(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):Xh(a)&&(await this.client.core.history.resolve(a),this.onRelayEventResponse({topic:r,payload:a}))})}registerPairingEvents(){this.client.core.pairing.events.on(Lb.create,e=>this.onPairingCreated(e))}},Ndt=class Ege extends Flt{constructor(e){super(e),this.protocol=pge,this.version=Dlt,this.name=YZ,this.events=new Un.EventEmitter,this.emit=(n,s)=>this.events.emit(n,s),this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.request=async(n,s)=>{try{return await this.engine.request(n,s)}catch(i){throw this.logger.error(i.message),i}},this.respond=async(n,s)=>{try{return await this.engine.respond(n,s)}catch(i){throw this.logger.error(i.message),i}},this.getPendingRequests=()=>{try{return this.engine.getPendingRequests()}catch(n){throw this.logger.error(n.message),n}},this.formatMessage=(n,s)=>{try{return this.engine.formatMessage(n,s)}catch(i){throw this.logger.error(i.message),i}};const r=typeof e.logger<"u"&&typeof e.logger!="string"?e.logger:slt(Gct({level:e.logger||"error"}));this.name=(e==null?void 0:e.name)||YZ,this.metadata=e.metadata,this.projectId=e.projectId,this.core=e.core||new rge(e),this.logger=nlt(r,this.name),this.authKeys=new _7(this.core,this.logger,"authKeys",T7,()=>a3),this.pairingTopics=new _7(this.core,this.logger,"pairingTopics",T7),this.requests=new _7(this.core,this.logger,"requests",T7,n=>n.id),this.engine=new Idt(this)}static async init(e){const r=new Ege(e);return await r.initialize(),r}get context(){return oge(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.authKeys.init(),await this.requests.init(),await this.pairingTopics.init(),await this.engine.init(),this.logger.info("AuthClient Initialization Success"),this.logger.info({authClient:this})}catch(e){throw this.logger.info("AuthClient Initialization Failure"),this.logger.error(e.message),e}}};const Edt=Ndt,Cdt="idb-keyval";var _dt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=uI(t.dbName,t.storeName)),{name:Cdt,options:t,async hasItem(s){return!(typeof await zx(r(s),n)>"u")},async getItem(s){return await zx(r(s),n)??null},setItem(s,i){return CD(r(s),i,n)},removeItem(s){return _D(r(s),n)},getKeys(){return jD(n)},clear(){return TD(n)}}};const Tdt="WALLET_CONNECT_V2_INDEXED_DB",jdt="keyvaluestorage";let Mdt=class{constructor(){this.indexedDb=ED({driver:_dt({dbName:Tdt,storeName:jdt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Js(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof h_<"u"&&h_.localStorage?j7.exports=h_.localStorage:typeof window<"u"&&window.localStorage?j7.exports=window.localStorage:j7.exports=new e})();function $dt(t){var e;return[t[0],Pi((e=t[1])!=null?e:"")]}let Odt=class{constructor(){this.localStorage=j7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map($dt)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Pi(r)}async setItem(e,r){this.localStorage.setItem(e,Js(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Bdt="wc_storage_version",lJ=1,Fdt=async(t,e,r)=>{const n=Bdt,s=await e.getItem(n);if(s&&s>=lJ){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,lJ),r(e),Rdt(t,a)},Rdt=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Ddt=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Odt;this.storage=e;try{const r=new Mdt;Fdt(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};const uJ=cU;var Vb=Zd;const s4=Zdt().console||{},Udt={mapHttpRequest:k9,mapHttpResponse:k9,wrapRequestSerializer:p_,wrapResponseSerializer:p_,wrapErrorSerializer:p_,req:k9,res:k9,err:qdt};function zdt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Zd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||s4;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=zdt(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=i4),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:Wdt(t)};c.levels=Zd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=i4,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=lO());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(y){if(y!=="silent"&&!this.levels.values[y])throw Error("unknown level "+y);this._level=y,Pb(l,c,"error","log"),Pb(l,c,"fatal","error"),Pb(l,c,"warn","error"),Pb(l,c,"info","log"),Pb(l,c,"debug","log"),Pb(l,c,"trace","log")}function m(y,x){if(!y)throw new Error("missing bindings for child Pino");x=x||{},s&&y.serializers&&(x.serializers=y.serializers);const k=x.serializers;if(s&&k){var C=Object.assign({},n,k),I=t.browser.serialize===!0?Object.keys(C):s;delete y.serializers,$I([y],I,C,this._stdErrSerialize)}function _(O){this._childLevel=(O._childLevel|0)+1,this.error=kb(O,y,"error"),this.fatal=kb(O,y,"fatal"),this.warn=kb(O,y,"warn"),this.info=kb(O,y,"info"),this.debug=kb(O,y,"debug"),this.trace=kb(O,y,"trace"),C&&(this.serializers=C,this._serialize=I),e&&(this._logEvent=lO([].concat(O._logEvent.bindings,y)))}return _.prototype=this,new _(this)}return c}Zd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Zd.stdSerializers=Udt;Zd.stdTimeFunctions=Object.assign({},{nullTime:Cge,epochTime:_ge,unixTime:Kdt,isoTime:Xdt});function Pb(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?i4:s[r]?s[r]:s4[r]||s4[n]||i4,Ldt(t,e,r)}function Ldt(t,e,r){!t.transmit&&e[r]===i4||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===s4?s4:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&$I(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,Vdt(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=Zd.levels.values[l],f=Zd.levels.values[r];if(f<u)return;Hdt(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:Zd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function Vdt(t,e,r,n){t._serialize&&$I(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=Zd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?uJ(s.shift(),s):void 0}else typeof i=="string"&&(i=uJ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function $I(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Zd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function kb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function Hdt(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;$I(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=lO(c)}function lO(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function qdt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Wdt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Cge:_ge}function k9(){return{}}function p_(t){return t}function i4(){}function Cge(){return!1}function _ge(){return Date.now()}function Kdt(){return Math.round(Date.now()/1e3)}function Xdt(){return new Date(Date.now()).toISOString()}function Zdt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const OI=La(Vb),Jdt={level:"info"},I5="custom_context",uU=1e3*1024;let Qdt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},dJ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Qdt(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Tge=class{constructor(e,r=uU){this.level=e??"error",this.levelValue=Vb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new dJ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Vb.levels.values.error?console.error(e):r===Vb.levels.values.warn?console.warn(e):r===Vb.levels.values.debug?console.debug(e):r===Vb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Js({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new dJ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Js({extraMetadata:e})),new Blob(r,{type:"application/json"})}},Ydt=class{constructor(e,r=uU){this.baseChunkLogger=new Tge(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},Gdt=class{constructor(e,r=uU){this.baseChunkLogger=new Tge(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var eft=Object.defineProperty,tft=Object.defineProperties,rft=Object.getOwnPropertyDescriptors,fJ=Object.getOwnPropertySymbols,nft=Object.prototype.hasOwnProperty,sft=Object.prototype.propertyIsEnumerable,hJ=(t,e,r)=>e in t?eft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RS=(t,e)=>{for(var r in e||(e={}))nft.call(e,r)&&hJ(t,r,e[r]);if(fJ)for(var r of fJ(e))sft.call(e,r)&&hJ(t,r,e[r]);return t},DS=(t,e)=>tft(t,rft(e));function dU(t){return DS(RS({},t),{level:(t==null?void 0:t.level)||Jdt.level})}function ift(t,e=I5){return t[e]||""}function aft(t,e,r=I5){return t[r]=e,t}function Vo(t,e=I5){let r="";return typeof t.bindings>"u"?r=ift(t,e):r=t.bindings().context||"",r}function oft(t,e,r=I5){const n=Vo(t,r);return n.trim()?`${n}/${e}`:e}function fo(t,e,r=I5){const n=oft(t,e,r),s=t.child({context:n});return aft(s,n,r)}function cft(t){var e,r;const n=new Ydt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:OI(DS(RS({},t.opts),{level:"trace",browser:DS(RS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function lft(t){var e;const r=new Gdt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:OI(DS(RS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function uft(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?cft(t):lft(t)}let dft=class extends Ys{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},fft=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},hft=class{constructor(e,r){this.logger=e,this.core=r}},pft=class extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}},mft=class extends Ys{constructor(e){super()}},gft=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},bft=class extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}},yft=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r}},vft=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},xft=class{constructor(e,r){this.projectId=e,this.logger=r}},wft=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},Aft=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Sft=class{constructor(e){this.client=e}};var N5={},jge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ar,r=Nc;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function o(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},o.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,h=l<<3,m=l%128<112?128:256;this._buffer[u]=128;for(var y=u+1;y<m-8;y++)this._buffer[y]=0;e.writeUint32BE(f,this._buffer,m-8),e.writeUint32BE(h,this._buffer,m-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,m),this._finished=!0}for(var y=0;y<this.digestLength/8;y++)e.writeUint32BE(this._stateHi[y],c,y*8),e.writeUint32BE(this._stateLo[y],c,y*8+4);return this},o.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},o}();t.SHA512=n;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(o,c,l,u,f,h,m){for(var y=l[0],x=l[1],k=l[2],C=l[3],I=l[4],_=l[5],O=l[6],F=l[7],D=u[0],j=u[1],T=u[2],R=u[3],q=u[4],$=u[5],b=u[6],w=u[7],p,g,S,N,P,A,v,E;m>=128;){for(var M=0;M<16;M++){var L=8*M+h;o[M]=e.readUint32BE(f,L),c[M]=e.readUint32BE(f,L+4)}for(var M=0;M<80;M++){var Q=y,U=x,J=k,Z=C,re=I,G=_,z=O,se=F,ce=D,pe=j,_e=T,ke=R,tt=q,mt=$,we=b,We=w;if(p=F,g=w,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=(I>>>14|q<<18)^(I>>>18|q<<14)^(q>>>9|I<<23),g=(q>>>14|I<<18)^(q>>>18|I<<14)^(I>>>9|q<<23),P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,p=I&_^~I&O,g=q&$^~q&b,P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,p=s[M*2],g=s[M*2+1],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,p=o[M%16],g=c[M%16],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,S=v&65535|E<<16,N=P&65535|A<<16,p=S,g=N,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=(y>>>28|D<<4)^(D>>>2|y<<30)^(D>>>7|y<<25),g=(D>>>28|y<<4)^(y>>>2|D<<30)^(y>>>7|D<<25),P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,p=y&x^y&k^x&k,g=D&j^D&T^j&T,P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,se=v&65535|E<<16,We=P&65535|A<<16,p=Z,g=ke,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=S,g=N,P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,Z=v&65535|E<<16,ke=P&65535|A<<16,x=Q,k=U,C=J,I=Z,_=re,O=G,F=z,y=se,j=ce,T=pe,R=_e,q=ke,$=tt,b=mt,w=we,D=We,M%16===15)for(var L=0;L<16;L++)p=o[L],g=c[L],P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=o[(L+9)%16],g=c[(L+9)%16],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,S=o[(L+1)%16],N=c[(L+1)%16],p=(S>>>1|N<<31)^(S>>>8|N<<24)^S>>>7,g=(N>>>1|S<<31)^(N>>>8|S<<24)^(N>>>7|S<<25),P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,S=o[(L+14)%16],N=c[(L+14)%16],p=(S>>>19|N<<13)^(N>>>29|S<<3)^S>>>6,g=(N>>>19|S<<13)^(S>>>29|N<<3)^(N>>>6|S<<26),P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,o[L]=v&65535|E<<16,c[L]=P&65535|A<<16}p=y,g=D,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[0],g=u[0],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[0]=y=v&65535|E<<16,u[0]=D=P&65535|A<<16,p=x,g=j,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[1],g=u[1],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[1]=x=v&65535|E<<16,u[1]=j=P&65535|A<<16,p=k,g=T,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[2],g=u[2],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[2]=k=v&65535|E<<16,u[2]=T=P&65535|A<<16,p=C,g=R,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[3],g=u[3],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[3]=C=v&65535|E<<16,u[3]=R=P&65535|A<<16,p=I,g=q,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[4],g=u[4],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[4]=I=v&65535|E<<16,u[4]=q=P&65535|A<<16,p=_,g=$,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[5],g=u[5],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[5]=_=v&65535|E<<16,u[5]=$=P&65535|A<<16,p=O,g=b,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[6],g=u[6],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[6]=O=v&65535|E<<16,u[6]=b=P&65535|A<<16,p=F,g=w,P=g&65535,A=g>>>16,v=p&65535,E=p>>>16,p=l[7],g=u[7],P+=g&65535,A+=g>>>16,v+=p&65535,E+=p>>>16,A+=P>>>16,v+=A>>>16,E+=v>>>16,l[7]=F=v&65535|E<<16,u[7]=w=P&65535|A<<16,h+=128,m-=128}return h}function a(o){var c=new n;c.update(o);var l=c.digest();return c.clean(),l}t.hash=a})(jge);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Ic,r=jge,n=Nc;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function s(Z){const re=new Float64Array(16);if(Z)for(let G=0;G<Z.length;G++)re[G]=Z[G];return re}const i=new Uint8Array(32);i[0]=9;const a=s(),o=s([1]),c=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(Z,re){for(let G=0;G<16;G++)Z[G]=re[G]|0}function y(Z){let re=1;for(let G=0;G<16;G++){let z=Z[G]+re+65535;re=Math.floor(z/65536),Z[G]=z-re*65536}Z[0]+=re-1+37*(re-1)}function x(Z,re,G){const z=~(G-1);for(let se=0;se<16;se++){const ce=z&(Z[se]^re[se]);Z[se]^=ce,re[se]^=ce}}function k(Z,re){const G=s(),z=s();for(let se=0;se<16;se++)z[se]=re[se];y(z),y(z),y(z);for(let se=0;se<2;se++){G[0]=z[0]-65517;for(let pe=1;pe<15;pe++)G[pe]=z[pe]-65535-(G[pe-1]>>16&1),G[pe-1]&=65535;G[15]=z[15]-32767-(G[14]>>16&1);const ce=G[15]>>16&1;G[14]&=65535,x(z,G,1-ce)}for(let se=0;se<16;se++)Z[2*se]=z[se]&255,Z[2*se+1]=z[se]>>8}function C(Z,re){let G=0;for(let z=0;z<32;z++)G|=Z[z]^re[z];return(1&G-1>>>8)-1}function I(Z,re){const G=new Uint8Array(32),z=new Uint8Array(32);return k(G,Z),k(z,re),C(G,z)}function _(Z){const re=new Uint8Array(32);return k(re,Z),re[0]&1}function O(Z,re){for(let G=0;G<16;G++)Z[G]=re[2*G]+(re[2*G+1]<<8);Z[15]&=32767}function F(Z,re,G){for(let z=0;z<16;z++)Z[z]=re[z]+G[z]}function D(Z,re,G){for(let z=0;z<16;z++)Z[z]=re[z]-G[z]}function j(Z,re,G){let z,se,ce=0,pe=0,_e=0,ke=0,tt=0,mt=0,we=0,We=0,Ae=0,Oe=0,qe=0,Fe=0,ze=0,Ke=0,ct=0,Y=0,V=0,W=0,ne=0,le=0,de=0,me=0,rt=0,ht=0,ot=0,pt=0,_t=0,St=0,Rt=0,sr=0,De=0,He=G[0],gt=G[1],nt=G[2],It=G[3],Ut=G[4],bt=G[5],Je=G[6],Pt=G[7],it=G[8],Tt=G[9],X=G[10],ee=G[11],te=G[12],H=G[13],ie=G[14],fe=G[15];z=re[0],ce+=z*He,pe+=z*gt,_e+=z*nt,ke+=z*It,tt+=z*Ut,mt+=z*bt,we+=z*Je,We+=z*Pt,Ae+=z*it,Oe+=z*Tt,qe+=z*X,Fe+=z*ee,ze+=z*te,Ke+=z*H,ct+=z*ie,Y+=z*fe,z=re[1],pe+=z*He,_e+=z*gt,ke+=z*nt,tt+=z*It,mt+=z*Ut,we+=z*bt,We+=z*Je,Ae+=z*Pt,Oe+=z*it,qe+=z*Tt,Fe+=z*X,ze+=z*ee,Ke+=z*te,ct+=z*H,Y+=z*ie,V+=z*fe,z=re[2],_e+=z*He,ke+=z*gt,tt+=z*nt,mt+=z*It,we+=z*Ut,We+=z*bt,Ae+=z*Je,Oe+=z*Pt,qe+=z*it,Fe+=z*Tt,ze+=z*X,Ke+=z*ee,ct+=z*te,Y+=z*H,V+=z*ie,W+=z*fe,z=re[3],ke+=z*He,tt+=z*gt,mt+=z*nt,we+=z*It,We+=z*Ut,Ae+=z*bt,Oe+=z*Je,qe+=z*Pt,Fe+=z*it,ze+=z*Tt,Ke+=z*X,ct+=z*ee,Y+=z*te,V+=z*H,W+=z*ie,ne+=z*fe,z=re[4],tt+=z*He,mt+=z*gt,we+=z*nt,We+=z*It,Ae+=z*Ut,Oe+=z*bt,qe+=z*Je,Fe+=z*Pt,ze+=z*it,Ke+=z*Tt,ct+=z*X,Y+=z*ee,V+=z*te,W+=z*H,ne+=z*ie,le+=z*fe,z=re[5],mt+=z*He,we+=z*gt,We+=z*nt,Ae+=z*It,Oe+=z*Ut,qe+=z*bt,Fe+=z*Je,ze+=z*Pt,Ke+=z*it,ct+=z*Tt,Y+=z*X,V+=z*ee,W+=z*te,ne+=z*H,le+=z*ie,de+=z*fe,z=re[6],we+=z*He,We+=z*gt,Ae+=z*nt,Oe+=z*It,qe+=z*Ut,Fe+=z*bt,ze+=z*Je,Ke+=z*Pt,ct+=z*it,Y+=z*Tt,V+=z*X,W+=z*ee,ne+=z*te,le+=z*H,de+=z*ie,me+=z*fe,z=re[7],We+=z*He,Ae+=z*gt,Oe+=z*nt,qe+=z*It,Fe+=z*Ut,ze+=z*bt,Ke+=z*Je,ct+=z*Pt,Y+=z*it,V+=z*Tt,W+=z*X,ne+=z*ee,le+=z*te,de+=z*H,me+=z*ie,rt+=z*fe,z=re[8],Ae+=z*He,Oe+=z*gt,qe+=z*nt,Fe+=z*It,ze+=z*Ut,Ke+=z*bt,ct+=z*Je,Y+=z*Pt,V+=z*it,W+=z*Tt,ne+=z*X,le+=z*ee,de+=z*te,me+=z*H,rt+=z*ie,ht+=z*fe,z=re[9],Oe+=z*He,qe+=z*gt,Fe+=z*nt,ze+=z*It,Ke+=z*Ut,ct+=z*bt,Y+=z*Je,V+=z*Pt,W+=z*it,ne+=z*Tt,le+=z*X,de+=z*ee,me+=z*te,rt+=z*H,ht+=z*ie,ot+=z*fe,z=re[10],qe+=z*He,Fe+=z*gt,ze+=z*nt,Ke+=z*It,ct+=z*Ut,Y+=z*bt,V+=z*Je,W+=z*Pt,ne+=z*it,le+=z*Tt,de+=z*X,me+=z*ee,rt+=z*te,ht+=z*H,ot+=z*ie,pt+=z*fe,z=re[11],Fe+=z*He,ze+=z*gt,Ke+=z*nt,ct+=z*It,Y+=z*Ut,V+=z*bt,W+=z*Je,ne+=z*Pt,le+=z*it,de+=z*Tt,me+=z*X,rt+=z*ee,ht+=z*te,ot+=z*H,pt+=z*ie,_t+=z*fe,z=re[12],ze+=z*He,Ke+=z*gt,ct+=z*nt,Y+=z*It,V+=z*Ut,W+=z*bt,ne+=z*Je,le+=z*Pt,de+=z*it,me+=z*Tt,rt+=z*X,ht+=z*ee,ot+=z*te,pt+=z*H,_t+=z*ie,St+=z*fe,z=re[13],Ke+=z*He,ct+=z*gt,Y+=z*nt,V+=z*It,W+=z*Ut,ne+=z*bt,le+=z*Je,de+=z*Pt,me+=z*it,rt+=z*Tt,ht+=z*X,ot+=z*ee,pt+=z*te,_t+=z*H,St+=z*ie,Rt+=z*fe,z=re[14],ct+=z*He,Y+=z*gt,V+=z*nt,W+=z*It,ne+=z*Ut,le+=z*bt,de+=z*Je,me+=z*Pt,rt+=z*it,ht+=z*Tt,ot+=z*X,pt+=z*ee,_t+=z*te,St+=z*H,Rt+=z*ie,sr+=z*fe,z=re[15],Y+=z*He,V+=z*gt,W+=z*nt,ne+=z*It,le+=z*Ut,de+=z*bt,me+=z*Je,rt+=z*Pt,ht+=z*it,ot+=z*Tt,pt+=z*X,_t+=z*ee,St+=z*te,Rt+=z*H,sr+=z*ie,De+=z*fe,ce+=38*V,pe+=38*W,_e+=38*ne,ke+=38*le,tt+=38*de,mt+=38*me,we+=38*rt,We+=38*ht,Ae+=38*ot,Oe+=38*pt,qe+=38*_t,Fe+=38*St,ze+=38*Rt,Ke+=38*sr,ct+=38*De,se=1,z=ce+se+65535,se=Math.floor(z/65536),ce=z-se*65536,z=pe+se+65535,se=Math.floor(z/65536),pe=z-se*65536,z=_e+se+65535,se=Math.floor(z/65536),_e=z-se*65536,z=ke+se+65535,se=Math.floor(z/65536),ke=z-se*65536,z=tt+se+65535,se=Math.floor(z/65536),tt=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=we+se+65535,se=Math.floor(z/65536),we=z-se*65536,z=We+se+65535,se=Math.floor(z/65536),We=z-se*65536,z=Ae+se+65535,se=Math.floor(z/65536),Ae=z-se*65536,z=Oe+se+65535,se=Math.floor(z/65536),Oe=z-se*65536,z=qe+se+65535,se=Math.floor(z/65536),qe=z-se*65536,z=Fe+se+65535,se=Math.floor(z/65536),Fe=z-se*65536,z=ze+se+65535,se=Math.floor(z/65536),ze=z-se*65536,z=Ke+se+65535,se=Math.floor(z/65536),Ke=z-se*65536,z=ct+se+65535,se=Math.floor(z/65536),ct=z-se*65536,z=Y+se+65535,se=Math.floor(z/65536),Y=z-se*65536,ce+=se-1+37*(se-1),se=1,z=ce+se+65535,se=Math.floor(z/65536),ce=z-se*65536,z=pe+se+65535,se=Math.floor(z/65536),pe=z-se*65536,z=_e+se+65535,se=Math.floor(z/65536),_e=z-se*65536,z=ke+se+65535,se=Math.floor(z/65536),ke=z-se*65536,z=tt+se+65535,se=Math.floor(z/65536),tt=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=we+se+65535,se=Math.floor(z/65536),we=z-se*65536,z=We+se+65535,se=Math.floor(z/65536),We=z-se*65536,z=Ae+se+65535,se=Math.floor(z/65536),Ae=z-se*65536,z=Oe+se+65535,se=Math.floor(z/65536),Oe=z-se*65536,z=qe+se+65535,se=Math.floor(z/65536),qe=z-se*65536,z=Fe+se+65535,se=Math.floor(z/65536),Fe=z-se*65536,z=ze+se+65535,se=Math.floor(z/65536),ze=z-se*65536,z=Ke+se+65535,se=Math.floor(z/65536),Ke=z-se*65536,z=ct+se+65535,se=Math.floor(z/65536),ct=z-se*65536,z=Y+se+65535,se=Math.floor(z/65536),Y=z-se*65536,ce+=se-1+37*(se-1),Z[0]=ce,Z[1]=pe,Z[2]=_e,Z[3]=ke,Z[4]=tt,Z[5]=mt,Z[6]=we,Z[7]=We,Z[8]=Ae,Z[9]=Oe,Z[10]=qe,Z[11]=Fe,Z[12]=ze,Z[13]=Ke,Z[14]=ct,Z[15]=Y}function T(Z,re){j(Z,re,re)}function R(Z,re){const G=s();let z;for(z=0;z<16;z++)G[z]=re[z];for(z=253;z>=0;z--)T(G,G),z!==2&&z!==4&&j(G,G,re);for(z=0;z<16;z++)Z[z]=G[z]}function q(Z,re){const G=s();let z;for(z=0;z<16;z++)G[z]=re[z];for(z=250;z>=0;z--)T(G,G),z!==1&&j(G,G,re);for(z=0;z<16;z++)Z[z]=G[z]}function $(Z,re){const G=s(),z=s(),se=s(),ce=s(),pe=s(),_e=s(),ke=s(),tt=s(),mt=s();D(G,Z[1],Z[0]),D(mt,re[1],re[0]),j(G,G,mt),F(z,Z[0],Z[1]),F(mt,re[0],re[1]),j(z,z,mt),j(se,Z[3],re[3]),j(se,se,l),j(ce,Z[2],re[2]),F(ce,ce,ce),D(pe,z,G),D(_e,ce,se),F(ke,ce,se),F(tt,z,G),j(Z[0],pe,_e),j(Z[1],tt,ke),j(Z[2],ke,_e),j(Z[3],pe,tt)}function b(Z,re,G){for(let z=0;z<4;z++)x(Z[z],re[z],G)}function w(Z,re){const G=s(),z=s(),se=s();R(se,re[2]),j(G,re[0],se),j(z,re[1],se),k(Z,z),Z[31]^=_(G)<<7}function p(Z,re,G){m(Z[0],a),m(Z[1],o),m(Z[2],o),m(Z[3],a);for(let z=255;z>=0;--z){const se=G[z/8|0]>>(z&7)&1;b(Z,re,se),$(re,Z),$(Z,Z),b(Z,re,se)}}function g(Z,re){const G=[s(),s(),s(),s()];m(G[0],u),m(G[1],f),m(G[2],o),j(G[3],u,f),p(Z,G,re)}function S(Z){if(Z.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const re=(0,r.hash)(Z);re[0]&=248,re[31]&=127,re[31]|=64;const G=new Uint8Array(32),z=[s(),s(),s(),s()];g(z,re),w(G,z);const se=new Uint8Array(64);return se.set(Z),se.set(G,32),{publicKey:G,secretKey:se}}t.generateKeyPairFromSeed=S;function N(Z){const re=(0,e.randomBytes)(32,Z),G=S(re);return(0,n.wipe)(re),G}t.generateKeyPair=N;function P(Z){if(Z.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Z.subarray(32))}t.extractPublicKeyFromSecretKey=P;const A=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function v(Z,re){let G,z,se,ce;for(z=63;z>=32;--z){for(G=0,se=z-32,ce=z-12;se<ce;++se)re[se]+=G-16*re[z]*A[se-(z-32)],G=Math.floor((re[se]+128)/256),re[se]-=G*256;re[se]+=G,re[z]=0}for(G=0,se=0;se<32;se++)re[se]+=G-(re[31]>>4)*A[se],G=re[se]>>8,re[se]&=255;for(se=0;se<32;se++)re[se]-=G*A[se];for(z=0;z<32;z++)re[z+1]+=re[z]>>8,Z[z]=re[z]&255}function E(Z){const re=new Float64Array(64);for(let G=0;G<64;G++)re[G]=Z[G];for(let G=0;G<64;G++)Z[G]=0;v(Z,re)}function M(Z,re){const G=new Float64Array(64),z=[s(),s(),s(),s()],se=(0,r.hash)(Z.subarray(0,32));se[0]&=248,se[31]&=127,se[31]|=64;const ce=new Uint8Array(64);ce.set(se.subarray(32),32);const pe=new r.SHA512;pe.update(ce.subarray(32)),pe.update(re);const _e=pe.digest();pe.clean(),E(_e),g(z,_e),w(ce,z),pe.reset(),pe.update(ce.subarray(0,32)),pe.update(Z.subarray(32)),pe.update(re);const ke=pe.digest();E(ke);for(let tt=0;tt<32;tt++)G[tt]=_e[tt];for(let tt=0;tt<32;tt++)for(let mt=0;mt<32;mt++)G[tt+mt]+=ke[tt]*se[mt];return v(ce.subarray(32),G),ce}t.sign=M;function L(Z,re){const G=s(),z=s(),se=s(),ce=s(),pe=s(),_e=s(),ke=s();return m(Z[2],o),O(Z[1],re),T(se,Z[1]),j(ce,se,c),D(se,se,Z[2]),F(ce,Z[2],ce),T(pe,ce),T(_e,pe),j(ke,_e,pe),j(G,ke,se),j(G,G,ce),q(G,G),j(G,G,se),j(G,G,ce),j(G,G,ce),j(Z[0],G,ce),T(z,Z[0]),j(z,z,ce),I(z,se)&&j(Z[0],Z[0],h),T(z,Z[0]),j(z,z,ce),I(z,se)?-1:(_(Z[0])===re[31]>>7&&D(Z[0],a,Z[0]),j(Z[3],Z[0],Z[1]),0)}function Q(Z,re,G){const z=new Uint8Array(32),se=[s(),s(),s(),s()],ce=[s(),s(),s(),s()];if(G.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(L(ce,Z))return!1;const pe=new r.SHA512;pe.update(G.subarray(0,32)),pe.update(Z),pe.update(re);const _e=pe.digest();return E(_e),p(se,ce,_e),g(ce,G.subarray(32)),$(se,ce),w(z,se),!C(G,z)}t.verify=Q;function U(Z){let re=[s(),s(),s(),s()];if(L(re,Z))throw new Error("Ed25519: invalid public key");let G=s(),z=s(),se=re[1];F(G,o,se),D(z,o,se),R(z,z),j(G,G,z);let ce=new Uint8Array(32);return k(ce,G),ce}t.convertPublicKeyToX25519=U;function J(Z){const re=(0,r.hash)(Z.subarray(0,32));re[0]&=248,re[31]&=127,re[31]|=64;const G=new Uint8Array(re.subarray(0,32));return(0,n.wipe)(re),G}t.convertSecretKeyToX25519=J})(N5);const Pft="EdDSA",kft="JWT",US=".",BI="base64url",Mge="utf8",$ge="utf8",Ift=":",Nft="did",Eft="key",pJ="base58btc",Cft="z",_ft="K36",Tft=32;function Oge(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function M7(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=Oge(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function Bge(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const mJ=Bge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),m_=Bge("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Oge(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Fge={utf8:mJ,"utf-8":mJ,hex:Lx.base16,latin1:m_,ascii:m_,binary:m_,...Lx};function xi(t,e="utf8"){const r=Fge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function bi(t,e="utf8"){const r=Fge[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function gJ(t){return Pi(xi(bi(t,BI),Mge))}function zS(t){return xi(bi(Js(t),Mge),BI)}function Rge(t){const e=bi(_ft,pJ),r=Cft+xi(M7([e,t]),pJ);return[Nft,Eft,r].join(Ift)}function jft(t){return xi(t,BI)}function Mft(t){return bi(t,BI)}function $ft(t){return bi([zS(t.header),zS(t.payload)].join(US),$ge)}function Oft(t){return[zS(t.header),zS(t.payload),jft(t.signature)].join(US)}function uO(t){const e=t.split(US),r=gJ(e[0]),n=gJ(e[1]),s=Mft(e[2]),i=bi(e.slice(0,2).join(US),$ge);return{header:r,payload:n,signature:s,data:i}}function bJ(t=Ic.randomBytes(Tft)){return N5.generateKeyPairFromSeed(t)}async function Bft(t,e,r,n,s=Me.fromMiliseconds(Date.now())){const i={alg:Pft,typ:kft},a=Rge(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=$ft({header:i,payload:c}),u=N5.sign(n.secretKey,l);return Oft({header:i,payload:c,signature:u})}var zh={},Fft=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Dge="%[a-f0-9]{2}",yJ=new RegExp("("+Dge+")|([^%]+?)","gi"),vJ=new RegExp("("+Dge+")+","gi");function dO(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],dO(r),dO(n))}function Rft(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(yJ)||[],r=1;r<e.length;r++)t=dO(e,r).join(""),e=t.match(yJ)||[];return t}}function Dft(t){for(var e={"%FE%FF":"","%FF%FE":""},r=vJ.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Rft(r[0]);n!==r[0]&&(e[r[0]]=n)}r=vJ.exec(t)}e["%C2"]="";for(var s=Object.keys(e),i=0;i<s.length;i++){var a=s[i];t=t.replace(new RegExp(a,"g"),e[a])}return t}var Uft=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Dft(t)}},zft=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},Lft=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),i=0;i<n.length;i++){var a=n[i],o=t[a];(s?e.indexOf(a)!==-1:e(a,o,t))&&(r[a]=o)}return r};(function(t){const e=Fft,r=Uft,n=zft,s=Lft,i=I=>I==null,a=Symbol("encodeFragmentIdentifier");function o(I){switch(I.arrayFormat){case"index":return _=>(O,F)=>{const D=O.length;return F===void 0||I.skipNull&&F===null||I.skipEmptyString&&F===""?O:F===null?[...O,[u(_,I),"[",D,"]"].join("")]:[...O,[u(_,I),"[",u(D,I),"]=",u(F,I)].join("")]};case"bracket":return _=>(O,F)=>F===void 0||I.skipNull&&F===null||I.skipEmptyString&&F===""?O:F===null?[...O,[u(_,I),"[]"].join("")]:[...O,[u(_,I),"[]=",u(F,I)].join("")];case"colon-list-separator":return _=>(O,F)=>F===void 0||I.skipNull&&F===null||I.skipEmptyString&&F===""?O:F===null?[...O,[u(_,I),":list="].join("")]:[...O,[u(_,I),":list=",u(F,I)].join("")];case"comma":case"separator":case"bracket-separator":{const _=I.arrayFormat==="bracket-separator"?"[]=":"=";return O=>(F,D)=>D===void 0||I.skipNull&&D===null||I.skipEmptyString&&D===""?F:(D=D===null?"":D,F.length===0?[[u(O,I),_,u(D,I)].join("")]:[[F,u(D,I)].join(I.arrayFormatSeparator)])}default:return _=>(O,F)=>F===void 0||I.skipNull&&F===null||I.skipEmptyString&&F===""?O:F===null?[...O,u(_,I)]:[...O,[u(_,I),"=",u(F,I)].join("")]}}function c(I){let _;switch(I.arrayFormat){case"index":return(O,F,D)=>{if(_=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!_){D[O]=F;return}D[O]===void 0&&(D[O]={}),D[O][_[1]]=F};case"bracket":return(O,F,D)=>{if(_=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!_){D[O]=F;return}if(D[O]===void 0){D[O]=[F];return}D[O]=[].concat(D[O],F)};case"colon-list-separator":return(O,F,D)=>{if(_=/(:list)$/.exec(O),O=O.replace(/:list$/,""),!_){D[O]=F;return}if(D[O]===void 0){D[O]=[F];return}D[O]=[].concat(D[O],F)};case"comma":case"separator":return(O,F,D)=>{const j=typeof F=="string"&&F.includes(I.arrayFormatSeparator),T=typeof F=="string"&&!j&&f(F,I).includes(I.arrayFormatSeparator);F=T?f(F,I):F;const R=j||T?F.split(I.arrayFormatSeparator).map(q=>f(q,I)):F===null?F:f(F,I);D[O]=R};case"bracket-separator":return(O,F,D)=>{const j=/(\[\])$/.test(O);if(O=O.replace(/\[\]$/,""),!j){D[O]=F&&f(F,I);return}const T=F===null?[]:F.split(I.arrayFormatSeparator).map(R=>f(R,I));if(D[O]===void 0){D[O]=T;return}D[O]=[].concat(D[O],T)};default:return(O,F,D)=>{if(D[O]===void 0){D[O]=F;return}D[O]=[].concat(D[O],F)}}}function l(I){if(typeof I!="string"||I.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(I,_){return _.encode?_.strict?e(I):encodeURIComponent(I):I}function f(I,_){return _.decode?r(I):I}function h(I){return Array.isArray(I)?I.sort():typeof I=="object"?h(Object.keys(I)).sort((_,O)=>Number(_)-Number(O)).map(_=>I[_]):I}function m(I){const _=I.indexOf("#");return _!==-1&&(I=I.slice(0,_)),I}function y(I){let _="";const O=I.indexOf("#");return O!==-1&&(_=I.slice(O)),_}function x(I){I=m(I);const _=I.indexOf("?");return _===-1?"":I.slice(_+1)}function k(I,_){return _.parseNumbers&&!Number.isNaN(Number(I))&&typeof I=="string"&&I.trim()!==""?I=Number(I):_.parseBooleans&&I!==null&&(I.toLowerCase()==="true"||I.toLowerCase()==="false")&&(I=I.toLowerCase()==="true"),I}function C(I,_){_=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},_),l(_.arrayFormatSeparator);const O=c(_),F=Object.create(null);if(typeof I!="string"||(I=I.trim().replace(/^[?#&]/,""),!I))return F;for(const D of I.split("&")){if(D==="")continue;let[j,T]=n(_.decode?D.replace(/\+/g," "):D,"=");T=T===void 0?null:["comma","separator","bracket-separator"].includes(_.arrayFormat)?T:f(T,_),O(f(j,_),T,F)}for(const D of Object.keys(F)){const j=F[D];if(typeof j=="object"&&j!==null)for(const T of Object.keys(j))j[T]=k(j[T],_);else F[D]=k(j,_)}return _.sort===!1?F:(_.sort===!0?Object.keys(F).sort():Object.keys(F).sort(_.sort)).reduce((D,j)=>{const T=F[j];return T&&typeof T=="object"&&!Array.isArray(T)?D[j]=h(T):D[j]=T,D},Object.create(null))}t.extract=x,t.parse=C,t.stringify=(I,_)=>{if(!I)return"";_=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},_),l(_.arrayFormatSeparator);const O=T=>_.skipNull&&i(I[T])||_.skipEmptyString&&I[T]==="",F=o(_),D={};for(const T of Object.keys(I))O(T)||(D[T]=I[T]);const j=Object.keys(D);return _.sort!==!1&&j.sort(_.sort),j.map(T=>{const R=I[T];return R===void 0?"":R===null?u(T,_):Array.isArray(R)?R.length===0&&_.arrayFormat==="bracket-separator"?u(T,_)+"[]":R.reduce(F(T),[]).join("&"):u(T,_)+"="+u(R,_)}).filter(T=>T.length>0).join("&")},t.parseUrl=(I,_)=>{_=Object.assign({decode:!0},_);const[O,F]=n(I,"#");return Object.assign({url:O.split("?")[0]||"",query:C(x(I),_)},_&&_.parseFragmentIdentifier&&F?{fragmentIdentifier:f(F,_)}:{})},t.stringifyUrl=(I,_)=>{_=Object.assign({encode:!0,strict:!0,[a]:!0},_);const O=m(I.url).split("?")[0]||"",F=t.extract(I.url),D=t.parse(F,{sort:!1}),j=Object.assign(D,I.query);let T=t.stringify(j,_);T&&(T=`?${T}`);let R=y(I.url);return I.fragmentIdentifier&&(R=`#${_[a]?u(I.fragmentIdentifier,_):I.fragmentIdentifier}`),`${O}${T}${R}`},t.pick=(I,_,O)=>{O=Object.assign({parseFragmentIdentifier:!0,[a]:!1},O);const{url:F,query:D,fragmentIdentifier:j}=t.parseUrl(I,O);return t.stringifyUrl({url:F,query:s(D,_),fragmentIdentifier:j},O)},t.exclude=(I,_,O)=>{const F=Array.isArray(_)?D=>!_.includes(D):(D,j)=>!_(D,j);return t.pick(I,F,O)}})(zh);const Vft=`Ethereum Signed Message:
`;function Uge(t){return typeof t=="string"&&(t=Bp(t)),bc(Op([Bp(Vft),Bp(String(t.length)),t]))}var xJ;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(xJ||(xJ={}));function Hft(t){const e=PF(t);return Th(P6(bc(P6(e,1)),12))}function qft(t,e){return Hft(Qse(Xr(t),e))}var E5={},FI={};Object.defineProperty(FI,"__esModule",{value:!0});var va=Ar,fO=Nc,Wft=20;function Kft(t,e,r){for(var n=1634760805,s=857760878,i=2036477234,a=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],h=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],y=r[31]<<24|r[30]<<16|r[29]<<8|r[28],x=e[3]<<24|e[2]<<16|e[1]<<8|e[0],k=e[7]<<24|e[6]<<16|e[5]<<8|e[4],C=e[11]<<24|e[10]<<16|e[9]<<8|e[8],I=e[15]<<24|e[14]<<16|e[13]<<8|e[12],_=n,O=s,F=i,D=a,j=o,T=c,R=l,q=u,$=f,b=h,w=m,p=y,g=x,S=k,N=C,P=I,A=0;A<Wft;A+=2)_=_+j|0,g^=_,g=g>>>16|g<<16,$=$+g|0,j^=$,j=j>>>20|j<<12,O=O+T|0,S^=O,S=S>>>16|S<<16,b=b+S|0,T^=b,T=T>>>20|T<<12,F=F+R|0,N^=F,N=N>>>16|N<<16,w=w+N|0,R^=w,R=R>>>20|R<<12,D=D+q|0,P^=D,P=P>>>16|P<<16,p=p+P|0,q^=p,q=q>>>20|q<<12,F=F+R|0,N^=F,N=N>>>24|N<<8,w=w+N|0,R^=w,R=R>>>25|R<<7,D=D+q|0,P^=D,P=P>>>24|P<<8,p=p+P|0,q^=p,q=q>>>25|q<<7,O=O+T|0,S^=O,S=S>>>24|S<<8,b=b+S|0,T^=b,T=T>>>25|T<<7,_=_+j|0,g^=_,g=g>>>24|g<<8,$=$+g|0,j^=$,j=j>>>25|j<<7,_=_+T|0,P^=_,P=P>>>16|P<<16,w=w+P|0,T^=w,T=T>>>20|T<<12,O=O+R|0,g^=O,g=g>>>16|g<<16,p=p+g|0,R^=p,R=R>>>20|R<<12,F=F+q|0,S^=F,S=S>>>16|S<<16,$=$+S|0,q^=$,q=q>>>20|q<<12,D=D+j|0,N^=D,N=N>>>16|N<<16,b=b+N|0,j^=b,j=j>>>20|j<<12,F=F+q|0,S^=F,S=S>>>24|S<<8,$=$+S|0,q^=$,q=q>>>25|q<<7,D=D+j|0,N^=D,N=N>>>24|N<<8,b=b+N|0,j^=b,j=j>>>25|j<<7,O=O+R|0,g^=O,g=g>>>24|g<<8,p=p+g|0,R^=p,R=R>>>25|R<<7,_=_+T|0,P^=_,P=P>>>24|P<<8,w=w+P|0,T^=w,T=T>>>25|T<<7;va.writeUint32LE(_+n|0,t,0),va.writeUint32LE(O+s|0,t,4),va.writeUint32LE(F+i|0,t,8),va.writeUint32LE(D+a|0,t,12),va.writeUint32LE(j+o|0,t,16),va.writeUint32LE(T+c|0,t,20),va.writeUint32LE(R+l|0,t,24),va.writeUint32LE(q+u|0,t,28),va.writeUint32LE($+f|0,t,32),va.writeUint32LE(b+h|0,t,36),va.writeUint32LE(w+m|0,t,40),va.writeUint32LE(p+y|0,t,44),va.writeUint32LE(g+x|0,t,48),va.writeUint32LE(S+k|0,t,52),va.writeUint32LE(N+C|0,t,56),va.writeUint32LE(P+I|0,t,60)}function zge(t,e,r,n,s){if(s===void 0&&(s=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var i,a;if(s===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),a=i.length-e.length,i.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=e,a=s}for(var o=new Uint8Array(64),c=0;c<r.length;c+=64){Kft(o,i,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^o[l-c];Zft(i,0,a)}return fO.wipe(o),s===0&&fO.wipe(i),n}FI.streamXOR=zge;function Xft(t,e,r,n){return n===void 0&&(n=0),fO.wipe(r),zge(t,e,r,r,n)}FI.stream=Xft;function Zft(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Lge={},wm={};Object.defineProperty(wm,"__esModule",{value:!0});function Jft(t,e,r){return~(t-1)&e|t-1&r}wm.select=Jft;function Qft(t,e){return(t|0)-(e|0)-1>>>31&1}wm.lessOrEqual=Qft;function Vge(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}wm.compare=Vge;function Yft(t,e){return t.length===0||e.length===0?!1:Vge(t,e)!==0}wm.equal=Yft;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=wm,r=Nc;t.DIGEST_LENGTH=16;var n=function(){function a(o){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=o[0]|o[1]<<8;this._r[0]=c&8191;var l=o[2]|o[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=o[4]|o[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var f=o[6]|o[7]<<8;this._r[3]=(u>>>7|f<<9)&8191;var h=o[8]|o[9]<<8;this._r[4]=(f>>>4|h<<12)&255,this._r[5]=h>>>1&8190;var m=o[10]|o[11]<<8;this._r[6]=(h>>>14|m<<2)&8191;var y=o[12]|o[13]<<8;this._r[7]=(m>>>11|y<<5)&8065;var x=o[14]|o[15]<<8;this._r[8]=(y>>>8|x<<8)&8191,this._r[9]=x>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return a.prototype._blocks=function(o,c,l){for(var u=this._fin?0:2048,f=this._h[0],h=this._h[1],m=this._h[2],y=this._h[3],x=this._h[4],k=this._h[5],C=this._h[6],I=this._h[7],_=this._h[8],O=this._h[9],F=this._r[0],D=this._r[1],j=this._r[2],T=this._r[3],R=this._r[4],q=this._r[5],$=this._r[6],b=this._r[7],w=this._r[8],p=this._r[9];l>=16;){var g=o[c+0]|o[c+1]<<8;f+=g&8191;var S=o[c+2]|o[c+3]<<8;h+=(g>>>13|S<<3)&8191;var N=o[c+4]|o[c+5]<<8;m+=(S>>>10|N<<6)&8191;var P=o[c+6]|o[c+7]<<8;y+=(N>>>7|P<<9)&8191;var A=o[c+8]|o[c+9]<<8;x+=(P>>>4|A<<12)&8191,k+=A>>>1&8191;var v=o[c+10]|o[c+11]<<8;C+=(A>>>14|v<<2)&8191;var E=o[c+12]|o[c+13]<<8;I+=(v>>>11|E<<5)&8191;var M=o[c+14]|o[c+15]<<8;_+=(E>>>8|M<<8)&8191,O+=M>>>5|u;var L=0,Q=L;Q+=f*F,Q+=h*(5*p),Q+=m*(5*w),Q+=y*(5*b),Q+=x*(5*$),L=Q>>>13,Q&=8191,Q+=k*(5*q),Q+=C*(5*R),Q+=I*(5*T),Q+=_*(5*j),Q+=O*(5*D),L+=Q>>>13,Q&=8191;var U=L;U+=f*D,U+=h*F,U+=m*(5*p),U+=y*(5*w),U+=x*(5*b),L=U>>>13,U&=8191,U+=k*(5*$),U+=C*(5*q),U+=I*(5*R),U+=_*(5*T),U+=O*(5*j),L+=U>>>13,U&=8191;var J=L;J+=f*j,J+=h*D,J+=m*F,J+=y*(5*p),J+=x*(5*w),L=J>>>13,J&=8191,J+=k*(5*b),J+=C*(5*$),J+=I*(5*q),J+=_*(5*R),J+=O*(5*T),L+=J>>>13,J&=8191;var Z=L;Z+=f*T,Z+=h*j,Z+=m*D,Z+=y*F,Z+=x*(5*p),L=Z>>>13,Z&=8191,Z+=k*(5*w),Z+=C*(5*b),Z+=I*(5*$),Z+=_*(5*q),Z+=O*(5*R),L+=Z>>>13,Z&=8191;var re=L;re+=f*R,re+=h*T,re+=m*j,re+=y*D,re+=x*F,L=re>>>13,re&=8191,re+=k*(5*p),re+=C*(5*w),re+=I*(5*b),re+=_*(5*$),re+=O*(5*q),L+=re>>>13,re&=8191;var G=L;G+=f*q,G+=h*R,G+=m*T,G+=y*j,G+=x*D,L=G>>>13,G&=8191,G+=k*F,G+=C*(5*p),G+=I*(5*w),G+=_*(5*b),G+=O*(5*$),L+=G>>>13,G&=8191;var z=L;z+=f*$,z+=h*q,z+=m*R,z+=y*T,z+=x*j,L=z>>>13,z&=8191,z+=k*D,z+=C*F,z+=I*(5*p),z+=_*(5*w),z+=O*(5*b),L+=z>>>13,z&=8191;var se=L;se+=f*b,se+=h*$,se+=m*q,se+=y*R,se+=x*T,L=se>>>13,se&=8191,se+=k*j,se+=C*D,se+=I*F,se+=_*(5*p),se+=O*(5*w),L+=se>>>13,se&=8191;var ce=L;ce+=f*w,ce+=h*b,ce+=m*$,ce+=y*q,ce+=x*R,L=ce>>>13,ce&=8191,ce+=k*T,ce+=C*j,ce+=I*D,ce+=_*F,ce+=O*(5*p),L+=ce>>>13,ce&=8191;var pe=L;pe+=f*p,pe+=h*w,pe+=m*b,pe+=y*$,pe+=x*q,L=pe>>>13,pe&=8191,pe+=k*R,pe+=C*T,pe+=I*j,pe+=_*D,pe+=O*F,L+=pe>>>13,pe&=8191,L=(L<<2)+L|0,L=L+Q|0,Q=L&8191,L=L>>>13,U+=L,f=Q,h=U,m=J,y=Z,x=re,k=G,C=z,I=se,_=ce,O=pe,c+=16,l-=16}this._h[0]=f,this._h[1]=h,this._h[2]=m,this._h[3]=y,this._h[4]=x,this._h[5]=k,this._h[6]=C,this._h[7]=I,this._h[8]=_,this._h[9]=O},a.prototype.finish=function(o,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,f,h,m;if(this._leftover){for(m=this._leftover,this._buffer[m++]=1;m<16;m++)this._buffer[m]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,m=2;m<10;m++)this._h[m]+=u,u=this._h[m]>>>13,this._h[m]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,m=1;m<10;m++)l[m]=this._h[m]+u,u=l[m]>>>13,l[m]&=8191;for(l[9]-=8192,f=(u^1)-1,m=0;m<10;m++)l[m]&=f;for(f=~f,m=0;m<10;m++)this._h[m]=this._h[m]&f|l[m];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,h=this._h[0]+this._pad[0],this._h[0]=h&65535,m=1;m<8;m++)h=(this._h[m]+this._pad[m]|0)+(h>>>16)|0,this._h[m]=h&65535;return o[c+0]=this._h[0]>>>0,o[c+1]=this._h[0]>>>8,o[c+2]=this._h[1]>>>0,o[c+3]=this._h[1]>>>8,o[c+4]=this._h[2]>>>0,o[c+5]=this._h[2]>>>8,o[c+6]=this._h[3]>>>0,o[c+7]=this._h[3]>>>8,o[c+8]=this._h[4]>>>0,o[c+9]=this._h[4]>>>8,o[c+10]=this._h[5]>>>0,o[c+11]=this._h[5]>>>8,o[c+12]=this._h[6]>>>0,o[c+13]=this._h[6]>>>8,o[c+14]=this._h[7]>>>0,o[c+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(o){var c=0,l=o.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var f=0;f<u;f++)this._buffer[this._leftover+f]=o[c+f];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(o,c,u),c+=u,l-=u),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=o[c+f];this._leftover+=l}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();t.Poly1305=n;function s(a,o){var c=new n(a);c.update(o);var l=c.digest();return c.clean(),l}t.oneTimeAuth=s;function i(a,o){return a.length!==t.DIGEST_LENGTH||o.length!==t.DIGEST_LENGTH?!1:e.equal(a,o)}t.equal=i})(Lge);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=FI,r=Lge,n=Nc,s=Ar,i=wm;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var a=new Uint8Array(16),o=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var m=new Uint8Array(16);m.set(l,m.length-l.length);var y=new Uint8Array(32);e.stream(this._key,m,y,4);var x=u.length+this.tagLength,k;if(h){if(h.length!==x)throw new Error("ChaCha20Poly1305: incorrect destination length");k=h}else k=new Uint8Array(x);return e.streamXOR(this._key,m,u,k,4),this._authenticate(k.subarray(k.length-this.tagLength,k.length),y,k.subarray(0,k.length-this.tagLength),f),n.wipe(m),k},c.prototype.open=function(l,u,f,h){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var m=new Uint8Array(16);m.set(l,m.length-l.length);var y=new Uint8Array(32);e.stream(this._key,m,y,4);var x=new Uint8Array(this.tagLength);if(this._authenticate(x,y,u.subarray(0,u.length-this.tagLength),f),!i.equal(x,u.subarray(u.length-this.tagLength,u.length)))return null;var k=u.length-this.tagLength,C;if(h){if(h.length!==k)throw new Error("ChaCha20Poly1305: incorrect destination length");C=h}else C=new Uint8Array(k);return e.streamXOR(this._key,m,u.subarray(0,u.length-this.tagLength),C,4),n.wipe(m),C},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,f,h){var m=new r.Poly1305(u);h&&(m.update(h),h.length%16>0&&m.update(a.subarray(h.length%16))),m.update(f),f.length%16>0&&m.update(a.subarray(f.length%16));var y=new Uint8Array(8);h&&s.writeUint64LE(h.length,y),m.update(y),s.writeUint64LE(f.length,y),m.update(y);for(var x=m.digest(),k=0;k<x.length;k++)l[k]=x[k];m.clean(),n.wipe(x),n.wipe(y)},c}();t.ChaCha20Poly1305=o})(E5);var Hge={},C5={},fU={};Object.defineProperty(fU,"__esModule",{value:!0});function Gft(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}fU.isSerializableHash=Gft;Object.defineProperty(C5,"__esModule",{value:!0});var Ju=fU,eht=wm,tht=Nc,qge=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(var s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),Ju.isSerializableHash(this._inner)&&Ju.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),tht.wipe(n)}return t.prototype.reset=function(){if(!Ju.isSerializableHash(this._inner)||!Ju.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Ju.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ju.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Ju.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Ju.isSerializableHash(this._inner)||!Ju.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Ju.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();C5.HMAC=qge;function rht(t,e,r){var n=new qge(t,e);n.update(r);var s=n.digest();return n.clean(),s}C5.hmac=rht;C5.equal=eht.equal;Object.defineProperty(Hge,"__esModule",{value:!0});var wJ=C5,AJ=Nc,nht=function(){function t(e,r,n,s){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var i=wJ.hmac(this._hash,n,r);this._hmac=new wJ.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),AJ.wipe(this._buffer),AJ.wipe(this._counter),this._bufpos=0},t}(),Wge=Hge.HKDF=nht,_5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Ic,r=Nc;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(O){const F=new Float64Array(16);if(O)for(let D=0;D<O.length;D++)F[D]=O[D];return F}const s=new Uint8Array(32);s[0]=9;const i=n([56129,1]);function a(O){let F=1;for(let D=0;D<16;D++){let j=O[D]+F+65535;F=Math.floor(j/65536),O[D]=j-F*65536}O[0]+=F-1+37*(F-1)}function o(O,F,D){const j=~(D-1);for(let T=0;T<16;T++){const R=j&(O[T]^F[T]);O[T]^=R,F[T]^=R}}function c(O,F){const D=n(),j=n();for(let T=0;T<16;T++)j[T]=F[T];a(j),a(j),a(j);for(let T=0;T<2;T++){D[0]=j[0]-65517;for(let q=1;q<15;q++)D[q]=j[q]-65535-(D[q-1]>>16&1),D[q-1]&=65535;D[15]=j[15]-32767-(D[14]>>16&1);const R=D[15]>>16&1;D[14]&=65535,o(j,D,1-R)}for(let T=0;T<16;T++)O[2*T]=j[T]&255,O[2*T+1]=j[T]>>8}function l(O,F){for(let D=0;D<16;D++)O[D]=F[2*D]+(F[2*D+1]<<8);O[15]&=32767}function u(O,F,D){for(let j=0;j<16;j++)O[j]=F[j]+D[j]}function f(O,F,D){for(let j=0;j<16;j++)O[j]=F[j]-D[j]}function h(O,F,D){let j,T,R=0,q=0,$=0,b=0,w=0,p=0,g=0,S=0,N=0,P=0,A=0,v=0,E=0,M=0,L=0,Q=0,U=0,J=0,Z=0,re=0,G=0,z=0,se=0,ce=0,pe=0,_e=0,ke=0,tt=0,mt=0,we=0,We=0,Ae=D[0],Oe=D[1],qe=D[2],Fe=D[3],ze=D[4],Ke=D[5],ct=D[6],Y=D[7],V=D[8],W=D[9],ne=D[10],le=D[11],de=D[12],me=D[13],rt=D[14],ht=D[15];j=F[0],R+=j*Ae,q+=j*Oe,$+=j*qe,b+=j*Fe,w+=j*ze,p+=j*Ke,g+=j*ct,S+=j*Y,N+=j*V,P+=j*W,A+=j*ne,v+=j*le,E+=j*de,M+=j*me,L+=j*rt,Q+=j*ht,j=F[1],q+=j*Ae,$+=j*Oe,b+=j*qe,w+=j*Fe,p+=j*ze,g+=j*Ke,S+=j*ct,N+=j*Y,P+=j*V,A+=j*W,v+=j*ne,E+=j*le,M+=j*de,L+=j*me,Q+=j*rt,U+=j*ht,j=F[2],$+=j*Ae,b+=j*Oe,w+=j*qe,p+=j*Fe,g+=j*ze,S+=j*Ke,N+=j*ct,P+=j*Y,A+=j*V,v+=j*W,E+=j*ne,M+=j*le,L+=j*de,Q+=j*me,U+=j*rt,J+=j*ht,j=F[3],b+=j*Ae,w+=j*Oe,p+=j*qe,g+=j*Fe,S+=j*ze,N+=j*Ke,P+=j*ct,A+=j*Y,v+=j*V,E+=j*W,M+=j*ne,L+=j*le,Q+=j*de,U+=j*me,J+=j*rt,Z+=j*ht,j=F[4],w+=j*Ae,p+=j*Oe,g+=j*qe,S+=j*Fe,N+=j*ze,P+=j*Ke,A+=j*ct,v+=j*Y,E+=j*V,M+=j*W,L+=j*ne,Q+=j*le,U+=j*de,J+=j*me,Z+=j*rt,re+=j*ht,j=F[5],p+=j*Ae,g+=j*Oe,S+=j*qe,N+=j*Fe,P+=j*ze,A+=j*Ke,v+=j*ct,E+=j*Y,M+=j*V,L+=j*W,Q+=j*ne,U+=j*le,J+=j*de,Z+=j*me,re+=j*rt,G+=j*ht,j=F[6],g+=j*Ae,S+=j*Oe,N+=j*qe,P+=j*Fe,A+=j*ze,v+=j*Ke,E+=j*ct,M+=j*Y,L+=j*V,Q+=j*W,U+=j*ne,J+=j*le,Z+=j*de,re+=j*me,G+=j*rt,z+=j*ht,j=F[7],S+=j*Ae,N+=j*Oe,P+=j*qe,A+=j*Fe,v+=j*ze,E+=j*Ke,M+=j*ct,L+=j*Y,Q+=j*V,U+=j*W,J+=j*ne,Z+=j*le,re+=j*de,G+=j*me,z+=j*rt,se+=j*ht,j=F[8],N+=j*Ae,P+=j*Oe,A+=j*qe,v+=j*Fe,E+=j*ze,M+=j*Ke,L+=j*ct,Q+=j*Y,U+=j*V,J+=j*W,Z+=j*ne,re+=j*le,G+=j*de,z+=j*me,se+=j*rt,ce+=j*ht,j=F[9],P+=j*Ae,A+=j*Oe,v+=j*qe,E+=j*Fe,M+=j*ze,L+=j*Ke,Q+=j*ct,U+=j*Y,J+=j*V,Z+=j*W,re+=j*ne,G+=j*le,z+=j*de,se+=j*me,ce+=j*rt,pe+=j*ht,j=F[10],A+=j*Ae,v+=j*Oe,E+=j*qe,M+=j*Fe,L+=j*ze,Q+=j*Ke,U+=j*ct,J+=j*Y,Z+=j*V,re+=j*W,G+=j*ne,z+=j*le,se+=j*de,ce+=j*me,pe+=j*rt,_e+=j*ht,j=F[11],v+=j*Ae,E+=j*Oe,M+=j*qe,L+=j*Fe,Q+=j*ze,U+=j*Ke,J+=j*ct,Z+=j*Y,re+=j*V,G+=j*W,z+=j*ne,se+=j*le,ce+=j*de,pe+=j*me,_e+=j*rt,ke+=j*ht,j=F[12],E+=j*Ae,M+=j*Oe,L+=j*qe,Q+=j*Fe,U+=j*ze,J+=j*Ke,Z+=j*ct,re+=j*Y,G+=j*V,z+=j*W,se+=j*ne,ce+=j*le,pe+=j*de,_e+=j*me,ke+=j*rt,tt+=j*ht,j=F[13],M+=j*Ae,L+=j*Oe,Q+=j*qe,U+=j*Fe,J+=j*ze,Z+=j*Ke,re+=j*ct,G+=j*Y,z+=j*V,se+=j*W,ce+=j*ne,pe+=j*le,_e+=j*de,ke+=j*me,tt+=j*rt,mt+=j*ht,j=F[14],L+=j*Ae,Q+=j*Oe,U+=j*qe,J+=j*Fe,Z+=j*ze,re+=j*Ke,G+=j*ct,z+=j*Y,se+=j*V,ce+=j*W,pe+=j*ne,_e+=j*le,ke+=j*de,tt+=j*me,mt+=j*rt,we+=j*ht,j=F[15],Q+=j*Ae,U+=j*Oe,J+=j*qe,Z+=j*Fe,re+=j*ze,G+=j*Ke,z+=j*ct,se+=j*Y,ce+=j*V,pe+=j*W,_e+=j*ne,ke+=j*le,tt+=j*de,mt+=j*me,we+=j*rt,We+=j*ht,R+=38*U,q+=38*J,$+=38*Z,b+=38*re,w+=38*G,p+=38*z,g+=38*se,S+=38*ce,N+=38*pe,P+=38*_e,A+=38*ke,v+=38*tt,E+=38*mt,M+=38*we,L+=38*We,T=1,j=R+T+65535,T=Math.floor(j/65536),R=j-T*65536,j=q+T+65535,T=Math.floor(j/65536),q=j-T*65536,j=$+T+65535,T=Math.floor(j/65536),$=j-T*65536,j=b+T+65535,T=Math.floor(j/65536),b=j-T*65536,j=w+T+65535,T=Math.floor(j/65536),w=j-T*65536,j=p+T+65535,T=Math.floor(j/65536),p=j-T*65536,j=g+T+65535,T=Math.floor(j/65536),g=j-T*65536,j=S+T+65535,T=Math.floor(j/65536),S=j-T*65536,j=N+T+65535,T=Math.floor(j/65536),N=j-T*65536,j=P+T+65535,T=Math.floor(j/65536),P=j-T*65536,j=A+T+65535,T=Math.floor(j/65536),A=j-T*65536,j=v+T+65535,T=Math.floor(j/65536),v=j-T*65536,j=E+T+65535,T=Math.floor(j/65536),E=j-T*65536,j=M+T+65535,T=Math.floor(j/65536),M=j-T*65536,j=L+T+65535,T=Math.floor(j/65536),L=j-T*65536,j=Q+T+65535,T=Math.floor(j/65536),Q=j-T*65536,R+=T-1+37*(T-1),T=1,j=R+T+65535,T=Math.floor(j/65536),R=j-T*65536,j=q+T+65535,T=Math.floor(j/65536),q=j-T*65536,j=$+T+65535,T=Math.floor(j/65536),$=j-T*65536,j=b+T+65535,T=Math.floor(j/65536),b=j-T*65536,j=w+T+65535,T=Math.floor(j/65536),w=j-T*65536,j=p+T+65535,T=Math.floor(j/65536),p=j-T*65536,j=g+T+65535,T=Math.floor(j/65536),g=j-T*65536,j=S+T+65535,T=Math.floor(j/65536),S=j-T*65536,j=N+T+65535,T=Math.floor(j/65536),N=j-T*65536,j=P+T+65535,T=Math.floor(j/65536),P=j-T*65536,j=A+T+65535,T=Math.floor(j/65536),A=j-T*65536,j=v+T+65535,T=Math.floor(j/65536),v=j-T*65536,j=E+T+65535,T=Math.floor(j/65536),E=j-T*65536,j=M+T+65535,T=Math.floor(j/65536),M=j-T*65536,j=L+T+65535,T=Math.floor(j/65536),L=j-T*65536,j=Q+T+65535,T=Math.floor(j/65536),Q=j-T*65536,R+=T-1+37*(T-1),O[0]=R,O[1]=q,O[2]=$,O[3]=b,O[4]=w,O[5]=p,O[6]=g,O[7]=S,O[8]=N,O[9]=P,O[10]=A,O[11]=v,O[12]=E,O[13]=M,O[14]=L,O[15]=Q}function m(O,F){h(O,F,F)}function y(O,F){const D=n();for(let j=0;j<16;j++)D[j]=F[j];for(let j=253;j>=0;j--)m(D,D),j!==2&&j!==4&&h(D,D,F);for(let j=0;j<16;j++)O[j]=D[j]}function x(O,F){const D=new Uint8Array(32),j=new Float64Array(80),T=n(),R=n(),q=n(),$=n(),b=n(),w=n();for(let N=0;N<31;N++)D[N]=O[N];D[31]=O[31]&127|64,D[0]&=248,l(j,F);for(let N=0;N<16;N++)R[N]=j[N];T[0]=$[0]=1;for(let N=254;N>=0;--N){const P=D[N>>>3]>>>(N&7)&1;o(T,R,P),o(q,$,P),u(b,T,q),f(T,T,q),u(q,R,$),f(R,R,$),m($,b),m(w,T),h(T,q,T),h(q,R,b),u(b,T,q),f(T,T,q),m(R,T),f(q,$,w),h(T,q,i),u(T,T,$),h(q,q,T),h(T,$,w),h($,R,j),m(R,b),o(T,R,P),o(q,$,P)}for(let N=0;N<16;N++)j[N+16]=T[N],j[N+32]=q[N],j[N+48]=R[N],j[N+64]=$[N];const p=j.subarray(32),g=j.subarray(16);y(p,p),h(g,g,p);const S=new Uint8Array(32);return c(S,g),S}t.scalarMult=x;function k(O){return x(O,s)}t.scalarMultBase=k;function C(O){if(O.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const F=new Uint8Array(O);return{publicKey:k(F),secretKey:F}}t.generateKeyPairFromSeed=C;function I(O){const F=(0,e.randomBytes)(32,O),D=C(F);return(0,r.wipe)(F),D}t.generateKeyPair=I;function _(O,F,D=!1){if(O.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(F.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const j=x(O,F);if(D){let T=0;for(let R=0;R<j.length;R++)T|=j[R];if(T===0)throw new Error("X25519: invalid shared key")}return j}t.sharedKey=_})(_5);var Kge={};const sht="elliptic",iht="6.5.7",aht="EC cryptography",oht="lib/elliptic.js",cht=["lib"],lht={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},uht={type:"git",url:"git@github.com:indutny/elliptic"},dht=["EC","Elliptic","curve","Cryptography"],fht="Fedor Indutny <fedor@indutny.com>",hht="MIT",pht={url:"https://github.com/indutny/elliptic/issues"},mht="https://github.com/indutny/elliptic",ght={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},bht={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},yht={name:sht,version:iht,description:aht,main:oht,files:cht,scripts:lht,repository:uht,keywords:dht,author:fht,license:hht,bugs:pht,homepage:mht,devDependencies:ght,dependencies:bht};var Ec={},hU={exports:{}};hU.exports;(function(t){(function(e,r){function n($,b){if(!$)throw new Error(b||"Assertion failed")}function s($,b){$.super_=b;var w=function(){};w.prototype=b.prototype,$.prototype=new w,$.prototype.constructor=$}function i($,b,w){if(i.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,$!==null&&((b==="le"||b==="be")&&(w=b,b=10),this._init($||0,b||10,w||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=z1.Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,w){return b.cmp(w)>0?b:w},i.min=function(b,w){return b.cmp(w)<0?b:w},i.prototype._init=function(b,w,p){if(typeof b=="number")return this._initNumber(b,w,p);if(typeof b=="object")return this._initArray(b,w,p);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),b=b.toString().replace(/\s+/g,"");var g=0;b[0]==="-"&&(g++,this.negative=1),g<b.length&&(w===16?this._parseHex(b,g,p):(this._parseBase(b,w,g),p==="le"&&this._initArray(this.toArray(),w,p)))},i.prototype._initNumber=function(b,w,p){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),w,p)},i.prototype._initArray=function(b,w,p){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,N,P=0;if(p==="be")for(g=b.length-1,S=0;g>=0;g-=3)N=b[g]|b[g-1]<<8|b[g-2]<<16,this.words[S]|=N<<P&67108863,this.words[S+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);else if(p==="le")for(g=0,S=0;g<b.length;g+=3)N=b[g]|b[g+1]<<8|b[g+2]<<16,this.words[S]|=N<<P&67108863,this.words[S+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);return this.strip()};function o($,b){var w=$.charCodeAt(b);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function c($,b,w){var p=o($,w);return w-1>=b&&(p|=o($,w-1)<<4),p}i.prototype._parseHex=function(b,w,p){this.length=Math.ceil((b.length-w)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S=0,N=0,P;if(p==="be")for(g=b.length-1;g>=w;g-=2)P=c(b,w,g)<<S,this.words[N]|=P&67108863,S>=18?(S-=18,N+=1,this.words[N]|=P>>>26):S+=8;else{var A=b.length-w;for(g=A%2===0?w+1:w;g<b.length;g+=2)P=c(b,w,g)<<S,this.words[N]|=P&67108863,S>=18?(S-=18,N+=1,this.words[N]|=P>>>26):S+=8}this.strip()};function l($,b,w,p){for(var g=0,S=Math.min($.length,w),N=b;N<S;N++){var P=$.charCodeAt(N)-48;g*=p,P>=49?g+=P-49+10:P>=17?g+=P-17+10:g+=P}return g}i.prototype._parseBase=function(b,w,p){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=w)g++;g--,S=S/w|0;for(var N=b.length-p,P=N%g,A=Math.min(N,N-P)+p,v=0,E=p;E<A;E+=g)v=l(b,E,E+g,w),this.imuln(S),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(P!==0){var M=1;for(v=l(b,E,b.length,w),E=0;E<P;E++)M*=w;this.imuln(M),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this.strip()},i.prototype.copy=function(b){b.words=new Array(this.length);for(var w=0;w<this.length;w++)b.words[w]=this.words[w];b.length=this.length,b.negative=this.negative,b.red=this.red},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,w){b=b||10,w=w|0||1;var p;if(b===16||b==="hex"){p="";for(var g=0,S=0,N=0;N<this.length;N++){var P=this.words[N],A=((P<<g|S)&16777215).toString(16);S=P>>>24-g&16777215,g+=2,g>=26&&(g-=26,N--),S!==0||N!==this.length-1?p=u[6-A.length]+A+p:p=A+p}for(S!==0&&(p=S.toString(16)+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(b===(b|0)&&b>=2&&b<=36){var v=f[b],E=h[b];p="";var M=this.clone();for(M.negative=0;!M.isZero();){var L=M.modn(E).toString(b);M=M.idivn(E),M.isZero()?p=L+p:p=u[v-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(b,w){return n(typeof a<"u"),this.toArrayLike(a,b,w)},i.prototype.toArray=function(b,w){return this.toArrayLike(Array,b,w)},i.prototype.toArrayLike=function(b,w,p){var g=this.byteLength(),S=p||Math.max(1,g);n(g<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var N=w==="le",P=new b(S),A,v,E=this.clone();if(N){for(v=0;!E.isZero();v++)A=E.andln(255),E.iushrn(8),P[v]=A;for(;v<S;v++)P[v]=0}else{for(v=0;v<S-g;v++)P[v]=0;for(v=0;!E.isZero();v++)A=E.andln(255),E.iushrn(8),P[S-v-1]=A}return P},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var w=b,p=0;return w>=4096&&(p+=13,w>>>=13),w>=64&&(p+=7,w>>>=7),w>=8&&(p+=4,w>>>=4),w>=2&&(p+=2,w>>>=2),p+w},i.prototype._zeroBits=function(b){if(b===0)return 26;var w=b,p=0;return w&8191||(p+=13,w>>>=13),w&127||(p+=7,w>>>=7),w&15||(p+=4,w>>>=4),w&3||(p+=2,w>>>=2),w&1||p++,p},i.prototype.bitLength=function(){var b=this.words[this.length-1],w=this._countBits(b);return(this.length-1)*26+w};function m($){for(var b=new Array($.bitLength()),w=0;w<b.length;w++){var p=w/26|0,g=w%26;b[w]=($.words[p]&1<<g)>>>g}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,w=0;w<this.length;w++){var p=this._zeroBits(this.words[w]);if(b+=p,p!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]|b.words[w];return this.strip()},i.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var w;this.length>b.length?w=b:w=this;for(var p=0;p<w.length;p++)this.words[p]=this.words[p]&b.words[p];return this.length=w.length,this.strip()},i.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var w,p;this.length>b.length?(w=this,p=b):(w=b,p=this);for(var g=0;g<p.length;g++)this.words[g]=w.words[g]^p.words[g];if(this!==w)for(;g<w.length;g++)this.words[g]=w.words[g];return this.length=w.length,this.strip()},i.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var w=Math.ceil(b/26)|0,p=b%26;this._expand(w),p>0&&w--;for(var g=0;g<w;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,w){n(typeof b=="number"&&b>=0);var p=b/26|0,g=b%26;return this._expand(p+1),w?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(b){var w;if(this.negative!==0&&b.negative===0)return this.negative=0,w=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,w=this.isub(b),b.negative=1,w._normSign();var p,g;this.length>b.length?(p=this,g=b):(p=b,g=this);for(var S=0,N=0;N<g.length;N++)w=(p.words[N]|0)+(g.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;for(;S!==0&&N<p.length;N++)w=(p.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;if(this.length=p.length,S!==0)this.words[this.length]=S,this.length++;else if(p!==this)for(;N<p.length;N++)this.words[N]=p.words[N];return this},i.prototype.add=function(b){var w;return b.negative!==0&&this.negative===0?(b.negative=0,w=this.sub(b),b.negative^=1,w):b.negative===0&&this.negative!==0?(this.negative=0,w=b.sub(this),this.negative=1,w):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var w=this.iadd(b);return b.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var p=this.cmp(b);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,S;p>0?(g=this,S=b):(g=b,S=this);for(var N=0,P=0;P<S.length;P++)w=(g.words[P]|0)-(S.words[P]|0)+N,N=w>>26,this.words[P]=w&67108863;for(;N!==0&&P<g.length;P++)w=(g.words[P]|0)+N,N=w>>26,this.words[P]=w&67108863;if(N===0&&P<g.length&&g!==this)for(;P<g.length;P++)this.words[P]=g.words[P];return this.length=Math.max(this.length,P),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function y($,b,w){w.negative=b.negative^$.negative;var p=$.length+b.length|0;w.length=p,p=p-1|0;var g=$.words[0]|0,S=b.words[0]|0,N=g*S,P=N&67108863,A=N/67108864|0;w.words[0]=P;for(var v=1;v<p;v++){for(var E=A>>>26,M=A&67108863,L=Math.min(v,b.length-1),Q=Math.max(0,v-$.length+1);Q<=L;Q++){var U=v-Q|0;g=$.words[U]|0,S=b.words[Q]|0,N=g*S+M,E+=N/67108864|0,M=N&67108863}w.words[v]=M|0,A=E|0}return A!==0?w.words[v]=A|0:w.length--,w.strip()}var x=function(b,w,p){var g=b.words,S=w.words,N=p.words,P=0,A,v,E,M=g[0]|0,L=M&8191,Q=M>>>13,U=g[1]|0,J=U&8191,Z=U>>>13,re=g[2]|0,G=re&8191,z=re>>>13,se=g[3]|0,ce=se&8191,pe=se>>>13,_e=g[4]|0,ke=_e&8191,tt=_e>>>13,mt=g[5]|0,we=mt&8191,We=mt>>>13,Ae=g[6]|0,Oe=Ae&8191,qe=Ae>>>13,Fe=g[7]|0,ze=Fe&8191,Ke=Fe>>>13,ct=g[8]|0,Y=ct&8191,V=ct>>>13,W=g[9]|0,ne=W&8191,le=W>>>13,de=S[0]|0,me=de&8191,rt=de>>>13,ht=S[1]|0,ot=ht&8191,pt=ht>>>13,_t=S[2]|0,St=_t&8191,Rt=_t>>>13,sr=S[3]|0,De=sr&8191,He=sr>>>13,gt=S[4]|0,nt=gt&8191,It=gt>>>13,Ut=S[5]|0,bt=Ut&8191,Je=Ut>>>13,Pt=S[6]|0,it=Pt&8191,Tt=Pt>>>13,X=S[7]|0,ee=X&8191,te=X>>>13,H=S[8]|0,ie=H&8191,fe=H>>>13,Ie=S[9]|0,ae=Ie&8191,ye=Ie>>>13;p.negative=b.negative^w.negative,p.length=19,A=Math.imul(L,me),v=Math.imul(L,rt),v=v+Math.imul(Q,me)|0,E=Math.imul(Q,rt);var Le=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Le>>>26)|0,Le&=67108863,A=Math.imul(J,me),v=Math.imul(J,rt),v=v+Math.imul(Z,me)|0,E=Math.imul(Z,rt),A=A+Math.imul(L,ot)|0,v=v+Math.imul(L,pt)|0,v=v+Math.imul(Q,ot)|0,E=E+Math.imul(Q,pt)|0;var Re=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Re>>>26)|0,Re&=67108863,A=Math.imul(G,me),v=Math.imul(G,rt),v=v+Math.imul(z,me)|0,E=Math.imul(z,rt),A=A+Math.imul(J,ot)|0,v=v+Math.imul(J,pt)|0,v=v+Math.imul(Z,ot)|0,E=E+Math.imul(Z,pt)|0,A=A+Math.imul(L,St)|0,v=v+Math.imul(L,Rt)|0,v=v+Math.imul(Q,St)|0,E=E+Math.imul(Q,Rt)|0;var $t=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+($t>>>26)|0,$t&=67108863,A=Math.imul(ce,me),v=Math.imul(ce,rt),v=v+Math.imul(pe,me)|0,E=Math.imul(pe,rt),A=A+Math.imul(G,ot)|0,v=v+Math.imul(G,pt)|0,v=v+Math.imul(z,ot)|0,E=E+Math.imul(z,pt)|0,A=A+Math.imul(J,St)|0,v=v+Math.imul(J,Rt)|0,v=v+Math.imul(Z,St)|0,E=E+Math.imul(Z,Rt)|0,A=A+Math.imul(L,De)|0,v=v+Math.imul(L,He)|0,v=v+Math.imul(Q,De)|0,E=E+Math.imul(Q,He)|0;var ut=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(ut>>>26)|0,ut&=67108863,A=Math.imul(ke,me),v=Math.imul(ke,rt),v=v+Math.imul(tt,me)|0,E=Math.imul(tt,rt),A=A+Math.imul(ce,ot)|0,v=v+Math.imul(ce,pt)|0,v=v+Math.imul(pe,ot)|0,E=E+Math.imul(pe,pt)|0,A=A+Math.imul(G,St)|0,v=v+Math.imul(G,Rt)|0,v=v+Math.imul(z,St)|0,E=E+Math.imul(z,Rt)|0,A=A+Math.imul(J,De)|0,v=v+Math.imul(J,He)|0,v=v+Math.imul(Z,De)|0,E=E+Math.imul(Z,He)|0,A=A+Math.imul(L,nt)|0,v=v+Math.imul(L,It)|0,v=v+Math.imul(Q,nt)|0,E=E+Math.imul(Q,It)|0;var Ot=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,A=Math.imul(we,me),v=Math.imul(we,rt),v=v+Math.imul(We,me)|0,E=Math.imul(We,rt),A=A+Math.imul(ke,ot)|0,v=v+Math.imul(ke,pt)|0,v=v+Math.imul(tt,ot)|0,E=E+Math.imul(tt,pt)|0,A=A+Math.imul(ce,St)|0,v=v+Math.imul(ce,Rt)|0,v=v+Math.imul(pe,St)|0,E=E+Math.imul(pe,Rt)|0,A=A+Math.imul(G,De)|0,v=v+Math.imul(G,He)|0,v=v+Math.imul(z,De)|0,E=E+Math.imul(z,He)|0,A=A+Math.imul(J,nt)|0,v=v+Math.imul(J,It)|0,v=v+Math.imul(Z,nt)|0,E=E+Math.imul(Z,It)|0,A=A+Math.imul(L,bt)|0,v=v+Math.imul(L,Je)|0,v=v+Math.imul(Q,bt)|0,E=E+Math.imul(Q,Je)|0;var Se=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Se>>>26)|0,Se&=67108863,A=Math.imul(Oe,me),v=Math.imul(Oe,rt),v=v+Math.imul(qe,me)|0,E=Math.imul(qe,rt),A=A+Math.imul(we,ot)|0,v=v+Math.imul(we,pt)|0,v=v+Math.imul(We,ot)|0,E=E+Math.imul(We,pt)|0,A=A+Math.imul(ke,St)|0,v=v+Math.imul(ke,Rt)|0,v=v+Math.imul(tt,St)|0,E=E+Math.imul(tt,Rt)|0,A=A+Math.imul(ce,De)|0,v=v+Math.imul(ce,He)|0,v=v+Math.imul(pe,De)|0,E=E+Math.imul(pe,He)|0,A=A+Math.imul(G,nt)|0,v=v+Math.imul(G,It)|0,v=v+Math.imul(z,nt)|0,E=E+Math.imul(z,It)|0,A=A+Math.imul(J,bt)|0,v=v+Math.imul(J,Je)|0,v=v+Math.imul(Z,bt)|0,E=E+Math.imul(Z,Je)|0,A=A+Math.imul(L,it)|0,v=v+Math.imul(L,Tt)|0,v=v+Math.imul(Q,it)|0,E=E+Math.imul(Q,Tt)|0;var be=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(ze,me),v=Math.imul(ze,rt),v=v+Math.imul(Ke,me)|0,E=Math.imul(Ke,rt),A=A+Math.imul(Oe,ot)|0,v=v+Math.imul(Oe,pt)|0,v=v+Math.imul(qe,ot)|0,E=E+Math.imul(qe,pt)|0,A=A+Math.imul(we,St)|0,v=v+Math.imul(we,Rt)|0,v=v+Math.imul(We,St)|0,E=E+Math.imul(We,Rt)|0,A=A+Math.imul(ke,De)|0,v=v+Math.imul(ke,He)|0,v=v+Math.imul(tt,De)|0,E=E+Math.imul(tt,He)|0,A=A+Math.imul(ce,nt)|0,v=v+Math.imul(ce,It)|0,v=v+Math.imul(pe,nt)|0,E=E+Math.imul(pe,It)|0,A=A+Math.imul(G,bt)|0,v=v+Math.imul(G,Je)|0,v=v+Math.imul(z,bt)|0,E=E+Math.imul(z,Je)|0,A=A+Math.imul(J,it)|0,v=v+Math.imul(J,Tt)|0,v=v+Math.imul(Z,it)|0,E=E+Math.imul(Z,Tt)|0,A=A+Math.imul(L,ee)|0,v=v+Math.imul(L,te)|0,v=v+Math.imul(Q,ee)|0,E=E+Math.imul(Q,te)|0;var Ee=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,A=Math.imul(Y,me),v=Math.imul(Y,rt),v=v+Math.imul(V,me)|0,E=Math.imul(V,rt),A=A+Math.imul(ze,ot)|0,v=v+Math.imul(ze,pt)|0,v=v+Math.imul(Ke,ot)|0,E=E+Math.imul(Ke,pt)|0,A=A+Math.imul(Oe,St)|0,v=v+Math.imul(Oe,Rt)|0,v=v+Math.imul(qe,St)|0,E=E+Math.imul(qe,Rt)|0,A=A+Math.imul(we,De)|0,v=v+Math.imul(we,He)|0,v=v+Math.imul(We,De)|0,E=E+Math.imul(We,He)|0,A=A+Math.imul(ke,nt)|0,v=v+Math.imul(ke,It)|0,v=v+Math.imul(tt,nt)|0,E=E+Math.imul(tt,It)|0,A=A+Math.imul(ce,bt)|0,v=v+Math.imul(ce,Je)|0,v=v+Math.imul(pe,bt)|0,E=E+Math.imul(pe,Je)|0,A=A+Math.imul(G,it)|0,v=v+Math.imul(G,Tt)|0,v=v+Math.imul(z,it)|0,E=E+Math.imul(z,Tt)|0,A=A+Math.imul(J,ee)|0,v=v+Math.imul(J,te)|0,v=v+Math.imul(Z,ee)|0,E=E+Math.imul(Z,te)|0,A=A+Math.imul(L,ie)|0,v=v+Math.imul(L,fe)|0,v=v+Math.imul(Q,ie)|0,E=E+Math.imul(Q,fe)|0;var Be=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(ne,me),v=Math.imul(ne,rt),v=v+Math.imul(le,me)|0,E=Math.imul(le,rt),A=A+Math.imul(Y,ot)|0,v=v+Math.imul(Y,pt)|0,v=v+Math.imul(V,ot)|0,E=E+Math.imul(V,pt)|0,A=A+Math.imul(ze,St)|0,v=v+Math.imul(ze,Rt)|0,v=v+Math.imul(Ke,St)|0,E=E+Math.imul(Ke,Rt)|0,A=A+Math.imul(Oe,De)|0,v=v+Math.imul(Oe,He)|0,v=v+Math.imul(qe,De)|0,E=E+Math.imul(qe,He)|0,A=A+Math.imul(we,nt)|0,v=v+Math.imul(we,It)|0,v=v+Math.imul(We,nt)|0,E=E+Math.imul(We,It)|0,A=A+Math.imul(ke,bt)|0,v=v+Math.imul(ke,Je)|0,v=v+Math.imul(tt,bt)|0,E=E+Math.imul(tt,Je)|0,A=A+Math.imul(ce,it)|0,v=v+Math.imul(ce,Tt)|0,v=v+Math.imul(pe,it)|0,E=E+Math.imul(pe,Tt)|0,A=A+Math.imul(G,ee)|0,v=v+Math.imul(G,te)|0,v=v+Math.imul(z,ee)|0,E=E+Math.imul(z,te)|0,A=A+Math.imul(J,ie)|0,v=v+Math.imul(J,fe)|0,v=v+Math.imul(Z,ie)|0,E=E+Math.imul(Z,fe)|0,A=A+Math.imul(L,ae)|0,v=v+Math.imul(L,ye)|0,v=v+Math.imul(Q,ae)|0,E=E+Math.imul(Q,ye)|0;var Ve=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A=Math.imul(ne,ot),v=Math.imul(ne,pt),v=v+Math.imul(le,ot)|0,E=Math.imul(le,pt),A=A+Math.imul(Y,St)|0,v=v+Math.imul(Y,Rt)|0,v=v+Math.imul(V,St)|0,E=E+Math.imul(V,Rt)|0,A=A+Math.imul(ze,De)|0,v=v+Math.imul(ze,He)|0,v=v+Math.imul(Ke,De)|0,E=E+Math.imul(Ke,He)|0,A=A+Math.imul(Oe,nt)|0,v=v+Math.imul(Oe,It)|0,v=v+Math.imul(qe,nt)|0,E=E+Math.imul(qe,It)|0,A=A+Math.imul(we,bt)|0,v=v+Math.imul(we,Je)|0,v=v+Math.imul(We,bt)|0,E=E+Math.imul(We,Je)|0,A=A+Math.imul(ke,it)|0,v=v+Math.imul(ke,Tt)|0,v=v+Math.imul(tt,it)|0,E=E+Math.imul(tt,Tt)|0,A=A+Math.imul(ce,ee)|0,v=v+Math.imul(ce,te)|0,v=v+Math.imul(pe,ee)|0,E=E+Math.imul(pe,te)|0,A=A+Math.imul(G,ie)|0,v=v+Math.imul(G,fe)|0,v=v+Math.imul(z,ie)|0,E=E+Math.imul(z,fe)|0,A=A+Math.imul(J,ae)|0,v=v+Math.imul(J,ye)|0,v=v+Math.imul(Z,ae)|0,E=E+Math.imul(Z,ye)|0;var Xe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,A=Math.imul(ne,St),v=Math.imul(ne,Rt),v=v+Math.imul(le,St)|0,E=Math.imul(le,Rt),A=A+Math.imul(Y,De)|0,v=v+Math.imul(Y,He)|0,v=v+Math.imul(V,De)|0,E=E+Math.imul(V,He)|0,A=A+Math.imul(ze,nt)|0,v=v+Math.imul(ze,It)|0,v=v+Math.imul(Ke,nt)|0,E=E+Math.imul(Ke,It)|0,A=A+Math.imul(Oe,bt)|0,v=v+Math.imul(Oe,Je)|0,v=v+Math.imul(qe,bt)|0,E=E+Math.imul(qe,Je)|0,A=A+Math.imul(we,it)|0,v=v+Math.imul(we,Tt)|0,v=v+Math.imul(We,it)|0,E=E+Math.imul(We,Tt)|0,A=A+Math.imul(ke,ee)|0,v=v+Math.imul(ke,te)|0,v=v+Math.imul(tt,ee)|0,E=E+Math.imul(tt,te)|0,A=A+Math.imul(ce,ie)|0,v=v+Math.imul(ce,fe)|0,v=v+Math.imul(pe,ie)|0,E=E+Math.imul(pe,fe)|0,A=A+Math.imul(G,ae)|0,v=v+Math.imul(G,ye)|0,v=v+Math.imul(z,ae)|0,E=E+Math.imul(z,ye)|0;var xe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ne,De),v=Math.imul(ne,He),v=v+Math.imul(le,De)|0,E=Math.imul(le,He),A=A+Math.imul(Y,nt)|0,v=v+Math.imul(Y,It)|0,v=v+Math.imul(V,nt)|0,E=E+Math.imul(V,It)|0,A=A+Math.imul(ze,bt)|0,v=v+Math.imul(ze,Je)|0,v=v+Math.imul(Ke,bt)|0,E=E+Math.imul(Ke,Je)|0,A=A+Math.imul(Oe,it)|0,v=v+Math.imul(Oe,Tt)|0,v=v+Math.imul(qe,it)|0,E=E+Math.imul(qe,Tt)|0,A=A+Math.imul(we,ee)|0,v=v+Math.imul(we,te)|0,v=v+Math.imul(We,ee)|0,E=E+Math.imul(We,te)|0,A=A+Math.imul(ke,ie)|0,v=v+Math.imul(ke,fe)|0,v=v+Math.imul(tt,ie)|0,E=E+Math.imul(tt,fe)|0,A=A+Math.imul(ce,ae)|0,v=v+Math.imul(ce,ye)|0,v=v+Math.imul(pe,ae)|0,E=E+Math.imul(pe,ye)|0;var Pe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,A=Math.imul(ne,nt),v=Math.imul(ne,It),v=v+Math.imul(le,nt)|0,E=Math.imul(le,It),A=A+Math.imul(Y,bt)|0,v=v+Math.imul(Y,Je)|0,v=v+Math.imul(V,bt)|0,E=E+Math.imul(V,Je)|0,A=A+Math.imul(ze,it)|0,v=v+Math.imul(ze,Tt)|0,v=v+Math.imul(Ke,it)|0,E=E+Math.imul(Ke,Tt)|0,A=A+Math.imul(Oe,ee)|0,v=v+Math.imul(Oe,te)|0,v=v+Math.imul(qe,ee)|0,E=E+Math.imul(qe,te)|0,A=A+Math.imul(we,ie)|0,v=v+Math.imul(we,fe)|0,v=v+Math.imul(We,ie)|0,E=E+Math.imul(We,fe)|0,A=A+Math.imul(ke,ae)|0,v=v+Math.imul(ke,ye)|0,v=v+Math.imul(tt,ae)|0,E=E+Math.imul(tt,ye)|0;var je=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(je>>>26)|0,je&=67108863,A=Math.imul(ne,bt),v=Math.imul(ne,Je),v=v+Math.imul(le,bt)|0,E=Math.imul(le,Je),A=A+Math.imul(Y,it)|0,v=v+Math.imul(Y,Tt)|0,v=v+Math.imul(V,it)|0,E=E+Math.imul(V,Tt)|0,A=A+Math.imul(ze,ee)|0,v=v+Math.imul(ze,te)|0,v=v+Math.imul(Ke,ee)|0,E=E+Math.imul(Ke,te)|0,A=A+Math.imul(Oe,ie)|0,v=v+Math.imul(Oe,fe)|0,v=v+Math.imul(qe,ie)|0,E=E+Math.imul(qe,fe)|0,A=A+Math.imul(we,ae)|0,v=v+Math.imul(we,ye)|0,v=v+Math.imul(We,ae)|0,E=E+Math.imul(We,ye)|0;var Ze=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,A=Math.imul(ne,it),v=Math.imul(ne,Tt),v=v+Math.imul(le,it)|0,E=Math.imul(le,Tt),A=A+Math.imul(Y,ee)|0,v=v+Math.imul(Y,te)|0,v=v+Math.imul(V,ee)|0,E=E+Math.imul(V,te)|0,A=A+Math.imul(ze,ie)|0,v=v+Math.imul(ze,fe)|0,v=v+Math.imul(Ke,ie)|0,E=E+Math.imul(Ke,fe)|0,A=A+Math.imul(Oe,ae)|0,v=v+Math.imul(Oe,ye)|0,v=v+Math.imul(qe,ae)|0,E=E+Math.imul(qe,ye)|0;var dt=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(dt>>>26)|0,dt&=67108863,A=Math.imul(ne,ee),v=Math.imul(ne,te),v=v+Math.imul(le,ee)|0,E=Math.imul(le,te),A=A+Math.imul(Y,ie)|0,v=v+Math.imul(Y,fe)|0,v=v+Math.imul(V,ie)|0,E=E+Math.imul(V,fe)|0,A=A+Math.imul(ze,ae)|0,v=v+Math.imul(ze,ye)|0,v=v+Math.imul(Ke,ae)|0,E=E+Math.imul(Ke,ye)|0;var ft=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(ft>>>26)|0,ft&=67108863,A=Math.imul(ne,ie),v=Math.imul(ne,fe),v=v+Math.imul(le,ie)|0,E=Math.imul(le,fe),A=A+Math.imul(Y,ae)|0,v=v+Math.imul(Y,ye)|0,v=v+Math.imul(V,ae)|0,E=E+Math.imul(V,ye)|0;var Ue=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,A=Math.imul(ne,ae),v=Math.imul(ne,ye),v=v+Math.imul(le,ae)|0,E=Math.imul(le,ye);var Ce=(P+A|0)+((v&8191)<<13)|0;return P=(E+(v>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,N[0]=Le,N[1]=Re,N[2]=$t,N[3]=ut,N[4]=Ot,N[5]=Se,N[6]=be,N[7]=Ee,N[8]=Be,N[9]=Ve,N[10]=Xe,N[11]=xe,N[12]=Pe,N[13]=je,N[14]=Ze,N[15]=dt,N[16]=ft,N[17]=Ue,N[18]=Ce,P!==0&&(N[19]=P,p.length++),p};Math.imul||(x=y);function k($,b,w){w.negative=b.negative^$.negative,w.length=$.length+b.length;for(var p=0,g=0,S=0;S<w.length-1;S++){var N=g;g=0;for(var P=p&67108863,A=Math.min(S,b.length-1),v=Math.max(0,S-$.length+1);v<=A;v++){var E=S-v,M=$.words[E]|0,L=b.words[v]|0,Q=M*L,U=Q&67108863;N=N+(Q/67108864|0)|0,U=U+P|0,P=U&67108863,N=N+(U>>>26)|0,g+=N>>>26,N&=67108863}w.words[S]=P,p=N,N=g}return p!==0?w.words[S]=p:w.length--,w.strip()}function C($,b,w){var p=new I;return p.mulp($,b,w)}i.prototype.mulTo=function(b,w){var p,g=this.length+b.length;return this.length===10&&b.length===10?p=x(this,b,w):g<63?p=y(this,b,w):g<1024?p=k(this,b,w):p=C(this,b,w),p};function I($,b){this.x=$,this.y=b}I.prototype.makeRBT=function(b){for(var w=new Array(b),p=i.prototype._countBits(b)-1,g=0;g<b;g++)w[g]=this.revBin(g,p,b);return w},I.prototype.revBin=function(b,w,p){if(b===0||b===p-1)return b;for(var g=0,S=0;S<w;S++)g|=(b&1)<<w-S-1,b>>=1;return g},I.prototype.permute=function(b,w,p,g,S,N){for(var P=0;P<N;P++)g[P]=w[b[P]],S[P]=p[b[P]]},I.prototype.transform=function(b,w,p,g,S,N){this.permute(N,b,w,p,g,S);for(var P=1;P<S;P<<=1)for(var A=P<<1,v=Math.cos(2*Math.PI/A),E=Math.sin(2*Math.PI/A),M=0;M<S;M+=A)for(var L=v,Q=E,U=0;U<P;U++){var J=p[M+U],Z=g[M+U],re=p[M+U+P],G=g[M+U+P],z=L*re-Q*G;G=L*G+Q*re,re=z,p[M+U]=J+re,g[M+U]=Z+G,p[M+U+P]=J-re,g[M+U+P]=Z-G,U!==A&&(z=v*L-E*Q,Q=v*Q+E*L,L=z)}},I.prototype.guessLen13b=function(b,w){var p=Math.max(w,b)|1,g=p&1,S=0;for(p=p/2|0;p;p=p>>>1)S++;return 1<<S+1+g},I.prototype.conjugate=function(b,w,p){if(!(p<=1))for(var g=0;g<p/2;g++){var S=b[g];b[g]=b[p-g-1],b[p-g-1]=S,S=w[g],w[g]=-w[p-g-1],w[p-g-1]=-S}},I.prototype.normalize13b=function(b,w){for(var p=0,g=0;g<w/2;g++){var S=Math.round(b[2*g+1]/w)*8192+Math.round(b[2*g]/w)+p;b[g]=S&67108863,S<67108864?p=0:p=S/67108864|0}return b},I.prototype.convert13b=function(b,w,p,g){for(var S=0,N=0;N<w;N++)S=S+(b[N]|0),p[2*N]=S&8191,S=S>>>13,p[2*N+1]=S&8191,S=S>>>13;for(N=2*w;N<g;++N)p[N]=0;n(S===0),n((S&-8192)===0)},I.prototype.stub=function(b){for(var w=new Array(b),p=0;p<b;p++)w[p]=0;return w},I.prototype.mulp=function(b,w,p){var g=2*this.guessLen13b(b.length,w.length),S=this.makeRBT(g),N=this.stub(g),P=new Array(g),A=new Array(g),v=new Array(g),E=new Array(g),M=new Array(g),L=new Array(g),Q=p.words;Q.length=g,this.convert13b(b.words,b.length,P,g),this.convert13b(w.words,w.length,E,g),this.transform(P,N,A,v,g,S),this.transform(E,N,M,L,g,S);for(var U=0;U<g;U++){var J=A[U]*M[U]-v[U]*L[U];v[U]=A[U]*L[U]+v[U]*M[U],A[U]=J}return this.conjugate(A,v,g),this.transform(A,v,Q,N,g,S),this.conjugate(Q,N,g),this.normalize13b(Q,g),p.negative=b.negative^w.negative,p.length=b.length+w.length,p.strip()},i.prototype.mul=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),this.mulTo(b,w)},i.prototype.mulf=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),C(this,b,w)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var w=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*b,S=(g&67108863)+(w&67108863);w>>=26,w+=g/67108864|0,w+=S>>>26,this.words[p]=S&67108863}return w!==0&&(this.words[p]=w,this.length++),this.length=b===0?1:this.length,this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var w=m(b);if(w.length===0)return new i(1);for(var p=this,g=0;g<w.length&&w[g]===0;g++,p=p.sqr());if(++g<w.length)for(var S=p.sqr();g<w.length;g++,S=S.sqr())w[g]!==0&&(p=p.mul(S));return p},i.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=67108863>>>26-w<<26-w,S;if(w!==0){var N=0;for(S=0;S<this.length;S++){var P=this.words[S]&g,A=(this.words[S]|0)-P<<w;this.words[S]=A|N,N=P>>>26-w}N&&(this.words[S]=N,this.length++)}if(p!==0){for(S=this.length-1;S>=0;S--)this.words[S+p]=this.words[S];for(S=0;S<p;S++)this.words[S]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,w,p){n(typeof b=="number"&&b>=0);var g;w?g=(w-w%26)/26:g=0;var S=b%26,N=Math.min((b-S)/26,this.length),P=67108863^67108863>>>S<<S,A=p;if(g-=N,g=Math.max(0,g),A){for(var v=0;v<N;v++)A.words[v]=this.words[v];A.length=N}if(N!==0)if(this.length>N)for(this.length-=N,v=0;v<this.length;v++)this.words[v]=this.words[v+N];else this.words[0]=0,this.length=1;var E=0;for(v=this.length-1;v>=0&&(E!==0||v>=g);v--){var M=this.words[v]|0;this.words[v]=E<<26-S|M>>>S,E=M&P}return A&&E!==0&&(A.words[A.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(b,w,p){return n(this.negative===0),this.iushrn(b,w,p)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return!1;var S=this.words[p];return!!(S&g)},i.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(w!==0&&p++,this.length=Math.min(p,this.length),w!==0){var g=67108863^67108863>>>w<<w;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,w,p){var g=b.length+p,S;this._expand(g);var N,P=0;for(S=0;S<b.length;S++){N=(this.words[S+p]|0)+P;var A=(b.words[S]|0)*w;N-=A&67108863,P=(N>>26)-(A/67108864|0),this.words[S+p]=N&67108863}for(;S<this.length-p;S++)N=(this.words[S+p]|0)+P,P=N>>26,this.words[S+p]=N&67108863;if(P===0)return this.strip();for(n(P===-1),P=0,S=0;S<this.length;S++)N=-(this.words[S]|0)+P,P=N>>26,this.words[S]=N&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(b,w){var p=this.length-b.length,g=this.clone(),S=b,N=S.words[S.length-1]|0,P=this._countBits(N);p=26-P,p!==0&&(S=S.ushln(p),g.iushln(p),N=S.words[S.length-1]|0);var A=g.length-S.length,v;if(w!=="mod"){v=new i(null),v.length=A+1,v.words=new Array(v.length);for(var E=0;E<v.length;E++)v.words[E]=0}var M=g.clone()._ishlnsubmul(S,1,A);M.negative===0&&(g=M,v&&(v.words[A]=1));for(var L=A-1;L>=0;L--){var Q=(g.words[S.length+L]|0)*67108864+(g.words[S.length+L-1]|0);for(Q=Math.min(Q/N|0,67108863),g._ishlnsubmul(S,Q,L);g.negative!==0;)Q--,g.negative=0,g._ishlnsubmul(S,1,L),g.isZero()||(g.negative^=1);v&&(v.words[L]=Q)}return v&&v.strip(),g.strip(),w!=="div"&&p!==0&&g.iushrn(p),{div:v||null,mod:g}},i.prototype.divmod=function(b,w,p){if(n(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,S,N;return this.negative!==0&&b.negative===0?(N=this.neg().divmod(b,w),w!=="mod"&&(g=N.div.neg()),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.iadd(b)),{div:g,mod:S}):this.negative===0&&b.negative!==0?(N=this.divmod(b.neg(),w),w!=="mod"&&(g=N.div.neg()),{div:g,mod:N.mod}):this.negative&b.negative?(N=this.neg().divmod(b.neg(),w),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.isub(b)),{div:N.div,mod:S}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?w==="div"?{div:this.divn(b.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modn(b.words[0]))}:this._wordDiv(b,w)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var w=this.divmod(b);if(w.mod.isZero())return w.div;var p=w.div.negative!==0?w.mod.isub(b):w.mod,g=b.ushrn(1),S=b.andln(1),N=p.cmp(g);return N<0||S===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modn=function(b){n(b<=67108863);for(var w=(1<<26)%b,p=0,g=this.length-1;g>=0;g--)p=(w*p+(this.words[g]|0))%b;return p},i.prototype.idivn=function(b){n(b<=67108863);for(var w=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+w*67108864;this.words[p]=g/b|0,w=g%b}return this.strip()},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=new i(0),P=new i(1),A=0;w.isEven()&&p.isEven();)w.iushrn(1),p.iushrn(1),++A;for(var v=p.clone(),E=w.clone();!w.isZero();){for(var M=0,L=1;!(w.words[0]&L)&&M<26;++M,L<<=1);if(M>0)for(w.iushrn(M);M-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(v),S.isub(E)),g.iushrn(1),S.iushrn(1);for(var Q=0,U=1;!(p.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(N.isOdd()||P.isOdd())&&(N.iadd(v),P.isub(E)),N.iushrn(1),P.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(N),S.isub(P)):(p.isub(w),N.isub(g),P.isub(S))}return{a:N,b:P,gcd:p.iushln(A)}},i.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=p.clone();w.cmpn(1)>0&&p.cmpn(1)>0;){for(var P=0,A=1;!(w.words[0]&A)&&P<26;++P,A<<=1);if(P>0)for(w.iushrn(P);P-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);for(var v=0,E=1;!(p.words[0]&E)&&v<26;++v,E<<=1);if(v>0)for(p.iushrn(v);v-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(S)):(p.isub(w),S.isub(g))}var M;return w.cmpn(1)===0?M=g:M=S,M.cmpn(0)<0&&M.iadd(b),M},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var w=this.clone(),p=b.clone();w.negative=0,p.negative=0;for(var g=0;w.isEven()&&p.isEven();g++)w.iushrn(1),p.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;p.isEven();)p.iushrn(1);var S=w.cmp(p);if(S<0){var N=w;w=p,p=N}else if(S===0||p.cmpn(1)===0)break;w.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){n(typeof b=="number");var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var S=g,N=p;S!==0&&N<this.length;N++){var P=this.words[N]|0;P+=S,S=P>>>26,P&=67108863,this.words[N]=P}return S!==0&&(this.words[N]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var w=b<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var p;if(this.length>1)p=1;else{w&&(b=-b),n(b<=67108863,"Number is too big");var g=this.words[0]|0;p=g===b?0:g<b?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var w=this.ucmp(b);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var w=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,S=b.words[p]|0;if(g!==S){g<S?w=-1:g>S&&(w=1);break}}return w},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new R(b)},i.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var _={k256:null,p224:null,p192:null,p25519:null};function O($,b){this.name=$,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},O.prototype.ireduce=function(b){var w=b,p;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),p=w.bitLength();while(p>this.n);var g=p<this.n?-1:w.ucmp(this.p);return g===0?(w.words[0]=0,w.length=1):g>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},O.prototype.split=function(b,w){b.iushrn(this.n,0,w)},O.prototype.imulK=function(b){return b.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,O),F.prototype.split=function(b,w){for(var p=4194303,g=Math.min(b.length,9),S=0;S<g;S++)w.words[S]=b.words[S];if(w.length=g,b.length<=9){b.words[0]=0,b.length=1;return}var N=b.words[9];for(w.words[w.length++]=N&p,S=10;S<b.length;S++){var P=b.words[S]|0;b.words[S-10]=(P&p)<<4|N>>>22,N=P}N>>>=22,b.words[S-10]=N,N===0&&b.length>10?b.length-=10:b.length-=9},F.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var w=0,p=0;p<b.length;p++){var g=b.words[p]|0;w+=g*977,b.words[p]=w&67108863,w=g*64+(w/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function D(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,O);function j(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,O);function T(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(T,O),T.prototype.imulK=function(b){for(var w=0,p=0;p<b.length;p++){var g=(b.words[p]|0)*19+w,S=g&67108863;g>>>=26,b.words[p]=S,w=g}return w!==0&&(b.words[b.length++]=w),b},i._prime=function(b){if(_[b])return _[b];var w;if(b==="k256")w=new F;else if(b==="p224")w=new D;else if(b==="p192")w=new j;else if(b==="p25519")w=new T;else throw new Error("Unknown prime "+b);return _[b]=w,w};function R($){if(typeof $=="string"){var b=i._prime($);this.m=b.p,this.prime=b}else n($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}R.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},R.prototype._verify2=function(b,w){n((b.negative|w.negative)===0,"red works only with positives"),n(b.red&&b.red===w.red,"red works only with red numbers")},R.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},R.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},R.prototype.add=function(b,w){this._verify2(b,w);var p=b.add(w);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},R.prototype.iadd=function(b,w){this._verify2(b,w);var p=b.iadd(w);return p.cmp(this.m)>=0&&p.isub(this.m),p},R.prototype.sub=function(b,w){this._verify2(b,w);var p=b.sub(w);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},R.prototype.isub=function(b,w){this._verify2(b,w);var p=b.isub(w);return p.cmpn(0)<0&&p.iadd(this.m),p},R.prototype.shl=function(b,w){return this._verify1(b),this.imod(b.ushln(w))},R.prototype.imul=function(b,w){return this._verify2(b,w),this.imod(b.imul(w))},R.prototype.mul=function(b,w){return this._verify2(b,w),this.imod(b.mul(w))},R.prototype.isqr=function(b){return this.imul(b,b.clone())},R.prototype.sqr=function(b){return this.mul(b,b)},R.prototype.sqrt=function(b){if(b.isZero())return b.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(b,p)}for(var g=this.m.subn(1),S=0;!g.isZero()&&g.andln(1)===0;)S++,g.iushrn(1);n(!g.isZero());var N=new i(1).toRed(this),P=N.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,A).cmp(P)!==0;)v.redIAdd(P);for(var E=this.pow(v,g),M=this.pow(b,g.addn(1).iushrn(1)),L=this.pow(b,g),Q=S;L.cmp(N)!==0;){for(var U=L,J=0;U.cmp(N)!==0;J++)U=U.redSqr();n(J<Q);var Z=this.pow(E,new i(1).iushln(Q-J-1));M=M.redMul(Z),E=Z.redSqr(),L=L.redMul(E),Q=J}return M},R.prototype.invm=function(b){var w=b._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(b,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return b.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=b;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],b);var N=g[0],P=0,A=0,v=w.bitLength()%26;for(v===0&&(v=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],M=v-1;M>=0;M--){var L=E>>M&1;if(N!==g[0]&&(N=this.sqr(N)),L===0&&P===0){A=0;continue}P<<=1,P|=L,A++,!(A!==p&&(S!==0||M!==0))&&(N=this.mul(N,g[P]),A=0,P=0)}v=26}return N},R.prototype.convertTo=function(b){var w=b.umod(this.m);return w===b?w.clone():w},R.prototype.convertFrom=function(b){var w=b.clone();return w.red=null,w},i.mont=function(b){return new q(b)};function q($){R.call(this,$),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,R),q.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},q.prototype.convertFrom=function(b){var w=this.imod(b.mul(this.rinv));return w.red=null,w},q.prototype.imul=function(b,w){if(b.isZero()||w.isZero())return b.words[0]=0,b.length=1,b;var p=b.imul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},q.prototype.mul=function(b,w){if(b.isZero()||w.isZero())return new i(0)._forceRed(this);var p=b.mul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},q.prototype.invm=function(b){var w=this.imod(b._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,Ds)})(hU);var Zh=hU.exports,RI={};(function(t){var e=t;function r(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var o=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)o[c]=i[c]|0;return o}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)o.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var l=i.charCodeAt(c),u=l>>8,f=l&255;u?o.push(u,f):o.push(f)}return o}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var a="",o=0;o<i.length;o++)a+=n(i[o].toString(16));return a}e.toHex=s,e.encode=function(a,o){return o==="hex"?s(a):a}})(RI);(function(t){var e=t,r=Zh,n=lm,s=RI;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(u,f,h){var m=new Array(Math.max(u.bitLength(),h)+1),y;for(y=0;y<m.length;y+=1)m[y]=0;var x=1<<f+1,k=u.clone();for(y=0;y<m.length;y++){var C,I=k.andln(x-1);k.isOdd()?(I>(x>>1)-1?C=(x>>1)-I:C=I,k.isubn(C)):C=0,m[y]=C,k.iushrn(1)}return m}e.getNAF=i;function a(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var m=0,y=0,x;u.cmpn(-m)>0||f.cmpn(-y)>0;){var k=u.andln(3)+m&3,C=f.andln(3)+y&3;k===3&&(k=-1),C===3&&(C=-1);var I;k&1?(x=u.andln(7)+m&7,(x===3||x===5)&&C===2?I=-k:I=k):I=0,h[0].push(I);var _;C&1?(x=f.andln(7)+y&7,(x===3||x===5)&&k===2?_=-C:_=C):_=0,h[1].push(_),2*m===I+1&&(m=1-m),2*y===_+1&&(y=1-y),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=a;function o(u,f,h){var m="_"+f;u.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l})(Ec);var pU={exports:{}},g_;pU.exports=function(e){return g_||(g_=new kp(null)),g_.generate(e)};function kp(t){this.rand=t}pU.exports.Rand=kp;kp.prototype.generate=function(e){return this._rand(e)};kp.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?kp.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?kp.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(kp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var SJ=z1;if(typeof SJ.randomBytes!="function")throw new Error("Not supported");kp.prototype._rand=function(e){return SJ.randomBytes(e)}}catch{}var DI=pU.exports,mU={},Om=Zh,T5=Ec,LS=T5.getNAF,vht=T5.getJSF,VS=T5.assert;function Am(t,e){this.type=t,this.p=new Om(e.p,16),this.red=e.prime?Om.red(e.prime):Om.mont(this.p),this.zero=new Om(0).toRed(this.red),this.one=new Om(1).toRed(this.red),this.two=new Om(2).toRed(this.red),this.n=e.n&&new Om(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var UI=Am;Am.prototype.point=function(){throw new Error("Not implemented")};Am.prototype.validate=function(){throw new Error("Not implemented")};Am.prototype._fixedNafMul=function(e,r){VS(e.precomputed);var n=e._getDoubles(),s=LS(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};Am.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=LS(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];VS(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Am.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var y=u-1,x=u;if(a[y]!==1||a[x]!==1){c[y]=LS(n[y],a[y],this._bitLength),c[x]=LS(n[x],a[x],this._bitLength),l=Math.max(c[y].length,l),l=Math.max(c[x].length,l);continue}var k=[r[y],null,null,r[x]];r[y].y.cmp(r[x].y)===0?(k[1]=r[y].add(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg())):r[y].y.cmp(r[x].y.redNeg())===0?(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].add(r[x].neg())):(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],I=vht(n[y],n[x]);for(l=Math.max(I[0].length,l),c[y]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=I[0][f]|0,O=I[1][f]|0;c[y][f]=C[(_+1)*3+(O+1)],c[x][f]=0,o[y]=k}}var F=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,F=F.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?F=F.mixedAdd(h):F=F.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?F:F.toP()};function _l(t,e){this.curve=t,this.type=e,this.precomputed=null}Am.BasePoint=_l;_l.prototype.eq=function(){throw new Error("Not implemented")};_l.prototype.validate=function(){return this.curve.validate(this)};Am.prototype.decodePoint=function(e,r){e=T5.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?VS(e[e.length-1]%2===0):e[0]===7&&VS(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};_l.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_l.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};_l.prototype.encode=function(e,r){return T5.encode(this._encode(r),e)};_l.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_l.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};_l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};_l.prototype._getBeta=function(){return null};_l.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var xht=Ec,Ps=Zh,gU=V1,jw=UI,wht=xht.assert;function Tl(t){jw.call(this,"short",t),this.a=new Ps(t.a,16).toRed(this.red),this.b=new Ps(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}gU(Tl,jw);var Aht=Tl;Tl.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ps(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new Ps(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],wht(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ps(o.a,16),b:new Ps(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Tl.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ps.mont(e),n=new Ps(2).toRed(r).redInvm(),s=n.redNeg(),i=new Ps(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};Tl.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new Ps(1),a=new Ps(0),o=new Ps(0),c=new Ps(1),l,u,f,h,m,y,x,k=0,C,I;n.cmpn(0)!==0;){var _=s.div(n);C=s.sub(_.mul(n)),I=o.sub(_.mul(i));var O=c.sub(_.mul(a));if(!f&&C.cmp(r)<0)l=x.neg(),u=i,f=C.neg(),h=I;else if(f&&++k===2)break;x=C,s=n,n=C,o=i,i=I,c=a,a=O}m=C.neg(),y=I;var F=f.sqr().add(h.sqr()),D=m.sqr().add(y.sqr());return D.cmp(F)>=0&&(m=l,y=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),y=y.neg()),[{a:f,b:h},{a:m,b:y}]};Tl.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Tl.prototype.pointFromX=function(e,r){e=new Ps(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};Tl.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Tl.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ei(t,e,r,n){jw.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ps(e,16),this.y=new Ps(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}gU(Ei,jw.BasePoint);Tl.prototype.point=function(e,r,n){return new Ei(this,e,r,n)};Tl.prototype.pointFromJSON=function(e,r){return Ei.fromJSON(this,e,r)};Ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ei.prototype.isInfinity=function(){return this.inf};Ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ei.prototype.getX=function(){return this.x.fromRed()};Ei.prototype.getY=function(){return this.y.fromRed()};Ei.prototype.mul=function(e){return e=new Ps(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ei.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ei.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function sa(t,e,r,n){jw.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ps(0)):(this.x=new Ps(e,16),this.y=new Ps(r,16),this.z=new Ps(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gU(sa,jw.BasePoint);Tl.prototype.jpoint=function(e,r,n){return new sa(this,e,r,n)};sa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};sa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};sa.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),y=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,y,x)};sa.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),y=this.z.redMul(o);return this.curve.jpoint(h,m,y)};sa.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=y.redSqr().redISub(x.redAdd(x)),C=x.redISub(k),I=y.redMul(C);I=I.redIAdd(I).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=I}return this.curve.jpoint(a,u.redMul(i),c)};sa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};sa.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(f).redISub(m);y=y.redIAdd(y);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),C=m.redIAdd(m);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(y).redISub(y),r=x.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};sa.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=y.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var C=h.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(x.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};sa.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,y,x)};sa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,y)};sa.prototype.mul=function(e,r){return e=new Ps(e,r),this.curve._wnafMul(this,e)};sa.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};sa.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};sa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};sa.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var by=Zh,Xge=V1,zI=UI,Sht=Ec;function Mw(t){zI.call(this,"mont",t),this.a=new by(t.a,16).toRed(this.red),this.b=new by(t.b,16).toRed(this.red),this.i4=new by(4).toRed(this.red).redInvm(),this.two=new by(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Xge(Mw,zI);var Pht=Mw;Mw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function ki(t,e,r){zI.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new by(e,16),this.z=new by(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Xge(ki,zI.BasePoint);Mw.prototype.decodePoint=function(e,r){return this.point(Sht.toArray(e,r),1)};Mw.prototype.point=function(e,r){return new ki(this,e,r)};Mw.prototype.pointFromJSON=function(e){return ki.fromJSON(this,e)};ki.prototype.precompute=function(){};ki.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ki.fromJSON=function(e,r){return new ki(e,r[0],r[1]||e.one)};ki.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ki.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ki.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),a=r.redMul(s),o=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)};ki.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ki.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),c=i.redMul(s),l=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(l,u)};ki.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};ki.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ki.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ki.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ki.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ki.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var kht=Ec,fh=Zh,Zge=V1,LI=UI,Iht=kht.assert;function gf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,LI.call(this,"edwards",t),this.a=new fh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Iht(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Zge(gf,LI);var Nht=gf;gf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};gf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};gf.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};gf.prototype.pointFromX=function(e,r){e=new fh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=s.redMul(i.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};gf.prototype.pointFromY=function(e,r){e=new fh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=s.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};gf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function Rn(t,e,r,n,s){LI.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fh(e,16),this.y=new fh(r,16),this.z=n?new fh(n,16):this.curve.one,this.t=s&&new fh(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Zge(Rn,LI.BasePoint);gf.prototype.pointFromJSON=function(e){return Rn.fromJSON(this,e)};gf.prototype.point=function(e,r,n,s){return new Rn(this,e,r,n,s)};Rn.fromJSON=function(e,r){return new Rn(e,r[0],r[1],r[2])};Rn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Rn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Rn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=s.redAdd(r),o=a.redSub(n),c=s.redSub(r),l=i.redMul(o),u=a.redMul(c),f=i.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,f)};Rn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,a,o,c,l;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(o.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),s=e.redSub(r).redISub(n).redMul(l),i=u.redMul(o.redSub(n)),a=u.redMul(l))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=o.redSub(c).redSub(c),s=this.curve._mulC(e.redISub(o)).redMul(l),i=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(l);return this.curve.point(s,i,a)};Rn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Rn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=i.redSub(s),c=i.redAdd(s),l=n.redAdd(r),u=a.redMul(o),f=c.redMul(l),h=a.redMul(l),m=o.redMul(c);return this.curve.point(u,f,m,h)};Rn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(i),o=n.redSub(a),c=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),u=r.redMul(o).redMul(l),f,h;return this.curve.twisted?(f=r.redMul(c).redMul(i.redSub(this.curve._mulA(s))),h=o.redMul(c)):(f=r.redMul(c).redMul(i.redSub(s)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,f,h)};Rn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Rn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Rn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Rn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Rn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Rn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Rn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Rn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Rn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Rn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Rn.prototype.toP=Rn.prototype.normalize;Rn.prototype.mixedAdd=Rn.prototype.add;(function(t){var e=t;e.base=UI,e.short=Aht,e.mont=Pht,e.edwards=Nht})(mU);var VI={},b_,PJ;function Eht(){return PJ||(PJ=1,b_={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),b_}(function(t){var e=t,r=L1,n=mU,s=Ec,i=s.assert;function a(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function o(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Eht()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(VI);var Cht=L1,i1=RI,Jge=lm;function sm(t){if(!(this instanceof sm))return new sm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i1.toArray(t.entropy,t.entropyEnc||"hex"),r=i1.toArray(t.nonce,t.nonceEnc||"hex"),n=i1.toArray(t.pers,t.persEnc||"hex");Jge(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Qge=sm;sm.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};sm.prototype._hmac=function(){return new Cht.hmac(this.hash,this.K)};sm.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sm.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=i1.toArray(e,r),n=i1.toArray(n,s),Jge(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};sm.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=i1.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,i1.encode(a,r)};var _ht=Zh,Tht=Ec,hO=Tht.assert;function Ra(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var jht=Ra;Ra.fromPublic=function(e,r,n){return r instanceof Ra?r:new Ra(e,{pub:r,pubEnc:n})};Ra.fromPrivate=function(e,r,n){return r instanceof Ra?r:new Ra(e,{priv:r,privEnc:n})};Ra.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ra.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ra.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ra.prototype._importPrivate=function(e,r){this.priv=new _ht(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ra.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?hO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&hO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ra.prototype.derive=function(e){return e.validate()||hO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ra.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ra.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ra.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var HS=Zh,bU=Ec,Mht=bU.assert;function HI(t,e){if(t instanceof HI)return t;this._importDER(t,e)||(Mht(t.r&&t.s,"Signature without r or s"),this.r=new HS(t.r,16),this.s=new HS(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var $ht=HI;function Oht(){this.place=0}function y_(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function kJ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}HI.prototype._importDER=function(e,r){e=bU.toArray(e,r);var n=new Oht;if(e[n.place++]!==48)return!1;var s=y_(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=y_(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=y_(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new HS(a),this.s=new HS(c),this.recoveryParam=null,!0};function v_(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}HI.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=kJ(r),n=kJ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];v_(s,r.length),s=s.concat(r),s.push(2),v_(s,n.length);var i=s.concat(n),a=[48];return v_(a,i.length),a=a.concat(i),bU.encode(a,e)};var a1=Zh,Yge=Qge,Bht=Ec,x_=VI,Fht=DI,Gge=Bht.assert,yU=jht,qI=$ht;function kl(t){if(!(this instanceof kl))return new kl(t);typeof t=="string"&&(Gge(Object.prototype.hasOwnProperty.call(x_,t),"Unknown curve "+t),t=x_[t]),t instanceof x_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Rht=kl;kl.prototype.keyPair=function(e){return new yU(this,e)};kl.prototype.keyFromPrivate=function(e,r){return yU.fromPrivate(this,e,r)};kl.prototype.keyFromPublic=function(e,r){return yU.fromPublic(this,e,r)};kl.prototype.genKeyPair=function(e){e||(e={});for(var r=new Yge({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fht(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new a1(2));;){var i=new a1(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};kl.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};kl.prototype.sign=function(e,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new a1(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=e.toArray("be",i),c=new Yge({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),l=this.n.sub(new a1(1)),u=0;;u++){var f=s.k?s.k(u):new a1(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var m=h.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var x=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var k=(h.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return s.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),k^=1),new qI({r:y,s:x,recoveryParam:k})}}}}}};kl.prototype.verify=function(e,r,n,s){e=this._truncateToN(new a1(e,16)),n=this.keyFromPublic(n,s),r=new qI(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),l=o.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};kl.prototype.recoverPubKey=function(t,e,r,n){Gge((3&r)===r,"The recovery param is more than two bits"),e=new qI(e,n);var s=this.n,i=new a1(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};kl.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new qI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var j5=Ec,e1e=j5.assert,IJ=j5.parseBytes,$w=j5.cachedProperty;function wi(t,e){this.eddsa=t,this._secret=IJ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=IJ(e.pub)}wi.fromPublic=function(e,r){return r instanceof wi?r:new wi(e,{pub:r})};wi.fromSecret=function(e,r){return r instanceof wi?r:new wi(e,{secret:r})};wi.prototype.secret=function(){return this._secret};$w(wi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});$w(wi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});$w(wi,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});$w(wi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});$w(wi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});$w(wi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});wi.prototype.sign=function(e){return e1e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};wi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};wi.prototype.getSecret=function(e){return e1e(this._secret,"KeyPair is public only"),j5.encode(this.secret(),e)};wi.prototype.getPublic=function(e){return j5.encode(this.pubBytes(),e)};var Dht=wi,Uht=Zh,WI=Ec,NJ=WI.assert,KI=WI.cachedProperty,zht=WI.parseBytes;function sb(t,e){this.eddsa=t,typeof e!="object"&&(e=zht(e)),Array.isArray(e)&&(NJ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),NJ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Uht&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}KI(sb,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});KI(sb,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});KI(sb,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});KI(sb,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});sb.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};sb.prototype.toHex=function(){return WI.encode(this.toBytes(),"hex").toUpperCase()};var Lht=sb,Vht=L1,Hht=VI,Kx=Ec,qht=Kx.assert,t1e=Kx.parseBytes,r1e=Dht,EJ=Lht;function zo(t){if(qht(t==="ed25519","only tested with ed25519 so far"),!(this instanceof zo))return new zo(t);t=Hht[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Vht.sha512}var Wht=zo;zo.prototype.sign=function(e,r){e=t1e(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=s.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};zo.prototype.verify=function(e,r,n){if(e=t1e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(s.pub().mul(i));return o.eq(a)};zo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Kx.intFromLE(e.digest()).umod(this.curve.n)};zo.prototype.keyFromPublic=function(e){return r1e.fromPublic(this,e)};zo.prototype.keyFromSecret=function(e){return r1e.fromSecret(this,e)};zo.prototype.makeSignature=function(e){return e instanceof EJ?e:new EJ(this,e)};zo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};zo.prototype.decodePoint=function(e){e=Kx.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=Kx.intFromLE(n);return this.curve.pointFromY(i,s)};zo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};zo.prototype.decodeInt=function(e){return Kx.intFromLE(e)};zo.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=yht.version,e.utils=Ec,e.rand=DI,e.curve=mU,e.curves=VI,e.ec=Rht,e.eddsa=Wht})(Kge);var Kht={};const Xht=":";function $7(t){const[e,r]=t.split(Xht);return{namespace:e,reference:r}}function n1e(t,e){return t.includes(":")?[t]:e.chains||[]}var Zht=Object.defineProperty,CJ=Object.getOwnPropertySymbols,Jht=Object.prototype.hasOwnProperty,Qht=Object.prototype.propertyIsEnumerable,_J=(t,e,r)=>e in t?Zht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TJ=(t,e)=>{for(var r in e||(e={}))Jht.call(e,r)&&_J(t,r,e[r]);if(CJ)for(var r of CJ(e))Qht.call(e,r)&&_J(t,r,e[r]);return t};const Yht="ReactNative",dc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Ght="js";function qS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ow(){return!xc()&&!!eb()&&navigator.product===Yht}function M5(){return!qS()&&!!eb()&&!!xc()}function $5(){return Ow()?dc.reactNative:qS()?dc.node:M5()?dc.browser:dc.unknown}function e0t(){var t;try{return Ow()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function t0t(t,e){let r=zh.parse(t);return r=TJ(TJ({},r),e),t=zh.stringify(r),t}function s1e(){return gI()||{name:"",description:"",url:"",icons:[""]}}function r0t(){if($5()===dc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=VD();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function n0t(){var t;const e=$5();return e===dc.browser?[e,((t=mI())==null?void 0:t.host)||"unknown"].join(":"):e}function i1e(t,e,r){const n=r0t(),s=n0t();return[[t,e].join("-"),[Ght,r].join("-"),n,s].join("/")}function s0t({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const c=r.split("?"),l=i1e(t,e,n),u={auth:s,ua:l,projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},f=t0t(c[1]||"",u);return c[0]+"?"+f}function yg(t,e){return t.filter(r=>e.includes(r)).length===t.length}function a1e(t){return Object.fromEntries(t.entries())}function o1e(t){return new Map(Object.entries(t))}function Zm(t=Me.FIVE_MINUTES,e){const r=Me.toMiliseconds(t||Me.FIVE_MINUTES);let n,s,i;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,o)=>{i=setTimeout(()=>{o(new Error(e))},r),n=a,s=o})}}function Jy(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function c1e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function i0t(t){return c1e("topic",t)}function a0t(t){return c1e("id",t)}function l1e(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Vs(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function L0(t){return Date.now()>=Me.toMiliseconds(t)}function $r(t,e){return`${t}${e?`:${e}`:""}`}function o0t(t=[],e=[]){return[...new Set([...t,...e])]}async function c0t({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const a=l0t(i,t,e),o=$5();if(o===dc.browser){if(!((n=xc())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,d0t()?"_blank":"_self","noreferrer noopener")}else o===dc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(s){console.error(s)}}function l0t(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${f0t(n,!0)}`}else s=`${s}/wc?${n}`;return s}async function u0t(t,e){let r="";try{if(M5()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function jJ(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function MJ(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function vU(){return typeof process<"u"&&Kht.IS_VITEST==="true"}function d0t(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function f0t(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function u1e(t){return Buffer.from(t,"base64").toString("utf-8")}const h0t="https://rpc.walletconnect.org/v1";async function p0t(t,e,r,n,s,i){switch(r.t){case"eip191":return m0t(t,e,r.s);case"eip1271":return await g0t(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function m0t(t,e,r){return qft(Uge(e),r).toLowerCase()===t.toLowerCase()}async function g0t(t,e,r,n,s,i){const a=$7(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const o="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=Uge(e).substring(2),h=o+f+c+l+u,m=await fetch(`${i||h0t}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:b0t(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:y}=await m.json();return y?y.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function b0t(){return Date.now()+Math.floor(Math.random()*1e3)}var y0t=Object.defineProperty,v0t=Object.defineProperties,x0t=Object.getOwnPropertyDescriptors,$J=Object.getOwnPropertySymbols,w0t=Object.prototype.hasOwnProperty,A0t=Object.prototype.propertyIsEnumerable,OJ=(t,e,r)=>e in t?y0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S0t=(t,e)=>{for(var r in e||(e={}))w0t.call(e,r)&&OJ(t,r,e[r]);if($J)for(var r of $J(e))A0t.call(e,r)&&OJ(t,r,e[r]);return t},P0t=(t,e)=>v0t(t,x0t(e));const k0t="did:pkh:",xU=t=>t==null?void 0:t.split(":"),I0t=t=>{const e=t&&xU(t);if(e)return t.includes(k0t)?e[3]:e[1]},pO=t=>{const e=t&&xU(t);if(e)return e[2]+":"+e[3]},WS=t=>{const e=t&&xU(t);if(e)return e.pop()};async function BJ(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=d1e(s,s.iss),a=WS(s.iss);return await p0t(a,i,n,pO(s.iss),r)}const d1e=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=WS(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${I0t(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(x=>`
- ${x}`).join("")}`:void 0,y=O7(t.resources);if(y){const x=a4(y);s=O0t(s,x)}return[r,n,"",s,"",i,a,o,c,l,u,f,h,m].filter(x=>x!=null).join(`
`)};function N0t(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function E0t(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function M1(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${a}`)})})})}function C0t(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:_0t(e,r,n)}}}function _0t(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function f1e(t){return M1(t),`urn:recap:${N0t(t).replace(/=/g,"")}`}function a4(t){const e=E0t(t.replace("urn:recap:",""));return M1(e),e}function T0t(t,e,r){const n=C0t(t,e,r);return f1e(n)}function j0t(t){return t&&t.includes("urn:recap:")}function M0t(t,e){const r=a4(t),n=a4(e),s=$0t(r,n);return f1e(s)}function $0t(t,e){M1(t),M1(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,a;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[s])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,l;n.att[s]=P0t(S0t({},n.att[s]),{[o]:((c=t.att[s])==null?void 0:c[o])||((l=e.att[s])==null?void 0:l[o])})})}),n}function O0t(t="",e){M1(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(o=>{const c=Object.keys(e.att[o]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,h)=>f.action.localeCompare(h.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${o}'.`));n.push(u.join(", ").replace(".,","."))});const i=n.join(" "),a=`${r}${i}`;return`${t?t+" ":""}${a}`}function FJ(t){var e;const r=a4(t);M1(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function RJ(t){const e=a4(t);M1(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function O7(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return j0t(e)?e:void 0}const h1e="base10",ro="base16",Ip="base64pad",A2="base64url",O5="utf8",p1e=0,Sh=1,B5=2,B0t=0,DJ=1,M3=12,wU=32;function F0t(){const t=_5.generateKeyPair();return{privateKey:xi(t.secretKey,ro),publicKey:xi(t.publicKey,ro)}}function mO(){const t=Ic.randomBytes(wU);return xi(t,ro)}function R0t(t,e){const r=_5.sharedKey(bi(t,ro),bi(e,ro),!0),n=new Wge(mf.SHA256,r).expand(wU);return xi(n,ro)}function B7(t){const e=mf.hash(bi(t,ro));return xi(e,ro)}function Wf(t){const e=mf.hash(bi(t,O5));return xi(e,ro)}function m1e(t){return bi(`${t}`,h1e)}function $1(t){return Number(xi(t,h1e))}function D0t(t){const e=m1e(typeof t.type<"u"?t.type:p1e);if($1(e)===Sh&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?bi(t.senderPublicKey,ro):void 0,n=typeof t.iv<"u"?bi(t.iv,ro):Ic.randomBytes(M3),s=new E5.ChaCha20Poly1305(bi(t.symKey,ro)).seal(n,bi(t.message,O5));return g1e({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function U0t(t,e){const r=m1e(B5),n=Ic.randomBytes(M3),s=bi(t,O5);return g1e({type:r,sealed:s,iv:n,encoding:e})}function z0t(t){const e=new E5.ChaCha20Poly1305(bi(t.symKey,ro)),{sealed:r,iv:n}=o4({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return xi(s,O5)}function L0t(t,e){const{sealed:r}=o4({encoded:t,encoding:e});return xi(r,O5)}function g1e(t){const{encoding:e=Ip}=t;if($1(t.type)===B5)return xi(M7([t.type,t.sealed]),e);if($1(t.type)===Sh){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return xi(M7([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return xi(M7([t.type,t.iv,t.sealed]),e)}function o4(t){const{encoded:e,encoding:r=Ip}=t,n=bi(e,r),s=n.slice(B0t,DJ),i=DJ;if($1(s)===Sh){const l=i+wU,u=l+M3,f=n.slice(i,l),h=n.slice(l,u),m=n.slice(u);return{type:s,sealed:m,iv:h,senderPublicKey:f}}if($1(s)===B5){const l=n.slice(i),u=Ic.randomBytes(M3);return{type:s,sealed:l,iv:u}}const a=i+M3,o=n.slice(i,a),c=n.slice(a);return{type:s,sealed:c,iv:o}}function V0t(t,e){const r=o4({encoded:t,encoding:e==null?void 0:e.encoding});return b1e({type:$1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?xi(r.senderPublicKey,ro):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function b1e(t){const e=(t==null?void 0:t.type)||p1e;if(e===Sh){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function UJ(t){return t.type===Sh&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function zJ(t){return t.type===B5}function H0t(t){return new Kge.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function q0t(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function W0t(t){return Buffer.from(q0t(t),"base64")}function K0t(t,e){const[r,n,s]=t.split("."),i=W0t(s);if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32).toString("hex"),o=i.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new mf.SHA256().update(Buffer.from(c)).digest(),u=H0t(e),f=Buffer.from(l).toString("hex");if(!u.verify(f,{r:a,s:o}))throw new Error("Invalid signature");return uO(t).payload}const X0t="irn";function gO(t){return(t==null?void 0:t.relay)||{protocol:X0t}}function o3(t){const e=WD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Z0t=Object.defineProperty,J0t=Object.defineProperties,Q0t=Object.getOwnPropertyDescriptors,LJ=Object.getOwnPropertySymbols,Y0t=Object.prototype.hasOwnProperty,G0t=Object.prototype.propertyIsEnumerable,VJ=(t,e,r)=>e in t?Z0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HJ=(t,e)=>{for(var r in e||(e={}))Y0t.call(e,r)&&VJ(t,r,e[r]);if(LJ)for(var r of LJ(e))G0t.call(e,r)&&VJ(t,r,e[r]);return t},ept=(t,e)=>J0t(t,Q0t(e));function tpt(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function qJ(t){if(!t.includes("wc:")){const c=u1e(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=zh.parse(i),o=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:rpt(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:tpt(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function rpt(t){return t.startsWith("//")?t.substring(2):t}function npt(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=r+e+s;t[s]&&(n[i]=t[s])}),n}function WJ(t){return`${t.protocol}:${t.topic}@${t.version}?`+zh.stringify(HJ(ept(HJ({symKey:t.symKey},npt(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function I9(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Bw(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function spt(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Bw(r.accounts))}),e}function ipt(t,e){const r=[];return Object.values(t).forEach(n=>{Bw(n.accounts).includes(e)&&r.push(...n.methods)}),r}function apt(t,e){const r=[];return Object.values(t).forEach(n=>{Bw(n.accounts).includes(e)&&r.push(...n.events)}),r}function opt(t){const e={};return t==null||t.forEach(r=>{const[n,s]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${s}`)}),e}function KJ(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=opt(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=o0t(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}const cpt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},lpt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Mt(t,e){const{message:r,code:n}=lpt[t];return{message:e?`${r} ${e}`:r,code:n}}function Cn(t,e){const{message:r,code:n}=cpt[t];return{message:e?`${r} ${e}`:r,code:n}}function F5(t,e){return!!Array.isArray(t)}function KS(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Co(t){return typeof t>"u"}function Cs(t,e){return e&&Co(t)?!0:typeof t=="string"&&!!t.trim().length}function AU(t,e){return typeof t=="number"&&!isNaN(t)}function upt(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return yg(s,n)?(n.forEach(a=>{const{accounts:o,methods:c,events:l}=t.namespaces[a],u=Bw(o),f=r[a];(!yg(n1e(a,f),u)||!yg(f.methods,c)||!yg(f.events,l))&&(i=!1)}),i):!1}function XS(t){return Cs(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function dpt(t){if(Cs(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&XS(r)}}return!1}function fpt(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Cs(t,!1)){if(e(t))return!0;const r=u1e(t);return e(r)}}catch{}return!1}function hpt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function ppt(t){return t==null?void 0:t.topic}function mpt(t,e){let r=null;return Cs(t==null?void 0:t.publicKey,!1)||(r=Mt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function XJ(t){let e=!0;return F5(t)?t.length&&(e=t.every(r=>Cs(r,!1))):e=!1,e}function gpt(t,e,r){let n=null;return F5(e)&&e.length?e.forEach(s=>{n||XS(s)||(n=Cn("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):XS(t)||(n=Cn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function bpt(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const a=gpt(s,n1e(s,i),`${e} ${r}`);a&&(n=a)}),n}function ypt(t,e){let r=null;return F5(t)?t.forEach(n=>{r||dpt(n)||(r=Cn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Cn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function vpt(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=ypt(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function xpt(t,e){let r=null;return XJ(t==null?void 0:t.methods)?XJ(t==null?void 0:t.events)||(r=Cn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Cn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function y1e(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=xpt(n,`${e}, namespace`);s&&(r=s)}),r}function wpt(t,e,r){let n=null;if(t&&KS(t)){const s=y1e(t,e);s&&(n=s);const i=bpt(t,e,r);i&&(n=i)}else n=Mt("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function w_(t,e){let r=null;if(t&&KS(t)){const n=y1e(t,e);n&&(r=n);const s=vpt(t,e);s&&(r=s)}else r=Mt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function v1e(t){return Cs(t.protocol,!0)}function Apt(t,e){let r=!1;return t?t&&F5(t)&&t.length&&t.forEach(n=>{r=v1e(n)}):r=!0,r}function Spt(t){return typeof t=="number"}function vo(t){return typeof t<"u"&&typeof t!==null}function Ppt(t){return!(!t||typeof t!="object"||!t.code||!AU(t.code)||!t.message||!Cs(t.message,!1))}function kpt(t){return!(Co(t)||!Cs(t.method,!1))}function Ipt(t){return!(Co(t)||Co(t.result)&&Co(t.error)||!AU(t.id)||!Cs(t.jsonrpc,!1))}function Npt(t){return!(Co(t)||!Cs(t.name,!1))}function ZJ(t,e){return!(!XS(e)||!spt(t).includes(e))}function Ept(t,e,r){return Cs(r,!1)?ipt(t,e).includes(r):!1}function Cpt(t,e,r){return Cs(r,!1)?apt(t,e).includes(r):!1}function JJ(t,e,r){let n=null;const s=_pt(t),i=Tpt(e),a=Object.keys(s),o=Object.keys(i),c=QJ(Object.keys(t)),l=QJ(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Mt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),yg(a,o)||(n=Mt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=Bw(e[f].accounts);h.includes(f)||(n=Mt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),a.forEach(f=>{n||(yg(s[f].methods,i[f].methods)?yg(s[f].events,i[f].events)||(n=Mt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Mt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function _pt(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function QJ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Tpt(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Bw(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function jpt(t,e){return AU(t)&&t<=e.max&&t>=e.min}function YJ(){const t=$5();return new Promise(e=>{switch(t){case dc.browser:e(Mpt());break;case dc.reactNative:e($pt());break;case dc.node:e(Opt());break;default:e(!0)}})}function Mpt(){return M5()&&(navigator==null?void 0:navigator.onLine)}async function $pt(){if(Ow()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Opt(){return!0}function Bpt(t){switch($5()){case dc.browser:Fpt(t);break;case dc.reactNative:Rpt(t);break}}function Fpt(t){!Ow()&&M5()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Rpt(t){Ow()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const A_={};class S2{static get(e){return A_[e]}static set(e,r){A_[e]=r}static delete(e){delete A_[e]}}const Dpt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Upt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",GJ=t=>t.split("?")[0],eQ=10,zpt=Dpt();let Lpt=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Js(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=new URLSearchParams(e).get("origin"),i=NI.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!iU(e)},a=new zpt(e,[],i);Upt()?a.onerror=o=>{const c=o;n(this.emitError(c.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Pi(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=vm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return sU(e,GJ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eQ&&this.events.setMaxListeners(eQ)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${GJ(this.url)}`));return this.events.emit("register_error",r),r}};var ZS={exports:{}};ZS.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",y="[object GeneratorFunction]",x="[object Map]",k="[object Number]",C="[object Null]",I="[object Object]",_="[object Promise]",O="[object Proxy]",F="[object RegExp]",D="[object Set]",j="[object String]",T="[object Symbol]",R="[object Undefined]",q="[object WeakMap]",$="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",p="[object Float64Array]",g="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",A="[object Uint8ClampedArray]",v="[object Uint16Array]",E="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,U={};U[w]=U[p]=U[g]=U[S]=U[N]=U[P]=U[A]=U[v]=U[E]=!0,U[o]=U[c]=U[$]=U[u]=U[b]=U[f]=U[h]=U[m]=U[x]=U[k]=U[I]=U[F]=U[D]=U[j]=U[q]=!1;var J=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,Z=typeof self=="object"&&self&&self.Object===Object&&self,re=J||Z||Function("return this")(),G=e&&!e.nodeType&&e,z=G&&!0&&t&&!t.nodeType&&t,se=z&&z.exports===G,ce=se&&J.process,pe=function(){try{return ce&&ce.binding&&ce.binding("util")}catch{}}(),_e=pe&&pe.isTypedArray;function ke(ue,$e){for(var vt=-1,Vt=ue==null?0:ue.length,zn=0,Pr=[];++vt<Vt;){var ms=ue[vt];$e(ms,vt,ue)&&(Pr[zn++]=ms)}return Pr}function tt(ue,$e){for(var vt=-1,Vt=$e.length,zn=ue.length;++vt<Vt;)ue[zn+vt]=$e[vt];return ue}function mt(ue,$e){for(var vt=-1,Vt=ue==null?0:ue.length;++vt<Vt;)if($e(ue[vt],vt,ue))return!0;return!1}function we(ue,$e){for(var vt=-1,Vt=Array(ue);++vt<ue;)Vt[vt]=$e(vt);return Vt}function We(ue){return function($e){return ue($e)}}function Ae(ue,$e){return ue.has($e)}function Oe(ue,$e){return ue==null?void 0:ue[$e]}function qe(ue){var $e=-1,vt=Array(ue.size);return ue.forEach(function(Vt,zn){vt[++$e]=[zn,Vt]}),vt}function Fe(ue,$e){return function(vt){return ue($e(vt))}}function ze(ue){var $e=-1,vt=Array(ue.size);return ue.forEach(function(Vt){vt[++$e]=Vt}),vt}var Ke=Array.prototype,ct=Function.prototype,Y=Object.prototype,V=re["__core-js_shared__"],W=ct.toString,ne=Y.hasOwnProperty,le=function(){var ue=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return ue?"Symbol(src)_1."+ue:""}(),de=Y.toString,me=RegExp("^"+W.call(ne).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=se?re.Buffer:void 0,ht=re.Symbol,ot=re.Uint8Array,pt=Y.propertyIsEnumerable,_t=Ke.splice,St=ht?ht.toStringTag:void 0,Rt=Object.getOwnPropertySymbols,sr=rt?rt.isBuffer:void 0,De=Fe(Object.keys,Object),He=bn(re,"DataView"),gt=bn(re,"Map"),nt=bn(re,"Promise"),It=bn(re,"Set"),Ut=bn(re,"WeakMap"),bt=bn(Object,"create"),Je=Pm(He),Pt=Pm(gt),it=Pm(nt),Tt=Pm(It),X=Pm(Ut),ee=ht?ht.prototype:void 0,te=ee?ee.valueOf:void 0;function H(ue){var $e=-1,vt=ue==null?0:ue.length;for(this.clear();++$e<vt;){var Vt=ue[$e];this.set(Vt[0],Vt[1])}}function ie(){this.__data__=bt?bt(null):{},this.size=0}function fe(ue){var $e=this.has(ue)&&delete this.__data__[ue];return this.size-=$e?1:0,$e}function Ie(ue){var $e=this.__data__;if(bt){var vt=$e[ue];return vt===n?void 0:vt}return ne.call($e,ue)?$e[ue]:void 0}function ae(ue){var $e=this.__data__;return bt?$e[ue]!==void 0:ne.call($e,ue)}function ye(ue,$e){var vt=this.__data__;return this.size+=this.has(ue)?0:1,vt[ue]=bt&&$e===void 0?n:$e,this}H.prototype.clear=ie,H.prototype.delete=fe,H.prototype.get=Ie,H.prototype.has=ae,H.prototype.set=ye;function Le(ue){var $e=-1,vt=ue==null?0:ue.length;for(this.clear();++$e<vt;){var Vt=ue[$e];this.set(Vt[0],Vt[1])}}function Re(){this.__data__=[],this.size=0}function $t(ue){var $e=this.__data__,vt=yt($e,ue);if(vt<0)return!1;var Vt=$e.length-1;return vt==Vt?$e.pop():_t.call($e,vt,1),--this.size,!0}function ut(ue){var $e=this.__data__,vt=yt($e,ue);return vt<0?void 0:$e[vt][1]}function Ot(ue){return yt(this.__data__,ue)>-1}function Se(ue,$e){var vt=this.__data__,Vt=yt(vt,ue);return Vt<0?(++this.size,vt.push([ue,$e])):vt[Vt][1]=$e,this}Le.prototype.clear=Re,Le.prototype.delete=$t,Le.prototype.get=ut,Le.prototype.has=Ot,Le.prototype.set=Se;function be(ue){var $e=-1,vt=ue==null?0:ue.length;for(this.clear();++$e<vt;){var Vt=ue[$e];this.set(Vt[0],Vt[1])}}function Ee(){this.size=0,this.__data__={hash:new H,map:new(gt||Le),string:new H}}function Be(ue){var $e=Jr(this,ue).delete(ue);return this.size-=$e?1:0,$e}function Ve(ue){return Jr(this,ue).get(ue)}function Xe(ue){return Jr(this,ue).has(ue)}function xe(ue,$e){var vt=Jr(this,ue),Vt=vt.size;return vt.set(ue,$e),this.size+=vt.size==Vt?0:1,this}be.prototype.clear=Ee,be.prototype.delete=Be,be.prototype.get=Ve,be.prototype.has=Xe,be.prototype.set=xe;function Pe(ue){var $e=-1,vt=ue==null?0:ue.length;for(this.__data__=new be;++$e<vt;)this.add(ue[$e])}function je(ue){return this.__data__.set(ue,n),this}function Ze(ue){return this.__data__.has(ue)}Pe.prototype.add=Pe.prototype.push=je,Pe.prototype.has=Ze;function dt(ue){var $e=this.__data__=new Le(ue);this.size=$e.size}function ft(){this.__data__=new Le,this.size=0}function Ue(ue){var $e=this.__data__,vt=$e.delete(ue);return this.size=$e.size,vt}function Ce(ue){return this.__data__.get(ue)}function et(ue){return this.__data__.has(ue)}function Qe(ue,$e){var vt=this.__data__;if(vt instanceof Le){var Vt=vt.__data__;if(!gt||Vt.length<r-1)return Vt.push([ue,$e]),this.size=++vt.size,this;vt=this.__data__=new be(Vt)}return vt.set(ue,$e),this.size=vt.size,this}dt.prototype.clear=ft,dt.prototype.delete=Ue,dt.prototype.get=Ce,dt.prototype.has=et,dt.prototype.set=Qe;function at(ue,$e){var vt=q5(ue),Vt=!vt&&Kbe(ue),zn=!vt&&!Vt&&uN(ue),Pr=!vt&&!Vt&&!zn&&WU(ue),ms=vt||Vt||zn||Pr,ri=ms?we(ue.length,String):[],_i=ri.length;for(var rs in ue)ne.call(ue,rs)&&!(ms&&(rs=="length"||zn&&(rs=="offset"||rs=="parent")||Pr&&(rs=="buffer"||rs=="byteLength"||rs=="byteOffset")||Gs(rs,_i)))&&ri.push(rs);return ri}function yt(ue,$e){for(var vt=ue.length;vt--;)if(LU(ue[vt][0],$e))return vt;return-1}function Yt(ue,$e,vt){var Vt=$e(ue);return q5(ue)?Vt:tt(Vt,vt(ue))}function cr(ue){return ue==null?ue===void 0?R:C:St&&St in Object(ue)?Jn(ue):Wbe(ue)}function pr(ue){return zw(ue)&&cr(ue)==o}function hr(ue,$e,vt,Vt,zn){return ue===$e?!0:ue==null||$e==null||!zw(ue)&&!zw($e)?ue!==ue&&$e!==$e:ge(ue,$e,vt,Vt,hr,zn)}function ge(ue,$e,vt,Vt,zn,Pr){var ms=q5(ue),ri=q5($e),_i=ms?c:vn(ue),rs=ri?c:vn($e);_i=_i==o?I:_i,rs=rs==o?I:rs;var qo=_i==I,$l=rs==I,ca=_i==rs;if(ca&&uN(ue)){if(!uN($e))return!1;ms=!0,qo=!1}if(ca&&!qo)return Pr||(Pr=new dt),ms||WU(ue)?gr(ue,$e,vt,Vt,zn,Pr):Fr(ue,$e,_i,vt,Vt,zn,Pr);if(!(vt&s)){var Tc=qo&&ne.call(ue,"__wrapped__"),jc=$l&&ne.call($e,"__wrapped__");if(Tc||jc){var Qh=Tc?ue.value():ue,yf=jc?$e.value():$e;return Pr||(Pr=new dt),zn(Qh,yf,vt,Vt,Pr)}}return ca?(Pr||(Pr=new dt),Rr(ue,$e,vt,Vt,zn,Pr)):!1}function Sr(ue){if(!qU(ue)||ti(ue))return!1;var $e=VU(ue)?me:L;return $e.test(Pm(ue))}function Lr(ue){return zw(ue)&&HU(ue.length)&&!!U[cr(ue)]}function Vr(ue){if(!qbe(ue))return De(ue);var $e=[];for(var vt in Object(ue))ne.call(ue,vt)&&vt!="constructor"&&$e.push(vt);return $e}function gr(ue,$e,vt,Vt,zn,Pr){var ms=vt&s,ri=ue.length,_i=$e.length;if(ri!=_i&&!(ms&&_i>ri))return!1;var rs=Pr.get(ue);if(rs&&Pr.get($e))return rs==$e;var qo=-1,$l=!0,ca=vt&i?new Pe:void 0;for(Pr.set(ue,$e),Pr.set($e,ue);++qo<ri;){var Tc=ue[qo],jc=$e[qo];if(Vt)var Qh=ms?Vt(jc,Tc,qo,$e,ue,Pr):Vt(Tc,jc,qo,ue,$e,Pr);if(Qh!==void 0){if(Qh)continue;$l=!1;break}if(ca){if(!mt($e,function(yf,km){if(!Ae(ca,km)&&(Tc===yf||zn(Tc,yf,vt,Vt,Pr)))return ca.push(km)})){$l=!1;break}}else if(!(Tc===jc||zn(Tc,jc,vt,Vt,Pr))){$l=!1;break}}return Pr.delete(ue),Pr.delete($e),$l}function Fr(ue,$e,vt,Vt,zn,Pr,ms){switch(vt){case b:if(ue.byteLength!=$e.byteLength||ue.byteOffset!=$e.byteOffset)return!1;ue=ue.buffer,$e=$e.buffer;case $:return!(ue.byteLength!=$e.byteLength||!Pr(new ot(ue),new ot($e)));case u:case f:case k:return LU(+ue,+$e);case h:return ue.name==$e.name&&ue.message==$e.message;case F:case j:return ue==$e+"";case x:var ri=qe;case D:var _i=Vt&s;if(ri||(ri=ze),ue.size!=$e.size&&!_i)return!1;var rs=ms.get(ue);if(rs)return rs==$e;Vt|=i,ms.set(ue,$e);var qo=gr(ri(ue),ri($e),Vt,zn,Pr,ms);return ms.delete(ue),qo;case T:if(te)return te.call(ue)==te.call($e)}return!1}function Rr(ue,$e,vt,Vt,zn,Pr){var ms=vt&s,ri=Zn(ue),_i=ri.length,rs=Zn($e),qo=rs.length;if(_i!=qo&&!ms)return!1;for(var $l=_i;$l--;){var ca=ri[$l];if(!(ms?ca in $e:ne.call($e,ca)))return!1}var Tc=Pr.get(ue);if(Tc&&Pr.get($e))return Tc==$e;var jc=!0;Pr.set(ue,$e),Pr.set($e,ue);for(var Qh=ms;++$l<_i;){ca=ri[$l];var yf=ue[ca],km=$e[ca];if(Vt)var KU=ms?Vt(km,yf,ca,$e,ue,Pr):Vt(yf,km,ca,ue,$e,Pr);if(!(KU===void 0?yf===km||zn(yf,km,vt,Vt,Pr):KU)){jc=!1;break}Qh||(Qh=ca=="constructor")}if(jc&&!Qh){var W5=ue.constructor,K5=$e.constructor;W5!=K5&&"constructor"in ue&&"constructor"in $e&&!(typeof W5=="function"&&W5 instanceof W5&&typeof K5=="function"&&K5 instanceof K5)&&(jc=!1)}return Pr.delete(ue),Pr.delete($e),jc}function Zn(ue){return Yt(ue,Jbe,Qn)}function Jr(ue,$e){var vt=ue.__data__;return ei($e)?vt[typeof $e=="string"?"string":"hash"]:vt.map}function bn(ue,$e){var vt=Oe(ue,$e);return Sr(vt)?vt:void 0}function Jn(ue){var $e=ne.call(ue,St),vt=ue[St];try{ue[St]=void 0;var Vt=!0}catch{}var zn=de.call(ue);return Vt&&($e?ue[St]=vt:delete ue[St]),zn}var Qn=Rt?function(ue){return ue==null?[]:(ue=Object(ue),ke(Rt(ue),function($e){return pt.call(ue,$e)}))}:Qbe,vn=cr;(He&&vn(new He(new ArrayBuffer(1)))!=b||gt&&vn(new gt)!=x||nt&&vn(nt.resolve())!=_||It&&vn(new It)!=D||Ut&&vn(new Ut)!=q)&&(vn=function(ue){var $e=cr(ue),vt=$e==I?ue.constructor:void 0,Vt=vt?Pm(vt):"";if(Vt)switch(Vt){case Je:return b;case Pt:return x;case it:return _;case Tt:return D;case X:return q}return $e});function Gs(ue,$e){return $e=$e??a,!!$e&&(typeof ue=="number"||Q.test(ue))&&ue>-1&&ue%1==0&&ue<$e}function ei(ue){var $e=typeof ue;return $e=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?ue!=="__proto__":ue===null}function ti(ue){return!!le&&le in ue}function qbe(ue){var $e=ue&&ue.constructor,vt=typeof $e=="function"&&$e.prototype||Y;return ue===vt}function Wbe(ue){return de.call(ue)}function Pm(ue){if(ue!=null){try{return W.call(ue)}catch{}try{return ue+""}catch{}}return""}function LU(ue,$e){return ue===$e||ue!==ue&&$e!==$e}var Kbe=pr(function(){return arguments}())?pr:function(ue){return zw(ue)&&ne.call(ue,"callee")&&!pt.call(ue,"callee")},q5=Array.isArray;function Xbe(ue){return ue!=null&&HU(ue.length)&&!VU(ue)}var uN=sr||Ybe;function Zbe(ue,$e){return hr(ue,$e)}function VU(ue){if(!qU(ue))return!1;var $e=cr(ue);return $e==m||$e==y||$e==l||$e==O}function HU(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=a}function qU(ue){var $e=typeof ue;return ue!=null&&($e=="object"||$e=="function")}function zw(ue){return ue!=null&&typeof ue=="object"}var WU=_e?We(_e):Lr;function Jbe(ue){return Xbe(ue)?at(ue):Vr(ue)}function Qbe(){return[]}function Ybe(){return!1}t.exports=Zbe})(ZS,ZS.exports);var Vpt=ZS.exports;const x1e=La(Vpt),w1e="wc",A1e=2,SU="core",af=`${w1e}@2:${SU}:`,Hpt={name:SU,logger:"error"},qpt={database:":memory:"},Wpt="crypto",tQ="client_ed25519_seed",Kpt=Me.ONE_DAY,Xpt="keychain",Zpt="0.3",Jpt="messages",Qpt="0.3",Ypt=Me.SIX_HOURS,Gpt="publisher",S1e="irn",emt="error",P1e="wss://relay.walletconnect.org",tmt="relayer",Za={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},rmt="_subscription",Lc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nmt=.1,bO="2.17.1",En={link_mode:"link_mode",relay:"relay"},smt="0.3",imt="WALLETCONNECT_CLIENT_ID",rQ="WALLETCONNECT_LINK_MODE_APPS",nd={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},amt="subscription",omt="0.3",cmt=Me.FIVE_SECONDS*1e3,lmt="pairing",umt="0.3",P2={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},tg={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ul={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},dmt="history",fmt="0.3",hmt="expirer",Zc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},pmt="0.3",mmt="verify-api",gmt="https://verify.walletconnect.com",k1e="https://verify.walletconnect.org",$3=k1e,bmt=`${$3}/v3`,ymt=[gmt,k1e],vmt="echo",xmt="https://echo.walletconnect.com",td={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ff={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Bm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Fm={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},k2={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},wmt=.1,Amt="event-client",Smt=86400,Pmt="https://pulse.walletconnect.org/batch";function kmt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var Imt=kmt,Nmt=Imt;const I1e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Emt=t=>new TextEncoder().encode(t),Cmt=t=>new TextDecoder().decode(t);let _mt=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Tmt=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return N1e(this,e)}},jmt=class{constructor(e){this.decoders=e}or(e){return N1e(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const N1e=(t,e)=>new jmt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Mmt=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new _mt(e,r,n),this.decoder=new Tmt(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const XI=({name:t,prefix:e,encode:r,decode:n})=>new Mmt(t,e,r,n),R5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=Nmt(r,e);return XI({prefix:t,name:e,encode:n,decode:i=>I1e(s(i))})},$mt=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Omt=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},ia=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>XI({prefix:e,name:t,encode(s){return Omt(s,n,r)},decode(s){return $mt(s,n,r,t)}}),Bmt=XI({prefix:"\0",name:"identity",encode:t=>Cmt(t),decode:t=>Emt(t)});var Fmt=Object.freeze({__proto__:null,identity:Bmt});const Rmt=ia({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dmt=Object.freeze({__proto__:null,base2:Rmt});const Umt=ia({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var zmt=Object.freeze({__proto__:null,base8:Umt});const Lmt=R5({prefix:"9",name:"base10",alphabet:"0123456789"});var Vmt=Object.freeze({__proto__:null,base10:Lmt});const Hmt=ia({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qmt=ia({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wmt=Object.freeze({__proto__:null,base16:Hmt,base16upper:qmt});const Kmt=ia({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xmt=ia({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zmt=ia({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jmt=ia({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qmt=ia({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ymt=ia({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gmt=ia({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),egt=ia({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tgt=ia({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var rgt=Object.freeze({__proto__:null,base32:Kmt,base32upper:Xmt,base32pad:Zmt,base32padupper:Jmt,base32hex:Qmt,base32hexupper:Ymt,base32hexpad:Gmt,base32hexpadupper:egt,base32z:tgt});const ngt=R5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sgt=R5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var igt=Object.freeze({__proto__:null,base36:ngt,base36upper:sgt});const agt=R5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ogt=R5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var cgt=Object.freeze({__proto__:null,base58btc:agt,base58flickr:ogt});const lgt=ia({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ugt=ia({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dgt=ia({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fgt=ia({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hgt=Object.freeze({__proto__:null,base64:lgt,base64pad:ugt,base64url:dgt,base64urlpad:fgt});const E1e=Array.from(""),pgt=E1e.reduce((t,e,r)=>(t[r]=e,t),[]),mgt=E1e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ggt(t){return t.reduce((e,r)=>(e+=pgt[r],e),"")}function bgt(t){const e=[];for(const r of t){const n=mgt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const ygt=XI({prefix:"",name:"base256emoji",encode:ggt,decode:bgt});var vgt=Object.freeze({__proto__:null,base256emoji:ygt}),xgt=C1e,nQ=128,wgt=127,Agt=~wgt,Sgt=Math.pow(2,31);function C1e(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Sgt;)e[r++]=t&255|nQ,t/=128;for(;t&Agt;)e[r++]=t&255|nQ,t>>>=7;return e[r]=t|0,C1e.bytes=r-n+1,e}var Pgt=yO,kgt=128,sQ=127;function yO(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw yO.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&sQ)<<s:(a&sQ)*Math.pow(2,s),s+=7}while(a>=kgt);return yO.bytes=i-n,r}var Igt=Math.pow(2,7),Ngt=Math.pow(2,14),Egt=Math.pow(2,21),Cgt=Math.pow(2,28),_gt=Math.pow(2,35),Tgt=Math.pow(2,42),jgt=Math.pow(2,49),Mgt=Math.pow(2,56),$gt=Math.pow(2,63),Ogt=function(t){return t<Igt?1:t<Ngt?2:t<Egt?3:t<Cgt?4:t<_gt?5:t<Tgt?6:t<jgt?7:t<Mgt?8:t<$gt?9:10},Bgt={encode:xgt,decode:Pgt,encodingLength:Ogt},_1e=Bgt;const iQ=(t,e,r=0)=>(_1e.encode(t,e,r),e),aQ=t=>_1e.encodingLength(t),vO=(t,e)=>{const r=e.byteLength,n=aQ(t),s=n+aQ(r),i=new Uint8Array(s+r);return iQ(t,i,0),iQ(r,i,n),i.set(e,s),new Fgt(t,r,e,i)};let Fgt=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const T1e=({name:t,code:e,encode:r})=>new Rgt(t,e,r);let Rgt=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?vO(this.code,r):r.then(n=>vO(this.code,n))}else throw Error("Unknown type, must be binary type")}};const j1e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Dgt=T1e({name:"sha2-256",code:18,encode:j1e("SHA-256")}),Ugt=T1e({name:"sha2-512",code:19,encode:j1e("SHA-512")});var zgt=Object.freeze({__proto__:null,sha256:Dgt,sha512:Ugt});const M1e=0,Lgt="identity",$1e=I1e,Vgt=t=>vO(M1e,$1e(t)),Hgt={code:M1e,name:Lgt,encode:$1e,digest:Vgt};var qgt=Object.freeze({__proto__:null,identity:Hgt});new TextEncoder,new TextDecoder;const oQ={...Fmt,...Dmt,...zmt,...Vmt,...Wmt,...rgt,...igt,...cgt,...hgt,...vgt};({...zgt,...qgt});function Wgt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function O1e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const cQ=O1e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),S_=O1e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Wgt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Kgt={utf8:cQ,"utf-8":cQ,hex:oQ.base16,latin1:S_,ascii:S_,binary:S_,...oQ};function Xgt(t,e="utf8"){const r=Kgt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}let Zgt=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Xpt,this.version=Zpt,this.initialized=!1,this.storagePrefix=af,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=Mt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=fo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,a1e(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?o1e(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},Jgt=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=Wpt,this.randomSessionIdentifier=mO(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=bJ(s);return Rge(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=F0t();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),a=bJ(i),o=this.randomSessionIdentifier;return await Bft(o,s,Kpt,a)},this.generateSharedKey=(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=R0t(o,i);return this.setSymKey(c,a)},this.setSymKey=async(s,i)=>{this.isInitialized();const a=i||B7(s);return await this.keychain.set(a,s),a},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,a)=>{this.isInitialized();const o=b1e(a),c=Js(i);if(zJ(o))return U0t(c,a==null?void 0:a.encoding);if(UJ(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return D0t({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})},this.decode=async(s,i,a)=>{this.isInitialized();const o=V0t(i,a);if(zJ(o)){const c=L0t(i,a==null?void 0:a.encoding);return Pi(c)}if(UJ(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=z0t({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Pi(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(s,i=Ip)=>{const a=o4({encoded:s,encoding:i});return $1(a.type)},this.getPayloadSenderPublicKey=(s,i=Ip)=>{const a=o4({encoded:s,encoding:i});return a.senderPublicKey?xi(a.senderPublicKey,ro):void 0},this.core=e,this.logger=fo(r,this.name),this.keychain=n||new Zgt(this.core,this.logger)}get context(){return Vo(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tQ)}catch{e=mO(),await this.keychain.set(tQ,e)}return Xgt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},Qgt=class extends hft{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=Jpt,this.version=Qpt,this.initialized=!1,this.storagePrefix=af,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=Wf(s);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[i]<"u"||(a[i]=s,this.messages.set(n,a),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),a=Wf(s);return typeof i[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=fo(e,this.name),this.core=r}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,a1e(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?o1e(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ygt=class extends pft{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Un.EventEmitter,this.name=Gpt,this.queue=new Map,this.publishTimeout=Me.toMiliseconds(Me.ONE_MINUTE),this.failedPublishTimeout=Me.toMiliseconds(Me.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const o=(i==null?void 0:i.ttl)||Ypt,c=gO(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||ml().toString(),h={topic:n,message:s,opts:{ttl:o,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation}},m=`Failed to publish payload, please try again. id:${f} tag:${u}`,y=Date.now();let x,k=1;try{for(;x===void 0;){if(Date.now()-y>this.publishTimeout)throw new Error(m);this.logger.trace({id:f,attempts:k},`publisher.publish - attempt ${k}`),x=await await Jy(this.rpcPublish(n,s,o,c,l,u,f,i==null?void 0:i.attestation).catch(C=>this.logger.warn(C)),this.publishTimeout,m),k++,x||await new Promise(C=>setTimeout(C,this.failedPublishTimeout))}this.relayer.events.emit(Za.publish,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:s,opts:i}})}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw C;this.queue.set(f,h)}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=fo(r,this.name),this.registerEventListeners()}get context(){return Vo(this.logger)}rpcPublish(e,r,n,s,i,a,o,c){var l,u,f,h;const m={method:o3(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:i,tag:a,attestation:c},id:o};return Co((l=m.params)==null?void 0:l.prompt)&&((u=m.params)==null||delete u.prompt),Co((f=m.params)==null?void 0:f.tag)&&((h=m.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.request(m)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Za.connection_stalled);return}this.checkQueue()}),this.relayer.on(Za.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},Ggt=class{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var e1t=Object.defineProperty,t1t=Object.defineProperties,r1t=Object.getOwnPropertyDescriptors,lQ=Object.getOwnPropertySymbols,n1t=Object.prototype.hasOwnProperty,s1t=Object.prototype.propertyIsEnumerable,uQ=(t,e,r)=>e in t?e1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I2=(t,e)=>{for(var r in e||(e={}))n1t.call(e,r)&&uQ(t,r,e[r]);if(lQ)for(var r of lQ(e))s1t.call(e,r)&&uQ(t,r,e[r]);return t},P_=(t,e)=>t1t(t,r1t(e));let i1t=class extends bft{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new Ggt,this.events=new Un.EventEmitter,this.name=amt,this.version=omt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=af,this.subscribeTimeout=Me.toMiliseconds(Me.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=gO(s),a={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,a);const o=await this.rpcSubscribe(n,i,s);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const s=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((i,a)=>{const o=new Me.Watch;o.start(s);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),o.stop(s),i(!0)),o.elapsed(s)>=cmt&&(clearInterval(c),o.stop(s),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=fo(r,this.name),this.clientId=""}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=gO(n);await this.rpcUnsubscribe(e,r,s);const i=Cn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(n==null?void 0:n.transportType)===En.relay&&await this.restartToComplete();const i={method:o3(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const a=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const o=Wf(e+this.clientId);if((n==null?void 0:n.transportType)===En.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(l=>this.logger.warn(l))},Me.toMiliseconds(Me.ONE_SECOND)),o;const c=await Jy(this.relayer.request(i).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Za.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:o3(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Jy(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Za.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:o3(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Jy(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Za.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:o3(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,P_(I2({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,I2({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,I2({},r)),this.topicMap.set(r.topic,e),this.events.emit(nd.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Mt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(nd.deleted,P_(I2({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(nd.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(nd.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);F5(r)&&this.onBatchSubscribe(r.map((n,s)=>P_(I2({},e[s]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(nd.created,async e=>{const r=nd.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(nd.deleted,async e=>{const r=nd.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}};var a1t=Object.defineProperty,dQ=Object.getOwnPropertySymbols,o1t=Object.prototype.hasOwnProperty,c1t=Object.prototype.propertyIsEnumerable,fQ=(t,e,r)=>e in t?a1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hQ=(t,e)=>{for(var r in e||(e={}))o1t.call(e,r)&&fQ(t,r,e[r]);if(dQ)for(var r of dQ(e))c1t.call(e,r)&&fQ(t,r,e[r]);return t};let l1t=class extends mft{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Un.EventEmitter,this.name=tmt,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Me.toMiliseconds(Me.THIRTY_SECONDS+Me.ONE_SECOND),this.request=async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||ml().toString();await this.toEstablishConnection();try{const a=this.provider.request(r);this.requestsInFlight.set(i,{promise:a,request:r}),this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const o=await new Promise(async(c,l)=>{const u=()=>{l(new Error(`relayer.request - publish interrupted, id: ${i}`))};this.provider.on(Lc.disconnect,u);const f=await a;this.provider.off(Lc.disconnect,u),c(f)});return this.logger.trace({id:i,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - published"),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(qS())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s;(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||s.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Za.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Za.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Lc.payload,this.onPayloadHandler),this.provider.on(Lc.connect,this.onConnectHandler),this.provider.on(Lc.disconnect,this.onDisconnectHandler),this.provider.on(Lc.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?fo(e.logger,this.name):OI(dU({level:e.logger||emt})),this.messages=new Qgt(this.logger,e.core),this.subscriber=new i1t(this,this.logger),this.publisher=new Ygt(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||P1e,this.projectId=e.projectId,this.bundleId=e0t(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Vo(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:En.relay})}async subscribe(e,r){var n,s,i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(nd.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(nd.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,hQ({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Jy(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const s=()=>{this.provider.off(Lc.disconnect,s),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Lc.disconnect,s),await Jy(this.provider.connect(),Me.toMiliseconds(Me.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{n(i)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(i=>{this.logger.error(i),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await YJ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=Vs(Me.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(Za.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,s,i;if(qS())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new aU(new Lpt(s0t({sdkVersion:bO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),xm(e)){if(!e.method.endsWith(rmt))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:En.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(hQ({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xh(e)&&this.events.emit(Za.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Za.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=ym(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Lc.payload,this.onPayloadHandler),this.provider.off(Lc.connect,this.onConnectHandler),this.provider.off(Lc.disconnect,this.onDisconnectHandler),this.provider.off(Lc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await YJ();Bpt(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Za.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},Me.toMiliseconds(nmt))))}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}};var u1t=Object.defineProperty,pQ=Object.getOwnPropertySymbols,d1t=Object.prototype.hasOwnProperty,f1t=Object.prototype.propertyIsEnumerable,mQ=(t,e,r)=>e in t?u1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gQ=(t,e)=>{for(var r in e||(e={}))d1t.call(e,r)&&mQ(t,r,e[r]);if(pQ)for(var r of pQ(e))f1t.call(e,r)&&mQ(t,r,e[r]);return t};let ib=class extends gft{constructor(e,r,n,s=af,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=smt,this.cached=[],this.initialized=!1,this.storagePrefix=af,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Co(a)?this.map.set(this.getKey(a),a):hpt(a)?this.map.set(a.id,a):ppt(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>x1e(o[c],a[c]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=gQ(gQ({},this.getData(a)),o);this.map.set(a,c),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())},this.logger=fo(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=Mt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=Mt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},h1t=class{constructor(e,r){this.core=e,this.logger=r,this.name=lmt,this.version=umt,this.events=new q4,this.initialized=!1,this.storagePrefix=af,this.ignoredPayloadTypes=[Sh],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const s=mO(),i=await this.core.crypto.setSymKey(s),a=Vs(Me.FIVE_MINUTES),o={protocol:S1e},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=WJ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(tg.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:l}},this.pair=async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[td.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=qJ(n.uri);s.props.properties.topic=i,s.addTrace(td.pairing_uri_validation_success),s.addTrace(td.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(td.existing_pairing),u.active)throw s.setError(Ff.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(td.pairing_not_expired)}const f=c||Vs(Me.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(td.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(tg.create,h),s.addTrace(td.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(td.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Ff.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(Ff.subscribe_pairing_topic_failure),m}return s.addTrace(td.subscribe_pairing_topic_success),h},this.activate=async({topic:n})=>{this.isInitialized();const s=Vs(Me.THIRTY_DAYS);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Zm();this.events.once($r("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Cn("USER_DISCONNECTED")),await this.deletePairing(s))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return WJ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})},this.sendRequest=async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=P2[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id},this.sendResult=async(n,s,i)=>{const a=ym(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=P2[c.request.method].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.sendError=async(n,s,i)=>{const a=vm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=P2[c.request.method]?P2[c.request.method].res:P2.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Cn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>L0(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(tg.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit($r("pairing_ping",i),{}):Ri(s)&&this.events.emit($r("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(tg.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=Cn("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Cn("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,s)=>{var i;if(!vo(n)){const{message:o}=Mt("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(Ff.malformed_pairing_uri),new Error(o)}if(!fpt(n.uri)){const{message:o}=Mt("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(Ff.malformed_pairing_uri),new Error(o)}const a=qJ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=Mt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Ff.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=Mt("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Ff.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Me.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(Ff.pairing_expired);const{message:o}=Mt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!vo(n)){const{message:i}=Mt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!vo(n)){const{message:i}=Mt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!Cs(n,!1)){const{message:s}=Mt("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Mt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(L0(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Mt("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=fo(r,this.name),this.pairings=new ib(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Vo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Za.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(!this.pairings.keys.includes(r)||s===En.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{xm(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Xh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Zc.expired,async e=>{const{topic:r}=l1e(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(tg.expire,{topic:r}))})}},p1t=class extends fft{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Un.EventEmitter,this.name=dmt,this.version=fmt,this.cached=[],this.initialized=!1,this.storagePrefix=af,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:Vs(Me.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ul.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ul.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ul.deleted,i)}}),this.persist()},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=fo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Mt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ul.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ul.created,e=>{const r=Ul.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ul.updated,e=>{const r=Ul.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ul.deleted,e=>{const r=Ul.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Me.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ul.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},m1t=class extends yft{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Un.EventEmitter,this.name=hmt,this.version=pmt,this.cached=[],this.initialized=!1,this.storagePrefix=af,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Zc.created,{target:i,expiration:a})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Zc.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=fo(r,this.name)}get context(){return Vo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return i0t(e);if(typeof e=="number")return a0t(e);const{message:r}=Mt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Mt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Mt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Me.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Zc.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(Zc.created,e=>{const r=Zc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zc.expired,e=>{const r=Zc.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zc.deleted,e=>{const r=Zc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}},g1t=class extends vft{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=mmt,this.verifyUrlV3=bmt,this.storagePrefix=af,this.version=A1e,this.init=async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async s=>{if(!M5()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer(Me.ONE_SECOND*5),f=await new Promise((h,m)=>{const y=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",y,{signal:this.abortController.signal});const k=C=>{if(C.data&&typeof C.data=="string")try{const I=JSON.parse(C.data);if(I.type==="verify_attestation"){if(uO(I.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",k),h(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""},this.resolve=async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(uO(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)},this.fetchAttestation=async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer(Me.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0},this.getVerifyUrl=s=>{let i=s||$3;return ymt.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${$3}`),i=$3),i},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Me.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}},this.persistPublicKey=async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s},this.validateAttestation=(s,i)=>{const a=K0t(s,i.publicKey),o={hasExpired:Me.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}},this.logger=fo(r,this.name),this.abortController=new AbortController,this.isDevEnv=vU(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Vo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}},b1t=class extends xft{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=vmt,this.registerDeviceToken=async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${xmt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})},this.logger=fo(r,this.context)}};var y1t=Object.defineProperty,bQ=Object.getOwnPropertySymbols,v1t=Object.prototype.hasOwnProperty,x1t=Object.prototype.propertyIsEnumerable,yQ=(t,e,r)=>e in t?y1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N2=(t,e)=>{for(var r in e||(e={}))v1t.call(e,r)&&yQ(t,r,e[r]);if(bQ)for(var r of bQ(e))x1t.call(e,r)&&yQ(t,r,e[r]);return t};let w1t=class extends wft{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=Amt,this.storagePrefix=af,this.storageVersion=wmt,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!vU())try{const s={eventId:MJ(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:i1e(this.core.relayer.protocol,this.core.relayer.version,bO)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}},this.createEvent=s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=MJ(),u=this.core.projectId||"",f=Date.now(),h=N2({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return N2(N2({},o),this.setMethods(o.eventId))},this.deleteEvent=s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(s.timestamp)>Smt&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})},this.setMethods=s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)}),this.addTrace=(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)},this.setError=(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,N2(N2({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}},this.sendEvent=async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Pmt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${bO}${i}`,{method:"POST",body:JSON.stringify(s)})},this.getAppDomain=()=>s1e().url,this.logger=fo(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var A1t=Object.defineProperty,vQ=Object.getOwnPropertySymbols,S1t=Object.prototype.hasOwnProperty,P1t=Object.prototype.propertyIsEnumerable,xQ=(t,e,r)=>e in t?A1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wQ=(t,e)=>{for(var r in e||(e={}))S1t.call(e,r)&&xQ(t,r,e[r]);if(vQ)for(var r of vQ(e))P1t.call(e,r)&&xQ(t,r,e[r]);return t};let k1t=class B1e extends dft{constructor(e){var r;super(e),this.protocol=w1e,this.version=A1e,this.name=SU,this.events=new Un.EventEmitter,this.initialized=!1,this.on=(a,o)=>this.events.on(a,o),this.once=(a,o)=>this.events.once(a,o),this.off=(a,o)=>this.events.off(a,o),this.removeListener=(a,o)=>this.events.removeListener(a,o),this.dispatchEnvelope=({topic:a,message:o,sessionExists:c})=>{if(!a||!o)return;const l={topic:a,message:o,publishedAt:Date.now(),transportType:En.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||P1e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=dU({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Hpt.logger}),{logger:s,chunkLoggerController:i}=uft({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,o;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((o=this.logChunkController)==null||o.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=fo(s,this.name),this.heartbeat=new ND,this.crypto=new Jgt(this,this.logger,e==null?void 0:e.keychain),this.history=new p1t(this,this.logger),this.expirer=new m1t(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ddt(wQ(wQ({},qpt),e==null?void 0:e.storageOptions)),this.relayer=new l1t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new h1t(this,this.logger),this.verify=new g1t(this,this.logger,this.storage),this.echoClient=new b1t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new w1t(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new B1e(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(imt,n),r}get context(){return Vo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rQ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(rQ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const I1t=k1t,F1e="wc",R1e=2,D1e="client",PU=`${F1e}@${R1e}:${D1e}:`,k_={name:D1e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},AQ="WALLETCONNECT_DEEPLINK_CHOICE",N1t="proposal",E1t="Proposal expired",C1t="session",Ib=Me.SEVEN_DAYS,_1t="engine",ai={wc_sessionPropose:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1119}}},I_={min:Me.FIVE_MINUTES,max:Me.SEVEN_DAYS},Qu={idle:"IDLE",active:"ACTIVE"},T1t="request",j1t=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],M1t="wc",$1t="auth",O1t="authKeys",B1t="pairingTopics",F1t="requests",ZI=`${M1t}@${1.5}:${$1t}:`,F7=`${ZI}:PUB_KEY`;var R1t=Object.defineProperty,D1t=Object.defineProperties,U1t=Object.getOwnPropertyDescriptors,SQ=Object.getOwnPropertySymbols,z1t=Object.prototype.hasOwnProperty,L1t=Object.prototype.propertyIsEnumerable,PQ=(t,e,r)=>e in t?R1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gs=(t,e)=>{for(var r in e||(e={}))z1t.call(e,r)&&PQ(t,r,e[r]);if(SQ)for(var r of SQ(e))L1t.call(e,r)&&PQ(t,r,e[r]);return t},Ll=(t,e)=>D1t(t,U1t(e));let V1t=class extends Sft{constructor(e){super(e),this.name=_1t,this.events=new q4,this.initialized=!1,this.requestQueue={state:Qu.idle,queue:[]},this.sessionRequestQueue={state:Qu.idle,queue:[]},this.requestQueueDelay=Me.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ai)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Ll(gs({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:o,relays:c}=n;let l=s,u,f=!1;try{l&&(f=this.client.core.pairing.pairings.get(l).active)}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),O}if(!l||!f){const{topic:O,uri:F}=await this.client.core.pairing.create();l=O,u=F}if(!l){const{message:O}=Mt("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(O)}const h=await this.client.core.crypto.generateKeyPair(),m=ai.wc_sessionPropose.req.ttl||Me.FIVE_MINUTES,y=Vs(m),x=gs({requiredNamespaces:i,optionalNamespaces:a,relays:c??[{protocol:S1e}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:l},o&&{sessionProperties:o}),{reject:k,resolve:C,done:I}=Zm(m,E1t);this.events.once($r("session_connect"),async({error:O,session:F})=>{if(O)k(O);else if(F){F.self.publicKey=h;const D=Ll(gs({},F),{pairingTopic:x.pairingTopic,requiredNamespaces:x.requiredNamespaces,optionalNamespaces:x.optionalNamespaces,transportType:En.relay});await this.client.session.set(F.topic,D),await this.setExpiry(F.topic,F.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:F.peer.metadata}),this.cleanupDuplicatePairings(D),C(D)}});const _=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:x,throwOnFailedPublish:!0});return await this.setProposal(_,gs({id:_},x)),{uri:u,approval:I}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,s,i;const a=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[zl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw a.setError(Bm.no_internet_connection),T}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),a.setError(Bm.proposal_not_found),T}try{await this.isValidApprove(r)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(Bm.session_approve_namespace_validation_failure),T}const{id:o,relayProtocol:c,namespaces:l,sessionProperties:u,sessionConfig:f}=r,h=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:m,proposer:y,requiredNamespaces:x,optionalNamespaces:k}=h;let C=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});C||(C=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:zl.session_approve_started,properties:{topic:m,trace:[zl.session_approve_started,zl.session_namespaces_validation_success]}}));const I=await this.client.core.crypto.generateKeyPair(),_=y.publicKey,O=await this.client.core.crypto.generateSharedKey(I,_),F=gs(gs({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:I,metadata:this.client.metadata},expiry:Vs(Ib)},u&&{sessionProperties:u}),f&&{sessionConfig:f}),D=En.relay;C.addTrace(zl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:D})}catch(T){throw C.setError(Bm.subscribe_session_topic_failure),T}C.addTrace(zl.subscribe_session_topic_success);const j=Ll(gs({},F),{topic:O,requiredNamespaces:x,optionalNamespaces:k,pairingTopic:m,acknowledged:!1,self:F.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:I,transportType:En.relay});await this.client.session.set(O,j),C.addTrace(zl.store_session);try{C.addTrace(zl.publishing_session_settle),await this.sendRequest({topic:O,method:"wc_sessionSettle",params:F,throwOnFailedPublish:!0}).catch(T=>{throw C==null||C.setError(Bm.session_settle_publish_failure),T}),C.addTrace(zl.session_settle_publish_success),C.addTrace(zl.publishing_session_approve),await this.sendResult({id:o,topic:m,result:{relay:{protocol:c??"irn"},responderPublicKey:I},throwOnFailedPublish:!0}).catch(T=>{throw C==null||C.setError(Bm.session_approve_publish_failure),T}),C.addTrace(zl.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(O,Cn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),T}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:y.metadata}),await this.client.proposal.delete(o,Cn("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(O,Vs(Ib)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}i&&(await this.sendError({id:n,topic:i,error:s,rpcOpts:ai.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Cn("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:s}=r,{done:i,resolve:a,reject:o}=Zm(),c=z0(),l=ml().toString(),u=this.client.session.get(n).namespaces;return this.events.once($r("session_update",c),({error:f})=>{f?o(f):a()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),o(f)}),{acknowledged:i}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,s=z0(),{done:i,resolve:a,reject:o}=Zm();return this.events.once($r("session_extend",s),({error:c})=>{c?o(c):a()}),await this.setExpiry(n,Vs(Ib)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:i}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:s,topic:i,expiry:a=ai.wc_sessionRequest.req.ttl}=r,o=this.client.session.get(i);(o==null?void 0:o.transportType)===En.relay&&await this.confirmOnlineStateOrThrow();const c=z0(),l=ml().toString(),{done:u,resolve:f,reject:h}=Zm(a,"Request expired. Please try again.");this.events.once($r("session_request",c),({error:y,result:x})=>{y?h(y):f(x)});const m=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);return m?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:"wc_sessionRequest",params:{request:Ll(gs({},s),{expiryTimestamp:Vs(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:m}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await u()):await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:"wc_sessionRequest",params:{request:Ll(gs({},s),{expiryTimestamp:Vs(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0}).catch(x=>h(x)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),y()}),new Promise(async y=>{var x;if(!((x=o.sessionConfig)!=null&&x.disableDeepLink)){const k=await u0t(this.client.core.storage,AQ);await c0t({id:c,topic:i,wcDeepLink:k})}y()}),u()]).then(y=>y[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:i}=s,a=this.client.session.get(n);a.transportType===En.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);sc(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0,appLink:o}):Ri(s)&&await this.sendError({id:i,topic:n,error:s.error,appLink:o}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=z0(),i=ml().toString(),{done:a,resolve:o,reject:c}=Zm();this.events.once($r("session_ping",s),({error:l})=>{l?c(l):o()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,a=ml().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:a})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Cn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=Mt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>upt(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),a=i?En.link_mode:En.relay;a===En.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:c="",uri:l,domain:u,nonce:f,type:h,exp:m,nbf:y,methods:x=[],expiry:k}=r,C=[...r.resources||[]],{topic:I,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:I,uri:_}});const O=await this.client.core.crypto.generateKeyPair(),F=B7(O);if(await Promise.all([this.client.auth.authKeys.set(F7,{responseTopic:F,publicKey:O}),this.client.auth.pairingTopics.set(F,{topic:F,pairingTopic:I})]),await this.client.core.relayer.subscribe(F,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${I}`),x.length>0){const{namespace:P}=$7(o[0]);let A=T0t(P,"request",x);O7(C)&&(A=M0t(A,C.pop())),C.push(A)}const D=k&&k>ai.wc_sessionAuthenticate.req.ttl?k:ai.wc_sessionAuthenticate.req.ttl,j={authPayload:{type:h??"caip122",chains:o,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:y,resources:C},requester:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:Vs(D)},T={eip155:{chains:o,methods:[...new Set(["personal_sign",...x])],events:["chainChanged","accountsChanged"]}},R={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:I,proposer:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:Vs(ai.wc_sessionPropose.req.ttl)},{done:q,resolve:$,reject:b}=Zm(D,"Request expired"),w=async({error:P,session:A})=>{if(this.events.off($r("session_request",g),p),P)b(P);else if(A){A.self.publicKey=O,await this.client.session.set(A.topic,A),await this.setExpiry(A.topic,A.expiry),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:A.peer.metadata});const v=this.client.session.get(A.topic);await this.deleteProposal(S),$({session:v})}},p=async P=>{var A,v,E;if(await this.deletePendingAuthRequest(g,{message:"fulfilled",code:0}),P.error){const re=Cn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===re.code?void 0:(this.events.off($r("session_connect"),w),b(P.error.message))}await this.deleteProposal(S),this.events.off($r("session_connect"),w);const{cacaos:M,responder:L}=P.result,Q=[],U=[];for(const re of M){await BJ({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,"Signature verification failed"),b(Cn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=re,z=O7(G.resources),se=[pO(G.iss)],ce=WS(G.iss);if(z){const pe=FJ(z),_e=RJ(z);Q.push(...pe),se.push(..._e)}for(const pe of se)U.push(`${pe}:${ce}`)}const J=await this.client.core.crypto.generateSharedKey(O,L.publicKey);let Z;Q.length>0&&(Z={topic:J,acknowledged:!0,self:{publicKey:O,metadata:this.client.metadata},peer:L,controller:L.publicKey,expiry:Vs(Ib),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:I,namespaces:KJ([...new Set(Q)],[...new Set(U)]),transportType:a},await this.client.core.relayer.subscribe(J,{transportType:a}),await this.client.session.set(J,Z),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:L.metadata}),Z=this.client.session.get(J)),(A=this.client.metadata.redirect)!=null&&A.linkMode&&(v=L.metadata.redirect)!=null&&v.linkMode&&(E=L.metadata.redirect)!=null&&E.universal&&n&&(this.client.core.addLinkModeSupportedApp(L.metadata.redirect.universal),this.client.session.update(J,{transportType:En.link_mode})),$({auths:M,session:Z})},g=z0(),S=z0();this.events.once($r("session_connect"),w),this.events.once($r("session_request",g),p);let N;try{if(i){const P=gl("wc_sessionAuthenticate",j,g);this.client.core.history.set(I,P);const A=await this.client.core.crypto.encode("",P,{type:B5,encoding:A2});N=I9(n,I,A)}else await Promise.all([this.sendRequest({topic:I,method:"wc_sessionAuthenticate",params:j,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:g}),this.sendRequest({topic:I,method:"wc_sessionPropose",params:R,expiry:ai.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S})])}catch(P){throw this.events.off($r("session_connect"),w),this.events.off($r("session_request",g),p),P}return await this.setProposal(S,gs({id:S},R)),await this.setAuthRequest(g,{request:Ll(gs({},j),{verifyContext:{}}),pairingTopic:I,transportType:a}),{uri:N??_,response:q}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Fm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(k){throw i.setError(k2.no_internet_connection),k}const a=this.getPendingAuthRequest(n);if(!a)throw i.setError(k2.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const o=a.transportType||En.relay;o===En.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=B7(c),f={type:Sh,receiverPublicKey:c,senderPublicKey:l},h=[],m=[];for(const k of s){if(!await BJ({cacao:k,projectId:this.client.core.projectId})){i.setError(k2.invalid_cacao);const F=Cn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:F,encodeOpts:f}),new Error(F.message)}i.addTrace(Fm.cacaos_verified);const{p:C}=k,I=O7(C.resources),_=[pO(C.iss)],O=WS(C.iss);if(I){const F=FJ(I),D=RJ(I);h.push(...F),_.push(...D)}for(const F of _)m.push(`${F}:${O}`)}const y=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Fm.create_authenticated_session_topic);let x;if((h==null?void 0:h.length)>0){x={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:Vs(Ib),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:KJ([...new Set(h)],[...new Set(m)]),transportType:o},i.addTrace(Fm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:o})}catch(k){throw i.setError(k2.subscribe_authenticated_session_topic_failure),k}i.addTrace(Fm.subscribe_authenticated_session_topic_success),await this.client.session.set(y,x),i.addTrace(Fm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace(Fm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(k){throw i.setError(k2.authenticated_session_approve_publish_failure),k}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:x}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===En.relay&&await this.confirmOnlineStateOrThrow();const a=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=B7(a),l={type:Sh,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:ai.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Cn("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:s}=r;return d1e(n,s)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var a,o;return((a=i.peerMetadata)==null?void 0:a.url)&&((o=i.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:a=!0,id:o=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Cn("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(AQ).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Cn("USER_DISCONNECTED"))}),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Qu.idle),a&&this.client.events.emit("session_delete",{id:o,topic:s})},this.deleteProposal=async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Bm.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Cn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=Qu.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Vs(ai.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:s,pairingTopic:i,transportType:a=En.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:a})},this.setPendingSessionRequest=async r=>{const{id:n,topic:s,params:i,verifyContext:a}=r,o=i.request.expiryTimestamp||Vs(ai.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,o),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:a})},this.sendRequest=async r=>{const{topic:n,method:s,params:i,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:l,appLink:u}=r,f=gl(s,i,c);let h;const m=!!u;try{const k=m?A2:Ip;h=await this.client.core.crypto.encode(n,f,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),k}let y;if(j1t.includes(s)){const k=Wf(JSON.stringify(f)),C=Wf(h);y=await this.client.core.verify.register({id:C,decryptedId:k})}const x=ai[s].req;if(x.attestation=y,a&&(x.ttl=a),o&&(x.id=o),this.client.core.history.set(n,f),m){const k=I9(u,n,h);await global.Linking.openURL(k,this.client.name)}else{const k=ai[s].req;a&&(k.ttl=a),o&&(k.id=o),l?(k.internal=Ll(gs({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,k)):this.client.core.relayer.publish(n,h,k).catch(C=>this.client.logger.error(C))}return f.id},this.sendResult=async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=r,l=ym(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?A2:Ip;u=await this.client.core.crypto.encode(s,l,Ll(gs({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),m}let h;try{h=await this.client.core.history.get(s,n)}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),m}if(f){const m=I9(c,s,u);await global.Linking.openURL(m,this.client.name)}else{const m=ai[h.request.method].res;a?(m.internal=Ll(gs({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:n,topic:s,error:i,encodeOpts:a,rpcOpts:o,appLink:c}=r,l=vm(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?A2:Ip;u=await this.client.core.crypto.encode(s,l,Ll(gs({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),m}let h;try{h=await this.client.core.history.get(s,n)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),m}if(f){const m=I9(c,s,u);await global.Linking.openURL(m,this.client.name)}else{const m=o||ai[h.request.method].res;this.client.core.relayer.publish(s,u,m)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;L0(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{L0(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Qu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Qu.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Qu.idle},this.processRequest=async r=>{const{topic:n,payload:s,attestation:i,transportType:a,encryptedId:o}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s,transportType:i}=r,a=(await this.client.core.history.get(n,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:s}=Mt("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:s,attestation:i,encryptedId:a}=r,{params:o,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(gs({},s.params));const u=o.expiryTimestamp||Vs(ai.wc_sessionPropose.req.ttl),f=gs({id:c,pairingTopic:n,expiryTimestamp:u},o);await this.setProposal(c,f);const h=await this.getVerifyContext({attestationId:i,hash:Wf(JSON.stringify(s)),encryptedId:a,metadata:f.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Ff.proposal_listener_not_found)),l==null||l.addTrace(td.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:ai.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,n,s)=>{const{id:i}=n;if(sc(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Ri(n)){await this.client.proposal.delete(i,Cn("USER_DISCONNECTED"));const a=$r("session_connect");if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit($r("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:a,controller:o,expiry:c,namespaces:l,sessionProperties:u,sessionConfig:f}=n.params,h=Ll(gs(gs({topic:r,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),f&&{sessionConfig:f}),{transportType:En.relay}),m=$r("session_connect");if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners 997`);this.events.emit($r("session_connect"),{session:h}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionSettleResponse=async(r,n)=>{const{id:s}=n;sc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit($r("session_approve",s),{})):Ri(n)&&(await this.client.session.delete(r,Cn("USER_DISCONNECTED")),this.events.emit($r("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:s,id:i}=n;try{const a=`${r}_session_update`,o=S2.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:Cn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(gs({topic:r},s));try{S2.set(a,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw S2.delete(a),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:s}=n,i=$r("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit($r("session_update",s),{}):Ri(n)&&this.events.emit($r("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Vs(Ib)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}},this.onSessionExtendResponse=(r,n)=>{const{id:s}=n,i=$r("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit($r("session_extend",s),{}):Ri(n)&&this.events.emit($r("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}},this.onSessionPingResponse=(r,n)=>{const{id:s}=n,i=$r("session_ping",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);setTimeout(()=>{sc(n)?this.events.emit($r("session_ping",s),{}):Ri(n)&&this.events.emit($r("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Za.publish,async()=>{i(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Cn("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async r=>{var n,s,i;const{topic:a,payload:o,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:h}=o;try{await this.isValidRequest(gs({topic:a},h));const m=this.client.session.get(a),y=await this.getVerifyContext({attestationId:c,hash:Wf(JSON.stringify(gl("wc_sessionRequest",h,f))),encryptedId:l,metadata:m.peer.metadata,transportType:u}),x={id:f,topic:a,params:h,verifyContext:y};await this.setPendingSessionRequest(x),u===En.link_mode&&(n=m.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=m.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(x):(this.addSessionRequestToSessionRequestQueue(x),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:a,error:m}),this.client.logger.error(m)}},this.onSessionRequestResponse=(r,n)=>{const{id:s}=n,i=$r("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);sc(n)?this.events.emit($r("session_request",s),{result:n.result}):Ri(n)&&this.events.emit($r("session_request",s),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:s,params:i}=n;try{const a=`${r}_session_event_${i.event.name}`,o=S2.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(gs({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),S2.set(a,s)}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),sc(n)?this.events.emit($r("session_request",s),{result:n.result}):Ri(n)&&this.events.emit($r("session_request",s),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:s,payload:i,attestation:a,encryptedId:o,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,h=await this.getVerifyContext({attestationId:a,hash:Wf(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:c}),m={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:m,pairingTopic:s,transportType:c}),c===En.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),m={type:Sh,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:m,rpcOpts:ai.wc_sessionAuthenticate.autoReject,appLink:h})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Qu.idle,this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{const a=i.request.id,o=$r("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit($r("session_request",i.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Qu.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Qu.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:gl("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!vo(r)){const{message:c}=Mt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:a,relays:o}=r;if(Co(n)||await this.isValidPairingTopic(n),!Apt(o)){const{message:c}=Mt("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(c)}!Co(s)&&KS(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Co(i)&&KS(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Co(a)||this.validateSessionProps(a,"sessionProperties")},this.validateNamespaces=(r,n)=>{const s=wpt(r,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!vo(r))throw new Error(Mt("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const o=this.client.proposal.get(n),c=w_(s,"approve()");if(c)throw new Error(c.message);const l=JJ(o.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!Cs(i,!0)){const{message:u}=Mt("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(u)}Co(a)||this.validateSessionProps(a,"sessionProperties")},this.isValidReject=async r=>{if(!vo(r)){const{message:i}=Mt("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Ppt(s)){const{message:i}=Mt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidSessionSettleRequest=r=>{if(!vo(r)){const{message:l}=Mt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:s,namespaces:i,expiry:a}=r;if(!v1e(n)){const{message:l}=Mt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=mpt(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const c=w_(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(L0(a)){const{message:l}=Mt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!vo(r)){const{message:c}=Mt("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),a=w_(s,"update()");if(a)throw new Error(a.message);const o=JJ(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async r=>{if(!vo(r)){const{message:s}=Mt("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!vo(r)){const{message:c}=Mt("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:a}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!ZJ(o,i)){const{message:c}=Mt("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!kpt(s)){const{message:c}=Mt("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Ept(o,i,s.method)){const{message:c}=Mt("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(a&&!jpt(a,I_)){const{message:c}=Mt("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${I_.min} and ${I_.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!vo(r)){const{message:a}=Mt("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!Ipt(i)){const{message:a}=Mt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!vo(r)){const{message:s}=Mt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!vo(r)){const{message:o}=Mt("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!ZJ(a,i)){const{message:o}=Mt("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!Npt(s)){const{message:o}=Mt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!Cpt(a,i,s.name)){const{message:o}=Mt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidDisconnect=async r=>{if(!vo(r)){const{message:s}=Mt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:s,domain:i,nonce:a}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Cs(s,!1))throw new Error("uri is required parameter");if(!Cs(i,!1))throw new Error("domain is required parameter");if(!Cs(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>$7(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=$7(n[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:a,transportType:o}=r,c={verified:{verifyUrl:a.verifyUrl||$3,validation:"UNKNOWN",origin:a.url||""}};try{if(o===En.link_mode){const u=this.getAppLinkIfEnabled(a,o);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(s=>{if(!Cs(s,!1)){const{message:i}=Mt("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(a)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=Mt("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}},this.isLinkModeEnabled=(r,n)=>{var s,i,a,o,c,l,u,f,h;return!r||n!==En.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=jJ(r,"topic")||"",s=decodeURIComponent(jJ(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:En.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})},this.registerLinkModeListeners=async()=>{var r;if(vU()||Ow()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=Mt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Za.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(F7)?this.client.auth.authKeys.get(F7):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(r,n,{receiverPublicKey:a,encoding:i===En.link_mode?A2:Ip});try{xm(o)?(this.client.core.history.set(r,o),this.onRelayEventRequest({topic:r,payload:o,attestation:s,transportType:i,encryptedId:Wf(n)})):Xh(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o,transportType:i}),this.client.core.history.delete(r,o.id)):this.onRelayEventUnknownPayload({topic:r,payload:o,transportType:i})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Zc.expired,async e=>{const{topic:r,id:n}=l1e(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Mt("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Mt("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(tg.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(tg.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Cs(e,!1)){const{message:r}=Mt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Mt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(L0(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Mt("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Cs(e,!1)){const{message:r}=Mt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Mt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(L0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Mt("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Mt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Cs(e,!1)){const{message:r}=Mt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Mt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Spt(e)){const{message:r}=Mt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Mt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(L0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Mt("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},H1t=class extends ib{constructor(e,r){super(e,r,N1t,PU),this.core=e,this.logger=r}},U1e=class extends ib{constructor(e,r){super(e,r,C1t,PU),this.core=e,this.logger=r}};class q1t extends ib{constructor(e,r){super(e,r,T1t,PU,n=>n.id),this.core=e,this.logger=r}}class W1t extends ib{constructor(e,r){super(e,r,O1t,ZI,()=>F7),this.core=e,this.logger=r}}let K1t=class extends ib{constructor(e,r){super(e,r,B1t,ZI),this.core=e,this.logger=r}},X1t=class extends ib{constructor(e,r){super(e,r,F1t,ZI,n=>n.id),this.core=e,this.logger=r}};class Z1t{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new W1t(this.core,this.logger),this.pairingTopics=new K1t(this.core,this.logger),this.requests=new X1t(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}let J1t=class z1e extends Aft{constructor(e){super(e),this.protocol=F1e,this.version=R1e,this.name=k_.name,this.events=new Un.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}},this.name=(e==null?void 0:e.name)||k_.name,this.metadata=(e==null?void 0:e.metadata)||s1e(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:OI(dU({level:(e==null?void 0:e.logger)||k_.logger}));this.core=(e==null?void 0:e.core)||new I1t(e),this.logger=fo(r,this.name),this.session=new U1e(this.core,this.logger),this.proposal=new H1t(this.core,this.logger),this.pendingRequest=new q1t(this.core,this.logger),this.engine=new V1t(this),this.auth=new Z1t(this.core,this.logger)}static async init(e){const r=new z1e(e);return await r.initialize(),r}get context(){return Vo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const Q1t=U1e,Y1t=J1t,G1t="idb-keyval";var ebt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=uI(t.dbName,t.storeName)),{name:G1t,options:t,async hasItem(s){return!(typeof await zx(r(s),n)>"u")},async getItem(s){return await zx(r(s),n)??null},setItem(s,i){return CD(r(s),i,n)},removeItem(s){return _D(r(s),n)},getKeys(){return jD(n)},clear(){return TD(n)}}};const tbt="WALLET_CONNECT_V2_INDEXED_DB",rbt="keyvaluestorage";let nbt=class{constructor(){this.indexedDb=ED({driver:ebt({dbName:tbt,storeName:rbt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Js(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R7={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof N_<"u"&&N_.localStorage?R7.exports=N_.localStorage:typeof window<"u"&&window.localStorage?R7.exports=window.localStorage:R7.exports=new e})();function sbt(t){var e;return[t[0],Pi((e=t[1])!=null?e:"")]}let ibt=class{constructor(){this.localStorage=R7.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(sbt)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Pi(r)}async setItem(e,r){this.localStorage.setItem(e,Js(r))}async removeItem(e){this.localStorage.removeItem(e)}};const abt="wc_storage_version",kQ=1,obt=async(t,e,r)=>{const n=abt,s=await e.getItem(n);if(s&&s>=kQ){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(n,kQ),r(e),cbt(t,a)},cbt=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let lbt=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new ibt;this.storage=e;try{const r=new nbt;obt(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};const IQ=cU;var Hb=Jd;const c4=vbt().console||{},ubt={mapHttpRequest:N9,mapHttpResponse:N9,wrapRequestSerializer:E_,wrapResponseSerializer:E_,wrapErrorSerializer:E_,req:N9,res:N9,err:mbt};function dbt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Jd(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||c4;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=dbt(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const o=t.level||"info",c=Object.create(r);c.log||(c.log=l4),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:a,timestamp:gbt(t)};c.levels=Jd.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=l4,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=m,e&&(c._logEvent=xO());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function h(y){if(y!=="silent"&&!this.levels.values[y])throw Error("unknown level "+y);this._level=y,Nb(l,c,"error","log"),Nb(l,c,"fatal","error"),Nb(l,c,"warn","error"),Nb(l,c,"info","log"),Nb(l,c,"debug","log"),Nb(l,c,"trace","log")}function m(y,x){if(!y)throw new Error("missing bindings for child Pino");x=x||{},s&&y.serializers&&(x.serializers=y.serializers);const k=x.serializers;if(s&&k){var C=Object.assign({},n,k),I=t.browser.serialize===!0?Object.keys(C):s;delete y.serializers,JI([y],I,C,this._stdErrSerialize)}function _(O){this._childLevel=(O._childLevel|0)+1,this.error=Eb(O,y,"error"),this.fatal=Eb(O,y,"fatal"),this.warn=Eb(O,y,"warn"),this.info=Eb(O,y,"info"),this.debug=Eb(O,y,"debug"),this.trace=Eb(O,y,"trace"),C&&(this.serializers=C,this._serialize=I),e&&(this._logEvent=xO([].concat(O._logEvent.bindings,y)))}return _.prototype=this,new _(this)}return c}Jd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Jd.stdSerializers=ubt;Jd.stdTimeFunctions=Object.assign({},{nullTime:L1e,epochTime:V1e,unixTime:bbt,isoTime:ybt});function Nb(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?l4:s[r]?s[r]:c4[r]||c4[n]||l4,fbt(t,e,r)}function fbt(t,e,r){!t.transmit&&e[r]===l4||(e[r]=function(n){return function(){const i=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===c4?c4:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&JI(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,hbt(this,r,a,i)):n.apply(o,a),t.transmit){const l=t.transmit.level||e.level,u=Jd.levels.values[l],f=Jd.levels.values[r];if(f<u)return;pbt(this,{ts:i,methodLevel:r,methodValue:f,transmitLevel:l,transmitValue:Jd.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function hbt(t,e,r,n){t._serialize&&JI(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const a={};n&&(a.time=n),a.level=Jd.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),i!==null&&typeof i=="object"){for(;o--&&typeof s[0]=="object";)Object.assign(a,s.shift());i=s.length?IQ(s.shift(),s):void 0}else typeof i=="string"&&(i=IQ(s.shift(),s));return i!==void 0&&(a.msg=i),a}function JI(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Jd.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function Eb(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function pbt(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;JI(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=a,n(i,t._logEvent,o),t._logEvent=xO(c)}function xO(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function mbt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function gbt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?L1e:V1e}function N9(){return{}}function E_(t){return t}function l4(){}function L1e(){return!1}function V1e(){return Date.now()}function bbt(){return Math.round(Date.now()/1e3)}function ybt(){return new Date(Date.now()).toISOString()}function vbt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const kU=La(Hb),xbt={level:"info"},D5="custom_context",IU=1e3*1024;let wbt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},NQ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new wbt(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},H1e=class{constructor(e,r=IU){this.level=e??"error",this.levelValue=Hb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new NQ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Hb.levels.values.error?console.error(e):r===Hb.levels.values.warn?console.warn(e):r===Hb.levels.values.debug?console.debug(e):r===Hb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Js({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new NQ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Js({extraMetadata:e})),new Blob(r,{type:"application/json"})}};class Abt{constructor(e,r=IU){this.baseChunkLogger=new H1e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}let Sbt=class{constructor(e,r=IU){this.baseChunkLogger=new H1e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Pbt=Object.defineProperty,kbt=Object.defineProperties,Ibt=Object.getOwnPropertyDescriptors,EQ=Object.getOwnPropertySymbols,Nbt=Object.prototype.hasOwnProperty,Ebt=Object.prototype.propertyIsEnumerable,CQ=(t,e,r)=>e in t?Pbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JS=(t,e)=>{for(var r in e||(e={}))Nbt.call(e,r)&&CQ(t,r,e[r]);if(EQ)for(var r of EQ(e))Ebt.call(e,r)&&CQ(t,r,e[r]);return t},QS=(t,e)=>kbt(t,Ibt(e));function q1e(t){return QS(JS({},t),{level:(t==null?void 0:t.level)||xbt.level})}function Cbt(t,e=D5){return t[e]||""}function _bt(t,e,r=D5){return t[r]=e,t}function Cc(t,e=D5){let r="";return typeof t.bindings>"u"?r=Cbt(t,e):r=t.bindings().context||"",r}function Tbt(t,e,r=D5){const n=Cc(t,r);return n.trim()?`${n}/${e}`:e}function Ho(t,e,r=D5){const n=Tbt(t,e,r),s=t.child({context:n});return _bt(s,n,r)}function jbt(t){var e,r;const n=new Abt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kU(QS(JS({},t.opts),{level:"trace",browser:QS(JS({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Mbt(t){var e;const r=new Sbt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kU(QS(JS({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function $bt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?jbt(t):Mbt(t)}class Obt extends Ys{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let Bbt=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},Fbt=class{constructor(e,r){this.logger=e,this.core=r}},Rbt=class extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}};class Dbt extends Ys{constructor(e){super()}}let Ubt=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}};class zbt extends Ys{constructor(e,r){super(),this.relayer=e,this.logger=r}}let Lbt=class extends Ys{constructor(e,r){super(),this.core=e,this.logger=r}},Vbt=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},Hbt=class{constructor(e,r){this.projectId=e,this.logger=r}},qbt=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};const Wbt="EdDSA",Kbt="JWT",YS=".",QI="base64url",W1e="utf8",K1e="utf8",Xbt=":",Zbt="did",Jbt="key",_Q="base58btc",Qbt="z",Ybt="K36",Gbt=32;function X1e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function D7(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=X1e(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function Z1e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const TQ=Z1e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),C_=Z1e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=X1e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),J1e={utf8:TQ,"utf-8":TQ,hex:Lx.base16,latin1:C_,ascii:C_,binary:C_,...Lx};function Ai(t,e="utf8"){const r=J1e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function yi(t,e="utf8"){const r=J1e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function jQ(t){return Pi(Ai(yi(t,QI),W1e))}function GS(t){return Ai(yi(Js(t),W1e),QI)}function Q1e(t){const e=yi(Ybt,_Q),r=Qbt+Ai(D7([e,t]),_Q);return[Zbt,Jbt,r].join(Xbt)}function eyt(t){return Ai(t,QI)}function tyt(t){return yi(t,QI)}function ryt(t){return yi([GS(t.header),GS(t.payload)].join(YS),K1e)}function nyt(t){return[GS(t.header),GS(t.payload),eyt(t.signature)].join(YS)}function wO(t){const e=t.split(YS),r=jQ(e[0]),n=jQ(e[1]),s=tyt(e[2]),i=yi(e.slice(0,2).join(YS),K1e);return{header:r,payload:n,signature:s,data:i}}function MQ(t=Ic.randomBytes(Gbt)){return N5.generateKeyPairFromSeed(t)}async function syt(t,e,r,n,s=Me.fromMiliseconds(Date.now())){const i={alg:Wbt,typ:Kbt},a=Q1e(n.publicKey),o=s+r,c={iss:a,sub:t,aud:e,iat:s,exp:o},l=ryt({header:i,payload:c}),u=N5.sign(n.secretKey,l);return nyt({header:i,payload:c,signature:u})}var Y1e={};const iyt="elliptic",ayt="6.5.7",oyt="EC cryptography",cyt="lib/elliptic.js",lyt=["lib"],uyt={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},dyt={type:"git",url:"git@github.com:indutny/elliptic"},fyt=["EC","Elliptic","curve","Cryptography"],hyt="Fedor Indutny <fedor@indutny.com>",pyt="MIT",myt={url:"https://github.com/indutny/elliptic/issues"},gyt="https://github.com/indutny/elliptic",byt={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},yyt={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},vyt={name:iyt,version:ayt,description:oyt,main:cyt,files:lyt,scripts:uyt,repository:dyt,keywords:fyt,author:hyt,license:pyt,bugs:myt,homepage:gyt,devDependencies:byt,dependencies:yyt};var _c={},NU={exports:{}};NU.exports;(function(t){(function(e,r){function n($,b){if(!$)throw new Error(b||"Assertion failed")}function s($,b){$.super_=b;var w=function(){};w.prototype=b.prototype,$.prototype=new w,$.prototype.constructor=$}function i($,b,w){if(i.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,$!==null&&((b==="le"||b==="be")&&(w=b,b=10),this._init($||0,b||10,w||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=z1.Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,w){return b.cmp(w)>0?b:w},i.min=function(b,w){return b.cmp(w)<0?b:w},i.prototype._init=function(b,w,p){if(typeof b=="number")return this._initNumber(b,w,p);if(typeof b=="object")return this._initArray(b,w,p);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),b=b.toString().replace(/\s+/g,"");var g=0;b[0]==="-"&&(g++,this.negative=1),g<b.length&&(w===16?this._parseHex(b,g,p):(this._parseBase(b,w,g),p==="le"&&this._initArray(this.toArray(),w,p)))},i.prototype._initNumber=function(b,w,p){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),w,p)},i.prototype._initArray=function(b,w,p){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,N,P=0;if(p==="be")for(g=b.length-1,S=0;g>=0;g-=3)N=b[g]|b[g-1]<<8|b[g-2]<<16,this.words[S]|=N<<P&67108863,this.words[S+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);else if(p==="le")for(g=0,S=0;g<b.length;g+=3)N=b[g]|b[g+1]<<8|b[g+2]<<16,this.words[S]|=N<<P&67108863,this.words[S+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);return this.strip()};function o($,b){var w=$.charCodeAt(b);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function c($,b,w){var p=o($,w);return w-1>=b&&(p|=o($,w-1)<<4),p}i.prototype._parseHex=function(b,w,p){this.length=Math.ceil((b.length-w)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S=0,N=0,P;if(p==="be")for(g=b.length-1;g>=w;g-=2)P=c(b,w,g)<<S,this.words[N]|=P&67108863,S>=18?(S-=18,N+=1,this.words[N]|=P>>>26):S+=8;else{var A=b.length-w;for(g=A%2===0?w+1:w;g<b.length;g+=2)P=c(b,w,g)<<S,this.words[N]|=P&67108863,S>=18?(S-=18,N+=1,this.words[N]|=P>>>26):S+=8}this.strip()};function l($,b,w,p){for(var g=0,S=Math.min($.length,w),N=b;N<S;N++){var P=$.charCodeAt(N)-48;g*=p,P>=49?g+=P-49+10:P>=17?g+=P-17+10:g+=P}return g}i.prototype._parseBase=function(b,w,p){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=w)g++;g--,S=S/w|0;for(var N=b.length-p,P=N%g,A=Math.min(N,N-P)+p,v=0,E=p;E<A;E+=g)v=l(b,E,E+g,w),this.imuln(S),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(P!==0){var M=1;for(v=l(b,E,b.length,w),E=0;E<P;E++)M*=w;this.imuln(M),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this.strip()},i.prototype.copy=function(b){b.words=new Array(this.length);for(var w=0;w<this.length;w++)b.words[w]=this.words[w];b.length=this.length,b.negative=this.negative,b.red=this.red},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,w){b=b||10,w=w|0||1;var p;if(b===16||b==="hex"){p="";for(var g=0,S=0,N=0;N<this.length;N++){var P=this.words[N],A=((P<<g|S)&16777215).toString(16);S=P>>>24-g&16777215,g+=2,g>=26&&(g-=26,N--),S!==0||N!==this.length-1?p=u[6-A.length]+A+p:p=A+p}for(S!==0&&(p=S.toString(16)+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(b===(b|0)&&b>=2&&b<=36){var v=f[b],E=h[b];p="";var M=this.clone();for(M.negative=0;!M.isZero();){var L=M.modn(E).toString(b);M=M.idivn(E),M.isZero()?p=L+p:p=u[v-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%w!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(b,w){return n(typeof a<"u"),this.toArrayLike(a,b,w)},i.prototype.toArray=function(b,w){return this.toArrayLike(Array,b,w)},i.prototype.toArrayLike=function(b,w,p){var g=this.byteLength(),S=p||Math.max(1,g);n(g<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var N=w==="le",P=new b(S),A,v,E=this.clone();if(N){for(v=0;!E.isZero();v++)A=E.andln(255),E.iushrn(8),P[v]=A;for(;v<S;v++)P[v]=0}else{for(v=0;v<S-g;v++)P[v]=0;for(v=0;!E.isZero();v++)A=E.andln(255),E.iushrn(8),P[S-v-1]=A}return P},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var w=b,p=0;return w>=4096&&(p+=13,w>>>=13),w>=64&&(p+=7,w>>>=7),w>=8&&(p+=4,w>>>=4),w>=2&&(p+=2,w>>>=2),p+w},i.prototype._zeroBits=function(b){if(b===0)return 26;var w=b,p=0;return w&8191||(p+=13,w>>>=13),w&127||(p+=7,w>>>=7),w&15||(p+=4,w>>>=4),w&3||(p+=2,w>>>=2),w&1||p++,p},i.prototype.bitLength=function(){var b=this.words[this.length-1],w=this._countBits(b);return(this.length-1)*26+w};function m($){for(var b=new Array($.bitLength()),w=0;w<b.length;w++){var p=w/26|0,g=w%26;b[w]=($.words[p]&1<<g)>>>g}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,w=0;w<this.length;w++){var p=this._zeroBits(this.words[w]);if(b+=p,p!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]|b.words[w];return this.strip()},i.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var w;this.length>b.length?w=b:w=this;for(var p=0;p<w.length;p++)this.words[p]=this.words[p]&b.words[p];return this.length=w.length,this.strip()},i.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var w,p;this.length>b.length?(w=this,p=b):(w=b,p=this);for(var g=0;g<p.length;g++)this.words[g]=w.words[g]^p.words[g];if(this!==w)for(;g<w.length;g++)this.words[g]=w.words[g];return this.length=w.length,this.strip()},i.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var w=Math.ceil(b/26)|0,p=b%26;this._expand(w),p>0&&w--;for(var g=0;g<w;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,w){n(typeof b=="number"&&b>=0);var p=b/26|0,g=b%26;return this._expand(p+1),w?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(b){var w;if(this.negative!==0&&b.negative===0)return this.negative=0,w=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,w=this.isub(b),b.negative=1,w._normSign();var p,g;this.length>b.length?(p=this,g=b):(p=b,g=this);for(var S=0,N=0;N<g.length;N++)w=(p.words[N]|0)+(g.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;for(;S!==0&&N<p.length;N++)w=(p.words[N]|0)+S,this.words[N]=w&67108863,S=w>>>26;if(this.length=p.length,S!==0)this.words[this.length]=S,this.length++;else if(p!==this)for(;N<p.length;N++)this.words[N]=p.words[N];return this},i.prototype.add=function(b){var w;return b.negative!==0&&this.negative===0?(b.negative=0,w=this.sub(b),b.negative^=1,w):b.negative===0&&this.negative!==0?(this.negative=0,w=b.sub(this),this.negative=1,w):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var w=this.iadd(b);return b.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var p=this.cmp(b);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,S;p>0?(g=this,S=b):(g=b,S=this);for(var N=0,P=0;P<S.length;P++)w=(g.words[P]|0)-(S.words[P]|0)+N,N=w>>26,this.words[P]=w&67108863;for(;N!==0&&P<g.length;P++)w=(g.words[P]|0)+N,N=w>>26,this.words[P]=w&67108863;if(N===0&&P<g.length&&g!==this)for(;P<g.length;P++)this.words[P]=g.words[P];return this.length=Math.max(this.length,P),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function y($,b,w){w.negative=b.negative^$.negative;var p=$.length+b.length|0;w.length=p,p=p-1|0;var g=$.words[0]|0,S=b.words[0]|0,N=g*S,P=N&67108863,A=N/67108864|0;w.words[0]=P;for(var v=1;v<p;v++){for(var E=A>>>26,M=A&67108863,L=Math.min(v,b.length-1),Q=Math.max(0,v-$.length+1);Q<=L;Q++){var U=v-Q|0;g=$.words[U]|0,S=b.words[Q]|0,N=g*S+M,E+=N/67108864|0,M=N&67108863}w.words[v]=M|0,A=E|0}return A!==0?w.words[v]=A|0:w.length--,w.strip()}var x=function(b,w,p){var g=b.words,S=w.words,N=p.words,P=0,A,v,E,M=g[0]|0,L=M&8191,Q=M>>>13,U=g[1]|0,J=U&8191,Z=U>>>13,re=g[2]|0,G=re&8191,z=re>>>13,se=g[3]|0,ce=se&8191,pe=se>>>13,_e=g[4]|0,ke=_e&8191,tt=_e>>>13,mt=g[5]|0,we=mt&8191,We=mt>>>13,Ae=g[6]|0,Oe=Ae&8191,qe=Ae>>>13,Fe=g[7]|0,ze=Fe&8191,Ke=Fe>>>13,ct=g[8]|0,Y=ct&8191,V=ct>>>13,W=g[9]|0,ne=W&8191,le=W>>>13,de=S[0]|0,me=de&8191,rt=de>>>13,ht=S[1]|0,ot=ht&8191,pt=ht>>>13,_t=S[2]|0,St=_t&8191,Rt=_t>>>13,sr=S[3]|0,De=sr&8191,He=sr>>>13,gt=S[4]|0,nt=gt&8191,It=gt>>>13,Ut=S[5]|0,bt=Ut&8191,Je=Ut>>>13,Pt=S[6]|0,it=Pt&8191,Tt=Pt>>>13,X=S[7]|0,ee=X&8191,te=X>>>13,H=S[8]|0,ie=H&8191,fe=H>>>13,Ie=S[9]|0,ae=Ie&8191,ye=Ie>>>13;p.negative=b.negative^w.negative,p.length=19,A=Math.imul(L,me),v=Math.imul(L,rt),v=v+Math.imul(Q,me)|0,E=Math.imul(Q,rt);var Le=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Le>>>26)|0,Le&=67108863,A=Math.imul(J,me),v=Math.imul(J,rt),v=v+Math.imul(Z,me)|0,E=Math.imul(Z,rt),A=A+Math.imul(L,ot)|0,v=v+Math.imul(L,pt)|0,v=v+Math.imul(Q,ot)|0,E=E+Math.imul(Q,pt)|0;var Re=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Re>>>26)|0,Re&=67108863,A=Math.imul(G,me),v=Math.imul(G,rt),v=v+Math.imul(z,me)|0,E=Math.imul(z,rt),A=A+Math.imul(J,ot)|0,v=v+Math.imul(J,pt)|0,v=v+Math.imul(Z,ot)|0,E=E+Math.imul(Z,pt)|0,A=A+Math.imul(L,St)|0,v=v+Math.imul(L,Rt)|0,v=v+Math.imul(Q,St)|0,E=E+Math.imul(Q,Rt)|0;var $t=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+($t>>>26)|0,$t&=67108863,A=Math.imul(ce,me),v=Math.imul(ce,rt),v=v+Math.imul(pe,me)|0,E=Math.imul(pe,rt),A=A+Math.imul(G,ot)|0,v=v+Math.imul(G,pt)|0,v=v+Math.imul(z,ot)|0,E=E+Math.imul(z,pt)|0,A=A+Math.imul(J,St)|0,v=v+Math.imul(J,Rt)|0,v=v+Math.imul(Z,St)|0,E=E+Math.imul(Z,Rt)|0,A=A+Math.imul(L,De)|0,v=v+Math.imul(L,He)|0,v=v+Math.imul(Q,De)|0,E=E+Math.imul(Q,He)|0;var ut=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(ut>>>26)|0,ut&=67108863,A=Math.imul(ke,me),v=Math.imul(ke,rt),v=v+Math.imul(tt,me)|0,E=Math.imul(tt,rt),A=A+Math.imul(ce,ot)|0,v=v+Math.imul(ce,pt)|0,v=v+Math.imul(pe,ot)|0,E=E+Math.imul(pe,pt)|0,A=A+Math.imul(G,St)|0,v=v+Math.imul(G,Rt)|0,v=v+Math.imul(z,St)|0,E=E+Math.imul(z,Rt)|0,A=A+Math.imul(J,De)|0,v=v+Math.imul(J,He)|0,v=v+Math.imul(Z,De)|0,E=E+Math.imul(Z,He)|0,A=A+Math.imul(L,nt)|0,v=v+Math.imul(L,It)|0,v=v+Math.imul(Q,nt)|0,E=E+Math.imul(Q,It)|0;var Ot=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,A=Math.imul(we,me),v=Math.imul(we,rt),v=v+Math.imul(We,me)|0,E=Math.imul(We,rt),A=A+Math.imul(ke,ot)|0,v=v+Math.imul(ke,pt)|0,v=v+Math.imul(tt,ot)|0,E=E+Math.imul(tt,pt)|0,A=A+Math.imul(ce,St)|0,v=v+Math.imul(ce,Rt)|0,v=v+Math.imul(pe,St)|0,E=E+Math.imul(pe,Rt)|0,A=A+Math.imul(G,De)|0,v=v+Math.imul(G,He)|0,v=v+Math.imul(z,De)|0,E=E+Math.imul(z,He)|0,A=A+Math.imul(J,nt)|0,v=v+Math.imul(J,It)|0,v=v+Math.imul(Z,nt)|0,E=E+Math.imul(Z,It)|0,A=A+Math.imul(L,bt)|0,v=v+Math.imul(L,Je)|0,v=v+Math.imul(Q,bt)|0,E=E+Math.imul(Q,Je)|0;var Se=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Se>>>26)|0,Se&=67108863,A=Math.imul(Oe,me),v=Math.imul(Oe,rt),v=v+Math.imul(qe,me)|0,E=Math.imul(qe,rt),A=A+Math.imul(we,ot)|0,v=v+Math.imul(we,pt)|0,v=v+Math.imul(We,ot)|0,E=E+Math.imul(We,pt)|0,A=A+Math.imul(ke,St)|0,v=v+Math.imul(ke,Rt)|0,v=v+Math.imul(tt,St)|0,E=E+Math.imul(tt,Rt)|0,A=A+Math.imul(ce,De)|0,v=v+Math.imul(ce,He)|0,v=v+Math.imul(pe,De)|0,E=E+Math.imul(pe,He)|0,A=A+Math.imul(G,nt)|0,v=v+Math.imul(G,It)|0,v=v+Math.imul(z,nt)|0,E=E+Math.imul(z,It)|0,A=A+Math.imul(J,bt)|0,v=v+Math.imul(J,Je)|0,v=v+Math.imul(Z,bt)|0,E=E+Math.imul(Z,Je)|0,A=A+Math.imul(L,it)|0,v=v+Math.imul(L,Tt)|0,v=v+Math.imul(Q,it)|0,E=E+Math.imul(Q,Tt)|0;var be=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(ze,me),v=Math.imul(ze,rt),v=v+Math.imul(Ke,me)|0,E=Math.imul(Ke,rt),A=A+Math.imul(Oe,ot)|0,v=v+Math.imul(Oe,pt)|0,v=v+Math.imul(qe,ot)|0,E=E+Math.imul(qe,pt)|0,A=A+Math.imul(we,St)|0,v=v+Math.imul(we,Rt)|0,v=v+Math.imul(We,St)|0,E=E+Math.imul(We,Rt)|0,A=A+Math.imul(ke,De)|0,v=v+Math.imul(ke,He)|0,v=v+Math.imul(tt,De)|0,E=E+Math.imul(tt,He)|0,A=A+Math.imul(ce,nt)|0,v=v+Math.imul(ce,It)|0,v=v+Math.imul(pe,nt)|0,E=E+Math.imul(pe,It)|0,A=A+Math.imul(G,bt)|0,v=v+Math.imul(G,Je)|0,v=v+Math.imul(z,bt)|0,E=E+Math.imul(z,Je)|0,A=A+Math.imul(J,it)|0,v=v+Math.imul(J,Tt)|0,v=v+Math.imul(Z,it)|0,E=E+Math.imul(Z,Tt)|0,A=A+Math.imul(L,ee)|0,v=v+Math.imul(L,te)|0,v=v+Math.imul(Q,ee)|0,E=E+Math.imul(Q,te)|0;var Ee=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,A=Math.imul(Y,me),v=Math.imul(Y,rt),v=v+Math.imul(V,me)|0,E=Math.imul(V,rt),A=A+Math.imul(ze,ot)|0,v=v+Math.imul(ze,pt)|0,v=v+Math.imul(Ke,ot)|0,E=E+Math.imul(Ke,pt)|0,A=A+Math.imul(Oe,St)|0,v=v+Math.imul(Oe,Rt)|0,v=v+Math.imul(qe,St)|0,E=E+Math.imul(qe,Rt)|0,A=A+Math.imul(we,De)|0,v=v+Math.imul(we,He)|0,v=v+Math.imul(We,De)|0,E=E+Math.imul(We,He)|0,A=A+Math.imul(ke,nt)|0,v=v+Math.imul(ke,It)|0,v=v+Math.imul(tt,nt)|0,E=E+Math.imul(tt,It)|0,A=A+Math.imul(ce,bt)|0,v=v+Math.imul(ce,Je)|0,v=v+Math.imul(pe,bt)|0,E=E+Math.imul(pe,Je)|0,A=A+Math.imul(G,it)|0,v=v+Math.imul(G,Tt)|0,v=v+Math.imul(z,it)|0,E=E+Math.imul(z,Tt)|0,A=A+Math.imul(J,ee)|0,v=v+Math.imul(J,te)|0,v=v+Math.imul(Z,ee)|0,E=E+Math.imul(Z,te)|0,A=A+Math.imul(L,ie)|0,v=v+Math.imul(L,fe)|0,v=v+Math.imul(Q,ie)|0,E=E+Math.imul(Q,fe)|0;var Be=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(ne,me),v=Math.imul(ne,rt),v=v+Math.imul(le,me)|0,E=Math.imul(le,rt),A=A+Math.imul(Y,ot)|0,v=v+Math.imul(Y,pt)|0,v=v+Math.imul(V,ot)|0,E=E+Math.imul(V,pt)|0,A=A+Math.imul(ze,St)|0,v=v+Math.imul(ze,Rt)|0,v=v+Math.imul(Ke,St)|0,E=E+Math.imul(Ke,Rt)|0,A=A+Math.imul(Oe,De)|0,v=v+Math.imul(Oe,He)|0,v=v+Math.imul(qe,De)|0,E=E+Math.imul(qe,He)|0,A=A+Math.imul(we,nt)|0,v=v+Math.imul(we,It)|0,v=v+Math.imul(We,nt)|0,E=E+Math.imul(We,It)|0,A=A+Math.imul(ke,bt)|0,v=v+Math.imul(ke,Je)|0,v=v+Math.imul(tt,bt)|0,E=E+Math.imul(tt,Je)|0,A=A+Math.imul(ce,it)|0,v=v+Math.imul(ce,Tt)|0,v=v+Math.imul(pe,it)|0,E=E+Math.imul(pe,Tt)|0,A=A+Math.imul(G,ee)|0,v=v+Math.imul(G,te)|0,v=v+Math.imul(z,ee)|0,E=E+Math.imul(z,te)|0,A=A+Math.imul(J,ie)|0,v=v+Math.imul(J,fe)|0,v=v+Math.imul(Z,ie)|0,E=E+Math.imul(Z,fe)|0,A=A+Math.imul(L,ae)|0,v=v+Math.imul(L,ye)|0,v=v+Math.imul(Q,ae)|0,E=E+Math.imul(Q,ye)|0;var Ve=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A=Math.imul(ne,ot),v=Math.imul(ne,pt),v=v+Math.imul(le,ot)|0,E=Math.imul(le,pt),A=A+Math.imul(Y,St)|0,v=v+Math.imul(Y,Rt)|0,v=v+Math.imul(V,St)|0,E=E+Math.imul(V,Rt)|0,A=A+Math.imul(ze,De)|0,v=v+Math.imul(ze,He)|0,v=v+Math.imul(Ke,De)|0,E=E+Math.imul(Ke,He)|0,A=A+Math.imul(Oe,nt)|0,v=v+Math.imul(Oe,It)|0,v=v+Math.imul(qe,nt)|0,E=E+Math.imul(qe,It)|0,A=A+Math.imul(we,bt)|0,v=v+Math.imul(we,Je)|0,v=v+Math.imul(We,bt)|0,E=E+Math.imul(We,Je)|0,A=A+Math.imul(ke,it)|0,v=v+Math.imul(ke,Tt)|0,v=v+Math.imul(tt,it)|0,E=E+Math.imul(tt,Tt)|0,A=A+Math.imul(ce,ee)|0,v=v+Math.imul(ce,te)|0,v=v+Math.imul(pe,ee)|0,E=E+Math.imul(pe,te)|0,A=A+Math.imul(G,ie)|0,v=v+Math.imul(G,fe)|0,v=v+Math.imul(z,ie)|0,E=E+Math.imul(z,fe)|0,A=A+Math.imul(J,ae)|0,v=v+Math.imul(J,ye)|0,v=v+Math.imul(Z,ae)|0,E=E+Math.imul(Z,ye)|0;var Xe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,A=Math.imul(ne,St),v=Math.imul(ne,Rt),v=v+Math.imul(le,St)|0,E=Math.imul(le,Rt),A=A+Math.imul(Y,De)|0,v=v+Math.imul(Y,He)|0,v=v+Math.imul(V,De)|0,E=E+Math.imul(V,He)|0,A=A+Math.imul(ze,nt)|0,v=v+Math.imul(ze,It)|0,v=v+Math.imul(Ke,nt)|0,E=E+Math.imul(Ke,It)|0,A=A+Math.imul(Oe,bt)|0,v=v+Math.imul(Oe,Je)|0,v=v+Math.imul(qe,bt)|0,E=E+Math.imul(qe,Je)|0,A=A+Math.imul(we,it)|0,v=v+Math.imul(we,Tt)|0,v=v+Math.imul(We,it)|0,E=E+Math.imul(We,Tt)|0,A=A+Math.imul(ke,ee)|0,v=v+Math.imul(ke,te)|0,v=v+Math.imul(tt,ee)|0,E=E+Math.imul(tt,te)|0,A=A+Math.imul(ce,ie)|0,v=v+Math.imul(ce,fe)|0,v=v+Math.imul(pe,ie)|0,E=E+Math.imul(pe,fe)|0,A=A+Math.imul(G,ae)|0,v=v+Math.imul(G,ye)|0,v=v+Math.imul(z,ae)|0,E=E+Math.imul(z,ye)|0;var xe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ne,De),v=Math.imul(ne,He),v=v+Math.imul(le,De)|0,E=Math.imul(le,He),A=A+Math.imul(Y,nt)|0,v=v+Math.imul(Y,It)|0,v=v+Math.imul(V,nt)|0,E=E+Math.imul(V,It)|0,A=A+Math.imul(ze,bt)|0,v=v+Math.imul(ze,Je)|0,v=v+Math.imul(Ke,bt)|0,E=E+Math.imul(Ke,Je)|0,A=A+Math.imul(Oe,it)|0,v=v+Math.imul(Oe,Tt)|0,v=v+Math.imul(qe,it)|0,E=E+Math.imul(qe,Tt)|0,A=A+Math.imul(we,ee)|0,v=v+Math.imul(we,te)|0,v=v+Math.imul(We,ee)|0,E=E+Math.imul(We,te)|0,A=A+Math.imul(ke,ie)|0,v=v+Math.imul(ke,fe)|0,v=v+Math.imul(tt,ie)|0,E=E+Math.imul(tt,fe)|0,A=A+Math.imul(ce,ae)|0,v=v+Math.imul(ce,ye)|0,v=v+Math.imul(pe,ae)|0,E=E+Math.imul(pe,ye)|0;var Pe=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,A=Math.imul(ne,nt),v=Math.imul(ne,It),v=v+Math.imul(le,nt)|0,E=Math.imul(le,It),A=A+Math.imul(Y,bt)|0,v=v+Math.imul(Y,Je)|0,v=v+Math.imul(V,bt)|0,E=E+Math.imul(V,Je)|0,A=A+Math.imul(ze,it)|0,v=v+Math.imul(ze,Tt)|0,v=v+Math.imul(Ke,it)|0,E=E+Math.imul(Ke,Tt)|0,A=A+Math.imul(Oe,ee)|0,v=v+Math.imul(Oe,te)|0,v=v+Math.imul(qe,ee)|0,E=E+Math.imul(qe,te)|0,A=A+Math.imul(we,ie)|0,v=v+Math.imul(we,fe)|0,v=v+Math.imul(We,ie)|0,E=E+Math.imul(We,fe)|0,A=A+Math.imul(ke,ae)|0,v=v+Math.imul(ke,ye)|0,v=v+Math.imul(tt,ae)|0,E=E+Math.imul(tt,ye)|0;var je=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(je>>>26)|0,je&=67108863,A=Math.imul(ne,bt),v=Math.imul(ne,Je),v=v+Math.imul(le,bt)|0,E=Math.imul(le,Je),A=A+Math.imul(Y,it)|0,v=v+Math.imul(Y,Tt)|0,v=v+Math.imul(V,it)|0,E=E+Math.imul(V,Tt)|0,A=A+Math.imul(ze,ee)|0,v=v+Math.imul(ze,te)|0,v=v+Math.imul(Ke,ee)|0,E=E+Math.imul(Ke,te)|0,A=A+Math.imul(Oe,ie)|0,v=v+Math.imul(Oe,fe)|0,v=v+Math.imul(qe,ie)|0,E=E+Math.imul(qe,fe)|0,A=A+Math.imul(we,ae)|0,v=v+Math.imul(we,ye)|0,v=v+Math.imul(We,ae)|0,E=E+Math.imul(We,ye)|0;var Ze=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,A=Math.imul(ne,it),v=Math.imul(ne,Tt),v=v+Math.imul(le,it)|0,E=Math.imul(le,Tt),A=A+Math.imul(Y,ee)|0,v=v+Math.imul(Y,te)|0,v=v+Math.imul(V,ee)|0,E=E+Math.imul(V,te)|0,A=A+Math.imul(ze,ie)|0,v=v+Math.imul(ze,fe)|0,v=v+Math.imul(Ke,ie)|0,E=E+Math.imul(Ke,fe)|0,A=A+Math.imul(Oe,ae)|0,v=v+Math.imul(Oe,ye)|0,v=v+Math.imul(qe,ae)|0,E=E+Math.imul(qe,ye)|0;var dt=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(dt>>>26)|0,dt&=67108863,A=Math.imul(ne,ee),v=Math.imul(ne,te),v=v+Math.imul(le,ee)|0,E=Math.imul(le,te),A=A+Math.imul(Y,ie)|0,v=v+Math.imul(Y,fe)|0,v=v+Math.imul(V,ie)|0,E=E+Math.imul(V,fe)|0,A=A+Math.imul(ze,ae)|0,v=v+Math.imul(ze,ye)|0,v=v+Math.imul(Ke,ae)|0,E=E+Math.imul(Ke,ye)|0;var ft=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(ft>>>26)|0,ft&=67108863,A=Math.imul(ne,ie),v=Math.imul(ne,fe),v=v+Math.imul(le,ie)|0,E=Math.imul(le,fe),A=A+Math.imul(Y,ae)|0,v=v+Math.imul(Y,ye)|0,v=v+Math.imul(V,ae)|0,E=E+Math.imul(V,ye)|0;var Ue=(P+A|0)+((v&8191)<<13)|0;P=(E+(v>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,A=Math.imul(ne,ae),v=Math.imul(ne,ye),v=v+Math.imul(le,ae)|0,E=Math.imul(le,ye);var Ce=(P+A|0)+((v&8191)<<13)|0;return P=(E+(v>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,N[0]=Le,N[1]=Re,N[2]=$t,N[3]=ut,N[4]=Ot,N[5]=Se,N[6]=be,N[7]=Ee,N[8]=Be,N[9]=Ve,N[10]=Xe,N[11]=xe,N[12]=Pe,N[13]=je,N[14]=Ze,N[15]=dt,N[16]=ft,N[17]=Ue,N[18]=Ce,P!==0&&(N[19]=P,p.length++),p};Math.imul||(x=y);function k($,b,w){w.negative=b.negative^$.negative,w.length=$.length+b.length;for(var p=0,g=0,S=0;S<w.length-1;S++){var N=g;g=0;for(var P=p&67108863,A=Math.min(S,b.length-1),v=Math.max(0,S-$.length+1);v<=A;v++){var E=S-v,M=$.words[E]|0,L=b.words[v]|0,Q=M*L,U=Q&67108863;N=N+(Q/67108864|0)|0,U=U+P|0,P=U&67108863,N=N+(U>>>26)|0,g+=N>>>26,N&=67108863}w.words[S]=P,p=N,N=g}return p!==0?w.words[S]=p:w.length--,w.strip()}function C($,b,w){var p=new I;return p.mulp($,b,w)}i.prototype.mulTo=function(b,w){var p,g=this.length+b.length;return this.length===10&&b.length===10?p=x(this,b,w):g<63?p=y(this,b,w):g<1024?p=k(this,b,w):p=C(this,b,w),p};function I($,b){this.x=$,this.y=b}I.prototype.makeRBT=function(b){for(var w=new Array(b),p=i.prototype._countBits(b)-1,g=0;g<b;g++)w[g]=this.revBin(g,p,b);return w},I.prototype.revBin=function(b,w,p){if(b===0||b===p-1)return b;for(var g=0,S=0;S<w;S++)g|=(b&1)<<w-S-1,b>>=1;return g},I.prototype.permute=function(b,w,p,g,S,N){for(var P=0;P<N;P++)g[P]=w[b[P]],S[P]=p[b[P]]},I.prototype.transform=function(b,w,p,g,S,N){this.permute(N,b,w,p,g,S);for(var P=1;P<S;P<<=1)for(var A=P<<1,v=Math.cos(2*Math.PI/A),E=Math.sin(2*Math.PI/A),M=0;M<S;M+=A)for(var L=v,Q=E,U=0;U<P;U++){var J=p[M+U],Z=g[M+U],re=p[M+U+P],G=g[M+U+P],z=L*re-Q*G;G=L*G+Q*re,re=z,p[M+U]=J+re,g[M+U]=Z+G,p[M+U+P]=J-re,g[M+U+P]=Z-G,U!==A&&(z=v*L-E*Q,Q=v*Q+E*L,L=z)}},I.prototype.guessLen13b=function(b,w){var p=Math.max(w,b)|1,g=p&1,S=0;for(p=p/2|0;p;p=p>>>1)S++;return 1<<S+1+g},I.prototype.conjugate=function(b,w,p){if(!(p<=1))for(var g=0;g<p/2;g++){var S=b[g];b[g]=b[p-g-1],b[p-g-1]=S,S=w[g],w[g]=-w[p-g-1],w[p-g-1]=-S}},I.prototype.normalize13b=function(b,w){for(var p=0,g=0;g<w/2;g++){var S=Math.round(b[2*g+1]/w)*8192+Math.round(b[2*g]/w)+p;b[g]=S&67108863,S<67108864?p=0:p=S/67108864|0}return b},I.prototype.convert13b=function(b,w,p,g){for(var S=0,N=0;N<w;N++)S=S+(b[N]|0),p[2*N]=S&8191,S=S>>>13,p[2*N+1]=S&8191,S=S>>>13;for(N=2*w;N<g;++N)p[N]=0;n(S===0),n((S&-8192)===0)},I.prototype.stub=function(b){for(var w=new Array(b),p=0;p<b;p++)w[p]=0;return w},I.prototype.mulp=function(b,w,p){var g=2*this.guessLen13b(b.length,w.length),S=this.makeRBT(g),N=this.stub(g),P=new Array(g),A=new Array(g),v=new Array(g),E=new Array(g),M=new Array(g),L=new Array(g),Q=p.words;Q.length=g,this.convert13b(b.words,b.length,P,g),this.convert13b(w.words,w.length,E,g),this.transform(P,N,A,v,g,S),this.transform(E,N,M,L,g,S);for(var U=0;U<g;U++){var J=A[U]*M[U]-v[U]*L[U];v[U]=A[U]*L[U]+v[U]*M[U],A[U]=J}return this.conjugate(A,v,g),this.transform(A,v,Q,N,g,S),this.conjugate(Q,N,g),this.normalize13b(Q,g),p.negative=b.negative^w.negative,p.length=b.length+w.length,p.strip()},i.prototype.mul=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),this.mulTo(b,w)},i.prototype.mulf=function(b){var w=new i(null);return w.words=new Array(this.length+b.length),C(this,b,w)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var w=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*b,S=(g&67108863)+(w&67108863);w>>=26,w+=g/67108864|0,w+=S>>>26,this.words[p]=S&67108863}return w!==0&&(this.words[p]=w,this.length++),this.length=b===0?1:this.length,this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var w=m(b);if(w.length===0)return new i(1);for(var p=this,g=0;g<w.length&&w[g]===0;g++,p=p.sqr());if(++g<w.length)for(var S=p.sqr();g<w.length;g++,S=S.sqr())w[g]!==0&&(p=p.mul(S));return p},i.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=67108863>>>26-w<<26-w,S;if(w!==0){var N=0;for(S=0;S<this.length;S++){var P=this.words[S]&g,A=(this.words[S]|0)-P<<w;this.words[S]=A|N,N=P>>>26-w}N&&(this.words[S]=N,this.length++)}if(p!==0){for(S=this.length-1;S>=0;S--)this.words[S+p]=this.words[S];for(S=0;S<p;S++)this.words[S]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,w,p){n(typeof b=="number"&&b>=0);var g;w?g=(w-w%26)/26:g=0;var S=b%26,N=Math.min((b-S)/26,this.length),P=67108863^67108863>>>S<<S,A=p;if(g-=N,g=Math.max(0,g),A){for(var v=0;v<N;v++)A.words[v]=this.words[v];A.length=N}if(N!==0)if(this.length>N)for(this.length-=N,v=0;v<this.length;v++)this.words[v]=this.words[v+N];else this.words[0]=0,this.length=1;var E=0;for(v=this.length-1;v>=0&&(E!==0||v>=g);v--){var M=this.words[v]|0;this.words[v]=E<<26-S|M>>>S,E=M&P}return A&&E!==0&&(A.words[A.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(b,w,p){return n(this.negative===0),this.iushrn(b,w,p)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return!1;var S=this.words[p];return!!(S&g)},i.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var w=b%26,p=(b-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(w!==0&&p++,this.length=Math.min(p,this.length),w!==0){var g=67108863^67108863>>>w<<w;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,w,p){var g=b.length+p,S;this._expand(g);var N,P=0;for(S=0;S<b.length;S++){N=(this.words[S+p]|0)+P;var A=(b.words[S]|0)*w;N-=A&67108863,P=(N>>26)-(A/67108864|0),this.words[S+p]=N&67108863}for(;S<this.length-p;S++)N=(this.words[S+p]|0)+P,P=N>>26,this.words[S+p]=N&67108863;if(P===0)return this.strip();for(n(P===-1),P=0,S=0;S<this.length;S++)N=-(this.words[S]|0)+P,P=N>>26,this.words[S]=N&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(b,w){var p=this.length-b.length,g=this.clone(),S=b,N=S.words[S.length-1]|0,P=this._countBits(N);p=26-P,p!==0&&(S=S.ushln(p),g.iushln(p),N=S.words[S.length-1]|0);var A=g.length-S.length,v;if(w!=="mod"){v=new i(null),v.length=A+1,v.words=new Array(v.length);for(var E=0;E<v.length;E++)v.words[E]=0}var M=g.clone()._ishlnsubmul(S,1,A);M.negative===0&&(g=M,v&&(v.words[A]=1));for(var L=A-1;L>=0;L--){var Q=(g.words[S.length+L]|0)*67108864+(g.words[S.length+L-1]|0);for(Q=Math.min(Q/N|0,67108863),g._ishlnsubmul(S,Q,L);g.negative!==0;)Q--,g.negative=0,g._ishlnsubmul(S,1,L),g.isZero()||(g.negative^=1);v&&(v.words[L]=Q)}return v&&v.strip(),g.strip(),w!=="div"&&p!==0&&g.iushrn(p),{div:v||null,mod:g}},i.prototype.divmod=function(b,w,p){if(n(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,S,N;return this.negative!==0&&b.negative===0?(N=this.neg().divmod(b,w),w!=="mod"&&(g=N.div.neg()),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.iadd(b)),{div:g,mod:S}):this.negative===0&&b.negative!==0?(N=this.divmod(b.neg(),w),w!=="mod"&&(g=N.div.neg()),{div:g,mod:N.mod}):this.negative&b.negative?(N=this.neg().divmod(b.neg(),w),w!=="div"&&(S=N.mod.neg(),p&&S.negative!==0&&S.isub(b)),{div:N.div,mod:S}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?w==="div"?{div:this.divn(b.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modn(b.words[0]))}:this._wordDiv(b,w)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var w=this.divmod(b);if(w.mod.isZero())return w.div;var p=w.div.negative!==0?w.mod.isub(b):w.mod,g=b.ushrn(1),S=b.andln(1),N=p.cmp(g);return N<0||S===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modn=function(b){n(b<=67108863);for(var w=(1<<26)%b,p=0,g=this.length-1;g>=0;g--)p=(w*p+(this.words[g]|0))%b;return p},i.prototype.idivn=function(b){n(b<=67108863);for(var w=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+w*67108864;this.words[p]=g/b|0,w=g%b}return this.strip()},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=new i(0),P=new i(1),A=0;w.isEven()&&p.isEven();)w.iushrn(1),p.iushrn(1),++A;for(var v=p.clone(),E=w.clone();!w.isZero();){for(var M=0,L=1;!(w.words[0]&L)&&M<26;++M,L<<=1);if(M>0)for(w.iushrn(M);M-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(v),S.isub(E)),g.iushrn(1),S.iushrn(1);for(var Q=0,U=1;!(p.words[0]&U)&&Q<26;++Q,U<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(N.isOdd()||P.isOdd())&&(N.iadd(v),P.isub(E)),N.iushrn(1),P.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(N),S.isub(P)):(p.isub(w),N.isub(g),P.isub(S))}return{a:N,b:P,gcd:p.iushln(A)}},i.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var w=this,p=b.clone();w.negative!==0?w=w.umod(b):w=w.clone();for(var g=new i(1),S=new i(0),N=p.clone();w.cmpn(1)>0&&p.cmpn(1)>0;){for(var P=0,A=1;!(w.words[0]&A)&&P<26;++P,A<<=1);if(P>0)for(w.iushrn(P);P-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);for(var v=0,E=1;!(p.words[0]&E)&&v<26;++v,E<<=1);if(v>0)for(p.iushrn(v);v-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);w.cmp(p)>=0?(w.isub(p),g.isub(S)):(p.isub(w),S.isub(g))}var M;return w.cmpn(1)===0?M=g:M=S,M.cmpn(0)<0&&M.iadd(b),M},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var w=this.clone(),p=b.clone();w.negative=0,p.negative=0;for(var g=0;w.isEven()&&p.isEven();g++)w.iushrn(1),p.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;p.isEven();)p.iushrn(1);var S=w.cmp(p);if(S<0){var N=w;w=p,p=N}else if(S===0||p.cmpn(1)===0)break;w.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){n(typeof b=="number");var w=b%26,p=(b-w)/26,g=1<<w;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var S=g,N=p;S!==0&&N<this.length;N++){var P=this.words[N]|0;P+=S,S=P>>>26,P&=67108863,this.words[N]=P}return S!==0&&(this.words[N]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var w=b<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var p;if(this.length>1)p=1;else{w&&(b=-b),n(b<=67108863,"Number is too big");var g=this.words[0]|0;p=g===b?0:g<b?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var w=this.ucmp(b);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var w=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,S=b.words[p]|0;if(g!==S){g<S?w=-1:g>S&&(w=1);break}}return w},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new R(b)},i.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var _={k256:null,p224:null,p192:null,p25519:null};function O($,b){this.name=$,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},O.prototype.ireduce=function(b){var w=b,p;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),p=w.bitLength();while(p>this.n);var g=p<this.n?-1:w.ucmp(this.p);return g===0?(w.words[0]=0,w.length=1):g>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},O.prototype.split=function(b,w){b.iushrn(this.n,0,w)},O.prototype.imulK=function(b){return b.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,O),F.prototype.split=function(b,w){for(var p=4194303,g=Math.min(b.length,9),S=0;S<g;S++)w.words[S]=b.words[S];if(w.length=g,b.length<=9){b.words[0]=0,b.length=1;return}var N=b.words[9];for(w.words[w.length++]=N&p,S=10;S<b.length;S++){var P=b.words[S]|0;b.words[S-10]=(P&p)<<4|N>>>22,N=P}N>>>=22,b.words[S-10]=N,N===0&&b.length>10?b.length-=10:b.length-=9},F.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var w=0,p=0;p<b.length;p++){var g=b.words[p]|0;w+=g*977,b.words[p]=w&67108863,w=g*64+(w/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function D(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,O);function j(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,O);function T(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(T,O),T.prototype.imulK=function(b){for(var w=0,p=0;p<b.length;p++){var g=(b.words[p]|0)*19+w,S=g&67108863;g>>>=26,b.words[p]=S,w=g}return w!==0&&(b.words[b.length++]=w),b},i._prime=function(b){if(_[b])return _[b];var w;if(b==="k256")w=new F;else if(b==="p224")w=new D;else if(b==="p192")w=new j;else if(b==="p25519")w=new T;else throw new Error("Unknown prime "+b);return _[b]=w,w};function R($){if(typeof $=="string"){var b=i._prime($);this.m=b.p,this.prime=b}else n($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}R.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},R.prototype._verify2=function(b,w){n((b.negative|w.negative)===0,"red works only with positives"),n(b.red&&b.red===w.red,"red works only with red numbers")},R.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},R.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},R.prototype.add=function(b,w){this._verify2(b,w);var p=b.add(w);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},R.prototype.iadd=function(b,w){this._verify2(b,w);var p=b.iadd(w);return p.cmp(this.m)>=0&&p.isub(this.m),p},R.prototype.sub=function(b,w){this._verify2(b,w);var p=b.sub(w);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},R.prototype.isub=function(b,w){this._verify2(b,w);var p=b.isub(w);return p.cmpn(0)<0&&p.iadd(this.m),p},R.prototype.shl=function(b,w){return this._verify1(b),this.imod(b.ushln(w))},R.prototype.imul=function(b,w){return this._verify2(b,w),this.imod(b.imul(w))},R.prototype.mul=function(b,w){return this._verify2(b,w),this.imod(b.mul(w))},R.prototype.isqr=function(b){return this.imul(b,b.clone())},R.prototype.sqr=function(b){return this.mul(b,b)},R.prototype.sqrt=function(b){if(b.isZero())return b.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(b,p)}for(var g=this.m.subn(1),S=0;!g.isZero()&&g.andln(1)===0;)S++,g.iushrn(1);n(!g.isZero());var N=new i(1).toRed(this),P=N.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,A).cmp(P)!==0;)v.redIAdd(P);for(var E=this.pow(v,g),M=this.pow(b,g.addn(1).iushrn(1)),L=this.pow(b,g),Q=S;L.cmp(N)!==0;){for(var U=L,J=0;U.cmp(N)!==0;J++)U=U.redSqr();n(J<Q);var Z=this.pow(E,new i(1).iushln(Q-J-1));M=M.redMul(Z),E=Z.redSqr(),L=L.redMul(E),Q=J}return M},R.prototype.invm=function(b){var w=b._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(b,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return b.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=b;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],b);var N=g[0],P=0,A=0,v=w.bitLength()%26;for(v===0&&(v=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],M=v-1;M>=0;M--){var L=E>>M&1;if(N!==g[0]&&(N=this.sqr(N)),L===0&&P===0){A=0;continue}P<<=1,P|=L,A++,!(A!==p&&(S!==0||M!==0))&&(N=this.mul(N,g[P]),A=0,P=0)}v=26}return N},R.prototype.convertTo=function(b){var w=b.umod(this.m);return w===b?w.clone():w},R.prototype.convertFrom=function(b){var w=b.clone();return w.red=null,w},i.mont=function(b){return new q(b)};function q($){R.call(this,$),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,R),q.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},q.prototype.convertFrom=function(b){var w=this.imod(b.mul(this.rinv));return w.red=null,w},q.prototype.imul=function(b,w){if(b.isZero()||w.isZero())return b.words[0]=0,b.length=1,b;var p=b.imul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},q.prototype.mul=function(b,w){if(b.isZero()||w.isZero())return new i(0)._forceRed(this);var p=b.mul(w),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=p.isub(g).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},q.prototype.invm=function(b){var w=this.imod(b._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,Ds)})(NU);var Jh=NU.exports;(function(t){var e=t,r=Jh,n=lm,s=RI;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(u,f,h){var m=new Array(Math.max(u.bitLength(),h)+1),y;for(y=0;y<m.length;y+=1)m[y]=0;var x=1<<f+1,k=u.clone();for(y=0;y<m.length;y++){var C,I=k.andln(x-1);k.isOdd()?(I>(x>>1)-1?C=(x>>1)-I:C=I,k.isubn(C)):C=0,m[y]=C,k.iushrn(1)}return m}e.getNAF=i;function a(u,f){var h=[[],[]];u=u.clone(),f=f.clone();for(var m=0,y=0,x;u.cmpn(-m)>0||f.cmpn(-y)>0;){var k=u.andln(3)+m&3,C=f.andln(3)+y&3;k===3&&(k=-1),C===3&&(C=-1);var I;k&1?(x=u.andln(7)+m&7,(x===3||x===5)&&C===2?I=-k:I=k):I=0,h[0].push(I);var _;C&1?(x=f.andln(7)+y&7,(x===3||x===5)&&k===2?_=-C:_=C):_=0,h[1].push(_),2*m===I+1&&(m=1-m),2*y===_+1&&(y=1-y),u.iushrn(1),f.iushrn(1)}return h}e.getJSF=a;function o(u,f,h){var m="_"+f;u.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l})(_c);var EU={},Rm=Jh,U5=_c,eP=U5.getNAF,xyt=U5.getJSF,tP=U5.assert;function Sm(t,e){this.type=t,this.p=new Rm(e.p,16),this.red=e.prime?Rm.red(e.prime):Rm.mont(this.p),this.zero=new Rm(0).toRed(this.red),this.one=new Rm(1).toRed(this.red),this.two=new Rm(2).toRed(this.red),this.n=e.n&&new Rm(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var YI=Sm;Sm.prototype.point=function(){throw new Error("Not implemented")};Sm.prototype.validate=function(){throw new Error("Not implemented")};Sm.prototype._fixedNafMul=function(e,r){tP(e.precomputed);var n=e._getDoubles(),s=eP(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,c;for(o=0;o<s.length;o+=n.step){c=0;for(var l=o+n.step-1;l>=o;l--)c=(c<<1)+s[l];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)c=a[o],c===h?f=f.mixedAdd(n.points[o]):c===-h&&(f=f.mixedAdd(n.points[o].neg()));u=u.add(f)}return u.toP()};Sm.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=eP(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var u=a[c];tP(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(i[u-1>>1]):o=o.mixedAdd(i[-u-1>>1].neg()):u>0?o=o.add(i[u-1>>1]):o=o.add(i[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Sm.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<s;u++){h=r[u];var m=h._getNAFPoints(e);a[u]=m.wnd,o[u]=m.points}for(u=s-1;u>=1;u-=2){var y=u-1,x=u;if(a[y]!==1||a[x]!==1){c[y]=eP(n[y],a[y],this._bitLength),c[x]=eP(n[x],a[x],this._bitLength),l=Math.max(c[y].length,l),l=Math.max(c[x].length,l);continue}var k=[r[y],null,null,r[x]];r[y].y.cmp(r[x].y)===0?(k[1]=r[y].add(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg())):r[y].y.cmp(r[x].y.redNeg())===0?(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].add(r[x].neg())):(k[1]=r[y].toJ().mixedAdd(r[x]),k[2]=r[y].toJ().mixedAdd(r[x].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],I=xyt(n[y],n[x]);for(l=Math.max(I[0].length,l),c[y]=new Array(l),c[x]=new Array(l),f=0;f<l;f++){var _=I[0][f]|0,O=I[1][f]|0;c[y][f]=C[(_+1)*3+(O+1)],c[x][f]=0,o[y]=k}}var F=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var T=!0;for(f=0;f<s;f++)D[f]=c[f][u]|0,D[f]!==0&&(T=!1);if(!T)break;j++,u--}if(u>=0&&j++,F=F.dblp(j),u<0)break;for(f=0;f<s;f++){var R=D[f];R!==0&&(R>0?h=o[f][R-1>>1]:R<0&&(h=o[f][-R-1>>1].neg()),h.type==="affine"?F=F.mixedAdd(h):F=F.add(h))}}for(u=0;u<s;u++)o[u]=null;return i?F:F.toP()};function jl(t,e){this.curve=t,this.type=e,this.precomputed=null}Sm.BasePoint=jl;jl.prototype.eq=function(){throw new Error("Not implemented")};jl.prototype.validate=function(){return this.curve.validate(this)};Sm.prototype.decodePoint=function(e,r){e=U5.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?tP(e[e.length-1]%2===0):e[0]===7&&tP(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};jl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};jl.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};jl.prototype.encode=function(e,r){return U5.encode(this._encode(r),e)};jl.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};jl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};jl.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}};jl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};jl.prototype._getBeta=function(){return null};jl.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var wyt=_c,ks=Jh,CU=V1,Fw=YI,Ayt=wyt.assert;function Ml(t){Fw.call(this,"short",t),this.a=new ks(t.a,16).toRed(this.red),this.b=new ks(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}CU(Ml,Fw);var Syt=Ml;Ml.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ks(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new ks(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Ayt(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new ks(o.a,16),b:new ks(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Ml.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ks.mont(e),n=new ks(2).toRed(r).redInvm(),s=n.redNeg(),i=new ks(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};Ml.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new ks(1),a=new ks(0),o=new ks(0),c=new ks(1),l,u,f,h,m,y,x,k=0,C,I;n.cmpn(0)!==0;){var _=s.div(n);C=s.sub(_.mul(n)),I=o.sub(_.mul(i));var O=c.sub(_.mul(a));if(!f&&C.cmp(r)<0)l=x.neg(),u=i,f=C.neg(),h=I;else if(f&&++k===2)break;x=C,s=n,n=C,o=i,i=I,c=a,a=O}m=C.neg(),y=I;var F=f.sqr().add(h.sqr()),D=m.sqr().add(y.sqr());return D.cmp(F)>=0&&(m=l,y=u),f.negative&&(f=f.neg(),h=h.neg()),m.negative&&(m=m.neg(),y=y.neg()),[{a:f,b:h},{a:m,b:y}]};Ml.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),c=a.mul(s.a),l=i.mul(n.b),u=a.mul(s.b),f=e.sub(o).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Ml.prototype.pointFromX=function(e,r){e=new ks(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};Ml.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Ml.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),s[a*2]=c,s[a*2+1]=l,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var u=this._wnafMulAdd(1,s,i,a*2,n),f=0;f<a*2;f++)s[f]=null,i[f]=null;return u};function Ci(t,e,r,n){Fw.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ks(e,16),this.y=new ks(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}CU(Ci,Fw.BasePoint);Ml.prototype.point=function(e,r,n){return new Ci(this,e,r,n)};Ml.prototype.pointFromJSON=function(e,r){return Ci.fromJSON(this,e,r)};Ci.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};Ci.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ci.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};Ci.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ci.prototype.isInfinity=function(){return this.inf};Ci.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};Ci.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ci.prototype.getX=function(){return this.x.fromRed()};Ci.prototype.getY=function(){return this.y.fromRed()};Ci.prototype.mul=function(e){return e=new ks(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ci.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};Ci.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};Ci.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ci.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};Ci.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function aa(t,e,r,n){Fw.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ks(0)):(this.x=new ks(e,16),this.y=new ks(r,16),this.z=new ks(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}CU(aa,Fw.BasePoint);Ml.prototype.jpoint=function(e,r,n){return new aa(this,e,r,n)};aa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};aa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};aa.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=s.redSub(i),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=s.redMul(u),m=l.redSqr().redIAdd(f).redISub(h).redISub(h),y=l.redMul(h.redISub(m)).redISub(a.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,y,x)};aa.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),c=i.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),m=c.redMul(f.redISub(h)).redISub(i.redMul(u)),y=this.z.redMul(o);return this.curve.jpoint(h,m,y)};aa.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),m=h.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(s.redMul(l)),x=a.redMul(h),k=y.redSqr().redISub(x.redAdd(x)),C=x.redISub(k),I=y.redMul(C);I=I.redIAdd(I).redISub(m);var _=u.redMul(c);r+1<e&&(l=l.redMul(m)),a=k,c=_,u=I}return this.curve.jpoint(a,u.redMul(i),c)};aa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};aa.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s),l=c.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),m=h.redSqr(),y=this.x.redAdd(h).redSqr().redISub(f).redISub(m);y=y.redIAdd(y);var x=f.redAdd(f).redIAdd(f),k=x.redSqr(),C=m.redIAdd(m);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(y).redISub(y),r=x.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};aa.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var c=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),m=this.x.redMul(h),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var x=m.redIAdd(m);x=x.redIAdd(x);var k=x.redAdd(x);e=y.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var C=h.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(x.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};aa.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(o),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),m=o.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=c.redMul(h).redISub(m),x=n.redAdd(n).redMul(s);return this.curve.jpoint(f,y,x)};aa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,m,y)};aa.prototype.mul=function(e,r){return e=new ks(e,r),this.curve._wnafMul(this,e)};aa.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};aa.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};aa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};aa.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var yy=Jh,G1e=V1,GI=YI,Pyt=_c;function Rw(t){GI.call(this,"mont",t),this.a=new yy(t.a,16).toRed(this.red),this.b=new yy(t.b,16).toRed(this.red),this.i4=new yy(4).toRed(this.red).redInvm(),this.two=new yy(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}G1e(Rw,GI);var kyt=Rw;Rw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function Ii(t,e,r){GI.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new yy(e,16),this.z=new yy(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}G1e(Ii,GI.BasePoint);Rw.prototype.decodePoint=function(e,r){return this.point(Pyt.toArray(e,r),1)};Rw.prototype.point=function(e,r){return new Ii(this,e,r)};Rw.prototype.pointFromJSON=function(e){return Ii.fromJSON(this,e)};Ii.prototype.precompute=function(){};Ii.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ii.fromJSON=function(e,r){return new Ii(e,r[0],r[1]||e.one)};Ii.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ii.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ii.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),a=r.redMul(s),o=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)};Ii.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ii.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),c=i.redMul(s),l=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(l,u)};Ii.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};Ii.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ii.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ii.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ii.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ii.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Iyt=_c,hh=Jh,ebe=V1,eN=YI,Nyt=Iyt.assert;function bf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,eN.call(this,"edwards",t),this.a=new hh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new hh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new hh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Nyt(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}ebe(bf,eN);var Eyt=bf;bf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};bf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};bf.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};bf.prototype.pointFromX=function(e,r){e=new hh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=s.redMul(i.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};bf.prototype.pointFromY=function(e,r){e=new hh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=s.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};bf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function Dn(t,e,r,n,s){eN.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new hh(e,16),this.y=new hh(r,16),this.z=n?new hh(n,16):this.curve.one,this.t=s&&new hh(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ebe(Dn,eN.BasePoint);bf.prototype.pointFromJSON=function(e){return Dn.fromJSON(this,e)};bf.prototype.point=function(e,r,n,s){return new Dn(this,e,r,n,s)};Dn.fromJSON=function(e,r){return new Dn(e,r[0],r[1],r[2])};Dn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Dn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=s.redAdd(r),o=a.redSub(n),c=s.redSub(r),l=i.redMul(o),u=a.redMul(c),f=i.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,f)};Dn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,a,o,c,l;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(o.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),s=e.redSub(r).redISub(n).redMul(l),i=u.redMul(o.redSub(n)),a=u.redMul(l))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=o.redSub(c).redSub(c),s=this.curve._mulC(e.redISub(o)).redMul(l),i=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(l);return this.curve.point(s,i,a)};Dn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Dn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=i.redSub(s),c=i.redAdd(s),l=n.redAdd(r),u=a.redMul(o),f=c.redMul(l),h=a.redMul(l),m=o.redMul(c);return this.curve.point(u,f,m,h)};Dn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(i),o=n.redSub(a),c=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),u=r.redMul(o).redMul(l),f,h;return this.curve.twisted?(f=r.redMul(c).redMul(i.redSub(this.curve._mulA(s))),h=o.redMul(c)):(f=r.redMul(c).redMul(i.redSub(s)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,f,h)};Dn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Dn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Dn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Dn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Dn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Dn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Dn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Dn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Dn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Dn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Dn.prototype.toP=Dn.prototype.normalize;Dn.prototype.mixedAdd=Dn.prototype.add;(function(t){var e=t;e.base=YI,e.short=Syt,e.mont=kyt,e.edwards=Eyt})(EU);var tN={},__,$Q;function Cyt(){return $Q||($Q=1,__={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),__}(function(t){var e=t,r=L1,n=EU,s=_c,i=s.assert;function a(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function o(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new a(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Cyt()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(tN);var _yt=Jh,Tyt=_c,AO=Tyt.assert;function Da(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var jyt=Da;Da.fromPublic=function(e,r,n){return r instanceof Da?r:new Da(e,{pub:r,pubEnc:n})};Da.fromPrivate=function(e,r,n){return r instanceof Da?r:new Da(e,{priv:r,privEnc:n})};Da.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Da.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Da.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Da.prototype._importPrivate=function(e,r){this.priv=new _yt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Da.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?AO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&AO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Da.prototype.derive=function(e){return e.validate()||AO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Da.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Da.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Da.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rP=Jh,_U=_c,Myt=_U.assert;function rN(t,e){if(t instanceof rN)return t;this._importDER(t,e)||(Myt(t.r&&t.s,"Signature without r or s"),this.r=new rP(t.r,16),this.s=new rP(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var $yt=rN;function Oyt(){this.place=0}function T_(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function OQ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}rN.prototype._importDER=function(e,r){e=_U.toArray(e,r);var n=new Oyt;if(e[n.place++]!==48)return!1;var s=T_(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=T_(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=T_(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new rP(a),this.s=new rP(c),this.recoveryParam=null,!0};function j_(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}rN.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=OQ(r),n=OQ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];j_(s,r.length),s=s.concat(r),s.push(2),j_(s,n.length);var i=s.concat(n),a=[48];return j_(a,i.length),a=a.concat(i),_U.encode(a,e)};var o1=Jh,tbe=Qge,Byt=_c,M_=tN,Fyt=DI,rbe=Byt.assert,TU=jyt,nN=$yt;function Il(t){if(!(this instanceof Il))return new Il(t);typeof t=="string"&&(rbe(Object.prototype.hasOwnProperty.call(M_,t),"Unknown curve "+t),t=M_[t]),t instanceof M_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ryt=Il;Il.prototype.keyPair=function(e){return new TU(this,e)};Il.prototype.keyFromPrivate=function(e,r){return TU.fromPrivate(this,e,r)};Il.prototype.keyFromPublic=function(e,r){return TU.fromPublic(this,e,r)};Il.prototype.genKeyPair=function(e){e||(e={});for(var r=new tbe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fyt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new o1(2));;){var i=new o1(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Il.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Il.prototype.sign=function(e,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new o1(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=e.toArray("be",i),c=new tbe({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),l=this.n.sub(new o1(1)),u=0;;u++){var f=s.k?s.k(u):new o1(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var m=h.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var x=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var k=(h.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return s.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),k^=1),new nN({r:y,s:x,recoveryParam:k})}}}}}};Il.prototype.verify=function(e,r,n,s){e=this._truncateToN(new o1(e,16)),n=this.keyFromPublic(n,s),r=new nN(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),l=o.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Il.prototype.recoverPubKey=function(t,e,r,n){rbe((3&r)===r,"The recovery param is more than two bits"),e=new nN(e,n);var s=this.n,i=new o1(t),a=e.r,o=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(s),f=s.sub(i).mul(u).umod(s),h=o.mul(u).umod(s);return this.g.mulAdd(f,a,h)};Il.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new nN(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var z5=_c,nbe=z5.assert,BQ=z5.parseBytes,Dw=z5.cachedProperty;function Si(t,e){this.eddsa=t,this._secret=BQ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=BQ(e.pub)}Si.fromPublic=function(e,r){return r instanceof Si?r:new Si(e,{pub:r})};Si.fromSecret=function(e,r){return r instanceof Si?r:new Si(e,{secret:r})};Si.prototype.secret=function(){return this._secret};Dw(Si,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Dw(Si,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Dw(Si,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});Dw(Si,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Dw(Si,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Dw(Si,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Si.prototype.sign=function(e){return nbe(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Si.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Si.prototype.getSecret=function(e){return nbe(this._secret,"KeyPair is public only"),z5.encode(this.secret(),e)};Si.prototype.getPublic=function(e){return z5.encode(this.pubBytes(),e)};var Dyt=Si,Uyt=Jh,sN=_c,FQ=sN.assert,iN=sN.cachedProperty,zyt=sN.parseBytes;function ab(t,e){this.eddsa=t,typeof e!="object"&&(e=zyt(e)),Array.isArray(e)&&(FQ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),FQ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Uyt&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}iN(ab,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});iN(ab,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});iN(ab,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});iN(ab,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ab.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ab.prototype.toHex=function(){return sN.encode(this.toBytes(),"hex").toUpperCase()};var Lyt=ab,Vyt=L1,Hyt=tN,Xx=_c,qyt=Xx.assert,sbe=Xx.parseBytes,ibe=Dyt,RQ=Lyt;function Lo(t){if(qyt(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Lo))return new Lo(t);t=Hyt[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Vyt.sha512}var Wyt=Lo;Lo.prototype.sign=function(e,r){e=sbe(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=s.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};Lo.prototype.verify=function(e,r,n){if(e=sbe(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(s.pub().mul(i));return o.eq(a)};Lo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Xx.intFromLE(e.digest()).umod(this.curve.n)};Lo.prototype.keyFromPublic=function(e){return ibe.fromPublic(this,e)};Lo.prototype.keyFromSecret=function(e){return ibe.fromSecret(this,e)};Lo.prototype.makeSignature=function(e){return e instanceof RQ?e:new RQ(this,e)};Lo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Lo.prototype.decodePoint=function(e){e=Xx.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=Xx.intFromLE(n);return this.curve.pointFromY(i,s)};Lo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Lo.prototype.decodeInt=function(e){return Xx.intFromLE(e)};Lo.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=vyt.version,e.utils=_c,e.rand=DI,e.curve=EU,e.curves=tN,e.ec=Ryt,e.eddsa=Wyt})(Y1e);var Kyt={},Xyt=Object.defineProperty,DQ=Object.getOwnPropertySymbols,Zyt=Object.prototype.hasOwnProperty,Jyt=Object.prototype.propertyIsEnumerable,UQ=(t,e,r)=>e in t?Xyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zQ=(t,e)=>{for(var r in e||(e={}))Zyt.call(e,r)&&UQ(t,r,e[r]);if(DQ)for(var r of DQ(e))Jyt.call(e,r)&&UQ(t,r,e[r]);return t};const Qyt="ReactNative",xu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Yyt="js";function nP(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function L5(){return!xc()&&!!eb()&&navigator.product===Qyt}function aN(){return!nP()&&!!eb()&&!!xc()}function oN(){return L5()?xu.reactNative:nP()?xu.node:aN()?xu.browser:xu.unknown}function Gyt(){var t;try{return L5()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function evt(t,e){let r=zh.parse(t);return r=zQ(zQ({},r),e),t=zh.stringify(r),t}function tvt(){return gI()||{name:"",description:"",url:"",icons:[""]}}function rvt(){if(oN()===xu.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=VD();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function nvt(){var t;const e=oN();return e===xu.browser?[e,((t=mI())==null?void 0:t.host)||"unknown"].join(":"):e}function abe(t,e,r){const n=rvt(),s=nvt();return[[t,e].join("-"),[Yyt,r].join("-"),n,s].join("/")}function svt({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const c=r.split("?"),l=abe(t,e,n),u={auth:s,ua:l,projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},f=evt(c[1]||"",u);return c[0]+"?"+f}function obe(t){return Object.fromEntries(t.entries())}function cbe(t){return new Map(Object.entries(t))}function ivt(t=Me.FIVE_MINUTES,e){const r=Me.toMiliseconds(t||Me.FIVE_MINUTES);let n,s,i;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,o)=>{i=setTimeout(()=>{o(new Error(e))},r),n=a,s=o})}}function Qy(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const a=await t;n(a)}catch(a){s(a)}clearTimeout(i)})}function lbe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function avt(t){return lbe("topic",t)}function ovt(t){return lbe("id",t)}function cvt(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function O3(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function LQ(t){return Date.now()>=Me.toMiliseconds(t)}function $_(t,e){return`${t}${e?`:${e}`:""}`}function VQ(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function ube(){return typeof process<"u"&&Kyt.IS_VITEST==="true"}function dbe(t){return Buffer.from(t,"base64").toString("utf-8")}const fbe="base10",no="base16",sP="base64pad",V5="utf8",hbe=0,Uw=1,cN=2,lvt=0,HQ=1,B3=12,jU=32;function uvt(){const t=_5.generateKeyPair();return{privateKey:Ai(t.secretKey,no),publicKey:Ai(t.publicKey,no)}}function SO(){const t=Ic.randomBytes(jU);return Ai(t,no)}function dvt(t,e){const r=_5.sharedKey(yi(t,no),yi(e,no),!0),n=new Wge(mf.SHA256,r).expand(jU);return Ai(n,no)}function fvt(t){const e=mf.hash(yi(t,no));return Ai(e,no)}function PO(t){const e=mf.hash(yi(t,V5));return Ai(e,no)}function pbe(t){return yi(`${t}`,fbe)}function O1(t){return Number(Ai(t,fbe))}function hvt(t){const e=pbe(typeof t.type<"u"?t.type:hbe);if(O1(e)===Uw&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?yi(t.senderPublicKey,no):void 0,n=typeof t.iv<"u"?yi(t.iv,no):Ic.randomBytes(B3),s=new E5.ChaCha20Poly1305(yi(t.symKey,no)).seal(n,yi(t.message,V5));return mbe({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function pvt(t,e){const r=pbe(cN),n=Ic.randomBytes(B3),s=yi(t,V5);return mbe({type:r,sealed:s,iv:n,encoding:e})}function mvt(t){const e=new E5.ChaCha20Poly1305(yi(t.symKey,no)),{sealed:r,iv:n}=u4({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return Ai(s,V5)}function gvt(t,e){const{sealed:r}=u4({encoded:t,encoding:e});return Ai(r,V5)}function mbe(t){const{encoding:e=sP}=t;if(O1(t.type)===cN)return Ai(D7([t.type,t.sealed]),e);if(O1(t.type)===Uw){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ai(D7([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Ai(D7([t.type,t.iv,t.sealed]),e)}function u4(t){const{encoded:e,encoding:r=sP}=t,n=yi(e,r),s=n.slice(lvt,HQ),i=HQ;if(O1(s)===Uw){const l=i+jU,u=l+B3,f=n.slice(i,l),h=n.slice(l,u),m=n.slice(u);return{type:s,sealed:m,iv:h,senderPublicKey:f}}if(O1(s)===cN){const l=n.slice(i),u=Ic.randomBytes(B3);return{type:s,sealed:l,iv:u}}const a=i+B3,o=n.slice(i,a),c=n.slice(a);return{type:s,sealed:c,iv:o}}function bvt(t,e){const r=u4({encoded:t,encoding:e==null?void 0:e.encoding});return gbe({type:O1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ai(r.senderPublicKey,no):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function gbe(t){const e=(t==null?void 0:t.type)||hbe;if(e===Uw){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function qQ(t){return t.type===Uw&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function WQ(t){return t.type===cN}function yvt(t){return new Y1e.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function vvt(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function xvt(t){return Buffer.from(vvt(t),"base64")}function wvt(t,e){const[r,n,s]=t.split("."),i=xvt(s);if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32).toString("hex"),o=i.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new mf.SHA256().update(Buffer.from(c)).digest(),u=yvt(e),f=Buffer.from(l).toString("hex");if(!u.verify(f,{r:a,s:o}))throw new Error("Invalid signature");return wO(t).payload}const Avt="irn";function kO(t){return(t==null?void 0:t.relay)||{protocol:Avt}}function c3(t){const e=WD[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Svt=Object.defineProperty,Pvt=Object.defineProperties,kvt=Object.getOwnPropertyDescriptors,KQ=Object.getOwnPropertySymbols,Ivt=Object.prototype.hasOwnProperty,Nvt=Object.prototype.propertyIsEnumerable,XQ=(t,e,r)=>e in t?Svt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ZQ=(t,e)=>{for(var r in e||(e={}))Ivt.call(e,r)&&XQ(t,r,e[r]);if(KQ)for(var r of KQ(e))Nvt.call(e,r)&&XQ(t,r,e[r]);return t},Evt=(t,e)=>Pvt(t,kvt(e));function Cvt(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=t[s];r[i]=a}}),r}function JQ(t){if(!t.includes("wc:")){const c=dbe(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=zh.parse(i),o=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:_vt(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Cvt(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function _vt(t){return t.startsWith("//")?t.substring(2):t}function Tvt(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=r+e+s;t[s]&&(n[i]=t[s])}),n}function QQ(t){return`${t.protocol}:${t.topic}@${t.version}?`+zh.stringify(ZQ(Evt(ZQ({symKey:t.symKey},Tvt(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}const jvt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Mvt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function dn(t,e){const{message:r,code:n}=Mvt[t];return{message:e?`${r} ${e}`:r,code:n}}function l3(t,e){const{message:r,code:n}=jvt[t];return{message:e?`${r} ${e}`:r,code:n}}function $vt(t,e){return!!Array.isArray(t)}function IO(t){return typeof t>"u"}function bbe(t,e){return typeof t=="string"&&!!t.trim().length}function Ovt(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(bbe(t,!1)){if(e(t))return!0;const r=dbe(t);return e(r)}}catch{}return!1}function Bvt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Fvt(t){return t==null?void 0:t.topic}function O_(t){return typeof t<"u"&&typeof t!==null}function YQ(){const t=oN();return new Promise(e=>{switch(t){case xu.browser:e(Rvt());break;case xu.reactNative:e(Dvt());break;case xu.node:e(Uvt());break;default:e(!0)}})}function Rvt(){return aN()&&(navigator==null?void 0:navigator.onLine)}async function Dvt(){if(L5()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Uvt(){return!0}function zvt(t){switch(oN()){case xu.browser:Lvt(t);break;case xu.reactNative:Vvt(t);break}}function Lvt(t){!L5()&&aN()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Vvt(t){L5()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Hvt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),qvt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",GQ=t=>t.split("?")[0],eY=10,Wvt=Hvt();let Kvt=class{constructor(e){if(this.url=e,this.events=new Un.EventEmitter,this.registering=!1,!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Js(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!qx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=new URLSearchParams(e).get("origin"),i=NI.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!iU(e)},a=new Wvt(e,[],i);qvt()?a.onerror=o=>{const c=o;n(this.emitError(c.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Pi(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=vm(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return sU(e,GQ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eY&&this.events.setMaxListeners(eY)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${GQ(this.url)}`));return this.events.emit("register_error",r),r}};const ybe="wc",vbe=2,MU="core",of=`${ybe}@2:${MU}:`,Xvt={name:MU,logger:"error"},Zvt={database:":memory:"},Jvt="crypto",tY="client_ed25519_seed",Qvt=Me.ONE_DAY,Yvt="keychain",Gvt="0.3",ext="messages",txt="0.3",rxt=Me.SIX_HOURS,nxt="publisher",sxt="irn",ixt="error",xbe="wss://relay.walletconnect.org",axt="relayer",lc={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},oxt="_subscription",Vc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},cxt=.1,NO="2.17.1",Zx={link_mode:"link_mode",relay:"relay"},lxt="0.3",uxt="WALLETCONNECT_CLIENT_ID",rY="WALLETCONNECT_LINK_MODE_APPS",sd={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},dxt="subscription",fxt="0.3",hxt=Me.FIVE_SECONDS*1e3,pxt="pairing",mxt="0.3",E2={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},C2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Vl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},gxt="history",bxt="0.3",yxt="expirer",Kl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vxt="0.3",xxt="verify-api",wxt="https://verify.walletconnect.com",wbe="https://verify.walletconnect.org",U7=wbe,Axt=`${U7}/v3`,Sxt=[wxt,wbe],Pxt="echo",kxt="https://echo.walletconnect.com",_f={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},k0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ixt=.1,Nxt="event-client",Ext=86400,Cxt="https://pulse.walletconnect.org/batch";function _xt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var x=0,k=0,C=0,I=y.length;C!==I&&y[C]===0;)C++,x++;for(var _=(I-C)*u+1>>>0,O=new Uint8Array(_);C!==I;){for(var F=y[C],D=0,j=_-1;(F!==0||D<k)&&j!==-1;j--,D++)F+=256*O[j]>>>0,O[j]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");k=D,C++}for(var T=_-k;T!==_&&O[T]===0;)T++;for(var R=c.repeat(x);T<_;++T)R+=t.charAt(O[T]);return R}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var x=0;if(y[x]!==" "){for(var k=0,C=0;y[x]===c;)k++,x++;for(var I=(y.length-x)*l+1>>>0,_=new Uint8Array(I);y[x];){var O=r[y.charCodeAt(x)];if(O===255)return;for(var F=0,D=I-1;(O!==0||F<C)&&D!==-1;D--,F++)O+=o*_[D]>>>0,_[D]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=F,x++}if(y[x]!==" "){for(var j=I-C;j!==I&&_[j]===0;)j++;for(var T=new Uint8Array(k+(I-j)),R=k;j!==I;)T[R++]=_[j++];return T}}}function m(y){var x=h(y);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:m}}var Txt=_xt,jxt=Txt;const Abe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Mxt=t=>new TextEncoder().encode(t),$xt=t=>new TextDecoder().decode(t);class Oxt{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Bxt{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Sbe(this,e)}}class Fxt{constructor(e){this.decoders=e}or(e){return Sbe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Sbe=(t,e)=>new Fxt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Rxt{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Oxt(e,r,n),this.decoder=new Bxt(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const lN=({name:t,prefix:e,encode:r,decode:n})=>new Rxt(t,e,r,n),H5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=jxt(r,e);return lN({prefix:t,name:e,encode:n,decode:i=>Abe(s(i))})},Dxt=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,o+=r,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Uxt=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},oa=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>lN({prefix:e,name:t,encode(s){return Uxt(s,n,r)},decode(s){return Dxt(s,n,r,t)}}),zxt=lN({prefix:"\0",name:"identity",encode:t=>$xt(t),decode:t=>Mxt(t)});var Lxt=Object.freeze({__proto__:null,identity:zxt});const Vxt=oa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Hxt=Object.freeze({__proto__:null,base2:Vxt});const qxt=oa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wxt=Object.freeze({__proto__:null,base8:qxt});const Kxt=H5({prefix:"9",name:"base10",alphabet:"0123456789"});var Xxt=Object.freeze({__proto__:null,base10:Kxt});const Zxt=oa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jxt=oa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qxt=Object.freeze({__proto__:null,base16:Zxt,base16upper:Jxt});const Yxt=oa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Gxt=oa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ewt=oa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),twt=oa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rwt=oa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nwt=oa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),swt=oa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iwt=oa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),awt=oa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var owt=Object.freeze({__proto__:null,base32:Yxt,base32upper:Gxt,base32pad:ewt,base32padupper:twt,base32hex:rwt,base32hexupper:nwt,base32hexpad:swt,base32hexpadupper:iwt,base32z:awt});const cwt=H5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lwt=H5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var uwt=Object.freeze({__proto__:null,base36:cwt,base36upper:lwt});const dwt=H5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fwt=H5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hwt=Object.freeze({__proto__:null,base58btc:dwt,base58flickr:fwt});const pwt=oa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mwt=oa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gwt=oa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bwt=oa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ywt=Object.freeze({__proto__:null,base64:pwt,base64pad:mwt,base64url:gwt,base64urlpad:bwt});const Pbe=Array.from(""),vwt=Pbe.reduce((t,e,r)=>(t[r]=e,t),[]),xwt=Pbe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function wwt(t){return t.reduce((e,r)=>(e+=vwt[r],e),"")}function Awt(t){const e=[];for(const r of t){const n=xwt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Swt=lN({prefix:"",name:"base256emoji",encode:wwt,decode:Awt});var Pwt=Object.freeze({__proto__:null,base256emoji:Swt}),kwt=kbe,nY=128,Iwt=127,Nwt=~Iwt,Ewt=Math.pow(2,31);function kbe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Ewt;)e[r++]=t&255|nY,t/=128;for(;t&Nwt;)e[r++]=t&255|nY,t>>>=7;return e[r]=t|0,kbe.bytes=r-n+1,e}var Cwt=EO,_wt=128,sY=127;function EO(t,n){var r=0,n=n||0,s=0,i=n,a,o=t.length;do{if(i>=o)throw EO.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=s<28?(a&sY)<<s:(a&sY)*Math.pow(2,s),s+=7}while(a>=_wt);return EO.bytes=i-n,r}var Twt=Math.pow(2,7),jwt=Math.pow(2,14),Mwt=Math.pow(2,21),$wt=Math.pow(2,28),Owt=Math.pow(2,35),Bwt=Math.pow(2,42),Fwt=Math.pow(2,49),Rwt=Math.pow(2,56),Dwt=Math.pow(2,63),Uwt=function(t){return t<Twt?1:t<jwt?2:t<Mwt?3:t<$wt?4:t<Owt?5:t<Bwt?6:t<Fwt?7:t<Rwt?8:t<Dwt?9:10},zwt={encode:kwt,decode:Cwt,encodingLength:Uwt},Ibe=zwt;const iY=(t,e,r=0)=>(Ibe.encode(t,e,r),e),aY=t=>Ibe.encodingLength(t),CO=(t,e)=>{const r=e.byteLength,n=aY(t),s=n+aY(r),i=new Uint8Array(s+r);return iY(t,i,0),iY(r,i,n),i.set(e,s),new Lwt(t,r,e,i)};class Lwt{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const Nbe=({name:t,code:e,encode:r})=>new Vwt(t,e,r);class Vwt{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?CO(this.code,r):r.then(n=>CO(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Ebe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Hwt=Nbe({name:"sha2-256",code:18,encode:Ebe("SHA-256")}),qwt=Nbe({name:"sha2-512",code:19,encode:Ebe("SHA-512")});var Wwt=Object.freeze({__proto__:null,sha256:Hwt,sha512:qwt});const Cbe=0,Kwt="identity",_be=Abe,Xwt=t=>CO(Cbe,_be(t)),Zwt={code:Cbe,name:Kwt,encode:_be,digest:Xwt};var Jwt=Object.freeze({__proto__:null,identity:Zwt});new TextEncoder,new TextDecoder;const oY={...Lxt,...Hxt,...Wxt,...Xxt,...Qxt,...owt,...uwt,...hwt,...ywt,...Pwt};({...Wwt,...Jwt});function Qwt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Tbe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const cY=Tbe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),B_=Tbe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Qwt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Ywt={utf8:cY,"utf-8":cY,hex:oY.base16,latin1:B_,ascii:B_,binary:B_,...oY};function Gwt(t,e="utf8"){const r=Ywt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}class e2t{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Yvt,this.version=Gvt,this.initialized=!1,this.storagePrefix=of,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=dn("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Ho(r,this.name)}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,obe(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?cbe(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class t2t{constructor(e,r,n){this.core=e,this.logger=r,this.name=Jvt,this.randomSessionIdentifier=SO(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=MQ(s);return Q1e(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=uvt();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),a=MQ(i),o=this.randomSessionIdentifier;return await syt(o,s,Qvt,a)},this.generateSharedKey=(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),c=dvt(o,i);return this.setSymKey(c,a)},this.setSymKey=async(s,i)=>{this.isInitialized();const a=i||fvt(s);return await this.keychain.set(a,s),a},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,a)=>{this.isInitialized();const o=gbe(a),c=Js(i);if(WQ(o))return pvt(c,a==null?void 0:a.encoding);if(qQ(o)){const h=o.senderPublicKey,m=o.receiverPublicKey;s=await this.generateSharedKey(h,m)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=o;return hvt({type:u,symKey:l,message:c,senderPublicKey:f,encoding:a==null?void 0:a.encoding})},this.decode=async(s,i,a)=>{this.isInitialized();const o=bvt(i,a);if(WQ(o)){const c=gvt(i,a==null?void 0:a.encoding);return Pi(c)}if(qQ(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=mvt({symKey:c,encoded:i,encoding:a==null?void 0:a.encoding});return Pi(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(s,i=sP)=>{const a=u4({encoded:s,encoding:i});return O1(a.type)},this.getPayloadSenderPublicKey=(s,i=sP)=>{const a=u4({encoded:s,encoding:i});return a.senderPublicKey?Ai(a.senderPublicKey,no):void 0},this.core=e,this.logger=Ho(r,this.name),this.keychain=n||new e2t(this.core,this.logger)}get context(){return Cc(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tY)}catch{e=SO(),await this.keychain.set(tY,e)}return Gwt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class r2t extends Fbt{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=ext,this.version=txt,this.initialized=!1,this.storagePrefix=of,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=PO(s);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[i]<"u"||(a[i]=s,this.messages.set(n,a),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),a=PO(s);return typeof i[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ho(e,this.name),this.core=r}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,obe(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?cbe(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class n2t extends Rbt{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Un.EventEmitter,this.name=nxt,this.queue=new Map,this.publishTimeout=Me.toMiliseconds(Me.ONE_MINUTE),this.failedPublishTimeout=Me.toMiliseconds(Me.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const o=(i==null?void 0:i.ttl)||rxt,c=kO(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||ml().toString(),h={topic:n,message:s,opts:{ttl:o,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation}},m=`Failed to publish payload, please try again. id:${f} tag:${u}`,y=Date.now();let x,k=1;try{for(;x===void 0;){if(Date.now()-y>this.publishTimeout)throw new Error(m);this.logger.trace({id:f,attempts:k},`publisher.publish - attempt ${k}`),x=await await Qy(this.rpcPublish(n,s,o,c,l,u,f,i==null?void 0:i.attestation).catch(C=>this.logger.warn(C)),this.publishTimeout,m),k++,x||await new Promise(C=>setTimeout(C,this.failedPublishTimeout))}this.relayer.events.emit(lc.publish,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:s,opts:i}})}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw C;this.queue.set(f,h)}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=Ho(r,this.name),this.registerEventListeners()}get context(){return Cc(this.logger)}rpcPublish(e,r,n,s,i,a,o,c){var l,u,f,h;const m={method:c3(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:i,tag:a,attestation:c},id:o};return IO((l=m.params)==null?void 0:l.prompt)&&((u=m.params)==null||delete u.prompt),IO((f=m.params)==null?void 0:f.tag)&&((h=m.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.request(m)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(lc.connection_stalled);return}this.checkQueue()}),this.relayer.on(lc.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class s2t{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var i2t=Object.defineProperty,a2t=Object.defineProperties,o2t=Object.getOwnPropertyDescriptors,lY=Object.getOwnPropertySymbols,c2t=Object.prototype.hasOwnProperty,l2t=Object.prototype.propertyIsEnumerable,uY=(t,e,r)=>e in t?i2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_2=(t,e)=>{for(var r in e||(e={}))c2t.call(e,r)&&uY(t,r,e[r]);if(lY)for(var r of lY(e))l2t.call(e,r)&&uY(t,r,e[r]);return t},F_=(t,e)=>a2t(t,o2t(e));class u2t extends zbt{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new s2t,this.events=new Un.EventEmitter,this.name=dxt,this.version=fxt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=of,this.subscribeTimeout=Me.toMiliseconds(Me.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=kO(s),a={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,a);const o=await this.rpcSubscribe(n,i,s);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const s=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((i,a)=>{const o=new Me.Watch;o.start(s);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),o.stop(s),i(!0)),o.elapsed(s)>=hxt&&(clearInterval(c),o.stop(s),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ho(r,this.name),this.clientId=""}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=kO(n);await this.rpcUnsubscribe(e,r,s);const i=l3("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(n==null?void 0:n.transportType)===Zx.relay&&await this.restartToComplete();const i={method:c3(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const a=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const o=PO(e+this.clientId);if((n==null?void 0:n.transportType)===Zx.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(l=>this.logger.warn(l))},Me.toMiliseconds(Me.ONE_SECOND)),o;const c=await Qy(this.relayer.request(i).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(lc.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:c3(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Qy(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(lc.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:c3(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Qy(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(lc.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:c3(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,F_(_2({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,_2({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,_2({},r)),this.topicMap.set(r.topic,e),this.events.emit(sd.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=dn("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(sd.deleted,F_(_2({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(sd.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(sd.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);$vt(r)&&this.onBatchSubscribe(r.map((n,s)=>F_(_2({},e[s]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Gi.pulse,async()=>{await this.checkPending()}),this.events.on(sd.created,async e=>{const r=sd.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(sd.deleted,async e=>{const r=sd.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var d2t=Object.defineProperty,dY=Object.getOwnPropertySymbols,f2t=Object.prototype.hasOwnProperty,h2t=Object.prototype.propertyIsEnumerable,fY=(t,e,r)=>e in t?d2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hY=(t,e)=>{for(var r in e||(e={}))f2t.call(e,r)&&fY(t,r,e[r]);if(dY)for(var r of dY(e))h2t.call(e,r)&&fY(t,r,e[r]);return t};class p2t extends Dbt{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Un.EventEmitter,this.name=axt,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Me.toMiliseconds(Me.THIRTY_SECONDS+Me.ONE_SECOND),this.request=async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||ml().toString();await this.toEstablishConnection();try{const a=this.provider.request(r);this.requestsInFlight.set(i,{promise:a,request:r}),this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const o=await new Promise(async(c,l)=>{const u=()=>{l(new Error(`relayer.request - publish interrupted, id: ${i}`))};this.provider.on(Vc.disconnect,u);const f=await a;this.provider.off(Vc.disconnect,u),c(f)});return this.logger.trace({id:i,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - published"),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(nP())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s;(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||s.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(lc.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(lc.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Vc.payload,this.onPayloadHandler),this.provider.on(Vc.connect,this.onConnectHandler),this.provider.on(Vc.disconnect,this.onDisconnectHandler),this.provider.on(Vc.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ho(e.logger,this.name):kU(q1e({level:e.logger||ixt})),this.messages=new r2t(this.logger,e.core),this.subscriber=new u2t(this,this.logger),this.publisher=new n2t(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||xbe,this.projectId=e.projectId,this.bundleId=Gyt(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Cc(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Zx.relay})}async subscribe(e,r){var n,s,i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let o=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(sd.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(sd.created,l)}),new Promise(async(u,f)=>{o=await this.subscriber.subscribe(e,hY({internal:{throwOnFailedPublish:a}},r)).catch(h=>{a&&f(h)})||o,u()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Qy(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const s=()=>{this.provider.off(Vc.disconnect,s),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Vc.disconnect,s),await Qy(this.provider.connect(),Me.toMiliseconds(Me.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{n(i)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(i=>{this.logger.error(i),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await YQ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=O3(Me.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(lc.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,s,i;if(nP())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new aU(new Kvt(svt({sdkVersion:NO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),xm(e)){if(!e.method.endsWith(oxt))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:a}=r.data,o={topic:n,message:s,publishedAt:i,transportType:Zx.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(hY({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xh(e)&&this.events.emit(lc.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(lc.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=ym(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Vc.payload,this.onPayloadHandler),this.provider.off(Vc.connect,this.onConnectHandler),this.provider.off(Vc.disconnect,this.onDisconnectHandler),this.provider.off(Vc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await YQ();zvt(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(lc.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},Me.toMiliseconds(cxt))))}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var m2t=Object.defineProperty,pY=Object.getOwnPropertySymbols,g2t=Object.prototype.hasOwnProperty,b2t=Object.prototype.propertyIsEnumerable,mY=(t,e,r)=>e in t?m2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gY=(t,e)=>{for(var r in e||(e={}))g2t.call(e,r)&&mY(t,r,e[r]);if(pY)for(var r of pY(e))b2t.call(e,r)&&mY(t,r,e[r]);return t};class y2t extends Ubt{constructor(e,r,n,s=of,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=lxt,this.cached=[],this.initialized=!1,this.storagePrefix=of,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!IO(a)?this.map.set(this.getKey(a),a):Bvt(a)?this.map.set(a.id,a):Fvt(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>x1e(o[c],a[c]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=gY(gY({},this.getData(a)),o);this.map.set(a,c),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())},this.logger=Ho(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=dn("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=dn("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class v2t{constructor(e,r){this.core=e,this.logger=r,this.name=pxt,this.version=mxt,this.events=new q4,this.initialized=!1,this.storagePrefix=of,this.ignoredPayloadTypes=[Uw],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const s=SO(),i=await this.core.crypto.setSymKey(s),a=O3(Me.FIVE_MINUTES),o={protocol:sxt},c={topic:i,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},l=QQ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(C2.create,c),this.core.expirer.set(i,a),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:l}},this.pair=async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[_f.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:a,relay:o,expiryTimestamp:c,methods:l}=JQ(n.uri);s.props.properties.topic=i,s.addTrace(_f.pairing_uri_validation_success),s.addTrace(_f.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(_f.existing_pairing),u.active)throw s.setError(k0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(_f.pairing_not_expired)}const f=c||O3(Me.FIVE_MINUTES),h={topic:i,relay:o,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,h),s.addTrace(_f.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(C2.create,h),s.addTrace(_f.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(_f.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(k0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:o})}catch(m){throw s.setError(k0.subscribe_pairing_topic_failure),m}return s.addTrace(_f.subscribe_pairing_topic_success),h},this.activate=async({topic:n})=>{this.isInitialized();const s=O3(Me.THIRTY_DAYS);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=ivt();this.events.once($_("pairing_ping",i),({error:l})=>{l?c(l):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",l3("USER_DISCONNECTED")),await this.deletePairing(s))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(s);return QQ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:a,methods:o})},this.sendRequest=async(n,s,i)=>{const a=gl(s,i),o=await this.core.crypto.encode(n,a),c=E2[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id},this.sendResult=async(n,s,i)=>{const a=ym(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=E2[c.request.method].res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.sendError=async(n,s,i)=>{const a=vm(n,i),o=await this.core.crypto.encode(s,a),c=await this.core.history.get(s,n),l=E2[c.request.method]?E2[c.request.method].res:E2.unregistered_method.res;await this.core.relayer.publish(s,o,l),await this.core.history.resolve(a)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,l3("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>LQ(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(C2.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{sc(s)?this.events.emit($_("pairing_ping",i),{}):Ri(s)&&this.events.emit($_("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(C2.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=l3("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(l3("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,s)=>{var i;if(!O_(n)){const{message:o}=dn("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(k0.malformed_pairing_uri),new Error(o)}if(!Ovt(n.uri)){const{message:o}=dn("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(k0.malformed_pairing_uri),new Error(o)}const a=JQ(n==null?void 0:n.uri);if(!((i=a==null?void 0:a.relay)!=null&&i.protocol)){const{message:o}=dn("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(k0.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=dn("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(k0.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Me.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){s.setError(k0.pairing_expired);const{message:o}=dn("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!O_(n)){const{message:i}=dn("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!O_(n)){const{message:i}=dn("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!bbe(n)){const{message:s}=dn("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=dn("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(LQ(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=dn("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=Ho(r,this.name),this.pairings=new y2t(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Cc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(lc.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(!this.pairings.keys.includes(r)||s===Zx.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{xm(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Xh(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Kl.expired,async e=>{const{topic:r}=cvt(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(C2.expire,{topic:r}))})}}class x2t extends Bbt{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Un.EventEmitter,this.name=gxt,this.version=bxt,this.cached=[],this.initialized=!1,this.storagePrefix=of,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:O3(Me.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Vl.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Vl.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Vl.deleted,i)}}),this.persist()},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=Ho(r,this.name)}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=dn("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Vl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Vl.created,e=>{const r=Vl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vl.updated,e=>{const r=Vl.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vl.deleted,e=>{const r=Vl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Me.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Vl.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class w2t extends Lbt{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Un.EventEmitter,this.name=yxt,this.version=vxt,this.cached=[],this.initialized=!1,this.storagePrefix=of,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Kl.created,{target:i,expiration:a})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Kl.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=Ho(r,this.name)}get context(){return Cc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return avt(e);if(typeof e=="number")return ovt(e);const{message:r}=dn("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Kl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=dn("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Me.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Kl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gi.pulse,()=>this.checkExpirations()),this.events.on(Kl.created,e=>{const r=Kl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Kl.expired,e=>{const r=Kl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Kl.deleted,e=>{const r=Kl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=dn("NOT_INITIALIZED",this.name);throw new Error(e)}}}class A2t extends Vbt{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=xxt,this.verifyUrlV3=Axt,this.storagePrefix=of,this.version=vbe,this.init=async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async s=>{if(!aN()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:o}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${o}`;try{const l=xc(),u=this.startAbortTimer(Me.ONE_SECOND*5),f=await new Promise((h,m)=>{const y=()=>{window.removeEventListener("message",k),l.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const x=l.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",y,{signal:this.abortController.signal});const k=C=>{if(C.data&&typeof C.data=="string")try{const I=JSON.parse(C.data);if(I.type==="verify_attestation"){if(wO(I.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(x),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",k),h(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};l.body.appendChild(x),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""},this.resolve=async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:o}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(wO(i).payload.id!==o)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(a,c)},this.fetchAttestation=async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer(Me.ONE_SECOND*5),o=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0},this.getVerifyUrl=s=>{let i=s||U7;return Sxt.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${U7}`),i=U7),i},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Me.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}},this.persistPublicKey=async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s},this.validateAttestation=(s,i)=>{const a=wvt(s,i.publicKey),o={hasExpired:Me.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}},this.logger=Ho(r,this.name),this.abortController=new AbortController,this.isDevEnv=ube(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Cc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}}class S2t extends Hbt{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=Pxt,this.registerDeviceToken=async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,c=`${kxt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})},this.logger=Ho(r,this.context)}}var P2t=Object.defineProperty,bY=Object.getOwnPropertySymbols,k2t=Object.prototype.hasOwnProperty,I2t=Object.prototype.propertyIsEnumerable,yY=(t,e,r)=>e in t?P2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T2=(t,e)=>{for(var r in e||(e={}))k2t.call(e,r)&&yY(t,r,e[r]);if(bY)for(var r of bY(e))I2t.call(e,r)&&yY(t,r,e[r]);return t};class N2t extends qbt{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=Nxt,this.storagePrefix=of,this.storageVersion=Ixt,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!ube())try{const s={eventId:VQ(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:abe(this.core.relayer.protocol,this.core.relayer.version,NO)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}},this.createEvent=s=>{const{event:i="ERROR",type:a="",properties:{topic:o,trace:c}}=s,l=VQ(),u=this.core.projectId||"",f=Date.now(),h=T2({eventId:l,timestamp:f,props:{event:i,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return T2(T2({},o),this.setMethods(o.eventId))},this.deleteEvent=s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Gi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(s.timestamp)>Ext&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})},this.setMethods=s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)}),this.addTrace=(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)},this.setError=(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,T2(T2({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}},this.sendEvent=async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Cxt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${NO}${i}`,{method:"POST",body:JSON.stringify(s)})},this.getAppDomain=()=>tvt().url,this.logger=Ho(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var E2t=Object.defineProperty,vY=Object.getOwnPropertySymbols,C2t=Object.prototype.hasOwnProperty,_2t=Object.prototype.propertyIsEnumerable,xY=(t,e,r)=>e in t?E2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wY=(t,e)=>{for(var r in e||(e={}))C2t.call(e,r)&&xY(t,r,e[r]);if(vY)for(var r of vY(e))_2t.call(e,r)&&xY(t,r,e[r]);return t};let T2t=class jbe extends Obt{constructor(e){var r;super(e),this.protocol=ybe,this.version=vbe,this.name=MU,this.events=new Un.EventEmitter,this.initialized=!1,this.on=(a,o)=>this.events.on(a,o),this.once=(a,o)=>this.events.once(a,o),this.off=(a,o)=>this.events.off(a,o),this.removeListener=(a,o)=>this.events.removeListener(a,o),this.dispatchEnvelope=({topic:a,message:o,sessionExists:c})=>{if(!a||!o)return;const l={topic:a,message:o,publishedAt:Date.now(),transportType:Zx.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||xbe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=q1e({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Xvt.logger}),{logger:s,chunkLoggerController:i}=$bt({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,o;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((o=this.logChunkController)==null||o.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ho(s,this.name),this.heartbeat=new ND,this.crypto=new t2t(this,this.logger,e==null?void 0:e.keychain),this.history=new x2t(this,this.logger),this.expirer=new w2t(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new lbt(wY(wY({},Zvt),e==null?void 0:e.storageOptions)),this.relayer=new p2t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new v2t(this,this.logger),this.verify=new A2t(this,this.logger,this.storage),this.echoClient=new S2t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new N2t(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new jbe(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(uxt,n),r}get context(){return Cc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rY,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(rY)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const AY=T2t;var _O={exports:{}},Yy=typeof Reflect=="object"?Reflect:null,SY=Yy&&typeof Yy.apply=="function"?Yy.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},z7;Yy&&typeof Yy.ownKeys=="function"?z7=Yy.ownKeys:Object.getOwnPropertySymbols?z7=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:z7=function(t){return Object.getOwnPropertyNames(t)};function j2t(t){console&&console.warn&&console.warn(t)}var PY=Number.isNaN||function(t){return t!==t};function An(){An.init.call(this)}_O.exports=An,_O.exports.once=B2t,An.EventEmitter=An,An.prototype._events=void 0,An.prototype._eventsCount=0,An.prototype._maxListeners=void 0;var kY=10;function L7(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(An,"defaultMaxListeners",{enumerable:!0,get:function(){return kY},set:function(t){if(typeof t!="number"||t<0||PY(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");kY=t}}),An.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},An.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||PY(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Mbe(t){return t._maxListeners===void 0?An.defaultMaxListeners:t._maxListeners}An.prototype.getMaxListeners=function(){return Mbe(this)},An.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")SY(o,this,e);else for(var c=o.length,l=$be(o,c),r=0;r<c;++r)SY(l[r],this,e);return!0};function IY(t,e,r,n){var s,i,a;if(L7(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=Mbe(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,j2t(o)}return t}An.prototype.addListener=function(t,e){return IY(this,t,e,!1)},An.prototype.on=An.prototype.addListener,An.prototype.prependListener=function(t,e){return IY(this,t,e,!0)};function M2t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function NY(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=M2t.bind(n);return s.listener=r,n.wrapFn=s,s}An.prototype.once=function(t,e){return L7(e),this.on(t,NY(this,t,e)),this},An.prototype.prependOnceListener=function(t,e){return L7(e),this.prependListener(t,NY(this,t,e)),this},An.prototype.removeListener=function(t,e){var r,n,s,i,a;if(L7(e),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,s=i;break}if(s<0)return this;s===0?r.shift():$2t(r,s),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this},An.prototype.off=An.prototype.removeListener,An.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),i;for(n=0;n<s.length;++n)i=s[n],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function EY(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?O2t(s):$be(s,s.length)}An.prototype.listeners=function(t){return EY(this,t,!0)},An.prototype.rawListeners=function(t){return EY(this,t,!1)},An.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):CY.call(t,e)},An.prototype.listenerCount=CY;function CY(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}An.prototype.eventNames=function(){return this._eventsCount>0?z7(this._events):[]};function $be(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function $2t(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function O2t(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function B2t(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Obe(t,e,i,{once:!0}),e!=="error"&&F2t(t,s,{once:!0})})}function F2t(t,e,r){typeof t.on=="function"&&Obe(t,"error",e,r)}function Obe(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const R2t="Web3Wallet";class D2t{constructor(e){this.opts=e}}class U2t{constructor(e){this.client=e}}var z2t=Object.defineProperty,L2t=Object.defineProperties,V2t=Object.getOwnPropertyDescriptors,_Y=Object.getOwnPropertySymbols,H2t=Object.prototype.hasOwnProperty,q2t=Object.prototype.propertyIsEnumerable,TY=(t,e,r)=>e in t?z2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W2t=(t,e)=>{for(var r in e||(e={}))H2t.call(e,r)&&TY(t,r,e[r]);if(_Y)for(var r of _Y(e))q2t.call(e,r)&&TY(t,r,e[r]);return t},K2t=(t,e)=>L2t(t,V2t(e));class X2t extends U2t{constructor(e){super(e),this.init=async()=>{this.signClient=await Y1t.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.authClient=await Edt.init({core:this.client.core,projectId:"",metadata:this.client.metadata})},this.pair=async r=>{await this.client.core.pairing.pair(r)},this.approveSession=async r=>{const{topic:n,acknowledged:s}=await this.signClient.approve(K2t(W2t({},r),{id:r.id,namespaces:r.namespaces,sessionProperties:r.sessionProperties,sessionConfig:r.sessionConfig}));return await s(),this.signClient.session.get(n)},this.rejectSession=async r=>await this.signClient.reject(r),this.updateSession=async r=>await this.signClient.update(r),this.extendSession=async r=>await this.signClient.extend(r),this.respondSessionRequest=async r=>await this.signClient.respond(r),this.disconnectSession=async r=>await this.signClient.disconnect(r),this.emitSessionEvent=async r=>await this.signClient.emit(r),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((r,n)=>(r[n.topic]=n,r),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.respondAuthRequest=async(r,n)=>await this.authClient.respond(r,n),this.getPendingAuthRequests=()=>this.authClient.requests.getAll().filter(r=>"requester"in r),this.formatMessage=(r,n)=>this.authClient.formatMessage(r,n),this.approveSessionAuthenticate=async r=>await this.signClient.approveSessionAuthenticate(r),this.rejectSessionAuthenticate=async r=>await this.signClient.rejectSessionAuthenticate(r),this.formatAuthMessage=r=>this.signClient.formatAuthMessage(r),this.registerDeviceToken=r=>this.client.core.echoClient.registerDeviceToken(r),this.on=(r,n)=>(this.setEvent(r,"off"),this.setEvent(r,"on"),this.client.events.on(r,n)),this.once=(r,n)=>(this.setEvent(r,"off"),this.setEvent(r,"once"),this.client.events.once(r,n)),this.off=(r,n)=>(this.setEvent(r,"off"),this.client.events.off(r,n)),this.removeListener=(r,n)=>(this.setEvent(r,"removeListener"),this.client.events.removeListener(r,n)),this.onSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onSessionProposal=r=>{this.client.events.emit("session_proposal",r)},this.onSessionDelete=r=>{this.client.events.emit("session_delete",r)},this.onAuthRequest=r=>{this.client.events.emit("auth_request",r)},this.onProposalExpire=r=>{this.client.events.emit("proposal_expire",r)},this.onSessionRequestExpire=r=>{this.client.events.emit("session_request_expire",r)},this.onSessionRequestAuthenticate=r=>{this.client.events.emit("session_authenticate",r)},this.setEvent=(r,n)=>{switch(r){case"session_request":this.signClient.events[n]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[n]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[n]("session_delete",this.onSessionDelete);break;case"auth_request":this.authClient[n]("auth_request",this.onAuthRequest);break;case"proposal_expire":this.signClient.events[n]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[n]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[n]("session_authenticate",this.onSessionRequestAuthenticate);break}},this.signClient={},this.authClient={}}}const Z2t={decryptMessage:async t=>{const e={core:new AY({storageOptions:t.storageOptions,storage:t.storage})};await e.core.crypto.init();const r=e.core.crypto.decode(t.topic,t.encryptedMessage);return e.core=null,r},getMetadata:async t=>{const e={core:new AY({storageOptions:t.storageOptions,storage:t.storage}),sessionStore:null};e.sessionStore=new Q1t(e.core,e.core.logger),await e.sessionStore.init();const r=e.sessionStore.get(t.topic),n=r==null?void 0:r.peer.metadata;return e.core=null,e.sessionStore=null,n}},Bbe=class extends D2t{constructor(t){super(t),this.events=new _O.exports,this.on=(e,r)=>this.engine.on(e,r),this.once=(e,r)=>this.engine.once(e,r),this.off=(e,r)=>this.engine.off(e,r),this.removeListener=(e,r)=>this.engine.removeListener(e,r),this.pair=async e=>{try{return await this.engine.pair(e)}catch(r){throw this.logger.error(r.message),r}},this.approveSession=async e=>{try{return await this.engine.approveSession(e)}catch(r){throw this.logger.error(r.message),r}},this.rejectSession=async e=>{try{return await this.engine.rejectSession(e)}catch(r){throw this.logger.error(r.message),r}},this.updateSession=async e=>{try{return await this.engine.updateSession(e)}catch(r){throw this.logger.error(r.message),r}},this.extendSession=async e=>{try{return await this.engine.extendSession(e)}catch(r){throw this.logger.error(r.message),r}},this.respondSessionRequest=async e=>{try{return await this.engine.respondSessionRequest(e)}catch(r){throw this.logger.error(r.message),r}},this.disconnectSession=async e=>{try{return await this.engine.disconnectSession(e)}catch(r){throw this.logger.error(r.message),r}},this.emitSessionEvent=async e=>{try{return await this.engine.emitSessionEvent(e)}catch(r){throw this.logger.error(r.message),r}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.respondAuthRequest=async(e,r)=>{try{return await this.engine.respondAuthRequest(e,r)}catch(n){throw this.logger.error(n.message),n}},this.getPendingAuthRequests=()=>{try{return this.engine.getPendingAuthRequests()}catch(e){throw this.logger.error(e.message),e}},this.formatMessage=(e,r)=>{try{return this.engine.formatMessage(e,r)}catch(n){throw this.logger.error(n.message),n}},this.registerDeviceToken=e=>{try{return this.engine.registerDeviceToken(e)}catch(r){throw this.logger.error(r.message),r}},this.approveSessionAuthenticate=e=>{try{return this.engine.approveSessionAuthenticate(e)}catch(r){throw this.logger.error(r.message),r}},this.rejectSessionAuthenticate=e=>{try{return this.engine.rejectSessionAuthenticate(e)}catch(r){throw this.logger.error(r.message),r}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(r){throw this.logger.error(r.message),r}},this.metadata=t.metadata,this.name=t.name||R2t,this.signConfig=t.signConfig,this.core=t.core,this.logger=this.core.logger,this.engine=new X2t(this)}static async init(t){const e=new Bbe(t);return await e.initialize(),e}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("Web3Wallet Initialization Success")}catch(t){throw this.logger.info("Web3Wallet Initialization Failure"),this.logger.error(t.message),t}}};let Fbe=Bbe;Fbe.notifications=Z2t;const J2t=Fbe,Q2t="59ef03ea6a2c984a562c685b4bb055c8";class Y2t{constructor(){this.web3wallet=null,this.initialized=!1,this.initPromise=null,this.sessionRequestHandlers=[],this.sessionProposalHandlers=[],this.sessionUpdateHandlers=[]}async init(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this._doInit(),this.initPromise)}async _doInit(){try{const e=new rge({projectId:Q2t});this.web3wallet=await J2t.init({core:e,metadata:{name:"Vault Key",description:"Secure Hardware Wallet",url:"https://vaultkey.app",icons:["https://vaultkey.app/icon.png"]}}),this.setupEventListeners(),this.initialized=!0}catch(e){throw console.error("Failed to initialize WalletConnect:",e),e}}setupEventListeners(){this.web3wallet&&(this.web3wallet.on("session_proposal",this.handleSessionProposal.bind(this)),this.web3wallet.on("session_request",this.handleSessionRequest.bind(this)),this.web3wallet.on("session_delete",()=>{this.notifySessionUpdate()}))}async handleSessionProposal(e){const{requiredNamespaces:r,optionalNamespaces:n}=e.params,s=o=>o?Object.values(o).flatMap(c=>c.chains||[]):[],i=o=>o?Object.values(o).flatMap(c=>c.methods||[]):[],a={id:e.id,proposer:{name:e.params.proposer.metadata.name,description:e.params.proposer.metadata.description,url:e.params.proposer.metadata.url,icons:e.params.proposer.metadata.icons},requiredChains:s(r),optionalChains:s(n),requiredMethods:i(r),optionalMethods:i(n),rawProposal:e};this.sessionProposalHandlers.forEach(o=>o(a))}async handleSessionRequest(e){var f,h;const{topic:r,params:n,id:s}=e,{request:i,chainId:a}=n,o=(f=this.web3wallet)==null?void 0:f.engine.signClient.session.get(r),c=(o==null?void 0:o.peer.metadata.name)||"Unknown DApp",l=(h=o==null?void 0:o.peer.metadata.icons)==null?void 0:h[0],u={id:s,topic:r,method:i.method,params:i.params,chainId:a,dappName:c,dappIcon:l};this.sessionRequestHandlers.forEach(m=>m(u))}notifySessionUpdate(){this.sessionUpdateHandlers.forEach(e=>e())}onSessionRequest(e){return this.sessionRequestHandlers.push(e),()=>{const r=this.sessionRequestHandlers.indexOf(e);r>-1&&this.sessionRequestHandlers.splice(r,1)}}onSessionProposal(e){return this.sessionProposalHandlers.push(e),()=>{const r=this.sessionProposalHandlers.indexOf(e);r>-1&&this.sessionProposalHandlers.splice(r,1)}}onSessionUpdate(e){return this.sessionUpdateHandlers.push(e),()=>{const r=this.sessionUpdateHandlers.indexOf(e);r>-1&&this.sessionUpdateHandlers.splice(r,1)}}async pair(e){this.web3wallet||await this.init(),await this.web3wallet.core.pairing.pair({uri:e})}async approveSession(e,r,n=[1,56,137,43114,42161]){if(!this.web3wallet)throw new Error("WalletConnect not initialized");const s=n.map(c=>`eip155:${c}`),i=[];for(const c of r)for(const l of n)i.push(`eip155:${l}:${c}`);const a=znt({proposal:e.params,supportedNamespaces:{eip155:{chains:s,methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v4"],events:["chainChanged","accountsChanged"],accounts:i}}}),o=await this.web3wallet.approveSession({id:e.id,namespaces:a});return this.notifySessionUpdate(),o}async rejectSession(e){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.rejectSession({id:e,reason:Pp("USER_REJECTED")})}async approveRequest(e,r,n){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.respondSessionRequest({topic:e,response:{id:r,jsonrpc:"2.0",result:n}})}async rejectRequest(e,r){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.respondSessionRequest({topic:e,response:{id:r,jsonrpc:"2.0",error:Pp("USER_REJECTED")}})}async disconnectSession(e){if(!this.web3wallet)throw new Error("WalletConnect not initialized");await this.web3wallet.disconnectSession({topic:e,reason:Pp("USER_DISCONNECTED")}),this.notifySessionUpdate()}getSessions(){if(!this.web3wallet)return[];const e=this.web3wallet.getActiveSessions();return Object.values(e).map(r=>{var n;return{topic:r.topic,name:r.peer.metadata.name,url:r.peer.metadata.url,icon:(n=r.peer.metadata.icons)==null?void 0:n[0],chains:Object.keys(r.namespaces).flatMap(s=>r.namespaces[s].chains||[]),accounts:Object.keys(r.namespaces).flatMap(s=>r.namespaces[s].accounts||[]),expiry:r.expiry}})}isWalletUnlocked(){return tr.getState().status==="unlocked"}async handleSignRequest(e){if(!this.isWalletUnlocked())throw new Error("Wallet is locked. Please unlock first.");const{method:r,params:n}=e;switch(r){case"personal_sign":{const[s]=n,i=s.startsWith("0x")?Buffer.from(s.slice(2),"hex").toString("utf8"):s;return await tr.signMessage(i)}case"eth_sign":{const[,s]=n;return await tr.signMessage(s)}case"eth_signTypedData":case"eth_signTypedData_v4":{const[,s]=n,i=typeof s=="string"?JSON.parse(s):s,a=this.hashTypedData(i);return await tr.signMessage(a)}case"eth_sendTransaction":case"eth_signTransaction":{const[s]=n,i=parseInt(e.chainId.split(":")[1])||1;return await tr.signTransaction({to:s.to,value:s.value||"0x0",data:s.data||"0x",nonce:s.nonce?parseInt(s.nonce,16):void 0,gasLimit:s.gas||s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,chainId:i})}default:return console.warn("Unsupported method:",r),null}}hashTypedData(e){const{domain:r,types:n,primaryType:s,message:i}=e,a={...n};return delete a.EIP712Domain,Fh.hash(r,a,i)}getWeb3Wallet(){return this.web3wallet}isInitialized(){return this.initialized}}const Hl=new Y2t;function G2t(){const{isUnlocked:t,hardwareState:e,walletMode:r,setShowPinModal:n,setPinAction:s,lockWallet:i,disconnectDevice:a,wallets:o}=Yi(),{theme:c,setTheme:l}=R5e(),{toast:u}=Qs(),[f,h]=B.useState(!1),[m,y]=B.useState(""),[x,k]=B.useState(!1),[C,I]=B.useState([]),[_,O]=B.useState(null),[F,D]=B.useState(""),[j,T]=B.useState(!1),R=B.useMemo(()=>o.filter(De=>["ethereum","bsc","polygon","arbitrum","avalanche"].includes(De.chainId)),[o]);B.useEffect(()=>{(async()=>{try{await Hl.init(),I(Hl.getSessions())}catch(nt){console.error("WalletConnect init error:",nt)}})();const He=Hl.onSessionProposal(nt=>{O(nt),h(!1),T(!0)}),gt=Hl.onSessionUpdate(()=>{I(Hl.getSessions())});return()=>{He(),gt()}},[]);const[q,$]=B.useState(!1),[b,w]=B.useState(!1),[p,g]=B.useState(!1),[S,N]=B.useState(""),[P,A]=B.useState(""),v=tr.getSessionTimeoutMs(),[E,M]=B.useState(()=>v>=30*60*1e3?"30":v>=15*60*1e3?"15":v>=5*60*1e3?"5":v>=1*60*1e3?"1":"5"),L=De=>{M(De),De==="never"?tr.setSessionTimeoutMs(24*60*60*1e3):tr.setSessionTimeoutMs(parseInt(De)*60*1e3),u({title:"Auto-Lock Updated",description:De==="never"?"Auto-lock disabled":`Wallet will lock after ${De} minute${De==="1"?"":"s"} of inactivity`})},[Q,U]=B.useState(!1),[J,Z]=B.useState([]),[re,G]=B.useState(["","",""]),[z,se]=B.useState(""),[ce,pe]=B.useState(!1),[_e,ke]=B.useState(!1),[tt,mt]=B.useState(!1),[we,We]=B.useState(!1),[Ae,Oe]=B.useState(null),[qe,Fe]=B.useState(""),[ze,Ke]=B.useState(""),[ct,Y]=B.useState(!1),V=r==="soft_wallet"&&Ur.getSeedPhrase()||"",W=B.useMemo(()=>V?V.split(" "):[],[V]),ne=B.useMemo(()=>{if(r==="soft_wallet"&&_e&&V)try{const De=un.fromPhrase(V);return Ta.fromMnemonic(De,"m/44'/60'/0'/0/0").privateKey}catch{return""}return""},[r,_e,V]),le=()=>{u({title:"Change PIN",description:"This feature will be available in the next update."})},de=()=>{if(!b){w(!0);return}Oe("seed"),Fe(""),Ke(""),We(!0)},me=()=>{if(!tt){mt(!0);return}Oe("privateKey"),Fe(""),Ke(""),We(!0)},rt=async()=>{if(!qe||qe.length<4){Ke("Please enter your PIN");return}Y(!0);try{let De=!1;if(r==="soft_wallet"?De=await Ur.unlock(qe):De=await tr.unlock(qe),!De){Ke("Incorrect PIN. Please try again."),Y(!1);return}Ae==="seed"?$(!0):Ae==="privateKey"&&ke(!0),We(!1),Fe(""),Oe(null)}catch(De){Ke(De.message||"Failed to verify PIN")}finally{Y(!1)}},ht=async()=>{if(!m.trim()){u({title:"Error",description:"Please enter a WalletConnect URI",variant:"destructive"});return}k(!0);try{await Hl.pair(m.trim()),y(""),u({title:"Connecting",description:"Waiting for DApp to respond...",duration:2e3})}catch(De){u({title:"Connection Failed",description:De.message||"Failed to connect",variant:"destructive"})}finally{k(!1)}},ot=async()=>{if(!_||!F){u({title:"Error",description:"Please select a wallet",variant:"destructive"});return}try{await Hl.approveSession(_.rawProposal,[F]),I(Hl.getSessions()),O(null),T(!1),D(""),u({title:"Connected",description:`Connected to ${_.proposer.name}`,duration:2e3})}catch(De){u({title:"Error",description:De.message||"Failed to approve session",variant:"destructive"})}},pt=async()=>{if(_)try{await Hl.rejectSession(_.id)}catch(De){console.error("Reject session error:",De)}O(null),T(!1),D("")},_t=async De=>{try{await Hl.disconnectSession(De),I(Hl.getSessions()),u({title:"Disconnected",description:"Session disconnected",duration:2e3})}catch(He){u({title:"Error",description:He.message||"Failed to disconnect",variant:"destructive"})}},St=async()=>{if(!S||S.length<4){A("Please enter your PIN to confirm deletion");return}try{let De=!1;if(r==="soft_wallet"?De=await Ur.unlock(S):De=await tr.unlock(S),!De){A("Incorrect PIN. Please try again.");return}}catch(De){A(De.message||"Failed to verify PIN");return}r==="soft_wallet"?(await At.clearSoftWallet(),await At.clearEncryptedSeed(),await At.clearAllWalletSeeds(),Ur.lock()):(await At.clearHardWallet(),await a()),g(!1),N(""),A(""),u({title:"Wallet Deleted",description:"Your wallet has been deleted. Please set up a new wallet."}),window.location.reload()},Rt=()=>{const De=[];for(;De.length<3;){const He=Math.floor(Math.random()*W.length);De.includes(He)||De.push(He)}De.sort((He,gt)=>He-gt),Z(De),G(["","",""]),se(""),U(!0)},sr=()=>{J.every((He,gt)=>re[gt].trim().toLowerCase()===W[He].toLowerCase())?(pe(!0),U(!1),u({title:"Backup Verified",description:"Your recovery phrase backup has been confirmed."})):se("One or more words are incorrect. Please try again.")};return t?d.jsxs("div",{className:"p-4 md:p-6 pb-8",children:[d.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[d.jsx(Ew,{}),d.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Settings"})]}),d.jsxs("div",{className:"space-y-4 md:space-y-5 max-w-2xl mx-auto",children:[d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(fx,{className:"h-4 w-4 text-primary"})}),"Wallet Information"]})}),d.jsxs(er,{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),d.jsx("span",{className:"text-sm font-medium",children:e.deviceName||"VaultKey Wallet"})]}),d.jsx(_b,{}),d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Type"}),d.jsx(nr,{variant:"secondary",className:"text-xs",children:r==="soft_wallet"?"Soft Wallet":"Hard Wallet"})]}),d.jsx(_b,{}),d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),d.jsx(nr,{className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20 text-xs",children:e.status==="unlocked"?"Unlocked":"Connected"})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(q2e,{className:"h-4 w-4 text-primary"})}),"Appearance"]})}),d.jsx(er,{children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("div",{className:"p-2 rounded-full bg-muted",children:c==="dark"?d.jsx(H2e,{className:"h-4 w-4"}):d.jsx(Z2e,{className:"h-4 w-4"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium",children:"Dark Mode"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:c==="dark"?"Enabled":"Disabled"})]})]}),d.jsx(PS,{checked:c==="dark",onCheckedChange:De=>l(De?"dark":"light"),"data-testid":"switch-dark-mode"})]})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(gA,{className:"h-4 w-4 text-primary"})}),"WalletConnect"]})}),d.jsxs(er,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Connect to DApp"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Paste WalletConnect URI"})]}),d.jsxs(Te,{size:"sm",onClick:()=>h(!0),"data-testid":"button-walletconnect",children:[d.jsx(fre,{className:"mr-2 h-4 w-4"}),"Connect"]})]}),C.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(_b,{}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium mb-3",children:"Active Connections"}),d.jsx("div",{className:"space-y-2",children:C.map(De=>d.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[De.icon&&d.jsx("img",{src:De.icon,alt:De.name,className:"h-8 w-8 rounded-full"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:De.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:De.url})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>_t(De.topic),"data-testid":`button-disconnect-${De.topic}`,children:d.jsx(G2e,{className:"h-4 w-4 text-destructive"})})]},De.topic))})]})]})]})]}),r!=="soft_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:d.jsx(hl,{className:"h-4 w-4 text-primary"})}),"Security"]})}),d.jsxs(er,{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Change PIN"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Update security PIN"})]}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:le,"data-testid":"button-change-pin",children:[d.jsx(IL,{className:"mr-2 h-4 w-4"}),"Change"]})]}),d.jsx(_b,{}),d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Auto-Lock"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Lock after inactivity"})]}),d.jsxs(_1,{value:E,onValueChange:L,children:[d.jsx(tm,{className:"w-[120px]","data-testid":"select-auto-lock",children:d.jsx(Ux,{})}),d.jsxs(rm,{children:[d.jsx(ll,{value:"1",children:"1 min"}),d.jsx(ll,{value:"5",children:"5 mins"}),d.jsx(ll,{value:"15",children:"15 mins"}),d.jsx(ll,{value:"30",children:"30 mins"}),d.jsx(ll,{value:"never",children:"Never"})]})]})]}),d.jsx(_b,{}),d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Lock Now"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Require PIN again"})]}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:i,"data-testid":"button-lock-now",children:[d.jsx(hl,{className:"mr-2 h-4 w-4"}),"Lock"]})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:d.jsx($s,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),"Recovery Phrase"]})}),d.jsxs(er,{children:[d.jsxs(hn,{className:"mb-4 border-amber-500/30 bg-amber-500/5",children:[d.jsx(fn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),d.jsx(o$,{className:"text-sm",children:"Security Warning"}),d.jsx(pn,{className:"text-xs",children:"Never share your recovery phrase. Anyone with it can access your funds."})]}),q?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 rounded-lg bg-muted/50 p-3",children:W.map((De,He)=>d.jsxs("div",{className:"flex items-center gap-1.5 rounded-md bg-background px-2 py-1.5",children:[d.jsxs("span",{className:"text-xs text-muted-foreground w-4",children:[He+1,"."]}),d.jsx("span",{className:"font-mono text-xs",children:De})]},He))}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Te,{size:"sm",variant:"outline",onClick:()=>{$(!1),w(!1)},"data-testid":"button-hide-seed-phrase",children:[d.jsx(kL,{className:"mr-2 h-4 w-4"}),"Hide"]}),!ce&&d.jsxs(Te,{size:"sm",onClick:Rt,"data-testid":"button-verify-backup",children:[d.jsx(JT,{className:"mr-2 h-4 w-4"}),"Verify Backup"]}),ce&&d.jsxs(nr,{className:"gap-1.5 bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[d.jsx(JT,{className:"h-3 w-3"}),"Backup Verified"]})]})]}):d.jsx("div",{className:"space-y-3",children:b?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Are you sure? Only view for backup purposes."}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:de,"data-testid":"button-confirm-show-seed",children:[d.jsx(p8,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Your recovery phrase is stored securely. Ensure you are in a private location."}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:de,"data-testid":"button-show-seed-phrase",children:[d.jsx(p8,{className:"mr-2 h-4 w-4"}),"Show Recovery Phrase"]})]})})]})]}),r==="soft_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:d.jsx(IL,{className:"h-4 w-4 text-destructive"})}),"Private Key"]})}),d.jsx(er,{children:_e?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"rounded-lg bg-muted/50 p-3 break-all",children:d.jsx("p",{className:"font-mono text-xs",children:ne})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Te,{size:"sm",variant:"outline",onClick:()=>{ke(!1),mt(!1)},"data-testid":"button-hide-private-key",children:[d.jsx(kL,{className:"mr-2 h-4 w-4"}),"Hide"]}),d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(ne),u({title:"Copied",description:"Private key copied to clipboard",duration:2e3})},"data-testid":"button-copy-private-key",children:"Copy"})]})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsxs(hn,{variant:"destructive",className:"border-destructive/30 bg-destructive/5",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(o$,{className:"text-sm",children:"Critical Warning"}),d.jsx(pn,{className:"text-xs",children:"Never share your private key. Anyone with it can access your funds."})]}),tt?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Are you sure? This key controls all your EVM funds."}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Te,{size:"sm",variant:"outline",onClick:()=>mt(!1),children:"Cancel"}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:me,"data-testid":"button-confirm-show-private-key",children:[d.jsx(p8,{className:"mr-2 h-4 w-4"}),"Confirm"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Only export for advanced use cases like importing into other wallets."}),d.jsxs(Te,{size:"sm",variant:"outline",onClick:me,"data-testid":"button-understand-private-key",children:[d.jsx(p8,{className:"mr-2 h-4 w-4"}),"Show Private Key"]})]})]})})]}),r!=="soft_wallet"&&d.jsxs(Gt,{className:"border-destructive/30",children:[d.jsx(jn,{className:"pb-3",children:d.jsxs(Mn,{className:"flex items-center gap-2 text-base md:text-lg",children:[d.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:d.jsx(x3,{className:"h-4 w-4 text-destructive"})}),d.jsx("span",{className:"text-destructive",children:"Danger Zone"})]})}),d.jsx(er,{children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Delete Wallet"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove all data. Requires PIN."})]}),d.jsxs(Te,{size:"sm",variant:"destructive",onClick:()=>g(!0),"data-testid":"button-delete-wallet",children:[d.jsx(x3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})})]})]}),d.jsx(es,{open:p,onOpenChange:De=>{g(De),De||(N(""),A(""))},children:d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Delete Wallet?"}),d.jsx(Kn,{children:"This will remove all wallet data from this device. You will need your recovery phrase to restore your wallet."})]}),d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:"This action cannot be undone. Make sure you have saved your recovery phrase before proceeding."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"reset-pin",children:"Enter your PIN to confirm"}),d.jsx(ar,{id:"reset-pin",type:"password",placeholder:"Enter PIN",value:S,onChange:De=>{N(De.target.value),A("")},maxLength:6,"data-testid":"input-reset-pin"}),P&&d.jsx("p",{className:"text-sm text-destructive",children:P})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),d.jsxs(Te,{variant:"destructive",onClick:St,disabled:!S,"data-testid":"button-confirm-reset",children:[d.jsx(x3,{className:"mr-2 h-4 w-4"}),"Delete Wallet"]})]})]})}),d.jsx(es,{open:Q,onOpenChange:U,children:d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Verify Your Backup"}),d.jsx(Kn,{children:"Enter the following words from your recovery phrase to confirm you have backed it up."})]}),d.jsxs("div",{className:"space-y-4",children:[J.map((De,He)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Zt,{htmlFor:`verify-word-${He}`,children:["Word #",De+1]}),d.jsx(ar,{id:`verify-word-${He}`,placeholder:`Enter word #${De+1}`,value:re[He],onChange:gt=>{const nt=[...re];nt[He]=gt.target.value,G(nt),se("")},"data-testid":`input-verify-word-${He}`})]},De)),z&&d.jsxs(hn,{variant:"destructive",children:[d.jsx(fn,{className:"h-4 w-4"}),d.jsx(pn,{children:z})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),d.jsx(Te,{onClick:sr,disabled:re.some(De=>!De.trim()),"data-testid":"button-confirm-verify",children:"Verify"})]})]})}),d.jsx(es,{open:we,onOpenChange:De=>{We(De),De||(Fe(""),Ke(""),Oe(null))},children:d.jsxs(Hn,{className:"sm:max-w-sm",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"h-5 w-5"}),"Enter PIN"]}),d.jsx(Kn,{children:Ae==="seed"?"Enter your PIN to view recovery phrase":"Enter your PIN to view private key"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ar,{type:"password",placeholder:"Enter your PIN",value:qe,onChange:De=>{Fe(De.target.value.replace(/\D/g,"").slice(0,6)),Ke("")},onKeyDown:De=>De.key==="Enter"&&rt(),className:"text-center text-xl tracking-widest",maxLength:6,"data-testid":"input-verify-pin"}),ze&&d.jsx("p",{className:"text-sm text-destructive text-center",children:ze})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>We(!1),disabled:ct,children:"Cancel"}),d.jsx(Te,{onClick:rt,disabled:!qe||qe.length<4||ct,"data-testid":"button-verify-pin",children:ct?"Verifying...":"Verify"})]})]})}),d.jsx(es,{open:f,onOpenChange:De=>{h(De),De||y("")},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{className:"flex items-center gap-2",children:[d.jsx(gA,{className:"h-5 w-5"}),"WalletConnect"]}),d.jsx(Kn,{children:"Paste the WalletConnect URI from your DApp to connect"})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"wc-uri",children:"Connection URI"}),d.jsx(ar,{id:"wc-uri",placeholder:"wc:...",value:m,onChange:De=>y(De.target.value),onKeyDown:De=>De.key==="Enter"&&ht(),"data-testid":"input-wc-uri"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Copy the WalletConnect URI from the DApp and paste it here"})]})}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>h(!1),disabled:x,children:"Cancel"}),d.jsx(Te,{onClick:ht,disabled:!m.trim()||x,"data-testid":"button-wc-connect",children:x?"Connecting...":"Connect"})]})]})}),d.jsx(es,{open:j,onOpenChange:De=>{De||pt()},children:d.jsxs(Hn,{className:"sm:max-w-md",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{className:"flex items-center gap-2",children:[d.jsx(Ma,{className:"h-5 w-5 text-green-500"}),"Connection Request"]}),d.jsxs(Kn,{children:[_==null?void 0:_.proposer.name," wants to connect to your wallet"]})]}),_&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[_.proposer.icons[0]&&d.jsx("img",{src:_.proposer.icons[0],alt:_.proposer.name,className:"h-12 w-12 rounded-full"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.proposer.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:_.proposer.url})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Select Wallet"}),R.length>0?d.jsx(pD,{value:F,onValueChange:D,children:d.jsx(rI,{className:"h-[200px]",children:d.jsx("div",{className:"space-y-2 pr-4",children:R.map(De=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover-elevate cursor-pointer",onClick:()=>D(De.address),children:[d.jsx(vS,{value:De.address,id:De.address}),d.jsxs(Zt,{htmlFor:De.address,className:"flex-1 cursor-pointer",children:[d.jsx("p",{className:"font-medium",children:De.label||De.chainId}),d.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[De.address.slice(0,10),"...",De.address.slice(-8)]})]})]},De.address))})})}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No EVM wallets available. Please set up your wallet first."})]})]}),d.jsxs(Ss,{children:[d.jsxs(Te,{variant:"outline",onClick:pt,children:[d.jsx(mh,{className:"mr-2 h-4 w-4"}),"Reject"]}),d.jsxs(Te,{onClick:ot,disabled:!F,"data-testid":"button-approve-session",children:[d.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Connect"]})]})]})})]}):d.jsxs("div",{className:"p-4 md:p-6 pb-8",children:[d.jsx("h1",{className:"mb-6 text-2xl md:text-3xl font-bold",children:"Settings"}),d.jsx(h5,{})]})}function j2({code:t,language:e="bash"}){const{toast:r}=Qs(),n=()=>{navigator.clipboard.writeText(t),r({title:"Copied",description:"Command copied to clipboard"})};return d.jsxs("div",{className:"relative group",children:[d.jsx("pre",{className:"bg-muted rounded-md p-4 overflow-x-auto text-sm font-mono",children:d.jsx("code",{children:t})}),d.jsx(Te,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:n,"data-testid":"button-copy-code",children:d.jsx(Oo,{className:"h-4 w-4"})})]})}function I0({step:t,title:e,description:r,children:n}){return d.jsxs(Gt,{className:"mb-6",children:[d.jsx(jn,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold",children:t}),d.jsxs("div",{children:[d.jsx(Mn,{className:"text-lg",children:e}),d.jsx(n1,{children:r})]})]})}),d.jsx(er,{children:n})]})}function e3t(){const[t,e]=B.useState("overview");return d.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Ew,{}),d.jsx("h1",{className:"text-3xl font-bold",children:"Hardware Wallet Setup Guide"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Build your own hardware wallet with Raspberry Pi Pico H ($8) or Raspberry Pi 4 ($50)"})]}),d.jsxs(f5,{value:t,onValueChange:e,children:[d.jsxs(Iw,{className:"mb-6 flex-wrap",children:[d.jsxs(No,{value:"overview","data-testid":"tab-overview",children:[d.jsx(pA,{className:"mr-2 h-4 w-4"}),"Overview"]}),d.jsxs(No,{value:"hardware","data-testid":"tab-hardware",children:[d.jsx(yA,{className:"mr-2 h-4 w-4"}),"Hardware"]}),d.jsxs(No,{value:"pico","data-testid":"tab-pico",children:[d.jsx(pA,{className:"mr-2 h-4 w-4"}),"Pico Setup"]}),d.jsxs(No,{value:"setup","data-testid":"tab-setup",children:[d.jsx(J2e,{className:"mr-2 h-4 w-4"}),"Pi 4 Setup"]}),d.jsxs(No,{value:"security","data-testid":"tab-security",children:[d.jsx($s,{className:"mr-2 h-4 w-4"}),"Security"]})]}),d.jsxs(Eo,{value:"overview",children:[d.jsx(Gt,{className:"mb-6",children:d.jsx(er,{className:"pt-6",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What You Get"}),d.jsx("ul",{className:"space-y-3",children:["Air-gapped key storage on dedicated hardware","BIP39/BIP44 standard seed phrase generation","Multi-chain support (ETH, BSC, Polygon, custom)","PIN-protected access with lockout protection","USB connection to web app for signing"].map((r,n)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-5 w-5 text-green-500 mt-0.5 shrink-0"}),d.jsx("span",{className:"text-sm",children:r})]},n))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"How It Works"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(nr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Pi stores encrypted seed phrase"})]}),d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(nr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Web app sends transaction to sign"})]}),d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(nr,{variant:"outline",children:"3"}),d.jsx("span",{children:"Pi signs with your PIN confirmation"})]}),d.jsx(Ap,{className:"h-4 w-4 text-muted-foreground mx-4"}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(nr,{variant:"outline",children:"4"}),d.jsx("span",{children:"Signature returned, transaction broadcast"})]})]})]})]})})}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(fn,{className:"h-5 w-5 text-amber-500"}),"Important Notes"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Seed phrase:"}),"Write it down on paper. Never store digitally."]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"PIN:"}),"Required for every transaction. 5 failed attempts = 5 min lockout."]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Physical security:"}),"Keep your Pi in a safe place. If stolen, PIN still protects the wallet."]})]})})]})]}),d.jsxs(Eo,{value:"hardware",children:[d.jsxs(Gt,{className:"mb-6",children:[d.jsxs(jn,{children:[d.jsx(Mn,{children:"Required Components"}),d.jsx(n1,{children:"Total cost: approximately $50"})]}),d.jsx(er,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b",children:[d.jsx("th",{className:"text-left py-3 font-medium",children:"Component"}),d.jsx("th",{className:"text-left py-3 font-medium",children:"Description"}),d.jsx("th",{className:"text-right py-3 font-medium",children:"Cost"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Raspberry Pi 4"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Any RAM size (1GB works fine)"}),d.jsx("td",{className:"py-3 text-right",children:"$35-75"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"MicroSD Card"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"32GB minimum, Class 10"}),d.jsx("td",{className:"py-3 text-right",children:"$8"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"USB-C Cable"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Data + power capable"}),d.jsx("td",{className:"py-3 text-right",children:"$5"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"py-3 font-bold",children:"Total"}),d.jsx("td",{className:"py-3"}),d.jsx("td",{className:"py-3 text-right font-bold",children:"~$50"})]})]})]})})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsx(Mn,{children:"Optional Upgrades"})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"secondary",children:"Case"}),d.jsx("span",{children:"Aluminum case with heatsink for better cooling ($10-15)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"secondary",children:"Power"}),d.jsx("span",{children:"Official Pi 4 power supply if not using USB-C from computer ($8)"})]})]})})]}),d.jsxs(Gt,{className:"mt-6 border-primary",children:[d.jsxs(jn,{children:[d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(nr,{variant:"default",children:"Recommended"}),"Raspberry Pi Pico H - Budget Option"]}),d.jsx(n1,{children:"The simplest and cheapest hardware wallet solution"})]}),d.jsxs(er,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b",children:[d.jsx("th",{className:"text-left py-3 font-medium",children:"Component"}),d.jsx("th",{className:"text-left py-3 font-medium",children:"Description"}),d.jsx("th",{className:"text-right py-3 font-medium",children:"Cost"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Raspberry Pi Pico H"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"With pre-soldered headers"}),d.jsx("td",{className:"py-3 text-right",children:"$5"})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-3 font-medium",children:"Micro USB Cable"}),d.jsx("td",{className:"py-3 text-muted-foreground",children:"Data cable (not charge-only)"}),d.jsx("td",{className:"py-3 text-right",children:"$3"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"py-3 font-bold",children:"Total"}),d.jsx("td",{className:"py-3"}),d.jsx("td",{className:"py-3 text-right font-bold text-green-600",children:"~$8"})]})]})]})}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"The Pico H is the recommended choice for beginners. No SD card, no OS installation - just plug and play!"})]})]})]}),d.jsxs(Eo,{value:"pico",children:[d.jsxs(Gt,{className:"mb-6 border-green-500",children:[d.jsxs(jn,{children:[d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(C0,{className:"h-5 w-5 text-green-500"}),"Easiest Setup - Just 3 Steps"]}),d.jsx(n1,{children:"Get your hardware wallet running in under 5 minutes"})]}),d.jsx(er,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"The Raspberry Pi Pico H is a microcontroller that runs MicroPython. It's the simplest way to create a hardware wallet - no operating system, no SD card, no network."})})]}),d.jsx(I0,{step:1,title:"Install MicroPython on your Pico",description:"Flash the MicroPython firmware",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"A"}),d.jsxs("div",{children:[d.jsxs("p",{className:"mb-2",children:["Download MicroPython from ",d.jsx("a",{href:"https://micropython.org/download/RPI_PICO/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"micropython.org"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Get the latest .uf2 file for Raspberry Pi Pico"})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"B"}),d.jsxs("div",{children:[d.jsx("p",{children:"Hold the BOOTSEL button on your Pico and plug it into USB"}),d.jsx("p",{className:"text-muted-foreground",children:'The Pico will appear as a USB drive called "RPI-RP2"'})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"C"}),d.jsxs("div",{children:[d.jsx("p",{children:"Drag and drop the .uf2 file onto the RPI-RP2 drive"}),d.jsx("p",{className:"text-muted-foreground",children:"The Pico will reboot automatically with MicroPython installed"})]})]})]})}),d.jsx(I0,{step:2,title:"Upload the Wallet Firmware",description:"Copy the wallet code to your Pico",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"A"}),d.jsxs("div",{children:[d.jsxs("p",{className:"mb-2",children:["Download and install ",d.jsx("a",{href:"https://thonny.org/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"Thonny IDE"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Free Python IDE that works great with Pico"})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"B"}),d.jsxs("div",{children:[d.jsx("p",{children:"In Thonny, go to Tools, then Options, then Interpreter"}),d.jsx("p",{className:"text-muted-foreground",children:'Select "MicroPython (Raspberry Pi Pico)" and your port'})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"C"}),d.jsx("div",{children:d.jsxs("p",{children:["Open the file ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"pico_wallet/main.py"})," from this project"]})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"D"}),d.jsxs("div",{children:[d.jsxs("p",{children:["Save it to the Pico as ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"main.py"})]}),d.jsx("p",{className:"text-muted-foreground",children:'File, then Save As, then select "Raspberry Pi Pico", name it main.py'})]})]})]})}),d.jsx(I0,{step:3,title:"Connect to SecureVault",description:"Use your new hardware wallet",children:d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Make sure your Pico is connected via USB (you can close Thonny now)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Open SecureVault in Chrome or Edge (Web Serial requires these browsers)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"3"}),d.jsx("span",{children:'Go to Dashboard and click "Create Wallet"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"4"}),d.jsx("span",{children:'Select the "Raspberry Pi" tab'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"5"}),d.jsx("span",{children:'Click "Connect Raspberry Pi" and select your Pico from the list'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"6"}),d.jsx("span",{children:"Set your 4-6 digit PIN"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"7"}),d.jsx("span",{className:"font-semibold",children:"Write down your 24-word seed phrase on paper!"})]})]})}),d.jsxs(Gt,{className:"border-amber-500",children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(fn,{className:"h-5 w-5 text-amber-500"}),"Troubleshooting"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Pico not detected:"}),"Make sure Thonny is closed - only one app can use the serial port at a time"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Web Serial not available:"}),"Use Chrome or Edge browser, Firefox doesn't support Web Serial API"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground font-medium",children:"Connection timeout:"}),"Unplug and replug the Pico, then try again"]})]})})]})]}),d.jsxs(Eo,{value:"setup",children:[d.jsx(I0,{step:1,title:"Flash Raspberry Pi OS",description:"Download and install the operating system",children:d.jsxs("ol",{className:"space-y-4 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"A"}),d.jsx("div",{children:d.jsxs("p",{className:"mb-2",children:["Download ",d.jsx("a",{href:"https://www.raspberrypi.com/software/",target:"_blank",rel:"noopener",className:"text-primary underline",children:"Raspberry Pi Imager"})]})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"B"}),d.jsx("div",{children:d.jsx("p",{children:'Select "Raspberry Pi OS Lite (64-bit)" - no desktop needed'})})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"C"}),d.jsxs("div",{children:[d.jsx("p",{className:"mb-2",children:"Click the gear icon to configure:"}),d.jsxs("ul",{className:"list-disc list-inside text-muted-foreground ml-2",children:[d.jsx("li",{children:"Enable SSH"}),d.jsxs("li",{children:["Set username: ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"pi"})]}),d.jsx("li",{children:"Set a strong password"}),d.jsx("li",{children:"Configure WiFi (optional, for initial setup only)"})]})]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"D"}),d.jsx("div",{children:d.jsx("p",{children:"Flash to your MicroSD card"})})]})]})}),d.jsxs(I0,{step:2,title:"Copy Wallet Files",description:"Transfer the wallet software to your Pi",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"From your computer, run this command to copy the wallet files:"}),d.jsx(j2,{code:"scp -r raspberry_pi_wallet/ pi@raspberrypi.local:~/"}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If ",d.jsx("code",{className:"bg-muted px-1 rounded",children:"raspberrypi.local"})," doesn't work, use the Pi's IP address."]})]}),d.jsxs(I0,{step:3,title:"Run Setup Script",description:"Install dependencies and configure USB mode",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"SSH into your Pi and run the setup:"}),d.jsx(j2,{code:`ssh pi@raspberrypi.local
cd raspberry_pi_wallet
chmod +x setup_pi.sh
./setup_pi.sh`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"The script will install Python packages and configure USB gadget mode. Reboot when prompted."})]}),d.jsxs(I0,{step:4,title:"Start the Wallet",description:"Launch the wallet service",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"After reboot, start the wallet manually:"}),d.jsx(j2,{code:`source ~/wallet_env/bin/activate
cd ~/raspberry_pi_wallet
python main.py`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4 mb-4",children:"Or enable auto-start on boot:"}),d.jsx(j2,{code:`sudo systemctl enable pi-wallet
sudo systemctl start pi-wallet`})]}),d.jsx(I0,{step:5,title:"Connect to Web App",description:"Link your Pi wallet to SecureVault",children:d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"1"}),d.jsx("span",{children:"Connect Pi to your computer via USB-C (use the USB-C port, not micro-USB power)"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"2"}),d.jsx("span",{children:"Open SecureVault web app in your browser"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"3"}),d.jsx("span",{children:'Go to Dashboard and click "Create Wallet"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"4"}),d.jsx("span",{children:'Select the "Raspberry Pi" tab'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"5"}),d.jsx("span",{children:'Click "Connect Raspberry Pi" and allow USB access'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"6"}),d.jsx("span",{children:"Set your 4-6 digit PIN"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(nr,{variant:"outline",children:"7"}),d.jsx("span",{className:"font-semibold",children:"Write down your 24-word seed phrase on paper!"})]})]})})]}),d.jsxs(Eo,{value:"security",children:[d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"h-5 w-5"}),"What's Protected"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Private keys never leave the Pi"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Seed phrase encrypted with your PIN"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Every transaction requires PIN confirmation"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Lockout after 5 failed PIN attempts"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx(C0,{className:"h-4 w-4 text-green-500 mt-0.5"}),d.jsx("span",{children:"Auto-lock after 5 minutes of inactivity"})]})]})})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(gre,{className:"h-5 w-5"}),"Extra Security Steps"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Disable WiFi after initial setup for air-gap"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Disable Bluetooth in /boot/config.txt"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Store Pi in a secure location"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx($s,{className:"h-4 w-4 text-primary mt-0.5"}),d.jsx("span",{children:"Keep backup of seed phrase in fireproof safe"})]})]})})]})]}),d.jsxs(Gt,{className:"mt-6",children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(fn,{className:"h-5 w-5 text-amber-500"}),"Limitations"]})}),d.jsx(er,{children:d.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"No physical button:"}),"Unlike commercial hardware wallets, confirmation is via PIN only"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"No display:"}),"You cannot verify transaction details on the Pi itself"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"SD card theft:"}),"If someone steals the SD card, they still need your PIN to access funds"]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-foreground",children:"Not FIDO certified:"}),"This is a DIY solution, not a certified security device"]})]})})]}),d.jsxs(Gt,{className:"mt-6",children:[d.jsx(jn,{children:d.jsx(Mn,{children:"Disabling WiFi/Bluetooth (Recommended)"})}),d.jsxs(er,{children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"After initial setup, disable wireless for maximum security:"}),d.jsx(j2,{code:`# Add to /boot/config.txt
dtoverlay=disable-wifi
dtoverlay=disable-bt`}),d.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Then reboot. Your Pi will only communicate via USB."})]})]})]})]})]})}const Jx={CAKE:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png",TWT:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0x4B0F1812e5Df2A09796481Ff14017e6005508003/logo.png",BABY:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xc748673057861a797275CD8A068AbB95A902e8de/logo.png",XVS:"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/0xcF6BB5389c92Bdda8a3747Ddb454cB7a64626C63/logo.png"};function t3t(t,e,r){if(r&&r.trim())return r;const n=e.toUpperCase().trim();if(Jx[n])return Jx[n];const s=Dd.find(a=>a.id===t);if(s!=null&&s.image&&s.image.trim())return s.image;const i=Dd.find(a=>a.symbol.toUpperCase()===n);if(i!=null&&i.image&&i.image.trim())return i.image}async function r3t(t,e){var r,n;try{const s=t.toUpperCase().trim();if(Jx[s])return Jx[s];const i=await fetch(`https://api.coingecko.com/api/v3/search?query=${encodeURIComponent(t)}`,{signal:AbortSignal.timeout(5e3)});if(!i.ok)return;const a=await i.json();if(!a.coins||a.coins.length===0)return;let o=a.coins[0];for(const c of a.coins){if(((r=c.symbol)==null?void 0:r.toUpperCase())===s){o=c;break}if(((n=c.name)==null?void 0:n.toLowerCase())===e.toLowerCase()){o=c;break}}if(o!=null&&o.large)return console.log(`[COINGECKO] Found logo for ${t}:`,o.large),o.large}catch(s){console.log(`[COINGECKO] Failed to fetch logo for ${t}:`,s)}}const Tf=[{id:"ETH",name:"Ethereum (ERC-20)",evmChainId:1,rpcUrl:"https://eth.llamarpc.com",type:"evm"},{id:"BNB",name:"BNB Chain (BEP-20)",evmChainId:56,rpcUrl:"https://bsc-dataseed.binance.org",type:"evm"},{id:"MATIC",name:"Polygon",evmChainId:137,rpcUrl:"https://polygon-rpc.com",type:"evm"},{id:"ARB",name:"Arbitrum",evmChainId:42161,rpcUrl:"https://arb1.arbitrum.io/rpc",type:"evm"},{id:"TRX",name:"TRON (TRC-20)",evmChainId:0,rpcUrl:"",type:"tron"}];function n3t(){const{topAssets:t,enabledAssetIds:e,isLoadingAssets:r,toggleAssetEnabled:n,refreshTopAssets:s,enableAllAssets:i,disableAllAssets:a,customTokens:o,addCustomToken:c,removeCustomToken:l,walletMode:u,wallets:f}=Yi(),h=yte(),m=new URLSearchParams(h),y=m.get("chain"),x=m.get("wallet"),k=!!y,C=k?Tf.filter(Ae=>Ae.id===y):Tf,I=Tf.find(Ae=>Ae.id===y),_=y==="ETH"?"ERC-20":y==="BNB"?"BEP-20":y==="TRX"?"TRC-20":(I==null?void 0:I.name)||"custom",[O,F]=B.useState(""),[D,j]=B.useState(!1),[T,R]=B.useState(y||""),[q,$]=B.useState(""),[b,w]=B.useState(null),[p,g]=B.useState(!1),[S,N]=B.useState(""),[P,A]=B.useState(!1),[v,E]=B.useState(""),[M,L]=B.useState(""),[Q,U]=B.useState("18");B.useEffect(()=>{y&&Tf.some(Ae=>Ae.id===y)&&R(y)},[y]);const J=B.useMemo(()=>{if(!O.trim())return t;const Ae=O.toLowerCase();return t.filter(Oe=>Oe.name.toLowerCase().includes(Ae)||Oe.symbol.toLowerCase().includes(Ae))},[t,O]),Z=e.size,re=t.length,G=Tf.find(Ae=>Ae.id===T),z=(G==null?void 0:G.type)==="tron",se=Ae=>{R(Ae),w(null),N(""),E(""),L(""),U("18")},ce=Ae=>{$(Ae),w(null),N("")},pe=async()=>{if(!T||!q)return;const Ae=Tf.find(Oe=>Oe.id===T);if(Ae){if(Ae.type==="tron"){N("TRON tokens require manual entry. Please fill in the token details below.");return}g(!0),N("");try{const Oe=await Lle(q,Ae.rpcUrl,Ae.evmChainId);Oe?w(Oe):N("Could not fetch token info. Please verify the contract address.")}catch{N("Failed to fetch token info. Please check the address.")}finally{g(!1)}}},_e=()=>!T||!q?!1:z?v.trim()&&M.trim()&&Q:!!b,ke=async()=>{if(!T||!q)return;const Ae=Tf.find(Fe=>Fe.id===T);if(!Ae)return;const Oe=z?{name:v.trim(),symbol:M.trim().toUpperCase(),decimals:parseInt(Q)||18}:b;if(!Oe)return;let qe=x;if(!qe){const Fe=f.find(ze=>{const Ke=ze.chainId;return Ke&&Ke.includes(Ae.id.toLowerCase())});Fe?qe=Fe.id:f.length>0&&(qe=f[0].id)}if(!qe){N("No wallet available to add token to");return}A(!0);try{console.log(`[TOKEN_ADD] Fetching logo for ${Oe.symbol}...`);let Fe=await r3t(Oe.symbol,Oe.name);if(!Fe||!Fe.trim()){const ze=Oe.symbol.toUpperCase().trim(),Ke=Dd.find(ct=>ct.symbol.toUpperCase().trim()===ze);Fe=(Ke==null?void 0:Ke.image)||""}Fe||(Fe=""),console.log(`[TOKEN_ADD] Logo for ${Oe.symbol}:`,Fe),await c({chainId:Ae.id,chainType:Ae.type,contractAddress:q.trim(),name:Oe.name,symbol:Oe.symbol,decimals:Oe.decimals,evmChainId:Ae.evmChainId,rpcUrl:Ae.rpcUrl,image:Fe,walletId:qe}),mt(),j(!1)}catch{N("Failed to add token")}finally{A(!1)}},tt=async Ae=>{await l(Ae)},mt=()=>{R(""),$(""),w(null),N(""),E(""),L(""),U("18")},[,we]=Ou(),We=()=>{k&&y&&x?we(`/?chain=${y}&wallet=${x}`):window.history.back()};return d.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:We,"data-testid":"button-back",children:d.jsx(s6,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:k?`Add ${_} Token`:"Manage Crypto"})]}),d.jsx("p",{className:"text-muted-foreground",children:k?`Add a custom ${_} token to track in your ${(I==null?void 0:I.name)||y} wallet.`:"Choose which cryptocurrencies to display on your dashboard. Enable or disable assets to customize your view."})]}),u!=="hard_wallet"&&k&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mn,{className:"text-lg",children:"Popular Tokens"}),d.jsxs(nr,{variant:"secondary",className:"text-xs",children:[t.filter(Ae=>Ox[Ae.id]===y&&t1[Ae.id]).filter(Ae=>e.has(Ae.id)).length," enabled"]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable major tokens to display them in your wallet"})]})}),d.jsx(er,{children:d.jsx("div",{className:"space-y-2",children:t.filter(Ae=>Ox[Ae.id]===y&&t1[Ae.id]).slice(0,10).map(Ae=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border","data-testid":`major-token-row-${Ae.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[(()=>{const Oe=t3t(Ae.id,Ae.symbol,Ae.image);return Oe?d.jsx("img",{src:Oe,alt:Ae.name,className:"h-8 w-8 rounded-full shrink-0",onError:qe=>{qe.target.style.display="none"}}):d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold shrink-0",children:Ae.symbol.slice(0,2).toUpperCase()})})(),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sm",children:Ae.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Ae.symbol})]})]}),d.jsx(PS,{checked:e.has(Ae.id),onCheckedChange:()=>n(Ae.id,!e.has(Ae.id)),"data-testid":`switch-enable-token-${Ae.id}`})]},Ae.id))})})]}),u!=="hard_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mn,{className:"text-lg",children:"Custom Tokens"}),d.jsxs(nr,{variant:"secondary",className:"text-xs",children:[k&&x?o.filter(Ae=>Ae.chainId===y&&Ae.walletId===x).length:o.length," added"]})]}),d.jsxs(es,{open:D,onOpenChange:Ae=>{j(Ae),Ae||mt()},children:[d.jsx(qy,{asChild:!0,children:d.jsxs(Te,{size:"sm","data-testid":"button-add-custom-token",children:[d.jsx(_d,{className:"mr-1 h-4 w-4"}),"Add Custom Token"]})}),d.jsxs(Hn,{children:[d.jsxs(qn,{children:[d.jsx(Wn,{children:"Add Custom Token"}),d.jsx(Kn,{children:k?`Add a ${_} token by entering its contract address.`:"Add an ERC-20, BEP-20, or TRC-20 token by entering its contract address."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"chain",children:"Blockchain Network"}),d.jsxs(_1,{value:T,onValueChange:se,disabled:k,children:[d.jsx(tm,{id:"chain","data-testid":"select-chain",children:d.jsx(Ux,{placeholder:"Select a network"})}),d.jsx(rm,{children:C.map(Ae=>d.jsx(ll,{value:Ae.id,children:Ae.name},Ae.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"contract",children:"Contract Address"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ar,{id:"contract",placeholder:z?"T...":"0x...",value:q,onChange:Ae=>ce(Ae.target.value),"data-testid":"input-contract-address"}),!z&&d.jsx(Te,{variant:"outline",onClick:pe,disabled:!T||!q||p,"data-testid":"button-fetch-info",children:p?d.jsx(fl,{className:"h-4 w-4 animate-spin"}):"Fetch"})]})]}),S&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[d.jsx(R4,{className:"h-4 w-4"}),S]}),z&&T&&d.jsxs("div",{className:"space-y-3 rounded-md border p-3 bg-muted/50",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter token details manually for TRC-20 tokens:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualName",children:"Token Name"}),d.jsx(ar,{id:"manualName",placeholder:"e.g., Tether USD",value:v,onChange:Ae=>E(Ae.target.value),"data-testid":"input-manual-name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualSymbol",children:"Token Symbol"}),d.jsx(ar,{id:"manualSymbol",placeholder:"e.g., USDT",value:M,onChange:Ae=>L(Ae.target.value),"data-testid":"input-manual-symbol"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"manualDecimals",children:"Decimals"}),d.jsx(ar,{id:"manualDecimals",type:"number",min:"0",max:"18",placeholder:"18",value:Q,onChange:Ae=>U(Ae.target.value),"data-testid":"input-manual-decimals"})]})]}),b&&!z&&d.jsxs("div",{className:"rounded-md border p-3 space-y-2 bg-muted/50",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),d.jsx("span",{className:"font-medium",children:b.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Symbol:"}),d.jsx("span",{className:"font-medium",children:b.symbol})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Decimals:"}),d.jsx("span",{className:"font-medium",children:b.decimals})]})]})]}),d.jsxs(Ss,{children:[d.jsx(Te,{variant:"outline",onClick:()=>{mt(),j(!1)},children:"Cancel"}),d.jsxs(Te,{onClick:ke,disabled:!_e()||P,"data-testid":"button-confirm-add-token",children:[P?d.jsx(fl,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Token"]})]})]})]})]})}),d.jsx(er,{children:(()=>{const Ae=k&&x?o.filter(Fe=>Fe.chainId===y&&Fe.walletId===x):o,Oe=k&&x?o.filter(Fe=>Fe.chainId===y&&Fe.walletId!==x&&!o.some(ze=>ze.walletId===x&&ze.contractAddress.toLowerCase()===Fe.contractAddress.toLowerCase())).filter((Fe,ze,Ke)=>ze===Ke.findIndex(ct=>ct.contractAddress.toLowerCase()===Fe.contractAddress.toLowerCase())):[],qe=async Fe=>{x&&await c({chainId:Fe.chainId,chainType:Fe.chainType,contractAddress:Fe.contractAddress,name:Fe.name,symbol:Fe.symbol,decimals:Fe.decimals,evmChainId:Fe.evmChainId,rpcUrl:Fe.rpcUrl,walletId:x})};return Ae.length===0&&Oe.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[d.jsx("p",{children:"No custom tokens added yet."}),d.jsx("p",{className:"text-sm",children:k?`Click "Add Custom Token" to track any ${_} token.`:'Click "Add Custom Token" to track any ERC-20, BEP-20, or TRC-20 token.'})]}):d.jsxs("div",{className:"space-y-4",children:[Ae.length>0&&d.jsx("div",{className:"space-y-2",children:Ae.map(Fe=>{var Y;const ze=Tf.find(V=>V.id===Fe.chainId),Ke=Fe.symbol.toUpperCase().trim(),ct=Fe.image||Jx[Ke]||((Y=Dd.find(V=>V.symbol.toUpperCase().trim()===Ke))==null?void 0:Y.image);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3","data-testid":`custom-token-row-${Fe.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[ct?d.jsx("img",{src:ct,alt:Fe.name,className:"h-8 w-8 rounded-full bg-muted",onError:V=>{V.target.style.display="none"}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${ct?"hidden":""}`,children:Fe.symbol.slice(0,2)}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:Fe.name}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Fe.symbol," on ",(ze==null?void 0:ze.name)||Fe.chainId]})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>tt(Fe.id),className:"text-red-600 hover:text-red-700 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900/20","data-testid":`button-remove-token-${Fe.id}`,children:d.jsx(x3,{className:"h-4 w-4"})})]},Fe.id)})}),Oe.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Available from other wallets:"}),Oe.map(Fe=>{var Y;const ze=Tf.find(V=>V.id===Fe.chainId),Ke=Fe.symbol.toUpperCase().trim(),ct=Fe.image||Jx[Ke]||((Y=Dd.find(V=>V.symbol.toUpperCase().trim()===Ke))==null?void 0:Y.image);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border border-dashed p-3","data-testid":`available-token-row-${Fe.contractAddress}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[ct?d.jsx("img",{src:ct,alt:Fe.name,className:"h-8 w-8 rounded-full bg-muted",onError:V=>{V.target.style.display="none"}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${ct?"hidden":""}`,children:Fe.symbol.slice(0,2)}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:Fe.name}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Fe.symbol," on ",(ze==null?void 0:ze.name)||Fe.chainId]})]})]}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>qe(Fe),className:"text-primary","data-testid":`button-add-available-token-${Fe.contractAddress}`,children:d.jsx(_d,{className:"h-4 w-4"})})]},`available-${Fe.id}`)})]})]})})()})]}),!k&&u==="hard_wallet"&&d.jsxs(Gt,{children:[d.jsx(jn,{className:"pb-4",children:d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mn,{className:"text-lg",children:"Top Cryptocurrencies"}),d.jsxs(nr,{variant:"secondary",className:"text-xs",children:[Z,"/",re," enabled"]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs(Te,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-enable-all",children:[d.jsx(K2e,{className:"mr-1 h-4 w-4"}),"Enable All"]}),d.jsxs(Te,{variant:"outline",size:"sm",onClick:a,"data-testid":"button-disable-all",children:[d.jsx(X2e,{className:"mr-1 h-4 w-4"}),"Disable All"]}),d.jsx(Te,{variant:"outline",size:"icon",onClick:s,disabled:r,"data-testid":"button-refresh-assets",children:d.jsx(m1,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]})}),d.jsxs(er,{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(pre,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(ar,{placeholder:"Search by name or symbol...",value:O,onChange:Ae=>F(Ae.target.value),className:"pl-10","data-testid":"input-search-assets"})]}),r&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(m1,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):J.length===0?d.jsxs("div",{className:"flex items-center justify-center py-12 text-muted-foreground",children:['No assets found matching "',O,'"']}):d.jsx("div",{className:"space-y-2",children:J.map(Ae=>{const Oe=e.has(Ae.id);return d.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 hover-elevate","data-testid":`asset-row-${Ae.id}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[Ae.image?d.jsx("img",{src:Ae.image,alt:Ae.name,className:"h-8 w-8 rounded-full bg-muted","data-testid":`img-asset-${Ae.id}`,onError:qe=>{var ze;const Fe=qe.target;Fe.style.display="none",(ze=Fe.nextElementSibling)==null||ze.classList.remove("hidden")}}):null,d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-semibold ${Ae.image?"hidden":""}`,children:Ae.symbol.slice(0,2).toUpperCase()}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium","data-testid":`text-asset-name-${Ae.id}`,children:Ae.name}),d.jsx("span",{className:"text-sm text-muted-foreground",children:Ae.symbol})]})]}),d.jsx(PS,{checked:Oe,onCheckedChange:qe=>n(Ae.id,qe),"data-testid":`switch-asset-${Ae.id}`})]},Ae.id)})})]})]})]})})}function jY(){const t=Ur.getSeedPhrase();if(!t)return null;try{const e=un.fromPhrase(t);return Ta.fromMnemonic(e,"m/44'/60'/0'/0/0")}catch{return null}}const R_={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc"};class s3t{constructor(){this.currentChainId=1,this.currentAccount=null,this.walletMode="soft_wallet",this.onResponse=null}setChainId(e){this.currentChainId=e}setAccount(e){this.currentAccount=e}setWalletMode(e){this.walletMode=e}setResponseHandler(e){this.onResponse=e}sendResponse(e,r,n){this.onResponse&&this.onResponse({id:e,result:r,error:n})}async handleRequest(e){var i;const{id:r,method:n,params:s}=e;try{let a;switch(n){case"eth_requestAccounts":case"eth_accounts":if(!this.currentAccount){this.sendResponse(r,void 0,{code:4001,message:"User rejected request"});return}a=[this.currentAccount];break;case"eth_chainId":a=`0x${this.currentChainId.toString(16)}`;break;case"net_version":a=this.currentChainId.toString();break;case"wallet_switchEthereumChain":const o=parseInt((i=s[0])==null?void 0:i.chainId,16);if(R_[o])this.currentChainId=o,a=null;else{this.sendResponse(r,void 0,{code:4902,message:"Chain not supported"});return}break;case"wallet_addEthereumChain":this.sendResponse(r,void 0,{code:4200,message:"Method not supported"});return;case"eth_getBalance":a=await this.rpcCall("eth_getBalance",s);break;case"eth_blockNumber":a=await this.rpcCall("eth_blockNumber",[]);break;case"eth_getTransactionCount":a=await this.rpcCall("eth_getTransactionCount",s);break;case"eth_estimateGas":a=await this.rpcCall("eth_estimateGas",s);break;case"eth_gasPrice":a=await this.rpcCall("eth_gasPrice",[]);break;case"eth_call":a=await this.rpcCall("eth_call",s);break;case"eth_getCode":a=await this.rpcCall("eth_getCode",s);break;case"eth_getStorageAt":a=await this.rpcCall("eth_getStorageAt",s);break;case"eth_getTransactionByHash":a=await this.rpcCall("eth_getTransactionByHash",s);break;case"eth_getTransactionReceipt":a=await this.rpcCall("eth_getTransactionReceipt",s);break;case"personal_sign":a=await this.signMessage(s[0],s[1]);break;case"eth_sign":a=await this.signMessage(s[1],s[0]);break;case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":a=await this.signTypedData(s[0],s[1]);break;case"eth_sendTransaction":a=await this.sendTransaction(s[0]);break;case"eth_signTransaction":a=await this.signTransaction(s[0]);break;default:a=await this.rpcCall(n,s)}this.sendResponse(r,a)}catch(a){this.sendResponse(r,void 0,{code:a.code||4e3,message:a.message||"Unknown error"})}}async rpcCall(e,r){const n=R_[this.currentChainId];if(!n)throw new Error("Chain not supported");const i=await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:e,params:r})})).json();if(i.error)throw new Error(i.error.message);return i.result}async signMessage(e,r){if(!this.isWalletUnlocked())throw new Error("Wallet is locked");const n=e.startsWith("0x")?Buffer.from(e.slice(2),"hex").toString("utf8"):e;if(this.walletMode==="hardware"){const s=await tr.signMessage(n);if(!s)throw new Error("Failed to sign message");return s}else{const s=jY();if(!s)throw new Error("Wallet not available");return await s.signMessage(n)}}async signTypedData(e,r){if(!this.isWalletUnlocked())throw new Error("Wallet is locked");const n=typeof r=="string"?JSON.parse(r):r,{domain:s,types:i,message:a}=n,o={...i};if(delete o.EIP712Domain,this.walletMode==="hardware"){const c=Fh.hash(s,o,a),l=await tr.signMessage(c);if(!l)throw new Error("Failed to sign typed data");return l}else{const c=jY();if(!c)throw new Error("Wallet not available");return await c.signTypedData(s,o,a)}}async signTransaction(e){if(!this.isWalletUnlocked())throw new Error("Wallet is locked");const r={to:e.to,value:e.value||"0x0",data:e.data||"0x",gasLimit:e.gas||e.gasLimit,gasPrice:e.gasPrice,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce?parseInt(e.nonce,16):void 0,chainId:this.currentChainId};if(this.walletMode==="hardware"){const n=await tr.signTransaction(r);if(!n)throw new Error("Failed to sign transaction");return n}else{const n=await Ur.signTransaction(r);if(!n)throw new Error("Failed to sign transaction");return n}}async sendTransaction(e){const r=await this.signTransaction(e),n=R_[this.currentChainId],i=await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"eth_sendRawTransaction",params:[r]})})).json();if(i.error)throw new Error(i.error.message);return i.result}isWalletUnlocked(){return this.walletMode==="hardware"?tr.getState().status==="unlocked":Ur.isUnlocked()}}const pu=new s3t,N0=zk("DAppBrowser");function Rbe(){return Mu.isNativePlatform()&&Mu.getPlatform()==="android"}class i3t{constructor(){this.browserEventListener=null,this.web3RequestListener=null,this.currentAddress="",this.currentChainId=1,this.onLoadingChange=null,this.onUrlChange=null,this.onChainChange=null,this.onSignRequest=null,this.pendingBridgeRequests=new Map,this.bridgeHandlerInstalled=!1}async open(e,r,n){if(!Rbe())return console.log("[NativeDAppBrowser] Not available on this platform"),!1;this.currentAddress=r,this.currentChainId=n;try{return this.browserEventListener=await N0.addListener("browserEvent",i=>{console.log("[NativeDAppBrowser] Browser event:",i),this.onLoadingChange&&this.onLoadingChange(i.loading),this.onUrlChange&&this.onUrlChange(i.url)}),this.web3RequestListener=await N0.addListener("web3Request",async i=>{console.log("[NativeDAppBrowser] Web3 request:",i),await this.handleWeb3Request(i.id,i.method,i.params)}),(await N0.open({url:e,address:r,chainId:n})).success}catch(s){return console.error("[NativeDAppBrowser] Error opening:",s),!1}}async close(){this.browserEventListener&&(this.browserEventListener.remove(),this.browserEventListener=null),this.web3RequestListener&&(this.web3RequestListener.remove(),this.web3RequestListener=null);try{await N0.close()}catch(e){console.error("[NativeDAppBrowser] Error closing:",e)}}async updateAccount(e,r){this.currentAddress=e,this.currentChainId=r;try{await N0.updateAccount({address:e,chainId:r})}catch(n){console.error("[NativeDAppBrowser] Error updating account:",n)}}setOnLoadingChange(e){this.onLoadingChange=e}setOnUrlChange(e){this.onUrlChange=e}setOnChainChange(e){this.onChainChange=e}setOnSignRequest(e){this.onSignRequest=e}async handleWeb3Request(e,r,n){var s;try{let i=[];try{i=JSON.parse(n)}catch{i=[]}pu.setChainId(this.currentChainId),pu.setAccount(this.currentAddress);let a=null,o="";switch(r){case"eth_requestAccounts":case"eth_accounts":a=[this.currentAddress];break;case"eth_chainId":a="0x"+this.currentChainId.toString(16);break;case"net_version":a=this.currentChainId.toString();break;case"wallet_switchEthereumChain":{const c=(s=i[0])==null?void 0:s.chainId;if(c){const l=parseInt(c,16);[1,56,137,43114,42161,10].includes(l)?(this.currentChainId=l,pu.setChainId(l),this.onChainChange&&this.onChainChange(l),await N0.updateAccount({address:this.currentAddress,chainId:l}),a=null):o="Chain not supported"}else a=null;break}case"eth_sendTransaction":case"personal_sign":case"eth_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":{if(this.onSignRequest)try{const c=await this.onSignRequest(r,i);c?a=c:o="User rejected the request"}catch(c){o=c.message||"Signing failed"}else try{const c=await this.executeBridgeRequest(e,r,i);c.error?o=c.error.message:a=c.result}catch(c){o=c.message||"Signing failed"}break}default:try{a=await this.rpcCall(r,i)}catch(c){o=c.message||"RPC call failed"}}await N0.sendResponse({id:e,result:a!==null?JSON.stringify(a):void 0,error:o||void 0})}catch(i){console.error("[NativeDAppBrowser] Error handling request:",i),await N0.sendResponse({id:e,error:i.message||"Unknown error"})}}installBridgeResponseHandler(){this.bridgeHandlerInstalled||(pu.setResponseHandler(e=>{const r=this.pendingBridgeRequests.get(e.id);r&&(this.pendingBridgeRequests.delete(e.id),r.resolve({result:e.result,error:e.error}))}),this.bridgeHandlerInstalled=!0)}async executeBridgeRequest(e,r,n){return this.installBridgeResponseHandler(),new Promise(s=>{const i=setTimeout(()=>{this.pendingBridgeRequests.has(e)&&(this.pendingBridgeRequests.delete(e),s({error:{code:4e3,message:"Request timed out"}}))},12e4);this.pendingBridgeRequests.set(e,{resolve:o=>{clearTimeout(i),s(o)}});const a={type:"VAULTKEY_REQUEST",id:e,method:r,params:n};pu.handleRequest(a).catch(o=>{this.pendingBridgeRequests.has(e)&&(this.pendingBridgeRequests.delete(e),clearTimeout(i),s({error:{code:4e3,message:o.message||"Unknown error"}}))})})}async rpcCall(e,r){const s={1:"https://eth.llamarpc.com",56:"https://bsc-dataseed.binance.org",137:"https://polygon-rpc.com",43114:"https://api.avax.network/ext/bc/C/rpc",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io"}[this.currentChainId];if(!s)throw new Error("Unsupported chain");const a=await(await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:e,params:r})})).json();if(a.error)throw new Error(a.error.message);return a.result}}const Dm=new i3t,M2=Ui.filter(t=>t.chainId>0),a3t=[{name:"PancakeSwap",url:"https://pancakeswap.finance/",description:"Trade, earn crypto",category:"DEX"},{name:"Uniswap",url:"https://app.uniswap.org/",description:"Swap tokens",category:"DEX"},{name:"Aave",url:"https://app.aave.com/",description:"Lending protocol",category:"Lending"},{name:"1inch",url:"https://app.1inch.io/",description:"DEX aggregator",category:"DEX"}];function o3t(){const{isConnected:t,isUnlocked:e,wallets:r,chains:n}=Yi(),{toast:s}=Qs(),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState(!1),[f,h]=B.useState(!1),[m,y]=B.useState(56),[x,k]=B.useState(!1),[C,I]=B.useState(null),[_,O]=B.useState(!1),F=B.useRef(null),D=Rbe(),j=M2.find(P=>P.chainId===m)||M2[0],T=r.filter(P=>{const A=n.find(v=>v.id===P.chainId);return A&&A.chainId===m});r.filter(P=>{const A=n.find(v=>v.id===P.chainId);return A&&A.chainId>0}),B.useEffect(()=>()=>{_&&Dm.close()},[_]),B.useEffect(()=>{_&&C&&Dm.updateAccount(C,m)},[C,m,_]);const R=async P=>{var E;const A=C||((E=T[0])==null?void 0:E.address)||"";if(!A){s({title:"No Wallet Selected",description:"Please select a wallet to connect to DApps",variant:"destructive"}),k(!0);return}u(!0),Dm.setOnLoadingChange(M=>{u(M)}),Dm.setOnUrlChange(M=>{a(M),c(M)}),Dm.setOnChainChange(M=>{var L;y(M),s({title:"Network Changed",description:`DApp requested switch to ${((L=M2.find(Q=>Q.chainId===M))==null?void 0:L.name)||"Unknown Network"}`,duration:2e3})}),await Dm.open(P,A,m)?(O(!0),I(A),s({title:"DApp Browser Opened",description:"Web3 provider injected. All wallets will connect to VaultKey.",duration:3e3})):(u(!1),s({title:"Failed to Open",description:"Could not open native browser",variant:"destructive"}))},q=async()=>{await Dm.close(),O(!1),c(""),a("")},$=async()=>{if(!i.trim())return;let P=i.trim();!P.startsWith("http://")&&!P.startsWith("https://")&&(P="https://"+P),D?await R(P):(c(P),a(P),h(!1),u(!0))},b=async P=>{D?(a(P),await R(P)):(a(P),c(P),h(!1),u(!0))},w=()=>{u(!1)},p=()=>{u(!1),h(!0)},g=P=>{var A;y(P),I(null),s({title:"Chain Switched",description:`Switched to ${(A=M2.find(v=>v.chainId===P))==null?void 0:A.name}`,duration:2e3})},S=()=>{k(!0)},N=(P,A)=>{I(P),navigator.clipboard.writeText(P),s({title:"Wallet Connected",description:`${A} wallet connected. Address copied.`,duration:2e3}),k(!1)};return!t||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"DApps"}),d.jsx(h5,{})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsxs("div",{className:"flex items-center gap-1.5 p-2",children:[_?d.jsx(Te,{variant:"ghost",size:"icon",onClick:q,"data-testid":"button-close-browser",children:d.jsx(mh,{className:"h-4 w-4"})}):d.jsx(Ew,{}),d.jsxs("div",{className:"flex-1 flex items-center gap-1.5 bg-muted/50 rounded-lg px-2 py-1",children:[d.jsx(ar,{value:i,onChange:P=>a(P.target.value),onKeyDown:P=>P.key==="Enter"&&$(),placeholder:"Enter URL...",className:"flex-1 border-0 bg-transparent h-8 text-sm focus-visible:ring-0 px-1","data-testid":"input-browser-url"}),d.jsx(Te,{size:"sm",onClick:$,className:"h-7 px-3","data-testid":"button-go",children:"Go"})]}),d.jsxs(PD,{children:[d.jsx(kD,{asChild:!0,children:d.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-chain-selector",children:d.jsx(Yn,{symbol:j.symbol,iconColor:j.iconColor,size:"sm"})})}),d.jsx(cI,{align:"end",className:"w-48",children:M2.map(P=>d.jsxs(J6,{onClick:()=>g(P.chainId),className:"gap-2","data-testid":`menu-chain-${P.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:P.symbol,iconColor:P.iconColor,size:"sm"}),P.name,P.chainId===m&&d.jsx("span",{className:"ml-auto text-primary",children:""})]},P.chainId))})]}),d.jsx(Te,{variant:C?"default":"outline",size:"icon",onClick:S,"data-testid":"button-connect-wallet",children:d.jsx(Cy,{className:"h-4 w-4"})})]})}),d.jsx("div",{className:"flex-1 relative bg-muted/30",children:_?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(mA,{className:"mx-auto h-16 w-16 text-primary/50 mb-4 animate-pulse"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Native Browser Active"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Web3 provider injected. Click any wallet option (MetaMask, Trust Wallet, etc.) to connect with VaultKey."}),d.jsx("div",{className:"p-3 bg-muted rounded-lg mb-4",children:d.jsx("p",{className:"text-sm font-mono break-all",children:o})}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Connected: ",C==null?void 0:C.slice(0,8),"...",C==null?void 0:C.slice(-6)]}),d.jsxs(Te,{variant:"outline",className:"mt-4",onClick:q,"data-testid":"button-close-native-browser",children:[d.jsx(mh,{className:"mr-2 h-4 w-4"}),"Close Browser"]})]})}):o?f?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(mh,{className:"mx-auto h-16 w-16 text-destructive/50 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cannot Load DApp"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"This DApp cannot be embedded. Try opening in external browser."}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs(Te,{variant:"outline",onClick:()=>window.open(o,"_blank"),children:[d.jsx(dx,{className:"mr-2 h-4 w-4"}),"Open External"]}),d.jsx(Te,{variant:"outline",onClick:()=>{c(""),a("")},children:"Back"})]})]})}):d.jsxs(d.Fragment,{children:[l&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:d.jsx(m1,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),d.jsx("iframe",{ref:F,src:o,className:"w-full h-full border-0",onLoad:w,onError:p,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox","data-testid":"iframe-dapp"})]}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(mA,{className:"mx-auto h-16 w-16 text-muted-foreground/30 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"DApp Browser"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:D?"Open a DApp and all wallet connections will use VaultKey":"Enter a URL or select a popular DApp below"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:a3t.map(P=>d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>b(P.url),className:"justify-start","data-testid":`quick-${P.name.toLowerCase()}`,children:P.name},P.name))})]})})}),d.jsx(es,{open:x,onOpenChange:k,children:d.jsxs(Hn,{className:"max-w-sm",children:[d.jsxs(qn,{children:[d.jsxs(Wn,{className:"flex items-center gap-2",children:[d.jsx(Cy,{className:"h-5 w-5"}),"Select Wallet"]}),d.jsx(Kn,{children:"Choose a wallet to connect"})]}),d.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:T.length>0?T.map((P,A)=>{const v=n.find(M=>M.id===P.chainId);if(!v)return null;const E=P.label||`${v.name} Wallet${T.length>1?` ${A+1}`:""}`;return d.jsxs(Te,{variant:P.address===C?"default":"outline",className:"w-full justify-start gap-3 h-auto py-3",onClick:()=>N(P.address,E),"data-testid":`select-wallet-${v.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:v.symbol,iconColor:v.iconColor,size:"sm"}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("div",{className:"font-medium",children:E}),d.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[P.address.slice(0,8),"...",P.address.slice(-6)]})]}),P.address===C&&d.jsx("span",{className:"text-xs",children:"Connected"})]},P.id)}):d.jsxs("p",{className:"text-center text-muted-foreground py-4",children:["No wallets for ",j.name]})}),d.jsx(Ss,{children:d.jsx(Te,{variant:"ghost",onClick:()=>k(!1),className:"w-full",children:"Cancel"})})]})})]})}function c3t(t,e){return`
(function() {
  if (window.ethereum && window.ethereum.isVaultKey) return;
  
  const currentAddress = "${t}";
  const currentChainId = ${e};
  
  class VaultKeyProvider {
    constructor() {
      this.isVaultKey = true;
      this.isMetaMask = true;
      this.isConnected = () => true;
      this.chainId = "0x" + currentChainId.toString(16);
      this.networkVersion = currentChainId.toString();
      this.selectedAddress = currentAddress;
      this._events = {};
      this._requestId = 0;
    }
    
    on(event, callback) {
      if (!this._events[event]) this._events[event] = [];
      this._events[event].push(callback);
      return this;
    }
    
    removeListener(event, callback) {
      if (this._events[event]) {
        this._events[event] = this._events[event].filter(cb => cb !== callback);
      }
      return this;
    }
    
    emit(event, ...args) {
      if (this._events[event]) {
        this._events[event].forEach(cb => cb(...args));
      }
    }
    
    async request({ method, params }) {
      const id = ++this._requestId;
      
      return new Promise((resolve, reject) => {
        const handleResponse = (event) => {
          try {
            const data = typeof event.data === 'string' ? JSON.parse(event.data) : event.data;
            if (data && data.type === 'VAULTKEY_RESPONSE' && data.id === id) {
              window.removeEventListener('message', handleResponse);
              if (data.error) {
                reject(new Error(data.error.message || 'Request failed'));
              } else {
                resolve(data.result);
              }
            }
          } catch (e) {}
        };
        
        window.addEventListener('message', handleResponse);
        
        window.parent.postMessage({
          type: 'VAULTKEY_REQUEST',
          id,
          method,
          params: params || []
        }, '*');
        
        setTimeout(() => {
          window.removeEventListener('message', handleResponse);
          
          switch (method) {
            case 'eth_requestAccounts':
            case 'eth_accounts':
              resolve([currentAddress]);
              break;
            case 'eth_chainId':
              resolve("0x" + currentChainId.toString(16));
              break;
            case 'net_version':
              resolve(currentChainId.toString());
              break;
            case 'wallet_switchEthereumChain':
              resolve(null);
              break;
            default:
              reject(new Error('Request timed out'));
          }
        }, 5000);
      });
    }
    
    async enable() {
      return this.request({ method: 'eth_requestAccounts' });
    }
    
    send(methodOrPayload, paramsOrCallback) {
      if (typeof methodOrPayload === 'string') {
        return this.request({ method: methodOrPayload, params: paramsOrCallback });
      }
      
      if (typeof paramsOrCallback === 'function') {
        this.request({ method: methodOrPayload.method, params: methodOrPayload.params })
          .then(result => paramsOrCallback(null, { result }))
          .catch(error => paramsOrCallback(error));
        return;
      }
      
      return this.request({ method: methodOrPayload.method, params: methodOrPayload.params });
    }
    
    sendAsync(payload, callback) {
      this.request({ method: payload.method, params: payload.params })
        .then(result => callback(null, { id: payload.id, jsonrpc: '2.0', result }))
        .catch(error => callback(error));
    }
  }
  
  const provider = new VaultKeyProvider();
  
  Object.defineProperty(window, 'ethereum', {
    value: provider,
    writable: false,
    configurable: false
  });
  
  window.dispatchEvent(new Event('ethereum#initialized'));
  
  console.log('[VaultKey] Web3 provider injected');
})();
`}function l3t(t){return async function(r){var a;if(((a=r.data)==null?void 0:a.type)!=="VAULTKEY_REQUEST")return;const{id:n,method:s,params:i}=r.data;try{const o=await t({id:n,method:s,params:i}),c=r.source;c&&c.postMessage({type:"VAULTKEY_RESPONSE",id:n,result:o.result,error:o.error},"*")}catch(o){const c=r.source;c&&c.postMessage({type:"VAULTKEY_RESPONSE",id:n,error:{code:4e3,message:o.message||"Unknown error"}},"*")}}}const E9=Ui.filter(t=>t.chainId>0);function u3t(){const{isConnected:t,isUnlocked:e,wallets:r,chains:n}=Yi(),{toast:s}=Qs(),[i,a]=Ou(),[o,c]=B.useState(""),[l,u]=B.useState(""),[f,h]=B.useState(1),[m,y]=B.useState(!1),[x,k]=B.useState(!1),C=B.useRef(null),_=new URLSearchParams(i.split("?")[1]||"").get("url");B.useEffect(()=>{if(_){const w=decodeURIComponent(_);c(w),u(w)}},[_]);const O=E9.find(w=>w.chainId===f)||E9[0],F=r.find(w=>{const p=n.find(g=>g.id===w.chainId);return(p==null?void 0:p.chainId)===f})||r[0],D=B.useCallback(async w=>(pu.setChainId(f),pu.setAccount((F==null?void 0:F.address)||null),new Promise(p=>{pu.setResponseHandler(g=>{p({result:g.result,error:g.error})}),pu.handleRequest({type:"eth",id:w.id,method:w.method,params:w.params})})),[f,F==null?void 0:F.address]);B.useEffect(()=>{const w=l3t(D);return window.addEventListener("message",w),()=>window.removeEventListener("message",w)},[D]),B.useEffect(()=>{pu.setChainId(f),pu.setAccount((F==null?void 0:F.address)||null)},[f,F==null?void 0:F.address]);const j=B.useCallback(()=>{var w;if(!(!((w=C.current)!=null&&w.contentWindow)||!(F!=null&&F.address)))try{const p=c3t(F.address,f);C.current.contentWindow.postMessage({type:"INJECT_PROVIDER",script:p},"*")}catch{console.log("[DAppBrowser] Provider injection not available for cross-origin iframe")}},[F==null?void 0:F.address,f]),T=()=>{if(!o.trim())return;let w=o.trim();!w.startsWith("http://")&&!w.startsWith("https://")&&(w="https://"+w),u(w),k(!1),y(!0)},R=()=>{y(!1),j()},q=()=>{y(!1),k(!0)},$=w=>{var p;h(w),s({title:"Chain Switched",description:`Switched to ${(p=E9.find(g=>g.chainId===w))==null?void 0:p.name}`})},b=()=>{l&&window.open(l,"_blank")};return!t||!e?d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"DApp Browser"}),d.jsx(Gt,{children:d.jsxs(er,{className:"py-12 text-center",children:[d.jsx(mA,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"Connect your wallet to use the DApp browser"}),d.jsx(Te,{variant:"outline",className:"mt-4",asChild:!0,children:d.jsx(dl,{href:"/",children:"Go to Dashboard"})})]})})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsxs("div",{className:"flex items-center gap-1.5 p-2",children:[d.jsx(Ew,{fallbackPath:"/dapps"}),d.jsxs("div",{className:"flex-1 flex items-center gap-1.5 bg-muted/50 rounded-lg px-2 py-1",children:[d.jsx(ar,{value:o,onChange:w=>c(w.target.value),onKeyDown:w=>w.key==="Enter"&&T(),placeholder:"Enter URL...",className:"flex-1 border-0 bg-transparent h-8 text-sm focus-visible:ring-0 px-1","data-testid":"input-browser-url"}),d.jsx(Te,{size:"sm",onClick:T,className:"h-7 px-3","data-testid":"button-go",children:"Go"})]}),d.jsxs(PD,{children:[d.jsx(kD,{asChild:!0,children:d.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-chain-selector",children:d.jsx(Yn,{symbol:O.symbol,iconColor:O.iconColor,size:"sm"})})}),d.jsx(cI,{align:"end",className:"w-48",children:E9.map(w=>d.jsxs(J6,{onClick:()=>$(w.chainId),className:"gap-2","data-testid":`menu-chain-${w.symbol.toLowerCase()}`,children:[d.jsx(Yn,{symbol:w.symbol,iconColor:w.iconColor,size:"sm"}),w.name,w.chainId===f&&d.jsx("span",{className:"ml-auto text-primary",children:""})]},w.chainId))})]})]})}),d.jsx("div",{className:"flex-1 relative bg-muted/30",children:l?x?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(mh,{className:"mx-auto h-16 w-16 text-destructive/50 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cannot Load DApp"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"This DApp cannot be embedded due to security restrictions. Open it externally and use WalletConnect to connect your VaultKey wallet."}),F&&d.jsxs("div",{className:"text-xs bg-muted p-2 rounded mb-4",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address to connect: "}),d.jsxs("span",{className:"font-mono",children:[F.address.slice(0,10),"...",F.address.slice(-8)]})]}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs(Te,{variant:"outline",onClick:b,children:[d.jsx(dx,{className:"mr-2 h-4 w-4"}),"Open in New Tab"]}),d.jsx(Te,{variant:"outline",asChild:!0,children:d.jsx(dl,{href:"/dapps",children:"Back to DApps"})})]})]})}):d.jsxs(d.Fragment,{children:[m&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:d.jsx(m1,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),d.jsx("iframe",{ref:C,src:l,className:"w-full h-full border-0",onLoad:R,onError:q,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox","data-testid":"iframe-dapp"})]}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md p-6",children:[d.jsx(mA,{className:"mx-auto h-16 w-16 text-muted-foreground/30 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"DApp Browser"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Browse decentralized applications. For best compatibility, connect to DApps using WalletConnect."}),F&&d.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["Connected: ",F.address.slice(0,8),"...",F.address.slice(-6)," (",O.name,")"]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"PancakeSwap",url:"pancakeswap.finance"},{name:"Uniswap",url:"app.uniswap.org"},{name:"Aave",url:"app.aave.com"},{name:"1inch",url:"app.1inch.io"}].map(w=>d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>{c("https://"+w.url),u("https://"+w.url),y(!0)},"data-testid":`quick-${w.name.toLowerCase()}`,children:w.name},w.name))})]})})})]})}var $U="Progress",OU=100,[d3t,V5t]=Zi($U),[f3t,h3t]=d3t($U),Dbe=B.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=p3t,...a}=t;(s||s===0)&&!MY(s)&&console.error(m3t(`${s}`,"Progress"));const o=MY(s)?s:OU;n!==null&&!$Y(n,o)&&console.error(g3t(`${n}`,"Progress"));const c=$Y(n,o)?n:null,l=iP(c)?i(c,o):void 0;return d.jsx(f3t,{scope:r,value:c,max:o,children:d.jsx(Qt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":iP(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":Lbe(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});Dbe.displayName=$U;var Ube="ProgressIndicator",zbe=B.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=h3t(Ube,r);return d.jsx(Qt.div,{"data-state":Lbe(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});zbe.displayName=Ube;function p3t(t,e){return`${Math.round(t/e*100)}%`}function Lbe(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function iP(t){return typeof t=="number"}function MY(t){return iP(t)&&!isNaN(t)&&t>0}function $Y(t,e){return iP(t)&&!isNaN(t)&&t<=e&&t>=0}function m3t(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${OU}\`.`}function g3t(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${OU} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Vbe=Dbe,b3t=zbe;const Hbe=B.forwardRef(({className:t,value:e,...r},n)=>d.jsx(Vbe,{ref:n,className:jt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(b3t,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Hbe.displayName=Vbe.displayName;const y3t={BTC:"bitcoin",ETH:"ethereum",BNB:"binancecoin",SOL:"solana",TRX:"tron",MATIC:"matic-network",AVAX:"avalanche-2",ARB:"arbitrum"},Cb="https://cdn.jsdelivr.net/npm/cryptocurrency-icons@0.16.1/128/color",OY="https://assets.coingecko.com/coins/images",C9={bitcoin:`${Cb}/btc.png`,ethereum:`${Cb}/eth.png`,tether:`${Cb}/usdt.png`,binancecoin:`${Cb}/bnb.png`,solana:`${OY}/4128/small/solana.png`,"usd-coin":`${Cb}/usdc.png`,tron:`${Cb}/trx.png`,"staked-ether":`${OY}/13442/small/steth_logo.png`},v3t={"tether-bsc":"tether","tether-tron":"tether","tether-ethereum":"tether","usd-coin-bsc":"usd-coin","usd-coin-ethereum":"usd-coin","usd-coin-solana":"usd-coin","staked-ether-ethereum":"staked-ether"};function _9(t,e){if(e)return e;if(C9[t])return C9[t];const r=v3t[t];if(r&&C9[r])return C9[r]}const D_=AR;function x3t(t){return new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function BY(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:""}function w3t(){var L;const t=bte(),{chainId:e,tokenId:r}=t,{toast:n}=Qs(),[,s]=Ou(),{chains:i,visibleWallets:a,customTokens:o,topAssets:c,refreshWalletBalance:l,tokenBalances:u,customTokenBalances:f}=Yi(),[h,m]=B.useState({}),[y,x]=B.useState(!1),[k,C]=B.useState([]),[I,_]=B.useState(!1),[O,F]=B.useState([]),D=i.find(Q=>Q.id===e),j=a.find(Q=>Q.chainId===e),T=r==="native"||r===(D==null?void 0:D.symbol),R=T?null:c.find(Q=>Q.id===r),q=!!R&&!!t1[R.id],$=!T&&!q?o.find(Q=>Q.id===r||Q.contractAddress.toLowerCase()===(r==null?void 0:r.toLowerCase())):null,b=T?D==null?void 0:D.symbol:((L=R==null?void 0:R.symbol)==null?void 0:L.toUpperCase())||($==null?void 0:$.symbol),w=T?D==null?void 0:D.name:(R==null?void 0:R.name)||($==null?void 0:$.name),p=T?(j==null?void 0:j.balance)||"0":q&&r?u[r]||"0":$&&f[$.id]||"0",g=$==null?void 0:$.contractAddress,S=b?y3t[b]:void 0,N=R||(S?c.find(Q=>Q.id===S):void 0),P=(N==null?void 0:N.currentPrice)||(b?h[b]:0)||0,A=(N==null?void 0:N.priceChangePercentage24h)||0,v=parseFloat(p)*P;B.useEffect(()=>{Hy().then(m).catch(console.error)},[b]),B.useEffect(()=>{if(!j||!D)return;(async()=>{_(!0);try{const U=[{id:j.id,address:j.address,chainId:D.id,numericChainId:D.chainId,chainSymbol:D.symbol,blockExplorerUrl:D.blockExplorer}],J=await Zle(U),Z=j.address.toLowerCase(),re=J.filter(G=>{var ce,pe,_e,ke;const z=G.type==="send"&&((ce=G.fromAddress)==null?void 0:ce.toLowerCase())===Z,se=G.type==="receive"&&((pe=G.toAddress)==null?void 0:pe.toLowerCase())===Z;return!z&&!se?!1:T?!G.isTokenTransfer:$?G.isTokenTransfer&&((_e=G.contractAddress)==null?void 0:_e.toLowerCase())===$.contractAddress.toLowerCase():R?G.isTokenTransfer&&((ke=G.tokenSymbol)==null?void 0:ke.toUpperCase())===(b==null?void 0:b.toUpperCase()):!1});C(re)}catch(U){console.error("Failed to fetch transactions:",U)}finally{_(!1)}})()},[j==null?void 0:j.id,D==null?void 0:D.id,r,T,$,R,b]),B.useEffect(()=>{if(!e)return;const Q=Dfe.subscribe(U=>{const J=U.filter(Z=>{var re;return Z.chainId!==e?!1:T?Z.tokenSymbol===(D==null?void 0:D.symbol):((re=Z.tokenSymbol)==null?void 0:re.toUpperCase())===(b==null?void 0:b.toUpperCase())});F(J)});return()=>Q()},[e,D==null?void 0:D.symbol,T,b]);const E=async()=>{if(j){x(!0);try{await l(j.id);const Q=await Hy();m(Q),n({title:"Refreshed",description:"Balance updated successfully"})}catch{n({title:"Error",description:"Failed to refresh",variant:"destructive"})}finally{x(!1)}}},M=(Q,U)=>{navigator.clipboard.writeText(Q),n({title:"Copied",description:`${U} copied to clipboard`})};return!D||!j?d.jsxs("div",{className:"p-4",children:[d.jsx(dl,{href:"/",children:d.jsxs(Te,{variant:"ghost",size:"sm",children:[d.jsx(s6,{className:"h-4 w-4 mr-2"}),"Back"]})}),d.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Token not found"})]}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("div",{className:"sticky top-0 z-50 bg-background border-b",children:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>s(`/?chain=${e}&wallet=${(j==null?void 0:j.id)||""}`),"data-testid":"button-back",children:d.jsx(s6,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[T?d.jsx(Yn,{symbol:b||"",size:"md"}):_9(r||"",R==null?void 0:R.image)?d.jsx("img",{src:_9(r||"",R==null?void 0:R.image),alt:w||"",className:"h-8 w-8 rounded-full bg-muted"}):d.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-sm font-bold",children:(b||"").slice(0,2)}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-semibold",children:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b})]})]})]}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:E,disabled:y,"data-testid":"button-refresh",children:d.jsx(m1,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})}),d.jsxs("div",{className:"p-4 space-y-6",children:[d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"flex justify-center mb-4",children:T?d.jsx(Yn,{symbol:b||"",size:"lg"}):_9(r||"",R==null?void 0:R.image)?d.jsx("img",{src:_9(r||"",R==null?void 0:R.image),alt:w||"",className:"h-16 w-16 rounded-full bg-muted"}):d.jsx("div",{className:"h-16 w-16 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-2xl font-bold",children:(b||"").slice(0,2)})}),d.jsxs("h2",{className:"text-3xl font-bold","data-testid":"text-token-balance",children:[D_(p)," ",b]}),d.jsx("p",{className:"text-xl text-muted-foreground","data-testid":"text-token-value",children:Sd(v)}),P>0&&d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:Sd(P)}),d.jsxs(nr,{variant:A>=0?"default":"destructive",className:"text-xs",children:[A>=0?d.jsx(Y2e,{className:"h-3 w-3 mr-1"}):d.jsx(Q2e,{className:"h-3 w-3 mr-1"}),A>=0?"+":"",A.toFixed(2),"%"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(dl,{href:`/transfer?type=send&chain=${e}&token=${T?"native":($==null?void 0:$.id)||r}`,children:d.jsxs(Te,{className:"w-full h-12 rounded-xl","data-testid":"button-send-token",children:[d.jsx(lx,{className:"h-5 w-5 mr-2"}),"Send"]})}),d.jsx(dl,{href:`/transfer?type=receive&chain=${e}`,children:d.jsxs(Te,{className:"w-full h-12 rounded-xl",variant:"outline","data-testid":"button-receive-token",children:[d.jsx(n6,{className:"h-5 w-5 mr-2"}),"Receive"]})})]}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-3",children:[d.jsx("h3",{className:"font-semibold",children:"Token Info"}),d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Network"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{symbol:D.symbol,size:"sm"}),d.jsx("span",{children:D.name})]})]}),g&&d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contract"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono text-sm",children:BY(g)}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>M(g,"Contract address"),children:d.jsx(Oo,{className:"h-3 w-3"})})]})]}),j.address&&d.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[d.jsx("span",{className:"text-muted-foreground",children:"Your Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono text-sm",children:BY(j.address)}),d.jsx(Te,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>M(j.address,"Address"),children:d.jsx(Oo,{className:"h-3 w-3"})})]})]}),$&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Decimals"}),d.jsx("span",{children:$.decimals})]})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-3",children:"Recent Activity"}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4",children:[O.length>0&&d.jsx("div",{className:"space-y-3 mb-4",children:O.map(Q=>{var J;const U=Q.requiredConfirmations>0?Math.min(Q.currentConfirmations/Q.requiredConfirmations*100,100):0;return d.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900",children:Q.status==="confirmed"?d.jsx(C0,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):Q.status==="failed"?d.jsx(ore,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):d.jsx(fl,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 animate-spin"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:Q.status==="pending"?"Broadcasting...":Q.status==="confirming"?"Confirming...":Q.status==="confirmed"?"Confirmed":"Failed"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[(J=Q.txHash)==null?void 0:J.slice(0,10),"..."]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-medium",children:["-",D_(Q.amount)," ",Q.tokenSymbol]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Q.status==="confirmed"?"Complete":`${Q.currentConfirmations}/${Q.requiredConfirmations} confirmations`})]})]}),Q.status!=="confirmed"&&Q.status!=="failed"&&d.jsx(Hbe,{value:U,className:"h-2"})]},Q.id)})}),I?d.jsx("p",{className:"text-center text-muted-foreground py-6",children:"Loading transactions..."}):k.length===0&&O.length===0?d.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No transactions yet"}):k.length>0?d.jsx("div",{className:"space-y-3",children:k.slice(0,5).map(Q=>{var U;return d.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0 cursor-pointer hover-elevate rounded-md px-2 -mx-2",onClick:()=>{const J=new URLSearchParams({hash:Q.txHash,chain:e||"",type:Q.type,amount:Q.amount,token:Q.tokenSymbol,from:Q.fromAddress,to:Q.toAddress,time:Q.timestamp,status:Q.status});s(`/transaction?${J.toString()}`)},"data-testid":`transaction-${(U=Q.txHash)==null?void 0:U.slice(0,8)}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${Q.type==="receive"?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:Q.type==="receive"?d.jsx(n6,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):d.jsx(lx,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium capitalize",children:Q.type}),d.jsx("p",{className:"text-xs text-muted-foreground",children:x3t(Q.timestamp)})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:`font-medium ${Q.type==="receive"?"text-green-600":""}`,children:[Q.type==="receive"?"+":"-",D_(Q.amount)," ",Q.tokenSymbol]})})]},Q.txHash)})}):null]})})]})]})]})}function A3t(){const{toast:t}=Qs(),e=new URLSearchParams(window.location.search),r=e.get("hash"),n=e.get("chain"),s=e.get("type"),i=e.get("amount"),a=e.get("token"),o=e.get("from"),c=e.get("to"),l=e.get("time"),u=e.get("status"),f=n?parseInt(n.replace("chain-","")):0,h=Ui[f],m=(h==null?void 0:h.blockExplorer)||"https://etherscan.io",y=(_,O)=>{navigator.clipboard.writeText(_),t({title:"Copied",description:`${O} copied to clipboard`})},x=_=>_?`${_.slice(0,10)}...${_.slice(-8)}`:"Unknown",k=_=>_?new Date(_).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Unknown",C=()=>{switch(u){case"confirmed":return d.jsx(JT,{className:"w-5 h-5 text-green-500"});case"pending":return d.jsx(fl,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"failed":return d.jsx(ore,{className:"w-5 h-5 text-red-500"});default:return d.jsx(L2e,{className:"w-5 h-5 text-muted-foreground"})}},I=()=>{switch(u){case"confirmed":return"bg-green-500/10 text-green-600 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"failed":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-muted text-muted-foreground"}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),"data-testid":"button-back",children:d.jsx(s6,{className:"w-5 h-5"})}),d.jsx("h1",{className:"text-lg font-semibold",children:"Transaction Details"})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col items-center py-6",children:[d.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${s==="receive"?"bg-green-500/10":"bg-red-500/10"}`,children:s==="receive"?d.jsx(n6,{className:"w-8 h-8 text-green-500"}):d.jsx(lx,{className:"w-8 h-8 text-red-500"})}),d.jsxs("h2",{className:`text-2xl font-bold ${s==="receive"?"text-green-500":"text-red-500"}`,"data-testid":"text-amount",children:[s==="receive"?"+":"-",i," ",a]}),d.jsx("p",{className:"text-muted-foreground capitalize mt-1","data-testid":"text-type",children:s==="receive"?"Received":"Sent"})]}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status"}),d.jsx(nr,{variant:"outline",className:I(),children:d.jsxs("span",{className:"flex items-center gap-1.5",children:[C(),d.jsx("span",{className:"capitalize",children:u||"Unknown"})]})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Date"}),d.jsx("span",{className:"text-sm","data-testid":"text-date",children:k(l)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Network"}),d.jsx("span",{"data-testid":"text-network",children:(h==null?void 0:h.name)||"Unknown"})]})]})}),d.jsx(Gt,{children:d.jsxs(er,{className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"From"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm","data-testid":"text-from",children:x(o)}),o&&d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>y(o,"Address"),"data-testid":"button-copy-from",children:d.jsx(Oo,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"To"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm","data-testid":"text-to",children:x(c)}),c&&d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>y(c,"Address"),"data-testid":"button-copy-to",children:d.jsx(Oo,{className:"w-4 h-4"})})]})]})]})}),d.jsx(Gt,{children:d.jsx(er,{className:"p-4",children:d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground text-sm",children:"Transaction Hash"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-mono text-sm truncate flex-1 mr-2","data-testid":"text-hash",children:r?`${r.slice(0,16)}...${r.slice(-12)}`:"Unknown"}),d.jsx("div",{className:"flex gap-1",children:r&&d.jsxs(d.Fragment,{children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>y(r,"Transaction hash"),"data-testid":"button-copy-hash",children:d.jsx(Oo,{className:"w-4 h-4"})}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>window.open(`${m}/tx/${r}`,"_blank"),"data-testid":"button-explorer",children:d.jsx(dx,{className:"w-4 h-4"})})]})})]})]})})}),d.jsxs(Te,{variant:"outline",className:"w-full",onClick:()=>window.open(`${m}/tx/${r}`,"_blank"),"data-testid":"button-view-explorer",children:[d.jsx(dx,{className:"w-4 h-4 mr-2"}),"View on Block Explorer"]})]})]})}function S3t(){const[,t]=Ou();Yi();const[e,r]=B.useState(""),[n,s]=B.useState(""),[i,a]=B.useState(null),[o,c]=B.useState(!1),[l,u]=B.useState(!1),[f,h]=B.useState(!1),[m,y]=B.useState(!1),x=B.useRef(null);B.useEffect(()=>()=>{x.current&&x.current.close()},[]);const[k,C]=B.useState(null),I=async()=>{h(!0),C(null);try{const T=await fetch("/api/bridge/create",{method:"POST"});if(!T.ok)throw new Error("Failed to create bridge session");const R=await T.json();r(R.sessionId),a("desktop"),O(R.sessionId,"desktop")}catch(T){console.error("Failed to create session:",T),C(T.message||"Failed to create session. Please try again."),h(!1)}},_=()=>{n.trim()&&(h(!0),C(null),r(n.toUpperCase()),a("mobile"),O(n.toUpperCase(),"mobile"))},O=(T,R)=>{const q=window.location.protocol==="https:"?"wss:":"ws:",$=new WebSocket(`${q}//${window.location.host}/ws/bridge?sessionId=${T}&role=${R}`);$.onopen=()=>{c(!0),h(!1)},$.onmessage=b=>{try{const w=JSON.parse(b.data);w.type==="desktop_connected"||w.type==="mobile_connected"?u(!0):w.type==="desktop_disconnected"||w.type==="mobile_disconnected"?u(!1):w.type==="connected"&&c(!0),R==="desktop"&&w.from==="mobile"&&w.type==="pico_command"&&F(w,$),R==="mobile"&&w.from==="desktop"&&w.type==="pico_response"&&window.dispatchEvent(new CustomEvent("bridge_pico_response",{detail:w}))}catch(w){console.error("WebSocket message error:",w)}},$.onclose=()=>{c(!1),u(!1)},$.onerror=()=>{h(!1),C("Failed to connect. Please check your network and try again.")},x.current=$},F=async(T,R)=>{try{const{piWallet:q}=await Gm(async()=>{const{piWallet:b}=await Promise.resolve().then(()=>pFe);return{piWallet:b}},void 0);let $;switch(T.command){case"ping":$=await q.ping();break;case"getStatus":$=await q.getStatus();break;case"unlock":$=await q.unlock(T.pin);break;case"sendCommand":$=await q.sendCommand(T.cmd,T.params);break;default:$={error:"Unknown command"}}R.send(JSON.stringify({type:"pico_response",requestId:T.requestId,response:$}))}catch(q){R.send(JSON.stringify({type:"pico_response",requestId:T.requestId,error:q.message}))}},D=()=>{navigator.clipboard.writeText(e),y(!0),setTimeout(()=>y(!1),2e3)},j=`${window.location.origin}/bridge?join=${e}`;return B.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("join");R&&s(R)},[]),d.jsx("div",{className:"flex-1 overflow-auto p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Mobile Bridge"}),d.jsx("p",{className:"text-muted-foreground",children:"Connect your mobile device to access your Pico hardware wallet"})]}),k&&d.jsx(hn,{variant:"destructive",children:d.jsx(pn,{children:k})}),o?d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsxs(Mn,{className:"flex items-center justify-between gap-2",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[i==="desktop"?d.jsx(NL,{className:"h-5 w-5"}):d.jsx(fx,{className:"h-5 w-5"}),i==="desktop"?"Desktop Bridge Active":"Mobile Connected"]}),d.jsx(nr,{variant:l?"default":"secondary",children:l?d.jsxs(d.Fragment,{children:[d.jsx(gre,{className:"h-3 w-3 mr-1"})," Paired"]}):d.jsxs(d.Fragment,{children:[d.jsx(t3e,{className:"h-3 w-3 mr-1"})," Waiting"]})})]})}),d.jsxs(er,{className:"space-y-4",children:[i==="desktop"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Session Code:"}),d.jsx("code",{className:"text-2xl font-mono font-bold tracking-widest","data-testid":"text-session-code",children:e}),d.jsx(Te,{size:"icon",variant:"ghost",onClick:D,"data-testid":"button-copy-code",children:m?d.jsx(Ma,{className:"h-4 w-4"}):d.jsx(Oo,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"bg-white p-4 rounded-lg",children:d.jsx(mD,{value:j,size:180})})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan this QR code with your mobile device or enter the code manually"})]}),l?d.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400",children:[d.jsx(Ma,{className:"h-5 w-5"}),d.jsx("span",{children:"Mobile device connected! You can now use the wallet on your phone."})]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[d.jsx(fl,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Waiting for mobile device to connect..."})]})]}),i==="mobile"&&d.jsx("div",{className:"text-center space-y-4",children:l?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400",children:[d.jsx(Ma,{className:"h-5 w-5"}),d.jsx("span",{children:"Connected to desktop!"})]}),d.jsx(Te,{onClick:()=>t("/"),"data-testid":"button-go-dashboard",children:"Go to Dashboard"})]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[d.jsx(fl,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Waiting for desktop connection..."})]})})]})]}):d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(Gt,{children:[d.jsxs(jn,{children:[d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(NL,{className:"h-5 w-5"}),"Desktop (Host)"]}),d.jsx(n1,{children:"Connect your Pico to this computer and create a session"})]}),d.jsx(er,{children:d.jsxs(Te,{onClick:I,disabled:f,className:"w-full","data-testid":"button-create-session",children:[f?d.jsx(fl,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Bridge Session"]})})]}),d.jsxs(Gt,{children:[d.jsxs(jn,{children:[d.jsxs(Mn,{className:"flex items-center gap-2",children:[d.jsx(fx,{className:"h-5 w-5"}),"Mobile (Client)"]}),d.jsx(n1,{children:"Enter the session code from your desktop"})]}),d.jsxs(er,{className:"space-y-3",children:[d.jsx(ar,{placeholder:"Session Code (e.g., ABC123)",value:n,onChange:T=>s(T.target.value.toUpperCase()),maxLength:6,"data-testid":"input-session-code"}),d.jsxs(Te,{onClick:_,disabled:f||!n.trim(),className:"w-full","data-testid":"button-join-session",children:[f?d.jsx(fl,{className:"h-4 w-4 animate-spin mr-2"}):null,"Join Session"]})]})]})]}),d.jsxs(Gt,{children:[d.jsx(jn,{children:d.jsx(Mn,{children:"How It Works"})}),d.jsxs(er,{className:"space-y-3 text-sm text-muted-foreground",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"1."})," On your desktop/laptop, connect your Raspberry Pi Pico via USB"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"2."})," Create a bridge session on the desktop"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"3."})," Scan the QR code or enter the session code on your mobile device"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"4."})," Your mobile app will communicate with the Pico through the desktop"]})]})]})]})})}function P3t(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(Gt,{className:"w-full max-w-md mx-4",children:d.jsxs(er,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(R4,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function k3t(){const[t]=Ou();return B.useRef(null),B.useEffect(()=>{const e=document.querySelector("main");e&&e.scrollTo(0,0),window.scrollTo(0,0)},[t]),null}function I3t(){return d.jsxs(d.Fragment,{children:[d.jsx(k3t,{}),d.jsxs(nwe,{children:[d.jsx(Mc,{path:"/",component:UWe}),d.jsx(Mc,{path:"/wallet/:chainId/token/:tokenId",component:w3t}),d.jsx(Mc,{path:"/transaction",component:A3t}),d.jsx(Mc,{path:"/transfer",component:yXe}),d.jsx(Mc,{path:"/chains",component:PXe}),d.jsx(Mc,{path:"/settings",component:G2t}),d.jsx(Mc,{path:"/setup",component:e3t}),d.jsx(Mc,{path:"/manage-crypto",component:n3t}),d.jsx(Mc,{path:"/dapps",component:o3t}),d.jsx(Mc,{path:"/dapp-browser",component:u3t}),d.jsx(Mc,{path:"/bridge",component:S3t}),d.jsx(Mc,{component:P3t})]})]})}function N3t(){const t={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return d.jsx(Pwe,{client:Uwe,children:d.jsx(F5e,{children:d.jsx(UDe,{children:d.jsxs(tne,{children:[d.jsxs(I5e,{style:t,children:[d.jsxs("div",{className:"flex h-screen w-full",children:[d.jsx(LDe,{}),d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsxs("header",{className:"flex h-14 items-center justify-between gap-4 border-b border-border px-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($s,{className:"h-5 w-5 text-primary"}),d.jsx("span",{className:"font-semibold text-lg",children:"VaultKey"})]}),d.jsx(pqe,{})]}),d.jsx("main",{className:"flex-1 overflow-auto pb-28 md:pb-0",children:d.jsx(I3t,{})})]})]}),d.jsx(Qqe,{})]}),d.jsx(Jqe,{}),d.jsx(F3e,{})]})})})})}ote(document.getElementById("root")).render(d.jsx(N3t,{}));export{FM as $,Ia as A,PM as B,xw as C,wBe as D,hu as E,Bh as F,W1 as G,Li as H,wM as I,ww as J,F6 as K,yh as L,jBe as M,jd as N,is as O,Lt as P,ur as Q,mR as R,MBe as S,P1 as T,kce as U,Bn as V,nFe as W,Uk as X,qs as Y,sFe as Z,Yp as _,uf as a,n5 as a$,vl as a0,oFe as a1,aFe as a2,un as a3,Ta as a4,m6t as a5,b6t as a6,g6t as a7,FBe as a8,DBe as a9,Hq as aA,tC as aB,s5 as aC,FOe as aD,qMe as aE,eBe as aF,Bk as aG,Wi as aH,Sx as aI,mc as aJ,Gg as aK,ROe as aL,uce as aM,D6 as aN,Ba as aO,Fh as aP,hce as aQ,ZTe as aR,TM as aS,RBe as aT,T6 as aU,gq as aV,rae as aW,nae as aX,dm as aY,Eoe as aZ,r6t as a_,E1 as aa,UOe as ab,lh as ac,HOe as ad,VOe as ae,dR as af,pce as ag,Dk as ah,rS as ai,DOe as aj,Io as ak,o6t as al,Nd as am,uR as an,cae as ao,Hf as ap,Kq as aq,Yq as ar,tje as as,Fp as at,dBe as au,ZA as av,I1 as aw,Ed as ax,Rk as ay,z6 as az,yw as b,R6 as b0,Tn as b1,HTe as b2,qTe as b3,t5 as b4,cC as b5,mOe as b6,oae as b7,WTe as b8,Hd as b9,zTe as bA,t6t as bB,lje as bC,d6t as bD,h6t as bE,p6t as bF,tae as bG,pOe as ba,vae as bb,kk as bc,WA as bd,y6t as be,Vi as bf,l6t as bg,c6t as bh,v6t as bi,Pk as bj,Coe as bk,Joe as bl,u6t as bm,Poe as bn,Sk as bo,qF as bp,f6t as bq,lg as br,vM as bs,cje as bt,yae as bu,_k as bv,mi as bw,e6t as bx,Oh as by,e5 as bz,gw as c,ts as d,eR as e,he as f,tn as g,xt as h,wt as i,jr as j,On as k,aae as l,ds as m,Ry as n,UTe as o,q1 as p,XA as q,Hi as r,bw as s,Oa as t,Jt as u,vce as v,WOe as w,lt as x,YMe as y,$h as z};
